{"version":3,"file":"core.mjs","sources":["../../../dist-dev/tsc-out/packages/qwik/src/core/version.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/qdev.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/log.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/types.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/error/error.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/qrl/qrl-utils.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/markers.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/platform/platform.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/element.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/promises.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/error/assert.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-locale.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/types.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/vnode-data-types.js","../../../dist-dev/tsc-out/packages/qwik/src/core/client/util-mapArray.js","../../../dist-dev/tsc-out/packages/qwik/src/core/client/vnode-namespace.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/maps.js","../../../dist-dev/tsc-out/packages/qwik/src/core/reactive-primitives/types.js","../../../dist-dev/tsc-out/packages/qwik/src/core/reactive-primitives/impl/signal-impl.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/constants.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/event-names.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/flyweight.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/jsx/props-proxy.js","../../../dist-dev/tsc-out/packages/qwik/src/core/reactive-primitives/subscriber.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/utils/tracker.js","../../../dist-dev/tsc-out/packages/qwik/src/core/reactive-primitives/impl/computed-signal-impl.js","../../../dist-dev/tsc-out/packages/qwik/src/core/reactive-primitives/impl/async-computed-signal-impl.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/qrl/implicit_dollar.js","../../../dist-dev/tsc-out/packages/qwik/src/core/reactive-primitives/impl/serializer-signal-impl.js","../../../dist-dev/tsc-out/packages/qwik/src/core/reactive-primitives/signal-api.js","../../../dist-dev/tsc-out/packages/qwik/src/core/reactive-primitives/signal.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/reactive-primitives/internal-api.js","../../../dist-dev/tsc-out/packages/qwik/src/core/reactive-primitives/impl/wrapped-signal-impl.js","../../../dist-dev/tsc-out/packages/qwik/src/core/reactive-primitives/cleanup.js","../../../dist-dev/tsc-out/packages/qwik/src/core/client/vnode-impl.js","../../../dist-dev/tsc-out/packages/qwik/src/core/client/vnode.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-core.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-sequential-scope.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-context.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/error/error-handling.js","../../../dist-dev/tsc-out/packages/qwik/src/core/reactive-primitives/subscription-data.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-lexical-scope.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/jsx/bind-handlers.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/jsx/jsx-node.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/jsx/jsx-internal.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/jsx/jsx-runtime.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-task.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-resource.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/jsx/slot.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/serdes/constants.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/serdes/qrl-to-string.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/serdes/allocate.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/qrl/qrl.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/component-execution.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/jsx/utils.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/character-escaping.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/jsx-filename.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/prop.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/scoped-styles.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/unitless_number.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/hash_code.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/styles.js","../../../dist-dev/tsc-out/packages/qwik/src/core/client/vnode-diff.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/scheduler-rules.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/platform/next-tick.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/scheduler-document-position.js","../../../dist-dev/tsc-out/packages/qwik/src/core/client/chore-array.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/scheduler.js","../../../dist-dev/tsc-out/packages/qwik/src/core/client/run-qrl.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared-types.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/qrl/inlined-fn.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/serdes/serialize.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/serdes/serialization-context.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/shared-container.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/async-generator.js","../../../dist-dev/tsc-out/packages/qwik/src/core/ssr/ssr-render-component.js","../../../dist-dev/tsc-out/packages/qwik/src/core/ssr/ssr-render-jsx.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/serdes/inflate.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/serdes/deser-proxy.js","../../../dist-dev/tsc-out/packages/qwik/src/core/client/process-vnode-data.js","../../../dist-dev/tsc-out/packages/qwik/src/core/client/dom-container.js","../../../dist-dev/tsc-out/packages/qwik/src/core/reactive-primitives/utils.js","../../../dist-dev/tsc-out/packages/qwik/src/core/debug.js","../../../dist-dev/tsc-out/packages/qwik/src/core/reactive-primitives/impl/store.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/serdes/can-serialize.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/serdes/dump-state.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/serdes/preprocess-state.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/serdes/serdes.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/serdes/verify.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/qrl/qrl-class.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/qrl/qrl.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/component.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/qrl/qrl.public.dollar.js","../../../dist-dev/tsc-out/packages/qwik/src/core/client/dom-render.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-store.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/unique-index-generator.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-id.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-env-data.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/utils/scoped-stylesheet.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-styles.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-on.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-signal.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-computed.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-serializer.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-visible-task.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-resource-dollar.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-task-dollar.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-visible-task-dollar.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-async-computed.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-error-boundary.js","../../../dist-dev/tsc-out/packages/qwik/src/core/shared/prefetch-service-worker/prefetch.js","../../../dist-dev/tsc-out/packages/qwik/src/core/index.js"],"sourcesContent":["/**\n * QWIK_VERSION\n *\n * @public\n */\nexport const version = globalThis.QWIK_VERSION;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVyc2lvbi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS92ZXJzaW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFDSCxNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUksVUFBa0IsQ0FBQyxZQUFzQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBRV0lLX1ZFUlNJT05cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCB2ZXJzaW9uID0gKGdsb2JhbFRoaXMgYXMgYW55KS5RV0lLX1ZFUlNJT04gYXMgc3RyaW5nO1xuIl19","// same as isDev but separate so we can test\nexport const qDev = globalThis.qDev !== false;\nexport const qInspector = globalThis.qInspector === true;\nexport const qSerialize = globalThis.qSerialize !== false;\nexport const qDynamicPlatform = globalThis.qDynamicPlatform !== false;\nexport const qTest = globalThis.qTest === true;\nexport const qRuntimeQrl = globalThis.qRuntimeQrl === true;\nexport const seal = (obj) => {\n    if (qDev) {\n        Object.seal(obj);\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicWRldi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvdXRpbHMvcWRldi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSw0Q0FBNEM7QUFDNUMsTUFBTSxDQUFDLE1BQU0sSUFBSSxHQUFHLFVBQVUsQ0FBQyxJQUFJLEtBQUssS0FBSyxDQUFDO0FBQzlDLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxVQUFVLENBQUMsVUFBVSxLQUFLLElBQUksQ0FBQztBQUN6RCxNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsVUFBVSxDQUFDLFVBQVUsS0FBSyxLQUFLLENBQUM7QUFDMUQsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsVUFBVSxDQUFDLGdCQUFnQixLQUFLLEtBQUssQ0FBQztBQUN0RSxNQUFNLENBQUMsTUFBTSxLQUFLLEdBQUcsVUFBVSxDQUFDLEtBQUssS0FBSyxJQUFJLENBQUM7QUFDL0MsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLFVBQVUsQ0FBQyxXQUFXLEtBQUssSUFBSSxDQUFDO0FBRTNELE1BQU0sQ0FBQyxNQUFNLElBQUksR0FBRyxDQUFDLEdBQVEsRUFBRSxFQUFFO0lBQy9CLElBQUksSUFBSSxFQUFFLENBQUM7UUFDVCxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ25CLENBQUM7QUFDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzYW1lIGFzIGlzRGV2IGJ1dCBzZXBhcmF0ZSBzbyB3ZSBjYW4gdGVzdFxuZXhwb3J0IGNvbnN0IHFEZXYgPSBnbG9iYWxUaGlzLnFEZXYgIT09IGZhbHNlO1xuZXhwb3J0IGNvbnN0IHFJbnNwZWN0b3IgPSBnbG9iYWxUaGlzLnFJbnNwZWN0b3IgPT09IHRydWU7XG5leHBvcnQgY29uc3QgcVNlcmlhbGl6ZSA9IGdsb2JhbFRoaXMucVNlcmlhbGl6ZSAhPT0gZmFsc2U7XG5leHBvcnQgY29uc3QgcUR5bmFtaWNQbGF0Zm9ybSA9IGdsb2JhbFRoaXMucUR5bmFtaWNQbGF0Zm9ybSAhPT0gZmFsc2U7XG5leHBvcnQgY29uc3QgcVRlc3QgPSBnbG9iYWxUaGlzLnFUZXN0ID09PSB0cnVlO1xuZXhwb3J0IGNvbnN0IHFSdW50aW1lUXJsID0gZ2xvYmFsVGhpcy5xUnVudGltZVFybCA9PT0gdHJ1ZTtcblxuZXhwb3J0IGNvbnN0IHNlYWwgPSAob2JqOiBhbnkpID0+IHtcbiAgaWYgKHFEZXYpIHtcbiAgICBPYmplY3Quc2VhbChvYmopO1xuICB9XG59O1xuXG5kZWNsYXJlIGNvbnN0IGdsb2JhbFRoaXM6IGFueTtcbiJdfQ==","import { qDev, qTest } from './qdev';\nconst STYLE = qDev\n    ? `background: #564CE0; color: white; padding: 2px 3px; border-radius: 2px; font-size: 0.8em;`\n    : '';\nexport const logError = (message, ...optionalParams) => {\n    return createAndLogError(false, message, ...optionalParams);\n};\nexport const throwErrorAndStop = (message, ...optionalParams) => {\n    const error = createAndLogError(false, message, ...optionalParams);\n    // eslint-disable-next-line no-debugger\n    debugger;\n    throw error;\n};\nexport const logErrorAndStop = (message, ...optionalParams) => {\n    const err = createAndLogError(qDev, message, ...optionalParams);\n    // eslint-disable-next-line no-debugger\n    debugger;\n    return err;\n};\nconst _printed = /*#__PURE__*/ new Set();\nexport const logOnceWarn = (message, ...optionalParams) => {\n    if (qDev) {\n        const key = 'warn' + String(message);\n        if (!_printed.has(key)) {\n            _printed.add(key);\n            logWarn(message, ...optionalParams);\n        }\n    }\n};\nexport const logWarn = (message, ...optionalParams) => {\n    if (qDev) {\n        console.warn('%cQWIK WARN', STYLE, message, ...optionalParams);\n    }\n};\nexport const logDebug = (message, ...optionalParams) => {\n    if (qDev) {\n        // eslint-disable-next-line no-console\n        console.debug('%cQWIK', STYLE, message, ...optionalParams);\n    }\n};\nconst createAndLogError = (asyncThrow, message, ...optionalParams) => {\n    const err = message instanceof Error ? message : new Error(message);\n    // display the error message first, then the optional params, and finally the stack trace\n    // the stack needs to be displayed last because the given params will be lost among large stack traces so it will\n    // provide a bad developer experience\n    !qTest && console.error('%cQWIK ERROR', STYLE, err.message, ...optionalParams, err.stack);\n    asyncThrow &&\n        !qTest &&\n        setTimeout(() => {\n            // throwing error asynchronously to avoid breaking the current call stack.\n            // We throw so that the error is delivered to the global error handler for\n            // reporting it to a third-party tools such as Qwik Insights, Sentry or New Relic.\n            throw err;\n        }, 0);\n    return err;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC91dGlscy9sb2cudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFFckMsTUFBTSxLQUFLLEdBQUcsSUFBSTtJQUNoQixDQUFDLENBQUMsNEZBQTRGO0lBQzlGLENBQUMsQ0FBQyxFQUFFLENBQUM7QUFFUCxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxPQUFhLEVBQUUsR0FBRyxjQUFxQixFQUFFLEVBQUU7SUFDbEUsT0FBTyxpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLEdBQUcsY0FBYyxDQUFDLENBQUM7QUFDOUQsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxPQUFhLEVBQUUsR0FBRyxjQUFxQixFQUFTLEVBQUU7SUFDbEYsTUFBTSxLQUFLLEdBQUcsaUJBQWlCLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxHQUFHLGNBQWMsQ0FBQyxDQUFDO0lBQ25FLHVDQUF1QztJQUN2QyxRQUFRLENBQUM7SUFDVCxNQUFNLEtBQUssQ0FBQztBQUNkLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxDQUFDLE9BQWEsRUFBRSxHQUFHLGNBQXFCLEVBQUUsRUFBRTtJQUN6RSxNQUFNLEdBQUcsR0FBRyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsY0FBYyxDQUFDLENBQUM7SUFDaEUsdUNBQXVDO0lBQ3ZDLFFBQVEsQ0FBQztJQUNULE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQyxDQUFDO0FBRUYsTUFBTSxRQUFRLEdBQUcsYUFBYSxDQUFDLElBQUksR0FBRyxFQUFVLENBQUM7QUFFakQsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLENBQUMsT0FBYSxFQUFFLEdBQUcsY0FBcUIsRUFBRSxFQUFFO0lBQ3JFLElBQUksSUFBSSxFQUFFLENBQUM7UUFDVCxNQUFNLEdBQUcsR0FBRyxNQUFNLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDdkIsUUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNsQixPQUFPLENBQUMsT0FBTyxFQUFFLEdBQUcsY0FBYyxDQUFDLENBQUM7UUFDdEMsQ0FBQztJQUNILENBQUM7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsQ0FBQyxPQUFhLEVBQUUsR0FBRyxjQUFxQixFQUFFLEVBQUU7SUFDakUsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUNULE9BQU8sQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsR0FBRyxjQUFjLENBQUMsQ0FBQztJQUNqRSxDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUMsT0FBZ0IsRUFBRSxHQUFHLGNBQXFCLEVBQUUsRUFBRTtJQUNyRSxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ1Qsc0NBQXNDO1FBQ3RDLE9BQU8sQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsR0FBRyxjQUFjLENBQUMsQ0FBQztJQUM3RCxDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxpQkFBaUIsR0FBRyxDQUFDLFVBQW1CLEVBQUUsT0FBYSxFQUFFLEdBQUcsY0FBcUIsRUFBRSxFQUFFO0lBQ3pGLE1BQU0sR0FBRyxHQUFHLE9BQU8sWUFBWSxLQUFLLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFcEUseUZBQXlGO0lBQ3pGLGlIQUFpSDtJQUNqSCxxQ0FBcUM7SUFDckMsQ0FBQyxLQUFLLElBQUksT0FBTyxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUUsR0FBRyxjQUFjLEVBQUUsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBRTFGLFVBQVU7UUFDUixDQUFDLEtBQUs7UUFDTixVQUFVLENBQUMsR0FBRyxFQUFFO1lBQ2QsMEVBQTBFO1lBQzFFLDBFQUEwRTtZQUMxRSxrRkFBa0Y7WUFDbEYsTUFBTSxHQUFHLENBQUM7UUFDWixDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDUixPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHFEZXYsIHFUZXN0IH0gZnJvbSAnLi9xZGV2JztcblxuY29uc3QgU1RZTEUgPSBxRGV2XG4gID8gYGJhY2tncm91bmQ6ICM1NjRDRTA7IGNvbG9yOiB3aGl0ZTsgcGFkZGluZzogMnB4IDNweDsgYm9yZGVyLXJhZGl1czogMnB4OyBmb250LXNpemU6IDAuOGVtO2BcbiAgOiAnJztcblxuZXhwb3J0IGNvbnN0IGxvZ0Vycm9yID0gKG1lc3NhZ2U/OiBhbnksIC4uLm9wdGlvbmFsUGFyYW1zOiBhbnlbXSkgPT4ge1xuICByZXR1cm4gY3JlYXRlQW5kTG9nRXJyb3IoZmFsc2UsIG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbn07XG5cbmV4cG9ydCBjb25zdCB0aHJvd0Vycm9yQW5kU3RvcCA9IChtZXNzYWdlPzogYW55LCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pOiBuZXZlciA9PiB7XG4gIGNvbnN0IGVycm9yID0gY3JlYXRlQW5kTG9nRXJyb3IoZmFsc2UsIG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWRlYnVnZ2VyXG4gIGRlYnVnZ2VyO1xuICB0aHJvdyBlcnJvcjtcbn07XG5cbmV4cG9ydCBjb25zdCBsb2dFcnJvckFuZFN0b3AgPSAobWVzc2FnZT86IGFueSwgLi4ub3B0aW9uYWxQYXJhbXM6IGFueVtdKSA9PiB7XG4gIGNvbnN0IGVyciA9IGNyZWF0ZUFuZExvZ0Vycm9yKHFEZXYsIG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWRlYnVnZ2VyXG4gIGRlYnVnZ2VyO1xuICByZXR1cm4gZXJyO1xufTtcblxuY29uc3QgX3ByaW50ZWQgPSAvKiNfX1BVUkVfXyovIG5ldyBTZXQ8c3RyaW5nPigpO1xuXG5leHBvcnQgY29uc3QgbG9nT25jZVdhcm4gPSAobWVzc2FnZT86IGFueSwgLi4ub3B0aW9uYWxQYXJhbXM6IGFueVtdKSA9PiB7XG4gIGlmIChxRGV2KSB7XG4gICAgY29uc3Qga2V5ID0gJ3dhcm4nICsgU3RyaW5nKG1lc3NhZ2UpO1xuICAgIGlmICghX3ByaW50ZWQuaGFzKGtleSkpIHtcbiAgICAgIF9wcmludGVkLmFkZChrZXkpO1xuICAgICAgbG9nV2FybihtZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcyk7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgY29uc3QgbG9nV2FybiA9IChtZXNzYWdlPzogYW55LCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pID0+IHtcbiAgaWYgKHFEZXYpIHtcbiAgICBjb25zb2xlLndhcm4oJyVjUVdJSyBXQVJOJywgU1RZTEUsIG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGxvZ0RlYnVnID0gKG1lc3NhZ2U/OiBzdHJpbmcsIC4uLm9wdGlvbmFsUGFyYW1zOiBhbnlbXSkgPT4ge1xuICBpZiAocURldikge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgY29uc29sZS5kZWJ1ZygnJWNRV0lLJywgU1RZTEUsIG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbiAgfVxufTtcblxuY29uc3QgY3JlYXRlQW5kTG9nRXJyb3IgPSAoYXN5bmNUaHJvdzogYm9vbGVhbiwgbWVzc2FnZT86IGFueSwgLi4ub3B0aW9uYWxQYXJhbXM6IGFueVtdKSA9PiB7XG4gIGNvbnN0IGVyciA9IG1lc3NhZ2UgaW5zdGFuY2VvZiBFcnJvciA/IG1lc3NhZ2UgOiBuZXcgRXJyb3IobWVzc2FnZSk7XG5cbiAgLy8gZGlzcGxheSB0aGUgZXJyb3IgbWVzc2FnZSBmaXJzdCwgdGhlbiB0aGUgb3B0aW9uYWwgcGFyYW1zLCBhbmQgZmluYWxseSB0aGUgc3RhY2sgdHJhY2VcbiAgLy8gdGhlIHN0YWNrIG5lZWRzIHRvIGJlIGRpc3BsYXllZCBsYXN0IGJlY2F1c2UgdGhlIGdpdmVuIHBhcmFtcyB3aWxsIGJlIGxvc3QgYW1vbmcgbGFyZ2Ugc3RhY2sgdHJhY2VzIHNvIGl0IHdpbGxcbiAgLy8gcHJvdmlkZSBhIGJhZCBkZXZlbG9wZXIgZXhwZXJpZW5jZVxuICAhcVRlc3QgJiYgY29uc29sZS5lcnJvcignJWNRV0lLIEVSUk9SJywgU1RZTEUsIGVyci5tZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcywgZXJyLnN0YWNrKTtcblxuICBhc3luY1Rocm93ICYmXG4gICAgIXFUZXN0ICYmXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAvLyB0aHJvd2luZyBlcnJvciBhc3luY2hyb25vdXNseSB0byBhdm9pZCBicmVha2luZyB0aGUgY3VycmVudCBjYWxsIHN0YWNrLlxuICAgICAgLy8gV2UgdGhyb3cgc28gdGhhdCB0aGUgZXJyb3IgaXMgZGVsaXZlcmVkIHRvIHRoZSBnbG9iYWwgZXJyb3IgaGFuZGxlciBmb3JcbiAgICAgIC8vIHJlcG9ydGluZyBpdCB0byBhIHRoaXJkLXBhcnR5IHRvb2xzIHN1Y2ggYXMgUXdpayBJbnNpZ2h0cywgU2VudHJ5IG9yIE5ldyBSZWxpYy5cbiAgICAgIHRocm93IGVycjtcbiAgICB9LCAwKTtcbiAgcmV0dXJuIGVycjtcbn07XG4iXX0=","/** @private */\nexport const isHtmlElement = (node) => {\n    return node ? node.nodeType === 1 : false;\n};\nexport const isSerializableObject = (v) => {\n    const proto = Object.getPrototypeOf(v);\n    return proto === Object.prototype || proto === Array.prototype || proto === null;\n};\nexport const isObject = (v) => {\n    return typeof v === 'object' && v !== null;\n};\nexport const isArray = (v) => {\n    return Array.isArray(v);\n};\nexport const isString = (v) => {\n    return typeof v === 'string';\n};\nexport const isNumber = (v) => {\n    return typeof v === 'number';\n};\nexport const isFunction = (v) => {\n    return typeof v === 'function';\n};\nexport const isPrimitive = (v) => {\n    return typeof v !== 'object' && typeof v !== 'function' && v !== null && v !== undefined;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL3V0aWxzL3R5cGVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGVBQWU7QUFDZixNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsQ0FBQyxJQUFhLEVBQW1CLEVBQUU7SUFDOUQsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFFLElBQWEsQ0FBQyxRQUFRLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7QUFDdEQsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQUcsQ0FBQyxDQUFVLEVBQWdDLEVBQUU7SUFDL0UsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2QyxPQUFPLEtBQUssS0FBSyxNQUFNLENBQUMsU0FBUyxJQUFJLEtBQUssS0FBSyxLQUFLLENBQUMsU0FBUyxJQUFJLEtBQUssS0FBSyxJQUFJLENBQUM7QUFDbkYsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUMsQ0FBVSxFQUFlLEVBQUU7SUFDbEQsT0FBTyxPQUFPLENBQUMsS0FBSyxRQUFRLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQztBQUM3QyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsQ0FBQyxDQUFVLEVBQWtCLEVBQUU7SUFDcEQsT0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzFCLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLENBQVUsRUFBZSxFQUFFO0lBQ2xELE9BQU8sT0FBTyxDQUFDLEtBQUssUUFBUSxDQUFDO0FBQy9CLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLENBQVUsRUFBZSxFQUFFO0lBQ2xELE9BQU8sT0FBTyxDQUFDLEtBQUssUUFBUSxDQUFDO0FBQy9CLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxDQUFrQyxDQUFVLEVBQVUsRUFBRTtJQUNoRixPQUFPLE9BQU8sQ0FBQyxLQUFLLFVBQVUsQ0FBQztBQUNqQyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsQ0FDekIsQ0FBVSxFQUNrRCxFQUFFO0lBQzlELE9BQU8sT0FBTyxDQUFDLEtBQUssUUFBUSxJQUFJLE9BQU8sQ0FBQyxLQUFLLFVBQVUsSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxTQUFTLENBQUM7QUFDM0YsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBwcml2YXRlICovXG5leHBvcnQgY29uc3QgaXNIdG1sRWxlbWVudCA9IChub2RlOiB1bmtub3duKTogbm9kZSBpcyBFbGVtZW50ID0+IHtcbiAgcmV0dXJuIG5vZGUgPyAobm9kZSBhcyBOb2RlKS5ub2RlVHlwZSA9PT0gMSA6IGZhbHNlO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzU2VyaWFsaXphYmxlT2JqZWN0ID0gKHY6IHVua25vd24pOiB2IGlzIFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0+IHtcbiAgY29uc3QgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yodik7XG4gIHJldHVybiBwcm90byA9PT0gT2JqZWN0LnByb3RvdHlwZSB8fCBwcm90byA9PT0gQXJyYXkucHJvdG90eXBlIHx8IHByb3RvID09PSBudWxsO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzT2JqZWN0ID0gKHY6IHVua25vd24pOiB2IGlzIG9iamVjdCA9PiB7XG4gIHJldHVybiB0eXBlb2YgdiA9PT0gJ29iamVjdCcgJiYgdiAhPT0gbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCBpc0FycmF5ID0gKHY6IHVua25vd24pOiB2IGlzIHVua25vd25bXSA9PiB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHYpO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzU3RyaW5nID0gKHY6IHVua25vd24pOiB2IGlzIHN0cmluZyA9PiB7XG4gIHJldHVybiB0eXBlb2YgdiA9PT0gJ3N0cmluZyc7XG59O1xuXG5leHBvcnQgY29uc3QgaXNOdW1iZXIgPSAodjogdW5rbm93bik6IHYgaXMgbnVtYmVyID0+IHtcbiAgcmV0dXJuIHR5cGVvZiB2ID09PSAnbnVtYmVyJztcbn07XG5cbmV4cG9ydCBjb25zdCBpc0Z1bmN0aW9uID0gPFQgZXh0ZW5kcyAoLi4uYXJnczogYW55KSA9PiBhbnk+KHY6IHVua25vd24pOiB2IGlzIFQgPT4ge1xuICByZXR1cm4gdHlwZW9mIHYgPT09ICdmdW5jdGlvbic7XG59O1xuXG5leHBvcnQgY29uc3QgaXNQcmltaXRpdmUgPSAoXG4gIHY6IHVua25vd25cbik6IHYgaXMgc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IG51bGwgfCB1bmRlZmluZWQgfCBzeW1ib2wgPT4ge1xuICByZXR1cm4gdHlwZW9mIHYgIT09ICdvYmplY3QnICYmIHR5cGVvZiB2ICE9PSAnZnVuY3Rpb24nICYmIHYgIT09IG51bGwgJiYgdiAhPT0gdW5kZWZpbmVkO1xufTtcblxuLyoqXG4gKiBUeXBlIHJlcHJlc2VudGluZyBhIHZhbHVlIHdoaWNoIGlzIGVpdGhlciByZXNvbHZlIG9yIGEgcHJvbWlzZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFZhbHVlT3JQcm9taXNlPFQ+ID0gVCB8IFByb21pc2U8VD47XG4iXX0=","import { logErrorAndStop } from '../utils/log';\nimport { qDev } from '../utils/qdev';\nimport { isObject } from '../utils/types';\nexport const codeToText = (code, ...parts) => {\n    if (qDev) {\n        // Keep one error, one line to make it easier to search for the error message.\n        const MAP = [\n            'Error while serializing class or style attributes', // 0\n            'Scheduler not found', // 1\n            'track() received object, without prop to track', // 2\n            'Only primitive and object literals can be serialized. {{0}}', // 3\n            'You can render over a existing q:container. Skipping render().', // 4\n            'QRL is not a function', // 5\n            'Dynamic import not found', // 6\n            'Unknown type argument', // 7\n            `Actual value for useContext({{0}}) can not be found, make sure some ancestor component has set a value using useContextProvider(). In the browser make sure that the context was used during SSR so its state was serialized.`, // 8\n            \"Invoking 'use*()' method outside of invocation context.\", // 9\n            `Calling a 'use*()' method outside 'component$(() => { HERE })' is not allowed. 'use*()' methods provide hooks to the 'component$' state and lifecycle, ie 'use' hooks can only be called synchronously within the 'component$' function or another 'use' method.\\nSee https://qwik.dev/docs/core/tasks/#use-method-rules`, // 10\n            'The provided Context reference \"{{0}}\" is not a valid context created by createContextId()', // 11\n            'SsrError(tag): {{0}}', // 12\n            'QRLs can not be resolved because it does not have an attached container. This means that the QRL does not know where it belongs inside the DOM, so it cant dynamically import() from a relative path.', // 13\n            'QRLs can not be dynamically resolved, because it does not have a chunk path', // 14\n            '{{0}}\\nThe JSX ref attribute must be a Signal', // 15\n            'Serialization Error: Deserialization of data type {{0}} is not implemented', // 16\n            'Serialization Error: Expected vnode for ref prop, but got {{0}}', // 17\n            'Serialization Error: Cannot allocate data type {{0}}', // 18\n            'Serialization Error: Missing root id for {{0}}', // 19\n            'Serialization Error: Serialization of data type {{0}} is not implemented', // 20\n            'Serialization Error: Unvisited {{0}}', // 21\n            'Serialization Error: Missing QRL chunk for {{0}}', // 22\n            '{{0}}\\nThe value of the textarea must be a string found {{1}}', // 23\n            'Unable to find q:container', // 24\n            \"Element must have 'q:container' attribute.\", // 25\n            'Unknown vnode type {{0}}.', // 26\n            'Materialize error: missing element: {{0}} {{1}} {{2}}', // 27\n            'Cannot coerce a Signal, use `.value` instead', // 28\n            'useComputed$ QRL {{0}} {{1}} cannot return a Promise', // 29\n            'ComputedSignal is read-only', // 30\n            'WrappedSignal is read-only', // 31\n            'Attribute value is unsafe for SSR', // 32\n            'SerializerSymbol function returned rejected promise', // 33\n            'Serialization Error: Cannot serialize function: {{0}}', // 34\n        ];\n        let text = MAP[code] ?? '';\n        if (parts.length) {\n            text = text.replaceAll(/{{(\\d+)}}/g, (_, index) => {\n                let v = parts[index];\n                if (v && isObject(v) && v.constructor === Object) {\n                    v = JSON.stringify(v).slice(0, 50);\n                }\n                return v;\n            });\n        }\n        return `Code(Q${code}): ${text}`;\n    }\n    else {\n        // cute little hack to give roughly the correct line number. Update the line number if it shifts.\n        return `Code(Q${code}) https://github.com/QwikDev/qwik/blob/main/packages/qwik/src/core/error/error.ts#L${8 + code}`;\n    }\n};\nexport const qError = (code, errorMessageArgs = []) => {\n    const text = codeToText(code, ...errorMessageArgs);\n    return logErrorAndStop(text, ...errorMessageArgs);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3IuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL2Vycm9yL2Vycm9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDL0MsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNyQyxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFMUMsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQUMsSUFBWSxFQUFFLEdBQUcsS0FBWSxFQUFVLEVBQUU7SUFDbEUsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUNULDhFQUE4RTtRQUM5RSxNQUFNLEdBQUcsR0FBRztZQUNWLG1EQUFtRCxFQUFFLElBQUk7WUFDekQscUJBQXFCLEVBQUUsSUFBSTtZQUMzQixnREFBZ0QsRUFBRSxJQUFJO1lBQ3RELDZEQUE2RCxFQUFFLElBQUk7WUFDbkUsZ0VBQWdFLEVBQUUsSUFBSTtZQUN0RSx1QkFBdUIsRUFBRSxJQUFJO1lBQzdCLDBCQUEwQixFQUFFLElBQUk7WUFDaEMsdUJBQXVCLEVBQUUsSUFBSTtZQUM3QiwrTkFBK04sRUFBRSxJQUFJO1lBQ3JPLHlEQUF5RCxFQUFFLElBQUk7WUFDL0QsMFRBQTBULEVBQUUsS0FBSztZQUNqVSw0RkFBNEYsRUFBRSxLQUFLO1lBQ25HLHNCQUFzQixFQUFFLEtBQUs7WUFDN0IsdU1BQXVNLEVBQUUsS0FBSztZQUM5TSw2RUFBNkUsRUFBRSxLQUFLO1lBQ3BGLCtDQUErQyxFQUFFLEtBQUs7WUFDdEQsNEVBQTRFLEVBQUUsS0FBSztZQUNuRixpRUFBaUUsRUFBRSxLQUFLO1lBQ3hFLHNEQUFzRCxFQUFFLEtBQUs7WUFDN0QsZ0RBQWdELEVBQUUsS0FBSztZQUN2RCwwRUFBMEUsRUFBRSxLQUFLO1lBQ2pGLHNDQUFzQyxFQUFFLEtBQUs7WUFDN0Msa0RBQWtELEVBQUUsS0FBSztZQUN6RCwrREFBK0QsRUFBRSxLQUFLO1lBQ3RFLDRCQUE0QixFQUFFLEtBQUs7WUFDbkMsNENBQTRDLEVBQUUsS0FBSztZQUNuRCwyQkFBMkIsRUFBRSxLQUFLO1lBQ2xDLHVEQUF1RCxFQUFFLEtBQUs7WUFDOUQsOENBQThDLEVBQUUsS0FBSztZQUNyRCxzREFBc0QsRUFBRSxLQUFLO1lBQzdELDZCQUE2QixFQUFFLEtBQUs7WUFDcEMsNEJBQTRCLEVBQUUsS0FBSztZQUNuQyxtQ0FBbUMsRUFBRSxLQUFLO1lBQzFDLHFEQUFxRCxFQUFFLEtBQUs7WUFDNUQsdURBQXVELEVBQUUsS0FBSztTQUMvRCxDQUFDO1FBQ0YsSUFBSSxJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUMzQixJQUFJLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNqQixJQUFJLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUU7Z0JBQ2hELElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDckIsSUFBSSxDQUFDLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxXQUFXLEtBQUssTUFBTSxFQUFFLENBQUM7b0JBQ2pELENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7Z0JBQ3JDLENBQUM7Z0JBQ0QsT0FBTyxDQUFDLENBQUM7WUFDWCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUM7UUFDRCxPQUFPLFNBQVMsSUFBSSxNQUFNLElBQUksRUFBRSxDQUFDO0lBQ25DLENBQUM7U0FBTSxDQUFDO1FBQ04saUdBQWlHO1FBQ2pHLE9BQU8sU0FBUyxJQUFJLHNGQUFzRixDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUM7SUFDdkgsQ0FBQztBQUNILENBQUMsQ0FBQztBQXdDRixNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsQ0FBQyxJQUFZLEVBQUUsbUJBQTBCLEVBQUUsRUFBUyxFQUFFO0lBQzFFLE1BQU0sSUFBSSxHQUFHLFVBQVUsQ0FBQyxJQUFJLEVBQUUsR0FBRyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ25ELE9BQU8sZUFBZSxDQUFDLElBQUksRUFBRSxHQUFHLGdCQUFnQixDQUFDLENBQUM7QUFDcEQsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbG9nRXJyb3JBbmRTdG9wIH0gZnJvbSAnLi4vdXRpbHMvbG9nJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi91dGlscy9xZGV2JztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi4vdXRpbHMvdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgY29kZVRvVGV4dCA9IChjb2RlOiBudW1iZXIsIC4uLnBhcnRzOiBhbnlbXSk6IHN0cmluZyA9PiB7XG4gIGlmIChxRGV2KSB7XG4gICAgLy8gS2VlcCBvbmUgZXJyb3IsIG9uZSBsaW5lIHRvIG1ha2UgaXQgZWFzaWVyIHRvIHNlYXJjaCBmb3IgdGhlIGVycm9yIG1lc3NhZ2UuXG4gICAgY29uc3QgTUFQID0gW1xuICAgICAgJ0Vycm9yIHdoaWxlIHNlcmlhbGl6aW5nIGNsYXNzIG9yIHN0eWxlIGF0dHJpYnV0ZXMnLCAvLyAwXG4gICAgICAnU2NoZWR1bGVyIG5vdCBmb3VuZCcsIC8vIDFcbiAgICAgICd0cmFjaygpIHJlY2VpdmVkIG9iamVjdCwgd2l0aG91dCBwcm9wIHRvIHRyYWNrJywgLy8gMlxuICAgICAgJ09ubHkgcHJpbWl0aXZlIGFuZCBvYmplY3QgbGl0ZXJhbHMgY2FuIGJlIHNlcmlhbGl6ZWQuIHt7MH19JywgLy8gM1xuICAgICAgJ1lvdSBjYW4gcmVuZGVyIG92ZXIgYSBleGlzdGluZyBxOmNvbnRhaW5lci4gU2tpcHBpbmcgcmVuZGVyKCkuJywgLy8gNFxuICAgICAgJ1FSTCBpcyBub3QgYSBmdW5jdGlvbicsIC8vIDVcbiAgICAgICdEeW5hbWljIGltcG9ydCBub3QgZm91bmQnLCAvLyA2XG4gICAgICAnVW5rbm93biB0eXBlIGFyZ3VtZW50JywgLy8gN1xuICAgICAgYEFjdHVhbCB2YWx1ZSBmb3IgdXNlQ29udGV4dCh7ezB9fSkgY2FuIG5vdCBiZSBmb3VuZCwgbWFrZSBzdXJlIHNvbWUgYW5jZXN0b3IgY29tcG9uZW50IGhhcyBzZXQgYSB2YWx1ZSB1c2luZyB1c2VDb250ZXh0UHJvdmlkZXIoKS4gSW4gdGhlIGJyb3dzZXIgbWFrZSBzdXJlIHRoYXQgdGhlIGNvbnRleHQgd2FzIHVzZWQgZHVyaW5nIFNTUiBzbyBpdHMgc3RhdGUgd2FzIHNlcmlhbGl6ZWQuYCwgLy8gOFxuICAgICAgXCJJbnZva2luZyAndXNlKigpJyBtZXRob2Qgb3V0c2lkZSBvZiBpbnZvY2F0aW9uIGNvbnRleHQuXCIsIC8vIDlcbiAgICAgIGBDYWxsaW5nIGEgJ3VzZSooKScgbWV0aG9kIG91dHNpZGUgJ2NvbXBvbmVudCQoKCkgPT4geyBIRVJFIH0pJyBpcyBub3QgYWxsb3dlZC4gJ3VzZSooKScgbWV0aG9kcyBwcm92aWRlIGhvb2tzIHRvIHRoZSAnY29tcG9uZW50JCcgc3RhdGUgYW5kIGxpZmVjeWNsZSwgaWUgJ3VzZScgaG9va3MgY2FuIG9ubHkgYmUgY2FsbGVkIHN5bmNocm9ub3VzbHkgd2l0aGluIHRoZSAnY29tcG9uZW50JCcgZnVuY3Rpb24gb3IgYW5vdGhlciAndXNlJyBtZXRob2QuXFxuU2VlIGh0dHBzOi8vcXdpay5kZXYvZG9jcy9jb3JlL3Rhc2tzLyN1c2UtbWV0aG9kLXJ1bGVzYCwgLy8gMTBcbiAgICAgICdUaGUgcHJvdmlkZWQgQ29udGV4dCByZWZlcmVuY2UgXCJ7ezB9fVwiIGlzIG5vdCBhIHZhbGlkIGNvbnRleHQgY3JlYXRlZCBieSBjcmVhdGVDb250ZXh0SWQoKScsIC8vIDExXG4gICAgICAnU3NyRXJyb3IodGFnKToge3swfX0nLCAvLyAxMlxuICAgICAgJ1FSTHMgY2FuIG5vdCBiZSByZXNvbHZlZCBiZWNhdXNlIGl0IGRvZXMgbm90IGhhdmUgYW4gYXR0YWNoZWQgY29udGFpbmVyLiBUaGlzIG1lYW5zIHRoYXQgdGhlIFFSTCBkb2VzIG5vdCBrbm93IHdoZXJlIGl0IGJlbG9uZ3MgaW5zaWRlIHRoZSBET00sIHNvIGl0IGNhbnQgZHluYW1pY2FsbHkgaW1wb3J0KCkgZnJvbSBhIHJlbGF0aXZlIHBhdGguJywgLy8gMTNcbiAgICAgICdRUkxzIGNhbiBub3QgYmUgZHluYW1pY2FsbHkgcmVzb2x2ZWQsIGJlY2F1c2UgaXQgZG9lcyBub3QgaGF2ZSBhIGNodW5rIHBhdGgnLCAvLyAxNFxuICAgICAgJ3t7MH19XFxuVGhlIEpTWCByZWYgYXR0cmlidXRlIG11c3QgYmUgYSBTaWduYWwnLCAvLyAxNVxuICAgICAgJ1NlcmlhbGl6YXRpb24gRXJyb3I6IERlc2VyaWFsaXphdGlvbiBvZiBkYXRhIHR5cGUge3swfX0gaXMgbm90IGltcGxlbWVudGVkJywgLy8gMTZcbiAgICAgICdTZXJpYWxpemF0aW9uIEVycm9yOiBFeHBlY3RlZCB2bm9kZSBmb3IgcmVmIHByb3AsIGJ1dCBnb3Qge3swfX0nLCAvLyAxN1xuICAgICAgJ1NlcmlhbGl6YXRpb24gRXJyb3I6IENhbm5vdCBhbGxvY2F0ZSBkYXRhIHR5cGUge3swfX0nLCAvLyAxOFxuICAgICAgJ1NlcmlhbGl6YXRpb24gRXJyb3I6IE1pc3Npbmcgcm9vdCBpZCBmb3Ige3swfX0nLCAvLyAxOVxuICAgICAgJ1NlcmlhbGl6YXRpb24gRXJyb3I6IFNlcmlhbGl6YXRpb24gb2YgZGF0YSB0eXBlIHt7MH19IGlzIG5vdCBpbXBsZW1lbnRlZCcsIC8vIDIwXG4gICAgICAnU2VyaWFsaXphdGlvbiBFcnJvcjogVW52aXNpdGVkIHt7MH19JywgLy8gMjFcbiAgICAgICdTZXJpYWxpemF0aW9uIEVycm9yOiBNaXNzaW5nIFFSTCBjaHVuayBmb3Ige3swfX0nLCAvLyAyMlxuICAgICAgJ3t7MH19XFxuVGhlIHZhbHVlIG9mIHRoZSB0ZXh0YXJlYSBtdXN0IGJlIGEgc3RyaW5nIGZvdW5kIHt7MX19JywgLy8gMjNcbiAgICAgICdVbmFibGUgdG8gZmluZCBxOmNvbnRhaW5lcicsIC8vIDI0XG4gICAgICBcIkVsZW1lbnQgbXVzdCBoYXZlICdxOmNvbnRhaW5lcicgYXR0cmlidXRlLlwiLCAvLyAyNVxuICAgICAgJ1Vua25vd24gdm5vZGUgdHlwZSB7ezB9fS4nLCAvLyAyNlxuICAgICAgJ01hdGVyaWFsaXplIGVycm9yOiBtaXNzaW5nIGVsZW1lbnQ6IHt7MH19IHt7MX19IHt7Mn19JywgLy8gMjdcbiAgICAgICdDYW5ub3QgY29lcmNlIGEgU2lnbmFsLCB1c2UgYC52YWx1ZWAgaW5zdGVhZCcsIC8vIDI4XG4gICAgICAndXNlQ29tcHV0ZWQkIFFSTCB7ezB9fSB7ezF9fSBjYW5ub3QgcmV0dXJuIGEgUHJvbWlzZScsIC8vIDI5XG4gICAgICAnQ29tcHV0ZWRTaWduYWwgaXMgcmVhZC1vbmx5JywgLy8gMzBcbiAgICAgICdXcmFwcGVkU2lnbmFsIGlzIHJlYWQtb25seScsIC8vIDMxXG4gICAgICAnQXR0cmlidXRlIHZhbHVlIGlzIHVuc2FmZSBmb3IgU1NSJywgLy8gMzJcbiAgICAgICdTZXJpYWxpemVyU3ltYm9sIGZ1bmN0aW9uIHJldHVybmVkIHJlamVjdGVkIHByb21pc2UnLCAvLyAzM1xuICAgICAgJ1NlcmlhbGl6YXRpb24gRXJyb3I6IENhbm5vdCBzZXJpYWxpemUgZnVuY3Rpb246IHt7MH19JywgLy8gMzRcbiAgICBdO1xuICAgIGxldCB0ZXh0ID0gTUFQW2NvZGVdID8/ICcnO1xuICAgIGlmIChwYXJ0cy5sZW5ndGgpIHtcbiAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2VBbGwoL3t7KFxcZCspfX0vZywgKF8sIGluZGV4KSA9PiB7XG4gICAgICAgIGxldCB2ID0gcGFydHNbaW5kZXhdO1xuICAgICAgICBpZiAodiAmJiBpc09iamVjdCh2KSAmJiB2LmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcbiAgICAgICAgICB2ID0gSlNPTi5zdHJpbmdpZnkodikuc2xpY2UoMCwgNTApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2O1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBgQ29kZShRJHtjb2RlfSk6ICR7dGV4dH1gO1xuICB9IGVsc2Uge1xuICAgIC8vIGN1dGUgbGl0dGxlIGhhY2sgdG8gZ2l2ZSByb3VnaGx5IHRoZSBjb3JyZWN0IGxpbmUgbnVtYmVyLiBVcGRhdGUgdGhlIGxpbmUgbnVtYmVyIGlmIGl0IHNoaWZ0cy5cbiAgICByZXR1cm4gYENvZGUoUSR7Y29kZX0pIGh0dHBzOi8vZ2l0aHViLmNvbS9Rd2lrRGV2L3F3aWsvYmxvYi9tYWluL3BhY2thZ2VzL3F3aWsvc3JjL2NvcmUvZXJyb3IvZXJyb3IudHMjTCR7OCArIGNvZGV9YDtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGVudW0gUUVycm9yIHtcbiAgc3RyaW5naWZ5Q2xhc3NPclN0eWxlID0gMCxcbiAgc2NoZWR1bGVyTm90Rm91bmQgPSAxLFxuICB0cmFja09iamVjdFdpdGhvdXRQcm9wID0gMixcbiAgdmVyaWZ5U2VyaWFsaXphYmxlID0gMyxcbiAgY2Fubm90UmVuZGVyT3ZlckV4aXN0aW5nQ29udGFpbmVyID0gNCxcbiAgcXJsSXNOb3RGdW5jdGlvbiA9IDUsXG4gIGR5bmFtaWNJbXBvcnRGYWlsZWQgPSA2LFxuICB1bmtub3duVHlwZUFyZ3VtZW50ID0gNyxcbiAgbm90Rm91bmRDb250ZXh0ID0gOCxcbiAgdXNlTWV0aG9kT3V0c2lkZUNvbnRleHQgPSA5LFxuICB1c2VJbnZva2VDb250ZXh0ID0gMTAsXG4gIGludmFsaWRDb250ZXh0ID0gMTEsXG4gIHRhZ0Vycm9yID0gMTIsXG4gIHFybE1pc3NpbmdDb250YWluZXIgPSAxMyxcbiAgcXJsTWlzc2luZ0NodW5rID0gMTQsXG4gIGludmFsaWRSZWZWYWx1ZSA9IDE1LFxuICBzZXJpYWxpemVFcnJvck5vdEltcGxlbWVudGVkID0gMTYsXG4gIHNlcmlhbGl6ZUVycm9yRXhwZWN0ZWRWTm9kZSA9IDE3LFxuICBzZXJpYWxpemVFcnJvckNhbm5vdEFsbG9jYXRlID0gMTgsXG4gIHNlcmlhbGl6ZUVycm9yTWlzc2luZ1Jvb3RJZCA9IDE5LFxuICBzZXJpYWxpemVFcnJvclVua25vd25UeXBlID0gMjAsXG4gIHNlcmlhbGl6ZUVycm9yVW52aXNpdGVkID0gMjEsXG4gIHNlcmlhbGl6ZUVycm9yTWlzc2luZ0NodW5rID0gMjIsXG4gIHdyb25nVGV4dGFyZWFWYWx1ZSA9IDIzLFxuICBjb250YWluZXJOb3RGb3VuZCA9IDI0LFxuICBlbGVtZW50V2l0aG91dENvbnRhaW5lciA9IDI1LFxuICBpbnZhbGlkVk5vZGVUeXBlID0gMjYsXG4gIG1hdGVyaWFsaXplVk5vZGVEYXRhRXJyb3IgPSAyNyxcbiAgY2Fubm90Q29lcmNlU2lnbmFsID0gMjgsXG4gIGNvbXB1dGVkTm90U3luYyA9IDI5LFxuICBjb21wdXRlZFJlYWRPbmx5ID0gMzAsXG4gIHdyYXBwZWRSZWFkT25seSA9IDMxLFxuICB1bnNhZmVBdHRyID0gMzIsXG4gIHNlcmlhbGl6ZXJTeW1ib2xSZWplY3RlZFByb21pc2UgPSAzMyxcbiAgc2VyaWFsaXplRXJyb3JDYW5ub3RTZXJpYWxpemVGdW5jdGlvbiA9IDM0LFxufVxuXG5leHBvcnQgY29uc3QgcUVycm9yID0gKGNvZGU6IG51bWJlciwgZXJyb3JNZXNzYWdlQXJnczogYW55W10gPSBbXSk6IEVycm9yID0+IHtcbiAgY29uc3QgdGV4dCA9IGNvZGVUb1RleHQoY29kZSwgLi4uZXJyb3JNZXNzYWdlQXJncyk7XG4gIHJldHVybiBsb2dFcnJvckFuZFN0b3AodGV4dCwgLi4uZXJyb3JNZXNzYWdlQXJncyk7XG59O1xuIl19","/** QRL related utilities that you can import without importing all of Qwik. */\nimport { isDev } from '@qwik.dev/core/build';\nexport const SYNC_QRL = '<sync>';\n/** Sync QRL is a function which is serialized into `<script q:func=\"qwik/json\">` tag. */\nexport const isSyncQrl = (value) => {\n    return isQrl(value) && value.$symbol$ == SYNC_QRL;\n};\nexport const isQrl = (value) => {\n    return typeof value === 'function' && typeof value.getSymbol === 'function';\n};\nexport function assertQrl(qrl) {\n    if (isDev) {\n        if (!isQrl(qrl)) {\n            throw new Error('Not a QRL');\n        }\n    }\n}\nexport const getSymbolHash = (symbolName) => {\n    const index = symbolName.lastIndexOf('_');\n    if (index > -1) {\n        return symbolName.slice(index + 1);\n    }\n    return symbolName;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLXV0aWxzLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC9xcmwvcXJsLXV0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLCtFQUErRTtBQUUvRSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFJN0MsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQztBQUVqQyx5RkFBeUY7QUFDekYsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQUMsS0FBVSxFQUE0QixFQUFFO0lBQ2hFLE9BQU8sS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDO0FBQ3BELENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLEtBQUssR0FBRyxDQUFjLEtBQWMsRUFBMkIsRUFBRTtJQUM1RSxPQUFPLE9BQU8sS0FBSyxLQUFLLFVBQVUsSUFBSSxPQUFRLEtBQWEsQ0FBQyxTQUFTLEtBQUssVUFBVSxDQUFDO0FBQ3ZGLENBQUMsQ0FBQztBQUVGLE1BQU0sVUFBVSxTQUFTLENBQUksR0FBVztJQUN0QyxJQUFJLEtBQUssRUFBRSxDQUFDO1FBQ1YsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ2hCLE1BQU0sSUFBSSxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDL0IsQ0FBQztJQUNILENBQUM7QUFDSCxDQUFDO0FBRUQsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHLENBQUMsVUFBa0IsRUFBRSxFQUFFO0lBQ2xELE1BQU0sS0FBSyxHQUFHLFVBQVUsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDMUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUNmLE9BQU8sVUFBVSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUNELE9BQU8sVUFBVSxDQUFDO0FBQ3BCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBRUkwgcmVsYXRlZCB1dGlsaXRpZXMgdGhhdCB5b3UgY2FuIGltcG9ydCB3aXRob3V0IGltcG9ydGluZyBhbGwgb2YgUXdpay4gKi9cblxuaW1wb3J0IHsgaXNEZXYgfSBmcm9tICdAcXdpay5kZXYvY29yZS9idWlsZCc7XG5pbXBvcnQgdHlwZSB7IFFSTEludGVybmFsLCBTeW5jUVJMSW50ZXJuYWwgfSBmcm9tICcuL3FybC1jbGFzcyc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4vcXJsLnB1YmxpYyc7XG5cbmV4cG9ydCBjb25zdCBTWU5DX1FSTCA9ICc8c3luYz4nO1xuXG4vKiogU3luYyBRUkwgaXMgYSBmdW5jdGlvbiB3aGljaCBpcyBzZXJpYWxpemVkIGludG8gYDxzY3JpcHQgcTpmdW5jPVwicXdpay9qc29uXCI+YCB0YWcuICovXG5leHBvcnQgY29uc3QgaXNTeW5jUXJsID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBTeW5jUVJMSW50ZXJuYWwgPT4ge1xuICByZXR1cm4gaXNRcmwodmFsdWUpICYmIHZhbHVlLiRzeW1ib2wkID09IFNZTkNfUVJMO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzUXJsID0gPFQgPSB1bmtub3duPih2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIFFSTEludGVybmFsPFQ+ID0+IHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgKHZhbHVlIGFzIGFueSkuZ2V0U3ltYm9sID09PSAnZnVuY3Rpb24nO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFFybDxUPihxcmw6IFFSTDxUPik6IGFzc2VydHMgcXJsIGlzIFFSTEludGVybmFsPFQ+IHtcbiAgaWYgKGlzRGV2KSB7XG4gICAgaWYgKCFpc1FybChxcmwpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhIFFSTCcpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZ2V0U3ltYm9sSGFzaCA9IChzeW1ib2xOYW1lOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgaW5kZXggPSBzeW1ib2xOYW1lLmxhc3RJbmRleE9mKCdfJyk7XG4gIGlmIChpbmRleCA+IC0xKSB7XG4gICAgcmV0dXJuIHN5bWJvbE5hbWUuc2xpY2UoaW5kZXggKyAxKTtcbiAgfVxuICByZXR1cm4gc3ltYm9sTmFtZTtcbn07XG4iXX0=","/** State factory of the component. */\nexport const OnRenderProp = 'q:renderFn';\n/** Component style content prefix */\nexport const ComponentStylesPrefixContent = '⚡️';\n/** `<some-element q:slot=\"...\">` */\nexport const QSlot = 'q:slot';\nexport const QSlotParent = 'q:sparent';\nexport const QSlotS = 'q:s';\nexport const QStyle = 'q:style';\nexport const QStyleSelector = 'style[q\\\\:style]';\nexport const QStyleSSelector = 'style[q\\\\:sstyle]';\nexport const QStylesAllSelector = QStyleSelector + ',' + QStyleSSelector;\nexport const QScopedStyle = 'q:sstyle';\nexport const QCtxAttr = 'q:ctx';\nexport const QBackRefs = 'q:brefs';\nexport const QFuncsPrefix = 'qFuncs_';\nexport const getQFuncs = (document, hash) => {\n    return document[QFuncsPrefix + hash] || [];\n};\nexport const QRenderAttr = 'q:render';\nexport const QRuntimeAttr = 'q:runtime';\nexport const QVersionAttr = 'q:version';\nexport const QBaseAttr = 'q:base';\nexport const QLocaleAttr = 'q:locale';\nexport const QManifestHashAttr = 'q:manifest-hash';\nexport const QInstanceAttr = 'q:instance';\nexport const QContainerIsland = 'q:container-island';\nexport const QContainerIslandEnd = '/' + QContainerIsland;\nexport const QIgnore = 'q:ignore';\nexport const QIgnoreEnd = '/' + QIgnore;\nexport const QContainerAttr = 'q:container';\nexport const QContainerAttrEnd = '/' + QContainerAttr;\nexport const QTemplate = 'q:template';\n// the same selector should be inside the qwik loader\n// and the same selector should be inside the qwik router spa-shim and spa-init\nexport const QContainerSelector = '[q\\\\:container]:not([q\\\\:container=' +\n    \"html\" /* QContainerValue.HTML */ +\n    ']):not([q\\\\:container=' +\n    \"text\" /* QContainerValue.TEXT */ +\n    '])';\n// Node namespaces\nexport const HTML_NS = 'http://www.w3.org/1999/xhtml';\nexport const SVG_NS = 'http://www.w3.org/2000/svg';\nexport const MATH_NS = 'http://www.w3.org/1998/Math/MathML';\n// Attributes namespaces\nexport const XLINK_NS = 'http://www.w3.org/1999/xlink';\nexport const XML_NS = 'http://www.w3.org/XML/1998/namespace';\nexport const ResourceEvent = 'qResource';\nexport const RenderEvent = 'qRender';\nexport const TaskEvent = 'qTask';\n/** `<q:slot name=\"...\">` */\nexport const QDefaultSlot = '';\n/**\n * Attribute to mark that this VNode has a pointer to itself from the `qwik/json` state.\n *\n * As the VNode get materialized the vnode now becomes eligible for mutation. Once the vnode mutates\n * the `VNode` references from the `qwik/json` may become invalid. For this reason, these references\n * need to be eagerly resolved. `VNODE_REF` stores a pointer to \"this\" vnode. This allows the system\n * to eagerly resolve these pointes as the vnodes are materialized.\n */\nexport const ELEMENT_ID = 'q:id';\nexport const ELEMENT_KEY = 'q:key';\nexport const ELEMENT_PROPS = 'q:props';\nexport const ELEMENT_SEQ = 'q:seq';\nexport const ELEMENT_SEQ_IDX = 'q:seqIdx';\nexport const ELEMENT_BACKPATCH_DATA = 'qwik/backpatch';\nexport const Q_PREFIX = 'q:';\n/** Non serializable markers - always begins with `:` character */\nexport const NON_SERIALIZABLE_MARKER_PREFIX = ':';\nexport const USE_ON_LOCAL = NON_SERIALIZABLE_MARKER_PREFIX + 'on';\nexport const USE_ON_LOCAL_SEQ_IDX = NON_SERIALIZABLE_MARKER_PREFIX + 'onIdx';\nexport const USE_ON_LOCAL_FLAGS = NON_SERIALIZABLE_MARKER_PREFIX + 'onFlags';\n// comment nodes\nexport const FLUSH_COMMENT = 'qkssr-f';\nexport const STREAM_BLOCK_START_COMMENT = 'qkssr-pu';\nexport const STREAM_BLOCK_END_COMMENT = 'qkssr-po';\nexport const Q_PROPS_SEPARATOR = ':';\nexport const dangerouslySetInnerHTML = 'dangerouslySetInnerHTML';\nexport const qwikInspectorAttr = 'data-qwik-inspector';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFya2Vycy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvdXRpbHMvbWFya2Vycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxzQ0FBc0M7QUFDdEMsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLFlBQVksQ0FBQztBQUV6QyxxQ0FBcUM7QUFDckMsTUFBTSxDQUFDLE1BQU0sNEJBQTRCLEdBQUcsSUFBSSxDQUFDO0FBRWpELG9DQUFvQztBQUNwQyxNQUFNLENBQUMsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDO0FBQzlCLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxXQUFXLENBQUM7QUFDdkMsTUFBTSxDQUFDLE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQztBQUM1QixNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDO0FBQ2hDLE1BQU0sQ0FBQyxNQUFNLGNBQWMsR0FBRyxrQkFBa0IsQ0FBQztBQUNqRCxNQUFNLENBQUMsTUFBTSxlQUFlLEdBQUcsbUJBQW1CLENBQUM7QUFDbkQsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQUcsY0FBYyxHQUFHLEdBQUcsR0FBRyxlQUFlLENBQUM7QUFDekUsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLFVBQVUsQ0FBQztBQUN2QyxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDO0FBQ2hDLE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxTQUFTLENBQUM7QUFDbkMsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLFNBQVMsQ0FBQztBQUV0QyxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FDdkIsUUFBa0IsRUFDbEIsSUFBWSxFQUM0QixFQUFFO0lBQzFDLE9BQVEsUUFBZ0IsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ3RELENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FB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TSxpQkFBaUIsR0FBRyxHQUFHLENBQUM7QUFFckMsTUFBTSxDQUFDLE1BQU0sdUJBQXVCLEdBQUcseUJBQXlCLENBQUM7QUFDakUsTUFBTSxDQUFDLE1BQU0saUJBQWlCLEdBQUcscUJBQXFCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBRQ29udGFpbmVyVmFsdWUgfSBmcm9tICcuLi90eXBlcyc7XG5cbi8qKiBTdGF0ZSBmYWN0b3J5IG9mIHRoZSBjb21wb25lbnQuICovXG5leHBvcnQgY29uc3QgT25SZW5kZXJQcm9wID0gJ3E6cmVuZGVyRm4nO1xuXG4vKiogQ29tcG9uZW50IHN0eWxlIGNvbnRlbnQgcHJlZml4ICovXG5leHBvcnQgY29uc3QgQ29tcG9uZW50U3R5bGVzUHJlZml4Q29udGVudCA9ICfimqHvuI8nO1xuXG4vKiogYDxzb21lLWVsZW1lbnQgcTpzbG90PVwiLi4uXCI+YCAqL1xuZXhwb3J0IGNvbnN0IFFTbG90ID0gJ3E6c2xvdCc7XG5leHBvcnQgY29uc3QgUVNsb3RQYXJlbnQgPSAncTpzcGFyZW50JztcbmV4cG9ydCBjb25zdCBRU2xvdFMgPSAncTpzJztcbmV4cG9ydCBjb25zdCBRU3R5bGUgPSAncTpzdHlsZSc7XG5leHBvcnQgY29uc3QgUVN0eWxlU2VsZWN0b3IgPSAnc3R5bGVbcVxcXFw6c3R5bGVdJztcbmV4cG9ydCBjb25zdCBRU3R5bGVTU2VsZWN0b3IgPSAnc3R5bGVbcVxcXFw6c3N0eWxlXSc7XG5leHBvcnQgY29uc3QgUVN0eWxlc0FsbFNlbGVjdG9yID0gUVN0eWxlU2VsZWN0b3IgKyAnLCcgKyBRU3R5bGVTU2VsZWN0b3I7XG5leHBvcnQgY29uc3QgUVNjb3BlZFN0eWxlID0gJ3E6c3N0eWxlJztcbmV4cG9ydCBjb25zdCBRQ3R4QXR0ciA9ICdxOmN0eCc7XG5leHBvcnQgY29uc3QgUUJhY2tSZWZzID0gJ3E6YnJlZnMnO1xuZXhwb3J0IGNvbnN0IFFGdW5jc1ByZWZpeCA9ICdxRnVuY3NfJztcblxuZXhwb3J0IGNvbnN0IGdldFFGdW5jcyA9IChcbiAgZG9jdW1lbnQ6IERvY3VtZW50LFxuICBoYXNoOiBzdHJpbmdcbik6IEFycmF5PCguLi5hcmdzOiB1bmtub3duW10pID0+IHVua25vd24+ID0+IHtcbiAgcmV0dXJuIChkb2N1bWVudCBhcyBhbnkpW1FGdW5jc1ByZWZpeCArIGhhc2hdIHx8IFtdO1xufTtcblxuZXhwb3J0IGNvbnN0IFFSZW5kZXJBdHRyID0gJ3E6cmVuZGVyJztcbmV4cG9ydCBjb25zdCBRUnVudGltZUF0dHIgPSAncTpydW50aW1lJztcbmV4cG9ydCBjb25zdCBRVmVyc2lvbkF0dHIgPSAncTp2ZXJzaW9uJztcbmV4cG9ydCBjb25zdCBRQmFzZUF0dHIgPSAncTpiYXNlJztcbmV4cG9ydCBjb25zdCBRTG9jYWxlQXR0ciA9ICdxOmxvY2FsZSc7XG5leHBvcnQgY29uc3QgUU1hbmlmZXN0SGFzaEF0dHIgPSAncTptYW5pZmVzdC1oYXNoJztcbmV4cG9ydCBjb25zdCBRSW5zdGFuY2VBdHRyID0gJ3E6aW5zdGFuY2UnO1xuZXhwb3J0IGNvbnN0IFFDb250YWluZXJJc2xhbmQgPSAncTpjb250YWluZXItaXNsYW5kJztcbmV4cG9ydCBjb25zdCBRQ29udGFpbmVySXNsYW5kRW5kID0gJy8nICsgUUNvbnRhaW5lcklzbGFuZDtcbmV4cG9ydCBjb25zdCBRSWdub3JlID0gJ3E6aWdub3JlJztcbmV4cG9ydCBjb25zdCBRSWdub3JlRW5kID0gJy8nICsgUUlnbm9yZTtcbmV4cG9ydCBjb25zdCBRQ29udGFpbmVyQXR0ciA9ICdxOmNvbnRhaW5lcic7XG5leHBvcnQgY29uc3QgUUNvbnRhaW5lckF0dHJFbmQgPSAnLycgKyBRQ29udGFpbmVyQXR0cjtcblxuZXhwb3J0IGNvbnN0IFFUZW1wbGF0ZSA9ICdxOnRlbXBsYXRlJztcblxuLy8gdGhlIHNhbWUgc2VsZWN0b3Igc2hvdWxkIGJlIGluc2lkZSB0aGUgcXdpayBsb2FkZXJcbi8vIGFuZCB0aGUgc2FtZSBzZWxlY3RvciBzaG91bGQgYmUgaW5zaWRlIHRoZSBxd2lrIHJvdXRlciBzcGEtc2hpbSBhbmQgc3BhLWluaXRcbmV4cG9ydCBjb25zdCBRQ29udGFpbmVyU2VsZWN0b3IgPVxuICAnW3FcXFxcOmNvbnRhaW5lcl06bm90KFtxXFxcXDpjb250YWluZXI9JyArXG4gIFFDb250YWluZXJWYWx1ZS5IVE1MICtcbiAgJ10pOm5vdChbcVxcXFw6Y29udGFpbmVyPScgK1xuICBRQ29udGFpbmVyVmFsdWUuVEVYVCArXG4gICddKSc7XG5cbi8vIE5vZGUgbmFtZXNwYWNlc1xuZXhwb3J0IGNvbnN0IEhUTUxfTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7XG5leHBvcnQgY29uc3QgU1ZHX05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcbmV4cG9ydCBjb25zdCBNQVRIX05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwnO1xuXG4vLyBBdHRyaWJ1dGVzIG5hbWVzcGFjZXNcbmV4cG9ydCBjb25zdCBYTElOS19OUyA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJztcbmV4cG9ydCBjb25zdCBYTUxfTlMgPSAnaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlJztcblxuZXhwb3J0IGNvbnN0IFJlc291cmNlRXZlbnQgPSAncVJlc291cmNlJztcbmV4cG9ydCBjb25zdCBSZW5kZXJFdmVudCA9ICdxUmVuZGVyJztcbmV4cG9ydCBjb25zdCBUYXNrRXZlbnQgPSAncVRhc2snO1xuXG4vKiogYDxxOnNsb3QgbmFtZT1cIi4uLlwiPmAgKi9cbmV4cG9ydCBjb25zdCBRRGVmYXVsdFNsb3QgPSAnJztcblxuLyoqXG4gKiBBdHRyaWJ1dGUgdG8gbWFyayB0aGF0IHRoaXMgVk5vZGUgaGFzIGEgcG9pbnRlciB0byBpdHNlbGYgZnJvbSB0aGUgYHF3aWsvanNvbmAgc3RhdGUuXG4gKlxuICogQXMgdGhlIFZOb2RlIGdldCBtYXRlcmlhbGl6ZWQgdGhlIHZub2RlIG5vdyBiZWNvbWVzIGVsaWdpYmxlIGZvciBtdXRhdGlvbi4gT25jZSB0aGUgdm5vZGUgbXV0YXRlc1xuICogdGhlIGBWTm9kZWAgcmVmZXJlbmNlcyBmcm9tIHRoZSBgcXdpay9qc29uYCBtYXkgYmVjb21lIGludmFsaWQuIEZvciB0aGlzIHJlYXNvbiwgdGhlc2UgcmVmZXJlbmNlc1xuICogbmVlZCB0byBiZSBlYWdlcmx5IHJlc29sdmVkLiBgVk5PREVfUkVGYCBzdG9yZXMgYSBwb2ludGVyIHRvIFwidGhpc1wiIHZub2RlLiBUaGlzIGFsbG93cyB0aGUgc3lzdGVtXG4gKiB0byBlYWdlcmx5IHJlc29sdmUgdGhlc2UgcG9pbnRlcyBhcyB0aGUgdm5vZGVzIGFyZSBtYXRlcmlhbGl6ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBFTEVNRU5UX0lEID0gJ3E6aWQnO1xuZXhwb3J0IGNvbnN0IEVMRU1FTlRfS0VZID0gJ3E6a2V5JztcbmV4cG9ydCBjb25zdCBFTEVNRU5UX1BST1BTID0gJ3E6cHJvcHMnO1xuZXhwb3J0IGNvbnN0IEVMRU1FTlRfU0VRID0gJ3E6c2VxJztcbmV4cG9ydCBjb25zdCBFTEVNRU5UX1NFUV9JRFggPSAncTpzZXFJZHgnO1xuZXhwb3J0IGNvbnN0IEVMRU1FTlRfQkFDS1BBVENIX0RBVEEgPSAncXdpay9iYWNrcGF0Y2gnO1xuZXhwb3J0IGNvbnN0IFFfUFJFRklYID0gJ3E6JztcblxuLyoqIE5vbiBzZXJpYWxpemFibGUgbWFya2VycyAtIGFsd2F5cyBiZWdpbnMgd2l0aCBgOmAgY2hhcmFjdGVyICovXG5leHBvcnQgY29uc3QgTk9OX1NFUklBTElaQUJMRV9NQVJLRVJfUFJFRklYID0gJzonO1xuZXhwb3J0IGNvbnN0IFVTRV9PTl9MT0NBTCA9IE5PTl9TRVJJQUxJWkFCTEVfTUFSS0VSX1BSRUZJWCArICdvbic7XG5leHBvcnQgY29uc3QgVVNFX09OX0xPQ0FMX1NFUV9JRFggPSBOT05fU0VSSUFMSVpBQkxFX01BUktFUl9QUkVGSVggKyAnb25JZHgnO1xuZXhwb3J0IGNvbnN0IFVTRV9PTl9MT0NBTF9GTEFHUyA9IE5PTl9TRVJJQUxJWkFCTEVfTUFSS0VSX1BSRUZJWCArICdvbkZsYWdzJztcblxuLy8gY29tbWVudCBub2Rlc1xuZXhwb3J0IGNvbnN0IEZMVVNIX0NPTU1FTlQgPSAncWtzc3ItZic7XG5leHBvcnQgY29uc3QgU1RSRUFNX0JMT0NLX1NUQVJUX0NPTU1FTlQgPSAncWtzc3ItcHUnO1xuZXhwb3J0IGNvbnN0IFNUUkVBTV9CTE9DS19FTkRfQ09NTUVOVCA9ICdxa3Nzci1wbyc7XG5cbmV4cG9ydCBjb25zdCBRX1BST1BTX1NFUEFSQVRPUiA9ICc6JztcblxuZXhwb3J0IGNvbnN0IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID0gJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJztcbmV4cG9ydCBjb25zdCBxd2lrSW5zcGVjdG9yQXR0ciA9ICdkYXRhLXF3aWstaW5zcGVjdG9yJztcbiJdfQ==","// keep this import from core/build so the cjs build works\nimport { isServer } from '@qwik.dev/core/build';\nimport { qError } from '../error/error';\nimport { getSymbolHash } from '../qrl/qrl-utils';\nimport { QBaseAttr } from '../utils/markers';\nimport { qDynamicPlatform } from '../utils/qdev';\nexport const createPlatform = () => {\n    return {\n        isServer,\n        importSymbol(containerEl, url, symbolName) {\n            if (isServer) {\n                const hash = getSymbolHash(symbolName);\n                const regSym = globalThis.__qwik_reg_symbols?.get(hash);\n                if (regSym) {\n                    return regSym;\n                }\n            }\n            if (!url) {\n                throw qError(14 /* QError.qrlMissingChunk */, [symbolName]);\n            }\n            if (!containerEl) {\n                throw qError(13 /* QError.qrlMissingContainer */, [url, symbolName]);\n            }\n            const urlDoc = toUrl(containerEl.ownerDocument, containerEl, url).toString();\n            const urlCopy = new URL(urlDoc);\n            urlCopy.hash = '';\n            const importURL = urlCopy.href;\n            return import(/* @vite-ignore */ importURL).then((mod) => {\n                return mod[symbolName];\n            });\n        },\n        raf: (fn) => {\n            return new Promise((resolve) => {\n                requestAnimationFrame(() => {\n                    resolve(fn());\n                });\n            });\n        },\n        chunkForSymbol(symbolName, chunk) {\n            return [symbolName, chunk ?? '_'];\n        },\n    };\n};\n/**\n * Convert relative base URI and relative URL into a fully qualified URL.\n *\n * @param base -`QRL`s are relative, and therefore they need a base for resolution.\n *\n *   - `Element` use `base.ownerDocument.baseURI`\n *   - `Document` use `base.baseURI`\n *   - `string` use `base` as is\n *   - `QConfig` use `base.baseURI`\n *\n * @param url - Relative URL\n * @returns Fully qualified URL.\n */\nexport const toUrl = (doc, containerEl, url) => {\n    const baseURI = doc.baseURI;\n    const base = new URL(containerEl.getAttribute(QBaseAttr) ?? baseURI, baseURI);\n    return new URL(url, base);\n};\nlet _platform = /*#__PURE__ */ createPlatform();\n// <docs markdown=\"./readme.md#setPlatform\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ./readme.md#setPlatform instead and run `pnpm docs.sync`)\n/**\n * Sets the `CorePlatform`.\n *\n * This is useful to override the platform in tests to change the behavior of,\n * `requestAnimationFrame`, and import resolution.\n *\n * @param doc - The document of the application for which the platform is needed.\n * @param platform - The platform to use.\n * @public\n */\n// </docs>\nexport const setPlatform = (plt) => (_platform = plt);\n// <docs markdown=\"./readme.md#getPlatform\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ./readme.md#getPlatform instead and run `pnpm docs.sync`)\n/**\n * Retrieve the `CorePlatform`.\n *\n * The `CorePlatform` is also responsible for retrieving the Manifest, that contains mappings from\n * symbols to javascript import chunks. For this reason, `CorePlatform` can't be global, but is\n * specific to the application currently running. On server it is possible that many different\n * applications are running in a single server instance, and for this reason the `CorePlatform` is\n * associated with the application document.\n *\n * @param docOrNode - The document (or node) of the application for which the platform is needed.\n * @public\n */\n// </docs>\nexport const getPlatform = () => {\n    return _platform;\n};\nexport const isServerPlatform = () => {\n    if (qDynamicPlatform) {\n        return _platform.isServer;\n    }\n    return false;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGxhdGZvcm0uanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL3BsYXRmb3JtL3BsYXRmb3JtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDBEQUEwRDtBQUMxRCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDaEQsT0FBTyxFQUFVLE1BQU0sRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNqRCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDN0MsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sZUFBZSxDQUFDO0FBR2pELE1BQU0sQ0FBQyxNQUFNLGNBQWMsR0FBRyxHQUFpQixFQUFFO0lBQy9DLE9BQU87UUFDTCxRQUFRO1FBQ1IsWUFBWSxDQUFDLFdBQVcsRUFBRSxHQUFHLEVBQUUsVUFBVTtZQUN2QyxJQUFJLFFBQVEsRUFBRSxDQUFDO2dCQUNiLE1BQU0sSUFBSSxHQUFHLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDdkMsTUFBTSxNQUFNLEdBQUksVUFBa0IsQ0FBQyxrQkFBa0IsRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ2pFLElBQUksTUFBTSxFQUFFLENBQUM7b0JBQ1gsT0FBTyxNQUFNLENBQUM7Z0JBQ2hCLENBQUM7WUFDSCxDQUFDO1lBQ0QsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO2dCQUNULE1BQU0sTUFBTSxrQ0FBeUIsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1lBQ3JELENBQUM7WUFDRCxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7Z0JBQ2pCLE1BQU0sTUFBTSxzQ0FBNkIsQ0FBQyxHQUFHLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQztZQUM5RCxDQUFDO1lBQ0QsTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQyxhQUFhLEVBQUUsV0FBVyxFQUFFLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQzdFLE1BQU0sT0FBTyxHQUFHLElBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ2hDLE9BQU8sQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO1lBQ2xCLE1BQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUM7WUFDL0IsT0FBTyxNQUFNLENBQUMsa0JBQWtCLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7Z0JBQ3ZELE9BQU8sR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ3pCLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUNELEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO1lBQ1YsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO2dCQUM3QixxQkFBcUIsQ0FBQyxHQUFHLEVBQUU7b0JBQ3pCLE9BQU8sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUNoQixDQUFDLENBQUMsQ0FBQztZQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUNELGNBQWMsQ0FBQyxVQUFVLEVBQUUsS0FBSztZQUM5QixPQUFPLENBQUMsVUFBVSxFQUFFLEtBQUssSUFBSSxHQUFHLENBQUMsQ0FBQztRQUNwQyxDQUFDO0tBQ0YsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGOzs7Ozs7Ozs7Ozs7R0FZRztBQUNILE1BQU0sQ0FBQyxNQUFNLEtBQUssR0FBRyxDQUFDLEdBQWEsRUFBRSxXQUFvQixFQUFFLEdBQWlCLEVBQU8sRUFBRTtJQUNuRixNQUFNLE9BQU8sR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDO0lBQzVCLE1BQU0sSUFBSSxHQUFHLElBQUksR0FBRyxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLElBQUksT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQzlFLE9BQU8sSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzVCLENBQUMsQ0FBQztBQUVGLElBQUksU0FBUyxHQUFHLGNBQWMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztBQUVoRCw0Q0FBNEM7QUFDNUMseUNBQXlDO0FBQ3pDLGtFQUFrRTtBQUNsRTs7Ozs7Ozs7O0dBU0c7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLENBQUMsR0FBaUIsRUFBRSxFQUFFLENBQUMsQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDLENBQUM7QUFFcEUsNENBQTRDO0FBQzVDLHlDQUF5QztBQUN6QyxrRUFBa0U7QUFDbEU7Ozs7Ozs7Ozs7O0dBV0c7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLEdBQWlCLEVBQUU7SUFDNUMsT0FBTyxTQUFTLENBQUM7QUFDbkIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsR0FBRyxFQUFFO0lBQ25DLElBQUksZ0JBQWdCLEVBQUUsQ0FBQztRQUNyQixPQUFPLFNBQVMsQ0FBQyxRQUFRLENBQUM7SUFDNUIsQ0FBQztJQUNELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8ga2VlcCB0aGlzIGltcG9ydCBmcm9tIGNvcmUvYnVpbGQgc28gdGhlIGNqcyBidWlsZCB3b3Jrc1xuaW1wb3J0IHsgaXNTZXJ2ZXIgfSBmcm9tICdAcXdpay5kZXYvY29yZS9idWlsZCc7XG5pbXBvcnQgeyBRRXJyb3IsIHFFcnJvciB9IGZyb20gJy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IGdldFN5bWJvbEhhc2ggfSBmcm9tICcuLi9xcmwvcXJsLXV0aWxzJztcbmltcG9ydCB7IFFCYXNlQXR0ciB9IGZyb20gJy4uL3V0aWxzL21hcmtlcnMnO1xuaW1wb3J0IHsgcUR5bmFtaWNQbGF0Zm9ybSB9IGZyb20gJy4uL3V0aWxzL3FkZXYnO1xuaW1wb3J0IHR5cGUgeyBDb3JlUGxhdGZvcm0gfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVBsYXRmb3JtID0gKCk6IENvcmVQbGF0Zm9ybSA9PiB7XG4gIHJldHVybiB7XG4gICAgaXNTZXJ2ZXIsXG4gICAgaW1wb3J0U3ltYm9sKGNvbnRhaW5lckVsLCB1cmwsIHN5bWJvbE5hbWUpIHtcbiAgICAgIGlmIChpc1NlcnZlcikge1xuICAgICAgICBjb25zdCBoYXNoID0gZ2V0U3ltYm9sSGFzaChzeW1ib2xOYW1lKTtcbiAgICAgICAgY29uc3QgcmVnU3ltID0gKGdsb2JhbFRoaXMgYXMgYW55KS5fX3F3aWtfcmVnX3N5bWJvbHM/LmdldChoYXNoKTtcbiAgICAgICAgaWYgKHJlZ1N5bSkge1xuICAgICAgICAgIHJldHVybiByZWdTeW07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghdXJsKSB7XG4gICAgICAgIHRocm93IHFFcnJvcihRRXJyb3IucXJsTWlzc2luZ0NodW5rLCBbc3ltYm9sTmFtZV0pO1xuICAgICAgfVxuICAgICAgaWYgKCFjb250YWluZXJFbCkge1xuICAgICAgICB0aHJvdyBxRXJyb3IoUUVycm9yLnFybE1pc3NpbmdDb250YWluZXIsIFt1cmwsIHN5bWJvbE5hbWVdKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHVybERvYyA9IHRvVXJsKGNvbnRhaW5lckVsLm93bmVyRG9jdW1lbnQsIGNvbnRhaW5lckVsLCB1cmwpLnRvU3RyaW5nKCk7XG4gICAgICBjb25zdCB1cmxDb3B5ID0gbmV3IFVSTCh1cmxEb2MpO1xuICAgICAgdXJsQ29weS5oYXNoID0gJyc7XG4gICAgICBjb25zdCBpbXBvcnRVUkwgPSB1cmxDb3B5LmhyZWY7XG4gICAgICByZXR1cm4gaW1wb3J0KC8qIEB2aXRlLWlnbm9yZSAqLyBpbXBvcnRVUkwpLnRoZW4oKG1vZCkgPT4ge1xuICAgICAgICByZXR1cm4gbW9kW3N5bWJvbE5hbWVdO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICByYWY6IChmbikgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShmbigpKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNodW5rRm9yU3ltYm9sKHN5bWJvbE5hbWUsIGNodW5rKSB7XG4gICAgICByZXR1cm4gW3N5bWJvbE5hbWUsIGNodW5rID8/ICdfJ107XG4gICAgfSxcbiAgfTtcbn07XG5cbi8qKlxuICogQ29udmVydCByZWxhdGl2ZSBiYXNlIFVSSSBhbmQgcmVsYXRpdmUgVVJMIGludG8gYSBmdWxseSBxdWFsaWZpZWQgVVJMLlxuICpcbiAqIEBwYXJhbSBiYXNlIC1gUVJMYHMgYXJlIHJlbGF0aXZlLCBhbmQgdGhlcmVmb3JlIHRoZXkgbmVlZCBhIGJhc2UgZm9yIHJlc29sdXRpb24uXG4gKlxuICogICAtIGBFbGVtZW50YCB1c2UgYGJhc2Uub3duZXJEb2N1bWVudC5iYXNlVVJJYFxuICogICAtIGBEb2N1bWVudGAgdXNlIGBiYXNlLmJhc2VVUklgXG4gKiAgIC0gYHN0cmluZ2AgdXNlIGBiYXNlYCBhcyBpc1xuICogICAtIGBRQ29uZmlnYCB1c2UgYGJhc2UuYmFzZVVSSWBcbiAqXG4gKiBAcGFyYW0gdXJsIC0gUmVsYXRpdmUgVVJMXG4gKiBAcmV0dXJucyBGdWxseSBxdWFsaWZpZWQgVVJMLlxuICovXG5leHBvcnQgY29uc3QgdG9VcmwgPSAoZG9jOiBEb2N1bWVudCwgY29udGFpbmVyRWw6IEVsZW1lbnQsIHVybDogc3RyaW5nIHwgVVJMKTogVVJMID0+IHtcbiAgY29uc3QgYmFzZVVSSSA9IGRvYy5iYXNlVVJJO1xuICBjb25zdCBiYXNlID0gbmV3IFVSTChjb250YWluZXJFbC5nZXRBdHRyaWJ1dGUoUUJhc2VBdHRyKSA/PyBiYXNlVVJJLCBiYXNlVVJJKTtcbiAgcmV0dXJuIG5ldyBVUkwodXJsLCBiYXNlKTtcbn07XG5cbmxldCBfcGxhdGZvcm0gPSAvKiNfX1BVUkVfXyAqLyBjcmVhdGVQbGF0Zm9ybSgpO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4vcmVhZG1lLm1kI3NldFBsYXRmb3JtXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi9yZWFkbWUubWQjc2V0UGxhdGZvcm0gaW5zdGVhZCBhbmQgcnVuIGBwbnBtIGRvY3Muc3luY2ApXG4vKipcbiAqIFNldHMgdGhlIGBDb3JlUGxhdGZvcm1gLlxuICpcbiAqIFRoaXMgaXMgdXNlZnVsIHRvIG92ZXJyaWRlIHRoZSBwbGF0Zm9ybSBpbiB0ZXN0cyB0byBjaGFuZ2UgdGhlIGJlaGF2aW9yIG9mLFxuICogYHJlcXVlc3RBbmltYXRpb25GcmFtZWAsIGFuZCBpbXBvcnQgcmVzb2x1dGlvbi5cbiAqXG4gKiBAcGFyYW0gZG9jIC0gVGhlIGRvY3VtZW50IG9mIHRoZSBhcHBsaWNhdGlvbiBmb3Igd2hpY2ggdGhlIHBsYXRmb3JtIGlzIG5lZWRlZC5cbiAqIEBwYXJhbSBwbGF0Zm9ybSAtIFRoZSBwbGF0Zm9ybSB0byB1c2UuXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBzZXRQbGF0Zm9ybSA9IChwbHQ6IENvcmVQbGF0Zm9ybSkgPT4gKF9wbGF0Zm9ybSA9IHBsdCk7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi9yZWFkbWUubWQjZ2V0UGxhdGZvcm1cIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuL3JlYWRtZS5tZCNnZXRQbGF0Zm9ybSBpbnN0ZWFkIGFuZCBydW4gYHBucG0gZG9jcy5zeW5jYClcbi8qKlxuICogUmV0cmlldmUgdGhlIGBDb3JlUGxhdGZvcm1gLlxuICpcbiAqIFRoZSBgQ29yZVBsYXRmb3JtYCBpcyBhbHNvIHJlc3BvbnNpYmxlIGZvciByZXRyaWV2aW5nIHRoZSBNYW5pZmVzdCwgdGhhdCBjb250YWlucyBtYXBwaW5ncyBmcm9tXG4gKiBzeW1ib2xzIHRvIGphdmFzY3JpcHQgaW1wb3J0IGNodW5rcy4gRm9yIHRoaXMgcmVhc29uLCBgQ29yZVBsYXRmb3JtYCBjYW4ndCBiZSBnbG9iYWwsIGJ1dCBpc1xuICogc3BlY2lmaWMgdG8gdGhlIGFwcGxpY2F0aW9uIGN1cnJlbnRseSBydW5uaW5nLiBPbiBzZXJ2ZXIgaXQgaXMgcG9zc2libGUgdGhhdCBtYW55IGRpZmZlcmVudFxuICogYXBwbGljYXRpb25zIGFyZSBydW5uaW5nIGluIGEgc2luZ2xlIHNlcnZlciBpbnN0YW5jZSwgYW5kIGZvciB0aGlzIHJlYXNvbiB0aGUgYENvcmVQbGF0Zm9ybWAgaXNcbiAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgYXBwbGljYXRpb24gZG9jdW1lbnQuXG4gKlxuICogQHBhcmFtIGRvY09yTm9kZSAtIFRoZSBkb2N1bWVudCAob3Igbm9kZSkgb2YgdGhlIGFwcGxpY2F0aW9uIGZvciB3aGljaCB0aGUgcGxhdGZvcm0gaXMgbmVlZGVkLlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgZ2V0UGxhdGZvcm0gPSAoKTogQ29yZVBsYXRmb3JtID0+IHtcbiAgcmV0dXJuIF9wbGF0Zm9ybTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1NlcnZlclBsYXRmb3JtID0gKCkgPT4ge1xuICBpZiAocUR5bmFtaWNQbGF0Zm9ybSkge1xuICAgIHJldHVybiBfcGxhdGZvcm0uaXNTZXJ2ZXI7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcbiJdfQ==","export const isNode = (value) => {\n    return value && typeof value.nodeType === 'number';\n};\nexport const isDocument = (value) => {\n    return value.nodeType === 9;\n};\nexport const isElement = (value) => {\n    return value.nodeType === 1;\n};\nexport const isText = (value) => {\n    return value.nodeType === 3;\n};\nexport const isComment = (value) => {\n    return value.nodeType === 8;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWxlbWVudC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvdXRpbHMvZWxlbWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsQ0FBQyxLQUFVLEVBQWlCLEVBQUU7SUFDbEQsT0FBTyxLQUFLLElBQUksT0FBTyxLQUFLLENBQUMsUUFBUSxLQUFLLFFBQVEsQ0FBQztBQUNyRCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FBQyxLQUFXLEVBQXFCLEVBQUU7SUFDM0QsT0FBUSxLQUFhLENBQUMsUUFBUSxLQUFLLENBQUMsQ0FBQztBQUN2QyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FBQyxLQUFhLEVBQW9CLEVBQUU7SUFDM0QsT0FBUSxLQUFhLENBQUMsUUFBUSxLQUFLLENBQUMsQ0FBQztBQUN2QyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsQ0FBQyxLQUFxQixFQUFpQixFQUFFO0lBQzdELE9BQVEsS0FBYSxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUM7QUFDdkMsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQUMsS0FBcUIsRUFBb0IsRUFBRTtJQUNuRSxPQUFRLEtBQWEsQ0FBQyxRQUFRLEtBQUssQ0FBQyxDQUFDO0FBQ3ZDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBpc05vZGUgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIE5vZGUgPT4ge1xuICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLm5vZGVUeXBlID09PSAnbnVtYmVyJztcbn07XG5cbmV4cG9ydCBjb25zdCBpc0RvY3VtZW50ID0gKHZhbHVlOiBOb2RlKTogdmFsdWUgaXMgRG9jdW1lbnQgPT4ge1xuICByZXR1cm4gKHZhbHVlIGFzIGFueSkubm9kZVR5cGUgPT09IDk7XG59O1xuXG5leHBvcnQgY29uc3QgaXNFbGVtZW50ID0gKHZhbHVlOiBvYmplY3QpOiB2YWx1ZSBpcyBFbGVtZW50ID0+IHtcbiAgcmV0dXJuICh2YWx1ZSBhcyBhbnkpLm5vZGVUeXBlID09PSAxO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzVGV4dCA9ICh2YWx1ZTogTm9kZSB8IEVsZW1lbnQpOiB2YWx1ZSBpcyBUZXh0ID0+IHtcbiAgcmV0dXJuICh2YWx1ZSBhcyBhbnkpLm5vZGVUeXBlID09PSAzO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzQ29tbWVudCA9ICh2YWx1ZTogTm9kZSB8IEVsZW1lbnQpOiB2YWx1ZSBpcyBDb21tZW50ID0+IHtcbiAgcmV0dXJuICh2YWx1ZSBhcyBhbnkpLm5vZGVUeXBlID09PSA4O1xufTtcbiJdfQ==","import { isDev, isServer } from '@qwik.dev/core/build';\nimport { throwErrorAndStop } from './log';\nexport const MAX_RETRY_ON_PROMISE_COUNT = 100;\nexport const isPromise = (value) => {\n    // not using \"value instanceof Promise\" to have zone.js support\n    return !!value && typeof value == 'object' && typeof value.then === 'function';\n};\nexport const safeCall = (call, thenFn, rejectFn) => {\n    try {\n        const result = call();\n        if (isPromise(result)) {\n            return result.then(thenFn, rejectFn);\n        }\n        else {\n            return thenFn(result);\n        }\n    }\n    catch (e) {\n        return rejectFn(e);\n    }\n};\nexport const maybeThen = (valueOrPromise, thenFn) => {\n    return isPromise(valueOrPromise)\n        ? valueOrPromise.then(thenFn, shouldNotError)\n        : thenFn(valueOrPromise);\n};\nexport const shouldNotError = (reason) => {\n    throwErrorAndStop(reason);\n};\nexport const maybeThenMap = (array, thenMapFn, thenFn) => {\n    const length = array.length;\n    const mappedArray = [];\n    let idx = 0;\n    const drain = () => {\n        let result;\n        do {\n            const item = array[idx];\n            result = isPromise(item) ? item.then(thenMapFn) : thenMapFn(item);\n            if (isPromise(result)) {\n                return result.then((value) => {\n                    mappedArray[idx] = value;\n                    return drain();\n                });\n            }\n            else {\n                mappedArray[idx] = result;\n                idx++;\n            }\n        } while (idx < length);\n        return mappedArray;\n    };\n    return maybeThen(drain(), thenFn);\n};\nexport const promiseAll = (promises) => {\n    const hasPromise = promises.some(isPromise);\n    if (hasPromise) {\n        return Promise.all(promises);\n    }\n    return promises;\n};\nexport const promiseAllLazy = (promises) => {\n    if (promises.length > 0) {\n        return Promise.all(promises);\n    }\n    return promises;\n};\nexport const isNotNullable = (v) => {\n    return v != null;\n};\nexport const delay = (timeout) => {\n    return new Promise((resolve) => {\n        setTimeout(resolve, timeout);\n    });\n};\n/** Retries a function that throws a promise. */\nexport function retryOnPromise(fn, retryCount = 0) {\n    const retryOrThrow = (e) => {\n        if (isPromise(e) && retryCount < MAX_RETRY_ON_PROMISE_COUNT) {\n            return e.then(retryOnPromise.bind(null, fn, retryCount++));\n        }\n        throw e;\n    };\n    try {\n        const result = fn();\n        if (isPromise(result)) {\n            // not awaited promise is not caught by try/catch block\n            return result.catch((e) => retryOrThrow(e));\n        }\n        return result;\n    }\n    catch (e) {\n        if (isDev && isServer && e instanceof ReferenceError && e.message.includes('window')) {\n            e.message = 'It seems like you forgot to add \"if (isBrowser) {...}\" here:' + e.message;\n            throw e;\n        }\n        return retryOrThrow(e);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvbWlzZXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL3V0aWxzL3Byb21pc2VzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDdkQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sT0FBTyxDQUFDO0FBRzFDLE1BQU0sQ0FBQyxNQUFNLDBCQUEwQixHQUFHLEdBQUcsQ0FBQztBQUU5QyxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FBQyxLQUFVLEVBQXlCLEVBQUU7SUFDN0QsK0RBQStEO0lBQy9ELE9BQU8sQ0FBQyxDQUFDLEtBQUssSUFBSSxPQUFPLEtBQUssSUFBSSxRQUFRLElBQUksT0FBTyxLQUFLLENBQUMsSUFBSSxLQUFLLFVBQVUsQ0FBQztBQUNqRixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FDdEIsSUFBNkIsRUFDN0IsTUFBc0QsRUFDdEQsUUFBb0QsRUFDN0IsRUFBRTtJQUN6QixJQUFJLENBQUM7UUFDSCxNQUFNLE1BQU0sR0FBRyxJQUFJLEVBQUUsQ0FBQztRQUN0QixJQUFJLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO1lBQ3RCLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFhLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDOUMsQ0FBQzthQUFNLENBQUM7WUFDTixPQUFPLE1BQU0sQ0FBQyxNQUFhLENBQUMsQ0FBQztRQUMvQixDQUFDO0lBQ0gsQ0FBQztJQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUM7UUFDWCxPQUFPLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNyQixDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQ3ZCLGNBQWlDLEVBQ2pDLE1BQThDLEVBQzNCLEVBQUU7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LEVBQTJCLEVBQzNCLGFBQXFCLENBQUM7SUFFdEIsTUFBTSxZQUFZLEdBQUcsQ0FBQyxDQUFNLEVBQXFCLEVBQUU7UUFDakQsSUFBSSxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksVUFBVSxHQUFHLDBCQUEwQixFQUFFLENBQUM7WUFDNUQsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxVQUFVLEVBQUUsQ0FBQyxDQUFzQixDQUFDO1FBQ2xGLENBQUM7UUFDRCxNQUFNLENBQUMsQ0FBQztJQUNWLENBQUMsQ0FBQztJQUVGLElBQUksQ0FBQztRQUNILE1BQU0sTUFBTSxHQUFHLEVBQUUsRUFBRSxDQUFDO1FBQ3BCLElBQUksU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7WUFDdEIsdURBQXVEO1lBQ3ZELE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUMsQ0FBQztRQUNELE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7SUFBQyxPQUFPLENBQUMsRUFBRSxDQUFDO1FBQ1gsSUFBSSxLQUFLLElBQUksUUFBUSxJQUFJLENBQUMsWUFBWSxjQUFjLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztZQUNyRixDQUFDLENBQUMsT0FBTyxHQUFHLDhEQUE4RCxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUM7WUFDdkYsTUFBTSxDQUFDLENBQUM7UUFDVixDQUFDO1FBQ0QsT0FBTyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekIsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0RldiwgaXNTZXJ2ZXIgfSBmcm9tICdAcXdpay5kZXYvY29yZS9idWlsZCc7XG5pbXBvcnQgeyB0aHJvd0Vycm9yQW5kU3RvcCB9IGZyb20gJy4vbG9nJztcbmltcG9ydCB0eXBlIHsgVmFsdWVPclByb21pc2UgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IE1BWF9SRVRSWV9PTl9QUk9NSVNFX0NPVU5UID0gMTAwO1xuXG5leHBvcnQgY29uc3QgaXNQcm9taXNlID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBQcm9taXNlPGFueT4gPT4ge1xuICAvLyBub3QgdXNpbmcgXCJ2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2VcIiB0byBoYXZlIHpvbmUuanMgc3VwcG9ydFxuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09ICdmdW5jdGlvbic7XG59O1xuXG5leHBvcnQgY29uc3Qgc2FmZUNhbGwgPSA8VCwgQiwgQz4oXG4gIGNhbGw6ICgpID0+IFZhbHVlT3JQcm9taXNlPFQ+LFxuICB0aGVuRm46IHsgZihhcmc6IEF3YWl0ZWQ8VD4pOiBWYWx1ZU9yUHJvbWlzZTxCPiB9WydmJ10sXG4gIHJlamVjdEZuOiB7IGYocmVhc29uOiBhbnkpOiBWYWx1ZU9yUHJvbWlzZTxDPiB9WydmJ11cbik6IFZhbHVlT3JQcm9taXNlPEIgfCBDPiA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzdWx0ID0gY2FsbCgpO1xuICAgIGlmIChpc1Byb21pc2UocmVzdWx0KSkge1xuICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKHRoZW5GbiBhcyBhbnksIHJlamVjdEZuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoZW5GbihyZXN1bHQgYXMgYW55KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gcmVqZWN0Rm4oZSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBtYXliZVRoZW4gPSA8VCwgQj4oXG4gIHZhbHVlT3JQcm9taXNlOiBWYWx1ZU9yUHJvbWlzZTxUPixcbiAgdGhlbkZuOiAoYXJnOiBBd2FpdGVkPFQ+KSA9PiBWYWx1ZU9yUHJvbWlzZTxCPlxuKTogVmFsdWVPclByb21pc2U8Qj4gPT4ge1xuICByZXR1cm4gaXNQcm9taXNlKHZhbHVlT3JQcm9taXNlKVxuICAgID8gdmFsdWVPclByb21pc2UudGhlbih0aGVuRm4gYXMgYW55LCBzaG91bGROb3RFcnJvcilcbiAgICA6IHRoZW5Gbih2YWx1ZU9yUHJvbWlzZSBhcyBhbnkpO1xufTtcblxuZXhwb3J0IGNvbnN0IHNob3VsZE5vdEVycm9yID0gKHJlYXNvbjogYW55KTogYW55ID0+IHtcbiAgdGhyb3dFcnJvckFuZFN0b3AocmVhc29uKTtcbn07XG5cbmV4cG9ydCBjb25zdCBtYXliZVRoZW5NYXAgPSA8VCwgTUFQX1JFVCwgUkVUPihcbiAgYXJyYXk6IFZhbHVlT3JQcm9taXNlPFQ+W10sXG4gIHRoZW5NYXBGbjogKGl0ZW06IFQpID0+IFZhbHVlT3JQcm9taXNlPE1BUF9SRVQ+LFxuICB0aGVuRm46IChpdGVtczogTUFQX1JFVFtdKSA9PiBWYWx1ZU9yUHJvbWlzZTxSRVQ+XG4pOiBWYWx1ZU9yUHJvbWlzZTxSRVQ+ID0+IHtcbiAgY29uc3QgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICBjb25zdCBtYXBwZWRBcnJheTogTUFQX1JFVFtdID0gW107XG4gIGxldCBpZHggPSAwO1xuICBjb25zdCBkcmFpbiA9ICgpOiBWYWx1ZU9yUHJvbWlzZTxNQVBfUkVUW10+ID0+IHtcbiAgICBsZXQgcmVzdWx0OiBWYWx1ZU9yUHJvbWlzZTxNQVBfUkVUPjtcbiAgICBkbyB7XG4gICAgICBjb25zdCBpdGVtID0gYXJyYXlbaWR4XTtcbiAgICAgIHJlc3VsdCA9IGlzUHJvbWlzZShpdGVtKSA/IGl0ZW0udGhlbih0aGVuTWFwRm4pIDogdGhlbk1hcEZuKGl0ZW0pO1xuICAgICAgaWYgKGlzUHJvbWlzZShyZXN1bHQpKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQudGhlbigodmFsdWUpID0+IHtcbiAgICAgICAgICBtYXBwZWRBcnJheVtpZHhdID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIGRyYWluKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFwcGVkQXJyYXlbaWR4XSA9IHJlc3VsdDtcbiAgICAgICAgaWR4Kys7XG4gICAgICB9XG4gICAgfSB3aGlsZSAoaWR4IDwgbGVuZ3RoKTtcbiAgICByZXR1cm4gbWFwcGVkQXJyYXk7XG4gIH07XG4gIHJldHVybiBtYXliZVRoZW4oZHJhaW4oKSwgdGhlbkZuKTtcbn07XG5cbmV4cG9ydCBjb25zdCBwcm9taXNlQWxsID0gPFQgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10gfCBbXT4oXG4gIHByb21pc2VzOiBUXG4pOiBWYWx1ZU9yUHJvbWlzZTx7IC1yZWFkb25seSBbUCBpbiBrZXlvZiBUXTogQXdhaXRlZDxUW1BdPiB9PiA9PiB7XG4gIGNvbnN0IGhhc1Byb21pc2UgPSBwcm9taXNlcy5zb21lKGlzUHJvbWlzZSk7XG4gIGlmIChoYXNQcm9taXNlKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgfVxuICByZXR1cm4gcHJvbWlzZXMgYXMgYW55O1xufTtcblxuZXhwb3J0IGNvbnN0IHByb21pc2VBbGxMYXp5ID0gPFQgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10gfCBbXT4oXG4gIHByb21pc2VzOiBUXG4pOiBWYWx1ZU9yUHJvbWlzZTx2b2lkPiA9PiB7XG4gIGlmIChwcm9taXNlcy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKSBhcyBhbnk7XG4gIH1cbiAgcmV0dXJuIHByb21pc2VzIGFzIGFueTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc05vdE51bGxhYmxlID0gPFQ+KHY6IFQpOiB2IGlzIE5vbk51bGxhYmxlPFQ+ID0+IHtcbiAgcmV0dXJuIHYgIT0gbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWxheSA9ICh0aW1lb3V0OiBudW1iZXIpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgc2V0VGltZW91dChyZXNvbHZlLCB0aW1lb3V0KTtcbiAgfSk7XG59O1xuXG4vKiogUmV0cmllcyBhIGZ1bmN0aW9uIHRoYXQgdGhyb3dzIGEgcHJvbWlzZS4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXRyeU9uUHJvbWlzZTxUPihcbiAgZm46ICgpID0+IFZhbHVlT3JQcm9taXNlPFQ+LFxuICByZXRyeUNvdW50OiBudW1iZXIgPSAwXG4pOiBWYWx1ZU9yUHJvbWlzZTxUPiB7XG4gIGNvbnN0IHJldHJ5T3JUaHJvdyA9IChlOiBhbnkpOiBWYWx1ZU9yUHJvbWlzZTxUPiA9PiB7XG4gICAgaWYgKGlzUHJvbWlzZShlKSAmJiByZXRyeUNvdW50IDwgTUFYX1JFVFJZX09OX1BST01JU0VfQ09VTlQpIHtcbiAgICAgIHJldHVybiBlLnRoZW4ocmV0cnlPblByb21pc2UuYmluZChudWxsLCBmbiwgcmV0cnlDb3VudCsrKSkgYXMgVmFsdWVPclByb21pc2U8VD47XG4gICAgfVxuICAgIHRocm93IGU7XG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCByZXN1bHQgPSBmbigpO1xuICAgIGlmIChpc1Byb21pc2UocmVzdWx0KSkge1xuICAgICAgLy8gbm90IGF3YWl0ZWQgcHJvbWlzZSBpcyBub3QgY2F1Z2h0IGJ5IHRyeS9jYXRjaCBibG9ja1xuICAgICAgcmV0dXJuIHJlc3VsdC5jYXRjaCgoZSkgPT4gcmV0cnlPclRocm93KGUpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChpc0RldiAmJiBpc1NlcnZlciAmJiBlIGluc3RhbmNlb2YgUmVmZXJlbmNlRXJyb3IgJiYgZS5tZXNzYWdlLmluY2x1ZGVzKCd3aW5kb3cnKSkge1xuICAgICAgZS5tZXNzYWdlID0gJ0l0IHNlZW1zIGxpa2UgeW91IGZvcmdvdCB0byBhZGQgXCJpZiAoaXNCcm93c2VyKSB7Li4ufVwiIGhlcmU6JyArIGUubWVzc2FnZTtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIHJldHVybiByZXRyeU9yVGhyb3coZSk7XG4gIH1cbn1cbiJdfQ==","import { throwErrorAndStop } from '../utils/log';\nimport { qDev } from '../utils/qdev';\nconst ASSERT_DISCLAIMER = 'Internal assert, this is likely caused by a bug in Qwik: ';\nexport function assertDefined(value, text, ...parts) {\n    if (qDev) {\n        if (value != null) {\n            return;\n        }\n        throwErrorAndStop(ASSERT_DISCLAIMER + text, ...parts);\n    }\n}\nexport function assertEqual(value1, value2, text, ...parts) {\n    if (qDev) {\n        if (value1 === value2) {\n            return;\n        }\n        throwErrorAndStop(ASSERT_DISCLAIMER + text, ...parts);\n    }\n}\nexport function assertFail(text, ...parts) {\n    if (qDev) {\n        throwErrorAndStop(ASSERT_DISCLAIMER + text, ...parts);\n    }\n}\nexport function assertTrue(value1, text, ...parts) {\n    if (qDev) {\n        if (value1 === true) {\n            return;\n        }\n        throwErrorAndStop(ASSERT_DISCLAIMER + text, ...parts);\n    }\n}\nexport function assertFalse(value1, text, ...parts) {\n    if (qDev) {\n        if (value1 === false) {\n            return;\n        }\n        throwErrorAndStop(ASSERT_DISCLAIMER + text, ...parts);\n    }\n}\nexport function assertNumber(value1, text, ...parts) {\n    if (qDev) {\n        if (typeof value1 === 'number') {\n            return;\n        }\n        throwErrorAndStop(ASSERT_DISCLAIMER + text, ...parts);\n    }\n}\nexport function assertString(value1, text, ...parts) {\n    if (qDev) {\n        if (typeof value1 === 'string') {\n            return;\n        }\n        throwErrorAndStop(ASSERT_DISCLAIMER + text, ...parts);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNzZXJ0LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC9lcnJvci9hc3NlcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ2pELE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFckMsTUFBTSxpQkFBaUIsR0FBRywyREFBMkQsQ0FBQztBQUV0RixNQUFNLFVBQVUsYUFBYSxDQUMzQixLQUFRLEVBQ1IsSUFBWSxFQUNaLEdBQUcsS0FBWTtJQUVmLElBQUksSUFBSSxFQUFFLENBQUM7UUFDVCxJQUFJLEtBQUssSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUNsQixPQUFPO1FBQ1QsQ0FBQztRQUNELGlCQUFpQixDQUFDLGlCQUFpQixHQUFHLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDO0lBQ3hELENBQUM7QUFDSCxDQUFDO0FBRUQsTUFBTSxVQUFVLFdBQVcsQ0FDekIsTUFBVyxFQUNYLE1BQVcsRUFDWCxJQUFZLEVBQ1osR0FBRyxLQUFZO0lBRWYsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUNULElBQUksTUFBTSxLQUFLLE1BQU0sRUFBRSxDQUFDO1lBQ3RCLE9BQU87UUFDVCxDQUFDO1FBQ0QsaUJBQWlCLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUM7SUFDeEQsQ0FBQztBQUNILENBQUM7QUFHRCxNQUFNLFVBQVUsVUFBVSxDQUFDLElBQVksRUFBRSxHQUFHLEtBQVk7SUFDdEQsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUNULGlCQUFpQixDQUFDLGlCQUFpQixHQUFHLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDO0lBQ3hELENBQUM7QUFDSCxDQUFDO0FBRUQsTUFBTSxVQUFVLFVBQVUsQ0FBQyxNQUFXLEVBQUUsSUFBWSxFQUFFLEdBQUcsS0FBWTtJQUNuRSxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ1QsSUFBSSxNQUFNLEtBQUssSUFBSSxFQUFFLENBQUM7WUFDcEIsT0FBTztRQUNULENBQUM7UUFDRCxpQkFBaUIsQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQztJQUN4RCxDQUFDO0FBQ0gsQ0FBQztBQUVELE1BQU0sVUFBVSxXQUFXLENBQUMsTUFBVyxFQUFFLElBQVksRUFBRSxHQUFHLEtBQVk7SUFDcEUsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUNULElBQUksTUFBTSxLQUFLLEtBQUssRUFBRSxDQUFDO1lBQ3JCLE9BQU87UUFDVCxDQUFDO1FBQ0QsaUJBQWlCLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUM7SUFDeEQsQ0FBQztBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsWUFBWSxDQUFDLE1BQVcsRUFBRSxJQUFZLEVBQUUsR0FBRyxLQUFZO0lBQ3JFLElBQUksSUFBSSxFQUFFLENBQUM7UUFDVCxJQUFJLE9BQU8sTUFBTSxLQUFLLFFBQVEsRUFBRSxDQUFDO1lBQy9CLE9BQU87UUFDVCxDQUFDO1FBQ0QsaUJBQWlCLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUM7SUFDeEQsQ0FBQztBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsWUFBWSxDQUFDLE1BQVcsRUFBRSxJQUFZLEVBQUUsR0FBRyxLQUFZO0lBQ3JFLElBQUksSUFBSSxFQUFFLENBQUM7UUFDVCxJQUFJLE9BQU8sTUFBTSxLQUFLLFFBQVEsRUFBRSxDQUFDO1lBQy9CLE9BQU87UUFDVCxDQUFDO1FBQ0QsaUJBQWlCLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUM7SUFDeEQsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0aHJvd0Vycm9yQW5kU3RvcCB9IGZyb20gJy4uL3V0aWxzL2xvZyc7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbHMvcWRldic7XG5cbmNvbnN0IEFTU0VSVF9ESVNDTEFJTUVSID0gJ0ludGVybmFsIGFzc2VydCwgdGhpcyBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFF3aWs6ICc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnREZWZpbmVkPFQ+KFxuICB2YWx1ZTogVCxcbiAgdGV4dDogc3RyaW5nLFxuICAuLi5wYXJ0czogYW55W11cbik6IGFzc2VydHMgdmFsdWUgaXMgTm9uTnVsbGFibGU8VD4ge1xuICBpZiAocURldikge1xuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRocm93RXJyb3JBbmRTdG9wKEFTU0VSVF9ESVNDTEFJTUVSICsgdGV4dCwgLi4ucGFydHMpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRFcXVhbChcbiAgdmFsdWUxOiBhbnksXG4gIHZhbHVlMjogYW55LFxuICB0ZXh0OiBzdHJpbmcsXG4gIC4uLnBhcnRzOiBhbnlbXVxuKTogYXNzZXJ0cyB2YWx1ZTEgaXMgdHlwZW9mIHZhbHVlMiB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKHZhbHVlMSA9PT0gdmFsdWUyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRocm93RXJyb3JBbmRTdG9wKEFTU0VSVF9ESVNDTEFJTUVSICsgdGV4dCwgLi4ucGFydHMpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRGYWlsKHRleHQ6IHN0cmluZywgLi4ucGFydHM6IGFueVtdKTogbmV2ZXI7XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0RmFpbCh0ZXh0OiBzdHJpbmcsIC4uLnBhcnRzOiBhbnlbXSkge1xuICBpZiAocURldikge1xuICAgIHRocm93RXJyb3JBbmRTdG9wKEFTU0VSVF9ESVNDTEFJTUVSICsgdGV4dCwgLi4ucGFydHMpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRUcnVlKHZhbHVlMTogYW55LCB0ZXh0OiBzdHJpbmcsIC4uLnBhcnRzOiBhbnlbXSk6IGFzc2VydHMgdmFsdWUxIGlzIHRydWUge1xuICBpZiAocURldikge1xuICAgIGlmICh2YWx1ZTEgPT09IHRydWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhyb3dFcnJvckFuZFN0b3AoQVNTRVJUX0RJU0NMQUlNRVIgKyB0ZXh0LCAuLi5wYXJ0cyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEZhbHNlKHZhbHVlMTogYW55LCB0ZXh0OiBzdHJpbmcsIC4uLnBhcnRzOiBhbnlbXSk6IGFzc2VydHMgdmFsdWUxIGlzIHRydWUge1xuICBpZiAocURldikge1xuICAgIGlmICh2YWx1ZTEgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRocm93RXJyb3JBbmRTdG9wKEFTU0VSVF9ESVNDTEFJTUVSICsgdGV4dCwgLi4ucGFydHMpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnROdW1iZXIodmFsdWUxOiBhbnksIHRleHQ6IHN0cmluZywgLi4ucGFydHM6IGFueVtdKTogYXNzZXJ0cyB2YWx1ZTEgaXMgbnVtYmVyIHtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlMSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhyb3dFcnJvckFuZFN0b3AoQVNTRVJUX0RJU0NMQUlNRVIgKyB0ZXh0LCAuLi5wYXJ0cyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFN0cmluZyh2YWx1ZTE6IGFueSwgdGV4dDogc3RyaW5nLCAuLi5wYXJ0czogYW55W10pOiBhc3NlcnRzIHZhbHVlMSBpcyBzdHJpbmcge1xuICBpZiAocURldikge1xuICAgIGlmICh0eXBlb2YgdmFsdWUxID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aHJvd0Vycm9yQW5kU3RvcChBU1NFUlRfRElTQ0xBSU1FUiArIHRleHQsIC4uLnBhcnRzKTtcbiAgfVxufVxuIl19","import { tryGetInvokeContext } from './use-core';\nimport { isServer } from '@qwik.dev/core/build';\nlet _locale = undefined;\nlet localAsyncStore;\nif (isServer) {\n    import('node:async_hooks')\n        .then((module) => {\n        localAsyncStore = new module.AsyncLocalStorage();\n    })\n        .catch(() => {\n        // ignore if AsyncLocalStorage is not available\n    });\n}\n/**\n * Retrieve the current locale.\n *\n * If no current locale and there is no `defaultLocale` the function throws an error.\n *\n * @returns The locale.\n * @public\n */\nexport function getLocale(defaultLocale) {\n    // Prefer per-request locale from local AsyncLocalStorage if available (server-side)\n    if (localAsyncStore) {\n        const locale = localAsyncStore.getStore();\n        if (locale) {\n            return locale;\n        }\n    }\n    if (_locale === undefined) {\n        const ctx = tryGetInvokeContext();\n        if (ctx && ctx.$locale$) {\n            return ctx.$locale$;\n        }\n        if (defaultLocale !== undefined) {\n            return defaultLocale;\n        }\n        throw new Error('Reading `locale` outside of context.');\n    }\n    return _locale;\n}\n/**\n * Override the `getLocale` with `lang` within the `fn` execution.\n *\n * @public\n */\nexport function withLocale(locale, fn) {\n    if (localAsyncStore) {\n        return localAsyncStore.run(locale, fn);\n    }\n    const previousLang = _locale;\n    try {\n        _locale = locale;\n        return fn();\n    }\n    finally {\n        _locale = previousLang;\n    }\n}\n/**\n * Globally set a lang.\n *\n * This can be used only in browser. Server execution requires that each request could potentially\n * be a different lang, therefore setting a global lang would produce incorrect responses.\n *\n * @public\n */\nexport function setLocale(locale) {\n    if (localAsyncStore) {\n        localAsyncStore.enterWith(locale);\n        return;\n    }\n    _locale = locale;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWxvY2FsZS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLWxvY2FsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDakQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBR2hELElBQUksT0FBTyxHQUF1QixTQUFTLENBQUM7QUFFNUMsSUFBSSxlQUFzRCxDQUFDO0FBRTNELElBQUksUUFBUSxFQUFFLENBQUM7SUFDYixNQUFNLENBQUMsa0JBQWtCLENBQUM7U0FDdkIsSUFBSSxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUU7UUFDZixlQUFlLEdBQUcsSUFBSSxNQUFNLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUNuRCxDQUFDLENBQUM7U0FDRCxLQUFLLENBQUMsR0FBRyxFQUFFO1FBQ1YsK0NBQStDO0lBQ2pELENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQztBQUVEOzs7Ozs7O0dBT0c7QUFDSCxNQUFNLFVBQVUsU0FBUyxDQUFDLGFBQXNCO0lBQzlDLG9GQUFvRjtJQUNwRixJQUFJLGVBQWUsRUFBRSxDQUFDO1FBQ3BCLE1BQU0sTUFBTSxHQUFHLGVBQWUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUMxQyxJQUFJLE1BQU0sRUFBRSxDQUFDO1lBQ1gsT0FBTyxNQUFNLENBQUM7UUFDaEIsQ0FBQztJQUNILENBQUM7SUFFRCxJQUFJLE9BQU8sS0FBSyxTQUFTLEVBQUUsQ0FBQztRQUMxQixNQUFNLEdBQUcsR0FBRyxtQkFBbUIsRUFBRSxDQUFDO1FBQ2xDLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUN4QixPQUFPLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDdEIsQ0FBQztRQUNELElBQUksYUFBYSxLQUFLLFNBQVMsRUFBRSxDQUFDO1lBQ2hDLE9BQU8sYUFBYSxDQUFDO1FBQ3ZCLENBQUM7UUFDRCxNQUFNLElBQUksS0FBSyxDQUFDLHNDQUFzQyxDQUFDLENBQUM7SUFDMUQsQ0FBQztJQUNELE9BQU8sT0FBTyxDQUFDO0FBQ2pCLENBQUM7QUFFRDs7OztHQUlHO0FBQ0gsTUFBTSxVQUFVLFVBQVUsQ0FBSSxNQUFjLEVBQUUsRUFBVztJQUN2RCxJQUFJLGVBQWUsRUFBRSxDQUFDO1FBQ3BCLE9BQU8sZUFBZSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDekMsQ0FBQztJQUVELE1BQU0sWUFBWSxHQUFHLE9BQU8sQ0FBQztJQUM3QixJQUFJLENBQUM7UUFDSCxPQUFPLEdBQUcsTUFBTSxDQUFDO1FBQ2pCLE9BQU8sRUFBRSxFQUFFLENBQUM7SUFDZCxDQUFDO1lBQVMsQ0FBQztRQUNULE9BQU8sR0FBRyxZQUFZLENBQUM7SUFDekIsQ0FBQztBQUNILENBQUM7QUFFRDs7Ozs7OztHQU9HO0FBQ0gsTUFBTSxVQUFVLFNBQVMsQ0FBQyxNQUFjO0lBQ3RDLElBQUksZUFBZSxFQUFFLENBQUM7UUFDcEIsZUFBZSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNsQyxPQUFPO0lBQ1QsQ0FBQztJQUNELE9BQU8sR0FBRyxNQUFNLENBQUM7QUFDbkIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRyeUdldEludm9rZUNvbnRleHQgfSBmcm9tICcuL3VzZS1jb3JlJztcbmltcG9ydCB7IGlzU2VydmVyIH0gZnJvbSAnQHF3aWsuZGV2L2NvcmUvYnVpbGQnO1xuaW1wb3J0IHR5cGUgeyBBc3luY0xvY2FsU3RvcmFnZSB9IGZyb20gJ25vZGU6YXN5bmNfaG9va3MnO1xuXG5sZXQgX2xvY2FsZTogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG5sZXQgbG9jYWxBc3luY1N0b3JlOiBBc3luY0xvY2FsU3RvcmFnZTxzdHJpbmc+IHwgdW5kZWZpbmVkO1xuXG5pZiAoaXNTZXJ2ZXIpIHtcbiAgaW1wb3J0KCdub2RlOmFzeW5jX2hvb2tzJylcbiAgICAudGhlbigobW9kdWxlKSA9PiB7XG4gICAgICBsb2NhbEFzeW5jU3RvcmUgPSBuZXcgbW9kdWxlLkFzeW5jTG9jYWxTdG9yYWdlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgLy8gaWdub3JlIGlmIEFzeW5jTG9jYWxTdG9yYWdlIGlzIG5vdCBhdmFpbGFibGVcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUgY3VycmVudCBsb2NhbGUuXG4gKlxuICogSWYgbm8gY3VycmVudCBsb2NhbGUgYW5kIHRoZXJlIGlzIG5vIGBkZWZhdWx0TG9jYWxlYCB0aGUgZnVuY3Rpb24gdGhyb3dzIGFuIGVycm9yLlxuICpcbiAqIEByZXR1cm5zIFRoZSBsb2NhbGUuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2NhbGUoZGVmYXVsdExvY2FsZT86IHN0cmluZyk6IHN0cmluZyB7XG4gIC8vIFByZWZlciBwZXItcmVxdWVzdCBsb2NhbGUgZnJvbSBsb2NhbCBBc3luY0xvY2FsU3RvcmFnZSBpZiBhdmFpbGFibGUgKHNlcnZlci1zaWRlKVxuICBpZiAobG9jYWxBc3luY1N0b3JlKSB7XG4gICAgY29uc3QgbG9jYWxlID0gbG9jYWxBc3luY1N0b3JlLmdldFN0b3JlKCk7XG4gICAgaWYgKGxvY2FsZSkge1xuICAgICAgcmV0dXJuIGxvY2FsZTtcbiAgICB9XG4gIH1cblxuICBpZiAoX2xvY2FsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgY3R4ID0gdHJ5R2V0SW52b2tlQ29udGV4dCgpO1xuICAgIGlmIChjdHggJiYgY3R4LiRsb2NhbGUkKSB7XG4gICAgICByZXR1cm4gY3R4LiRsb2NhbGUkO1xuICAgIH1cbiAgICBpZiAoZGVmYXVsdExvY2FsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdExvY2FsZTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSZWFkaW5nIGBsb2NhbGVgIG91dHNpZGUgb2YgY29udGV4dC4nKTtcbiAgfVxuICByZXR1cm4gX2xvY2FsZTtcbn1cblxuLyoqXG4gKiBPdmVycmlkZSB0aGUgYGdldExvY2FsZWAgd2l0aCBgbGFuZ2Agd2l0aGluIHRoZSBgZm5gIGV4ZWN1dGlvbi5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aXRoTG9jYWxlPFQ+KGxvY2FsZTogc3RyaW5nLCBmbjogKCkgPT4gVCk6IFQge1xuICBpZiAobG9jYWxBc3luY1N0b3JlKSB7XG4gICAgcmV0dXJuIGxvY2FsQXN5bmNTdG9yZS5ydW4obG9jYWxlLCBmbik7XG4gIH1cblxuICBjb25zdCBwcmV2aW91c0xhbmcgPSBfbG9jYWxlO1xuICB0cnkge1xuICAgIF9sb2NhbGUgPSBsb2NhbGU7XG4gICAgcmV0dXJuIGZuKCk7XG4gIH0gZmluYWxseSB7XG4gICAgX2xvY2FsZSA9IHByZXZpb3VzTGFuZztcbiAgfVxufVxuXG4vKipcbiAqIEdsb2JhbGx5IHNldCBhIGxhbmcuXG4gKlxuICogVGhpcyBjYW4gYmUgdXNlZCBvbmx5IGluIGJyb3dzZXIuIFNlcnZlciBleGVjdXRpb24gcmVxdWlyZXMgdGhhdCBlYWNoIHJlcXVlc3QgY291bGQgcG90ZW50aWFsbHlcbiAqIGJlIGEgZGlmZmVyZW50IGxhbmcsIHRoZXJlZm9yZSBzZXR0aW5nIGEgZ2xvYmFsIGxhbmcgd291bGQgcHJvZHVjZSBpbmNvcnJlY3QgcmVzcG9uc2VzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldExvY2FsZShsb2NhbGU6IHN0cmluZyk6IHZvaWQge1xuICBpZiAobG9jYWxBc3luY1N0b3JlKSB7XG4gICAgbG9jYWxBc3luY1N0b3JlLmVudGVyV2l0aChsb2NhbGUpO1xuICAgIHJldHVybjtcbiAgfVxuICBfbG9jYWxlID0gbG9jYWxlO1xufVxuIl19","/**\n * A friendly name tag for a VirtualVNode.\n *\n * Theses are used to give a name to a VirtualVNode. This is useful for debugging and testing.\n *\n * The name is only added in development mode and is not included in production builds.\n */\nexport const DEBUG_TYPE = 'q:type';\nexport const VirtualTypeName = {\n    [\"V\" /* VirtualType.Virtual */]: /* ********* */ 'Virtual', //\n    [\"F\" /* VirtualType.Fragment */]: /* ******** */ 'Fragment', //\n    [\"S\" /* VirtualType.WrappedSignal */]: /* *** */ 'Signal', //\n    [\"A\" /* VirtualType.Awaited */]: /* ********* */ 'Awaited', //\n    [\"C\" /* VirtualType.Component */]: /* ******* */ 'Component', //\n    [\"I\" /* VirtualType.InlineComponent */]: /* * */ 'InlineComponent', //\n    [\"P\" /* VirtualType.Projection */]: /* ****** */ 'Projection', //\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL3R5cGVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXlFQTs7Ozs7O0dBTUc7QUFDSCxNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsUUFBUSxDQUFDO0FBWW5DLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBMkI7SUFDckQsK0JBQXFCLEVBQUUsZUFBZSxDQUFDLFNBQVMsRUFBRSxFQUFFO0lBQ3BELGdDQUFzQixFQUFFLGNBQWMsQ0FBQyxVQUFVLEVBQUUsRUFBRTtJQUNyRCxxQ0FBMkIsRUFBRSxTQUFTLENBQUMsUUFBUSxFQUFFLEVBQUU7SUFDbkQsK0JBQXFCLEVBQUUsZUFBZSxDQUFDLFNBQVMsRUFBRSxFQUFFO0lBQ3BELGlDQUF1QixFQUFFLGFBQWEsQ0FBQyxXQUFXLEVBQUUsRUFBRTtJQUN0RCx1Q0FBNkIsRUFBRSxPQUFPLENBQUMsaUJBQWlCLEVBQUUsRUFBRTtJQUM1RCxrQ0FBd0IsRUFBRSxZQUFZLENBQUMsWUFBWSxFQUFFLEVBQUU7Q0FDeEQsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQ29udGV4dElkIH0gZnJvbSAnLi4vdXNlL3VzZS1jb250ZXh0JztcbmltcG9ydCB0eXBlIHsgSVNzck5vZGUsIFN0cmVhbVdyaXRlciwgU3ltYm9sVG9DaHVua1Jlc29sdmVyIH0gZnJvbSAnLi4vc3NyL3Nzci10eXBlcyc7XG5pbXBvcnQgdHlwZSB7IFNjaGVkdWxlciB9IGZyb20gJy4vc2NoZWR1bGVyJztcbmltcG9ydCB0eXBlIHsgU2VyaWFsaXphdGlvbkNvbnRleHQgfSBmcm9tICcuL3NlcmRlcy9pbmRleCc7XG5pbXBvcnQgdHlwZSB7IFZOb2RlIH0gZnJvbSAnLi4vY2xpZW50L3Zub2RlLWltcGwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIERlc2VyaWFsaXplQ29udGFpbmVyIHtcbiAgJGdldE9iamVjdEJ5SWQkOiAoaWQ6IG51bWJlciB8IHN0cmluZykgPT4gdW5rbm93bjtcbiAgZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsO1xuICBnZXRTeW5jRm46IChpZDogbnVtYmVyKSA9PiAoLi4uYXJnczogdW5rbm93bltdKSA9PiB1bmtub3duO1xuICAkc3RhdGUkPzogdW5rbm93bltdO1xuICAkc3RvcmVQcm94eU1hcCQ6IE9ialRvUHJveHlNYXA7XG4gICRmb3J3YXJkUmVmcyQ6IEFycmF5PG51bWJlcj4gfCBudWxsO1xuICByZWFkb25seSAkc2NoZWR1bGVyJDogU2NoZWR1bGVyIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb250YWluZXIge1xuICByZWFkb25seSAkdmVyc2lvbiQ6IHN0cmluZztcbiAgcmVhZG9ubHkgJHNjaGVkdWxlciQ6IFNjaGVkdWxlcjtcbiAgcmVhZG9ubHkgJHN0b3JlUHJveHlNYXAkOiBPYmpUb1Byb3h5TWFwO1xuICAvLy8gQ3VycmVudCBsYW5ndWFnZSBsb2NhbGVcbiAgcmVhZG9ubHkgJGxvY2FsZSQ6IHN0cmluZztcbiAgLy8vIFJldHJpZXZlIE9iamVjdCBmcm9tIHBhdXNlZCBzZXJpYWxpemVkIHN0YXRlLlxuICByZWFkb25seSAkZ2V0T2JqZWN0QnlJZCQ6IChpZDogbnVtYmVyIHwgc3RyaW5nKSA9PiBhbnk7XG4gIHJlYWRvbmx5ICRzZXJ2ZXJEYXRhJDogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgJGN1cnJlbnRVbmlxdWVJZCQ6IG51bWJlcjtcbiAgJGJ1aWxkQmFzZSQ6IHN0cmluZyB8IG51bGw7XG5cbiAgaGFuZGxlRXJyb3IoZXJyOiBhbnksICRob3N0JDogSG9zdEVsZW1lbnQgfCBudWxsKTogdm9pZDtcbiAgZ2V0UGFyZW50SG9zdChob3N0OiBIb3N0RWxlbWVudCk6IEhvc3RFbGVtZW50IHwgbnVsbDtcbiAgc2V0Q29udGV4dDxUPihob3N0OiBIb3N0RWxlbWVudCwgY29udGV4dDogQ29udGV4dElkPFQ+LCB2YWx1ZTogVCk6IHZvaWQ7XG4gIHJlc29sdmVDb250ZXh0PFQ+KGhvc3Q6IEhvc3RFbGVtZW50LCBjb250ZXh0SWQ6IENvbnRleHRJZDxUPik6IFQgfCB1bmRlZmluZWQ7XG4gIHNldEhvc3RQcm9wPFQ+KGhvc3Q6IEhvc3RFbGVtZW50LCBuYW1lOiBzdHJpbmcsIHZhbHVlOiBUKTogdm9pZDtcbiAgZ2V0SG9zdFByb3A8VD4oaG9zdDogSG9zdEVsZW1lbnQsIG5hbWU6IHN0cmluZyk6IFQgfCBudWxsO1xuICAkYXBwZW5kU3R5bGUkKGNvbnRlbnQ6IHN0cmluZywgc3R5bGVJZDogc3RyaW5nLCBob3N0OiBIb3N0RWxlbWVudCwgc2NvcGVkOiBib29sZWFuKTogdm9pZDtcbiAgLyoqXG4gICAqIFdoZW4gY29tcG9uZW50IGlzIGFib3V0IHRvIGJlIGV4ZWN1dGVkLCBpdCBtYXkgYWRkL3JlbW92ZSBjaGlsZHJlbi4gVGhpcyBjYW4gY2F1c2UgcHJvYmxlbXNcbiAgICogd2l0aCB0aGUgcHJvamVjdGlvbiBiZWNhdXNlIGRlbGV0aW5nIGNvbnRlbnQgd2lsbCBwcmV2ZW50IHRoZSBwcm9qZWN0aW9uIHJlZmVyZW5jZXMgZnJvbVxuICAgKiBsb29raW5nIHVwIHZub2Rlcy4gVGhlcmVmb3JlIGJlZm9yZSB3ZSBleGVjdXRlIHRoZSBjb21wb25lbnQgd2UgbmVlZCB0byBlbnN1cmUgdGhhdCBhbGwgb2YgaXRzXG4gICAqIHJlZmVyZW5jZXMgdG8gdm5vZGUgYXJlIHJlc29sdmVkLlxuICAgKlxuICAgKiBAcGFyYW0gcmVuZGVySG9zdCAtIEhvc3QgZWxlbWVudCB0byBlbnN1cmUgcHJvamVjdGlvbiBpcyByZXNvbHZlZC5cbiAgICovXG4gIGVuc3VyZVByb2plY3Rpb25SZXNvbHZlZChob3N0OiBIb3N0RWxlbWVudCk6IHZvaWQ7XG4gIHNlcmlhbGl6YXRpb25DdHhGYWN0b3J5KFxuICAgIE5vZGVDb25zdHJ1Y3Rvcjoge1xuICAgICAgbmV3ICguLi5yZXN0OiBhbnlbXSk6IHsgX19icmFuZF9fOiAnU3NyTm9kZScgfTtcbiAgICB9IHwgbnVsbCxcbiAgICBEb21SZWZDb25zdHJ1Y3Rvcjoge1xuICAgICAgbmV3ICguLi5yZXN0OiBhbnlbXSk6IHsgX19icmFuZF9fOiAnRG9tUmVmJyB9O1xuICAgIH0gfCBudWxsLFxuICAgIHN5bWJvbFRvQ2h1bmtSZXNvbHZlcjogU3ltYm9sVG9DaHVua1Jlc29sdmVyLFxuICAgIHdyaXRlcj86IFN0cmVhbVdyaXRlclxuICApOiBTZXJpYWxpemF0aW9uQ29udGV4dDtcbn1cblxuZXhwb3J0IHR5cGUgSG9zdEVsZW1lbnQgPSBWTm9kZSB8IElTc3JOb2RlO1xuXG5leHBvcnQgaW50ZXJmYWNlIFFFbGVtZW50IGV4dGVuZHMgRWxlbWVudCB7XG4gIHFEaXNwYXRjaEV2ZW50PzogKGV2ZW50OiBFdmVudCwgc2NvcGU6IFF3aWtMb2FkZXJFdmVudFNjb3BlKSA9PiBib29sZWFuO1xuICB2Tm9kZT86IFZOb2RlO1xufVxuXG5leHBvcnQgdHlwZSBxV2luZG93ID0gV2luZG93ICYge1xuICBxd2lrZXZlbnRzOiB7XG4gICAgZXZlbnRzOiBTZXQ8c3RyaW5nPjtcbiAgICByb290czogU2V0PE5vZGU+O1xuICAgIHB1c2g6ICguLi5lOiAoc3RyaW5nIHwgKEV2ZW50VGFyZ2V0ICYgUGFyZW50Tm9kZSkpW10pID0+IHZvaWQ7XG4gIH07XG59O1xuXG5leHBvcnQgdHlwZSBRd2lrTG9hZGVyRXZlbnRTY29wZSA9ICctZG9jdW1lbnQnIHwgJy13aW5kb3cnIHwgJyc7XG5cbi8qKlxuICogQSBmcmllbmRseSBuYW1lIHRhZyBmb3IgYSBWaXJ0dWFsVk5vZGUuXG4gKlxuICogVGhlc2VzIGFyZSB1c2VkIHRvIGdpdmUgYSBuYW1lIHRvIGEgVmlydHVhbFZOb2RlLiBUaGlzIGlzIHVzZWZ1bCBmb3IgZGVidWdnaW5nIGFuZCB0ZXN0aW5nLlxuICpcbiAqIFRoZSBuYW1lIGlzIG9ubHkgYWRkZWQgaW4gZGV2ZWxvcG1lbnQgbW9kZSBhbmQgaXMgbm90IGluY2x1ZGVkIGluIHByb2R1Y3Rpb24gYnVpbGRzLlxuICovXG5leHBvcnQgY29uc3QgREVCVUdfVFlQRSA9ICdxOnR5cGUnO1xuXG5leHBvcnQgY29uc3QgZW51bSBWaXJ0dWFsVHlwZSB7XG4gIFZpcnR1YWwgPSAnVicsXG4gIEZyYWdtZW50ID0gJ0YnLFxuICBXcmFwcGVkU2lnbmFsID0gJ1MnLFxuICBBd2FpdGVkID0gJ0EnLFxuICBDb21wb25lbnQgPSAnQycsXG4gIElubGluZUNvbXBvbmVudCA9ICdJJyxcbiAgUHJvamVjdGlvbiA9ICdQJyxcbn1cblxuZXhwb3J0IGNvbnN0IFZpcnR1YWxUeXBlTmFtZTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgW1ZpcnR1YWxUeXBlLlZpcnR1YWxdOiAvKiAqKioqKioqKiogKi8gJ1ZpcnR1YWwnLCAvL1xuICBbVmlydHVhbFR5cGUuRnJhZ21lbnRdOiAvKiAqKioqKioqKiAqLyAnRnJhZ21lbnQnLCAvL1xuICBbVmlydHVhbFR5cGUuV3JhcHBlZFNpZ25hbF06IC8qICoqKiAqLyAnU2lnbmFsJywgLy9cbiAgW1ZpcnR1YWxUeXBlLkF3YWl0ZWRdOiAvKiAqKioqKioqKiogKi8gJ0F3YWl0ZWQnLCAvL1xuICBbVmlydHVhbFR5cGUuQ29tcG9uZW50XTogLyogKioqKioqKiAqLyAnQ29tcG9uZW50JywgLy9cbiAgW1ZpcnR1YWxUeXBlLklubGluZUNvbXBvbmVudF06IC8qICogKi8gJ0lubGluZUNvbXBvbmVudCcsIC8vXG4gIFtWaXJ0dWFsVHlwZS5Qcm9qZWN0aW9uXTogLyogKioqKioqICovICdQcm9qZWN0aW9uJywgLy9cbn07XG5cbmV4cG9ydCBjb25zdCBlbnVtIFFDb250YWluZXJWYWx1ZSB7XG4gIFBBVVNFRCA9ICdwYXVzZWQnLFxuICBSRVNVTUVEID0gJ3Jlc3VtZWQnLFxuICAvLyB0aGVzZSB2YWx1ZXMgYmVsb3cgYXJlIHVzZWQgaW4gdGhlIHF3aWsgbG9hZGVyIGFzIGEgcGxhaW4gdGV4dCBmb3IgdGhlIHE6Y29udGFpbmVyIHNlbGVjdG9yXG4gIC8vIHN0YW5kYXJkIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXG4gIEhUTUwgPSAnaHRtbCcsXG4gIC8vIHRleHRhcmVhXG4gIFRFWFQgPSAndGV4dCcsXG59XG5cbmV4cG9ydCB0eXBlIE9ialRvUHJveHlNYXAgPSBXZWFrTWFwPGFueSwgYW55PjtcblxuZXhwb3J0IGludGVyZmFjZSBRQ29udGFpbmVyRWxlbWVudCBleHRlbmRzIEVsZW1lbnQge1xuICBxRnVuY3M/OiBGdW5jdGlvbltdO1xuICBfcXdpa2pzb25fPzogYW55O1xufVxuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IHR5cGUgU2VyaWFsaXphdGlvblN0cmF0ZWd5ID1cbiAgLy8gVE9ETzogaW1wbGVtZW50IHRoaXMgaW4gdGhlIGZ1dHVyZVxuICAvLyAnYXV0bycgfFxuICAnbmV2ZXInIHwgJ2Fsd2F5cyc7XG5cbmV4cG9ydCBjb25zdCBlbnVtIFNzck5vZGVGbGFncyB7XG4gIFVwZGF0YWJsZSA9IDEsXG59XG4iXX0=","/**\n * @file\n *\n *   VNodeData is additional information which allows the `vnode` to recover virtual VNode information\n *   from the HTML.\n */\n/**\n * VNodeDataSeparator contains information about splitting up the VNodeData and attaching it to the\n * HTML.\n */\nexport const VNodeDataSeparator = {\n    REFERENCE_CH: /* ***** */ `~`, // `~` is a reference to the node. Save it.\n    REFERENCE: /* ******** */ 126, // `~` is a reference to the node. Save it.\n    ADVANCE_1_CH: /* ***** */ `!`, // `!` is vNodeData separator skipping 0. (ie next vNode)\n    ADVANCE_1: /* ********* */ 33, // `!` is vNodeData separator skipping 0. (ie next vNode)\n    ADVANCE_2_CH: /* ***** */ `\"`, // `\"` is vNodeData separator skipping 1.\n    ADVANCE_2: /* ********* */ 34, // `\"` is vNodeData separator skipping 1.\n    ADVANCE_4_CH: /* ***** */ `#`, // `#` is vNodeData separator skipping 2.\n    ADVANCE_4: /* ********* */ 35, // `#` is vNodeData separator skipping 2.\n    ADVANCE_8_CH: /* ***** */ `$`, // `$` is vNodeData separator skipping 4.\n    ADVANCE_8: /* ********* */ 36, // `$` is vNodeData separator skipping 4.\n    ADVANCE_16_CH: /* **** */ `%`, // `%` is vNodeData separator skipping 8.\n    ADVANCE_16: /* ******** */ 37, // `%` is vNodeData separator skipping 8.\n    ADVANCE_32_CH: /* **** */ `&`, // `&` is vNodeData separator skipping 16.\n    ADVANCE_32: /* ******** */ 38, // `&` is vNodeData separator skipping 16.\n    ADVANCE_64_CH: /* **** */ `'`, // `'` is vNodeData separator skipping 32.\n    ADVANCE_64: /* ******** */ 39, // `'` is vNodeData separator skipping 32.\n    ADVANCE_128_CH: /* *** */ `(`, // `(` is vNodeData separator skipping 64.\n    ADVANCE_128: /* ******* */ 40, // `(` is vNodeData separator skipping 64.\n    ADVANCE_256_CH: /* *** */ `)`, // `)` is vNodeData separator skipping 128.\n    ADVANCE_256: /* ******* */ 41, // `)` is vNodeData separator skipping 128.\n    ADVANCE_512_CH: /* *** */ `*`, // `*` is vNodeData separator skipping 256.\n    ADVANCE_512: /* ******* */ 42, // `*` is vNodeData separator skipping 256.\n    ADVANCE_1024_CH: /* ** */ `+`, // `+` is vNodeData separator skipping 512.\n    ADVANCE_1024: /* ****** */ 43, // `+` is vNodeData separator skipping 512.\n    ADVANCE_2048_CH: /* *  */ ',', // ',' is vNodeData separator skipping 1024.\n    ADVANCE_2048: /* ****** */ 44, // ',' is vNodeData separator skipping 1024.\n    ADVANCE_4096_CH: /* *  */ `-`, // `-` is vNodeData separator skipping 2048.\n    ADVANCE_4096: /* ****** */ 45, // `-` is vNodeData separator skipping 2048.\n    ADVANCE_8192_CH: /* *  */ `.`, // `.` is vNodeData separator skipping 4096.\n    ADVANCE_8192: /* ****** */ 46, // `.` is vNodeData separator skipping 4096.\n};\n/**\n * VNodeDataChar contains information about the VNodeData used for encoding props.\n *\n * Available character ranges: 59 - 64, 91 - 94, 96, 123 - 126\n */\nexport const VNodeDataChar = {\n    OPEN: /* ************** */ 123, // `{` is the start of the VNodeData for a virtual element.\n    OPEN_CHAR: /* ****** */ '{',\n    CLOSE: /* ************* */ 125, // `}` is the end of the VNodeData for a virtual element.\n    CLOSE_CHAR: /* ***** */ '}',\n    SCOPED_STYLE: /* ******* */ 59, // `;` - `q:sstyle` - Style attribute.\n    SCOPED_STYLE_CHAR: /* */ ';',\n    RENDER_FN: /* ********** */ 60, // `<` - `q:renderFn' - Component QRL render function (body)\n    RENDER_FN_CHAR: /* ** */ '<',\n    ID: /* ***************** */ 61, // `=` - `q:id` - ID of the element.\n    ID_CHAR: /* ********* */ '=',\n    PROPS: /* ************** */ 62, // `>` - `q:props' - Component Props\n    PROPS_CHAR: /* ****** */ '>',\n    SLOT_PARENT: /* ******** */ 63, // `?` - `q:sparent` - Slot parent.\n    SLOT_PARENT_CHAR: /*  */ '?',\n    KEY: /* **************** */ 64, // `@` - `q:key` - Element key.\n    KEY_CHAR: /* ******** */ '@',\n    SEQ: /* **************** */ 91, // `[` - `q:seq' - Seq value from `useSequentialScope()`\n    SEQ_CHAR: /* ******** */ '[',\n    DON_T_USE: /* ********** */ 92, // `\\` - SKIP because `\\` is used as escaping\n    DON_T_USE_CHAR: '\\\\',\n    CONTEXT: /* ************ */ 93, // `]` - `q:ctx' - Component context/props\n    CONTEXT_CHAR: /* **** */ ']',\n    SEQ_IDX: /* ************ */ 94, // `^` - `q:seqIdx' - Sequential scope id\n    SEQ_IDX_CHAR: /* **** */ '^',\n    BACK_REFS: /* ********** */ 96, // '`' - `q:brefs' - Effect dependencies/subscriptions\n    BACK_REFS_CHAR: /* ** */ '`',\n    SEPARATOR: /* ********* */ 124, // `|` - Separator char to encode any key/value pairs.\n    SEPARATOR_CHAR: /* ** */ '|',\n    SLOT: /* ************** */ 126, // `~` - `q:slot' - Slot name\n    SLOT_CHAR: /* ******* */ '~',\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidm5vZGUtZGF0YS10eXBlcy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvdm5vZGUtZGF0YS10eXBlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7R0FLRztBQUVIOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxNQUFNLGtCQUFrQixHQUFHO0lBQ2hDLFlBQVksRUFBRSxXQUFXLENBQUMsR0FBRyxFQUFFLDJDQUEyQztJQUMxRSxTQUFTLEVBQUUsY0FBYyxDQUFDLEdBQUcsRUFBRSwyQ0FBMkM7SUFDMUUsWUFBWSxFQUFFLFdBQVcsQ0FBQyxHQUFHLEVBQUUseURBQXlEO0lBQ3hGLFNBQVMsRUFBRSxlQUFlLENBQUMsRUFBRSxFQUFFLHlEQUF5RDtJQUN4RixZQUFZLEVBQUUsV0FBVyxDQUFDLEdBQUcsRUFBRSx5Q0FBeUM7SUFDeEUsU0FBUyxFQUFFLGVBQWUsQ0FBQyxFQUFFLEVBQUUseUNBQXlDO0lBQ3hFLFlBQVksRUFBRSxXQUFXLENBQUMsR0FBRyxFQUFFLHlDQUF5QztJQUN4RSxTQUFTLEVBQUUsZUFBZSxDQUFDLEVBQUUsRUFBRSx5Q0FBeUM7SUFDeEUsWUFBWSxFQUFFLFdBQVcsQ0FBQyxHQUFHLEVBQUUseUNBQXlDO0lBQ3hFLFNBQVMsRUFBRSxlQUFlLENBQUMsRUFBRSxFQUFFLHlDQUF5QztJQUN4RSxhQUFhLEVBQUUsVUFBVSxDQUFDLEdBQUcsRUFBRSx5Q0FBeUM7SUFDeEUsVUFBVSxFQUFFLGNBQWMsQ0FBQyxFQUFFLEVBQUUseUNBQXlDO0lBQ3hFLGFBQWEsRUFBRSxVQUFVLENBQUMsR0FBRyxFQUFFLDBDQUEwQztJQUN6RSxVQUFVLEVBQUUsY0FBYyxDQUFDLEVBQUUsRUFBRSwwQ0FBMEM7SUFDekUsYUFBYSxFQUFFLFVBQVUsQ0FBQyxHQUFHLEVBQUUsMENBQTBDO0lBQ3pFLFVBQVUsRUFBRSxjQUFjLENBQUMsRUFBRSxFQUFFLDBDQUEwQztJQUN6RSxj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dGVudCI6WyIvKipcbiAqIEBmaWxlXG4gKlxuICogICBWTm9kZURhdGEgaXMgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiB3aGljaCBhbGxvd3MgdGhlIGB2bm9kZWAgdG8gcmVjb3ZlciB2aXJ0dWFsIFZOb2RlIGluZm9ybWF0aW9uXG4gKiAgIGZyb20gdGhlIEhUTUwuXG4gKi9cblxuLyoqXG4gKiBWTm9kZURhdGFTZXBhcmF0b3IgY29udGFpbnMgaW5mb3JtYXRpb24gYWJvdXQgc3BsaXR0aW5nIHVwIHRoZSBWTm9kZURhdGEgYW5kIGF0dGFjaGluZyBpdCB0byB0aGVcbiAqIEhUTUwuXG4gKi9cbmV4cG9ydCBjb25zdCBWTm9kZURhdGFTZXBhcmF0b3IgPSB7XG4gIFJFRkVSRU5DRV9DSDogLyogKioqKiogKi8gYH5gLCAvLyBgfmAgaXMgYSByZWZlcmVuY2UgdG8gdGhlIG5vZGUuIFNhdmUgaXQuXG4gIFJFRkVSRU5DRTogLyogKioqKioqKiogKi8gMTI2LCAvLyBgfmAgaXMgYSByZWZlcmVuY2UgdG8gdGhlIG5vZGUuIFNhdmUgaXQuXG4gIEFEVkFOQ0VfMV9DSDogLyogKioqKiogKi8gYCFgLCAvLyBgIWAgaXMgdk5vZGVEYXRhIHNlcGFyYXRvciBza2lwcGluZyAwLiAoaWUgbmV4dCB2Tm9kZSlcbiAgQURWQU5DRV8xOiAvKiAqKioqKioqKiogKi8gMzMsIC8vIGAhYCBpcyB2Tm9kZURhdGEgc2VwYXJhdG9yIHNraXBwaW5nIDAuIChpZSBuZXh0IHZOb2RlKVxuICBBRFZBTkNFXzJfQ0g6IC8qICoqKioqICovIGBcImAsIC8vIGBcImAgaXMgdk5vZGVEYXRhIHNlcGFyYXRvciBza2lwcGluZyAxLlxuICBBRFZBTkNFXzI6IC8qICoqKioqKioqKiAqLyAzNCwgLy8gYFwiYCBpcyB2Tm9kZURhdGEgc2VwYXJhdG9yIHNraXBwaW5nIDEuXG4gIEFEVkFOQ0VfNF9DSDogLyogKioqKiogKi8gYCNgLCAvLyBgI2AgaXMgdk5vZGVEYXRhIHNlcGFyYXRvciBza2lwcGluZyAyLlxuICBBRFZBTkNFXzQ6IC8qICoqKioqKioqKiAqLyAzNSwgLy8gYCNgIGlzIHZOb2RlRGF0YSBzZXBhcmF0b3Igc2tpcHBpbmcgMi5cbiAgQURWQU5DRV84X0NIOiAvKiAqKioqKiAqLyBgJGAsIC8vIGAkYCBpcyB2Tm9kZURhdGEgc2VwYXJhdG9yIHNraXBwaW5nIDQuXG4gIEFEVkFOQ0VfODogLyogKioqKioqKioqICovIDM2LCAvLyBgJGAgaXMgdk5vZGVEYXRhIHNlcGFyYXRvciBza2lwcGluZyA0LlxuICBBRFZBTkNFXzE2X0NIOiAvKiAqKioqICovIGAlYCwgLy8gYCVgIGlzIHZOb2RlRGF0YSBzZXBhcmF0b3Igc2tpcHBpbmcgOC5cbiAgQURWQU5DRV8xNjogLyogKioqKioqKiogKi8gMzcsIC8vIGAlYCBpcyB2Tm9kZURhdGEgc2VwYXJhdG9yIHNraXBwaW5nIDguXG4gIEFEVkFOQ0VfMzJfQ0g6IC8qICoqKiogKi8gYCZgLCAvLyBgJmAgaXMgdk5vZGVEYXRhIHNlcGFyYXRvciBza2lwcGluZyAxNi5cbiAgQURWQU5DRV8zMjogLyogKioqKioqKiogKi8gMzgsIC8vIGAmYCBpcyB2Tm9kZURhdGEgc2VwYXJhdG9yIHNraXBwaW5nIDE2LlxuICBBRFZBTkNFXzY0X0NIOiAvKiAqKioqICovIGAnYCwgLy8gYCdgIGlzIHZOb2RlRGF0YSBzZXBhcmF0b3Igc2tpcHBpbmcgMzIuXG4gIEFEVkFOQ0VfNjQ6IC8qICoqKioqKioqICovIDM5LCAvLyBgJ2AgaXMgdk5vZGVEYXRhIHNlcGFyYXRvciBza2lwcGluZyAzMi5cbiAgQURWQU5DRV8xMjhfQ0g6IC8qICoqKiAqLyBgKGAsIC8vIGAoYCBpcyB2Tm9kZURhdGEgc2VwYXJhdG9yIHNraXBwaW5nIDY0LlxuICBBRFZBTkNFXzEyODogLyogKioqKioqKiAqLyA0MCwgLy8gYChgIGlzIHZOb2RlRGF0YSBzZXBhcmF0b3Igc2tpcHBpbmcgNjQuXG4gIEFEVkFOQ0VfMjU2X0NIOiAvKiAqKiogKi8gYClgLCAvLyBgKWAgaXMgdk5vZGVEYXRhIHNlcGFyYXRvciBza2lwcGluZyAxMjguXG4gIEFEVkFOQ0VfMjU2OiAvKiAqKioqKioqICovIDQxLCAvLyBgKWAgaXMgdk5vZGVEYXRhIHNlcGFyYXRvciBza2lwcGluZyAxMjguXG4gIEFEVkFOQ0VfNTEyX0NIOiAvKiAqKiogKi8gYCpgLCAvLyBgKmAgaXMgdk5vZGVEYXRhIHNlcGFyYXRvciBza2lwcGluZyAyNTYuXG4gIEFEVkFOQ0VfNTEyOiAvKiAqKioqKioqICovIDQyLCAvLyBgKmAgaXMgdk5vZGVEYXRhIHNlcGFyYXRvciBza2lwcGluZyAyNTYuXG4gIEFEVkFOQ0VfMTAyNF9DSDogLyogKiogKi8gYCtgLCAvLyBgK2AgaXMgdk5vZGVEYXRhIHNlcGFyYXRvciBza2lwcGluZyA1MTIuXG4gIEFEVkFOQ0VfMTAyNDogLyogKioqKioqICovIDQzLCAvLyBgK2AgaXMgdk5vZGVEYXRhIHNlcGFyYXRvciBza2lwcGluZyA1MTIuXG4gIEFEVkFOQ0VfMjA0OF9DSDogLyogKiAgKi8gJywnLCAvLyAnLCcgaXMgdk5vZGVEYXRhIHNlcGFyYXRvciBza2lwcGluZyAxMDI0LlxuICBBRFZBTkNFXzIwNDg6IC8qICoqKioqKiAqLyA0NCwgLy8gJywnIGlzIHZOb2RlRGF0YSBzZXBhcmF0b3Igc2tpcHBpbmcgMTAyNC5cbiAgQURWQU5DRV80MDk2X0NIOiAvKiAqICAqLyBgLWAsIC8vIGAtYCBpcyB2Tm9kZURhdGEgc2VwYXJhdG9yIHNraXBwaW5nIDIwNDguXG4gIEFEVkFOQ0VfNDA5NjogLyogKioqKioqICovIDQ1LCAvLyBgLWAgaXMgdk5vZGVEYXRhIHNlcGFyYXRvciBza2lwcGluZyAyMDQ4LlxuICBBRFZBTkNFXzgxOTJfQ0g6IC8qICogICovIGAuYCwgLy8gYC5gIGlzIHZOb2RlRGF0YSBzZXBhcmF0b3Igc2tpcHBpbmcgNDA5Ni5cbiAgQURWQU5DRV84MTkyOiAvKiAqKioqKiogKi8gNDYsIC8vIGAuYCBpcyB2Tm9kZURhdGEgc2VwYXJhdG9yIHNraXBwaW5nIDQwOTYuXG59O1xuXG4vKipcbiAqIFZOb2RlRGF0YUNoYXIgY29udGFpbnMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIFZOb2RlRGF0YSB1c2VkIGZvciBlbmNvZGluZyBwcm9wcy5cbiAqXG4gKiBBdmFpbGFibGUgY2hhcmFjdGVyIHJhbmdlczogNTkgLSA2NCwgOTEgLSA5NCwgOTYsIDEyMyAtIDEyNlxuICovXG5leHBvcnQgY29uc3QgVk5vZGVEYXRhQ2hhciA9IHtcbiAgT1BFTjogLyogKioqKioqKioqKioqKiogKi8gMTIzLCAvLyBge2AgaXMgdGhlIHN0YXJ0IG9mIHRoZSBWTm9kZURhdGEgZm9yIGEgdmlydHVhbCBlbGVtZW50LlxuICBPUEVOX0NIQVI6IC8qICoqKioqKiAqLyAneycsXG4gIENMT1NFOiAvKiAqKioqKioqKioqKioqICovIDEyNSwgLy8gYH1gIGlzIHRoZSBlbmQgb2YgdGhlIFZOb2RlRGF0YSBmb3IgYSB2aXJ0dWFsIGVsZW1lbnQuXG4gIENMT1NFX0NIQVI6IC8qICoqKioqICovICd9JyxcblxuICBTQ09QRURfU1RZTEU6IC8qICoqKioqKiogKi8gNTksIC8vIGA7YCAtIGBxOnNzdHlsZWAgLSBTdHlsZSBhdHRyaWJ1dGUuXG4gIFNDT1BFRF9TVFlMRV9DSEFSOiAvKiAqLyAnOycsXG4gIFJFTkRFUl9GTjogLyogKioqKioqKioqKiAqLyA2MCwgLy8gYDxgIC0gYHE6cmVuZGVyRm4nIC0gQ29tcG9uZW50IFFSTCByZW5kZXIgZnVuY3Rpb24gKGJvZHkpXG4gIFJFTkRFUl9GTl9DSEFSOiAvKiAqKiAqLyAnPCcsXG4gIElEOiAvKiAqKioqKioqKioqKioqKioqKiAqLyA2MSwgLy8gYD1gIC0gYHE6aWRgIC0gSUQgb2YgdGhlIGVsZW1lbnQuXG4gIElEX0NIQVI6IC8qICoqKioqKioqKiAqLyAnPScsXG4gIFBST1BTOiAvKiAqKioqKioqKioqKioqKiAqLyA2MiwgLy8gYD5gIC0gYHE6cHJvcHMnIC0gQ29tcG9uZW50IFByb3BzXG4gIFBST1BTX0NIQVI6IC8qICoqKioqKiAqLyAnPicsXG4gIFNMT1RfUEFSRU5UOiAvKiAqKioqKioqKiAqLyA2MywgLy8gYD9gIC0gYHE6c3BhcmVudGAgLSBTbG90IHBhcmVudC5cbiAgU0xPVF9QQVJFTlRfQ0hBUjogLyogICovICc/JyxcbiAgS0VZOiAvKiAqKioqKioqKioqKioqKioqICovIDY0LCAvLyBgQGAgLSBgcTprZXlgIC0gRWxlbWVudCBrZXkuXG4gIEtFWV9DSEFSOiAvKiAqKioqKioqKiAqLyAnQCcsXG4gIFNFUTogLyogKioqKioqKioqKioqKioqKiAqLyA5MSwgLy8gYFtgIC0gYHE6c2VxJyAtIFNlcSB2YWx1ZSBmcm9tIGB1c2VTZXF1ZW50aWFsU2NvcGUoKWBcbiAgU0VRX0NIQVI6IC8qICoqKioqKioqICovICdbJyxcbiAgRE9OX1RfVVNFOiAvKiAqKioqKioqKioqICovIDkyLCAvLyBgXFxgIC0gU0tJUCBiZWNhdXNlIGBcXGAgaXMgdXNlZCBhcyBlc2NhcGluZ1xuICBET05fVF9VU0VfQ0hBUjogJ1xcXFwnLFxuICBDT05URVhUOiAvKiAqKioqKioqKioqKiogKi8gOTMsIC8vIGBdYCAtIGBxOmN0eCcgLSBDb21wb25lbnQgY29udGV4dC9wcm9wc1xuICBDT05URVhUX0NIQVI6IC8qICoqKiogKi8gJ10nLFxuICBTRVFfSURYOiAvKiAqKioqKioqKioqKiogKi8gOTQsIC8vIGBeYCAtIGBxOnNlcUlkeCcgLSBTZXF1ZW50aWFsIHNjb3BlIGlkXG4gIFNFUV9JRFhfQ0hBUjogLyogKioqKiAqLyAnXicsXG4gIEJBQ0tfUkVGUzogLyogKioqKioqKioqKiAqLyA5NiwgLy8gJ2AnIC0gYHE6YnJlZnMnIC0gRWZmZWN0IGRlcGVuZGVuY2llcy9zdWJzY3JpcHRpb25zXG4gIEJBQ0tfUkVGU19DSEFSOiAvKiAqKiAqLyAnYCcsXG4gIFNFUEFSQVRPUjogLyogKioqKioqKioqICovIDEyNCwgLy8gYHxgIC0gU2VwYXJhdG9yIGNoYXIgdG8gZW5jb2RlIGFueSBrZXkvdmFsdWUgcGFpcnMuXG4gIFNFUEFSQVRPUl9DSEFSOiAvKiAqKiAqLyAnfCcsXG4gIFNMT1Q6IC8qICoqKioqKioqKioqKioqICovIDEyNiwgLy8gYH5gIC0gYHE6c2xvdCcgLSBTbG90IG5hbWVcbiAgU0xPVF9DSEFSOiAvKiAqKioqKioqICovICd+Jyxcbn07XG4iXX0=","import { assertTrue } from '../shared/error/assert';\n/** @internal */\nexport const mapApp_findIndx = (array, key, start) => {\n    assertTrue(start % 2 === 0, 'Expecting even number.');\n    let bottom = start >> 1;\n    let top = (array.length - 2) >> 1;\n    while (bottom <= top) {\n        const mid = bottom + ((top - bottom) >> 1);\n        const midKey = array[mid << 1];\n        if (midKey === key) {\n            return mid << 1;\n        }\n        if (midKey < key) {\n            bottom = mid + 1;\n        }\n        else {\n            top = mid - 1;\n        }\n    }\n    return (bottom << 1) ^ -1;\n};\n/** @internal */\nexport const mapArray_set = (array, key, value, start, allowNullValue = false) => {\n    const indx = mapApp_findIndx(array, key, start);\n    if (indx >= 0) {\n        if (value == null && !allowNullValue) {\n            array.splice(indx, 2);\n        }\n        else {\n            array[indx + 1] = value;\n        }\n    }\n    else if (value != null || allowNullValue) {\n        array.splice(indx ^ -1, 0, key, value);\n    }\n};\nexport const mapApp_remove = (array, key, start) => {\n    const indx = mapApp_findIndx(array, key, start);\n    let value = null;\n    if (indx >= 0) {\n        value = array[indx + 1];\n        array.splice(indx, 2);\n        return value;\n    }\n    return value;\n};\n/** @internal */\nexport const mapArray_get = (array, key, start) => {\n    const indx = mapApp_findIndx(array, key, start);\n    if (indx >= 0) {\n        return array[indx + 1];\n    }\n    else {\n        return null;\n    }\n};\nexport const mapArray_has = (array, key, start) => {\n    return mapApp_findIndx(array, key, start) >= 0;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC1tYXBBcnJheS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9jbGllbnQvdXRpbC1tYXBBcnJheS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFFcEQsZ0JBQWdCO0FBQ2hCLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxDQUFJLEtBQW1CLEVBQUUsR0FBVyxFQUFFLEtBQWEsRUFBVSxFQUFFO0lBQzVGLFVBQVUsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRSx3QkFBd0IsQ0FBQyxDQUFDO0lBQ3RELElBQUksTUFBTSxHQUFJLEtBQWdCLElBQUksQ0FBQyxDQUFDO0lBQ3BDLElBQUksR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbEMsT0FBTyxNQUFNLElBQUksR0FBRyxFQUFFLENBQUM7UUFDckIsTUFBTSxHQUFHLEdBQUcsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDM0MsTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQVcsQ0FBQztRQUN6QyxJQUFJLE1BQU0sS0FBSyxHQUFHLEVBQUUsQ0FBQztZQUNuQixPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUM7UUFDbEIsQ0FBQztRQUNELElBQUksTUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDO1lBQ2pCLE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ25CLENBQUM7YUFBTSxDQUFDO1lBQ04sR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDaEIsQ0FBQztJQUNILENBQUM7SUFDRCxPQUFPLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQzVCLENBQUMsQ0FBQztBQUVGLGdCQUFnQjtBQUNoQixNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FDMUIsS0FBbUIsRUFDbkIsR0FBVyxFQUNYLEtBQWUsRUFDZixLQUFhLEVBQ2IsaUJBQTBCLEtBQUssRUFDL0IsRUFBRTtJQUNGLE1BQU0sSUFBSSxHQUFHLGVBQWUsQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ2hELElBQUksSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQ2QsSUFBSSxLQUFLLElBQUksSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDckMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDeEIsQ0FBQzthQUFNLENBQUM7WUFDTixLQUFLLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUMxQixDQUFDO0lBQ0gsQ0FBQztTQUFNLElBQUksS0FBSyxJQUFJLElBQUksSUFBSSxjQUFjLEVBQUUsQ0FBQztRQUMzQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBVSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ2hELENBQUM7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsQ0FBSSxLQUFtQixFQUFFLEdBQVcsRUFBRSxLQUFhLEVBQVksRUFBRTtJQUM1RixNQUFNLElBQUksR0FBRyxlQUFlLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUNoRCxJQUFJLEtBQUssR0FBYSxJQUFJLENBQUM7SUFDM0IsSUFBSSxJQUFJLElBQUksQ0FBQyxFQUFFLENBQUM7UUFDZCxLQUFLLEdBQUcsS0FBSyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN4QixLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztRQUN0QixPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUMsQ0FBQztBQUVGLGdCQUFnQjtBQUNoQixNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FBSSxLQUFtQixFQUFFLEdBQVcsRUFBRSxLQUFhLEVBQVksRUFBRTtJQUMzRixNQUFNLElBQUksR0FBRyxlQUFlLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUNoRCxJQUFJLElBQUksSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUNkLE9BQU8sS0FBSyxDQUFDLElBQUksR0FBRyxDQUFDLENBQWEsQ0FBQztJQUNyQyxDQUFDO1NBQU0sQ0FBQztRQUNOLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxDQUFJLEtBQW1CLEVBQUUsR0FBVyxFQUFFLEtBQWEsRUFBVyxFQUFFO0lBQzFGLE9BQU8sZUFBZSxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2pELENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2VydFRydWUgfSBmcm9tICcuLi9zaGFyZWQvZXJyb3IvYXNzZXJ0JztcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IG1hcEFwcF9maW5kSW5keCA9IDxUPihhcnJheTogKFQgfCBudWxsKVtdLCBrZXk6IHN0cmluZywgc3RhcnQ6IG51bWJlcik6IG51bWJlciA9PiB7XG4gIGFzc2VydFRydWUoc3RhcnQgJSAyID09PSAwLCAnRXhwZWN0aW5nIGV2ZW4gbnVtYmVyLicpO1xuICBsZXQgYm90dG9tID0gKHN0YXJ0IGFzIG51bWJlcikgPj4gMTtcbiAgbGV0IHRvcCA9IChhcnJheS5sZW5ndGggLSAyKSA+PiAxO1xuICB3aGlsZSAoYm90dG9tIDw9IHRvcCkge1xuICAgIGNvbnN0IG1pZCA9IGJvdHRvbSArICgodG9wIC0gYm90dG9tKSA+PiAxKTtcbiAgICBjb25zdCBtaWRLZXkgPSBhcnJheVttaWQgPDwgMV0gYXMgc3RyaW5nO1xuICAgIGlmIChtaWRLZXkgPT09IGtleSkge1xuICAgICAgcmV0dXJuIG1pZCA8PCAxO1xuICAgIH1cbiAgICBpZiAobWlkS2V5IDwga2V5KSB7XG4gICAgICBib3R0b20gPSBtaWQgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b3AgPSBtaWQgLSAxO1xuICAgIH1cbiAgfVxuICByZXR1cm4gKGJvdHRvbSA8PCAxKSBeIC0xO1xufTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IG1hcEFycmF5X3NldCA9IDxUPihcbiAgYXJyYXk6IChUIHwgbnVsbClbXSxcbiAga2V5OiBzdHJpbmcsXG4gIHZhbHVlOiBUIHwgbnVsbCxcbiAgc3RhcnQ6IG51bWJlcixcbiAgYWxsb3dOdWxsVmFsdWU6IGJvb2xlYW4gPSBmYWxzZVxuKSA9PiB7XG4gIGNvbnN0IGluZHggPSBtYXBBcHBfZmluZEluZHgoYXJyYXksIGtleSwgc3RhcnQpO1xuICBpZiAoaW5keCA+PSAwKSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgJiYgIWFsbG93TnVsbFZhbHVlKSB7XG4gICAgICBhcnJheS5zcGxpY2UoaW5keCwgMik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFycmF5W2luZHggKyAxXSA9IHZhbHVlO1xuICAgIH1cbiAgfSBlbHNlIGlmICh2YWx1ZSAhPSBudWxsIHx8IGFsbG93TnVsbFZhbHVlKSB7XG4gICAgYXJyYXkuc3BsaWNlKGluZHggXiAtMSwgMCwga2V5IGFzIGFueSwgdmFsdWUpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgbWFwQXBwX3JlbW92ZSA9IDxUPihhcnJheTogKFQgfCBudWxsKVtdLCBrZXk6IHN0cmluZywgc3RhcnQ6IG51bWJlcik6IFQgfCBudWxsID0+IHtcbiAgY29uc3QgaW5keCA9IG1hcEFwcF9maW5kSW5keChhcnJheSwga2V5LCBzdGFydCk7XG4gIGxldCB2YWx1ZTogVCB8IG51bGwgPSBudWxsO1xuICBpZiAoaW5keCA+PSAwKSB7XG4gICAgdmFsdWUgPSBhcnJheVtpbmR4ICsgMV07XG4gICAgYXJyYXkuc3BsaWNlKGluZHgsIDIpO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgbWFwQXJyYXlfZ2V0ID0gPFQ+KGFycmF5OiAoVCB8IG51bGwpW10sIGtleTogc3RyaW5nLCBzdGFydDogbnVtYmVyKTogVCB8IG51bGwgPT4ge1xuICBjb25zdCBpbmR4ID0gbWFwQXBwX2ZpbmRJbmR4KGFycmF5LCBrZXksIHN0YXJ0KTtcbiAgaWYgKGluZHggPj0gMCkge1xuICAgIHJldHVybiBhcnJheVtpbmR4ICsgMV0gYXMgVCB8IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBtYXBBcnJheV9oYXMgPSA8VD4oYXJyYXk6IChUIHwgbnVsbClbXSwga2V5OiBzdHJpbmcsIHN0YXJ0OiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIG1hcEFwcF9maW5kSW5keChhcnJheSwga2V5LCBzdGFydCkgPj0gMDtcbn07XG4iXX0=","import { isDev } from '@qwik.dev/core/build';\nimport { HTML_NS, MATH_NS, Q_PROPS_SEPARATOR, SVG_NS, XLINK_NS, XML_NS, } from '../shared/utils/markers';\nimport { getDomContainerFromQContainerElement } from './dom-container';\nimport { ensureElementVNode, fastNamespaceURI, shouldIgnoreChildren, vnode_getDOMChildNodes, vnode_getDomParentVNode, vnode_getElementName, vnode_getFirstChild, vnode_isElementVNode, vnode_isTextVNode, } from './vnode';\nexport const isForeignObjectElement = (elementName) => {\n    return isDev ? elementName.toLowerCase() === 'foreignobject' : elementName === 'foreignObject';\n};\nexport const isSvgElement = (elementName) => elementName === 'svg' || isForeignObjectElement(elementName);\nexport const isMathElement = (elementName) => elementName === 'math';\nexport const vnode_isDefaultNamespace = (vnode) => {\n    const flags = vnode.flags;\n    return (flags & 192 /* VNodeFlags.NAMESPACE_MASK */) === 0;\n};\nexport const vnode_getElementNamespaceFlags = (element) => {\n    const namespace = fastNamespaceURI(element);\n    switch (namespace) {\n        case SVG_NS:\n            return 64 /* VNodeFlags.NS_svg */;\n        case MATH_NS:\n            return 128 /* VNodeFlags.NS_math */;\n        default:\n            return 0 /* VNodeFlags.NS_html */;\n    }\n};\nexport function vnode_getDomChildrenWithCorrectNamespacesToInsert(journal, domParentVNode, newChild) {\n    const { elementNamespace, elementNamespaceFlag } = getNewElementNamespaceData(domParentVNode, newChild);\n    let domChildren = [];\n    if (elementNamespace === HTML_NS) {\n        // parent is in the default namespace, so just get the dom children. This is the fast path.\n        domChildren = vnode_getDOMChildNodes(journal, newChild);\n    }\n    else {\n        // parent is in a different namespace, so we need to clone the children with the correct namespace.\n        // The namespace cannot be changed on nodes, so we need to clone these nodes\n        const children = vnode_getDOMChildNodes(journal, newChild, true);\n        for (let i = 0; i < children.length; i++) {\n            const childVNode = children[i];\n            if (vnode_isTextVNode(childVNode)) {\n                // text nodes are always in the default namespace\n                domChildren.push(childVNode.textNode);\n                continue;\n            }\n            if ((childVNode.flags & 192 /* VNodeFlags.NAMESPACE_MASK */) ===\n                (domParentVNode.flags & 192 /* VNodeFlags.NAMESPACE_MASK */)) {\n                // if the child and parent have the same namespace, we don't need to clone the element\n                domChildren.push(childVNode.element);\n                continue;\n            }\n            // clone the element with the correct namespace\n            const newChildElement = vnode_cloneElementWithNamespace(childVNode, domParentVNode, elementNamespace, elementNamespaceFlag);\n            if (newChildElement) {\n                domChildren.push(newChildElement);\n            }\n        }\n    }\n    return domChildren;\n}\n/** This function clones an element with a different namespace, including the children */\nfunction cloneDomTreeWithNamespace(element, elementName, namespace, deep = false) {\n    const newElement = element.ownerDocument.createElementNS(namespace, elementName);\n    // Copy all attributes\n    for (const attr of element.attributes) {\n        if (attr.name !== Q_PROPS_SEPARATOR) {\n            newElement.setAttribute(attr.name, attr.value);\n        }\n    }\n    if (deep) {\n        // Recursively clone all child nodes\n        for (const child of element.childNodes) {\n            const nodeType = child.nodeType;\n            if (nodeType === 3 /* Node.TEXT_NODE */) {\n                newElement.appendChild(child.cloneNode());\n            }\n            else if (nodeType === 1 /* Node.ELEMENT_NODE */) {\n                newElement.appendChild(cloneDomTreeWithNamespace(child, child.localName, namespace, deep));\n            }\n        }\n    }\n    return newElement;\n}\n/**\n * This function clones an ElementVNode with a different namespace, including the children. This\n * traverse the tree using depth-first search and clones the elements using\n * `cloneElementWithNamespace`.\n */\nfunction vnode_cloneElementWithNamespace(elementVNode, parentVNode, namespace, namespaceFlag) {\n    ensureElementVNode(elementVNode);\n    let vCursor = elementVNode;\n    let vParent = null;\n    let rootElement = null;\n    let parentElement = null;\n    while (vCursor) {\n        let childElement = null;\n        let newChildElement = null;\n        if (vnode_isElementVNode(vCursor)) {\n            // Clone the element\n            childElement = vCursor.element;\n            const childElementTag = vnode_getElementName(vCursor);\n            // We need to check if the parent is a foreignObject element\n            // and get a new namespace data.\n            const vCursorParent = vCursor.parent;\n            // For the first vNode parentNode is not parent from vNode tree, but parent from DOM tree\n            // this is because vNode is not moved yet.\n            // rootElement is null only for the first vNode\n            const vCursorDomParent = rootElement == null ? parentVNode : vCursorParent && vnode_getDomParentVNode(vCursorParent);\n            if (vCursorDomParent) {\n                const namespaceData = getNewElementNamespaceData(vCursorDomParent, vnode_getElementName(vCursor));\n                namespace = namespaceData.elementNamespace;\n                namespaceFlag = namespaceData.elementNamespaceFlag;\n            }\n            const vFirstChild = vnode_getFirstChild(vCursor);\n            newChildElement = cloneDomTreeWithNamespace(childElement, childElementTag, namespace, \n            // deep if there is no vnode children, children are probably inserted via innerHTML\n            !vFirstChild);\n            childElement.remove();\n            if (rootElement == null) {\n                rootElement = newChildElement;\n            }\n            if (parentElement) {\n                parentElement.appendChild(newChildElement);\n            }\n            // Descend into children\n            // We need first get the first child, if any\n            // Then we can overwrite the cursor with newly created element.\n            // This is because we need to materialize the children before we assign new element\n            vCursor.element = newChildElement;\n            // Set correct namespace flag\n            vCursor.flags &= -193 /* VNodeFlags.NEGATED_NAMESPACE_MASK */;\n            vCursor.flags |= namespaceFlag;\n            if (vFirstChild) {\n                vCursor = vFirstChild;\n                parentElement = newChildElement;\n                continue;\n            }\n            else if (shouldIgnoreChildren(childElement)) {\n                // If we should ignore children of the element this means that the element is a container\n                // We need to get the first child of the container\n                const container = getDomContainerFromQContainerElement(childElement);\n                if (container) {\n                    const innerContainerFirstVNode = vnode_getFirstChild(container.rootVNode);\n                    if (innerContainerFirstVNode) {\n                        vCursor = innerContainerFirstVNode;\n                        parentElement = newChildElement;\n                        continue;\n                    }\n                }\n            }\n        }\n        if (vCursor === elementVNode) {\n            // we are where we started, this means that vNode has no children, so we are done.\n            return rootElement;\n        }\n        // Out of children, go to next sibling\n        const vNextSibling = vCursor.nextSibling;\n        if (vNextSibling) {\n            vCursor = vNextSibling;\n            continue;\n        }\n        // Out of siblings, go to parent\n        vParent = vCursor.parent;\n        while (vParent) {\n            if (vParent === elementVNode) {\n                // We are back where we started, we are done.\n                return rootElement;\n            }\n            const vNextParentSibling = vParent.nextSibling;\n            if (vNextParentSibling) {\n                vCursor = vNextParentSibling;\n                return rootElement;\n            }\n            vParent = vParent.parent;\n        }\n        if (vParent == null) {\n            // We are done.\n            return rootElement;\n        }\n    }\n    return rootElement;\n}\nfunction isSvg(tagOrVNode) {\n    return typeof tagOrVNode === 'string'\n        ? isSvgElement(tagOrVNode)\n        : (tagOrVNode.flags & 64 /* VNodeFlags.NS_svg */) !== 0;\n}\nfunction isMath(tagOrVNode) {\n    return typeof tagOrVNode === 'string'\n        ? isMathElement(tagOrVNode)\n        : (tagOrVNode.flags & 128 /* VNodeFlags.NS_math */) !== 0;\n}\nexport function getNewElementNamespaceData(domParentVNode, tagOrVNode) {\n    const parentIsDefaultNamespace = domParentVNode\n        ? !!vnode_getElementName(domParentVNode) && vnode_isDefaultNamespace(domParentVNode)\n        : true;\n    const parentIsForeignObject = !parentIsDefaultNamespace\n        ? isForeignObjectElement(vnode_getElementName(domParentVNode))\n        : false;\n    let elementNamespace = HTML_NS;\n    let elementNamespaceFlag = 0 /* VNodeFlags.NS_html */;\n    const isElementVNodeOrString = typeof tagOrVNode === 'string' || vnode_isElementVNode(tagOrVNode);\n    if (isElementVNodeOrString && isSvg(tagOrVNode)) {\n        elementNamespace = SVG_NS;\n        elementNamespaceFlag = 64 /* VNodeFlags.NS_svg */;\n    }\n    else if (isElementVNodeOrString && isMath(tagOrVNode)) {\n        elementNamespace = MATH_NS;\n        elementNamespaceFlag = 128 /* VNodeFlags.NS_math */;\n    }\n    else if (domParentVNode && !parentIsForeignObject && !parentIsDefaultNamespace) {\n        const isParentSvg = (domParentVNode.flags & 64 /* VNodeFlags.NS_svg */) !== 0;\n        const isParentMath = (domParentVNode.flags & 128 /* VNodeFlags.NS_math */) !== 0;\n        elementNamespace = isParentSvg ? SVG_NS : isParentMath ? MATH_NS : HTML_NS;\n        elementNamespaceFlag = domParentVNode.flags & 192 /* VNodeFlags.NAMESPACE_MASK */;\n    }\n    return {\n        elementNamespace,\n        elementNamespaceFlag,\n    };\n}\nexport function getAttributeNamespace(attributeName) {\n    switch (attributeName) {\n        case 'xlink:href':\n        case 'xlink:actuate':\n        case 'xlink:arcrole':\n        case 'xlink:role':\n        case 'xlink:show':\n        case 'xlink:title':\n        case 'xlink:type':\n            return XLINK_NS;\n        case 'xml:base':\n        case 'xml:lang':\n        case 'xml:space':\n            return XML_NS;\n        default:\n            return null;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidm5vZGUtbmFtZXNwYWNlLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2NsaWVudC92bm9kZS1uYW1lc3BhY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQzdDLE9BQU8sRUFDTCxPQUFPLEVBQ1AsT0FBTyxFQUNQLGlCQUFpQixFQUNqQixNQUFNLEVBQ04sUUFBUSxFQUNSLE1BQU0sR0FDUCxNQUFNLHlCQUF5QixDQUFDO0FBQ2pDLE9BQU8sRUFBRSxvQ0FBb0MsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRXZFLE9BQU8sRUFDTCxrQkFBa0IsRUFDbEIsZ0JBQWdCLEVBQ2hCLG9CQUFvQixFQUNwQixzQkFBc0IsRUFDdEIsdUJBQXVCLEVBQ3ZCLG9CQUFvQixFQUNwQixtQkFBbUIsRUFDbkIsb0JBQW9CLEVBQ3BCLGlCQUFpQixHQUVsQixNQUFNLFNBQVMsQ0FBQztBQUdqQixNQUFNLENBQUMsTUFBTSxzQkFBc0IsR0FBRyxDQUFDLFdBQW1CLEVBQUUsRUFBRTtJQUM1RCxPQUFPLEtBQUssQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxLQUFLLGVBQWUsQ0FBQyxDQUFDLENBQUMsV0FBVyxLQUFLLGVBQWUsQ0FBQztBQUNqRyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FBQyxXQUFtQixFQUFFLEVBQUUsQ0FDbEQsV0FBVyxLQUFLLEtBQUssSUFBSSxzQkFBc0IsQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUUvRCxNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsQ0FBQyxXQUFtQixFQUFFLEVBQUUsQ0FBQyxXQUFXLEtBQUssTUFBTSxDQUFDO0FBRTdFLE1BQU0sQ0FBQyxNQUFNLHdCQUF3QixHQUFHLENBQUMsS0FBbUIsRUFBVyxFQUFFO0lBQ3ZFLE1BQU0sS0FBSyxHQUFHLEtB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O1FBQ2xCLEtBQUssVUFBVSxDQUFDO1FBQ2hCLEtBQUssVUFBVSxDQUFDO1FBQ2hCLEtBQUssV0FBVztZQUNkLE9BQU8sTUFBTSxDQUFDO1FBQ2hCO1lBQ0UsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0RldiB9IGZyb20gJ0Bxd2lrLmRldi9jb3JlL2J1aWxkJztcbmltcG9ydCB7XG4gIEhUTUxfTlMsXG4gIE1BVEhfTlMsXG4gIFFfUFJPUFNfU0VQQVJBVE9SLFxuICBTVkdfTlMsXG4gIFhMSU5LX05TLFxuICBYTUxfTlMsXG59IGZyb20gJy4uL3NoYXJlZC91dGlscy9tYXJrZXJzJztcbmltcG9ydCB7IGdldERvbUNvbnRhaW5lckZyb21RQ29udGFpbmVyRWxlbWVudCB9IGZyb20gJy4vZG9tLWNvbnRhaW5lcic7XG5pbXBvcnQgeyBWTm9kZUZsYWdzIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQge1xuICBlbnN1cmVFbGVtZW50Vk5vZGUsXG4gIGZhc3ROYW1lc3BhY2VVUkksXG4gIHNob3VsZElnbm9yZUNoaWxkcmVuLFxuICB2bm9kZV9nZXRET01DaGlsZE5vZGVzLFxuICB2bm9kZV9nZXREb21QYXJlbnRWTm9kZSxcbiAgdm5vZGVfZ2V0RWxlbWVudE5hbWUsXG4gIHZub2RlX2dldEZpcnN0Q2hpbGQsXG4gIHZub2RlX2lzRWxlbWVudFZOb2RlLFxuICB2bm9kZV9pc1RleHRWTm9kZSxcbiAgdHlwZSBWTm9kZUpvdXJuYWwsXG59IGZyb20gJy4vdm5vZGUnO1xuaW1wb3J0IHR5cGUgeyBFbGVtZW50Vk5vZGUsIFZOb2RlIH0gZnJvbSAnLi92bm9kZS1pbXBsJztcblxuZXhwb3J0IGNvbnN0IGlzRm9yZWlnbk9iamVjdEVsZW1lbnQgPSAoZWxlbWVudE5hbWU6IHN0cmluZykgPT4ge1xuICByZXR1cm4gaXNEZXYgPyBlbGVtZW50TmFtZS50b0xvd2VyQ2FzZSgpID09PSAnZm9yZWlnbm9iamVjdCcgOiBlbGVtZW50TmFtZSA9PT0gJ2ZvcmVpZ25PYmplY3QnO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzU3ZnRWxlbWVudCA9IChlbGVtZW50TmFtZTogc3RyaW5nKSA9PlxuICBlbGVtZW50TmFtZSA9PT0gJ3N2ZycgfHwgaXNGb3JlaWduT2JqZWN0RWxlbWVudChlbGVtZW50TmFtZSk7XG5cbmV4cG9ydCBjb25zdCBpc01hdGhFbGVtZW50ID0gKGVsZW1lbnROYW1lOiBzdHJpbmcpID0+IGVsZW1lbnROYW1lID09PSAnbWF0aCc7XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9pc0RlZmF1bHROYW1lc3BhY2UgPSAodm5vZGU6IEVsZW1lbnRWTm9kZSk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBmbGFncyA9IHZub2RlLmZsYWdzO1xuICByZXR1cm4gKGZsYWdzICYgVk5vZGVGbGFncy5OQU1FU1BBQ0VfTUFTSykgPT09IDA7XG59O1xuXG5leHBvcnQgY29uc3Qgdm5vZGVfZ2V0RWxlbWVudE5hbWVzcGFjZUZsYWdzID0gKGVsZW1lbnQ6IEVsZW1lbnQpID0+IHtcbiAgY29uc3QgbmFtZXNwYWNlID0gZmFzdE5hbWVzcGFjZVVSSShlbGVtZW50KTtcbiAgc3dpdGNoIChuYW1lc3BhY2UpIHtcbiAgICBjYXNlIFNWR19OUzpcbiAgICAgIHJldHVybiBWTm9kZUZsYWdzLk5TX3N2ZztcbiAgICBjYXNlIE1BVEhfTlM6XG4gICAgICByZXR1cm4gVk5vZGVGbGFncy5OU19tYXRoO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gVk5vZGVGbGFncy5OU19odG1sO1xuICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdm5vZGVfZ2V0RG9tQ2hpbGRyZW5XaXRoQ29ycmVjdE5hbWVzcGFjZXNUb0luc2VydChcbiAgam91cm5hbDogVk5vZGVKb3VybmFsLFxuICBkb21QYXJlbnRWTm9kZTogRWxlbWVudFZOb2RlLFxuICBuZXdDaGlsZDogVk5vZGVcbikge1xuICBjb25zdCB7IGVsZW1lbnROYW1lc3BhY2UsIGVsZW1lbnROYW1lc3BhY2VGbGFnIH0gPSBnZXROZXdFbGVtZW50TmFtZXNwYWNlRGF0YShcbiAgICBkb21QYXJlbnRWTm9kZSxcbiAgICBuZXdDaGlsZFxuICApO1xuXG4gIGxldCBkb21DaGlsZHJlbjogKEVsZW1lbnQgfCBUZXh0KVtdID0gW107XG4gIGlmIChlbGVtZW50TmFtZXNwYWNlID09PSBIVE1MX05TKSB7XG4gICAgLy8gcGFyZW50IGlzIGluIHRoZSBkZWZhdWx0IG5hbWVzcGFjZSwgc28ganVzdCBnZXQgdGhlIGRvbSBjaGlsZHJlbi4gVGhpcyBpcyB0aGUgZmFzdCBwYXRoLlxuICAgIGRvbUNoaWxkcmVuID0gdm5vZGVfZ2V0RE9NQ2hpbGROb2Rlcyhqb3VybmFsLCBuZXdDaGlsZCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gcGFyZW50IGlzIGluIGEgZGlmZmVyZW50IG5hbWVzcGFjZSwgc28gd2UgbmVlZCB0byBjbG9uZSB0aGUgY2hpbGRyZW4gd2l0aCB0aGUgY29ycmVjdCBuYW1lc3BhY2UuXG4gICAgLy8gVGhlIG5hbWVzcGFjZSBjYW5ub3QgYmUgY2hhbmdlZCBvbiBub2Rlcywgc28gd2UgbmVlZCB0byBjbG9uZSB0aGVzZSBub2Rlc1xuICAgIGNvbnN0IGNoaWxkcmVuID0gdm5vZGVfZ2V0RE9NQ2hpbGROb2Rlcyhqb3VybmFsLCBuZXdDaGlsZCwgdHJ1ZSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlsZFZOb2RlID0gY2hpbGRyZW5baV07XG4gICAgICBpZiAodm5vZGVfaXNUZXh0Vk5vZGUoY2hpbGRWTm9kZSkpIHtcbiAgICAgICAgLy8gdGV4dCBub2RlcyBhcmUgYWx3YXlzIGluIHRoZSBkZWZhdWx0IG5hbWVzcGFjZVxuICAgICAgICBkb21DaGlsZHJlbi5wdXNoKGNoaWxkVk5vZGUudGV4dE5vZGUgYXMgVGV4dCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICAoY2hpbGRWTm9kZS5mbGFncyAmIFZOb2RlRmxhZ3MuTkFNRVNQQUNFX01BU0spID09PVxuICAgICAgICAoZG9tUGFyZW50Vk5vZGUuZmxhZ3MgJiBWTm9kZUZsYWdzLk5BTUVTUEFDRV9NQVNLKVxuICAgICAgKSB7XG4gICAgICAgIC8vIGlmIHRoZSBjaGlsZCBhbmQgcGFyZW50IGhhdmUgdGhlIHNhbWUgbmFtZXNwYWNlLCB3ZSBkb24ndCBuZWVkIHRvIGNsb25lIHRoZSBlbGVtZW50XG4gICAgICAgIGRvbUNoaWxkcmVuLnB1c2goY2hpbGRWTm9kZS5lbGVtZW50IGFzIEVsZW1lbnQpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gY2xvbmUgdGhlIGVsZW1lbnQgd2l0aCB0aGUgY29ycmVjdCBuYW1lc3BhY2VcbiAgICAgIGNvbnN0IG5ld0NoaWxkRWxlbWVudCA9IHZub2RlX2Nsb25lRWxlbWVudFdpdGhOYW1lc3BhY2UoXG4gICAgICAgIGNoaWxkVk5vZGUsXG4gICAgICAgIGRvbVBhcmVudFZOb2RlLFxuICAgICAgICBlbGVtZW50TmFtZXNwYWNlLFxuICAgICAgICBlbGVtZW50TmFtZXNwYWNlRmxhZ1xuICAgICAgKTtcblxuICAgICAgaWYgKG5ld0NoaWxkRWxlbWVudCkge1xuICAgICAgICBkb21DaGlsZHJlbi5wdXNoKG5ld0NoaWxkRWxlbWVudCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBkb21DaGlsZHJlbjtcbn1cblxuLyoqIFRoaXMgZnVuY3Rpb24gY2xvbmVzIGFuIGVsZW1lbnQgd2l0aCBhIGRpZmZlcmVudCBuYW1lc3BhY2UsIGluY2x1ZGluZyB0aGUgY2hpbGRyZW4gKi9cbmZ1bmN0aW9uIGNsb25lRG9tVHJlZVdpdGhOYW1lc3BhY2UoXG4gIGVsZW1lbnQ6IEVsZW1lbnQsXG4gIGVsZW1lbnROYW1lOiBzdHJpbmcsXG4gIG5hbWVzcGFjZTogc3RyaW5nLFxuICBkZWVwID0gZmFsc2Vcbik6IEVsZW1lbnQge1xuICBjb25zdCBuZXdFbGVtZW50ID0gZWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuYW1lc3BhY2UsIGVsZW1lbnROYW1lKTtcblxuICAvLyBDb3B5IGFsbCBhdHRyaWJ1dGVzXG4gIGZvciAoY29uc3QgYXR0ciBvZiBlbGVtZW50LmF0dHJpYnV0ZXMpIHtcbiAgICBpZiAoYXR0ci5uYW1lICE9PSBRX1BST1BTX1NFUEFSQVRPUikge1xuICAgICAgbmV3RWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0ci5uYW1lLCBhdHRyLnZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBpZiAoZGVlcCkge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IGNsb25lIGFsbCBjaGlsZCBub2Rlc1xuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgZWxlbWVudC5jaGlsZE5vZGVzKSB7XG4gICAgICBjb25zdCBub2RlVHlwZSA9IGNoaWxkLm5vZGVUeXBlO1xuICAgICAgaWYgKG5vZGVUeXBlID09PSAzIC8qIE5vZGUuVEVYVF9OT0RFICovKSB7XG4gICAgICAgIG5ld0VsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQuY2xvbmVOb2RlKCkpO1xuICAgICAgfSBlbHNlIGlmIChub2RlVHlwZSA9PT0gMSAvKiBOb2RlLkVMRU1FTlRfTk9ERSAqLykge1xuICAgICAgICBuZXdFbGVtZW50LmFwcGVuZENoaWxkKFxuICAgICAgICAgIGNsb25lRG9tVHJlZVdpdGhOYW1lc3BhY2UoY2hpbGQgYXMgRWxlbWVudCwgKGNoaWxkIGFzIEVsZW1lbnQpLmxvY2FsTmFtZSwgbmFtZXNwYWNlLCBkZWVwKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdFbGVtZW50O1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2xvbmVzIGFuIEVsZW1lbnRWTm9kZSB3aXRoIGEgZGlmZmVyZW50IG5hbWVzcGFjZSwgaW5jbHVkaW5nIHRoZSBjaGlsZHJlbi4gVGhpc1xuICogdHJhdmVyc2UgdGhlIHRyZWUgdXNpbmcgZGVwdGgtZmlyc3Qgc2VhcmNoIGFuZCBjbG9uZXMgdGhlIGVsZW1lbnRzIHVzaW5nXG4gKiBgY2xvbmVFbGVtZW50V2l0aE5hbWVzcGFjZWAuXG4gKi9cbmZ1bmN0aW9uIHZub2RlX2Nsb25lRWxlbWVudFdpdGhOYW1lc3BhY2UoXG4gIGVsZW1lbnRWTm9kZTogRWxlbWVudFZOb2RlLFxuICBwYXJlbnRWTm9kZTogRWxlbWVudFZOb2RlLFxuICBuYW1lc3BhY2U6IHN0cmluZyxcbiAgbmFtZXNwYWNlRmxhZzogVk5vZGVGbGFnc1xuKSB7XG4gIGVuc3VyZUVsZW1lbnRWTm9kZShlbGVtZW50Vk5vZGUpO1xuICBsZXQgdkN1cnNvcjogVk5vZGUgfCBudWxsID0gZWxlbWVudFZOb2RlO1xuICBsZXQgdlBhcmVudDogVk5vZGUgfCBudWxsID0gbnVsbDtcbiAgbGV0IHJvb3RFbGVtZW50OiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBwYXJlbnRFbGVtZW50OiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHdoaWxlICh2Q3Vyc29yKSB7XG4gICAgbGV0IGNoaWxkRWxlbWVudDogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICAgIGxldCBuZXdDaGlsZEVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgICBpZiAodm5vZGVfaXNFbGVtZW50Vk5vZGUodkN1cnNvcikpIHtcbiAgICAgIC8vIENsb25lIHRoZSBlbGVtZW50XG4gICAgICBjaGlsZEVsZW1lbnQgPSB2Q3Vyc29yLmVsZW1lbnQgYXMgRWxlbWVudDtcbiAgICAgIGNvbnN0IGNoaWxkRWxlbWVudFRhZyA9IHZub2RlX2dldEVsZW1lbnROYW1lKHZDdXJzb3IpO1xuXG4gICAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIGlmIHRoZSBwYXJlbnQgaXMgYSBmb3JlaWduT2JqZWN0IGVsZW1lbnRcbiAgICAgIC8vIGFuZCBnZXQgYSBuZXcgbmFtZXNwYWNlIGRhdGEuXG4gICAgICBjb25zdCB2Q3Vyc29yUGFyZW50ID0gdkN1cnNvci5wYXJlbnQ7XG4gICAgICAvLyBGb3IgdGhlIGZpcnN0IHZOb2RlIHBhcmVudE5vZGUgaXMgbm90IHBhcmVudCBmcm9tIHZOb2RlIHRyZWUsIGJ1dCBwYXJlbnQgZnJvbSBET00gdHJlZVxuICAgICAgLy8gdGhpcyBpcyBiZWNhdXNlIHZOb2RlIGlzIG5vdCBtb3ZlZCB5ZXQuXG4gICAgICAvLyByb290RWxlbWVudCBpcyBudWxsIG9ubHkgZm9yIHRoZSBmaXJzdCB2Tm9kZVxuICAgICAgY29uc3QgdkN1cnNvckRvbVBhcmVudCA9XG4gICAgICAgIHJvb3RFbGVtZW50ID09IG51bGwgPyBwYXJlbnRWTm9kZSA6IHZDdXJzb3JQYXJlbnQgJiYgdm5vZGVfZ2V0RG9tUGFyZW50Vk5vZGUodkN1cnNvclBhcmVudCk7XG4gICAgICBpZiAodkN1cnNvckRvbVBhcmVudCkge1xuICAgICAgICBjb25zdCBuYW1lc3BhY2VEYXRhID0gZ2V0TmV3RWxlbWVudE5hbWVzcGFjZURhdGEoXG4gICAgICAgICAgdkN1cnNvckRvbVBhcmVudCxcbiAgICAgICAgICB2bm9kZV9nZXRFbGVtZW50TmFtZSh2Q3Vyc29yKVxuICAgICAgICApO1xuICAgICAgICBuYW1lc3BhY2UgPSBuYW1lc3BhY2VEYXRhLmVsZW1lbnROYW1lc3BhY2U7XG4gICAgICAgIG5hbWVzcGFjZUZsYWcgPSBuYW1lc3BhY2VEYXRhLmVsZW1lbnROYW1lc3BhY2VGbGFnO1xuICAgICAgfVxuICAgICAgY29uc3QgdkZpcnN0Q2hpbGQgPSB2bm9kZV9nZXRGaXJzdENoaWxkKHZDdXJzb3IpO1xuXG4gICAgICBuZXdDaGlsZEVsZW1lbnQgPSBjbG9uZURvbVRyZWVXaXRoTmFtZXNwYWNlKFxuICAgICAgICBjaGlsZEVsZW1lbnQsXG4gICAgICAgIGNoaWxkRWxlbWVudFRhZyxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAvLyBkZWVwIGlmIHRoZXJlIGlzIG5vIHZub2RlIGNoaWxkcmVuLCBjaGlsZHJlbiBhcmUgcHJvYmFibHkgaW5zZXJ0ZWQgdmlhIGlubmVySFRNTFxuICAgICAgICAhdkZpcnN0Q2hpbGRcbiAgICAgICk7XG5cbiAgICAgIGNoaWxkRWxlbWVudC5yZW1vdmUoKTtcblxuICAgICAgaWYgKHJvb3RFbGVtZW50ID09IG51bGwpIHtcbiAgICAgICAgcm9vdEVsZW1lbnQgPSBuZXdDaGlsZEVsZW1lbnQ7XG4gICAgICB9XG4gICAgICBpZiAocGFyZW50RWxlbWVudCkge1xuICAgICAgICBwYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKG5ld0NoaWxkRWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIC8vIERlc2NlbmQgaW50byBjaGlsZHJlblxuICAgICAgLy8gV2UgbmVlZCBmaXJzdCBnZXQgdGhlIGZpcnN0IGNoaWxkLCBpZiBhbnlcblxuICAgICAgLy8gVGhlbiB3ZSBjYW4gb3ZlcndyaXRlIHRoZSBjdXJzb3Igd2l0aCBuZXdseSBjcmVhdGVkIGVsZW1lbnQuXG4gICAgICAvLyBUaGlzIGlzIGJlY2F1c2Ugd2UgbmVlZCB0byBtYXRlcmlhbGl6ZSB0aGUgY2hpbGRyZW4gYmVmb3JlIHdlIGFzc2lnbiBuZXcgZWxlbWVudFxuICAgICAgdkN1cnNvci5lbGVtZW50ID0gbmV3Q2hpbGRFbGVtZW50O1xuICAgICAgLy8gU2V0IGNvcnJlY3QgbmFtZXNwYWNlIGZsYWdcbiAgICAgIHZDdXJzb3IuZmxhZ3MgJj0gVk5vZGVGbGFncy5ORUdBVEVEX05BTUVTUEFDRV9NQVNLO1xuICAgICAgdkN1cnNvci5mbGFncyB8PSBuYW1lc3BhY2VGbGFnO1xuICAgICAgaWYgKHZGaXJzdENoaWxkKSB7XG4gICAgICAgIHZDdXJzb3IgPSB2Rmlyc3RDaGlsZDtcbiAgICAgICAgcGFyZW50RWxlbWVudCA9IG5ld0NoaWxkRWxlbWVudDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2UgaWYgKHNob3VsZElnbm9yZUNoaWxkcmVuKGNoaWxkRWxlbWVudCkpIHtcbiAgICAgICAgLy8gSWYgd2Ugc2hvdWxkIGlnbm9yZSBjaGlsZHJlbiBvZiB0aGUgZWxlbWVudCB0aGlzIG1lYW5zIHRoYXQgdGhlIGVsZW1lbnQgaXMgYSBjb250YWluZXJcbiAgICAgICAgLy8gV2UgbmVlZCB0byBnZXQgdGhlIGZpcnN0IGNoaWxkIG9mIHRoZSBjb250YWluZXJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZ2V0RG9tQ29udGFpbmVyRnJvbVFDb250YWluZXJFbGVtZW50KGNoaWxkRWxlbWVudCk7XG5cbiAgICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgIGNvbnN0IGlubmVyQ29udGFpbmVyRmlyc3RWTm9kZSA9IHZub2RlX2dldEZpcnN0Q2hpbGQoY29udGFpbmVyLnJvb3RWTm9kZSk7XG4gICAgICAgICAgaWYgKGlubmVyQ29udGFpbmVyRmlyc3RWTm9kZSkge1xuICAgICAgICAgICAgdkN1cnNvciA9IGlubmVyQ29udGFpbmVyRmlyc3RWTm9kZTtcbiAgICAgICAgICAgIHBhcmVudEVsZW1lbnQgPSBuZXdDaGlsZEVsZW1lbnQ7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHZDdXJzb3IgPT09IGVsZW1lbnRWTm9kZSkge1xuICAgICAgLy8gd2UgYXJlIHdoZXJlIHdlIHN0YXJ0ZWQsIHRoaXMgbWVhbnMgdGhhdCB2Tm9kZSBoYXMgbm8gY2hpbGRyZW4sIHNvIHdlIGFyZSBkb25lLlxuICAgICAgcmV0dXJuIHJvb3RFbGVtZW50O1xuICAgIH1cbiAgICAvLyBPdXQgb2YgY2hpbGRyZW4sIGdvIHRvIG5leHQgc2libGluZ1xuICAgIGNvbnN0IHZOZXh0U2libGluZyA9IHZDdXJzb3IubmV4dFNpYmxpbmcgYXMgVk5vZGUgfCBudWxsO1xuICAgIGlmICh2TmV4dFNpYmxpbmcpIHtcbiAgICAgIHZDdXJzb3IgPSB2TmV4dFNpYmxpbmc7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgLy8gT3V0IG9mIHNpYmxpbmdzLCBnbyB0byBwYXJlbnRcbiAgICB2UGFyZW50ID0gdkN1cnNvci5wYXJlbnQ7XG4gICAgd2hpbGUgKHZQYXJlbnQpIHtcbiAgICAgIGlmICh2UGFyZW50ID09PSBlbGVtZW50Vk5vZGUpIHtcbiAgICAgICAgLy8gV2UgYXJlIGJhY2sgd2hlcmUgd2Ugc3RhcnRlZCwgd2UgYXJlIGRvbmUuXG4gICAgICAgIHJldHVybiByb290RWxlbWVudDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZOZXh0UGFyZW50U2libGluZyA9IHZQYXJlbnQubmV4dFNpYmxpbmcgYXMgVk5vZGUgfCBudWxsO1xuICAgICAgaWYgKHZOZXh0UGFyZW50U2libGluZykge1xuICAgICAgICB2Q3Vyc29yID0gdk5leHRQYXJlbnRTaWJsaW5nO1xuICAgICAgICByZXR1cm4gcm9vdEVsZW1lbnQ7XG4gICAgICB9XG4gICAgICB2UGFyZW50ID0gdlBhcmVudC5wYXJlbnQ7XG4gICAgfVxuICAgIGlmICh2UGFyZW50ID09IG51bGwpIHtcbiAgICAgIC8vIFdlIGFyZSBkb25lLlxuICAgICAgcmV0dXJuIHJvb3RFbGVtZW50O1xuICAgIH1cbiAgfVxuICByZXR1cm4gcm9vdEVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIGlzU3ZnKHRhZ09yVk5vZGU6IHN0cmluZyB8IEVsZW1lbnRWTm9kZSk6IGJvb2xlYW4ge1xuICByZXR1cm4gdHlwZW9mIHRhZ09yVk5vZGUgPT09ICdzdHJpbmcnXG4gICAgPyBpc1N2Z0VsZW1lbnQodGFnT3JWTm9kZSlcbiAgICA6ICh0YWdPclZOb2RlLmZsYWdzICYgVk5vZGVGbGFncy5OU19zdmcpICE9PSAwO1xufVxuXG5mdW5jdGlvbiBpc01hdGgodGFnT3JWTm9kZTogc3RyaW5nIHwgRWxlbWVudFZOb2RlKTogYm9vbGVhbiB7XG4gIHJldHVybiB0eXBlb2YgdGFnT3JWTm9kZSA9PT0gJ3N0cmluZydcbiAgICA/IGlzTWF0aEVsZW1lbnQodGFnT3JWTm9kZSlcbiAgICA6ICh0YWdPclZOb2RlLmZsYWdzICYgVk5vZGVGbGFncy5OU19tYXRoKSAhPT0gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE5ld0VsZW1lbnROYW1lc3BhY2VEYXRhKFxuICBkb21QYXJlbnRWTm9kZTogRWxlbWVudFZOb2RlIHwgbnVsbCxcbiAgZWxlbWVudE5hbWU6IHN0cmluZ1xuKTogTmV3RWxlbWVudE5hbWVzcGFjZURhdGE7XG5leHBvcnQgZnVuY3Rpb24gZ2V0TmV3RWxlbWVudE5hbWVzcGFjZURhdGEoXG4gIGRvbVBhcmVudFZOb2RlOiBFbGVtZW50Vk5vZGUgfCBudWxsLFxuICB2bm9kZTogVk5vZGVcbik6IE5ld0VsZW1lbnROYW1lc3BhY2VEYXRhO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmV3RWxlbWVudE5hbWVzcGFjZURhdGEoXG4gIGRvbVBhcmVudFZOb2RlOiBFbGVtZW50Vk5vZGUgfCBudWxsLFxuICB0YWdPclZOb2RlOiBzdHJpbmcgfCBWTm9kZVxuKTogTmV3RWxlbWVudE5hbWVzcGFjZURhdGEge1xuICBjb25zdCBwYXJlbnRJc0RlZmF1bHROYW1lc3BhY2UgPSBkb21QYXJlbnRWTm9kZVxuICAgID8gISF2bm9kZV9nZXRFbGVtZW50TmFtZShkb21QYXJlbnRWTm9kZSkgJiYgdm5vZGVfaXNEZWZhdWx0TmFtZXNwYWNlKGRvbVBhcmVudFZOb2RlKVxuICAgIDogdHJ1ZTtcbiAgY29uc3QgcGFyZW50SXNGb3JlaWduT2JqZWN0ID0gIXBhcmVudElzRGVmYXVsdE5hbWVzcGFjZVxuICAgID8gaXNGb3JlaWduT2JqZWN0RWxlbWVudCh2bm9kZV9nZXRFbGVtZW50TmFtZShkb21QYXJlbnRWTm9kZSEpKVxuICAgIDogZmFsc2U7XG5cbiAgbGV0IGVsZW1lbnROYW1lc3BhY2UgPSBIVE1MX05TO1xuICBsZXQgZWxlbWVudE5hbWVzcGFjZUZsYWcgPSBWTm9kZUZsYWdzLk5TX2h0bWw7XG5cbiAgY29uc3QgaXNFbGVtZW50Vk5vZGVPclN0cmluZyA9IHR5cGVvZiB0YWdPclZOb2RlID09PSAnc3RyaW5nJyB8fCB2bm9kZV9pc0VsZW1lbnRWTm9kZSh0YWdPclZOb2RlKTtcblxuICBpZiAoaXNFbGVtZW50Vk5vZGVPclN0cmluZyAmJiBpc1N2Zyh0YWdPclZOb2RlKSkge1xuICAgIGVsZW1lbnROYW1lc3BhY2UgPSBTVkdfTlM7XG4gICAgZWxlbWVudE5hbWVzcGFjZUZsYWcgPSBWTm9kZUZsYWdzLk5TX3N2ZztcbiAgfSBlbHNlIGlmIChpc0VsZW1lbnRWTm9kZU9yU3RyaW5nICYmIGlzTWF0aCh0YWdPclZOb2RlKSkge1xuICAgIGVsZW1lbnROYW1lc3BhY2UgPSBNQVRIX05TO1xuICAgIGVsZW1lbnROYW1lc3BhY2VGbGFnID0gVk5vZGVGbGFncy5OU19tYXRoO1xuICB9IGVsc2UgaWYgKGRvbVBhcmVudFZOb2RlICYmICFwYXJlbnRJc0ZvcmVpZ25PYmplY3QgJiYgIXBhcmVudElzRGVmYXVsdE5hbWVzcGFjZSkge1xuICAgIGNvbnN0IGlzUGFyZW50U3ZnID0gKGRvbVBhcmVudFZOb2RlLmZsYWdzICYgVk5vZGVGbGFncy5OU19zdmcpICE9PSAwO1xuICAgIGNvbnN0IGlzUGFyZW50TWF0aCA9IChkb21QYXJlbnRWTm9kZS5mbGFncyAmIFZOb2RlRmxhZ3MuTlNfbWF0aCkgIT09IDA7XG5cbiAgICBlbGVtZW50TmFtZXNwYWNlID0gaXNQYXJlbnRTdmcgPyBTVkdfTlMgOiBpc1BhcmVudE1hdGggPyBNQVRIX05TIDogSFRNTF9OUztcbiAgICBlbGVtZW50TmFtZXNwYWNlRmxhZyA9IGRvbVBhcmVudFZOb2RlLmZsYWdzICYgVk5vZGVGbGFncy5OQU1FU1BBQ0VfTUFTSztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZWxlbWVudE5hbWVzcGFjZSxcbiAgICBlbGVtZW50TmFtZXNwYWNlRmxhZyxcbiAgfTtcbn1cblxuaW50ZXJmYWNlIE5ld0VsZW1lbnROYW1lc3BhY2VEYXRhIHtcbiAgZWxlbWVudE5hbWVzcGFjZTogc3RyaW5nO1xuICBlbGVtZW50TmFtZXNwYWNlRmxhZzogbnVtYmVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXR0cmlidXRlTmFtZXNwYWNlKGF0dHJpYnV0ZU5hbWU6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICBzd2l0Y2ggKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICBjYXNlICd4bGluazpocmVmJzpcbiAgICBjYXNlICd4bGluazphY3R1YXRlJzpcbiAgICBjYXNlICd4bGluazphcmNyb2xlJzpcbiAgICBjYXNlICd4bGluazpyb2xlJzpcbiAgICBjYXNlICd4bGluazpzaG93JzpcbiAgICBjYXNlICd4bGluazp0aXRsZSc6XG4gICAgY2FzZSAneGxpbms6dHlwZSc6XG4gICAgICByZXR1cm4gWExJTktfTlM7XG4gICAgY2FzZSAneG1sOmJhc2UnOlxuICAgIGNhc2UgJ3htbDpsYW5nJzpcbiAgICBjYXNlICd4bWw6c3BhY2UnOlxuICAgICAgcmV0dXJuIFhNTF9OUztcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbiJdfQ==","export const mergeMaps = (map1, map2) => {\n    for (const [k, v] of map2) {\n        map1.set(k, v);\n    }\n    return map1;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFwcy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvdXRpbHMvbWFwcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FBTyxJQUFlLEVBQUUsSUFBZSxFQUFhLEVBQUU7SUFDN0UsS0FBSyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQzFCLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2pCLENBQUM7SUFDRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBtZXJnZU1hcHMgPSA8SywgVj4obWFwMTogTWFwPEssIFY+LCBtYXAyOiBNYXA8SywgVj4pOiBNYXA8SywgVj4gPT4ge1xuICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBtYXAyKSB7XG4gICAgbWFwMS5zZXQoaywgdik7XG4gIH1cbiAgcmV0dXJuIG1hcDE7XG59O1xuIl19","/**\n * # ================================\n *\n * Signal Types\n *\n * # ================================\n */\n/**\n * Special value used to mark that a given signal needs to be computed. This is essentially a\n * \"marked as dirty\" flag.\n */\nexport const NEEDS_COMPUTATION = Symbol('invalid');\n/** @internal */\nexport const _EFFECT_BACK_REF = Symbol('backRef');\n/**\n * # ================================\n *\n * Store Types\n *\n * # ================================\n */\nexport const STORE_TARGET = Symbol('store.target');\nexport const STORE_HANDLER = Symbol('store.handler');\nexport const STORE_ALL_PROPS = Symbol('store.all');\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVhY3RpdmUtcHJpbWl0aXZlcy90eXBlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFZQTs7Ozs7O0dBTUc7QUFFSDs7O0dBR0c7QUFDSCxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBUSxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7QUFFeEQsZ0JBQWdCO0FBQ2hCLE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztBQStKbEQ7Ozs7OztHQU1HO0FBRUgsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUNuRCxNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBQ3JELE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IElTc3JOb2RlIH0gZnJvbSAnLi4vc3NyL3Nzci10eXBlcyc7XG5pbXBvcnQgdHlwZSB7IFRhc2ssIFRyYWNrZXIgfSBmcm9tICcuLi91c2UvdXNlLXRhc2snO1xuaW1wb3J0IHR5cGUgeyBTdWJzY3JpcHRpb25EYXRhIH0gZnJvbSAnLi9zdWJzY3JpcHRpb24tZGF0YSc7XG5pbXBvcnQgdHlwZSB7IFJlYWRvbmx5U2lnbmFsIH0gZnJvbSAnLi9zaWduYWwucHVibGljJztcbmltcG9ydCB0eXBlIHsgU2lnbmFsSW1wbCB9IGZyb20gJy4vaW1wbC9zaWduYWwtaW1wbCc7XG5pbXBvcnQgdHlwZSB7IFFSTEludGVybmFsIH0gZnJvbSAnLi4vc2hhcmVkL3FybC9xcmwtY2xhc3MnO1xuaW1wb3J0IHR5cGUgeyBTZXJpYWxpemVyU3ltYm9sIH0gZnJvbSAnLi4vc2hhcmVkL3NlcmRlcy92ZXJpZnknO1xuaW1wb3J0IHR5cGUgeyBDb21wdXRlZEZuIH0gZnJvbSAnLi4vdXNlL3VzZS1jb21wdXRlZCc7XG5pbXBvcnQgdHlwZSB7IEFzeW5jQ29tcHV0ZWRGbiB9IGZyb20gJy4uL3VzZS91c2UtYXN5bmMtY29tcHV0ZWQnO1xuaW1wb3J0IHR5cGUgeyBDb250YWluZXIsIFNlcmlhbGl6YXRpb25TdHJhdGVneSB9IGZyb20gJy4uL3NoYXJlZC90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IFZOb2RlIH0gZnJvbSAnLi4vY2xpZW50L3Zub2RlLWltcGwnO1xuXG4vKipcbiAqICMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqXG4gKiBTaWduYWwgVHlwZXNcbiAqXG4gKiAjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLyoqXG4gKiBTcGVjaWFsIHZhbHVlIHVzZWQgdG8gbWFyayB0aGF0IGEgZ2l2ZW4gc2lnbmFsIG5lZWRzIHRvIGJlIGNvbXB1dGVkLiBUaGlzIGlzIGVzc2VudGlhbGx5IGFcbiAqIFwibWFya2VkIGFzIGRpcnR5XCIgZmxhZy5cbiAqL1xuZXhwb3J0IGNvbnN0IE5FRURTX0NPTVBVVEFUSU9OOiBhbnkgPSBTeW1ib2woJ2ludmFsaWQnKTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IF9FRkZFQ1RfQkFDS19SRUYgPSBTeW1ib2woJ2JhY2tSZWYnKTtcblxuZXhwb3J0IGludGVyZmFjZSBJbnRlcm5hbFJlYWRvbmx5U2lnbmFsPFQgPSB1bmtub3duPiBleHRlbmRzIFJlYWRvbmx5U2lnbmFsPFQ+IHtcbiAgcmVhZG9ubHkgdW50cmFja2VkVmFsdWU6IFQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW50ZXJuYWxTaWduYWw8VCA9IGFueT4gZXh0ZW5kcyBJbnRlcm5hbFJlYWRvbmx5U2lnbmFsPFQ+IHtcbiAgdmFsdWU6IFQ7XG4gIHVudHJhY2tlZFZhbHVlOiBUO1xufVxuXG5leHBvcnQgdHlwZSBDb21wdXRlUVJMPFQ+ID0gUVJMSW50ZXJuYWw8Q29tcHV0ZWRGbjxUPj47XG5leHBvcnQgdHlwZSBBc3luY0NvbXB1dGVkQ3R4ID0ge1xuICB0cmFjazogVHJhY2tlcjtcbiAgY2xlYW51cDogKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiB2b2lkO1xufTtcbmV4cG9ydCB0eXBlIEFzeW5jQ29tcHV0ZVFSTDxUPiA9IFFSTEludGVybmFsPEFzeW5jQ29tcHV0ZWRGbjxUPj47XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgaW50ZXJmYWNlIENvbXB1dGVkT3B0aW9ucyB7XG4gIHNlcmlhbGl6YXRpb25TdHJhdGVneT86IFNlcmlhbGl6YXRpb25TdHJhdGVneTtcbiAgY29udGFpbmVyPzogQ29udGFpbmVyO1xufVxuXG5leHBvcnQgY29uc3QgZW51bSBTaWduYWxGbGFncyB7XG4gIElOVkFMSUQgPSAxLFxuICBSVU5fRUZGRUNUUyA9IDIsXG59XG5cbmV4cG9ydCBjb25zdCBlbnVtIFdyYXBwZWRTaWduYWxGbGFncyB7XG4gIC8vIHNob3VsZCBzdWJzY3JpYmUgdG8gdmFsdWUgYW5kIGJlIHVud3JhcHBlZCBmb3IgUHJvcHNQcm94eVxuICBVTldSQVAgPSA0LFxufVxuXG5leHBvcnQgY29uc3QgZW51bSBTZXJpYWxpemF0aW9uU2lnbmFsRmxhZ3Mge1xuICAvLyBUT0RPOiBpbXBsZW1lbnQgdGhpcyBpbiB0aGUgZnV0dXJlXG4gIC8vIFNFUklBTElaQVRJT05fU1RSQVRFR1lfQVVUTyA9IDgsXG4gIFNFUklBTElaQVRJT05fU1RSQVRFR1lfTkVWRVIgPSAxNixcbiAgU0VSSUFMSVpBVElPTl9TVFJBVEVHWV9BTFdBWVMgPSAzMixcbn1cblxuZXhwb3J0IHR5cGUgQWxsU2lnbmFsRmxhZ3MgPSBTaWduYWxGbGFncyB8IFdyYXBwZWRTaWduYWxGbGFncyB8IFNlcmlhbGl6YXRpb25TaWduYWxGbGFncztcblxuLyoqXG4gKiBFZmZlY3QgaXMgc29tZXRoaW5nIHdoaWNoIG5lZWRzIHRvIGhhcHBlbiAoc2lkZS1lZmZlY3QpIGR1ZSB0byBzaWduYWwgdmFsdWUgY2hhbmdlLlxuICpcbiAqIFRoZXJlIGFyZSB0aHJlZSB0eXBlcyBvZiBlZmZlY3RzOlxuICpcbiAqIC0gYFRhc2tgOiBgdXNlVGFza2AsIGB1c2VWaXNpYmxlVGFza2AsIGB1c2VSZXNvdXJjZWBcbiAqIC0gYFZOb2RlYCBhbmQgYElTc3JOb2RlYDogRWl0aGVyIGEgY29tcG9uZW50IG9yIGA8U2lnbmFsPmBcbiAqIC0gYFNpZ25hbDJgOiBBIGRlcml2ZWQgc2lnbmFsIHdoaWNoIGNvbnRhaW5zIGEgY29tcHV0YXRpb24gZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCB0eXBlIENvbnN1bWVyID0gVGFzayB8IFZOb2RlIHwgSVNzck5vZGUgfCBTaWduYWxJbXBsO1xuXG4vKipcbiAqIEFuIGVmZmVjdCBjb25zdW1lciBwbHVzIHR5cGUgb2YgZWZmZWN0LCBiYWNrIHJlZmVyZW5jZXMgdG8gcHJvZHVjZXJzIGFuZCBhZGRpdGlvbmFsIGRhdGFcbiAqXG4gKiBBbiBlZmZlY3QgY2FuIGJlIHRyaWdnZXIgYnkgb25lIG9yIG1vcmUgb2Ygc2lnbmFsIGlucHV0cy4gVGhlIGZpcnN0IHN0ZXAgb2YgcmUtcnVubmluZyBhbiBlZmZlY3RcbiAqIGlzIHRvIGNsZWFyIGl0cyBzdWJzY3JpcHRpb25zIHNvIHRoYXQgdGhlIGVmZmVjdCBjYW4gcmUgYWRkIG5ldyBzZXQgb2Ygc3Vic2NyaXB0aW9ucy4gSW4gb3JkZXIgdG9cbiAqIGNsZWFyIHRoZSBzdWJzY3JpcHRpb25zIHdlIG5lZWQgdG8gc3RvcmUgdGhlbSBoZXJlLlxuICpcbiAqIEltYWdpbmUgeW91IGhhdmUgZWZmZWN0IHN1Y2ggYXM6XG4gKlxuICogYGBgXG4gKiBmdW5jdGlvbiBlZmZlY3QxKCkge1xuICogICBjb25zb2xlLmxvZyhzaWduYWxBLnZhbHVlID8gc2lnbmFsQi52YWx1ZSA6ICdkZWZhdWx0Jyk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBJbiB0aGUgYWJvdmUgY2FzZSB0aGUgYHNpZ25hbEJgIG5lZWRzIHRvIGJlIHVuc3Vic2NyaWJlZCB3aGVuIGBzaWduYWxBYCBpcyBmYWxzeS4gV2UgZG8gdGhpcyBieVxuICogYWx3YXlzIGNsZWFyaW5nIGFsbCBvZiB0aGUgc3Vic2NyaXB0aW9uc1xuICpcbiAqIFRoZSBgRWZmZWN0U3Vic2NyaXB0aW9uYCBzdG9yZXNcbiAqXG4gKiBgYGBcbiAqIHN1YnNjcmlwdGlvbjEgPSBbZWZmZWN0Q29uc3VtZXIxLCBFZmZlY3RQcm9wZXJ0eS5DT01QT05FTlQsIFNldFsoc2lnbmFsQSwgc2lnbmFsQildXTtcbiAqIGBgYFxuICpcbiAqIFRoZSBgc2lnbmFsMWAgYW5kIGBzaWduYWwyYCBiYWNrIHJlZmVyZW5jZXMgYXJlIG5lZWRlZCB0byBcImNsZWFyXCIgZXhpc3Rpbmcgc3Vic2NyaXB0aW9ucy5cbiAqXG4gKiBCb3RoIGBzaWduYWxBYCBhcyB3ZWxsIGFzIGBzaWduYWxCYCB3aWxsIGhhdmUgYSByZWZlcmVuY2UgdG8gYHN1YnNjcmlwdGlvbmAgdG8gdGhlIHNvIHRoYXQgdGhlXG4gKiBlZmZlY3QgY2FuIGJlIHNjaGVkdWxlZCBpZiBlaXRoZXIgYHNpZ25hbEFgIG9yIGBzaWduYWxCYCB0cmlnZ2Vycy4gVGhlIGBzdWJzY3JpcHRpb24xYCBpcyBzaGFyZWRcbiAqIGJldHdlZW4gdGhlIHNpZ25hbHMuXG4gKlxuICogVGhlIHNlY29uZCBwb3NpdGlvbiBgRWZmZWN0UHJvcGVydHl8c3RyaW5nYCBzdG9yZSB0aGUgcHJvcGVydHkgbmFtZSBvZiB0aGUgZWZmZWN0LlxuICpcbiAqIC0gUHJvcGVydHkgbmFtZSBvZiB0aGUgVk5vZGVcbiAqIC0gYEVmZmVjdFByb3BlcnR5LkNPTVBPTkVOVGAgaWYgY29tcG9uZW50XG4gKiAtIGBFZmZlY3RQcm9wZXJ0eS5WTk9ERWAgaWYgVk5vZGVcbiAqL1xuZXhwb3J0IHR5cGUgRWZmZWN0U3Vic2NyaXB0aW9uID0gW1xuICBDb25zdW1lciwgLy8gRWZmZWN0U3Vic2NyaXB0aW9uUHJvcC5DT05TVU1FUlxuICBFZmZlY3RQcm9wZXJ0eSB8IHN0cmluZywgLy8gRWZmZWN0U3Vic2NyaXB0aW9uUHJvcC5QUk9QRVJUWSBvciBzdHJpbmcgZm9yIGF0dHJpYnV0ZXNcbiAgU2V0PFNpZ25hbEltcGwgfCBTdG9yZVRhcmdldD4gfCBudWxsLCAvLyBFZmZlY3RTdWJzY3JpcHRpb25Qcm9wLkJBQ0tfUkVGXG4gIFN1YnNjcmlwdGlvbkRhdGEgfCBudWxsLCAvLyBFZmZlY3RTdWJzY3JpcHRpb25Qcm9wLkRBVEFcbl07XG5cbmV4cG9ydCBjb25zdCBlbnVtIEVmZmVjdFN1YnNjcmlwdGlvblByb3Age1xuICBDT05TVU1FUiA9IDAsXG4gIFBST1BFUlRZID0gMSxcbiAgQkFDS19SRUYgPSAyLFxuICBEQVRBID0gMyxcbn1cblxuZXhwb3J0IGNvbnN0IGVudW0gRWZmZWN0UHJvcGVydHkge1xuICBDT01QT05FTlQgPSAnOicsXG4gIFZOT0RFID0gJy4nLFxufVxuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IHR5cGUgU2VyaWFsaXplckFyZ09iamVjdDxULCBTPiA9IHtcbiAgLyoqXG4gICAqIFRoaXMgd2lsbCBiZSBjYWxsZWQgd2l0aCBpbml0aWFsIG9yIHNlcmlhbGl6ZWQgZGF0YSB0byByZWNvbnN0cnVjdCBhbiBvYmplY3QuIElmIG5vXG4gICAqIGBpbml0aWFsRGF0YWAgaXMgcHJvdmlkZWQsIGl0IHdpbGwgYmUgY2FsbGVkIHdpdGggYHVuZGVmaW5lZGAuXG4gICAqXG4gICAqIFRoaXMgbXVzdCBub3QgcmV0dXJuIGEgUHJvbWlzZS5cbiAgICovXG4gIGRlc2VyaWFsaXplOiAoZGF0YTogQXdhaXRlZDxTPikgPT4gVDtcbiAgLyoqIFRoZSBpbml0aWFsIHZhbHVlIHRvIHVzZSB3aGVuIGRlc2VyaWFsaXppbmcuICovXG4gIGluaXRpYWw/OiBTIHwgdW5kZWZpbmVkO1xuICAvKipcbiAgICogVGhpcyB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBvYmplY3QgdG8gZ2V0IHRoZSBzZXJpYWxpemVkIGRhdGEuIFlvdSBjYW4gcmV0dXJuIGEgUHJvbWlzZSBpZiB5b3VcbiAgICogbmVlZCB0byBkbyBhc3luYyB3b3JrLlxuICAgKlxuICAgKiBUaGUgcmVzdWx0IG1heSBiZSBhbnl0aGluZyB0aGF0IFF3aWsgY2FuIHNlcmlhbGl6ZS5cbiAgICpcbiAgICogSWYgeW91IGRvIG5vdCBwcm92aWRlIGl0LCB0aGUgb2JqZWN0IHdpbGwgYmUgc2VyaWFsaXplZCBhcyBgdW5kZWZpbmVkYC4gSG93ZXZlciwgaWYgdGhlIG9iamVjdFxuICAgKiBoYXMgYSBgW1NlcmlhbGl6ZXJTeW1ib2xdYCBwcm9wZXJ0eSwgdGhhdCB3aWxsIGJlIHVzZWQgYXMgdGhlIHNlcmlhbGl6ZXIgaW5zdGVhZC5cbiAgICovXG4gIHNlcmlhbGl6ZT86IChvYmo6IFQpID0+IFM7XG59O1xuXG4vKipcbiAqIFNlcmlhbGl6ZSBhbmQgZGVzZXJpYWxpemUgY3VzdG9tIG9iamVjdHMuXG4gKlxuICogSWYgeW91IG5lZWQgdG8gdXNlIHNjb3BlZCBzdGF0ZSwgeW91IGNhbiBwYXNzIGEgZnVuY3Rpb24gaW5zdGVhZCBvZiBhbiBvYmplY3QuIFRoZSBmdW5jdGlvbiB3aWxsXG4gKiBiZSBjYWxsZWQgd2l0aCB0aGUgY3VycmVudCB2YWx1ZSwgYW5kIHlvdSBjYW4gcmV0dXJuIGEgbmV3IHZhbHVlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgU2VyaWFsaXplckFyZzxULCBTPiA9XG4gIHwgU2VyaWFsaXplckFyZ09iamVjdDxULCBTPlxuICB8ICgoKSA9PiBTZXJpYWxpemVyQXJnT2JqZWN0PFQsIFM+ICYge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGlzIGdldHMgY2FsbGVkIHdoZW4gcmVhY3RpdmUgc3RhdGUgdXNlZCBkdXJpbmcgYGRlc2VyaWFsaXplYCBjaGFuZ2VzLiBZb3UgbWF5IG11dGF0ZSB0aGVcbiAgICAgICAqIGN1cnJlbnQgb2JqZWN0LCBvciByZXR1cm4gYSBuZXcgb2JqZWN0LlxuICAgICAgICpcbiAgICAgICAqIElmIGl0IHJldHVybnMgYSB2YWx1ZSwgdGhhdCB3aWxsIGJlIHVzZWQgYXMgdGhlIG5ldyB2YWx1ZSwgYW5kIGxpc3RlbmVycyB3aWxsIGJlIHRyaWdnZXJlZC5cbiAgICAgICAqIElmIG5vIGNoYW5nZSBoYXBwZW5lZCwgZG9uJ3QgcmV0dXJuIGFueXRoaW5nLlxuICAgICAgICpcbiAgICAgICAqIElmIHlvdSBtdXRhdGUgdGhlIGN1cnJlbnQgb2JqZWN0LCB5b3UgbXVzdCByZXR1cm4gaXQgc28gdGhhdCBpdCB3aWxsIHRyaWdnZXIgbGlzdGVuZXJzLlxuICAgICAgICovXG4gICAgICB1cGRhdGU/OiAoY3VycmVudDogVCkgPT4gVCB8IHZvaWQ7XG4gICAgfSk7XG5cbmV4cG9ydCB0eXBlIEN1c3RvbVNlcmlhbGl6YWJsZTxUIGV4dGVuZHMgeyBbU2VyaWFsaXplclN5bWJvbF06IChvYmo6IGFueSkgPT4gYW55IH0sIFM+ID0ge1xuICBbU2VyaWFsaXplclN5bWJvbF06IChvYmo6IFQpID0+IFM7XG59O1xuXG4vKipcbiAqICMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqXG4gKiBTdG9yZSBUeXBlc1xuICpcbiAqICMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5leHBvcnQgY29uc3QgU1RPUkVfVEFSR0VUID0gU3ltYm9sKCdzdG9yZS50YXJnZXQnKTtcbmV4cG9ydCBjb25zdCBTVE9SRV9IQU5ETEVSID0gU3ltYm9sKCdzdG9yZS5oYW5kbGVyJyk7XG5leHBvcnQgY29uc3QgU1RPUkVfQUxMX1BST1BTID0gU3ltYm9sKCdzdG9yZS5hbGwnKTtcblxuZXhwb3J0IHR5cGUgU3RvcmVUYXJnZXQgPSBSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCBhbnk+O1xuXG5leHBvcnQgY29uc3QgZW51bSBTdG9yZUZsYWdzIHtcbiAgTk9ORSA9IDAsXG4gIFJFQ1VSU0lWRSA9IDEsXG4gIElNTVVUQUJMRSA9IDIsXG59XG4iXX0=","import { isDev } from '@qwik.dev/core/build';\nimport { pad, qwikDebugToString } from '../../debug';\nimport { assertTrue } from '../../shared/error/assert';\nimport { qError } from '../../shared/error/error';\nimport { qDev } from '../../shared/utils/qdev';\nimport { tryGetInvokeContext } from '../../use/use-core';\nimport { addQrlToSerializationCtx, ensureContainsBackRef, ensureContainsSubscription, } from '../utils';\nconst DEBUG = false;\n// eslint-disable-next-line no-console\nconst log = (...args) => console.log('SIGNAL', ...args.map(qwikDebugToString));\nexport class SignalImpl {\n    $untrackedValue$;\n    /** Store a list of effects which are dependent on this signal. */\n    $effects$ = null;\n    $container$ = null;\n    $wrappedSignal$ = null;\n    constructor(container, value) {\n        this.$container$ = container;\n        this.$untrackedValue$ = value;\n        DEBUG && log('new', this);\n    }\n    /**\n     * Use this to force running subscribers, for example when the calculated value has mutated but\n     * remained the same object\n     */\n    force() {\n        this.$container$?.$scheduler$(7 /* ChoreType.RECOMPUTE_AND_SCHEDULE_EFFECTS */, null, this, this.$effects$);\n    }\n    get untrackedValue() {\n        return this.$untrackedValue$;\n    }\n    // TODO: should we disallow setting the value directly?\n    set untrackedValue(value) {\n        this.$untrackedValue$ = value;\n    }\n    get value() {\n        return setupSignalValueAccess(this, () => (this.$effects$ ||= new Set()), () => this.untrackedValue);\n    }\n    set value(value) {\n        if (value !== this.$untrackedValue$) {\n            DEBUG &&\n                log('Signal.set', this.$untrackedValue$, '->', value, pad('\\n' + this.toString(), '  '));\n            this.$untrackedValue$ = value;\n            this.$container$?.$scheduler$(7 /* ChoreType.RECOMPUTE_AND_SCHEDULE_EFFECTS */, null, this, this.$effects$);\n        }\n    }\n    // prevent accidental use as value\n    valueOf() {\n        if (qDev) {\n            throw qError(28 /* QError.cannotCoerceSignal */);\n        }\n    }\n    toString() {\n        if (isDev) {\n            return (`[${this.constructor.name}${this.$flags$ & 1 /* SignalFlags.INVALID */ ? ' INVALID' : ''} ${String(this.$untrackedValue$)}]` +\n                (Array.from(this.$effects$ || [])\n                    .map((e) => '\\n -> ' + pad(qwikDebugToString(e[0]), '    '))\n                    .join('\\n') || ''));\n        }\n        else {\n            return this.constructor.name;\n        }\n    }\n    toJSON() {\n        return { value: this.$untrackedValue$ };\n    }\n}\nconst addEffect = (signal, effectSubscriber, effects) => {\n    // Let's make sure that we have a reference to this effect.\n    // Adding reference is essentially adding a subscription, so if the signal\n    // changes we know who to notify.\n    ensureContainsSubscription(effects, effectSubscriber);\n    // But when effect is scheduled in needs to be able to know which signals\n    // to unsubscribe from. So we need to store the reference from the effect back\n    // to this signal.\n    ensureContainsBackRef(effectSubscriber, signal);\n    addQrlToSerializationCtx(effectSubscriber, signal.$container$);\n};\nexport const setupSignalValueAccess = (target, effectsFn, returnValueFn) => {\n    const ctx = tryGetInvokeContext();\n    if (ctx) {\n        if (target.$container$ === null) {\n            if (!ctx.$container$) {\n                return returnValueFn();\n            }\n            // Grab the container now we have access to it\n            target.$container$ = ctx.$container$;\n        }\n        else {\n            assertTrue(!ctx.$container$ || ctx.$container$ === target.$container$, 'Do not use signals across containers');\n        }\n        const effectSubscriber = ctx.$effectSubscriber$;\n        if (effectSubscriber) {\n            addEffect(target, effectSubscriber, effectsFn());\n            DEBUG && log('read->sub', pad('\\n' + target.toString(), '  '));\n        }\n    }\n    return returnValueFn();\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2lnbmFsLWltcGwuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVhY3RpdmUtcHJpbWl0aXZlcy9pbXBsL3NpZ25hbC1pbXBsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUM3QyxPQUFPLEVBQUUsR0FBRyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ3JELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsTUFBTSxFQUFVLE1BQU0sMEJBQTBCLENBQUM7QUFFMUQsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQy9DLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3pELE9BQU8sRUFDTCx3QkFBd0IsRUFDeEIscUJBQXFCLEVBQ3JCLDBCQUEwQixHQUMzQixNQUFNLFVBQVUsQ0FBQztBQU1sQixNQUFNLEtBQUssR0FBRyxLQUFLLENBQUM7QUFDcEIsc0NBQXNDO0FBQ3RDLE1BQU0sR0FBRyxHQUFHLENBQUMsR0FBRyxJQUFXLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7QUFFdEYsTUFBTSxPQUFPLFVBQVU7SUFDckIsZ0JBQWdCLENBQUk7SUFFcEIsa0VBQWtFO0lBQ2xFLFNBQVMsR0FBbUMsSUFBSSxDQUFDO0lBQ2pELFdBQVcsR0FBcUIsSUFBSSxDQUFDO0lBQ3JDLGVBQWUsR0FBZ0MsSUFBSSxDQUFDO0lBRXBELFlBQVksU0FBMkIsRUFBRSxLQUFRO1FBQy9DLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDO1FBQzdCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7UUFDOUIsS0FBSyxJQUFJLEdBQUcsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDNUIsQ0FBQztJQUVEOzs7T0FHRztJQUNILEtBQUs7UUFDSCxJQUFJLENBQUMsV0FBVyxFQUFFLFdBQVcsbURBRTNCLElBQUksRUFDSixJQUFJLEVBQ0osSUFBSSxDQUFDLFNBQVMsQ0FDZixDQUFDO0lBQ0osQ0FBQztJQUVELElBQUksY0FBYztRQUNoQixPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztJQUMvQixDQUFDO0lBRUQsdURBQXVEO0lBQ3ZELElBQUksY0FBYyxDQUFDLEtBQVE7UUFDekIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEtBQUssQ0FBQztJQUNoQyxDQUFDO0lBRUQsSUFBSSxLQUFLO1FBQ1AsT0FBTyxzQkFBc0IsQ0FDM0IsSUFBSSxFQUNKLEdBQUcsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsS0FBSyxJQUFJLEdBQUcsRUFBRSxDQUFDLEVBQ3BDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQzFCLENBQUM7SUFDSixDQUFDO0lBRUQsSUFBSSxLQUFLLENBQUMsS0FBSztRQUNiLElBQUksS0FBSyxLQUFLLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1lBQ3BDLEtBQUs7Z0JBQ0gsR0FBRyxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQzNGLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7WUFDOUIsSUFBSSxDQUFDLFdBQVcsRUFBRSxXQUFXLG1EQUUzQixJQUFJLEVBQ0osSUFBSSxFQUNKLElBQUksQ0FBQyxTQUFTLENBQ2YsQ0FBQztRQUNKLENBQUM7SUFDSCxDQUFDO0lBRUQsa0NBQWtDO0lBQ2xDLE9BQU87UUFDTCxJQUFJLElBQUksRUFBRSxDQUFDO1lBQ1QsTUFBTSxNQUFNLG9DQUEyQixDQUFDO1FBQzFDLENBQUM7SUFDSCxDQUFDO0lBRUQsUUFBUTtRQUNOLElBQUksS0FBSyxFQUFFLENBQUM7WUFDVixPQUFPLENBQ0wsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksR0FBSSxJQUFZLENBQUMsT0FBTyw4QkFBc0IsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHO2dCQUM3SCxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsSUFBSSxFQUFFLENBQUM7cUJBQzlCLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsUUFBUSxHQUFHLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQztxQkFDM0QsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUNyQixDQUFDO1FBQ0osQ0FBQzthQUFNLENBQUM7WUFDTixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDO1FBQy9CLENBQUM7SUFDSCxDQUFDO0lBQ0QsTUFBTTtRQUNKLE9BQU8sRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7SUFDMUMsQ0FBQztDQUNGO0FBRUQsTUFBTSxTQUFTLEdBQUcsQ0FDaEIsTUFBa0IsRUFDbEIsZ0JBQW9DLEVBQ3BDLE9BQWdDLEVBQ2hDLEVBQUU7SUFDRiwyREFBMkQ7SUFDM0QsMEVBQTBFO0lBQzFFLGlDQUFpQztJQUNqQywwQkFBMEIsQ0FBQyxPQUFPLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztJQUN0RCx5RUFBeUU7SUFDekUsOEVBQThFO0lBQzlFLGtCQUFrQjtJQUNsQixxQkFBcUIsQ0FBQyxnQkFBZ0IsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUNoRCx3QkFBd0IsQ0FBQyxnQkFBZ0IsRUFBRSxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDakUsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sc0JBQXNCLEdBQUcsQ0FDcEMsTUFBcUIsRUFDckIsU0FBd0MsRUFDeEMsYUFBc0IsRUFDdEIsRUFBRTtJQUNGLE1BQU0sR0FBRyxHQUFHLG1CQUFtQixFQUFFLENBQUM7SUFDbEMsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUNSLElBQUksTUFBTSxDQUFDLFdBQVcsS0FBSyxJQUFJLEVBQUUsQ0FBQztZQUNoQyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUNyQixPQUFPLGFBQWEsRUFBRSxDQUFDO1lBQ3pCLENBQUM7WUFDRCw4Q0FBOEM7WUFDOUMsTUFBTSxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDO1FBQ3ZDLENBQUM7YUFBTSxDQUFDO1lBQ04sVUFBVSxDQUNSLENBQUMsR0FBRyxDQUFDLFdBQVcsSUFBSSxHQUFHLENBQUMsV0FBVyxLQUFLLE1BQU0sQ0FBQyxXQUFXLEVBQzFELHNDQUFzQyxDQUN2QyxDQUFDO1FBQ0osQ0FBQztRQUNELE1BQU0sZ0JBQWdCLEdBQUcsR0FBRyxDQUFDLGtCQUFrQixDQUFDO1FBQ2hELElBQUksZ0JBQWdCLEVBQUUsQ0FBQztZQUNyQixTQUFTLENBQUMsTUFBTSxFQUFFLGdCQUFnQixFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUM7WUFDakQsS0FBSyxJQUFJLEdBQUcsQ0FBQyxXQUFXLEVBQUUsR0FBRyxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsUUFBUSxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNqRSxDQUFDO0lBQ0gsQ0FBQztJQUNELE9BQU8sYUFBYSxFQUFFLENBQUM7QUFDekIsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNEZXYgfSBmcm9tICdAcXdpay5kZXYvY29yZS9idWlsZCc7XG5pbXBvcnQgeyBwYWQsIHF3aWtEZWJ1Z1RvU3RyaW5nIH0gZnJvbSAnLi4vLi4vZGVidWcnO1xuaW1wb3J0IHsgYXNzZXJ0VHJ1ZSB9IGZyb20gJy4uLy4uL3NoYXJlZC9lcnJvci9hc3NlcnQnO1xuaW1wb3J0IHsgcUVycm9yLCBRRXJyb3IgfSBmcm9tICcuLi8uLi9zaGFyZWQvZXJyb3IvZXJyb3InO1xuaW1wb3J0IHR5cGUgeyBDb250YWluZXIgfSBmcm9tICcuLi8uLi9zaGFyZWQvdHlwZXMnO1xuaW1wb3J0IHsgcURldiB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscy9xZGV2JztcbmltcG9ydCB7IHRyeUdldEludm9rZUNvbnRleHQgfSBmcm9tICcuLi8uLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHtcbiAgYWRkUXJsVG9TZXJpYWxpemF0aW9uQ3R4LFxuICBlbnN1cmVDb250YWluc0JhY2tSZWYsXG4gIGVuc3VyZUNvbnRhaW5zU3Vic2NyaXB0aW9uLFxufSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgdHlwZSB7IFNpZ25hbCB9IGZyb20gJy4uL3NpZ25hbC5wdWJsaWMnO1xuaW1wb3J0IHsgU2lnbmFsRmxhZ3MsIHR5cGUgRWZmZWN0U3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgQ2hvcmVUeXBlIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3V0aWwtY2hvcmUtdHlwZSc7XG5pbXBvcnQgdHlwZSB7IFdyYXBwZWRTaWduYWxJbXBsIH0gZnJvbSAnLi93cmFwcGVkLXNpZ25hbC1pbXBsJztcblxuY29uc3QgREVCVUcgPSBmYWxzZTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG5jb25zdCBsb2cgPSAoLi4uYXJnczogYW55W10pID0+IGNvbnNvbGUubG9nKCdTSUdOQUwnLCAuLi5hcmdzLm1hcChxd2lrRGVidWdUb1N0cmluZykpO1xuXG5leHBvcnQgY2xhc3MgU2lnbmFsSW1wbDxUID0gYW55PiBpbXBsZW1lbnRzIFNpZ25hbDxUPiB7XG4gICR1bnRyYWNrZWRWYWx1ZSQ6IFQ7XG5cbiAgLyoqIFN0b3JlIGEgbGlzdCBvZiBlZmZlY3RzIHdoaWNoIGFyZSBkZXBlbmRlbnQgb24gdGhpcyBzaWduYWwuICovXG4gICRlZmZlY3RzJDogbnVsbCB8IFNldDxFZmZlY3RTdWJzY3JpcHRpb24+ID0gbnVsbDtcbiAgJGNvbnRhaW5lciQ6IENvbnRhaW5lciB8IG51bGwgPSBudWxsO1xuICAkd3JhcHBlZFNpZ25hbCQ6IFdyYXBwZWRTaWduYWxJbXBsPFQ+IHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoY29udGFpbmVyOiBDb250YWluZXIgfCBudWxsLCB2YWx1ZTogVCkge1xuICAgIHRoaXMuJGNvbnRhaW5lciQgPSBjb250YWluZXI7XG4gICAgdGhpcy4kdW50cmFja2VkVmFsdWUkID0gdmFsdWU7XG4gICAgREVCVUcgJiYgbG9nKCduZXcnLCB0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2UgdGhpcyB0byBmb3JjZSBydW5uaW5nIHN1YnNjcmliZXJzLCBmb3IgZXhhbXBsZSB3aGVuIHRoZSBjYWxjdWxhdGVkIHZhbHVlIGhhcyBtdXRhdGVkIGJ1dFxuICAgKiByZW1haW5lZCB0aGUgc2FtZSBvYmplY3RcbiAgICovXG4gIGZvcmNlKCkge1xuICAgIHRoaXMuJGNvbnRhaW5lciQ/LiRzY2hlZHVsZXIkKFxuICAgICAgQ2hvcmVUeXBlLlJFQ09NUFVURV9BTkRfU0NIRURVTEVfRUZGRUNUUyxcbiAgICAgIG51bGwsXG4gICAgICB0aGlzLFxuICAgICAgdGhpcy4kZWZmZWN0cyRcbiAgICApO1xuICB9XG5cbiAgZ2V0IHVudHJhY2tlZFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLiR1bnRyYWNrZWRWYWx1ZSQ7XG4gIH1cblxuICAvLyBUT0RPOiBzaG91bGQgd2UgZGlzYWxsb3cgc2V0dGluZyB0aGUgdmFsdWUgZGlyZWN0bHk/XG4gIHNldCB1bnRyYWNrZWRWYWx1ZSh2YWx1ZTogVCkge1xuICAgIHRoaXMuJHVudHJhY2tlZFZhbHVlJCA9IHZhbHVlO1xuICB9XG5cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiBzZXR1cFNpZ25hbFZhbHVlQWNjZXNzKFxuICAgICAgdGhpcyxcbiAgICAgICgpID0+ICh0aGlzLiRlZmZlY3RzJCB8fD0gbmV3IFNldCgpKSxcbiAgICAgICgpID0+IHRoaXMudW50cmFja2VkVmFsdWVcbiAgICApO1xuICB9XG5cbiAgc2V0IHZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICE9PSB0aGlzLiR1bnRyYWNrZWRWYWx1ZSQpIHtcbiAgICAgIERFQlVHICYmXG4gICAgICAgIGxvZygnU2lnbmFsLnNldCcsIHRoaXMuJHVudHJhY2tlZFZhbHVlJCwgJy0+JywgdmFsdWUsIHBhZCgnXFxuJyArIHRoaXMudG9TdHJpbmcoKSwgJyAgJykpO1xuICAgICAgdGhpcy4kdW50cmFja2VkVmFsdWUkID0gdmFsdWU7XG4gICAgICB0aGlzLiRjb250YWluZXIkPy4kc2NoZWR1bGVyJChcbiAgICAgICAgQ2hvcmVUeXBlLlJFQ09NUFVURV9BTkRfU0NIRURVTEVfRUZGRUNUUyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgdGhpcyxcbiAgICAgICAgdGhpcy4kZWZmZWN0cyRcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLy8gcHJldmVudCBhY2NpZGVudGFsIHVzZSBhcyB2YWx1ZVxuICB2YWx1ZU9mKCkge1xuICAgIGlmIChxRGV2KSB7XG4gICAgICB0aHJvdyBxRXJyb3IoUUVycm9yLmNhbm5vdENvZXJjZVNpZ25hbCk7XG4gICAgfVxuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgaWYgKGlzRGV2KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBgWyR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfSR7KHRoaXMgYXMgYW55KS4kZmxhZ3MkICYgU2lnbmFsRmxhZ3MuSU5WQUxJRCA/ICcgSU5WQUxJRCcgOiAnJ30gJHtTdHJpbmcodGhpcy4kdW50cmFja2VkVmFsdWUkKX1dYCArXG4gICAgICAgIChBcnJheS5mcm9tKHRoaXMuJGVmZmVjdHMkIHx8IFtdKVxuICAgICAgICAgIC5tYXAoKGUpID0+ICdcXG4gLT4gJyArIHBhZChxd2lrRGVidWdUb1N0cmluZyhlWzBdKSwgJyAgICAnKSlcbiAgICAgICAgICAuam9pbignXFxuJykgfHwgJycpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgIH1cbiAgfVxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHRoaXMuJHVudHJhY2tlZFZhbHVlJCB9O1xuICB9XG59XG5cbmNvbnN0IGFkZEVmZmVjdCA9IChcbiAgc2lnbmFsOiBTaWduYWxJbXBsLFxuICBlZmZlY3RTdWJzY3JpYmVyOiBFZmZlY3RTdWJzY3JpcHRpb24sXG4gIGVmZmVjdHM6IFNldDxFZmZlY3RTdWJzY3JpcHRpb24+XG4pID0+IHtcbiAgLy8gTGV0J3MgbWFrZSBzdXJlIHRoYXQgd2UgaGF2ZSBhIHJlZmVyZW5jZSB0byB0aGlzIGVmZmVjdC5cbiAgLy8gQWRkaW5nIHJlZmVyZW5jZSBpcyBlc3NlbnRpYWxseSBhZGRpbmcgYSBzdWJzY3JpcHRpb24sIHNvIGlmIHRoZSBzaWduYWxcbiAgLy8gY2hhbmdlcyB3ZSBrbm93IHdobyB0byBub3RpZnkuXG4gIGVuc3VyZUNvbnRhaW5zU3Vic2NyaXB0aW9uKGVmZmVjdHMsIGVmZmVjdFN1YnNjcmliZXIpO1xuICAvLyBCdXQgd2hlbiBlZmZlY3QgaXMgc2NoZWR1bGVkIGluIG5lZWRzIHRvIGJlIGFibGUgdG8ga25vdyB3aGljaCBzaWduYWxzXG4gIC8vIHRvIHVuc3Vic2NyaWJlIGZyb20uIFNvIHdlIG5lZWQgdG8gc3RvcmUgdGhlIHJlZmVyZW5jZSBmcm9tIHRoZSBlZmZlY3QgYmFja1xuICAvLyB0byB0aGlzIHNpZ25hbC5cbiAgZW5zdXJlQ29udGFpbnNCYWNrUmVmKGVmZmVjdFN1YnNjcmliZXIsIHNpZ25hbCk7XG4gIGFkZFFybFRvU2VyaWFsaXphdGlvbkN0eChlZmZlY3RTdWJzY3JpYmVyLCBzaWduYWwuJGNvbnRhaW5lciQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldHVwU2lnbmFsVmFsdWVBY2Nlc3MgPSA8VCwgUz4oXG4gIHRhcmdldDogU2lnbmFsSW1wbDxUPixcbiAgZWZmZWN0c0ZuOiAoKSA9PiBTZXQ8RWZmZWN0U3Vic2NyaXB0aW9uPixcbiAgcmV0dXJuVmFsdWVGbjogKCkgPT4gU1xuKSA9PiB7XG4gIGNvbnN0IGN0eCA9IHRyeUdldEludm9rZUNvbnRleHQoKTtcbiAgaWYgKGN0eCkge1xuICAgIGlmICh0YXJnZXQuJGNvbnRhaW5lciQgPT09IG51bGwpIHtcbiAgICAgIGlmICghY3R4LiRjb250YWluZXIkKSB7XG4gICAgICAgIHJldHVybiByZXR1cm5WYWx1ZUZuKCk7XG4gICAgICB9XG4gICAgICAvLyBHcmFiIHRoZSBjb250YWluZXIgbm93IHdlIGhhdmUgYWNjZXNzIHRvIGl0XG4gICAgICB0YXJnZXQuJGNvbnRhaW5lciQgPSBjdHguJGNvbnRhaW5lciQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydFRydWUoXG4gICAgICAgICFjdHguJGNvbnRhaW5lciQgfHwgY3R4LiRjb250YWluZXIkID09PSB0YXJnZXQuJGNvbnRhaW5lciQsXG4gICAgICAgICdEbyBub3QgdXNlIHNpZ25hbHMgYWNyb3NzIGNvbnRhaW5lcnMnXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBlZmZlY3RTdWJzY3JpYmVyID0gY3R4LiRlZmZlY3RTdWJzY3JpYmVyJDtcbiAgICBpZiAoZWZmZWN0U3Vic2NyaWJlcikge1xuICAgICAgYWRkRWZmZWN0KHRhcmdldCwgZWZmZWN0U3Vic2NyaWJlciwgZWZmZWN0c0ZuKCkpO1xuICAgICAgREVCVUcgJiYgbG9nKCdyZWFkLT5zdWInLCBwYWQoJ1xcbicgKyB0YXJnZXQudG9TdHJpbmcoKSwgJyAgJykpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0dXJuVmFsdWVGbigpO1xufTtcbiJdfQ==","/** @internal */\nexport const _CONST_PROPS = Symbol('CONST');\n/** @internal */\nexport const _VAR_PROPS = Symbol('VAR');\n/** @internal */\nexport const _OWNER = Symbol('OWNER');\n/** @internal @deprecated v1 compat */\nexport const _IMMUTABLE = Symbol('IMMUTABLE');\n/** @internal */\nexport const _UNINITIALIZED = Symbol('UNINITIALIZED');\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC91dGlscy9jb25zdGFudHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCO0FBQ2hCLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDNUMsZ0JBQWdCO0FBQ2hCLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDeEMsZ0JBQWdCO0FBQ2hCLE1BQU0sQ0FBQyxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7QUFFdEMsc0NBQXNDO0FBQ3RDLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7QUFFOUMsZ0JBQWdCO0FBQ2hCLE1BQU0sQ0FBQyxNQUFNLGNBQWMsR0FBRyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgX0NPTlNUX1BST1BTID0gU3ltYm9sKCdDT05TVCcpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IF9WQVJfUFJPUFMgPSBTeW1ib2woJ1ZBUicpO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IF9PV05FUiA9IFN5bWJvbCgnT1dORVInKTtcblxuLyoqIEBpbnRlcm5hbCBAZGVwcmVjYXRlZCB2MSBjb21wYXQgKi9cbmV4cG9ydCBjb25zdCBfSU1NVVRBQkxFID0gU3ltYm9sKCdJTU1VVEFCTEUnKTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IF9VTklOSVRJQUxJWkVEID0gU3ltYm9sKCdVTklOSVRJQUxJWkVEJyk7XG4iXX0=","/**\n * Think of `-` as an escape character which makes the next character uppercase. `--` is just `-`.\n *\n * Rules for JSX property event names starting with `on`:\n *\n * - Are case insensitive: `onClick$` is same `onclick$`\n * - A `--` is `-`: `dbl--click` => `dbl-click`\n * - Become case sensitive if prefixed by `-`: `-Click` is `Click`\n * - A `-` (not at the beginning) makes next character uppercase: `dbl-click` => `dblClick`\n */\nexport const EVENT_SUFFIX = '$';\nexport const DOM_CONTENT_LOADED_EVENT = 'DOMContentLoaded';\nexport const isJsxPropertyAnEventName = (name) => {\n    return (name.endsWith(EVENT_SUFFIX) &&\n        (name.startsWith(\"on\" /* EventNameJSXScope.on */) ||\n            name.startsWith(\"window:on\" /* EventNameJSXScope.window */) ||\n            name.startsWith(\"document:on\" /* EventNameJSXScope.document */)));\n};\nexport const isHtmlAttributeAnEventName = (name) => {\n    return (name.startsWith(\"on:\" /* EventNameHtmlScope.on */) ||\n        name.startsWith(\"on-window:\" /* EventNameHtmlScope.window */) ||\n        name.startsWith(\"on-document:\" /* EventNameHtmlScope.document */));\n};\nexport function jsxEventToHtmlAttribute(jsxEvent) {\n    if (jsxEvent.endsWith(EVENT_SUFFIX)) {\n        const [prefix, idx] = getEventScopeDataFromJsxEvent(jsxEvent);\n        if (idx !== -1) {\n            const name = jsxEvent.slice(idx, -1);\n            return name === 'DOMContentLoaded'\n                ? // The only DOM event that is not all lowercase\n                    prefix + '-d-o-m-content-loaded'\n                : createEventName(name.charAt(0) === '-'\n                    ? // marker for case sensitive event name\n                        name.slice(1)\n                    : name.toLowerCase(), prefix);\n        }\n    }\n    return null; // Return null if not matching expected format\n}\nexport function createEventName(event, prefix) {\n    const eventName = fromCamelToKebabCase(event);\n    return prefix + eventName;\n}\nexport function getEventScopeDataFromJsxEvent(eventName) {\n    let prefix = \"on:\" /* EventNameHtmlScope.on */;\n    let idx = -1;\n    // set prefix and idx based on the scope\n    if (eventName.startsWith(\"on\" /* EventNameJSXScope.on */)) {\n        prefix = \"on:\" /* EventNameHtmlScope.on */;\n        idx = 2;\n    }\n    else if (eventName.startsWith(\"window:on\" /* EventNameJSXScope.window */)) {\n        prefix = \"on-window:\" /* EventNameHtmlScope.window */;\n        idx = 9;\n    }\n    else if (eventName.startsWith(\"document:on\" /* EventNameJSXScope.document */)) {\n        prefix = \"on-document:\" /* EventNameHtmlScope.document */;\n        idx = 11;\n    }\n    return [prefix, idx];\n}\nexport const isDash = (charCode) => charCode === 45; /* - */\nexport const getEventNameScopeFromJsxEvent = (name) => {\n    const index = name.indexOf(':');\n    return index !== -1 ? name.substring(0, index) : '';\n};\nexport function isPreventDefault(key) {\n    return key.startsWith('preventdefault:');\n}\n/** Converts a camelCase string to kebab-case. This is used for event names. */\nexport const fromCamelToKebabCase = (text) => {\n    return text.replace(/([A-Z-])/g, (a) => '-' + a.toLowerCase());\n};\nexport const getEventDataFromHtmlAttribute = (htmlKey) => {\n    if (htmlKey.startsWith(\"on:\" /* EventNameHtmlScope.on */)) {\n        return ['', htmlKey.substring(3)];\n    }\n    if (htmlKey.startsWith(\"on-window:\" /* EventNameHtmlScope.window */)) {\n        return ['window', htmlKey.substring(10)];\n    }\n    return ['document', htmlKey.substring(12)];\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXZlbnQtbmFtZXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL3V0aWxzL2V2ZW50LW5hbWVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7R0FTRztBQWNILE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxHQUFHLENBQUM7QUFDaEMsTUFBTSxDQUFDLE1BQU0sd0JBQXdCLEdBQUcsa0JBQWtCLENBQUM7QUFFM0QsTUFBTSxDQUFDLE1BQU0sd0JBQXdCLEdBQUcsQ0FBQyxJQUFZLEVBQVcsRUFBRTtJQUNoRSxPQUFPLENBQ0wsSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUM7UUFDM0IsQ0FBQyxJQUFJLENBQUMsVUFBVSxpQ0FBc0I7WUFDcEMsSUFBSSxDQUFDLFVBQVUsNENBQTBCO1lBQ3pDLElBQUksQ0FBQyxVQUFVLGdEQUE0QixDQUFDLENBQy9DLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSwwQkFBMEIsR0FBRyxDQUFDLElBQVksRUFBVyxFQUFFO0lBQ2xFLE9BQU8sQ0FDTCxJQUFJLENBQUMsVUFBVSxtQ0FBdUI7UUFDdEMsSUFBSSxDQUFDLFVBQVUsOENBQTJCO1FBQzFDLElBQUksQ0FBQyxVQUFVLGtEQUE2QixDQUM3QyxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsTUFBTSxVQUFVLHVCQUF1QixDQUFDLFFBQWdCO0lBQ3RELElBQUksUUFBUSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDO1FBQ3BDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLEdBQUcsNkJBQTZCLENBQUMsUUFBUSxDQUFDLENBQUM7UUFFOUQsSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUNmLE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7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SUFDM0MsQ0FBQztJQUNELE9BQU8sQ0FBQyxVQUFVLEVBQUUsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQzdDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpbmsgb2YgYC1gIGFzIGFuIGVzY2FwZSBjaGFyYWN0ZXIgd2hpY2ggbWFrZXMgdGhlIG5leHQgY2hhcmFjdGVyIHVwcGVyY2FzZS4gYC0tYCBpcyBqdXN0IGAtYC5cbiAqXG4gKiBSdWxlcyBmb3IgSlNYIHByb3BlcnR5IGV2ZW50IG5hbWVzIHN0YXJ0aW5nIHdpdGggYG9uYDpcbiAqXG4gKiAtIEFyZSBjYXNlIGluc2Vuc2l0aXZlOiBgb25DbGljayRgIGlzIHNhbWUgYG9uY2xpY2skYFxuICogLSBBIGAtLWAgaXMgYC1gOiBgZGJsLS1jbGlja2AgPT4gYGRibC1jbGlja2BcbiAqIC0gQmVjb21lIGNhc2Ugc2Vuc2l0aXZlIGlmIHByZWZpeGVkIGJ5IGAtYDogYC1DbGlja2AgaXMgYENsaWNrYFxuICogLSBBIGAtYCAobm90IGF0IHRoZSBiZWdpbm5pbmcpIG1ha2VzIG5leHQgY2hhcmFjdGVyIHVwcGVyY2FzZTogYGRibC1jbGlja2AgPT4gYGRibENsaWNrYFxuICovXG5cbmV4cG9ydCBjb25zdCBlbnVtIEV2ZW50TmFtZUpTWFNjb3BlIHtcbiAgb24gPSAnb24nLFxuICB3aW5kb3cgPSAnd2luZG93Om9uJyxcbiAgZG9jdW1lbnQgPSAnZG9jdW1lbnQ6b24nLFxufVxuXG5leHBvcnQgY29uc3QgZW51bSBFdmVudE5hbWVIdG1sU2NvcGUge1xuICBvbiA9ICdvbjonLFxuICB3aW5kb3cgPSAnb24td2luZG93OicsXG4gIGRvY3VtZW50ID0gJ29uLWRvY3VtZW50OicsXG59XG5cbmV4cG9ydCBjb25zdCBFVkVOVF9TVUZGSVggPSAnJCc7XG5leHBvcnQgY29uc3QgRE9NX0NPTlRFTlRfTE9BREVEX0VWRU5UID0gJ0RPTUNvbnRlbnRMb2FkZWQnO1xuXG5leHBvcnQgY29uc3QgaXNKc3hQcm9wZXJ0eUFuRXZlbnROYW1lID0gKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gKFxuICAgIG5hbWUuZW5kc1dpdGgoRVZFTlRfU1VGRklYKSAmJlxuICAgIChuYW1lLnN0YXJ0c1dpdGgoRXZlbnROYW1lSlNYU2NvcGUub24pIHx8XG4gICAgICBuYW1lLnN0YXJ0c1dpdGgoRXZlbnROYW1lSlNYU2NvcGUud2luZG93KSB8fFxuICAgICAgbmFtZS5zdGFydHNXaXRoKEV2ZW50TmFtZUpTWFNjb3BlLmRvY3VtZW50KSlcbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc0h0bWxBdHRyaWJ1dGVBbkV2ZW50TmFtZSA9IChuYW1lOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIChcbiAgICBuYW1lLnN0YXJ0c1dpdGgoRXZlbnROYW1lSHRtbFNjb3BlLm9uKSB8fFxuICAgIG5hbWUuc3RhcnRzV2l0aChFdmVudE5hbWVIdG1sU2NvcGUud2luZG93KSB8fFxuICAgIG5hbWUuc3RhcnRzV2l0aChFdmVudE5hbWVIdG1sU2NvcGUuZG9jdW1lbnQpXG4gICk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24ganN4RXZlbnRUb0h0bWxBdHRyaWJ1dGUoanN4RXZlbnQ6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICBpZiAoanN4RXZlbnQuZW5kc1dpdGgoRVZFTlRfU1VGRklYKSkge1xuICAgIGNvbnN0IFtwcmVmaXgsIGlkeF0gPSBnZXRFdmVudFNjb3BlRGF0YUZyb21Kc3hFdmVudChqc3hFdmVudCk7XG5cbiAgICBpZiAoaWR4ICE9PSAtMSkge1xuICAgICAgY29uc3QgbmFtZSA9IGpzeEV2ZW50LnNsaWNlKGlkeCwgLTEpO1xuICAgICAgcmV0dXJuIG5hbWUgPT09ICdET01Db250ZW50TG9hZGVkJ1xuICAgICAgICA/IC8vIFRoZSBvbmx5IERPTSBldmVudCB0aGF0IGlzIG5vdCBhbGwgbG93ZXJjYXNlXG4gICAgICAgICAgcHJlZml4ICsgJy1kLW8tbS1jb250ZW50LWxvYWRlZCdcbiAgICAgICAgOiBjcmVhdGVFdmVudE5hbWUoXG4gICAgICAgICAgICBuYW1lLmNoYXJBdCgwKSA9PT0gJy0nXG4gICAgICAgICAgICAgID8gLy8gbWFya2VyIGZvciBjYXNlIHNlbnNpdGl2ZSBldmVudCBuYW1lXG4gICAgICAgICAgICAgICAgbmFtZS5zbGljZSgxKVxuICAgICAgICAgICAgICA6IG5hbWUudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgIHByZWZpeFxuICAgICAgICAgICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsOyAvLyBSZXR1cm4gbnVsbCBpZiBub3QgbWF0Y2hpbmcgZXhwZWN0ZWQgZm9ybWF0XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFdmVudE5hbWUoZXZlbnQ6IHN0cmluZywgcHJlZml4OiBFdmVudE5hbWVIdG1sU2NvcGUpOiBzdHJpbmcge1xuICBjb25zdCBldmVudE5hbWUgPSBmcm9tQ2FtZWxUb0tlYmFiQ2FzZShldmVudCk7XG4gIHJldHVybiBwcmVmaXggKyBldmVudE5hbWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFdmVudFNjb3BlRGF0YUZyb21Kc3hFdmVudChldmVudE5hbWU6IHN0cmluZyk6IFtFdmVudE5hbWVIdG1sU2NvcGUsIG51bWJlcl0ge1xuICBsZXQgcHJlZml4OiBFdmVudE5hbWVIdG1sU2NvcGUgPSBFdmVudE5hbWVIdG1sU2NvcGUub247XG4gIGxldCBpZHggPSAtMTtcbiAgLy8gc2V0IHByZWZpeCBhbmQgaWR4IGJhc2VkIG9uIHRoZSBzY29wZVxuICBpZiAoZXZlbnROYW1lLnN0YXJ0c1dpdGgoRXZlbnROYW1lSlNYU2NvcGUub24pKSB7XG4gICAgcHJlZml4ID0gRXZlbnROYW1lSHRtbFNjb3BlLm9uO1xuICAgIGlkeCA9IDI7XG4gIH0gZWxzZSBpZiAoZXZlbnROYW1lLnN0YXJ0c1dpdGgoRXZlbnROYW1lSlNYU2NvcGUud2luZG93KSkge1xuICAgIHByZWZpeCA9IEV2ZW50TmFtZUh0bWxTY29wZS53aW5kb3c7XG4gICAgaWR4ID0gOTtcbiAgfSBlbHNlIGlmIChldmVudE5hbWUuc3RhcnRzV2l0aChFdmVudE5hbWVKU1hTY29wZS5kb2N1bWVudCkpIHtcbiAgICBwcmVmaXggPSBFdmVudE5hbWVIdG1sU2NvcGUuZG9jdW1lbnQ7XG4gICAgaWR4ID0gMTE7XG4gIH1cbiAgcmV0dXJuIFtwcmVmaXgsIGlkeF07XG59XG5cbmV4cG9ydCBjb25zdCBpc0Rhc2ggPSAoY2hhckNvZGU6IG51bWJlcik6IGJvb2xlYW4gPT4gY2hhckNvZGUgPT09IDQ1OyAvKiAtICovXG5cbmV4cG9ydCBjb25zdCBnZXRFdmVudE5hbWVTY29wZUZyb21Kc3hFdmVudCA9IChuYW1lOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBpbmRleCA9IG5hbWUuaW5kZXhPZignOicpO1xuICByZXR1cm4gaW5kZXggIT09IC0xID8gbmFtZS5zdWJzdHJpbmcoMCwgaW5kZXgpIDogJyc7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gaXNQcmV2ZW50RGVmYXVsdChrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4ga2V5LnN0YXJ0c1dpdGgoJ3ByZXZlbnRkZWZhdWx0OicpO1xufVxuXG4vKiogQ29udmVydHMgYSBjYW1lbENhc2Ugc3RyaW5nIHRvIGtlYmFiLWNhc2UuIFRoaXMgaXMgdXNlZCBmb3IgZXZlbnQgbmFtZXMuICovXG5leHBvcnQgY29uc3QgZnJvbUNhbWVsVG9LZWJhYkNhc2UgPSAodGV4dDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIHRleHQucmVwbGFjZSgvKFtBLVotXSkvZywgKGEpID0+ICctJyArIGEudG9Mb3dlckNhc2UoKSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RXZlbnREYXRhRnJvbUh0bWxBdHRyaWJ1dGUgPSAoaHRtbEtleTogc3RyaW5nKTogW3N0cmluZywgc3RyaW5nXSB8IG51bGwgPT4ge1xuICBpZiAoaHRtbEtleS5zdGFydHNXaXRoKEV2ZW50TmFtZUh0bWxTY29wZS5vbikpIHtcbiAgICByZXR1cm4gWycnLCBodG1sS2V5LnN1YnN0cmluZygzKV07XG4gIH1cbiAgaWYgKGh0bWxLZXkuc3RhcnRzV2l0aChFdmVudE5hbWVIdG1sU2NvcGUud2luZG93KSkge1xuICAgIHJldHVybiBbJ3dpbmRvdycsIGh0bWxLZXkuc3Vic3RyaW5nKDEwKV07XG4gIH1cbiAgcmV0dXJuIFsnZG9jdW1lbnQnLCBodG1sS2V5LnN1YnN0cmluZygxMildO1xufTtcbiJdfQ==","/** @internal */\nexport const EMPTY_ARRAY = [];\nexport const EMPTY_OBJ = {};\nObject.freeze(EMPTY_ARRAY);\nObject.freeze(EMPTY_OBJ);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmx5d2VpZ2h0LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC91dGlscy9mbHl3ZWlnaHQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCO0FBQ2hCLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxFQUFXLENBQUM7QUFDdkMsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLEVBQXlCLENBQUM7QUFFbkQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUMzQixNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IEVNUFRZX0FSUkFZID0gW10gYXMgYW55W107XG5leHBvcnQgY29uc3QgRU1QVFlfT0JKID0ge30gYXMgUmVjb3JkPHN0cmluZywgYW55PjtcblxuT2JqZWN0LmZyZWV6ZShFTVBUWV9BUlJBWSk7XG5PYmplY3QuZnJlZXplKEVNUFRZX09CSik7XG4iXX0=","import { WrappedSignalImpl } from '../../reactive-primitives/impl/wrapped-signal-impl';\nimport { _CONST_PROPS, _VAR_PROPS, _OWNER } from '../utils/constants';\nimport { jsxEventToHtmlAttribute } from '../utils/event-names';\nimport { EMPTY_OBJ } from '../utils/flyweight';\nexport function createPropsProxy(owner) {\n    // TODO don't make a proxy but populate getters? benchmark\n    return new Proxy({}, new PropsProxyHandler(owner));\n}\nclass PropsProxyHandler {\n    owner;\n    constructor(owner) {\n        this.owner = owner;\n    }\n    get(_, prop) {\n        // escape hatch to get the separated props from a component\n        if (prop === _CONST_PROPS) {\n            return this.owner.constProps;\n        }\n        if (prop === _VAR_PROPS) {\n            return this.owner.varProps;\n        }\n        if (prop === _OWNER) {\n            return this.owner;\n        }\n        let value;\n        if (prop === 'children') {\n            value = this.owner.children;\n        }\n        else {\n            if (typeof prop === 'string' && typeof this.owner.type === 'string') {\n                const attr = jsxEventToHtmlAttribute(prop);\n                if (attr) {\n                    prop = attr;\n                }\n            }\n            value = directGetPropsProxyProp(this.owner, prop);\n        }\n        // a proxied value that the optimizer made\n        return value instanceof WrappedSignalImpl && value.$flags$ & 4 /* WrappedSignalFlags.UNWRAP */\n            ? value.value\n            : value;\n    }\n    set(_, prop, value) {\n        if (prop === _OWNER) {\n            // used for deserialization\n            this.owner = value;\n        }\n        else if (prop === 'children') {\n            this.owner.children = value;\n        }\n        else {\n            if (typeof prop === 'string' && typeof this.owner.type === 'string') {\n                const attr = jsxEventToHtmlAttribute(prop);\n                if (attr) {\n                    prop = attr;\n                }\n            }\n            if (this.owner.constProps && prop in this.owner.constProps) {\n                this.owner.constProps[prop] = undefined;\n                if (!(prop in this.owner.varProps)) {\n                    this.owner.toSort = true;\n                }\n                this.owner.varProps[prop] = value;\n            }\n            else {\n                if (this.owner.varProps === EMPTY_OBJ) {\n                    this.owner.varProps = {};\n                }\n                else {\n                    if (!(prop in this.owner.varProps)) {\n                        this.owner.toSort = true;\n                    }\n                }\n                this.owner.varProps[prop] = value;\n            }\n        }\n        return true;\n    }\n    deleteProperty(_, prop) {\n        let didDelete = delete this.owner.varProps[prop];\n        if (this.owner.constProps) {\n            didDelete = delete this.owner.constProps[prop] || didDelete;\n        }\n        if (this.owner.children != null && prop === 'children') {\n            this.owner.children = null;\n            didDelete = true;\n        }\n        return didDelete;\n    }\n    has(_, prop) {\n        if (prop === 'children') {\n            return this.owner.children != null;\n        }\n        else if (prop === _CONST_PROPS || prop === _VAR_PROPS) {\n            return true;\n        }\n        if (typeof prop === 'string' && typeof this.owner.type === 'string') {\n            const attr = jsxEventToHtmlAttribute(prop);\n            if (attr) {\n                prop = attr;\n            }\n        }\n        return (prop in this.owner.varProps || (this.owner.constProps ? prop in this.owner.constProps : false));\n    }\n    getOwnPropertyDescriptor(_, p) {\n        const value = p === 'children'\n            ? this.owner.children\n            : this.owner.constProps && p in this.owner.constProps\n                ? this.owner.constProps[p]\n                : this.owner.varProps[p];\n        return {\n            configurable: true,\n            enumerable: true,\n            value: value,\n        };\n    }\n    ownKeys() {\n        const out = Object.keys(this.owner.varProps);\n        if (this.owner.children != null) {\n            out.push('children');\n        }\n        if (this.owner.constProps) {\n            for (const key in this.owner.constProps) {\n                if (out.indexOf(key) === -1) {\n                    out.push(key);\n                }\n            }\n        }\n        return out;\n    }\n}\n/**\n * Instead of using PropsProxyHandler getter (which could create a component-level subscription).\n * Use this function to get the props directly from a const or var props.\n *\n * This does not convert jsx event names.\n */\nexport const directGetPropsProxyProp = (jsx, prop) => {\n    return (jsx.constProps && prop in jsx.constProps ? jsx.constProps[prop] : jsx.varProps[prop]);\n};\n/** Used by the optimizer for spread props operations @internal */\nexport const _getVarProps = (props) => {\n    if (!props) {\n        return null;\n    }\n    return _VAR_PROPS in props\n        ? 'children' in props\n            ? { ...props[_VAR_PROPS], children: props.children }\n            : props[_VAR_PROPS]\n        : props;\n};\n/** Used by the optimizer for spread props operations @internal */\nexport const _getConstProps = (props) => {\n    if (!props) {\n        return null;\n    }\n    return _CONST_PROPS in props ? props[_CONST_PROPS] : null;\n};\nexport const isPropsProxy = (obj) => {\n    return obj && _VAR_PROPS in obj;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcHMtcHJveHkuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL2pzeC9wcm9wcy1wcm94eS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxvREFBb0QsQ0FBQztBQUV2RixPQUFPLEVBQUUsWUFBWSxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUN0RSxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUMvRCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFLL0MsTUFBTSxVQUFVLGdCQUFnQixDQUFDLEtBQWtCO0lBQ2pELDBEQUEwRDtJQUMxRCxPQUFPLElBQUksS0FBSyxDQUFNLEVBQUUsRUFBRSxJQUFJLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7QUFDMUQsQ0FBQztBQUNELE1BQU0saUJBQWlCO0lBQ0Y7SUFBbkIsWUFBbUIsS0FBa0I7UUFBbEIsVUFBSyxHQUFMLEtBQUssQ0FBYTtJQUFHLENBQUM7SUFDekMsR0FBRyxDQUFDLENBQU0sRUFBRSxJQUFxQjtRQUMvQiwyREFBMkQ7UUFDM0QsSUFBSSxJQUFJLEtBQUssWUFBWSxFQUFFLENBQUM7WUFDMUIsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQztRQUMvQixDQUFDO1FBQ0QsSUFBSSxJQUFJLEtBQUssVUFBVSxFQUFFLENBQUM7WUFDeEIsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQztRQUM3QixDQUFDO1FBQ0QsSUFBSSxJQUFJLEtBQUssTUFBTSxFQUFFLENBQUM7WUFDcEIsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3BCLENBQUM7UUFDRCxJQUFJLEtBQWMsQ0FBQztRQUNuQixJQUFJLElBQUksS0FBSyxVQUFVLEVBQUUsQ0FBQztZQUN4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b3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBXcmFwcGVkU2lnbmFsSW1wbCB9IGZyb20gJy4uLy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvaW1wbC93cmFwcGVkLXNpZ25hbC1pbXBsJztcbmltcG9ydCB7IFdyYXBwZWRTaWduYWxGbGFncyB9IGZyb20gJy4uLy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvdHlwZXMnO1xuaW1wb3J0IHsgX0NPTlNUX1BST1BTLCBfVkFSX1BST1BTLCBfT1dORVIgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHsganN4RXZlbnRUb0h0bWxBdHRyaWJ1dGUgfSBmcm9tICcuLi91dGlscy9ldmVudC1uYW1lcyc7XG5pbXBvcnQgeyBFTVBUWV9PQkogfSBmcm9tICcuLi91dGlscy9mbHl3ZWlnaHQnO1xuaW1wb3J0IHR5cGUgeyBKU1hOb2RlSW1wbCB9IGZyb20gJy4vanN4LW5vZGUnO1xuaW1wb3J0IHR5cGUgeyBQcm9wcyB9IGZyb20gJy4vanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHR5cGUgeyBKU1hOb2RlSW50ZXJuYWwgfSBmcm9tICcuL3R5cGVzL2pzeC1ub2RlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByb3BzUHJveHkob3duZXI6IEpTWE5vZGVJbXBsKTogUHJvcHMge1xuICAvLyBUT0RPIGRvbid0IG1ha2UgYSBwcm94eSBidXQgcG9wdWxhdGUgZ2V0dGVycz8gYmVuY2htYXJrXG4gIHJldHVybiBuZXcgUHJveHk8YW55Pih7fSwgbmV3IFByb3BzUHJveHlIYW5kbGVyKG93bmVyKSk7XG59XG5jbGFzcyBQcm9wc1Byb3h5SGFuZGxlciBpbXBsZW1lbnRzIFByb3h5SGFuZGxlcjxhbnk+IHtcbiAgY29uc3RydWN0b3IocHVibGljIG93bmVyOiBKU1hOb2RlSW1wbCkge31cbiAgZ2V0KF86IGFueSwgcHJvcDogc3RyaW5nIHwgc3ltYm9sKSB7XG4gICAgLy8gZXNjYXBlIGhhdGNoIHRvIGdldCB0aGUgc2VwYXJhdGVkIHByb3BzIGZyb20gYSBjb21wb25lbnRcbiAgICBpZiAocHJvcCA9PT0gX0NPTlNUX1BST1BTKSB7XG4gICAgICByZXR1cm4gdGhpcy5vd25lci5jb25zdFByb3BzO1xuICAgIH1cbiAgICBpZiAocHJvcCA9PT0gX1ZBUl9QUk9QUykge1xuICAgICAgcmV0dXJuIHRoaXMub3duZXIudmFyUHJvcHM7XG4gICAgfVxuICAgIGlmIChwcm9wID09PSBfT1dORVIpIHtcbiAgICAgIHJldHVybiB0aGlzLm93bmVyO1xuICAgIH1cbiAgICBsZXQgdmFsdWU6IHVua25vd247XG4gICAgaWYgKHByb3AgPT09ICdjaGlsZHJlbicpIHtcbiAgICAgIHZhbHVlID0gdGhpcy5vd25lci5jaGlsZHJlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiBwcm9wID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgdGhpcy5vd25lci50eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zdCBhdHRyID0ganN4RXZlbnRUb0h0bWxBdHRyaWJ1dGUocHJvcCBhcyBzdHJpbmcpO1xuICAgICAgICBpZiAoYXR0cikge1xuICAgICAgICAgIHByb3AgPSBhdHRyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IGRpcmVjdEdldFByb3BzUHJveHlQcm9wKHRoaXMub3duZXIsIHByb3AgYXMgc3RyaW5nKTtcbiAgICB9XG4gICAgLy8gYSBwcm94aWVkIHZhbHVlIHRoYXQgdGhlIG9wdGltaXplciBtYWRlXG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgV3JhcHBlZFNpZ25hbEltcGwgJiYgdmFsdWUuJGZsYWdzJCAmIFdyYXBwZWRTaWduYWxGbGFncy5VTldSQVBcbiAgICAgID8gdmFsdWUudmFsdWVcbiAgICAgIDogdmFsdWU7XG4gIH1cbiAgc2V0KF86IGFueSwgcHJvcDogc3RyaW5nIHwgc3ltYm9sLCB2YWx1ZTogYW55KSB7XG4gICAgaWYgKHByb3AgPT09IF9PV05FUikge1xuICAgICAgLy8gdXNlZCBmb3IgZGVzZXJpYWxpemF0aW9uXG4gICAgICB0aGlzLm93bmVyID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmIChwcm9wID09PSAnY2hpbGRyZW4nKSB7XG4gICAgICB0aGlzLm93bmVyLmNoaWxkcmVuID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIHRoaXMub3duZXIudHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3QgYXR0ciA9IGpzeEV2ZW50VG9IdG1sQXR0cmlidXRlKHByb3AgYXMgc3RyaW5nKTtcbiAgICAgICAgaWYgKGF0dHIpIHtcbiAgICAgICAgICBwcm9wID0gYXR0cjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMub3duZXIuY29uc3RQcm9wcyAmJiBwcm9wIGluIHRoaXMub3duZXIuY29uc3RQcm9wcykge1xuICAgICAgICB0aGlzLm93bmVyLmNvbnN0UHJvcHNbcHJvcCBhcyBzdHJpbmddID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoIShwcm9wIGluIHRoaXMub3duZXIudmFyUHJvcHMpKSB7XG4gICAgICAgICAgdGhpcy5vd25lci50b1NvcnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3duZXIudmFyUHJvcHNbcHJvcCBhcyBzdHJpbmddID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5vd25lci52YXJQcm9wcyA9PT0gRU1QVFlfT0JKKSB7XG4gICAgICAgICAgdGhpcy5vd25lci52YXJQcm9wcyA9IHt9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghKHByb3AgaW4gdGhpcy5vd25lci52YXJQcm9wcykpIHtcbiAgICAgICAgICAgIHRoaXMub3duZXIudG9Tb3J0ID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vd25lci52YXJQcm9wc1twcm9wIGFzIHN0cmluZ10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZGVsZXRlUHJvcGVydHkoXzogYW55LCBwcm9wOiBzdHJpbmcgfCBzeW1ib2wpIHtcbiAgICBsZXQgZGlkRGVsZXRlID0gZGVsZXRlIHRoaXMub3duZXIudmFyUHJvcHNbcHJvcCBhcyBzdHJpbmddO1xuICAgIGlmICh0aGlzLm93bmVyLmNvbnN0UHJvcHMpIHtcbiAgICAgIGRpZERlbGV0ZSA9IGRlbGV0ZSB0aGlzLm93bmVyLmNvbnN0UHJvcHNbcHJvcCBhcyBzdHJpbmddIHx8IGRpZERlbGV0ZTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3duZXIuY2hpbGRyZW4gIT0gbnVsbCAmJiBwcm9wID09PSAnY2hpbGRyZW4nKSB7XG4gICAgICB0aGlzLm93bmVyLmNoaWxkcmVuID0gbnVsbDtcbiAgICAgIGRpZERlbGV0ZSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBkaWREZWxldGU7XG4gIH1cbiAgaGFzKF86IGFueSwgcHJvcDogc3RyaW5nIHwgc3ltYm9sKSB7XG4gICAgaWYgKHByb3AgPT09ICdjaGlsZHJlbicpIHtcbiAgICAgIHJldHVybiB0aGlzLm93bmVyLmNoaWxkcmVuICE9IG51bGw7XG4gICAgfSBlbHNlIGlmIChwcm9wID09PSBfQ09OU1RfUFJPUFMgfHwgcHJvcCA9PT0gX1ZBUl9QUk9QUykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIHRoaXMub3duZXIudHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnN0IGF0dHIgPSBqc3hFdmVudFRvSHRtbEF0dHJpYnV0ZShwcm9wIGFzIHN0cmluZyk7XG4gICAgICBpZiAoYXR0cikge1xuICAgICAgICBwcm9wID0gYXR0cjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgcHJvcCBpbiB0aGlzLm93bmVyLnZhclByb3BzIHx8ICh0aGlzLm93bmVyLmNvbnN0UHJvcHMgPyBwcm9wIGluIHRoaXMub3duZXIuY29uc3RQcm9wcyA6IGZhbHNlKVxuICAgICk7XG4gIH1cbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF86IGFueSwgcDogc3RyaW5nIHwgc3ltYm9sKTogUHJvcGVydHlEZXNjcmlwdG9yIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCB2YWx1ZSA9XG4gICAgICBwID09PSAnY2hpbGRyZW4nXG4gICAgICAgID8gdGhpcy5vd25lci5jaGlsZHJlblxuICAgICAgICA6IHRoaXMub3duZXIuY29uc3RQcm9wcyAmJiBwIGluIHRoaXMub3duZXIuY29uc3RQcm9wc1xuICAgICAgICAgID8gdGhpcy5vd25lci5jb25zdFByb3BzW3AgYXMgc3RyaW5nXVxuICAgICAgICAgIDogdGhpcy5vd25lci52YXJQcm9wc1twIGFzIHN0cmluZ107XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgfTtcbiAgfVxuICBvd25LZXlzKCkge1xuICAgIGNvbnN0IG91dCA9IE9iamVjdC5rZXlzKHRoaXMub3duZXIudmFyUHJvcHMpO1xuICAgIGlmICh0aGlzLm93bmVyLmNoaWxkcmVuICE9IG51bGwpIHtcbiAgICAgIG91dC5wdXNoKCdjaGlsZHJlbicpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vd25lci5jb25zdFByb3BzKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLm93bmVyLmNvbnN0UHJvcHMpIHtcbiAgICAgICAgaWYgKG91dC5pbmRleE9mKGtleSkgPT09IC0xKSB7XG4gICAgICAgICAgb3V0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0O1xuICB9XG59XG5cbi8qKlxuICogSW5zdGVhZCBvZiB1c2luZyBQcm9wc1Byb3h5SGFuZGxlciBnZXR0ZXIgKHdoaWNoIGNvdWxkIGNyZWF0ZSBhIGNvbXBvbmVudC1sZXZlbCBzdWJzY3JpcHRpb24pLlxuICogVXNlIHRoaXMgZnVuY3Rpb24gdG8gZ2V0IHRoZSBwcm9wcyBkaXJlY3RseSBmcm9tIGEgY29uc3Qgb3IgdmFyIHByb3BzLlxuICpcbiAqIFRoaXMgZG9lcyBub3QgY29udmVydCBqc3ggZXZlbnQgbmFtZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBkaXJlY3RHZXRQcm9wc1Byb3h5UHJvcCA9IDxULCBKU1g+KGpzeDogSlNYTm9kZUludGVybmFsPEpTWD4sIHByb3A6IHN0cmluZyk6IFQgPT4ge1xuICByZXR1cm4gKFxuICAgIGpzeC5jb25zdFByb3BzICYmIHByb3AgaW4ganN4LmNvbnN0UHJvcHMgPyBqc3guY29uc3RQcm9wc1twcm9wXSA6IGpzeC52YXJQcm9wc1twcm9wXVxuICApIGFzIFQ7XG59O1xuXG4vKiogVXNlZCBieSB0aGUgb3B0aW1pemVyIGZvciBzcHJlYWQgcHJvcHMgb3BlcmF0aW9ucyBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBfZ2V0VmFyUHJvcHMgPSAoXG4gIHByb3BzOiBQcm9wc1Byb3h5IHwgUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCBudWxsIHwgdW5kZWZpbmVkXG4pOiBQcm9wcyB8IG51bGwgPT4ge1xuICBpZiAoIXByb3BzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIF9WQVJfUFJPUFMgaW4gcHJvcHNcbiAgICA/ICdjaGlsZHJlbicgaW4gcHJvcHNcbiAgICAgID8geyAuLi5wcm9wc1tfVkFSX1BST1BTXSwgY2hpbGRyZW46IHByb3BzLmNoaWxkcmVuIH1cbiAgICAgIDogcHJvcHNbX1ZBUl9QUk9QU11cbiAgICA6IHByb3BzO1xufTtcbi8qKiBVc2VkIGJ5IHRoZSBvcHRpbWl6ZXIgZm9yIHNwcmVhZCBwcm9wcyBvcGVyYXRpb25zIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IF9nZXRDb25zdFByb3BzID0gKFxuICBwcm9wczogUHJvcHNQcm94eSB8IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHwgbnVsbCB8IHVuZGVmaW5lZFxuKTogUHJvcHMgfCBudWxsID0+IHtcbiAgaWYgKCFwcm9wcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBfQ09OU1RfUFJPUFMgaW4gcHJvcHMgPyBwcm9wc1tfQ09OU1RfUFJPUFNdIDogbnVsbDtcbn07XG5cbmV4cG9ydCB0eXBlIFByb3BzUHJveHkgPSB7XG4gIFtfVkFSX1BST1BTXTogUHJvcHM7XG4gIFtfQ09OU1RfUFJPUFNdOiBQcm9wcyB8IG51bGw7XG4gIFtfT1dORVJdOiBKU1hOb2RlSW50ZXJuYWw7XG59O1xuXG5leHBvcnQgY29uc3QgaXNQcm9wc1Byb3h5ID0gKG9iajogYW55KTogb2JqIGlzIFByb3BzUHJveHkgPT4ge1xuICByZXR1cm4gb2JqICYmIF9WQVJfUFJPUFMgaW4gb2JqO1xufTtcbiJdfQ==","import { isServer } from '@qwik.dev/core/build';\nimport { QBackRefs } from '../shared/utils/markers';\nimport { _EFFECT_BACK_REF } from './types';\nexport function getSubscriber(effect, prop, data) {\n    if (!effect[_EFFECT_BACK_REF]) {\n        if (isServer && isSsrNode(effect)) {\n            effect.setProp(QBackRefs, new Map());\n        }\n        else {\n            effect[_EFFECT_BACK_REF] = new Map();\n        }\n    }\n    const subMap = effect[_EFFECT_BACK_REF];\n    let sub = subMap.get(prop);\n    if (!sub) {\n        sub = [effect, prop];\n        subMap.set(prop, sub);\n    }\n    if (data) {\n        sub[3 /* EffectSubscriptionProp.DATA */] = data;\n    }\n    return sub;\n}\nexport function isSsrNode(value) {\n    return '__brand__' in value && value.__brand__ === 'SsrNode';\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3Vic2NyaWJlci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZWFjdGl2ZS1wcmltaXRpdmVzL3N1YnNjcmliZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUlwRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQTBCLE1BQU0sU0FBUyxDQUFDO0FBRW5FLE1BQU0sVUFBVSxhQUFhLENBQzNCLE1BQWdCLEVBQ2hCLElBQTZCLEVBQzdCLElBQWM7SUFFZCxJQUFJLENBQUUsTUFBa0IsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLENBQUM7UUFDM0MsSUFBSSxRQUFRLElBQUksU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7WUFDbEMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZDLENBQUM7YUFBTSxDQUFDO1lBQ0wsTUFBa0IsQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7UUFDcEQsQ0FBQztJQUNILENBQUM7SUFDRCxNQUFNLE1BQU0sR0FBSSxNQUFjLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNqRCxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzNCLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUNULEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNyQixNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztJQUN4QixDQUFDO0lBQ0QsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUNULEdBQUcscUNBQTZCLEdBQUcsSUFBSSxDQUFDO0lBQzFDLENBQUM7SUFDRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUM7QUFFRCxNQUFNLFVBQVUsU0FBUyxDQUFDLEtBQVU7SUFDbEMsT0FBTyxXQUFXLElBQUksS0FBSyxJQUFJLEtBQUssQ0FBQyxTQUFTLEtBQUssU0FBUyxDQUFDO0FBQy9ELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc1NlcnZlciB9IGZyb20gJ0Bxd2lrLmRldi9jb3JlL2J1aWxkJztcbmltcG9ydCB7IFFCYWNrUmVmcyB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9tYXJrZXJzJztcbmltcG9ydCB0eXBlIHsgSVNzck5vZGUgfSBmcm9tICcuLi9zc3Ivc3NyLXR5cGVzJztcbmltcG9ydCB7IEJhY2tSZWYgfSBmcm9tICcuL2NsZWFudXAnO1xuaW1wb3J0IHR5cGUgeyBDb25zdW1lciwgRWZmZWN0UHJvcGVydHksIEVmZmVjdFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgX0VGRkVDVF9CQUNLX1JFRiwgRWZmZWN0U3Vic2NyaXB0aW9uUHJvcCB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3Vic2NyaWJlcihcbiAgZWZmZWN0OiBDb25zdW1lcixcbiAgcHJvcDogRWZmZWN0UHJvcGVydHkgfCBzdHJpbmcsXG4gIGRhdGE/OiB1bmtub3duXG4pOiBFZmZlY3RTdWJzY3JpcHRpb24ge1xuICBpZiAoIShlZmZlY3QgYXMgQmFja1JlZilbX0VGRkVDVF9CQUNLX1JFRl0pIHtcbiAgICBpZiAoaXNTZXJ2ZXIgJiYgaXNTc3JOb2RlKGVmZmVjdCkpIHtcbiAgICAgIGVmZmVjdC5zZXRQcm9wKFFCYWNrUmVmcywgbmV3IE1hcCgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgKGVmZmVjdCBhcyBCYWNrUmVmKVtfRUZGRUNUX0JBQ0tfUkVGXSA9IG5ldyBNYXAoKTtcbiAgICB9XG4gIH1cbiAgY29uc3Qgc3ViTWFwID0gKGVmZmVjdCBhcyBhbnkpW19FRkZFQ1RfQkFDS19SRUZdO1xuICBsZXQgc3ViID0gc3ViTWFwLmdldChwcm9wKTtcbiAgaWYgKCFzdWIpIHtcbiAgICBzdWIgPSBbZWZmZWN0LCBwcm9wXTtcbiAgICBzdWJNYXAuc2V0KHByb3AsIHN1Yik7XG4gIH1cbiAgaWYgKGRhdGEpIHtcbiAgICBzdWJbRWZmZWN0U3Vic2NyaXB0aW9uUHJvcC5EQVRBXSA9IGRhdGE7XG4gIH1cbiAgcmV0dXJuIHN1Yjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3NyTm9kZSh2YWx1ZTogYW55KTogdmFsdWUgaXMgSVNzck5vZGUge1xuICByZXR1cm4gJ19fYnJhbmRfXycgaW4gdmFsdWUgJiYgdmFsdWUuX19icmFuZF9fID09PSAnU3NyTm9kZSc7XG59XG4iXX0=","import { addStoreEffect, getStoreHandler, getStoreTarget, isStore, } from '../../reactive-primitives/impl/store';\nimport { getSubscriber } from '../../reactive-primitives/subscriber';\nimport { STORE_ALL_PROPS } from '../../reactive-primitives/types';\nimport { isSignal } from '../../reactive-primitives/utils';\nimport { qError } from '../../shared/error/error';\nimport { noSerialize } from '../../shared/serdes/verify';\nimport { isFunction, isObject } from '../../shared/utils/types';\nimport { invoke, newInvokeContext } from '../use-core';\nexport const trackFn = (target, container) => (obj, prop) => {\n    const ctx = newInvokeContext();\n    ctx.$effectSubscriber$ = getSubscriber(target, \":\" /* EffectProperty.COMPONENT */);\n    ctx.$container$ = container || undefined;\n    return invoke(ctx, () => {\n        if (isFunction(obj)) {\n            return obj();\n        }\n        if (prop) {\n            return obj[prop];\n        }\n        else if (isSignal(obj)) {\n            return obj.value;\n        }\n        else if (isObject(obj) && isStore(obj)) {\n            // track whole store\n            addStoreEffect(getStoreTarget(obj), STORE_ALL_PROPS, getStoreHandler(obj), ctx.$effectSubscriber$);\n            return obj;\n        }\n        else {\n            throw qError(2 /* QError.trackObjectWithoutProp */);\n        }\n    });\n};\nexport const cleanupFn = (target, handleError) => {\n    let cleanupFns = null;\n    const cleanup = (fn) => {\n        if (typeof fn == 'function') {\n            if (!cleanupFns) {\n                cleanupFns = [];\n                target.$destroy$ = noSerialize(() => {\n                    target.$destroy$ = null;\n                    cleanupFns.forEach((fn) => {\n                        try {\n                            fn();\n                        }\n                        catch (err) {\n                            handleError(err);\n                        }\n                    });\n                });\n            }\n            cleanupFns.push(fn);\n        }\n    };\n    return [cleanup, cleanupFns ?? []];\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhY2tlci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXRpbHMvdHJhY2tlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsY0FBYyxFQUNkLGVBQWUsRUFDZixjQUFjLEVBQ2QsT0FBTyxHQUNSLE1BQU0sc0NBQXNDLENBQUM7QUFFOUMsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHNDQUFzQyxDQUFDO0FBQ3JFLE9BQU8sRUFBa0IsZUFBZSxFQUFpQixNQUFNLGlDQUFpQyxDQUFDO0FBQ2pHLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUMzRCxPQUFPLEVBQUUsTUFBTSxFQUFVLE1BQU0sMEJBQTBCLENBQUM7QUFFMUQsT0FBTyxFQUFFLFdBQVcsRUFBb0IsTUFBTSw0QkFBNEIsQ0FBQztBQUMzRSxPQUFPLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ2hFLE9BQU8sRUFBRSxNQUFNLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFLdkQsTUFBTSxDQUFDLE1BQU0sT0FBTyxHQUNsQixDQUFDLE1BQWdCLEVBQUUsU0FBMkIsRUFBVyxFQUFFLENBQzNELENBQUMsR0FBK0MsRUFBRSxJQUFhLEVBQUUsRUFBRTtJQUNqRSxNQUFNLEdBQUcsR0FBRyxnQkFBZ0IsRUFBRSxDQUFDO0lBQy9CLEdBQUcsQ0FBQyxrQkFBa0IsR0FBRyxhQUFhLENBQUMsTUFBTSxxQ0FBMkIsQ0FBQztJQUN6RSxHQUFHLENBQUMsV0FBVyxHQUFHLFNBQVMsSUFBSSxTQUFTLENBQUM7SUFDekMsT0FBTyxNQUFNLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRTtRQUN0QixJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ3BCLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFDZixDQUFDO1FBQ0QsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUNULE9BQVEsR0FBK0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNoRCxDQUFDO2FBQU0sSUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztZQUN6QixPQUFPLEdBQUcsQ0FBQyxLQUFLLENBQUM7UUFDbkIsQ0FBQzthQUFNLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ3pDLG9CQUFvQjtZQUNwQixjQUFjLENBQ1osY0FBYyxDQUFDLEdBQUcsQ0FBRSxFQUNwQixlQUFlLEVBQ2YsZUFBZSxDQUFDLEdBQUcsQ0FBRSxFQUNyQixHQUFHLENBQUMsa0JBQW1CLENBQ3hCLENBQUM7WUFDRixPQUFPLEdBQUcsQ0FBQztRQUNiLENBQUM7YUFBTSxDQUFDO1lBQ04sTUFBTSxNQUFNLHVDQUErQixDQUFDO1FBQzlDLENBQUM7SUFDSCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQztBQUVKLE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxDQUN2QixNQUFTLEVBQ1QsV0FBbUMsRUFDZSxFQUFFO0lBQ3BELElBQUksVUFBVSxHQUEwQixJQUFJLENBQUM7SUFDN0MsTUFBTSxPQUFPLEdBQUcsQ0FBQyxFQUFjLEVBQUUsRUFBRTtRQUNqQyxJQUFJLE9BQU8sRUFBRSxJQUFJLFVBQVUsRUFBRSxDQUFDO1lBQzVCLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztnQkFDaEIsVUFBVSxHQUFHLEVBQUUsQ0FBQztnQkFDaEIsTUFBTSxDQUFDLFNBQVMsR0FBRyxXQUFXLENBQUMsR0FBRyxFQUFFO29CQUNsQyxNQUFNLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztvQkFDeEIsVUFBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFO3dCQUN6QixJQUFJLENBQUM7NEJBQ0gsRUFBRSxFQUFFLENBQUM7d0JBQ1AsQ0FBQzt3QkFBQyxPQUFPLEdBQUcsRUFBRSxDQUFDOzRCQUNiLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDbkIsQ0FBQztvQkFDSCxDQUFDLENBQUMsQ0FBQztnQkFDTCxDQUFDLENBQUMsQ0FBQztZQUNMLENBQUM7WUFDRCxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3RCLENBQUM7SUFDSCxDQUFDLENBQUM7SUFDRixPQUFPLENBQUMsT0FBTyxFQUFFLFVBQVUsSUFBSSxFQUFFLENBQUMsQ0FBQztBQUNyQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBhZGRTdG9yZUVmZmVjdCxcbiAgZ2V0U3RvcmVIYW5kbGVyLFxuICBnZXRTdG9yZVRhcmdldCxcbiAgaXNTdG9yZSxcbn0gZnJvbSAnLi4vLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy9pbXBsL3N0b3JlJztcbmltcG9ydCB0eXBlIHsgU2lnbmFsIH0gZnJvbSAnLi4vLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy9zaWduYWwucHVibGljJztcbmltcG9ydCB7IGdldFN1YnNjcmliZXIgfSBmcm9tICcuLi8uLi9yZWFjdGl2ZS1wcmltaXRpdmVzL3N1YnNjcmliZXInO1xuaW1wb3J0IHsgRWZmZWN0UHJvcGVydHksIFNUT1JFX0FMTF9QUk9QUywgdHlwZSBDb25zdW1lciB9IGZyb20gJy4uLy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvdHlwZXMnO1xuaW1wb3J0IHsgaXNTaWduYWwgfSBmcm9tICcuLi8uLi9yZWFjdGl2ZS1wcmltaXRpdmVzL3V0aWxzJztcbmltcG9ydCB7IHFFcnJvciwgUUVycm9yIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2Vycm9yL2Vycm9yJztcbmltcG9ydCB0eXBlIHsgQ29udGFpbmVyIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3R5cGVzJztcbmltcG9ydCB7IG5vU2VyaWFsaXplLCB0eXBlIE5vU2VyaWFsaXplIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3NlcmRlcy92ZXJpZnknO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiwgaXNPYmplY3QgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHsgaW52b2tlLCBuZXdJbnZva2VDb250ZXh0IH0gZnJvbSAnLi4vdXNlLWNvcmUnO1xuaW1wb3J0IHR5cGUgeyBUcmFja2VyIH0gZnJvbSAnLi4vdXNlLXRhc2snO1xuXG5leHBvcnQgdHlwZSBEZXN0cm95YWJsZSA9IHsgJGRlc3Ryb3kkOiBOb1NlcmlhbGl6ZTwoKSA9PiB2b2lkPiB8IG51bGwgfTtcblxuZXhwb3J0IGNvbnN0IHRyYWNrRm4gPVxuICAodGFyZ2V0OiBDb25zdW1lciwgY29udGFpbmVyOiBDb250YWluZXIgfCBudWxsKTogVHJhY2tlciA9PlxuICAob2JqOiAoKCkgPT4gdW5rbm93bikgfCBvYmplY3QgfCBTaWduYWw8dW5rbm93bj4sIHByb3A/OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBjdHggPSBuZXdJbnZva2VDb250ZXh0KCk7XG4gICAgY3R4LiRlZmZlY3RTdWJzY3JpYmVyJCA9IGdldFN1YnNjcmliZXIodGFyZ2V0LCBFZmZlY3RQcm9wZXJ0eS5DT01QT05FTlQpO1xuICAgIGN0eC4kY29udGFpbmVyJCA9IGNvbnRhaW5lciB8fCB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIGludm9rZShjdHgsICgpID0+IHtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIG9iaigpO1xuICAgICAgfVxuICAgICAgaWYgKHByb3ApIHtcbiAgICAgICAgcmV0dXJuIChvYmogYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW3Byb3BdO1xuICAgICAgfSBlbHNlIGlmIChpc1NpZ25hbChvYmopKSB7XG4gICAgICAgIHJldHVybiBvYmoudmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KG9iaikgJiYgaXNTdG9yZShvYmopKSB7XG4gICAgICAgIC8vIHRyYWNrIHdob2xlIHN0b3JlXG4gICAgICAgIGFkZFN0b3JlRWZmZWN0KFxuICAgICAgICAgIGdldFN0b3JlVGFyZ2V0KG9iaikhLFxuICAgICAgICAgIFNUT1JFX0FMTF9QUk9QUyxcbiAgICAgICAgICBnZXRTdG9yZUhhbmRsZXIob2JqKSEsXG4gICAgICAgICAgY3R4LiRlZmZlY3RTdWJzY3JpYmVyJCFcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IHFFcnJvcihRRXJyb3IudHJhY2tPYmplY3RXaXRob3V0UHJvcCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbmV4cG9ydCBjb25zdCBjbGVhbnVwRm4gPSA8VCBleHRlbmRzIERlc3Ryb3lhYmxlPihcbiAgdGFyZ2V0OiBULFxuICBoYW5kbGVFcnJvcjogKGVycjogdW5rbm93bikgPT4gdm9pZFxuKTogWyhjYWxsYmFjazogKCkgPT4gdm9pZCkgPT4gdm9pZCwgKCgpID0+IHZvaWQpW11dID0+IHtcbiAgbGV0IGNsZWFudXBGbnM6ICgoKSA9PiB2b2lkKVtdIHwgbnVsbCA9IG51bGw7XG4gIGNvbnN0IGNsZWFudXAgPSAoZm46ICgpID0+IHZvaWQpID0+IHtcbiAgICBpZiAodHlwZW9mIGZuID09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmICghY2xlYW51cEZucykge1xuICAgICAgICBjbGVhbnVwRm5zID0gW107XG4gICAgICAgIHRhcmdldC4kZGVzdHJveSQgPSBub1NlcmlhbGl6ZSgoKSA9PiB7XG4gICAgICAgICAgdGFyZ2V0LiRkZXN0cm95JCA9IG51bGw7XG4gICAgICAgICAgY2xlYW51cEZucyEuZm9yRWFjaCgoZm4pID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjbGVhbnVwRm5zLnB1c2goZm4pO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIFtjbGVhbnVwLCBjbGVhbnVwRm5zID8/IFtdXTtcbn07XG4iXX0=","import { qwikDebugToString } from '../../debug';\nimport { assertFalse } from '../../shared/error/assert';\nimport { qError } from '../../shared/error/error';\nimport { isPromise } from '../../shared/utils/promises';\nimport { tryGetInvokeContext } from '../../use/use-core';\nimport { throwIfQRLNotResolved } from '../utils';\nimport { getSubscriber } from '../subscriber';\nimport { _EFFECT_BACK_REF, NEEDS_COMPUTATION } from '../types';\nimport { SignalImpl } from './signal-impl';\nconst DEBUG = false;\n// eslint-disable-next-line no-console\nconst log = (...args) => console.log('COMPUTED SIGNAL', ...args.map(qwikDebugToString));\n/**\n * A signal which is computed from other signals.\n *\n * The value is available synchronously, but the computation is done lazily.\n */\nexport class ComputedSignalImpl extends SignalImpl {\n    /**\n     * The compute function is stored here.\n     *\n     * The computed functions must be executed synchronously (because of this we need to eagerly\n     * resolve the QRL during the mark dirty phase so that any call to it will be synchronous). )\n     */\n    $computeQrl$;\n    $flags$;\n    [_EFFECT_BACK_REF] = null;\n    constructor(container, fn, \n    // We need a separate flag to know when the computation needs running because\n    // we need the old value to know if effects need running after computation\n    flags = 1 /* SignalFlags.INVALID */ |\n        32 /* SerializationSignalFlags.SERIALIZATION_STRATEGY_ALWAYS */) {\n        // The value is used for comparison when signals trigger, which can only happen\n        // when it was calculated before. Therefore we can pass whatever we like.\n        super(container, NEEDS_COMPUTATION);\n        this.$computeQrl$ = fn;\n        this.$flags$ = flags;\n    }\n    invalidate() {\n        this.$flags$ |= 1 /* SignalFlags.INVALID */;\n        this.$container$?.$scheduler$(7 /* ChoreType.RECOMPUTE_AND_SCHEDULE_EFFECTS */, null, this, this.$effects$);\n    }\n    /**\n     * Use this to force running subscribers, for example when the calculated value has mutated but\n     * remained the same object\n     */\n    force() {\n        this.$flags$ |= 2 /* SignalFlags.RUN_EFFECTS */;\n        super.force();\n    }\n    get untrackedValue() {\n        this.$computeIfNeeded$();\n        assertFalse(this.$untrackedValue$ === NEEDS_COMPUTATION, 'Invalid state');\n        return this.$untrackedValue$;\n    }\n    $computeIfNeeded$() {\n        if (!(this.$flags$ & 1 /* SignalFlags.INVALID */)) {\n            return;\n        }\n        const computeQrl = this.$computeQrl$;\n        throwIfQRLNotResolved(computeQrl);\n        const ctx = tryGetInvokeContext();\n        const previousEffectSubscription = ctx?.$effectSubscriber$;\n        ctx && (ctx.$effectSubscriber$ = getSubscriber(this, \".\" /* EffectProperty.VNODE */));\n        try {\n            const untrackedValue = computeQrl.getFn(ctx)();\n            if (isPromise(untrackedValue)) {\n                throw qError(29 /* QError.computedNotSync */, [\n                    computeQrl.dev ? computeQrl.dev.file : '',\n                    computeQrl.$hash$,\n                ]);\n            }\n            DEBUG && log('Signal.$compute$', untrackedValue);\n            this.$flags$ &= ~1 /* SignalFlags.INVALID */;\n            const didChange = untrackedValue !== this.$untrackedValue$;\n            if (didChange) {\n                // skip first computation when value is not changed\n                if (this.$untrackedValue$ !== NEEDS_COMPUTATION) {\n                    this.$flags$ |= 2 /* SignalFlags.RUN_EFFECTS */;\n                }\n                this.$untrackedValue$ = untrackedValue;\n            }\n        }\n        finally {\n            if (ctx) {\n                ctx.$effectSubscriber$ = previousEffectSubscription;\n            }\n        }\n    }\n    // Make this signal read-only\n    set value(_) {\n        throw qError(30 /* QError.computedReadOnly */);\n    }\n    // Getters don't get inherited when overriding a setter\n    get value() {\n        return super.value;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcHV0ZWQtc2lnbmFsLWltcGwuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVhY3RpdmUtcHJpbWl0aXZlcy9pbXBsL2NvbXB1dGVkLXNpZ25hbC1pbXBsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUNoRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDeEQsT0FBTyxFQUFVLE1BQU0sRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBRzFELE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUN4RCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUN6RCxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFFakQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUU5QyxPQUFPLEVBQUUsZ0JBQWdCLEVBQWtCLGlCQUFpQixFQUFlLE1BQU0sVUFBVSxDQUFDO0FBQzVGLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFHM0MsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQ3BCLHNDQUFzQztBQUN0QyxNQUFNLEdBQUcsR0FBRyxDQUFDLEdBQUcsSUFBVyxFQUFFLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7QUFFL0Y7Ozs7R0FJRztBQUNILE1BQU0sT0FBTyxrQkFDWCxTQUFRLFVBQWE7SUFHckI7Ozs7O09BS0c7SUFDSCxZQUFZLENBQUk7SUFDaEIsT0FBTyxDQUF5QztJQUNoRCxDQUFDLGdCQUFnQixDQUFDLEdBQTRELElBQUksQ0FBQztJQUVuRixZQUNFLFNBQTJCLEVBQzNCLEVB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IHsgcXdpa0RlYnVnVG9TdHJpbmcgfSBmcm9tICcuLi8uLi9kZWJ1Zyc7XG5pbXBvcnQgeyBhc3NlcnRGYWxzZSB9IGZyb20gJy4uLy4uL3NoYXJlZC9lcnJvci9hc3NlcnQnO1xuaW1wb3J0IHsgUUVycm9yLCBxRXJyb3IgfSBmcm9tICcuLi8uLi9zaGFyZWQvZXJyb3IvZXJyb3InO1xuaW1wb3J0IHR5cGUgeyBDb250YWluZXIgfSBmcm9tICcuLi8uLi9zaGFyZWQvdHlwZXMnO1xuaW1wb3J0IHsgQ2hvcmVUeXBlIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3V0aWwtY2hvcmUtdHlwZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMvcHJvbWlzZXMnO1xuaW1wb3J0IHsgdHJ5R2V0SW52b2tlQ29udGV4dCB9IGZyb20gJy4uLy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgeyB0aHJvd0lmUVJMTm90UmVzb2x2ZWQgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgdHlwZSB7IEJhY2tSZWYgfSBmcm9tICcuLi9jbGVhbnVwJztcbmltcG9ydCB7IGdldFN1YnNjcmliZXIgfSBmcm9tICcuLi9zdWJzY3JpYmVyJztcbmltcG9ydCB7IFNlcmlhbGl6YXRpb25TaWduYWxGbGFncywgQ29tcHV0ZVFSTCwgRWZmZWN0U3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgX0VGRkVDVF9CQUNLX1JFRiwgRWZmZWN0UHJvcGVydHksIE5FRURTX0NPTVBVVEFUSU9OLCBTaWduYWxGbGFncyB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IFNpZ25hbEltcGwgfSBmcm9tICcuL3NpZ25hbC1pbXBsJztcbmltcG9ydCB0eXBlIHsgUVJMSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9zaGFyZWQvcXJsL3FybC1jbGFzcyc7XG5cbmNvbnN0IERFQlVHID0gZmFsc2U7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuY29uc3QgbG9nID0gKC4uLmFyZ3M6IGFueVtdKSA9PiBjb25zb2xlLmxvZygnQ09NUFVURUQgU0lHTkFMJywgLi4uYXJncy5tYXAocXdpa0RlYnVnVG9TdHJpbmcpKTtcblxuLyoqXG4gKiBBIHNpZ25hbCB3aGljaCBpcyBjb21wdXRlZCBmcm9tIG90aGVyIHNpZ25hbHMuXG4gKlxuICogVGhlIHZhbHVlIGlzIGF2YWlsYWJsZSBzeW5jaHJvbm91c2x5LCBidXQgdGhlIGNvbXB1dGF0aW9uIGlzIGRvbmUgbGF6aWx5LlxuICovXG5leHBvcnQgY2xhc3MgQ29tcHV0ZWRTaWduYWxJbXBsPFQsIFMgZXh0ZW5kcyBRUkxJbnRlcm5hbCA9IENvbXB1dGVRUkw8VD4+XG4gIGV4dGVuZHMgU2lnbmFsSW1wbDxUPlxuICBpbXBsZW1lbnRzIEJhY2tSZWZcbntcbiAgLyoqXG4gICAqIFRoZSBjb21wdXRlIGZ1bmN0aW9uIGlzIHN0b3JlZCBoZXJlLlxuICAgKlxuICAgKiBUaGUgY29tcHV0ZWQgZnVuY3Rpb25zIG11c3QgYmUgZXhlY3V0ZWQgc3luY2hyb25vdXNseSAoYmVjYXVzZSBvZiB0aGlzIHdlIG5lZWQgdG8gZWFnZXJseVxuICAgKiByZXNvbHZlIHRoZSBRUkwgZHVyaW5nIHRoZSBtYXJrIGRpcnR5IHBoYXNlIHNvIHRoYXQgYW55IGNhbGwgdG8gaXQgd2lsbCBiZSBzeW5jaHJvbm91cykuIClcbiAgICovXG4gICRjb21wdXRlUXJsJDogUztcbiAgJGZsYWdzJDogU2lnbmFsRmxhZ3MgfCBTZXJpYWxpemF0aW9uU2lnbmFsRmxhZ3M7XG4gIFtfRUZGRUNUX0JBQ0tfUkVGXTogTWFwPEVmZmVjdFByb3BlcnR5IHwgc3RyaW5nLCBFZmZlY3RTdWJzY3JpcHRpb24+IHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY29udGFpbmVyOiBDb250YWluZXIgfCBudWxsLFxuICAgIGZuOiBTLFxuICAgIC8vIFdlIG5lZWQgYSBzZXBhcmF0ZSBmbGFnIHRvIGtub3cgd2hlbiB0aGUgY29tcHV0YXRpb24gbmVlZHMgcnVubmluZyBiZWNhdXNlXG4gICAgLy8gd2UgbmVlZCB0aGUgb2xkIHZhbHVlIHRvIGtub3cgaWYgZWZmZWN0cyBuZWVkIHJ1bm5pbmcgYWZ0ZXIgY29tcHV0YXRpb25cbiAgICBmbGFnczogU2lnbmFsRmxhZ3MgfCBTZXJpYWxpemF0aW9uU2lnbmFsRmxhZ3MgPSBTaWduYWxGbGFncy5JTlZBTElEIHxcbiAgICAgIFNlcmlhbGl6YXRpb25TaWduYWxGbGFncy5TRVJJQUxJWkFUSU9OX1NUUkFURUdZX0FMV0FZU1xuICApIHtcbiAgICAvLyBUaGUgdmFsdWUgaXMgdXNlZCBmb3IgY29tcGFyaXNvbiB3aGVuIHNpZ25hbHMgdHJpZ2dlciwgd2hpY2ggY2FuIG9ubHkgaGFwcGVuXG4gICAgLy8gd2hlbiBpdCB3YXMgY2FsY3VsYXRlZCBiZWZvcmUuIFRoZXJlZm9yZSB3ZSBjYW4gcGFzcyB3aGF0ZXZlciB3ZSBsaWtlLlxuICAgIHN1cGVyKGNvbnRhaW5lciwgTkVFRFNfQ09NUFVUQVRJT04pO1xuICAgIHRoaXMuJGNvbXB1dGVRcmwkID0gZm47XG4gICAgdGhpcy4kZmxhZ3MkID0gZmxhZ3M7XG4gIH1cblxuICBpbnZhbGlkYXRlKCkge1xuICAgIHRoaXMuJGZsYWdzJCB8PSBTaWduYWxGbGFncy5JTlZBTElEO1xuICAgIHRoaXMuJGNvbnRhaW5lciQ/LiRzY2hlZHVsZXIkKFxuICAgICAgQ2hvcmVUeXBlLlJFQ09NUFVURV9BTkRfU0NIRURVTEVfRUZGRUNUUyxcbiAgICAgIG51bGwsXG4gICAgICB0aGlzLFxuICAgICAgdGhpcy4kZWZmZWN0cyRcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZSB0aGlzIHRvIGZvcmNlIHJ1bm5pbmcgc3Vic2NyaWJlcnMsIGZvciBleGFtcGxlIHdoZW4gdGhlIGNhbGN1bGF0ZWQgdmFsdWUgaGFzIG11dGF0ZWQgYnV0XG4gICAqIHJlbWFpbmVkIHRoZSBzYW1lIG9iamVjdFxuICAgKi9cbiAgZm9yY2UoKSB7XG4gICAgdGhpcy4kZmxhZ3MkIHw9IFNpZ25hbEZsYWdzLlJVTl9FRkZFQ1RTO1xuICAgIHN1cGVyLmZvcmNlKCk7XG4gIH1cblxuICBnZXQgdW50cmFja2VkVmFsdWUoKSB7XG4gICAgdGhpcy4kY29tcHV0ZUlmTmVlZGVkJCgpO1xuICAgIGFzc2VydEZhbHNlKHRoaXMuJHVudHJhY2tlZFZhbHVlJCA9PT0gTkVFRFNfQ09NUFVUQVRJT04sICdJbnZhbGlkIHN0YXRlJyk7XG4gICAgcmV0dXJuIHRoaXMuJHVudHJhY2tlZFZhbHVlJDtcbiAgfVxuXG4gICRjb21wdXRlSWZOZWVkZWQkKCkge1xuICAgIGlmICghKHRoaXMuJGZsYWdzJCAmIFNpZ25hbEZsYWdzLklOVkFMSUQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvbXB1dGVRcmwgPSB0aGlzLiRjb21wdXRlUXJsJDtcbiAgICB0aHJvd0lmUVJMTm90UmVzb2x2ZWQoY29tcHV0ZVFybCk7XG5cbiAgICBjb25zdCBjdHggPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gICAgY29uc3QgcHJldmlvdXNFZmZlY3RTdWJzY3JpcHRpb24gPSBjdHg/LiRlZmZlY3RTdWJzY3JpYmVyJDtcbiAgICBjdHggJiYgKGN0eC4kZWZmZWN0U3Vic2NyaWJlciQgPSBnZXRTdWJzY3JpYmVyKHRoaXMsIEVmZmVjdFByb3BlcnR5LlZOT0RFKSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVudHJhY2tlZFZhbHVlID0gKGNvbXB1dGVRcmwuZ2V0Rm4oY3R4KSBhcyBTKSgpIGFzIFQ7XG4gICAgICBpZiAoaXNQcm9taXNlKHVudHJhY2tlZFZhbHVlKSkge1xuICAgICAgICB0aHJvdyBxRXJyb3IoUUVycm9yLmNvbXB1dGVkTm90U3luYywgW1xuICAgICAgICAgIGNvbXB1dGVRcmwuZGV2ID8gY29tcHV0ZVFybC5kZXYuZmlsZSA6ICcnLFxuICAgICAgICAgIGNvbXB1dGVRcmwuJGhhc2gkLFxuICAgICAgICBdKTtcbiAgICAgIH1cbiAgICAgIERFQlVHICYmIGxvZygnU2lnbmFsLiRjb21wdXRlJCcsIHVudHJhY2tlZFZhbHVlKTtcblxuICAgICAgdGhpcy4kZmxhZ3MkICY9IH5TaWduYWxGbGFncy5JTlZBTElEO1xuICAgICAgY29uc3QgZGlkQ2hhbmdlID0gdW50cmFja2VkVmFsdWUgIT09IHRoaXMuJHVudHJhY2tlZFZhbHVlJDtcbiAgICAgIGlmIChkaWRDaGFuZ2UpIHtcbiAgICAgICAgLy8gc2tpcCBmaXJzdCBjb21wdXRhdGlvbiB3aGVuIHZhbHVlIGlzIG5vdCBjaGFuZ2VkXG4gICAgICAgIGlmICh0aGlzLiR1bnRyYWNrZWRWYWx1ZSQgIT09IE5FRURTX0NPTVBVVEFUSU9OKSB7XG4gICAgICAgICAgdGhpcy4kZmxhZ3MkIHw9IFNpZ25hbEZsYWdzLlJVTl9FRkZFQ1RTO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJHVudHJhY2tlZFZhbHVlJCA9IHVudHJhY2tlZFZhbHVlO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoY3R4KSB7XG4gICAgICAgIGN0eC4kZWZmZWN0U3Vic2NyaWJlciQgPSBwcmV2aW91c0VmZmVjdFN1YnNjcmlwdGlvbjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBNYWtlIHRoaXMgc2lnbmFsIHJlYWQtb25seVxuICBzZXQgdmFsdWUoXzogYW55KSB7XG4gICAgdGhyb3cgcUVycm9yKFFFcnJvci5jb21wdXRlZFJlYWRPbmx5KTtcbiAgfVxuICAvLyBHZXR0ZXJzIGRvbid0IGdldCBpbmhlcml0ZWQgd2hlbiBvdmVycmlkaW5nIGEgc2V0dGVyXG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gc3VwZXIudmFsdWU7XG4gIH1cbn1cbiJdfQ==","import { qwikDebugToString } from '../../debug';\nimport { isPromise, retryOnPromise } from '../../shared/utils/promises';\nimport { cleanupFn, trackFn } from '../../use/utils/tracker';\nimport { _EFFECT_BACK_REF, NEEDS_COMPUTATION, } from '../types';\nimport { ComputedSignalImpl } from './computed-signal-impl';\nimport { setupSignalValueAccess } from './signal-impl';\nconst DEBUG = false;\nconst log = (...args) => \n// eslint-disable-next-line no-console\nconsole.log('ASYNC COMPUTED SIGNAL', ...args.map(qwikDebugToString));\n/**\n * # ================================\n *\n * AsyncComputedSignalImpl\n *\n * # ================================\n */\nexport class AsyncComputedSignalImpl extends ComputedSignalImpl {\n    $untrackedLoading$ = false;\n    $untrackedError$ = null;\n    $loadingEffects$ = null;\n    $errorEffects$ = null;\n    $destroy$;\n    $promiseValue$ = NEEDS_COMPUTATION;\n    [_EFFECT_BACK_REF] = null;\n    constructor(container, fn, flags = 1 /* SignalFlags.INVALID */) {\n        super(container, fn, flags);\n    }\n    /**\n     * Loading is true if the signal is still waiting for the promise to resolve, false if the promise\n     * has resolved or rejected.\n     */\n    get loading() {\n        return setupSignalValueAccess(this, () => (this.$loadingEffects$ ||= new Set()), () => this.untrackedLoading);\n    }\n    set untrackedLoading(value) {\n        if (value !== this.$untrackedLoading$) {\n            this.$untrackedLoading$ = value;\n            this.$container$?.$scheduler$(7 /* ChoreType.RECOMPUTE_AND_SCHEDULE_EFFECTS */, null, this, this.$loadingEffects$);\n        }\n    }\n    get untrackedLoading() {\n        return this.$untrackedLoading$;\n    }\n    /** The error that occurred when the signal was resolved. */\n    get error() {\n        return setupSignalValueAccess(this, () => (this.$errorEffects$ ||= new Set()), () => this.untrackedError);\n    }\n    set untrackedError(value) {\n        if (value !== this.$untrackedError$) {\n            this.$untrackedError$ = value;\n            this.$container$?.$scheduler$(7 /* ChoreType.RECOMPUTE_AND_SCHEDULE_EFFECTS */, null, this, this.$errorEffects$);\n        }\n    }\n    get untrackedError() {\n        return this.$untrackedError$;\n    }\n    invalidate() {\n        super.invalidate();\n        this.$promiseValue$ = NEEDS_COMPUTATION;\n    }\n    async resolve() {\n        await retryOnPromise(() => this.$computeIfNeeded$());\n        return this.$untrackedValue$;\n    }\n    $computeIfNeeded$() {\n        if (!(this.$flags$ & 1 /* SignalFlags.INVALID */)) {\n            return;\n        }\n        const [cleanup] = cleanupFn(this, (err) => this.$container$?.handleError(err, null));\n        const untrackedValue = this.$promiseValue$ === NEEDS_COMPUTATION\n            ? this.$computeQrl$.getFn()({\n                track: trackFn(this, this.$container$),\n                cleanup,\n            })\n            : this.$promiseValue$;\n        if (isPromise(untrackedValue)) {\n            this.untrackedLoading = true;\n            this.untrackedError = null;\n            throw untrackedValue\n                .then((promiseValue) => {\n                this.$promiseValue$ = promiseValue;\n                this.untrackedLoading = false;\n                this.untrackedError = null;\n            })\n                .catch((err) => {\n                this.$promiseValue$ = err;\n                this.untrackedLoading = false;\n                this.untrackedError = err;\n            });\n        }\n        this.$promiseValue$ = NEEDS_COMPUTATION;\n        DEBUG && log('Signal.$asyncCompute$', untrackedValue);\n        this.$flags$ &= ~1 /* SignalFlags.INVALID */;\n        const didChange = untrackedValue !== this.$untrackedValue$;\n        if (didChange) {\n            this.$flags$ |= 2 /* SignalFlags.RUN_EFFECTS */;\n            this.$untrackedValue$ = untrackedValue;\n        }\n        return didChange;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXN5bmMtY29tcHV0ZWQtc2lnbmFsLWltcGwuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVhY3RpdmUtcHJpbWl0aXZlcy9pbXBsL2FzeW5jLWNvbXB1dGVkLXNpZ25hbC1pbXBsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUloRCxPQUFPLEVBQUUsU0FBUyxFQUFFLGNBQWMsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQ3hFLE9BQU8sRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFFN0QsT0FBTyxFQUNMLGdCQUFnQixFQUloQixpQkFBaUIsR0FHbEIsTUFBTSxVQUFVLENBQUM7QUFDbEIsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDNUQsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXZELE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQztBQUNwQixNQUFNLEdBQUcsR0FBRyxDQUFDLEdBQUcsSUFBVyxFQUFFLEVBQUU7QUFDN0Isc0NBQXNDO0FBQ3RDLE9BQU8sQ0FBQyxHQUFHLENBQUMsdUJBQXVCLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQztBQUV2RTs7Ozs7O0dBTUc7QUFDSCxNQUFNLE9BQU8sdUJBQ1gsU0FBUSxrQkFBeUM7SUFHakQsa0JBQWtCLEdBQVksS0FBSyxDQUFDO0lBQ3BDLGdCQUFnQixHQUFpQixJQUFJLENBQUM7SUFFdEMsZ0JBQWdCLEdBQW1DLElBQUksQ0FBQztJQUN4RCxjQUFjLEdBQW1DLElBQUksQ0FBQztJQUN0RCxTQUFTLENBQWlDO0lBQ2xDLGNBQWMsR0FBaUMsaUJBQWlCLENBQUM7SUFFekUsQ0FBQyxnQkFBZ0IsQ0FBQyxHQUE0RCxJQUFJLENBQUM7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QUFNLGNBQWM7aUJBQ2pCLElBQUksQ0FBQyxDQUFDLFlBQVksRUFBRSxFQUFFO2dCQUNyQixJQUFJLENBQUMsY0FBYyxHQUFHLFlBQVksQ0FBQztnQkFDbkMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEtBQUssQ0FBQztnQkFDOUIsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7WUFDN0IsQ0FBQyxDQUFDO2lCQUNELEtBQUssQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO2dCQUNiLElBQUksQ0FBQyxjQUFjLEdBQUcsR0FBRyxDQUFDO2dCQUMxQixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDO2dCQUM5QixJQUFJLENBQUMsY0FBYyxHQUFHLEdBQUcsQ0FBQztZQUM1QixDQUFDLENBQUMsQ0FBQztRQUNQLENBQUM7UUFDRCxJQUFJLENBQUMsY0FBYyxHQUFHLGlCQUFpQixDQUFDO1FBQ3hDLEtBQUssSUFBSSxHQUFHLENBQUMsdUJBQXVCLEVBQUUsY0FBYyxDQUFDLENBQUM7UUFFdEQsSUFBSSxDQUFDLE9BQU8sSUFBSSw0QkFBb0IsQ0FBQztRQUVyQyxNQUFNLFNBQVMsR0FBRyxjQUFjLEtBQUssSUFBSSxDQUFDLGdCQUFnQixDQUFDO1FBQzNELElBQUksU0FBUyxFQUFFLENBQUM7WUFDZCxJQUFJLENBQUMsT0FBTyxtQ0FBMkIsQ0FBQztZQUN4QyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsY0FBYyxDQUFDO1FBQ3pDLENBQUM7UUFDRCxPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBxd2lrRGVidWdUb1N0cmluZyB9IGZyb20gJy4uLy4uL2RlYnVnJztcbmltcG9ydCB0eXBlIHsgTm9TZXJpYWxpemUgfSBmcm9tICcuLi8uLi9zaGFyZWQvc2VyZGVzL3ZlcmlmeSc7XG5pbXBvcnQgdHlwZSB7IENvbnRhaW5lciB9IGZyb20gJy4uLy4uL3NoYXJlZC90eXBlcyc7XG5pbXBvcnQgeyBDaG9yZVR5cGUgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbC1jaG9yZS10eXBlJztcbmltcG9ydCB7IGlzUHJvbWlzZSwgcmV0cnlPblByb21pc2UgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMvcHJvbWlzZXMnO1xuaW1wb3J0IHsgY2xlYW51cEZuLCB0cmFja0ZuIH0gZnJvbSAnLi4vLi4vdXNlL3V0aWxzL3RyYWNrZXInO1xuaW1wb3J0IHR5cGUgeyBCYWNrUmVmIH0gZnJvbSAnLi4vY2xlYW51cCc7XG5pbXBvcnQge1xuICBfRUZGRUNUX0JBQ0tfUkVGLFxuICBBc3luY0NvbXB1dGVRUkwsXG4gIEVmZmVjdFByb3BlcnR5LFxuICBFZmZlY3RTdWJzY3JpcHRpb24sXG4gIE5FRURTX0NPTVBVVEFUSU9OLFxuICBTZXJpYWxpemF0aW9uU2lnbmFsRmxhZ3MsXG4gIFNpZ25hbEZsYWdzLFxufSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBDb21wdXRlZFNpZ25hbEltcGwgfSBmcm9tICcuL2NvbXB1dGVkLXNpZ25hbC1pbXBsJztcbmltcG9ydCB7IHNldHVwU2lnbmFsVmFsdWVBY2Nlc3MgfSBmcm9tICcuL3NpZ25hbC1pbXBsJztcblxuY29uc3QgREVCVUcgPSBmYWxzZTtcbmNvbnN0IGxvZyA9ICguLi5hcmdzOiBhbnlbXSkgPT5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgY29uc29sZS5sb2coJ0FTWU5DIENPTVBVVEVEIFNJR05BTCcsIC4uLmFyZ3MubWFwKHF3aWtEZWJ1Z1RvU3RyaW5nKSk7XG5cbi8qKlxuICogIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICpcbiAqIEFzeW5jQ29tcHV0ZWRTaWduYWxJbXBsXG4gKlxuICogIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5leHBvcnQgY2xhc3MgQXN5bmNDb21wdXRlZFNpZ25hbEltcGw8VD5cbiAgZXh0ZW5kcyBDb21wdXRlZFNpZ25hbEltcGw8VCwgQXN5bmNDb21wdXRlUVJMPFQ+PlxuICBpbXBsZW1lbnRzIEJhY2tSZWZcbntcbiAgJHVudHJhY2tlZExvYWRpbmckOiBib29sZWFuID0gZmFsc2U7XG4gICR1bnRyYWNrZWRFcnJvciQ6IEVycm9yIHwgbnVsbCA9IG51bGw7XG5cbiAgJGxvYWRpbmdFZmZlY3RzJDogbnVsbCB8IFNldDxFZmZlY3RTdWJzY3JpcHRpb24+ID0gbnVsbDtcbiAgJGVycm9yRWZmZWN0cyQ6IG51bGwgfCBTZXQ8RWZmZWN0U3Vic2NyaXB0aW9uPiA9IG51bGw7XG4gICRkZXN0cm95JDogTm9TZXJpYWxpemU8KCkgPT4gdm9pZD4gfCBudWxsO1xuICBwcml2YXRlICRwcm9taXNlVmFsdWUkOiBUIHwgdHlwZW9mIE5FRURTX0NPTVBVVEFUSU9OID0gTkVFRFNfQ09NUFVUQVRJT047XG5cbiAgW19FRkZFQ1RfQkFDS19SRUZdOiBNYXA8RWZmZWN0UHJvcGVydHkgfCBzdHJpbmcsIEVmZmVjdFN1YnNjcmlwdGlvbj4gfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBjb250YWluZXI6IENvbnRhaW5lciB8IG51bGwsXG4gICAgZm46IEFzeW5jQ29tcHV0ZVFSTDxUPixcbiAgICBmbGFnczogU2lnbmFsRmxhZ3MgfCBTZXJpYWxpemF0aW9uU2lnbmFsRmxhZ3MgPSBTaWduYWxGbGFncy5JTlZBTElEXG4gICkge1xuICAgIHN1cGVyKGNvbnRhaW5lciwgZm4sIGZsYWdzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkaW5nIGlzIHRydWUgaWYgdGhlIHNpZ25hbCBpcyBzdGlsbCB3YWl0aW5nIGZvciB0aGUgcHJvbWlzZSB0byByZXNvbHZlLCBmYWxzZSBpZiB0aGUgcHJvbWlzZVxuICAgKiBoYXMgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQuXG4gICAqL1xuICBnZXQgbG9hZGluZygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gc2V0dXBTaWduYWxWYWx1ZUFjY2VzcyhcbiAgICAgIHRoaXMsXG4gICAgICAoKSA9PiAodGhpcy4kbG9hZGluZ0VmZmVjdHMkIHx8PSBuZXcgU2V0KCkpLFxuICAgICAgKCkgPT4gdGhpcy51bnRyYWNrZWRMb2FkaW5nXG4gICAgKTtcbiAgfVxuXG4gIHNldCB1bnRyYWNrZWRMb2FkaW5nKHZhbHVlOiBib29sZWFuKSB7XG4gICAgaWYgKHZhbHVlICE9PSB0aGlzLiR1bnRyYWNrZWRMb2FkaW5nJCkge1xuICAgICAgdGhpcy4kdW50cmFja2VkTG9hZGluZyQgPSB2YWx1ZTtcbiAgICAgIHRoaXMuJGNvbnRhaW5lciQ/LiRzY2hlZHVsZXIkKFxuICAgICAgICBDaG9yZVR5cGUuUkVDT01QVVRFX0FORF9TQ0hFRFVMRV9FRkZFQ1RTLFxuICAgICAgICBudWxsLFxuICAgICAgICB0aGlzLFxuICAgICAgICB0aGlzLiRsb2FkaW5nRWZmZWN0cyRcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IHVudHJhY2tlZExvYWRpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuJHVudHJhY2tlZExvYWRpbmckO1xuICB9XG5cbiAgLyoqIFRoZSBlcnJvciB0aGF0IG9jY3VycmVkIHdoZW4gdGhlIHNpZ25hbCB3YXMgcmVzb2x2ZWQuICovXG4gIGdldCBlcnJvcigpOiBFcnJvciB8IG51bGwge1xuICAgIHJldHVybiBzZXR1cFNpZ25hbFZhbHVlQWNjZXNzKFxuICAgICAgdGhpcyxcbiAgICAgICgpID0+ICh0aGlzLiRlcnJvckVmZmVjdHMkIHx8PSBuZXcgU2V0KCkpLFxuICAgICAgKCkgPT4gdGhpcy51bnRyYWNrZWRFcnJvclxuICAgICk7XG4gIH1cblxuICBzZXQgdW50cmFja2VkRXJyb3IodmFsdWU6IEVycm9yIHwgbnVsbCkge1xuICAgIGlmICh2YWx1ZSAhPT0gdGhpcy4kdW50cmFja2VkRXJyb3IkKSB7XG4gICAgICB0aGlzLiR1bnRyYWNrZWRFcnJvciQgPSB2YWx1ZTtcbiAgICAgIHRoaXMuJGNvbnRhaW5lciQ/LiRzY2hlZHVsZXIkKFxuICAgICAgICBDaG9yZVR5cGUuUkVDT01QVVRFX0FORF9TQ0hFRFVMRV9FRkZFQ1RTLFxuICAgICAgICBudWxsLFxuICAgICAgICB0aGlzLFxuICAgICAgICB0aGlzLiRlcnJvckVmZmVjdHMkXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGdldCB1bnRyYWNrZWRFcnJvcigpIHtcbiAgICByZXR1cm4gdGhpcy4kdW50cmFja2VkRXJyb3IkO1xuICB9XG5cbiAgb3ZlcnJpZGUgaW52YWxpZGF0ZSgpIHtcbiAgICBzdXBlci5pbnZhbGlkYXRlKCk7XG4gICAgdGhpcy4kcHJvbWlzZVZhbHVlJCA9IE5FRURTX0NPTVBVVEFUSU9OO1xuICB9XG5cbiAgYXN5bmMgcmVzb2x2ZSgpOiBQcm9taXNlPFQ+IHtcbiAgICBhd2FpdCByZXRyeU9uUHJvbWlzZSgoKSA9PiB0aGlzLiRjb21wdXRlSWZOZWVkZWQkKCkpO1xuICAgIHJldHVybiB0aGlzLiR1bnRyYWNrZWRWYWx1ZSQ7XG4gIH1cblxuICAkY29tcHV0ZUlmTmVlZGVkJCgpIHtcbiAgICBpZiAoISh0aGlzLiRmbGFncyQgJiBTaWduYWxGbGFncy5JTlZBTElEKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IFtjbGVhbnVwXSA9IGNsZWFudXBGbih0aGlzLCAoZXJyKSA9PiB0aGlzLiRjb250YWluZXIkPy5oYW5kbGVFcnJvcihlcnIsIG51bGwhKSk7XG4gICAgY29uc3QgdW50cmFja2VkVmFsdWUgPVxuICAgICAgdGhpcy4kcHJvbWlzZVZhbHVlJCA9PT0gTkVFRFNfQ09NUFVUQVRJT05cbiAgICAgICAgPyAodGhpcy4kY29tcHV0ZVFybCQuZ2V0Rm4oKSh7XG4gICAgICAgICAgICB0cmFjazogdHJhY2tGbih0aGlzLCB0aGlzLiRjb250YWluZXIkKSxcbiAgICAgICAgICAgIGNsZWFudXAsXG4gICAgICAgICAgfSkgYXMgVClcbiAgICAgICAgOiB0aGlzLiRwcm9taXNlVmFsdWUkO1xuICAgIGlmIChpc1Byb21pc2UodW50cmFja2VkVmFsdWUpKSB7XG4gICAgICB0aGlzLnVudHJhY2tlZExvYWRpbmcgPSB0cnVlO1xuICAgICAgdGhpcy51bnRyYWNrZWRFcnJvciA9IG51bGw7XG4gICAgICB0aHJvdyB1bnRyYWNrZWRWYWx1ZVxuICAgICAgICAudGhlbigocHJvbWlzZVZhbHVlKSA9PiB7XG4gICAgICAgICAgdGhpcy4kcHJvbWlzZVZhbHVlJCA9IHByb21pc2VWYWx1ZTtcbiAgICAgICAgICB0aGlzLnVudHJhY2tlZExvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLnVudHJhY2tlZEVycm9yID0gbnVsbDtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICB0aGlzLiRwcm9taXNlVmFsdWUkID0gZXJyO1xuICAgICAgICAgIHRoaXMudW50cmFja2VkTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMudW50cmFja2VkRXJyb3IgPSBlcnI7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLiRwcm9taXNlVmFsdWUkID0gTkVFRFNfQ09NUFVUQVRJT047XG4gICAgREVCVUcgJiYgbG9nKCdTaWduYWwuJGFzeW5jQ29tcHV0ZSQnLCB1bnRyYWNrZWRWYWx1ZSk7XG5cbiAgICB0aGlzLiRmbGFncyQgJj0gflNpZ25hbEZsYWdzLklOVkFMSUQ7XG5cbiAgICBjb25zdCBkaWRDaGFuZ2UgPSB1bnRyYWNrZWRWYWx1ZSAhPT0gdGhpcy4kdW50cmFja2VkVmFsdWUkO1xuICAgIGlmIChkaWRDaGFuZ2UpIHtcbiAgICAgIHRoaXMuJGZsYWdzJCB8PSBTaWduYWxGbGFncy5SVU5fRUZGRUNUUztcbiAgICAgIHRoaXMuJHVudHJhY2tlZFZhbHVlJCA9IHVudHJhY2tlZFZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gZGlkQ2hhbmdlO1xuICB9XG59XG4iXX0=","import { dollar } from './qrl.public';\n// <docs markdown=\"../../readme.md#implicit$FirstArg\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../../readme.md#implicit$FirstArg instead and run `pnpm docs.sync`)\n/**\n * Create a `____$(...)` convenience method from `___(...)`.\n *\n * It is very common for functions to take a lazy-loadable resource as a first argument. For this\n * reason, the Qwik Optimizer automatically extracts the first argument from any function which ends\n * in `$`.\n *\n * This means that `foo$(arg0)` and `foo($(arg0))` are equivalent with respect to Qwik Optimizer.\n * The former is just a shorthand for the latter.\n *\n * For example, these function calls are equivalent:\n *\n * - `component$(() => {...})` is same as `component($(() => {...}))`\n *\n * ```tsx\n * export function myApi(callback: QRL<() => void>): void {\n *   // ...\n * }\n *\n * export const myApi$ = implicit$FirstArg(myApi);\n * // type of myApi$: (callback: () => void): void\n *\n * // can be used as:\n * myApi$(() => console.log('callback'));\n *\n * // will be transpiled to:\n * // FILE: <current file>\n * myApi(qrl('./chunk-abc.js', 'callback'));\n *\n * // FILE: chunk-abc.js\n * export const callback = () => console.log('callback');\n * ```\n *\n * @param fn - A function that should have its first argument automatically `$`.\n * @public\n */\n// </docs>\nexport const implicit$FirstArg = (fn) => {\n    return function (first, ...rest) {\n        return fn.call(null, dollar(first), ...rest);\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW1wbGljaXRfZG9sbGFyLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC9xcmwvaW1wbGljaXRfZG9sbGFyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQVksTUFBTSxjQUFjLENBQUM7QUFFaEQsc0RBQXNEO0FBQ3RELHlDQUF5QztBQUN6Qyw0RUFBNEU7QUFDNUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBbUNHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFHLENBQy9CLEVBQTJDLEVBQ0wsRUFBRTtJQUN4QyxPQUFPLFVBQVUsS0FBWSxFQUFFLEdBQUcsSUFBVTtRQUMxQyxPQUFPLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDO0lBQy9DLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRvbGxhciwgdHlwZSBRUkwgfSBmcm9tICcuL3FybC5wdWJsaWMnO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uLy4uL3JlYWRtZS5tZCNpbXBsaWNpdCRGaXJzdEFyZ1wiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uLy4uL3JlYWRtZS5tZCNpbXBsaWNpdCRGaXJzdEFyZyBpbnN0ZWFkIGFuZCBydW4gYHBucG0gZG9jcy5zeW5jYClcbi8qKlxuICogQ3JlYXRlIGEgYF9fX18kKC4uLilgIGNvbnZlbmllbmNlIG1ldGhvZCBmcm9tIGBfX18oLi4uKWAuXG4gKlxuICogSXQgaXMgdmVyeSBjb21tb24gZm9yIGZ1bmN0aW9ucyB0byB0YWtlIGEgbGF6eS1sb2FkYWJsZSByZXNvdXJjZSBhcyBhIGZpcnN0IGFyZ3VtZW50LiBGb3IgdGhpc1xuICogcmVhc29uLCB0aGUgUXdpayBPcHRpbWl6ZXIgYXV0b21hdGljYWxseSBleHRyYWN0cyB0aGUgZmlyc3QgYXJndW1lbnQgZnJvbSBhbnkgZnVuY3Rpb24gd2hpY2ggZW5kc1xuICogaW4gYCRgLlxuICpcbiAqIFRoaXMgbWVhbnMgdGhhdCBgZm9vJChhcmcwKWAgYW5kIGBmb28oJChhcmcwKSlgIGFyZSBlcXVpdmFsZW50IHdpdGggcmVzcGVjdCB0byBRd2lrIE9wdGltaXplci5cbiAqIFRoZSBmb3JtZXIgaXMganVzdCBhIHNob3J0aGFuZCBmb3IgdGhlIGxhdHRlci5cbiAqXG4gKiBGb3IgZXhhbXBsZSwgdGhlc2UgZnVuY3Rpb24gY2FsbHMgYXJlIGVxdWl2YWxlbnQ6XG4gKlxuICogLSBgY29tcG9uZW50JCgoKSA9PiB7Li4ufSlgIGlzIHNhbWUgYXMgYGNvbXBvbmVudCgkKCgpID0+IHsuLi59KSlgXG4gKlxuICogYGBgdHN4XG4gKiBleHBvcnQgZnVuY3Rpb24gbXlBcGkoY2FsbGJhY2s6IFFSTDwoKSA9PiB2b2lkPik6IHZvaWQge1xuICogICAvLyAuLi5cbiAqIH1cbiAqXG4gKiBleHBvcnQgY29uc3QgbXlBcGkkID0gaW1wbGljaXQkRmlyc3RBcmcobXlBcGkpO1xuICogLy8gdHlwZSBvZiBteUFwaSQ6IChjYWxsYmFjazogKCkgPT4gdm9pZCk6IHZvaWRcbiAqXG4gKiAvLyBjYW4gYmUgdXNlZCBhczpcbiAqIG15QXBpJCgoKSA9PiBjb25zb2xlLmxvZygnY2FsbGJhY2snKSk7XG4gKlxuICogLy8gd2lsbCBiZSB0cmFuc3BpbGVkIHRvOlxuICogLy8gRklMRTogPGN1cnJlbnQgZmlsZT5cbiAqIG15QXBpKHFybCgnLi9jaHVuay1hYmMuanMnLCAnY2FsbGJhY2snKSk7XG4gKlxuICogLy8gRklMRTogY2h1bmstYWJjLmpzXG4gKiBleHBvcnQgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiBjb25zb2xlLmxvZygnY2FsbGJhY2snKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBmbiAtIEEgZnVuY3Rpb24gdGhhdCBzaG91bGQgaGF2ZSBpdHMgZmlyc3QgYXJndW1lbnQgYXV0b21hdGljYWxseSBgJGAuXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBpbXBsaWNpdCRGaXJzdEFyZyA9IDxGSVJTVCwgUkVTVCBleHRlbmRzIGFueVtdLCBSRVQ+KFxuICBmbjogKHFybDogUVJMPEZJUlNUPiwgLi4ucmVzdDogUkVTVCkgPT4gUkVUXG4pOiAoKHFybDogRklSU1QsIC4uLnJlc3Q6IFJFU1QpID0+IFJFVCkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gKGZpcnN0OiBGSVJTVCwgLi4ucmVzdDogUkVTVCk6IFJFVCB7XG4gICAgcmV0dXJuIGZuLmNhbGwobnVsbCwgZG9sbGFyKGZpcnN0KSwgLi4ucmVzdCk7XG4gIH07XG59O1xuIl19","import { qwikDebugToString } from '../../debug';\nimport { trackSignal } from '../../use/use-core';\nimport { throwIfQRLNotResolved } from '../utils';\nimport { NEEDS_COMPUTATION, } from '../types';\nimport { ComputedSignalImpl } from './computed-signal-impl';\nconst DEBUG = false;\n// eslint-disable-next-line no-console\nconst log = (...args) => console.log('SERIALIZER SIGNAL', ...args.map(qwikDebugToString));\n/**\n * A signal which provides a non-serializable value. It works like a computed signal, but it is\n * handled slightly differently during serdes.\n *\n * @public\n */\nexport class SerializerSignalImpl extends ComputedSignalImpl {\n    constructor(container, argQrl) {\n        super(container, argQrl, 1 /* SignalFlags.INVALID */ | 32 /* SerializationSignalFlags.SERIALIZATION_STRATEGY_ALWAYS */);\n    }\n    $didInitialize$ = false;\n    $computeIfNeeded$() {\n        if (!(this.$flags$ & 1 /* SignalFlags.INVALID */)) {\n            return;\n        }\n        throwIfQRLNotResolved(this.$computeQrl$);\n        let arg = this.$computeQrl$.resolved;\n        if (typeof arg === 'function') {\n            arg = arg();\n        }\n        const { deserialize, initial } = arg;\n        const update = arg.update;\n        const currentValue = this.$untrackedValue$ === NEEDS_COMPUTATION ? initial : this.$untrackedValue$;\n        const untrackedValue = trackSignal(() => this.$didInitialize$\n            ? update?.(currentValue) || currentValue\n            : deserialize(currentValue), this, \".\" /* EffectProperty.VNODE */, this.$container$);\n        DEBUG && log('SerializerSignal.$compute$', untrackedValue);\n        const didChange = (this.$didInitialize$ && untrackedValue !== 'undefined') ||\n            untrackedValue !== this.$untrackedValue$;\n        this.$flags$ &= ~1 /* SignalFlags.INVALID */;\n        this.$didInitialize$ = true;\n        if (didChange) {\n            this.$flags$ |= 2 /* SignalFlags.RUN_EFFECTS */;\n            this.$untrackedValue$ = untrackedValue;\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyaWFsaXplci1zaWduYWwtaW1wbC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZWFjdGl2ZS1wcmltaXRpdmVzL2ltcGwvc2VyaWFsaXplci1zaWduYWwtaW1wbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFHaEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUVqRCxPQUFPLEVBR0wsaUJBQWlCLEdBR2xCLE1BQU0sVUFBVSxDQUFDO0FBQ2xCLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBRTVELE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQztBQUNwQixzQ0FBc0M7QUFDdEMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxHQUFHLElBQVcsRUFBRSxFQUFFLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO0FBRWpHOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLG9CQUEyQixTQUFRLGtCQUFxQjtJQUNuRSxZQUFZLFNBQTJCLEVBQUUsTUFBd0M7UUFDL0UsS0FBSyxDQUNILFNBQVMsRUFDVCxNQUFrQyxFQUNsQyw2RkFBNEUsQ0FDN0UsQ0FBQztJQUNKLENBQUM7SUFDRCxlQUFlLEdBQVksS0FBSyxDQUFDO0lBRWpDLGlCQUFpQjtRQUNmLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLDhCQUFzQixDQUFDLEVBQUUsQ0FBQztZQUMxQyxPQUFPO1FBQ1QsQ0FBQztRQUNELHFCQUFxQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUN6QyxJQUFJLEdBQUcsR0FBSSxJQUFJLENBQUMsWUFBd0QsQ0FBQyxRQUFTLENBQUM7UUFDbkYsSUFBSSxPQUFPLEdBQUcsS0FBSyxVQUFVLEVBQUUsQ0FBQztZQUM5QixHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUM7UUFDZCxDQUFDO1FBQ0QsTUFBTSxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsR0FBRyxHQUFHLENBQUM7UUFDckMsTUFBTSxNQUFNLEdBQUksR0FBVyxDQUFDLE1BQXlDLENBQUM7UUFDdEUsTUFBTSxZQUFZLEdBQ2hCLElBQUksQ0FBQyxnQkFBZ0IsS0FBSyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7UUFDaEYsTUFBTSxjQUFjLEdBQUcsV0FBVyxDQUNoQyxHQUFHLEVBQUUsQ0FDSCxJQUFJLENBQUMsZUFBZTtZQUNsQixDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsWUFBaUIsQ0FBQyxJQUFJLFlBQVk7WUFDN0MsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxZQUEwQixDQUFDLEVBQzdDLElBQUksa0NBRUosSUFBSSxDQUFDLFdBQVksQ0FDbEIsQ0FBQztRQUNGLEtBQUssSUFBSSxHQUFHLENBQUMsNEJBQTRCLEVBQUUsY0FBYyxDQUFDLENBQUM7UUFDM0QsTUFBTSxTQUFTLEdBQ2IsQ0FBQyxJQUFJLENBQUMsZUFBZSxJQUFJLGNBQWMsS0FBSyxXQUFXLENBQUM7WUFDeEQsY0FBYyxLQUFLLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztRQUMzQyxJQUFJLENBQUMsT0FBTyxJQUFJLDRCQUFvQixDQUFDO1FBQ3JDLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDO1FBQzVCLElBQUksU0FBUyxFQUFFLENBQUM7WUFDZCxJQUFJLENBQUMsT0FBTyxtQ0FBMkIsQ0FBQztZQUN4QyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsY0FBbUIsQ0FBQztRQUM5QyxDQUFDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcXdpa0RlYnVnVG9TdHJpbmcgfSBmcm9tICcuLi8uLi9kZWJ1Zyc7XG5pbXBvcnQgdHlwZSB7IFFSTEludGVybmFsIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3FybC9xcmwtY2xhc3MnO1xuaW1wb3J0IHR5cGUgeyBDb250YWluZXIgfSBmcm9tICcuLi8uLi9zaGFyZWQvdHlwZXMnO1xuaW1wb3J0IHsgdHJhY2tTaWduYWwgfSBmcm9tICcuLi8uLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgdGhyb3dJZlFSTE5vdFJlc29sdmVkIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHR5cGUgeyBTZXJpYWxpemVyQXJnIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgU2VyaWFsaXphdGlvblNpZ25hbEZsYWdzLFxuICBFZmZlY3RQcm9wZXJ0eSxcbiAgTkVFRFNfQ09NUFVUQVRJT04sXG4gIFNpZ25hbEZsYWdzLFxuICB0eXBlIENvbXB1dGVRUkwsXG59IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IENvbXB1dGVkU2lnbmFsSW1wbCB9IGZyb20gJy4vY29tcHV0ZWQtc2lnbmFsLWltcGwnO1xuXG5jb25zdCBERUJVRyA9IGZhbHNlO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbmNvbnN0IGxvZyA9ICguLi5hcmdzOiBhbnlbXSkgPT4gY29uc29sZS5sb2coJ1NFUklBTElaRVIgU0lHTkFMJywgLi4uYXJncy5tYXAocXdpa0RlYnVnVG9TdHJpbmcpKTtcblxuLyoqXG4gKiBBIHNpZ25hbCB3aGljaCBwcm92aWRlcyBhIG5vbi1zZXJpYWxpemFibGUgdmFsdWUuIEl0IHdvcmtzIGxpa2UgYSBjb21wdXRlZCBzaWduYWwsIGJ1dCBpdCBpc1xuICogaGFuZGxlZCBzbGlnaHRseSBkaWZmZXJlbnRseSBkdXJpbmcgc2VyZGVzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFNlcmlhbGl6ZXJTaWduYWxJbXBsPFQsIFM+IGV4dGVuZHMgQ29tcHV0ZWRTaWduYWxJbXBsPFQ+IHtcbiAgY29uc3RydWN0b3IoY29udGFpbmVyOiBDb250YWluZXIgfCBudWxsLCBhcmdRcmw6IFFSTEludGVybmFsPFNlcmlhbGl6ZXJBcmc8VCwgUz4+KSB7XG4gICAgc3VwZXIoXG4gICAgICBjb250YWluZXIsXG4gICAgICBhcmdRcmwgYXMgdW5rbm93biBhcyBDb21wdXRlUVJMPFQ+LFxuICAgICAgU2lnbmFsRmxhZ3MuSU5WQUxJRCB8IFNlcmlhbGl6YXRpb25TaWduYWxGbGFncy5TRVJJQUxJWkFUSU9OX1NUUkFURUdZX0FMV0FZU1xuICAgICk7XG4gIH1cbiAgJGRpZEluaXRpYWxpemUkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgJGNvbXB1dGVJZk5lZWRlZCQoKSB7XG4gICAgaWYgKCEodGhpcy4kZmxhZ3MkICYgU2lnbmFsRmxhZ3MuSU5WQUxJRCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhyb3dJZlFSTE5vdFJlc29sdmVkKHRoaXMuJGNvbXB1dGVRcmwkKTtcbiAgICBsZXQgYXJnID0gKHRoaXMuJGNvbXB1dGVRcmwkIGFzIGFueSBhcyBRUkxJbnRlcm5hbDxTZXJpYWxpemVyQXJnPFQsIFM+PikucmVzb2x2ZWQhO1xuICAgIGlmICh0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhcmcgPSBhcmcoKTtcbiAgICB9XG4gICAgY29uc3QgeyBkZXNlcmlhbGl6ZSwgaW5pdGlhbCB9ID0gYXJnO1xuICAgIGNvbnN0IHVwZGF0ZSA9IChhcmcgYXMgYW55KS51cGRhdGUgYXMgKChjdXJyZW50OiBUKSA9PiBUKSB8IHVuZGVmaW5lZDtcbiAgICBjb25zdCBjdXJyZW50VmFsdWUgPVxuICAgICAgdGhpcy4kdW50cmFja2VkVmFsdWUkID09PSBORUVEU19DT01QVVRBVElPTiA/IGluaXRpYWwgOiB0aGlzLiR1bnRyYWNrZWRWYWx1ZSQ7XG4gICAgY29uc3QgdW50cmFja2VkVmFsdWUgPSB0cmFja1NpZ25hbChcbiAgICAgICgpID0+XG4gICAgICAgIHRoaXMuJGRpZEluaXRpYWxpemUkXG4gICAgICAgICAgPyB1cGRhdGU/LihjdXJyZW50VmFsdWUgYXMgVCkgfHwgY3VycmVudFZhbHVlXG4gICAgICAgICAgOiBkZXNlcmlhbGl6ZShjdXJyZW50VmFsdWUgYXMgQXdhaXRlZDxTPiksXG4gICAgICB0aGlzLFxuICAgICAgRWZmZWN0UHJvcGVydHkuVk5PREUsXG4gICAgICB0aGlzLiRjb250YWluZXIkIVxuICAgICk7XG4gICAgREVCVUcgJiYgbG9nKCdTZXJpYWxpemVyU2lnbmFsLiRjb21wdXRlJCcsIHVudHJhY2tlZFZhbHVlKTtcbiAgICBjb25zdCBkaWRDaGFuZ2UgPVxuICAgICAgKHRoaXMuJGRpZEluaXRpYWxpemUkICYmIHVudHJhY2tlZFZhbHVlICE9PSAndW5kZWZpbmVkJykgfHxcbiAgICAgIHVudHJhY2tlZFZhbHVlICE9PSB0aGlzLiR1bnRyYWNrZWRWYWx1ZSQ7XG4gICAgdGhpcy4kZmxhZ3MkICY9IH5TaWduYWxGbGFncy5JTlZBTElEO1xuICAgIHRoaXMuJGRpZEluaXRpYWxpemUkID0gdHJ1ZTtcbiAgICBpZiAoZGlkQ2hhbmdlKSB7XG4gICAgICB0aGlzLiRmbGFncyQgfD0gU2lnbmFsRmxhZ3MuUlVOX0VGRkVDVFM7XG4gICAgICB0aGlzLiR1bnRyYWNrZWRWYWx1ZSQgPSB1bnRyYWNrZWRWYWx1ZSBhcyBUO1xuICAgIH1cbiAgfVxufVxuIl19","import { SignalImpl } from './impl/signal-impl';\nimport { ComputedSignalImpl } from './impl/computed-signal-impl';\nimport { SerializerSignalImpl } from './impl/serializer-signal-impl';\nimport { AsyncComputedSignalImpl } from './impl/async-computed-signal-impl';\nimport { getComputedSignalFlags } from './utils';\n/** @internal */\nexport const createSignal = (value) => {\n    return new SignalImpl(null, value);\n};\n/** @internal */\nexport const createComputedSignal = (qrl, options) => {\n    return new ComputedSignalImpl(options?.container || null, qrl, getComputedSignalFlags(options?.serializationStrategy || 'always'));\n};\n/** @internal */\nexport const createAsyncComputedSignal = (qrl, options) => {\n    return new AsyncComputedSignalImpl(options?.container || null, qrl, getComputedSignalFlags(options?.serializationStrategy || 'never'));\n};\n/** @internal */\nexport const createSerializerSignal = (arg) => {\n    return new SerializerSignalImpl(null, arg);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2lnbmFsLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZWFjdGl2ZS1wcmltaXRpdmVzL3NpZ25hbC1hcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBU2pFLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBQ3JFLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBQzVFLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUVqRCxnQkFBZ0I7QUFDaEIsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLENBQUksS0FBUyxFQUFhLEVBQUU7SUFDdEQsT0FBTyxJQUFJLFVBQVUsQ0FBQyxJQUFJLEVBQUUsS0FBVSxDQUFjLENBQUM7QUFDdkQsQ0FBQyxDQUFDO0FBRUYsZ0JBQWdCO0FBQ2hCLE1BQU0sQ0FBQyxNQUFNLG9CQUFvQixHQUFHLENBQ2xDLEdBQWlCLEVBQ2pCLE9BQXlCLEVBQ0YsRUFBRTtJQUN6QixPQUFPLElBQUksa0JBQWtCLENBQzNCLE9BQU8sRUFBRSxTQUFTLElBQUksSUFBSSxFQUMxQixHQUFvQixFQUNwQixzQkFBc0IsQ0FBQyxPQUFPLEVBQUUscUJBQXFCLElBQUksUUFBUSxDQUFDLENBQ25FLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixnQkFBZ0I7QUFDaEIsTUFBTSxDQUFDLE1BQU0seUJBQXlCLEdBQUcsQ0FDdkMsR0FBK0MsRUFDL0MsT0FBeUIsRUFDRyxFQUFFO0lBQzlCLE9BQU8sSUFBSSx1QkFBdUIsQ0FDaEMsT0FBTyxFQUFFLFNBQVMsSUFBSSxJQUFJLEVBQzFCLEdBQXlCLEVBQ3pCLHNCQUFzQixDQUFDLE9BQU8sRUFBRSxxQkFBcUIsSUFBSSxPQUFPLENBQUMsQ0FDbEUsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGLGdCQUFnQjtBQUNoQixNQUFNLENBQUMsTUFBTSxzQkFBc0IsR0FBRyxDQUNwQyxHQUlFLEVBQ0YsRUFBRTtJQUNGLE9BQU8sSUFBSSxvQkFBb0IsQ0FBTyxJQUFJLEVBQUUsR0FBOEMsQ0FBQyxDQUFDO0FBQzlGLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgUVJMSW50ZXJuYWwgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC1jbGFzcyc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsLnB1YmxpYyc7XG5pbXBvcnQgeyBTaWduYWxJbXBsIH0gZnJvbSAnLi9pbXBsL3NpZ25hbC1pbXBsJztcbmltcG9ydCB7IENvbXB1dGVkU2lnbmFsSW1wbCB9IGZyb20gJy4vaW1wbC9jb21wdXRlZC1zaWduYWwtaW1wbCc7XG5pbXBvcnQgdHlwZSB7IFNpZ25hbCB9IGZyb20gJy4vc2lnbmFsLnB1YmxpYyc7XG5pbXBvcnQge1xuICB0eXBlIEFzeW5jQ29tcHV0ZWRDdHgsXG4gIHR5cGUgQXN5bmNDb21wdXRlUVJMLFxuICB0eXBlIENvbXB1dGVkT3B0aW9ucyxcbiAgdHlwZSBDb21wdXRlUVJMLFxuICB0eXBlIFNlcmlhbGl6ZXJBcmcsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgU2VyaWFsaXplclNpZ25hbEltcGwgfSBmcm9tICcuL2ltcGwvc2VyaWFsaXplci1zaWduYWwtaW1wbCc7XG5pbXBvcnQgeyBBc3luY0NvbXB1dGVkU2lnbmFsSW1wbCB9IGZyb20gJy4vaW1wbC9hc3luYy1jb21wdXRlZC1zaWduYWwtaW1wbCc7XG5pbXBvcnQgeyBnZXRDb21wdXRlZFNpZ25hbEZsYWdzIH0gZnJvbSAnLi91dGlscyc7XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVTaWduYWwgPSA8VD4odmFsdWU/OiBUKTogU2lnbmFsPFQ+ID0+IHtcbiAgcmV0dXJuIG5ldyBTaWduYWxJbXBsKG51bGwsIHZhbHVlIGFzIFQpIGFzIFNpZ25hbDxUPjtcbn07XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVDb21wdXRlZFNpZ25hbCA9IDxUPihcbiAgcXJsOiBRUkw8KCkgPT4gVD4sXG4gIG9wdGlvbnM/OiBDb21wdXRlZE9wdGlvbnNcbik6IENvbXB1dGVkU2lnbmFsSW1wbDxUPiA9PiB7XG4gIHJldHVybiBuZXcgQ29tcHV0ZWRTaWduYWxJbXBsPFQ+KFxuICAgIG9wdGlvbnM/LmNvbnRhaW5lciB8fCBudWxsLFxuICAgIHFybCBhcyBDb21wdXRlUVJMPFQ+LFxuICAgIGdldENvbXB1dGVkU2lnbmFsRmxhZ3Mob3B0aW9ucz8uc2VyaWFsaXphdGlvblN0cmF0ZWd5IHx8ICdhbHdheXMnKVxuICApO1xufTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUFzeW5jQ29tcHV0ZWRTaWduYWwgPSA8VD4oXG4gIHFybDogUVJMPChjdHg6IEFzeW5jQ29tcHV0ZWRDdHgpID0+IFByb21pc2U8VD4+LFxuICBvcHRpb25zPzogQ29tcHV0ZWRPcHRpb25zXG4pOiBBc3luY0NvbXB1dGVkU2lnbmFsSW1wbDxUPiA9PiB7XG4gIHJldHVybiBuZXcgQXN5bmNDb21wdXRlZFNpZ25hbEltcGw8VD4oXG4gICAgb3B0aW9ucz8uY29udGFpbmVyIHx8IG51bGwsXG4gICAgcXJsIGFzIEFzeW5jQ29tcHV0ZVFSTDxUPixcbiAgICBnZXRDb21wdXRlZFNpZ25hbEZsYWdzKG9wdGlvbnM/LnNlcmlhbGl6YXRpb25TdHJhdGVneSB8fCAnbmV2ZXInKVxuICApO1xufTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVNlcmlhbGl6ZXJTaWduYWwgPSA8VCwgUz4oXG4gIGFyZzogUVJMPHtcbiAgICBzZXJpYWxpemU6IChkYXRhOiBTIHwgdW5kZWZpbmVkKSA9PiBUO1xuICAgIGRlc2VyaWFsaXplOiAoZGF0YTogVCkgPT4gUztcbiAgICBpbml0aWFsPzogUztcbiAgfT5cbikgPT4ge1xuICByZXR1cm4gbmV3IFNlcmlhbGl6ZXJTaWduYWxJbXBsPFQsIFM+KG51bGwsIGFyZyBhcyBhbnkgYXMgUVJMSW50ZXJuYWw8U2VyaWFsaXplckFyZzxULCBTPj4pO1xufTtcbiJdfQ==","import { implicit$FirstArg } from '../shared/qrl/implicit_dollar';\nimport { createSignal as _createSignal, createComputedSignal as createComputedQrl, createSerializerSignal as createSerializerQrl, createAsyncComputedSignal as createAsyncComputedQrl, } from './signal-api';\nexport { isSignal } from './utils';\n/**\n * Creates a Signal with the given value. If no value is given, the signal is created with\n * `undefined`.\n *\n * @public\n */\nexport const createSignal = _createSignal;\n/**\n * Create a computed signal which is calculated from the given QRL. A computed signal is a signal\n * which is calculated from other signals. When the signals change, the computed signal is\n * recalculated.\n *\n * The QRL must be a function which returns the value of the signal. The function must not have side\n * effects, and it must be synchronous.\n *\n * If you need the function to be async, use `useAsyncComputed$` instead.\n *\n * @public\n */\nexport const createComputed$ = /*#__PURE__*/ implicit$FirstArg(createComputedQrl);\nexport { createComputedQrl };\n/**\n * Create an async computed signal which is calculated from the given QRL. A computed signal is a\n * signal which is calculated from other signals or async operation. When the signals change, the\n * computed signal is recalculated.\n *\n * The QRL must be a function which returns the value of the signal. The function must not have side\n * effects, and it can be async.\n *\n * @public\n */\nexport const createAsyncComputed$ = /*#__PURE__*/ implicit$FirstArg(createAsyncComputedQrl);\nexport { createAsyncComputedQrl };\n/**\n * Create a signal that holds a custom serializable value. See {@link useSerializer$} for more\n * details.\n *\n * @public\n */\nexport const createSerializer$ = implicit$FirstArg(createSerializerQrl);\nexport { createSerializerQrl };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2lnbmFsLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZWFjdGl2ZS1wcmltaXRpdmVzL3NpZ25hbC5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFFbEUsT0FBTyxFQUNMLFlBQVksSUFBSSxhQUFhLEVBQzdCLG9CQUFvQixJQUFJLGlCQUFpQixFQUN6QyxzQkFBc0IsSUFBSSxtQkFBbUIsRUFDN0MseUJBQXlCLElBQUksc0JBQXNCLEdBQ3BELE1BQU0sY0FBYyxDQUFDO0FBR3RCLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxTQUFTLENBQUM7QUErRG5DOzs7OztHQUtHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUdyQixhQUFhLENBQUM7QUFFbEI7Ozs7Ozs7Ozs7O0dBV0c7QUFDSCxNQUFNLENBQUMsTUFBTSxlQUFlLEdBR0MsYUFBYSxDQUFDLGlCQUFpQixDQUFDLGlCQUF3QixDQUFDLENBQUM7QUFDdkYsT0FBTyxFQUFFLGlCQUFpQixFQUFFLENBQUM7QUFFN0I7Ozs7Ozs7OztHQVNHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBR0MsYUFBYSxDQUFDLGlCQUFpQixDQUFDLHNCQUE2QixDQUFDLENBQUM7QUFDakcsT0FBTyxFQUFFLHNCQUFzQixFQUFFLENBQUM7QUFFbEM7Ozs7O0dBS0c7QUFDSCxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FFOEIsaUJBQWlCLENBQzNFLG1CQUEwQixDQUMzQixDQUFDO0FBQ0YsT0FBTyxFQUFFLG1CQUFtQixFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbXBsaWNpdCRGaXJzdEFyZyB9IGZyb20gJy4uL3NoYXJlZC9xcmwvaW1wbGljaXRfZG9sbGFyJztcbmltcG9ydCB0eXBlIHsgQ29tcHV0ZWRPcHRpb25zLCBTZXJpYWxpemVyQXJnIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQge1xuICBjcmVhdGVTaWduYWwgYXMgX2NyZWF0ZVNpZ25hbCxcbiAgY3JlYXRlQ29tcHV0ZWRTaWduYWwgYXMgY3JlYXRlQ29tcHV0ZWRRcmwsXG4gIGNyZWF0ZVNlcmlhbGl6ZXJTaWduYWwgYXMgY3JlYXRlU2VyaWFsaXplclFybCxcbiAgY3JlYXRlQXN5bmNDb21wdXRlZFNpZ25hbCBhcyBjcmVhdGVBc3luY0NvbXB1dGVkUXJsLFxufSBmcm9tICcuL3NpZ25hbC1hcGknO1xuaW1wb3J0IHR5cGUgeyBDb21wdXRlZFJldHVyblR5cGUgfSBmcm9tICcuLi91c2UvdXNlLWNvbXB1dGVkJztcbmltcG9ydCB0eXBlIHsgQXN5bmNDb21wdXRlZFJldHVyblR5cGUgfSBmcm9tICcuLi91c2UvdXNlLWFzeW5jLWNvbXB1dGVkJztcbmV4cG9ydCB7IGlzU2lnbmFsIH0gZnJvbSAnLi91dGlscyc7XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgaW50ZXJmYWNlIFJlYWRvbmx5U2lnbmFsPFQgPSB1bmtub3duPiB7XG4gIHJlYWRvbmx5IHZhbHVlOiBUO1xufVxuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGludGVyZmFjZSBBc3luY0NvbXB1dGVkUmVhZG9ubHlTaWduYWw8VCA9IHVua25vd24+IGV4dGVuZHMgQ29tcHV0ZWRTaWduYWw8VD4ge1xuICAvKiogV2hldGhlciB0aGUgc2lnbmFsIGlzIGN1cnJlbnRseSBsb2FkaW5nLiAqL1xuICBsb2FkaW5nOiBib29sZWFuO1xuICAvKiogVGhlIGVycm9yIHRoYXQgb2NjdXJyZWQgd2hpbGUgY29tcHV0aW5nIHRoZSBzaWduYWwuICovXG4gIGVycm9yOiBFcnJvciB8IG51bGw7XG4gIHJlc29sdmUoKTogUHJvbWlzZTxUPjtcbn1cblxuLyoqXG4gKiBBIHNpZ25hbCBpcyBhIHJlYWN0aXZlIHZhbHVlIHdoaWNoIGNhbiBiZSByZWFkIGFuZCB3cml0dGVuLiBXaGVuIHRoZSBzaWduYWwgaXMgd3JpdHRlbiwgYWxsIHRhc2tzXG4gKiB3aGljaCBhcmUgdHJhY2tpbmcgdGhlIHNpZ25hbCB3aWxsIGJlIHJlLXJ1biBhbmQgYWxsIGNvbXBvbmVudHMgdGhhdCByZWFkIHRoZSBzaWduYWwgd2lsbCBiZVxuICogcmUtcmVuZGVyZWQuXG4gKlxuICogRnVydGhlcm1vcmUsIHdoZW4gYSBzaWduYWwgdmFsdWUgaXMgcGFzc2VkIGFzIGEgcHJvcCB0byBhIGNvbXBvbmVudCwgdGhlIG9wdGltaXplciB3aWxsXG4gKiBhdXRvbWF0aWNhbGx5IGZvcndhcmQgdGhlIHNpZ25hbC4gVGhpcyBtZWFucyB0aGF0IGByZXR1cm4gPGRpdiB0aXRsZT17c2lnbmFsLnZhbHVlfT5oaTwvZGl2PmBcbiAqIHdpbGwgdXBkYXRlIHRoZSBgdGl0bGVgIGF0dHJpYnV0ZSB3aGVuIHRoZSBzaWduYWwgY2hhbmdlcyB3aXRob3V0IGhhdmluZyB0byByZS1yZW5kZXIgdGhlXG4gKiBjb21wb25lbnQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFNpZ25hbDxUID0gYW55PiBleHRlbmRzIFJlYWRvbmx5U2lnbmFsPFQ+IHtcbiAgdmFsdWU6IFQ7XG59XG5cbi8qKlxuICogQSBjb21wdXRlZCBzaWduYWwgaXMgYSBzaWduYWwgd2hpY2ggaXMgY2FsY3VsYXRlZCBmcm9tIG90aGVyIHNpZ25hbHMuIFdoZW4gdGhlIHNpZ25hbHMgY2hhbmdlLFxuICogdGhlIGNvbXB1dGVkIHNpZ25hbCBpcyByZWNhbGN1bGF0ZWQsIGFuZCBpZiB0aGUgcmVzdWx0IGNoYW5nZWQsIGFsbCB0YXNrcyB3aGljaCBhcmUgdHJhY2tpbmcgdGhlXG4gKiBzaWduYWwgd2lsbCBiZSByZS1ydW4gYW5kIGFsbCBjb21wb25lbnRzIHRoYXQgcmVhZCB0aGUgc2lnbmFsIHdpbGwgYmUgcmUtcmVuZGVyZWQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbXB1dGVkU2lnbmFsPFQ+IGV4dGVuZHMgUmVhZG9ubHlTaWduYWw8VD4ge1xuICAvKipcbiAgICogVXNlIHRoaXMgdG8gZm9yY2UgcnVubmluZyBzdWJzY3JpYmVycywgZm9yIGV4YW1wbGUgd2hlbiB0aGUgY2FsY3VsYXRlZCB2YWx1ZSBtdXRhdGVzIGJ1dFxuICAgKiByZW1haW5zIHRoZSBzYW1lIG9iamVjdC5cbiAgICovXG4gIGZvcmNlKCk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIFVzZSB0aGlzIHRvIGZvcmNlIHJlY2FsY3VsYXRpb24gYW5kIHJ1bm5pbmcgc3Vic2NyaWJlcnMsIGZvciBleGFtcGxlIHdoZW4gdGhlIGNhbGN1bGF0ZWQgdmFsdWVcbiAgICogbXV0YXRlcyBidXQgcmVtYWlucyB0aGUgc2FtZSBvYmplY3QuXG4gICAqL1xuICBpbnZhbGlkYXRlKCk6IHZvaWQ7XG59XG5cbi8qKlxuICogQSBzZXJpYWxpemVyIHNpZ25hbCBob2xkcyBhIGN1c3RvbSBzZXJpYWxpemFibGUgdmFsdWUuIFNlZSBgdXNlU2VyaWFsaXplciRgIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlcmlhbGl6ZXJTaWduYWw8VD4gZXh0ZW5kcyBDb21wdXRlZFNpZ25hbDxUPiB7XG4gIC8qKiBGYWtlIHByb3BlcnR5IHRvIG1ha2UgdGhlIHNlcmlhbGl6YXRpb24gbGludGVyIGhhcHB5ICovXG4gIF9fbm9fc2VyaWFsaXplX186IHRydWU7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIFNpZ25hbCB3aXRoIHRoZSBnaXZlbiB2YWx1ZS4gSWYgbm8gdmFsdWUgaXMgZ2l2ZW4sIHRoZSBzaWduYWwgaXMgY3JlYXRlZCB3aXRoXG4gKiBgdW5kZWZpbmVkYC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVTaWduYWw6IHtcbiAgPFQ+KCk6IFNpZ25hbDxUIHwgdW5kZWZpbmVkPjtcbiAgPFQ+KHZhbHVlOiBUKTogU2lnbmFsPFQ+O1xufSA9IF9jcmVhdGVTaWduYWw7XG5cbi8qKlxuICogQ3JlYXRlIGEgY29tcHV0ZWQgc2lnbmFsIHdoaWNoIGlzIGNhbGN1bGF0ZWQgZnJvbSB0aGUgZ2l2ZW4gUVJMLiBBIGNvbXB1dGVkIHNpZ25hbCBpcyBhIHNpZ25hbFxuICogd2hpY2ggaXMgY2FsY3VsYXRlZCBmcm9tIG90aGVyIHNpZ25hbHMuIFdoZW4gdGhlIHNpZ25hbHMgY2hhbmdlLCB0aGUgY29tcHV0ZWQgc2lnbmFsIGlzXG4gKiByZWNhbGN1bGF0ZWQuXG4gKlxuICogVGhlIFFSTCBtdXN0IGJlIGEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIHNpZ25hbC4gVGhlIGZ1bmN0aW9uIG11c3Qgbm90IGhhdmUgc2lkZVxuICogZWZmZWN0cywgYW5kIGl0IG11c3QgYmUgc3luY2hyb25vdXMuXG4gKlxuICogSWYgeW91IG5lZWQgdGhlIGZ1bmN0aW9uIHRvIGJlIGFzeW5jLCB1c2UgYHVzZUFzeW5jQ29tcHV0ZWQkYCBpbnN0ZWFkLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbXB1dGVkJDogPFQ+KFxuICBxcmw6ICgpID0+IFQsXG4gIG9wdGlvbnM/OiBDb21wdXRlZE9wdGlvbnNcbikgPT4gQ29tcHV0ZWRSZXR1cm5UeXBlPFQ+ID0gLyojX19QVVJFX18qLyBpbXBsaWNpdCRGaXJzdEFyZyhjcmVhdGVDb21wdXRlZFFybCBhcyBhbnkpO1xuZXhwb3J0IHsgY3JlYXRlQ29tcHV0ZWRRcmwgfTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gYXN5bmMgY29tcHV0ZWQgc2lnbmFsIHdoaWNoIGlzIGNhbGN1bGF0ZWQgZnJvbSB0aGUgZ2l2ZW4gUVJMLiBBIGNvbXB1dGVkIHNpZ25hbCBpcyBhXG4gKiBzaWduYWwgd2hpY2ggaXMgY2FsY3VsYXRlZCBmcm9tIG90aGVyIHNpZ25hbHMgb3IgYXN5bmMgb3BlcmF0aW9uLiBXaGVuIHRoZSBzaWduYWxzIGNoYW5nZSwgdGhlXG4gKiBjb21wdXRlZCBzaWduYWwgaXMgcmVjYWxjdWxhdGVkLlxuICpcbiAqIFRoZSBRUkwgbXVzdCBiZSBhIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBzaWduYWwuIFRoZSBmdW5jdGlvbiBtdXN0IG5vdCBoYXZlIHNpZGVcbiAqIGVmZmVjdHMsIGFuZCBpdCBjYW4gYmUgYXN5bmMuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgY3JlYXRlQXN5bmNDb21wdXRlZCQ6IDxUPihcbiAgcXJsOiAoKSA9PiBQcm9taXNlPFQ+LFxuICBvcHRpb25zPzogQ29tcHV0ZWRPcHRpb25zXG4pID0+IEFzeW5jQ29tcHV0ZWRSZXR1cm5UeXBlPFQ+ID0gLyojX19QVVJFX18qLyBpbXBsaWNpdCRGaXJzdEFyZyhjcmVhdGVBc3luY0NvbXB1dGVkUXJsIGFzIGFueSk7XG5leHBvcnQgeyBjcmVhdGVBc3luY0NvbXB1dGVkUXJsIH07XG5cbi8qKlxuICogQ3JlYXRlIGEgc2lnbmFsIHRoYXQgaG9sZHMgYSBjdXN0b20gc2VyaWFsaXphYmxlIHZhbHVlLiBTZWUge0BsaW5rIHVzZVNlcmlhbGl6ZXIkfSBmb3IgbW9yZVxuICogZGV0YWlscy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVTZXJpYWxpemVyJDogPFQsIFM+KFxuICBhcmc6IFNlcmlhbGl6ZXJBcmc8VCwgUz5cbikgPT4gVCBleHRlbmRzIFByb21pc2U8YW55PiA/IG5ldmVyIDogU2VyaWFsaXplclNpZ25hbDxUPiA9IGltcGxpY2l0JEZpcnN0QXJnKFxuICBjcmVhdGVTZXJpYWxpemVyUXJsIGFzIGFueVxuKTtcbmV4cG9ydCB7IGNyZWF0ZVNlcmlhbGl6ZXJRcmwgfTtcbiJdfQ==","import { assertEqual } from '../shared/error/assert';\nimport { isPropsProxy } from '../shared/jsx/props-proxy';\nimport { _CONST_PROPS, _IMMUTABLE } from '../shared/utils/constants';\nimport { isObject } from '../shared/utils/types';\nimport { AsyncComputedSignalImpl } from './impl/async-computed-signal-impl';\nimport { getStoreTarget, isStore } from './impl/store';\nimport { WrappedSignalImpl } from './impl/wrapped-signal-impl';\nimport { isSignal } from './signal.public';\n// Keep these properties named like this so they're the same as from wrapSignal\nexport const getValueProp = (p0) => p0.value;\nconst getProp = (p0, p1) => p0[p1];\nconst getWrapped = (args) => {\n    if (args.length === 1) {\n        if (isSignal(args[0])) {\n            return (args[0].$wrappedSignal$ ||= new WrappedSignalImpl(null, getValueProp, args, null));\n        }\n        else if (isStore(args[0])) {\n            return new WrappedSignalImpl(null, getValueProp, args, null);\n        }\n        return args[0].value;\n    }\n    else {\n        return new WrappedSignalImpl(null, getProp, args, null);\n    }\n};\n/**\n * This wraps a property access of a possible Signal/Store into a WrappedSignal. The optimizer does\n * this automatically when a prop is only used as a prop on JSX.\n *\n * When a WrappedSignal is read via the PropsProxy, it will be unwrapped. This allows forwarding the\n * reactivity of a prop to the point of actual use.\n *\n * For efficiency, if you pass only one argument, the property is 'value'.\n *\n * @internal\n */\nexport const _wrapProp = (...args) => {\n    const obj = args[0];\n    const prop = args.length < 2 ? 'value' : args[1];\n    if (!isObject(obj)) {\n        return obj[prop];\n    }\n    if (isSignal(obj)) {\n        if (!(obj instanceof AsyncComputedSignalImpl)) {\n            assertEqual(prop, 'value', 'Left side is a signal, prop must be value');\n        }\n        if (obj instanceof WrappedSignalImpl && obj.$flags$ & 4 /* WrappedSignalFlags.UNWRAP */) {\n            return obj;\n        }\n        return getWrapped(args);\n    }\n    if (isPropsProxy(obj)) {\n        const constProps = obj[_CONST_PROPS];\n        if (constProps && prop in constProps) {\n            // Const props don't need wrapping\n            return constProps[prop];\n        }\n    }\n    else {\n        const target = getStoreTarget(obj);\n        if (target) {\n            const value = target[prop];\n            const wrappedValue = isSignal(value)\n                ? // If the value is already a signal, we don't need to wrap it again\n                    value\n                : getWrapped(args);\n            return wrappedValue;\n        }\n    }\n    // the object is not reactive, so we can just return the value\n    return obj[prop];\n};\n/** @internal @deprecated v1 compat */\nexport const _wrapSignal = (obj, prop) => {\n    const r = _wrapProp(obj, prop);\n    if (r === _IMMUTABLE) {\n        return obj[prop];\n    }\n    return r;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZXJuYWwtYXBpLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3JlYWN0aXZlLXByaW1pdGl2ZXMvaW50ZXJuYWwtYXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUNyRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDekQsT0FBTyxFQUFFLFlBQVksRUFBRSxVQUFVLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUNyRSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDakQsT0FBTyxFQUFFLHVCQUF1QixFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFFNUUsT0FBTyxFQUFFLGNBQWMsRUFBRSxPQUFPLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDdkQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDL0QsT0FBTyxFQUFFLFFBQVEsRUFBZSxNQUFNLGlCQUFpQixDQUFDO0FBR3hELCtFQUErRTtBQUMvRSxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FBSSxFQUFnQixFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO0FBQzlELE1BQU0sT0FBTyxHQUFHLENBQXNDLEVBQUssRUFBRSxFQUFLLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUU5RSxNQUFNLFVBQVUsR0FBRyxDQUFtQixJQUFpQyxFQUFFLEVBQUU7SUFDekUsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRSxDQUFDO1FBQ3RCLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDdEIsT0FBTyxDQUFFLElBQUksQ0FBQyxDQUFDLENBQTJCLENBQUMsZUFBZSxLQUFLLElBQUksaUJBQWlCLENB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ZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2VydEVxdWFsIH0gZnJvbSAnLi4vc2hhcmVkL2Vycm9yL2Fzc2VydCc7XG5pbXBvcnQgeyBpc1Byb3BzUHJveHkgfSBmcm9tICcuLi9zaGFyZWQvanN4L3Byb3BzLXByb3h5JztcbmltcG9ydCB7IF9DT05TVF9QUk9QUywgX0lNTVVUQUJMRSB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHsgQXN5bmNDb21wdXRlZFNpZ25hbEltcGwgfSBmcm9tICcuL2ltcGwvYXN5bmMtY29tcHV0ZWQtc2lnbmFsLWltcGwnO1xuaW1wb3J0IHR5cGUgeyBTaWduYWxJbXBsIH0gZnJvbSAnLi9pbXBsL3NpZ25hbC1pbXBsJztcbmltcG9ydCB7IGdldFN0b3JlVGFyZ2V0LCBpc1N0b3JlIH0gZnJvbSAnLi9pbXBsL3N0b3JlJztcbmltcG9ydCB7IFdyYXBwZWRTaWduYWxJbXBsIH0gZnJvbSAnLi9pbXBsL3dyYXBwZWQtc2lnbmFsLWltcGwnO1xuaW1wb3J0IHsgaXNTaWduYWwsIHR5cGUgU2lnbmFsIH0gZnJvbSAnLi9zaWduYWwucHVibGljJztcbmltcG9ydCB7IFdyYXBwZWRTaWduYWxGbGFncyB9IGZyb20gJy4vdHlwZXMnO1xuXG4vLyBLZWVwIHRoZXNlIHByb3BlcnRpZXMgbmFtZWQgbGlrZSB0aGlzIHNvIHRoZXkncmUgdGhlIHNhbWUgYXMgZnJvbSB3cmFwU2lnbmFsXG5leHBvcnQgY29uc3QgZ2V0VmFsdWVQcm9wID0gPFQ+KHAwOiB7IHZhbHVlOiBUIH0pID0+IHAwLnZhbHVlO1xuY29uc3QgZ2V0UHJvcCA9IDxUIGV4dGVuZHMgb2JqZWN0LCBQIGV4dGVuZHMga2V5b2YgVD4ocDA6IFQsIHAxOiBQKSA9PiBwMFtwMV07XG5cbmNvbnN0IGdldFdyYXBwZWQgPSA8VCBleHRlbmRzIG9iamVjdD4oYXJnczogW1QsIChrZXlvZiBUIHwgdW5kZWZpbmVkKT9dKSA9PiB7XG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgIGlmIChpc1NpZ25hbChhcmdzWzBdKSkge1xuICAgICAgcmV0dXJuICgoYXJnc1swXSBhcyB1bmtub3duIGFzIFNpZ25hbEltcGwpLiR3cmFwcGVkU2lnbmFsJCB8fD0gbmV3IFdyYXBwZWRTaWduYWxJbXBsKFxuICAgICAgICBudWxsLFxuICAgICAgICBnZXRWYWx1ZVByb3AsXG4gICAgICAgIGFyZ3MsXG4gICAgICAgIG51bGxcbiAgICAgICkpO1xuICAgIH0gZWxzZSBpZiAoaXNTdG9yZShhcmdzWzBdKSkge1xuICAgICAgcmV0dXJuIG5ldyBXcmFwcGVkU2lnbmFsSW1wbChudWxsLCBnZXRWYWx1ZVByb3AsIGFyZ3MsIG51bGwpO1xuICAgIH1cbiAgICByZXR1cm4gKGFyZ3NbMF0gYXMgeyB2YWx1ZTogVCB9KS52YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IFdyYXBwZWRTaWduYWxJbXBsKG51bGwsIGdldFByb3AsIGFyZ3MsIG51bGwpO1xuICB9XG59O1xuXG50eXBlIFByb3BUeXBlPFQgZXh0ZW5kcyBvYmplY3QsIFAgZXh0ZW5kcyBrZXlvZiBUPiA9IFAgZXh0ZW5kcyBrZXlvZiBUXG4gID8gVFtQXVxuICA6ICd2YWx1ZScgZXh0ZW5kcyBrZXlvZiBUXG4gICAgPyBUWyd2YWx1ZSddXG4gICAgOiBuZXZlcjtcbnR5cGUgV3JhcHBlZFByb3A8VCBleHRlbmRzIG9iamVjdCwgUCBleHRlbmRzIGtleW9mIFQ+ID0gVCBleHRlbmRzIFNpZ25hbFxuICA/IFdyYXBwZWRTaWduYWxJbXBsPFByb3BUeXBlPFQsIFA+PlxuICA6IFByb3BUeXBlPFQsIFA+O1xuXG4vKipcbiAqIFRoaXMgd3JhcHMgYSBwcm9wZXJ0eSBhY2Nlc3Mgb2YgYSBwb3NzaWJsZSBTaWduYWwvU3RvcmUgaW50byBhIFdyYXBwZWRTaWduYWwuIFRoZSBvcHRpbWl6ZXIgZG9lc1xuICogdGhpcyBhdXRvbWF0aWNhbGx5IHdoZW4gYSBwcm9wIGlzIG9ubHkgdXNlZCBhcyBhIHByb3Agb24gSlNYLlxuICpcbiAqIFdoZW4gYSBXcmFwcGVkU2lnbmFsIGlzIHJlYWQgdmlhIHRoZSBQcm9wc1Byb3h5LCBpdCB3aWxsIGJlIHVud3JhcHBlZC4gVGhpcyBhbGxvd3MgZm9yd2FyZGluZyB0aGVcbiAqIHJlYWN0aXZpdHkgb2YgYSBwcm9wIHRvIHRoZSBwb2ludCBvZiBhY3R1YWwgdXNlLlxuICpcbiAqIEZvciBlZmZpY2llbmN5LCBpZiB5b3UgcGFzcyBvbmx5IG9uZSBhcmd1bWVudCwgdGhlIHByb3BlcnR5IGlzICd2YWx1ZScuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBfd3JhcFByb3AgPSA8VCBleHRlbmRzIG9iamVjdCwgUCBleHRlbmRzIGtleW9mIFQ+KFxuICAuLi5hcmdzOiBbVCwgUD9dXG4pOiBXcmFwcGVkUHJvcDxULCBQPiA9PiB7XG4gIGNvbnN0IG9iaiA9IGFyZ3NbMF07XG4gIGNvbnN0IHByb3AgPSBhcmdzLmxlbmd0aCA8IDIgPyAndmFsdWUnIDogYXJnc1sxXSE7XG5cbiAgaWYgKCFpc09iamVjdChvYmopKSB7XG4gICAgcmV0dXJuIG9ialtwcm9wXTtcbiAgfVxuICBpZiAoaXNTaWduYWwob2JqKSkge1xuICAgIGlmICghKG9iaiBpbnN0YW5jZW9mIEFzeW5jQ29tcHV0ZWRTaWduYWxJbXBsKSkge1xuICAgICAgYXNzZXJ0RXF1YWwocHJvcCwgJ3ZhbHVlJywgJ0xlZnQgc2lkZSBpcyBhIHNpZ25hbCwgcHJvcCBtdXN0IGJlIHZhbHVlJyk7XG4gICAgfVxuICAgIGlmIChvYmogaW5zdGFuY2VvZiBXcmFwcGVkU2lnbmFsSW1wbCAmJiBvYmouJGZsYWdzJCAmIFdyYXBwZWRTaWduYWxGbGFncy5VTldSQVApIHtcbiAgICAgIHJldHVybiBvYmogYXMgV3JhcHBlZFByb3A8VCwgUD47XG4gICAgfVxuICAgIHJldHVybiBnZXRXcmFwcGVkKGFyZ3MpIGFzIFdyYXBwZWRQcm9wPFQsIFA+O1xuICB9XG4gIGlmIChpc1Byb3BzUHJveHkob2JqKSkge1xuICAgIGNvbnN0IGNvbnN0UHJvcHMgPSBvYmpbX0NPTlNUX1BST1BTXTtcbiAgICBpZiAoY29uc3RQcm9wcyAmJiBwcm9wIGluIGNvbnN0UHJvcHMpIHtcbiAgICAgIC8vIENvbnN0IHByb3BzIGRvbid0IG5lZWQgd3JhcHBpbmdcbiAgICAgIHJldHVybiBjb25zdFByb3BzW3Byb3AgYXMga2V5b2YgdHlwZW9mIGNvbnN0UHJvcHNdIGFzIFdyYXBwZWRQcm9wPFQsIFA+O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCB0YXJnZXQgPSBnZXRTdG9yZVRhcmdldChvYmopO1xuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gdGFyZ2V0W3Byb3AgYXMgUF07XG4gICAgICBjb25zdCB3cmFwcGVkVmFsdWUgPSBpc1NpZ25hbCh2YWx1ZSlcbiAgICAgICAgPyAvLyBJZiB0aGUgdmFsdWUgaXMgYWxyZWFkeSBhIHNpZ25hbCwgd2UgZG9uJ3QgbmVlZCB0byB3cmFwIGl0IGFnYWluXG4gICAgICAgICAgdmFsdWVcbiAgICAgICAgOiBnZXRXcmFwcGVkKGFyZ3MpO1xuICAgICAgcmV0dXJuIHdyYXBwZWRWYWx1ZSBhcyBXcmFwcGVkUHJvcDxULCBQPjtcbiAgICB9XG4gIH1cbiAgLy8gdGhlIG9iamVjdCBpcyBub3QgcmVhY3RpdmUsIHNvIHdlIGNhbiBqdXN0IHJldHVybiB0aGUgdmFsdWVcbiAgcmV0dXJuIG9ialtwcm9wIGFzIFBdIGFzIFdyYXBwZWRQcm9wPFQsIFA+O1xufTtcblxuLyoqIEBpbnRlcm5hbCBAZGVwcmVjYXRlZCB2MSBjb21wYXQgKi9cbmV4cG9ydCBjb25zdCBfd3JhcFNpZ25hbCA9IDxUIGV4dGVuZHMgb2JqZWN0LCBQIGV4dGVuZHMga2V5b2YgVD4ob2JqOiBULCBwcm9wOiBQKSA9PiB7XG4gIGNvbnN0IHIgPSBfd3JhcFByb3Aob2JqLCBwcm9wKTtcbiAgaWYgKHIgPT09IF9JTU1VVEFCTEUpIHtcbiAgICByZXR1cm4gb2JqW3Byb3BdO1xuICB9XG4gIHJldHVybiByO1xufTtcbiJdfQ==","import { assertFalse } from '../../shared/error/assert';\nimport { qError } from '../../shared/error/error';\nimport { trackSignal } from '../../use/use-core';\nimport { getValueProp } from '../internal-api';\nimport { _EFFECT_BACK_REF, NEEDS_COMPUTATION, } from '../types';\nimport { isSignal, scheduleEffects } from '../utils';\nimport { SignalImpl } from './signal-impl';\nexport class WrappedSignalImpl extends SignalImpl {\n    $args$;\n    $func$;\n    $funcStr$;\n    $flags$;\n    $hostElement$ = null;\n    [_EFFECT_BACK_REF] = null;\n    constructor(container, fn, args, fnStr, \n    // We need a separate flag to know when the computation needs running because\n    // we need the old value to know if effects need running after computation\n    flags = 1 /* SignalFlags.INVALID */ | 4 /* WrappedSignalFlags.UNWRAP */) {\n        super(container, NEEDS_COMPUTATION);\n        this.$args$ = args;\n        this.$func$ = fn;\n        this.$funcStr$ = fnStr;\n        this.$flags$ = flags;\n    }\n    invalidate() {\n        this.$flags$ |= 1 /* SignalFlags.INVALID */;\n        // we are trying to run computation without creating a chore, which can be expensive\n        // for many signals. If it fails, we schedule a chore to run the computation.\n        try {\n            this.$computeIfNeeded$();\n        }\n        catch (_) {\n            this.$container$?.$scheduler$(7 /* ChoreType.RECOMPUTE_AND_SCHEDULE_EFFECTS */, this.$hostElement$, this, this.$effects$);\n        }\n        // if the computation not failed, we can run the effects directly\n        if (this.$flags$ & 2 /* SignalFlags.RUN_EFFECTS */) {\n            this.$flags$ &= ~2 /* SignalFlags.RUN_EFFECTS */;\n            scheduleEffects(this.$container$, this, this.$effects$);\n        }\n    }\n    /**\n     * Use this to force running subscribers, for example when the calculated value has mutated but\n     * remained the same object.\n     */\n    force() {\n        this.$flags$ |= 2 /* SignalFlags.RUN_EFFECTS */;\n        this.$container$?.$scheduler$(7 /* ChoreType.RECOMPUTE_AND_SCHEDULE_EFFECTS */, this.$hostElement$, this, this.$effects$);\n    }\n    get untrackedValue() {\n        this.$computeIfNeeded$();\n        assertFalse(this.$untrackedValue$ === NEEDS_COMPUTATION, 'Invalid state');\n        return this.$untrackedValue$;\n    }\n    $computeIfNeeded$() {\n        if (!(this.$flags$ & 1 /* SignalFlags.INVALID */)) {\n            return;\n        }\n        const untrackedValue = trackSignal(() => this.$func$(...this.$args$), this, \".\" /* EffectProperty.VNODE */, this.$container$);\n        // TODO: we should remove invalid flag here, but some tests are failing\n        // Sometimes we may call .value on wrapped signals without ctx. This means subscription will be\n        // not created and effects will not be triggered. After wrapping this with if (this.$container$)\n        // less tests are failing, but still some are failing.\n        // this.$flags$ &= ~SignalFlags.INVALID;\n        // reset flag in case we call computedIfNeeded twice and the value was changed only the first time\n        // TODO: change to version number?\n        this.$flags$ &= ~2 /* SignalFlags.RUN_EFFECTS */;\n        const didChange = untrackedValue !== this.$untrackedValue$;\n        if (didChange) {\n            this.$flags$ |= 2 /* SignalFlags.RUN_EFFECTS */;\n            this.$untrackedValue$ = untrackedValue;\n        }\n    }\n    $unwrapIfSignal$() {\n        return this.$func$ === getValueProp && isSignal(this.$args$[0])\n            ? this.$args$[0]\n            : this;\n    }\n    // Make this signal read-only\n    set value(_) {\n        throw qError(31 /* QError.wrappedReadOnly */);\n    }\n    // Getters don't get inherited when overriding a setter\n    get value() {\n        return super.value;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid3JhcHBlZC1zaWduYWwtaW1wbC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZWFjdGl2ZS1wcmltaXRpdmVzL2ltcGwvd3JhcHBlZC1zaWduYWwtaW1wbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDeEQsT0FBTyxFQUFVLE1BQU0sRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBRzFELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUVqRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFL0MsT0FBTyxFQUNMLGdCQUFnQixFQUVoQixpQkFBaUIsR0FHbEIsTUFBTSxVQUFVLENBQUM7QUFDbEIsT0FBTyxFQUFFLFFBQVEsRUFBRSxlQUFlLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDckQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUUzQyxNQUFNLE9BQU8saUJBQXFCLFNBQVEsVUFBYTtJQUNyRCxNQUFNLENBQVE7SUFDZCxNQUFNLENBQXdCO0lBQzlCLFNBQVMsQ0FBZ0I7SUFFekIsT0FBTyxDQUFpQjtJQUN4QixhQUFhLEdBQXVCLElBQUksQ0FBQztJQUN6QyxDQUFDLGdCQUFnQixDQUFDLEdBQTRELElBQUksQ0FBQztJQUVuRixZQUNFLFNBQTJCLEVBQzNCLEVBQXlCLEVBQ3pCLElBQVcsRUFDWCxLQUFvQjtJQUNwQiw2RUFBNkU7SUFDN0UsMEVBQTBFO0lBQzFFLFFBQXFCLCtEQUErQztRQUVwRSxLQUFLLENBQUMsU0FBUyxFQUFFLGlCQUFpQixDQUFDLENBQUM7UUFDcEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDbkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7UUFDakIsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDdkIsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7SUFDdkIsQ0FBQztJQUVELFVBQVU7UUFDUixJQUFJLENBQUMsT0FBTywrQkFBdUIsQ0FBQztRQUNwQyxvRkFBb0Y7UUFDcEYsNkVBQTZFO1FBQzdFLElBQUksQ0FBQztZQUNILElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQzNCLENBQUM7UUFBQyxPQUFPLENBQUMsRUFBRSxDQUFDO1lBQ1gsSUFBSSxDQUFDLFdBQVcsRUFBRSxXQUFXLG1EQUUzQixJQUFJLENBQUMsYUFBYSxFQUNsQixJQUFJLEVBQ0osSUFBSSxDQUFDLFNBQVMsQ0FDZixDQUFDO1FBQ0osQ0FBQztRQUNELGlFQUFpRTtRQUNqRSxJQUFJLElBQUksQ0FBQyxPQUFPLGtDQUEwQixFQUFFLENBQUM7WUFDM0MsSUFBSSxDQUFDLE9BQU8sSUFBSSxnQ0FBd0IsQ0FBQztZQUN6QyxlQUFlLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzFELENBQUM7SUFDSCxDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsS0FBSztRQUNILElBQUksQ0FBQyxPQUFPLG1DQUEyQixDQUFDO1FBQ3hDLElBQUksQ0FBQyxXQUFXLEVBQUUsV0FBVyxtREFFM0IsSUFBSSxDQUFDLGFBQWEsRUFDbEIsSUFBSSxFQUNKLElBQUksQ0FBQyxTQUFTLENBQ2YsQ0FBQztJQUNKLENBQUM7SUFFRCxJQUFJLGNBQWM7UUFDaEIsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDekIsV0FBVyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsS0FBSyxpQkFBaUIsRUFBRSxlQUFlLENBQUMsQ0FBQztRQUMxRSxPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztJQUMvQixDQUFDO0lBRUQsaUJBQWlCO1FBQ2YsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sOEJBQXNCLENBQUMsRUFBRSxDQUFDO1lBQzFDLE9BQU87UUFDVCxDQUFDO1FBQ0QsTUFBTSxjQUFjLEdBQUcsV0FBVyxDQUNoQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUNqQyxJQUFJLGtDQUVKLElBQUksQ0FBQyxXQUFZLENBQ2xCLENBQUM7UUFDRix1RUFBdUU7UUFDdkUsK0ZBQStGO1FBQy9GLGdHQUFnRztRQUNoRyxzREFBc0Q7UUFDdEQsd0NBQXdDO1FBRXhDLGtHQUFrRztRQUNsRyxrQ0FBa0M7UUFDbEMsSUFBSSxDQUFDLE9BQU8sSUFBSSxnQ0FBd0IsQ0FBQztRQUN6QyxNQUFNLFNBQVMsR0FBRyxjQUFjLEtBQUssSUFBSSxDQUFDLGdCQUFnQixDQUFDO1FBQzNELElBQUksU0FBUyxFQUFFLENBQUM7WUFDZCxJQUFJLENBQUMsT0FBTyxtQ0FBMkIsQ0FBQztZQUN4QyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsY0FBYyxDQUFDO1FBQ3pDLENBQUM7SUFDSCxDQUFDO0lBRUQsZ0JBQWdCO1FBQ2QsT0FBTyxJQUFJLENBQUMsTUFBTSxLQUFLLFlBQVksSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM3RCxDQUFDLENBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQW1CO1lBQ25DLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDWCxDQUFDO0lBRUQsNkJBQTZCO0lBQzdCLElBQUksS0FBSyxDQUFDLENBQU07UUFDZCxNQUFNLE1BQU0saUNBQXdCLENBQUM7SUFDdkMsQ0FBQztJQUNELHVEQUF1RDtJQUN2RCxJQUFJLEtBQUs7UUFDUCxPQUFPLEtBQUssQ0FBQyxLQUFLLENBQUM7SUFDckIsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzZXJ0RmFsc2UgfSBmcm9tICcuLi8uLi9zaGFyZWQvZXJyb3IvYXNzZXJ0JztcbmltcG9ydCB7IFFFcnJvciwgcUVycm9yIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2Vycm9yL2Vycm9yJztcbmltcG9ydCB0eXBlIHsgQ29udGFpbmVyLCBIb3N0RWxlbWVudCB9IGZyb20gJy4uLy4uL3NoYXJlZC90eXBlcyc7XG5pbXBvcnQgeyBDaG9yZVR5cGUgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbC1jaG9yZS10eXBlJztcbmltcG9ydCB7IHRyYWNrU2lnbmFsIH0gZnJvbSAnLi4vLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB0eXBlIHsgQmFja1JlZiB9IGZyb20gJy4uL2NsZWFudXAnO1xuaW1wb3J0IHsgZ2V0VmFsdWVQcm9wIH0gZnJvbSAnLi4vaW50ZXJuYWwtYXBpJztcbmltcG9ydCB0eXBlIHsgQWxsU2lnbmFsRmxhZ3MsIEVmZmVjdFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7XG4gIF9FRkZFQ1RfQkFDS19SRUYsXG4gIEVmZmVjdFByb3BlcnR5LFxuICBORUVEU19DT01QVVRBVElPTixcbiAgU2lnbmFsRmxhZ3MsXG4gIFdyYXBwZWRTaWduYWxGbGFncyxcbn0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaXNTaWduYWwsIHNjaGVkdWxlRWZmZWN0cyB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7IFNpZ25hbEltcGwgfSBmcm9tICcuL3NpZ25hbC1pbXBsJztcblxuZXhwb3J0IGNsYXNzIFdyYXBwZWRTaWduYWxJbXBsPFQ+IGV4dGVuZHMgU2lnbmFsSW1wbDxUPiBpbXBsZW1lbnRzIEJhY2tSZWYge1xuICAkYXJncyQ6IGFueVtdO1xuICAkZnVuYyQ6ICguLi5hcmdzOiBhbnlbXSkgPT4gVDtcbiAgJGZ1bmNTdHIkOiBzdHJpbmcgfCBudWxsO1xuXG4gICRmbGFncyQ6IEFsbFNpZ25hbEZsYWdzO1xuICAkaG9zdEVsZW1lbnQkOiBIb3N0RWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBbX0VGRkVDVF9CQUNLX1JFRl06IE1hcDxFZmZlY3RQcm9wZXJ0eSB8IHN0cmluZywgRWZmZWN0U3Vic2NyaXB0aW9uPiB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvbnRhaW5lcjogQ29udGFpbmVyIHwgbnVsbCxcbiAgICBmbjogKC4uLmFyZ3M6IGFueVtdKSA9PiBULFxuICAgIGFyZ3M6IGFueVtdLFxuICAgIGZuU3RyOiBzdHJpbmcgfCBudWxsLFxuICAgIC8vIFdlIG5lZWQgYSBzZXBhcmF0ZSBmbGFnIHRvIGtub3cgd2hlbiB0aGUgY29tcHV0YXRpb24gbmVlZHMgcnVubmluZyBiZWNhdXNlXG4gICAgLy8gd2UgbmVlZCB0aGUgb2xkIHZhbHVlIHRvIGtub3cgaWYgZWZmZWN0cyBuZWVkIHJ1bm5pbmcgYWZ0ZXIgY29tcHV0YXRpb25cbiAgICBmbGFnczogU2lnbmFsRmxhZ3MgPSBTaWduYWxGbGFncy5JTlZBTElEIHwgV3JhcHBlZFNpZ25hbEZsYWdzLlVOV1JBUFxuICApIHtcbiAgICBzdXBlcihjb250YWluZXIsIE5FRURTX0NPTVBVVEFUSU9OKTtcbiAgICB0aGlzLiRhcmdzJCA9IGFyZ3M7XG4gICAgdGhpcy4kZnVuYyQgPSBmbjtcbiAgICB0aGlzLiRmdW5jU3RyJCA9IGZuU3RyO1xuICAgIHRoaXMuJGZsYWdzJCA9IGZsYWdzO1xuICB9XG5cbiAgaW52YWxpZGF0ZSgpIHtcbiAgICB0aGlzLiRmbGFncyQgfD0gU2lnbmFsRmxhZ3MuSU5WQUxJRDtcbiAgICAvLyB3ZSBhcmUgdHJ5aW5nIHRvIHJ1biBjb21wdXRhdGlvbiB3aXRob3V0IGNyZWF0aW5nIGEgY2hvcmUsIHdoaWNoIGNhbiBiZSBleHBlbnNpdmVcbiAgICAvLyBmb3IgbWFueSBzaWduYWxzLiBJZiBpdCBmYWlscywgd2Ugc2NoZWR1bGUgYSBjaG9yZSB0byBydW4gdGhlIGNvbXB1dGF0aW9uLlxuICAgIHRyeSB7XG4gICAgICB0aGlzLiRjb21wdXRlSWZOZWVkZWQkKCk7XG4gICAgfSBjYXRjaCAoXykge1xuICAgICAgdGhpcy4kY29udGFpbmVyJD8uJHNjaGVkdWxlciQoXG4gICAgICAgIENob3JlVHlwZS5SRUNPTVBVVEVfQU5EX1NDSEVEVUxFX0VGRkVDVFMsXG4gICAgICAgIHRoaXMuJGhvc3RFbGVtZW50JCxcbiAgICAgICAgdGhpcyxcbiAgICAgICAgdGhpcy4kZWZmZWN0cyRcbiAgICAgICk7XG4gICAgfVxuICAgIC8vIGlmIHRoZSBjb21wdXRhdGlvbiBub3QgZmFpbGVkLCB3ZSBjYW4gcnVuIHRoZSBlZmZlY3RzIGRpcmVjdGx5XG4gICAgaWYgKHRoaXMuJGZsYWdzJCAmIFNpZ25hbEZsYWdzLlJVTl9FRkZFQ1RTKSB7XG4gICAgICB0aGlzLiRmbGFncyQgJj0gflNpZ25hbEZsYWdzLlJVTl9FRkZFQ1RTO1xuICAgICAgc2NoZWR1bGVFZmZlY3RzKHRoaXMuJGNvbnRhaW5lciQsIHRoaXMsIHRoaXMuJGVmZmVjdHMkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXNlIHRoaXMgdG8gZm9yY2UgcnVubmluZyBzdWJzY3JpYmVycywgZm9yIGV4YW1wbGUgd2hlbiB0aGUgY2FsY3VsYXRlZCB2YWx1ZSBoYXMgbXV0YXRlZCBidXRcbiAgICogcmVtYWluZWQgdGhlIHNhbWUgb2JqZWN0LlxuICAgKi9cbiAgZm9yY2UoKSB7XG4gICAgdGhpcy4kZmxhZ3MkIHw9IFNpZ25hbEZsYWdzLlJVTl9FRkZFQ1RTO1xuICAgIHRoaXMuJGNvbnRhaW5lciQ/LiRzY2hlZHVsZXIkKFxuICAgICAgQ2hvcmVUeXBlLlJFQ09NUFVURV9BTkRfU0NIRURVTEVfRUZGRUNUUyxcbiAgICAgIHRoaXMuJGhvc3RFbGVtZW50JCxcbiAgICAgIHRoaXMsXG4gICAgICB0aGlzLiRlZmZlY3RzJFxuICAgICk7XG4gIH1cblxuICBnZXQgdW50cmFja2VkVmFsdWUoKSB7XG4gICAgdGhpcy4kY29tcHV0ZUlmTmVlZGVkJCgpO1xuICAgIGFzc2VydEZhbHNlKHRoaXMuJHVudHJhY2tlZFZhbHVlJCA9PT0gTkVFRFNfQ09NUFVUQVRJT04sICdJbnZhbGlkIHN0YXRlJyk7XG4gICAgcmV0dXJuIHRoaXMuJHVudHJhY2tlZFZhbHVlJDtcbiAgfVxuXG4gICRjb21wdXRlSWZOZWVkZWQkKCkge1xuICAgIGlmICghKHRoaXMuJGZsYWdzJCAmIFNpZ25hbEZsYWdzLklOVkFMSUQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHVudHJhY2tlZFZhbHVlID0gdHJhY2tTaWduYWwoXG4gICAgICAoKSA9PiB0aGlzLiRmdW5jJCguLi50aGlzLiRhcmdzJCksXG4gICAgICB0aGlzLFxuICAgICAgRWZmZWN0UHJvcGVydHkuVk5PREUsXG4gICAgICB0aGlzLiRjb250YWluZXIkIVxuICAgICk7XG4gICAgLy8gVE9ETzogd2Ugc2hvdWxkIHJlbW92ZSBpbnZhbGlkIGZsYWcgaGVyZSwgYnV0IHNvbWUgdGVzdHMgYXJlIGZhaWxpbmdcbiAgICAvLyBTb21ldGltZXMgd2UgbWF5IGNhbGwgLnZhbHVlIG9uIHdyYXBwZWQgc2lnbmFscyB3aXRob3V0IGN0eC4gVGhpcyBtZWFucyBzdWJzY3JpcHRpb24gd2lsbCBiZVxuICAgIC8vIG5vdCBjcmVhdGVkIGFuZCBlZmZlY3RzIHdpbGwgbm90IGJlIHRyaWdnZXJlZC4gQWZ0ZXIgd3JhcHBpbmcgdGhpcyB3aXRoIGlmICh0aGlzLiRjb250YWluZXIkKVxuICAgIC8vIGxlc3MgdGVzdHMgYXJlIGZhaWxpbmcsIGJ1dCBzdGlsbCBzb21lIGFyZSBmYWlsaW5nLlxuICAgIC8vIHRoaXMuJGZsYWdzJCAmPSB+U2lnbmFsRmxhZ3MuSU5WQUxJRDtcblxuICAgIC8vIHJlc2V0IGZsYWcgaW4gY2FzZSB3ZSBjYWxsIGNvbXB1dGVkSWZOZWVkZWQgdHdpY2UgYW5kIHRoZSB2YWx1ZSB3YXMgY2hhbmdlZCBvbmx5IHRoZSBmaXJzdCB0aW1lXG4gICAgLy8gVE9ETzogY2hhbmdlIHRvIHZlcnNpb24gbnVtYmVyP1xuICAgIHRoaXMuJGZsYWdzJCAmPSB+U2lnbmFsRmxhZ3MuUlVOX0VGRkVDVFM7XG4gICAgY29uc3QgZGlkQ2hhbmdlID0gdW50cmFja2VkVmFsdWUgIT09IHRoaXMuJHVudHJhY2tlZFZhbHVlJDtcbiAgICBpZiAoZGlkQ2hhbmdlKSB7XG4gICAgICB0aGlzLiRmbGFncyQgfD0gU2lnbmFsRmxhZ3MuUlVOX0VGRkVDVFM7XG4gICAgICB0aGlzLiR1bnRyYWNrZWRWYWx1ZSQgPSB1bnRyYWNrZWRWYWx1ZTtcbiAgICB9XG4gIH1cblxuICAkdW53cmFwSWZTaWduYWwkKCk6IFNpZ25hbEltcGw8VD4gfCBXcmFwcGVkU2lnbmFsSW1wbDxUPiB7XG4gICAgcmV0dXJuIHRoaXMuJGZ1bmMkID09PSBnZXRWYWx1ZVByb3AgJiYgaXNTaWduYWwodGhpcy4kYXJncyRbMF0pXG4gICAgICA/ICh0aGlzLiRhcmdzJFswXSBhcyBTaWduYWxJbXBsPFQ+KVxuICAgICAgOiB0aGlzO1xuICB9XG5cbiAgLy8gTWFrZSB0aGlzIHNpZ25hbCByZWFkLW9ubHlcbiAgc2V0IHZhbHVlKF86IGFueSkge1xuICAgIHRocm93IHFFcnJvcihRRXJyb3Iud3JhcHBlZFJlYWRPbmx5KTtcbiAgfVxuICAvLyBHZXR0ZXJzIGRvbid0IGdldCBpbmhlcml0ZWQgd2hlbiBvdmVycmlkaW5nIGEgc2V0dGVyXG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gc3VwZXIudmFsdWU7XG4gIH1cbn1cbiJdfQ==","import { ensureMaterialized, vnode_isElementVNode, vnode_isVNode } from '../client/vnode';\nimport { SignalImpl } from './impl/signal-impl';\nimport { WrappedSignalImpl } from './impl/wrapped-signal-impl';\nimport { getStoreHandler } from './impl/store';\nimport { _EFFECT_BACK_REF, } from './types';\nimport { AsyncComputedSignalImpl } from './impl/async-computed-signal-impl';\n/** Class for back reference to the EffectSubscription */\nexport class BackRef {\n    [_EFFECT_BACK_REF] = null;\n}\nexport function clearAllEffects(container, consumer) {\n    if (vnode_isVNode(consumer) && vnode_isElementVNode(consumer)) {\n        ensureMaterialized(consumer);\n    }\n    const effects = consumer[_EFFECT_BACK_REF];\n    if (!effects) {\n        return;\n    }\n    for (const [, effect] of effects) {\n        clearEffectSubscription(container, effect);\n    }\n}\nexport function clearEffectSubscription(container, effect) {\n    const backRefs = effect[2 /* EffectSubscriptionProp.BACK_REF */];\n    if (!backRefs) {\n        return;\n    }\n    for (const producer of backRefs) {\n        if (producer instanceof SignalImpl) {\n            clearSignal(container, producer, effect);\n        }\n        else if (producer instanceof AsyncComputedSignalImpl) {\n            clearAsyncComputedSignal(producer, effect);\n        }\n        else if (container.$storeProxyMap$.has(producer)) {\n            const target = container.$storeProxyMap$.get(producer);\n            const storeHandler = getStoreHandler(target);\n            clearStore(storeHandler, effect);\n        }\n    }\n}\nfunction clearSignal(container, producer, effect) {\n    const effects = producer.$effects$;\n    if (effects && effects.has(effect)) {\n        effects.delete(effect);\n    }\n    if (producer instanceof WrappedSignalImpl) {\n        producer.$hostElement$ = null;\n        clearAllEffects(container, producer);\n    }\n}\nfunction clearAsyncComputedSignal(producer, effect) {\n    const effects = producer.$effects$;\n    if (effects && effects.has(effect)) {\n        effects.delete(effect);\n    }\n    const pendingEffects = producer.$loadingEffects$;\n    if (pendingEffects && pendingEffects.has(effect)) {\n        pendingEffects.delete(effect);\n    }\n}\nfunction clearStore(producer, effect) {\n    const effects = producer?.$effects$;\n    if (effects) {\n        for (const propEffects of effects.values()) {\n            if (propEffects.has(effect)) {\n                propEffects.delete(effect);\n            }\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xlYW51cC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZWFjdGl2ZS1wcmltaXRpdmVzL2NsZWFudXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGtCQUFrQixFQUFFLG9CQUFvQixFQUFFLGFBQWEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRTFGLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNoRCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUMvRCxPQUFPLEVBQWdCLGVBQWUsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUM3RCxPQUFPLEVBRUwsZ0JBQWdCLEdBSWpCLE1BQU0sU0FBUyxDQUFDO0FBQ2pCLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBRTVFLHlEQUF5RDtBQUN6RCxNQUFNLE9BQWdCLE9BQU87SUFDM0IsQ0FBQyxnQkFBZ0IsQ0FBQyxHQUE0RCxJQUFJLENBQUM7Q0FDcEY7QUFFRCxNQUFNLFVBQVUsZUFBZSxDQUFDLFNBQW9CLEVBQUUsUUFBa0I7SUFDdEUsSUFBSSxhQUFhLENBQUMsUUFBUSxDQUFDLElBQUksb0JBQW9CLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztRQUM5RCxrQkFBa0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMvQixDQUFDO0lBQ0QsTUFBTSxPQUFPLEdBQUksUUFBb0IsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3hELElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNiLE9BQU87SUFDVCxDQUFDO0lBQ0QsS0FBSyxNQUFNLENBQUMsRUFBRSxNQUFNLENBQUMsSUFBSSxPQUFPLEVBQUUsQ0FBQztRQUNqQyx1QkFBdUIsQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDN0MsQ0FBQztBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsdUJBQXVCLENBQUMsU0FBb0IsRUFBRSxNQUEwQjtJQUN0RixNQUFNLFFBQVEsR0FBRyxNQUFNLHlDQUFpQyxDQUFDO0lBQ3pELElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNkLE9BQU87SUFDVCxDQUFDO0lBQ0QsS0FBSyxNQUFNLFFBQVEsSUFBSSxRQUFRLEVBQUUsQ0FBQztRQUNoQyxJQUFJLFFBQVEsWUFBWSxVQUFVLEVBQUUsQ0FBQztZQUNuQyxXQUFXLENBQUMsU0FBUyxFQUFFLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUMzQyxDQUFDO2FBQU0sSUFBSSxRQUFRLFlBQVksdUJBQXVCLEVBQUUsQ0FBQztZQUN2RCx3QkFBd0IsQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDN0MsQ0FBQzthQUFNLElBQUksU0FBUyxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztZQUNuRCxNQUFNLE1BQU0sR0FBRyxTQUFTLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUUsQ0FBQztZQUN4RCxNQUFNLFlBQVksR0FBRyxlQUFlLENBQUMsTUFBTSxDQUFFLENBQUM7WUFDOUMsVUFBVSxDQUFDLFlBQVksRUFBRSxNQUFNLENBQUMsQ0FBQztRQUNuQyxDQUFDO0lBQ0gsQ0FBQztBQUNILENBQUM7QUFFRCxTQUFTLFdBQVcsQ0FBQyxTQUFvQixFQUFFLFFBQW9CLEVBQUUsTUFBMEI7SUFDekYsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLFNBQVMsQ0FBQztJQUNuQyxJQUFJLE9BQU8sSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7UUFDbkMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN6QixDQUFDO0lBRUQsSUFBSSxRQUFRLFlBQVksaUJBQWlCLEVBQUUsQ0FBQztRQUMxQyxRQUFRLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQztRQUM5QixlQUFlLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7QUFDSCxDQUFDO0FBRUQsU0FBUyx3QkFBd0IsQ0FDL0IsUUFBMEMsRUFDMUMsTUFBMEI7SUFFMUIsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLFNBQVMsQ0FBQztJQUNuQyxJQUFJLE9BQU8sSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7UUFDbkMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN6QixDQUFDO0lBQ0QsTUFBTSxjQUFjLEdBQUcsUUFBUSxDQUFDLGdCQUFnQixDQUFDO0lBQ2pELElBQUksY0FBYyxJQUFJLGNBQWMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQztRQUNqRCxjQUFjLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2hDLENBQUM7QUFDSCxDQUFDO0FBRUQsU0FBUyxVQUFVLENBQUMsUUFBc0IsRUFBRSxNQUEwQjtJQUNwRSxNQUFNLE9BQU8sR0FBRyxRQUFRLEVBQUUsU0FBUyxDQUFDO0lBQ3BDLElBQUksT0FBTyxFQUFFLENBQUM7UUFDWixLQUFLLE1BQU0sV0FBVyxJQUFJLE9BQU8sQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDO1lBQzNDLElBQUksV0FBVyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO2dCQUM1QixXQUFXLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQzdCLENBQUM7UUFDSCxDQUFDO0lBQ0gsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBlbnN1cmVNYXRlcmlhbGl6ZWQsIHZub2RlX2lzRWxlbWVudFZOb2RlLCB2bm9kZV9pc1ZOb2RlIH0gZnJvbSAnLi4vY2xpZW50L3Zub2RlJztcbmltcG9ydCB0eXBlIHsgQ29udGFpbmVyIH0gZnJvbSAnLi4vc2hhcmVkL3R5cGVzJztcbmltcG9ydCB7IFNpZ25hbEltcGwgfSBmcm9tICcuL2ltcGwvc2lnbmFsLWltcGwnO1xuaW1wb3J0IHsgV3JhcHBlZFNpZ25hbEltcGwgfSBmcm9tICcuL2ltcGwvd3JhcHBlZC1zaWduYWwtaW1wbCc7XG5pbXBvcnQgeyBTdG9yZUhhbmRsZXIsIGdldFN0b3JlSGFuZGxlciB9IGZyb20gJy4vaW1wbC9zdG9yZSc7XG5pbXBvcnQge1xuICBFZmZlY3RTdWJzY3JpcHRpb25Qcm9wLFxuICBfRUZGRUNUX0JBQ0tfUkVGLFxuICB0eXBlIENvbnN1bWVyLFxuICB0eXBlIEVmZmVjdFByb3BlcnR5LFxuICB0eXBlIEVmZmVjdFN1YnNjcmlwdGlvbixcbn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBBc3luY0NvbXB1dGVkU2lnbmFsSW1wbCB9IGZyb20gJy4vaW1wbC9hc3luYy1jb21wdXRlZC1zaWduYWwtaW1wbCc7XG5cbi8qKiBDbGFzcyBmb3IgYmFjayByZWZlcmVuY2UgdG8gdGhlIEVmZmVjdFN1YnNjcmlwdGlvbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhY2tSZWYge1xuICBbX0VGRkVDVF9CQUNLX1JFRl06IE1hcDxFZmZlY3RQcm9wZXJ0eSB8IHN0cmluZywgRWZmZWN0U3Vic2NyaXB0aW9uPiB8IG51bGwgPSBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJBbGxFZmZlY3RzKGNvbnRhaW5lcjogQ29udGFpbmVyLCBjb25zdW1lcjogQ29uc3VtZXIpOiB2b2lkIHtcbiAgaWYgKHZub2RlX2lzVk5vZGUoY29uc3VtZXIpICYmIHZub2RlX2lzRWxlbWVudFZOb2RlKGNvbnN1bWVyKSkge1xuICAgIGVuc3VyZU1hdGVyaWFsaXplZChjb25zdW1lcik7XG4gIH1cbiAgY29uc3QgZWZmZWN0cyA9IChjb25zdW1lciBhcyBCYWNrUmVmKVtfRUZGRUNUX0JBQ0tfUkVGXTtcbiAgaWYgKCFlZmZlY3RzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGZvciAoY29uc3QgWywgZWZmZWN0XSBvZiBlZmZlY3RzKSB7XG4gICAgY2xlYXJFZmZlY3RTdWJzY3JpcHRpb24oY29udGFpbmVyLCBlZmZlY3QpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckVmZmVjdFN1YnNjcmlwdGlvbihjb250YWluZXI6IENvbnRhaW5lciwgZWZmZWN0OiBFZmZlY3RTdWJzY3JpcHRpb24pIHtcbiAgY29uc3QgYmFja1JlZnMgPSBlZmZlY3RbRWZmZWN0U3Vic2NyaXB0aW9uUHJvcC5CQUNLX1JFRl07XG4gIGlmICghYmFja1JlZnMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9yIChjb25zdCBwcm9kdWNlciBvZiBiYWNrUmVmcykge1xuICAgIGlmIChwcm9kdWNlciBpbnN0YW5jZW9mIFNpZ25hbEltcGwpIHtcbiAgICAgIGNsZWFyU2lnbmFsKGNvbnRhaW5lciwgcHJvZHVjZXIsIGVmZmVjdCk7XG4gICAgfSBlbHNlIGlmIChwcm9kdWNlciBpbnN0YW5jZW9mIEFzeW5jQ29tcHV0ZWRTaWduYWxJbXBsKSB7XG4gICAgICBjbGVhckFzeW5jQ29tcHV0ZWRTaWduYWwocHJvZHVjZXIsIGVmZmVjdCk7XG4gICAgfSBlbHNlIGlmIChjb250YWluZXIuJHN0b3JlUHJveHlNYXAkLmhhcyhwcm9kdWNlcikpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGNvbnRhaW5lci4kc3RvcmVQcm94eU1hcCQuZ2V0KHByb2R1Y2VyKSE7XG4gICAgICBjb25zdCBzdG9yZUhhbmRsZXIgPSBnZXRTdG9yZUhhbmRsZXIodGFyZ2V0KSE7XG4gICAgICBjbGVhclN0b3JlKHN0b3JlSGFuZGxlciwgZWZmZWN0KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xlYXJTaWduYWwoY29udGFpbmVyOiBDb250YWluZXIsIHByb2R1Y2VyOiBTaWduYWxJbXBsLCBlZmZlY3Q6IEVmZmVjdFN1YnNjcmlwdGlvbikge1xuICBjb25zdCBlZmZlY3RzID0gcHJvZHVjZXIuJGVmZmVjdHMkO1xuICBpZiAoZWZmZWN0cyAmJiBlZmZlY3RzLmhhcyhlZmZlY3QpKSB7XG4gICAgZWZmZWN0cy5kZWxldGUoZWZmZWN0KTtcbiAgfVxuXG4gIGlmIChwcm9kdWNlciBpbnN0YW5jZW9mIFdyYXBwZWRTaWduYWxJbXBsKSB7XG4gICAgcHJvZHVjZXIuJGhvc3RFbGVtZW50JCA9IG51bGw7XG4gICAgY2xlYXJBbGxFZmZlY3RzKGNvbnRhaW5lciwgcHJvZHVjZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNsZWFyQXN5bmNDb21wdXRlZFNpZ25hbChcbiAgcHJvZHVjZXI6IEFzeW5jQ29tcHV0ZWRTaWduYWxJbXBsPHVua25vd24+LFxuICBlZmZlY3Q6IEVmZmVjdFN1YnNjcmlwdGlvblxuKSB7XG4gIGNvbnN0IGVmZmVjdHMgPSBwcm9kdWNlci4kZWZmZWN0cyQ7XG4gIGlmIChlZmZlY3RzICYmIGVmZmVjdHMuaGFzKGVmZmVjdCkpIHtcbiAgICBlZmZlY3RzLmRlbGV0ZShlZmZlY3QpO1xuICB9XG4gIGNvbnN0IHBlbmRpbmdFZmZlY3RzID0gcHJvZHVjZXIuJGxvYWRpbmdFZmZlY3RzJDtcbiAgaWYgKHBlbmRpbmdFZmZlY3RzICYmIHBlbmRpbmdFZmZlY3RzLmhhcyhlZmZlY3QpKSB7XG4gICAgcGVuZGluZ0VmZmVjdHMuZGVsZXRlKGVmZmVjdCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xlYXJTdG9yZShwcm9kdWNlcjogU3RvcmVIYW5kbGVyLCBlZmZlY3Q6IEVmZmVjdFN1YnNjcmlwdGlvbikge1xuICBjb25zdCBlZmZlY3RzID0gcHJvZHVjZXI/LiRlZmZlY3RzJDtcbiAgaWYgKGVmZmVjdHMpIHtcbiAgICBmb3IgKGNvbnN0IHByb3BFZmZlY3RzIG9mIGVmZmVjdHMudmFsdWVzKCkpIHtcbiAgICAgIGlmIChwcm9wRWZmZWN0cy5oYXMoZWZmZWN0KSkge1xuICAgICAgICBwcm9wRWZmZWN0cy5kZWxldGUoZWZmZWN0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdfQ==","import { mapApp_findIndx, mapArray_get } from './util-mapArray';\nimport { vnode_ensureElementInflated, vnode_toString, } from './vnode';\nimport { BackRef } from '../reactive-primitives/cleanup';\nimport { isDev } from '@qwik.dev/core/build';\n/** @internal */\nexport class VNode extends BackRef {\n    flags;\n    parent;\n    previousSibling;\n    nextSibling;\n    props = null;\n    slotParent = null;\n    // scheduled chores for this vnode\n    chores = null;\n    // blocked chores for this vnode\n    blockedChores = null;\n    constructor(flags, parent, previousSibling, nextSibling) {\n        super();\n        this.flags = flags;\n        this.parent = parent;\n        this.previousSibling = previousSibling;\n        this.nextSibling = nextSibling;\n    }\n    getProp(key, getObject) {\n        const type = this.flags;\n        if ((type & 3 /* VNodeFlags.ELEMENT_OR_VIRTUAL_MASK */) !== 0) {\n            type & 1 /* VNodeFlags.Element */ && vnode_ensureElementInflated(this);\n            this.props ||= [];\n            const idx = mapApp_findIndx(this.props, key, 0);\n            if (idx >= 0) {\n                let value = this.props[idx + 1];\n                if (typeof value === 'string' && getObject) {\n                    this.props[idx + 1] = value = getObject(value);\n                }\n                return value;\n            }\n        }\n        return null;\n    }\n    setProp(key, value) {\n        this.props ||= [];\n        const idx = mapApp_findIndx(this.props, key, 0);\n        if (idx >= 0) {\n            this.props[idx + 1] = value;\n        }\n        else if (value != null) {\n            this.props.splice(idx ^ -1, 0, key, value);\n        }\n    }\n    getAttr(key) {\n        if ((this.flags & 3 /* VNodeFlags.ELEMENT_OR_VIRTUAL_MASK */) !== 0) {\n            vnode_ensureElementInflated(this);\n            this.props ||= [];\n            return mapArray_get(this.props, key, 0);\n        }\n        return null;\n    }\n    setAttr(key, value, journal) {\n        const type = this.flags;\n        if ((type & 3 /* VNodeFlags.ELEMENT_OR_VIRTUAL_MASK */) !== 0) {\n            vnode_ensureElementInflated(this);\n            this.props ||= [];\n            const idx = mapApp_findIndx(this.props, key, 0);\n            if (idx >= 0) {\n                if (this.props[idx + 1] != value && this instanceof ElementVNode) {\n                    // Values are different, update DOM\n                    journal && journal.push(2 /* VNodeJournalOpCode.SetAttribute */, this.element, key, value);\n                }\n                if (value == null) {\n                    this.props.splice(idx, 2);\n                }\n                else {\n                    this.props[idx + 1] = value;\n                }\n            }\n            else if (value != null) {\n                this.props.splice(idx ^ -1, 0, key, value);\n                if (this instanceof ElementVNode) {\n                    // New value, update DOM\n                    journal && journal.push(2 /* VNodeJournalOpCode.SetAttribute */, this.element, key, value);\n                }\n            }\n        }\n    }\n    toString() {\n        if (isDev) {\n            return vnode_toString.call(this);\n        }\n        return String(this);\n    }\n}\n/** @internal */\nexport class TextVNode extends VNode {\n    textNode;\n    text;\n    constructor(flags, parent, previousSibling, nextSibling, textNode, text) {\n        super(flags, parent, previousSibling, nextSibling);\n        this.textNode = textNode;\n        this.text = text;\n    }\n}\n/** @internal */\nexport class VirtualVNode extends VNode {\n    firstChild;\n    lastChild;\n    constructor(flags, parent, previousSibling, nextSibling, firstChild, lastChild) {\n        super(flags, parent, previousSibling, nextSibling);\n        this.firstChild = firstChild;\n        this.lastChild = lastChild;\n    }\n}\n/** @internal */\nexport class ElementVNode extends VNode {\n    firstChild;\n    lastChild;\n    element;\n    elementName;\n    constructor(flags, parent, previousSibling, nextSibling, firstChild, lastChild, element, elementName) {\n        super(flags, parent, previousSibling, nextSibling);\n        this.firstChild = firstChild;\n        this.lastChild = lastChild;\n        this.element = element;\n        this.elementName = elementName;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidm5vZGUtaW1wbC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9jbGllbnQvdm5vZGUtaW1wbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsZUFBZSxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ2hFLE9BQU8sRUFDTCwyQkFBMkIsRUFDM0IsY0FBYyxHQUdmLE1BQU0sU0FBUyxDQUFDO0FBR2pCLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUN6RCxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFHN0MsZ0JBQWdCO0FBQ2hCLE1BQU0sT0FBZ0IsS0FBTSxTQUFRLE9BQU87SUFTaEM7SUFDQTtJQUNBO0lBQ0E7SUFYVCxLQUFLLEdBQXFCLElBQUksQ0FBQztJQUMvQixVQUFVLEdBQWlCLElBQUksQ0FBQztJQUNoQyxrQ0FBa0M7SUFDbEMsTUFBTSxHQUFzQixJQUFJLENBQUM7SUFDakMsZ0NBQWdDO0lBQ2hDLGFBQWEsR0FBc0IsSUFBSSxDQUFDO0lBRXhDLFlBQ1MsS0FBaUIsRUFDakIsTUFBMEMsRUFDMUMsZUFBeUMsRUFDekMsV0FBcUM7UUFFNUMsS0FBSyxFQUFFLENBQUM7UUFMRCxVQUFLLEdBQUwsS0FBSyxDQUFZO1FBQ2pCLFdBQU0sR0FBTixNQUFNLENBQW9DO1FBQzFDLG9CQUFlLEdBQWYsZUFBZSxDQUEwQjtRQUN6QyxnQkFBVyxHQUFYLFdBQVcsQ0FBMEI7SUFHOUMsQ0FBQztJQUVELE9BQU8sQ0FBSSxHQUFXLEVBQUUsU0FBdUM7UUFDN0QsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUN4QixJQUFJLENBQUMsSUFBSSw2Q0FBcUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQ3RELElBQUksNkJBQXFCLElBQUksMkJBQTJCLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDL0Qs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LFdBQVcsQ0FBQyxDQUFDO1FBSDVDLGVBQVUsR0FBVixVQUFVLENBQTBCO1FBQ3BDLGNBQVMsR0FBVCxTQUFTLENBQTBCO0lBRzVDLENBQUM7Q0FDRjtBQUVELGdCQUFnQjtBQUNoQixNQUFNLE9BQU8sWUFBYSxTQUFRLEtBQUs7SUFNNUI7SUFDQTtJQUNBO0lBQ0E7SUFSVCxZQUNFLEtBQWlCLEVBQ2pCLE1BQTBDLEVBQzFDLGVBQXlDLEVBQ3pDLFdBQXFDLEVBQzlCLFVBQW9DLEVBQ3BDLFNBQW1DLEVBQ25DLE9BQWlCLEVBQ2pCLFdBQStCO1FBRXRDLEtBQUssQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLGVBQWUsRUFBRSxXQUFXLENBQUMsQ0FBQztRQUw1QyxlQUFVLEdBQVYsVUFBVSxDQUEwQjtRQUNwQyxjQUFTLEdBQVQsU0FBUyxDQUEwQjtRQUNuQyxZQUFPLEdBQVAsT0FBTyxDQUFVO1FBQ2pCLGdCQUFXLEdBQVgsV0FBVyxDQUFvQjtJQUd4QyxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWTm9kZUZsYWdzIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBtYXBBcHBfZmluZEluZHgsIG1hcEFycmF5X2dldCB9IGZyb20gJy4vdXRpbC1tYXBBcnJheSc7XG5pbXBvcnQge1xuICB2bm9kZV9lbnN1cmVFbGVtZW50SW5mbGF0ZWQsXG4gIHZub2RlX3RvU3RyaW5nLFxuICBWTm9kZUpvdXJuYWxPcENvZGUsXG4gIHR5cGUgVk5vZGVKb3VybmFsLFxufSBmcm9tICcuL3Zub2RlJztcbmltcG9ydCB0eXBlIHsgQ2hvcmVBcnJheSB9IGZyb20gJy4vY2hvcmUtYXJyYXknO1xuaW1wb3J0IHsgX0VGRkVDVF9CQUNLX1JFRiB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvdHlwZXMnO1xuaW1wb3J0IHsgQmFja1JlZiB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvY2xlYW51cCc7XG5pbXBvcnQgeyBpc0RldiB9IGZyb20gJ0Bxd2lrLmRldi9jb3JlL2J1aWxkJztcbmltcG9ydCB0eXBlIHsgUUVsZW1lbnQgfSBmcm9tICcuLi9zaGFyZWQvdHlwZXMnO1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVk5vZGUgZXh0ZW5kcyBCYWNrUmVmIHtcbiAgcHJvcHM6IHVua25vd25bXSB8IG51bGwgPSBudWxsO1xuICBzbG90UGFyZW50OiBWTm9kZSB8IG51bGwgPSBudWxsO1xuICAvLyBzY2hlZHVsZWQgY2hvcmVzIGZvciB0aGlzIHZub2RlXG4gIGNob3JlczogQ2hvcmVBcnJheSB8IG51bGwgPSBudWxsO1xuICAvLyBibG9ja2VkIGNob3JlcyBmb3IgdGhpcyB2bm9kZVxuICBibG9ja2VkQ2hvcmVzOiBDaG9yZUFycmF5IHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIGZsYWdzOiBWTm9kZUZsYWdzLFxuICAgIHB1YmxpYyBwYXJlbnQ6IEVsZW1lbnRWTm9kZSB8IFZpcnR1YWxWTm9kZSB8IG51bGwsXG4gICAgcHVibGljIHByZXZpb3VzU2libGluZzogVk5vZGUgfCBudWxsIHwgdW5kZWZpbmVkLFxuICAgIHB1YmxpYyBuZXh0U2libGluZzogVk5vZGUgfCBudWxsIHwgdW5kZWZpbmVkXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBnZXRQcm9wPFQ+KGtleTogc3RyaW5nLCBnZXRPYmplY3Q6ICgoaWQ6IHN0cmluZykgPT4gYW55KSB8IG51bGwpOiBUIHwgbnVsbCB7XG4gICAgY29uc3QgdHlwZSA9IHRoaXMuZmxhZ3M7XG4gICAgaWYgKCh0eXBlICYgVk5vZGVGbGFncy5FTEVNRU5UX09SX1ZJUlRVQUxfTUFTSykgIT09IDApIHtcbiAgICAgIHR5cGUgJiBWTm9kZUZsYWdzLkVsZW1lbnQgJiYgdm5vZGVfZW5zdXJlRWxlbWVudEluZmxhdGVkKHRoaXMpO1xuICAgICAgdGhpcy5wcm9wcyB8fD0gW107XG4gICAgICBjb25zdCBpZHggPSBtYXBBcHBfZmluZEluZHgodGhpcy5wcm9wcyBhcyBhbnksIGtleSwgMCk7XG4gICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5wcm9wc1tpZHggKyAxXSBhcyBhbnk7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIGdldE9iamVjdCkge1xuICAgICAgICAgIHRoaXMucHJvcHNbaWR4ICsgMV0gPSB2YWx1ZSA9IGdldE9iamVjdCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHNldFByb3Aoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgICB0aGlzLnByb3BzIHx8PSBbXTtcbiAgICBjb25zdCBpZHggPSBtYXBBcHBfZmluZEluZHgodGhpcy5wcm9wcywga2V5LCAwKTtcbiAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgIHRoaXMucHJvcHNbaWR4ICsgMV0gPSB2YWx1ZSBhcyBhbnk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICB0aGlzLnByb3BzLnNwbGljZShpZHggXiAtMSwgMCwga2V5LCB2YWx1ZSBhcyBhbnkpO1xuICAgIH1cbiAgfVxuXG4gIGdldEF0dHIoa2V5OiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAoKHRoaXMuZmxhZ3MgJiBWTm9kZUZsYWdzLkVMRU1FTlRfT1JfVklSVFVBTF9NQVNLKSAhPT0gMCkge1xuICAgICAgdm5vZGVfZW5zdXJlRWxlbWVudEluZmxhdGVkKHRoaXMpO1xuICAgICAgdGhpcy5wcm9wcyB8fD0gW107XG4gICAgICByZXR1cm4gbWFwQXJyYXlfZ2V0KHRoaXMucHJvcHMsIGtleSwgMCkgYXMgc3RyaW5nIHwgbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBzZXRBdHRyKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIHwgbnVsbCB8IGJvb2xlYW4sIGpvdXJuYWw6IFZOb2RlSm91cm5hbCB8IG51bGwpIHtcbiAgICBjb25zdCB0eXBlID0gdGhpcy5mbGFncztcbiAgICBpZiAoKHR5cGUgJiBWTm9kZUZsYWdzLkVMRU1FTlRfT1JfVklSVFVBTF9NQVNLKSAhPT0gMCkge1xuICAgICAgdm5vZGVfZW5zdXJlRWxlbWVudEluZmxhdGVkKHRoaXMpO1xuICAgICAgdGhpcy5wcm9wcyB8fD0gW107XG4gICAgICBjb25zdCBpZHggPSBtYXBBcHBfZmluZEluZHgodGhpcy5wcm9wcywga2V5LCAwKTtcblxuICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzW2lkeCArIDFdICE9IHZhbHVlICYmIHRoaXMgaW5zdGFuY2VvZiBFbGVtZW50Vk5vZGUpIHtcbiAgICAgICAgICAvLyBWYWx1ZXMgYXJlIGRpZmZlcmVudCwgdXBkYXRlIERPTVxuICAgICAgICAgIGpvdXJuYWwgJiYgam91cm5hbC5wdXNoKFZOb2RlSm91cm5hbE9wQ29kZS5TZXRBdHRyaWJ1dGUsIHRoaXMuZWxlbWVudCwga2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLnNwbGljZShpZHgsIDIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucHJvcHNbaWR4ICsgMV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMucHJvcHMuc3BsaWNlKGlkeCBeIC0xLCAwLCBrZXksIHZhbHVlKTtcbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBFbGVtZW50Vk5vZGUpIHtcbiAgICAgICAgICAvLyBOZXcgdmFsdWUsIHVwZGF0ZSBET01cbiAgICAgICAgICBqb3VybmFsICYmIGpvdXJuYWwucHVzaChWTm9kZUpvdXJuYWxPcENvZGUuU2V0QXR0cmlidXRlLCB0aGlzLmVsZW1lbnQsIGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBpZiAoaXNEZXYpIHtcbiAgICAgIHJldHVybiB2bm9kZV90b1N0cmluZy5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gU3RyaW5nKHRoaXMpO1xuICB9XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjbGFzcyBUZXh0Vk5vZGUgZXh0ZW5kcyBWTm9kZSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGZsYWdzOiBWTm9kZUZsYWdzLFxuICAgIHBhcmVudDogRWxlbWVudFZOb2RlIHwgVmlydHVhbFZOb2RlIHwgbnVsbCxcbiAgICBwcmV2aW91c1NpYmxpbmc6IFZOb2RlIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgICBuZXh0U2libGluZzogVk5vZGUgfCBudWxsIHwgdW5kZWZpbmVkLFxuICAgIHB1YmxpYyB0ZXh0Tm9kZTogVGV4dCB8IG51bGwsXG4gICAgcHVibGljIHRleHQ6IHN0cmluZyB8IHVuZGVmaW5lZFxuICApIHtcbiAgICBzdXBlcihmbGFncywgcGFyZW50LCBwcmV2aW91c1NpYmxpbmcsIG5leHRTaWJsaW5nKTtcbiAgfVxufVxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY2xhc3MgVmlydHVhbFZOb2RlIGV4dGVuZHMgVk5vZGUge1xuICBjb25zdHJ1Y3RvcihcbiAgICBmbGFnczogVk5vZGVGbGFncyxcbiAgICBwYXJlbnQ6IEVsZW1lbnRWTm9kZSB8IFZpcnR1YWxWTm9kZSB8IG51bGwsXG4gICAgcHJldmlvdXNTaWJsaW5nOiBWTm9kZSB8IG51bGwgfCB1bmRlZmluZWQsXG4gICAgbmV4dFNpYmxpbmc6IFZOb2RlIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgICBwdWJsaWMgZmlyc3RDaGlsZDogVk5vZGUgfCBudWxsIHwgdW5kZWZpbmVkLFxuICAgIHB1YmxpYyBsYXN0Q2hpbGQ6IFZOb2RlIHwgbnVsbCB8IHVuZGVmaW5lZFxuICApIHtcbiAgICBzdXBlcihmbGFncywgcGFyZW50LCBwcmV2aW91c1NpYmxpbmcsIG5leHRTaWJsaW5nKTtcbiAgfVxufVxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY2xhc3MgRWxlbWVudFZOb2RlIGV4dGVuZHMgVk5vZGUge1xuICBjb25zdHJ1Y3RvcihcbiAgICBmbGFnczogVk5vZGVGbGFncyxcbiAgICBwYXJlbnQ6IEVsZW1lbnRWTm9kZSB8IFZpcnR1YWxWTm9kZSB8IG51bGwsXG4gICAgcHJldmlvdXNTaWJsaW5nOiBWTm9kZSB8IG51bGwgfCB1bmRlZmluZWQsXG4gICAgbmV4dFNpYmxpbmc6IFZOb2RlIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgICBwdWJsaWMgZmlyc3RDaGlsZDogVk5vZGUgfCBudWxsIHwgdW5kZWZpbmVkLFxuICAgIHB1YmxpYyBsYXN0Q2hpbGQ6IFZOb2RlIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgICBwdWJsaWMgZWxlbWVudDogUUVsZW1lbnQsXG4gICAgcHVibGljIGVsZW1lbnROYW1lOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgKSB7XG4gICAgc3VwZXIoZmxhZ3MsIHBhcmVudCwgcHJldmlvdXNTaWJsaW5nLCBuZXh0U2libGluZyk7XG4gIH1cbn1cbiJdfQ==","/**\n * @file\n *\n *   VNode is a DOM like API for walking the DOM but it:\n *\n *   1. Encodes virtual nodes which don't exist in the DOM\n *   2. Can serialize as part of SSR and than deserialize on the client.\n *\n *   # Virtual\n *\n *   You can think of a Virtual node just like an additional `<div>` in that it groups related child\n *   nodes together. But unlike a `<div>` which has a real DOM node and hence implications for CSS,\n *   Virtual nodes have no DOM impact, they are invisible.\n *\n *   # Portal\n *\n *   Two Virtual nodes can be linked together to form a Portal. Portals are useful for projecting\n *   content or just rendering content in a different location in the tree, while maintaining a\n *   logical relationship.\n *\n *   Portals have:\n *\n *   - Portal Source: A Virtual node which can refer to one ore more Destination Portals by name.\n *   - Destination Portal: A Virtual node which acts as a destination but also has a pointer back to the\n *       Portal Source\n *\n *   ## Example:\n *\n *   Given this code:\n *\n *   ```typescript\n *   const Parent = component$(() => {\n *     return (\n *       <Child>\n *         Projection Content\n *         <span q:slot=\"secondary\">Secondary Content</span>\n *         <span q:slot=\"other\">Other Content</span>\n *       </Child>\n *     };\n *   });\n *\n *   const Child = component$(() => {\n *     return (\n *       <div>\n *         <Slot>Default Primary</Slot>\n *         <Slot name=\"secondary\">Default Secondary</Slot>\n *       </div>\n *     );\n *   });\n *\n *   render(<body><main><Parent/></main><body>);\n * ```\n *\n *   Will render like so:\n *\n *   ```html\n *   <body>\n *     <main>\n *       <Virtual Parent q:portal=\":3A;secondary:3B;other:5A\" q:id=\"2A\">\n *         <Virtual Child>\n *           <div>\n *             <Virtual Slot q:id=\"3A\" q:portal=\"^:2A;:3A\"> Projection Content </Virtual>\n *             <Virtual Slot q:id=\"3B\" q:portal=\"^:2A;:3B\">\n *               <span q:slot=\"secondary\">Secondary Content</span>\n *             </Virtual>\n *           </div>\n *         </Virtual>\n *       </Virtual>\n *     </main>\n *     <q:template>\n *       <Virtual q:portal=\"^:2A\" q:id=\"5A\">\n *         <span q:slot=\"other\">Other Content</span>\n *       </Virtual>\n *       <Virtual q:portal=\"^:2A\" q:id=\"3A\">\n *         Default Primary\n *       </Virtual>\n *       <Virtual q:portal=\"^:2A\" q:id=\"3B\">\n *         Default Secondary\n *       </Virtual>\n *     <q:template>\n *   </body>\n * ```\n *\n *   Explanation:\n *\n *   - `q:portal=\":3A;secondary:3B;other:5A\"`\n *\n *       - Name: ``; Ref: `3A` - Where the default content went.\n *       - Name: `secondary`; Ref: `3B` - Where the 'secondary' content went.\n *       - Name: `other`; Ref: `%A` - Where the `other` content went. (Notice in this case the content is\n *               left over and os it ends up en the `q:templates`. We can share one '<q:template>`\n *               for all left over content.)\n *   - `q:portal=\"^:2A;:3A\"`\n *\n *       - Name: `^`; Ref: `2A` - Special pointer to the parent portal\n *       - Name: ``; Ref: `3A` - Location of the default content in case there is nothing projected here.\n *\n *   ## Rendering\n *\n *   During SSR, the rendered can delay rendering the JSX nodes until correct portal comes up. The ID\n *   system is already can make lazy references to the Nodes.\n *\n *   Client side rendering does not need to deal with IDs or `<q:template>` as un-rendered vNodes do\n *   not need to be serialized into DOM, and can remain on heap.\n *\n *   ## Context\n *\n *   When looking up context it is possible to follow you real render parents or follow the portals.\n *   All information is encoded in the portals.\n *\n *   ## Slot Projection\n *\n *   The ultimate user of portals is Slot projection. But the vNode do not understand slots, rather\n *   they understand portal primitives which makes Slot implementation much simpler.\n *\n *   NOTE: The portals need to have IDs during serialization only. Once runtime takes over, there is\n *   no need to have IDs or to write overflow to the `<q:template>`\n */\nimport { isDev } from '@qwik.dev/core/build';\nimport { qwikDebugToString } from '../debug';\nimport { assertDefined, assertEqual, assertFalse, assertTrue } from '../shared/error/assert';\nimport { qError } from '../shared/error/error';\nimport { DEBUG_TYPE, VirtualTypeName, } from '../shared/types';\nimport { isText } from '../shared/utils/element';\nimport { dangerouslySetInnerHTML, ELEMENT_ID, ELEMENT_KEY, ELEMENT_PROPS, ELEMENT_SEQ, ELEMENT_SEQ_IDX, OnRenderProp, Q_PROPS_SEPARATOR, QContainerAttr, QContainerAttrEnd, QContainerIsland, QContainerIslandEnd, QCtxAttr, QIgnore, QIgnoreEnd, QScopedStyle, QSlot, QStyle, QStylesAllSelector, } from '../shared/utils/markers';\nimport { isHtmlElement } from '../shared/utils/types';\nimport { VNodeDataChar } from '../shared/vnode-data-types';\nimport { getDomContainer } from './dom-container';\nimport { mapArray_set } from './util-mapArray';\nimport { vnode_getDomChildrenWithCorrectNamespacesToInsert, vnode_getElementNamespaceFlags, } from './vnode-namespace';\nimport { mergeMaps } from '../shared/utils/maps';\nimport { _EFFECT_BACK_REF } from '../reactive-primitives/types';\nimport { ElementVNode, TextVNode, VirtualVNode, VNode } from './vnode-impl';\n//////////////////////////////////////////////////////////////////////////////////////////////////////\nexport const vnode_newElement = (element, elementName) => {\n    assertEqual(fastNodeType(element), 1 /* ELEMENT_NODE */, 'Expecting element node.');\n    const vnode = new ElementVNode(1 /* VNodeFlags.Element */ | 8 /* VNodeFlags.Inflated */ | (-1 << 8 /* VNodeFlagsIndex.shift */), // Flag\n    null, null, null, null, null, element, elementName);\n    assertTrue(vnode_isElementVNode(vnode), 'Incorrect format of ElementVNode.');\n    assertFalse(vnode_isTextVNode(vnode), 'Incorrect format of ElementVNode.');\n    assertFalse(vnode_isVirtualVNode(vnode), 'Incorrect format of ElementVNode.');\n    element.vNode = vnode;\n    return vnode;\n};\nexport const vnode_newUnMaterializedElement = (element) => {\n    assertEqual(fastNodeType(element), 1 /* ELEMENT_NODE */, 'Expecting element node.');\n    const vnode = new ElementVNode(1 /* VNodeFlags.Element */ | (-1 << 8 /* VNodeFlagsIndex.shift */), // Flag\n    null, null, null, undefined, undefined, element, undefined);\n    assertTrue(vnode_isElementVNode(vnode), 'Incorrect format of ElementVNode.');\n    assertFalse(vnode_isTextVNode(vnode), 'Incorrect format of ElementVNode.');\n    assertFalse(vnode_isVirtualVNode(vnode), 'Incorrect format of ElementVNode.');\n    element.vNode = vnode;\n    return vnode;\n};\nexport const vnode_newSharedText = (previousTextNode, sharedTextNode, textContent) => {\n    sharedTextNode &&\n        assertEqual(fastNodeType(sharedTextNode), 3 /* TEXT_NODE */, 'Expecting element node.');\n    const vnode = new TextVNode(4 /* VNodeFlags.Text */ | (-1 << 8 /* VNodeFlagsIndex.shift */), // Flag\n    null, // Parent\n    previousTextNode, // Previous TextNode (usually first child)\n    null, // Next sibling\n    sharedTextNode, // SharedTextNode\n    textContent // Text Content\n    );\n    assertFalse(vnode_isElementVNode(vnode), 'Incorrect format of TextVNode.');\n    assertTrue(vnode_isTextVNode(vnode), 'Incorrect format of TextVNode.');\n    assertFalse(vnode_isVirtualVNode(vnode), 'Incorrect format of TextVNode.');\n    return vnode;\n};\nexport const vnode_newText = (textNode, textContent) => {\n    const vnode = new TextVNode(4 /* VNodeFlags.Text */ | 8 /* VNodeFlags.Inflated */ | (-1 << 8 /* VNodeFlagsIndex.shift */), // Flags\n    null, // Parent\n    null, // No previous sibling\n    null, // We may have a next sibling.\n    textNode, // TextNode\n    textContent // Text Content\n    );\n    assertEqual(fastNodeType(textNode), 3 /* TEXT_NODE */, 'Expecting element node.');\n    assertFalse(vnode_isElementVNode(vnode), 'Incorrect format of TextVNode.');\n    assertTrue(vnode_isTextVNode(vnode), 'Incorrect format of TextVNode.');\n    assertFalse(vnode_isVirtualVNode(vnode), 'Incorrect format of TextVNode.');\n    return vnode;\n};\nexport const vnode_newVirtual = () => {\n    const vnode = new VirtualVNode(2 /* VNodeFlags.Virtual */ | (-1 << 8 /* VNodeFlagsIndex.shift */), // Flags\n    null, null, null, null, null);\n    assertFalse(vnode_isElementVNode(vnode), 'Incorrect format of TextVNode.');\n    assertFalse(vnode_isTextVNode(vnode), 'Incorrect format of TextVNode.');\n    assertTrue(vnode_isVirtualVNode(vnode), 'Incorrect format of TextVNode.');\n    return vnode;\n};\n//////////////////////////////////////////////////////////////////////////////////////////////////////\nexport const vnode_isVNode = (vNode) => {\n    return vNode instanceof VNode;\n};\nexport const vnode_isElementVNode = (vNode) => {\n    assertDefined(vNode, 'Missing vNode');\n    const flag = vNode.flags;\n    return (flag & 1 /* VNodeFlags.Element */) === 1 /* VNodeFlags.Element */;\n};\nexport const vnode_isElementOrTextVNode = (vNode) => {\n    assertDefined(vNode, 'Missing vNode');\n    const flag = vNode.flags;\n    return (flag & 5 /* VNodeFlags.ELEMENT_OR_TEXT_MASK */) !== 0;\n};\nexport const vnode_isElementOrVirtualVNode = (vNode) => {\n    assertDefined(vNode, 'Missing vNode');\n    const flag = vNode.flags;\n    return (flag & 3 /* VNodeFlags.ELEMENT_OR_VIRTUAL_MASK */) !== 0;\n};\n/** @internal */\nexport const vnode_isMaterialized = (vNode) => {\n    assertDefined(vNode, 'Missing vNode');\n    const flag = vNode.flags;\n    return ((flag & 1 /* VNodeFlags.Element */) === 1 /* VNodeFlags.Element */ &&\n        vNode.firstChild !== undefined &&\n        vNode.lastChild !== undefined);\n};\n/** @internal */\nexport const vnode_isTextVNode = (vNode) => {\n    assertDefined(vNode, 'Missing vNode');\n    const flag = vNode.flags;\n    return (flag & 4 /* VNodeFlags.Text */) === 4 /* VNodeFlags.Text */;\n};\n/** @internal */\nexport const vnode_isVirtualVNode = (vNode) => {\n    assertDefined(vNode, 'Missing vNode');\n    const flag = vNode.flags;\n    return (flag & 2 /* VNodeFlags.Virtual */) === 2 /* VNodeFlags.Virtual */;\n};\nexport const vnode_isProjection = (vNode) => {\n    assertDefined(vNode, 'Missing vNode');\n    const flag = vNode.flags;\n    return (flag & 2 /* VNodeFlags.Virtual */) === 2 /* VNodeFlags.Virtual */ && vNode.getProp(QSlot, null) !== null;\n};\nconst ensureTextVNode = (vNode) => {\n    assertTrue(vnode_isTextVNode(vNode), 'Expecting TextVNode was: ' + vnode_getNodeTypeName(vNode));\n    return vNode;\n};\nconst ensureElementOrVirtualVNode = (vNode) => {\n    assertDefined(vNode, 'Missing vNode');\n    assertTrue((vNode.flags & 3 /* VNodeFlags.ELEMENT_OR_VIRTUAL_MASK */) !== 0, 'Expecting ElementVNode or VirtualVNode was: ' + vnode_getNodeTypeName(vNode));\n};\nexport const ensureElementVNode = (vNode) => {\n    assertTrue(vnode_isElementVNode(vNode), 'Expecting ElementVNode was: ' + vnode_getNodeTypeName(vNode));\n    return vNode;\n};\nexport const vnode_getNodeTypeName = (vNode) => {\n    if (vNode) {\n        const flags = vNode.flags;\n        switch (flags & 7 /* VNodeFlags.TYPE_MASK */) {\n            case 1 /* VNodeFlags.Element */:\n                return 'Element';\n            case 2 /* VNodeFlags.Virtual */:\n                return 'Virtual';\n            case 4 /* VNodeFlags.Text */:\n                return 'Text';\n        }\n    }\n    return '<unknown>';\n};\n/** @internal */\nexport const vnode_ensureElementInflated = (vnode) => {\n    const flags = vnode.flags;\n    if ((flags & 15 /* VNodeFlags.INFLATED_TYPE_MASK */) === 1 /* VNodeFlags.Element */) {\n        const elementVNode = vnode;\n        elementVNode.flags ^= 8 /* VNodeFlags.Inflated */;\n        const element = elementVNode.element;\n        const attributes = element.attributes;\n        for (let idx = 0; idx < attributes.length; idx++) {\n            const attr = attributes[idx];\n            const key = attr.name;\n            if (key === Q_PROPS_SEPARATOR || !key) {\n                // SVG in Domino does not support ':' so it becomes an empty string.\n                // all attributes after the ':' are considered immutable, and so we ignore them.\n                break;\n            }\n            else if (key.startsWith(QContainerAttr)) {\n                const props = vnode_getProps(elementVNode);\n                if (attr.value === \"html\" /* QContainerValue.HTML */) {\n                    mapArray_set(props, dangerouslySetInnerHTML, element.innerHTML, 0);\n                }\n                else if (attr.value === \"text\" /* QContainerValue.TEXT */ && 'value' in element) {\n                    mapArray_set(props, 'value', element.value, 0);\n                }\n            }\n            else if (!key.startsWith(\"on:\" /* EventNameHtmlScope.on */)) {\n                const value = attr.value;\n                const props = vnode_getProps(elementVNode);\n                mapArray_set(props, key, value, 0);\n            }\n        }\n    }\n};\n/** Walks the VNode tree and materialize it using `vnode_getFirstChild`. */\nexport function vnode_walkVNode(vNode, callback) {\n    let vCursor = vNode;\n    // Depth first traversal\n    if (vnode_isTextVNode(vNode)) {\n        // Text nodes don't have subscriptions or children;\n        return;\n    }\n    let vParent = null;\n    do {\n        if (callback?.(vCursor, vParent)) {\n            return;\n        }\n        const vFirstChild = vnode_getFirstChild(vCursor);\n        if (vFirstChild) {\n            vCursor = vFirstChild;\n            continue;\n        }\n        // Out of children\n        if (vCursor === vNode) {\n            // we are where we started, this means that vNode has no children, so we are done.\n            return;\n        }\n        // Out of children, go to next sibling\n        const vNextSibling = vCursor.nextSibling;\n        if (vNextSibling) {\n            vCursor = vNextSibling;\n            continue;\n        }\n        // Out of siblings, go to parent\n        vParent = vCursor.parent;\n        while (vParent) {\n            if (vParent === vNode) {\n                // We are back where we started, we are done.\n                return;\n            }\n            const vNextParentSibling = vParent.nextSibling;\n            if (vNextParentSibling) {\n                vCursor = vNextParentSibling;\n                break;\n            }\n            vParent = vParent.parent;\n        }\n        if (vParent == null) {\n            // We are done.\n            return;\n        }\n    } while (true);\n}\nexport function vnode_getDOMChildNodes(journal, root, isVNode = false, childNodes = []) {\n    if (vnode_isElementOrTextVNode(root)) {\n        if (vnode_isTextVNode(root)) {\n            /**\n             * If we are collecting text nodes, we need to ensure that they are inflated. If not inflated\n             * we would return a single text node which represents many actual text nodes, or removing a\n             * single text node would remove many text nodes.\n             */\n            vnode_ensureTextInflated(journal, root);\n        }\n        childNodes.push(isVNode ? root : vnode_getNode(root));\n        return childNodes;\n    }\n    let vNode = vnode_getFirstChild(root);\n    while (vNode) {\n        if (vnode_isElementVNode(vNode)) {\n            childNodes.push(isVNode ? vNode : vnode_getNode(vNode));\n        }\n        else if (vnode_isTextVNode(vNode)) {\n            /**\n             * If we are collecting text nodes, we need to ensure that they are inflated. If not inflated\n             * we would return a single text node which represents many actual text nodes, or removing a\n             * single text node would remove many text nodes.\n             */\n            vnode_ensureTextInflated(journal, vNode);\n            childNodes.push(isVNode ? vNode : vnode_getNode(vNode));\n        }\n        else {\n            isVNode\n                ? vnode_getDOMChildNodes(journal, vNode, true, childNodes)\n                : vnode_getDOMChildNodes(journal, vNode, false, childNodes);\n        }\n        vNode = vNode.nextSibling;\n    }\n    return childNodes;\n}\n/**\n * Returns the previous/next sibling but from the point of view of the DOM.\n *\n * Given:\n *\n * ```\n * <div>\n *   <>a</>\n *   <>\n *     <></>\n *     <>b</>\n *     <></>\n *   </>\n *   <>c</>\n * </div>\n * ```\n *\n * Then:\n *\n * - Next: if we start at `a` the next DOM sibling is `b`, than `c`.\n * - Previous: if we start at `c` the next DOM sibling is `b`, than `a`.\n *\n * @param vNode - Starting node\n * @param nextDirection - Direction to search true=next, false=previous\n * @param descend - If true, than we will descend into the children first.\n * @returns\n */\nconst vnode_getDomSibling = (vNode, nextDirection, descend) => {\n    const childProp = nextDirection ? 'firstChild' : 'lastChild';\n    const siblingProp = nextDirection ? 'nextSibling' : 'previousSibling';\n    let cursor = vNode;\n    // first make sure we have a DOM node or no children.\n    while (descend && cursor && vnode_isVirtualVNode(cursor)) {\n        const child = cursor[childProp];\n        if (!child) {\n            break;\n        }\n        if (child.flags & 5 /* VNodeFlags.ELEMENT_OR_TEXT_MASK */) {\n            return child;\n        }\n        cursor = child;\n    }\n    while (cursor) {\n        // Look at the previous/next sibling.\n        let sibling = cursor[siblingProp];\n        if (sibling && sibling.flags & 5 /* VNodeFlags.ELEMENT_OR_TEXT_MASK */) {\n            // we found a previous/next DOM node, return it.\n            return sibling;\n        }\n        else if (!sibling) {\n            // If we don't have a sibling than walk up the tree until you find one.\n            let virtual = cursor.parent;\n            if (virtual && !vnode_isVirtualVNode(virtual)) {\n                return null;\n            }\n            while (virtual && !(sibling = virtual[siblingProp])) {\n                virtual = virtual.parent;\n                if (virtual && !vnode_isVirtualVNode(virtual)) {\n                    // the parent node is not virtual, so we are done here.\n                    return null;\n                }\n            }\n            if (!sibling) {\n                // If we did not find a sibling, than we are done.\n                return null;\n            }\n            if (vnode_isTextVNode(sibling) && virtual && vnode_isElementVNode(virtual)) {\n                // sibling to the real element is a text node, this is not a sibling\n                return null;\n            }\n        }\n        // At this point `sibling` is a next node to look at.\n        // Next step is to descend until we find a DOM done.\n        while (sibling) {\n            cursor = sibling;\n            if (cursor.flags & 5 /* VNodeFlags.ELEMENT_OR_TEXT_MASK */ && vnode_getNode(cursor)) {\n                // we have to check that we actually have a node, because it could be a text node which is\n                // zero length and which does not have a representation in the DOM.\n                return cursor;\n            }\n            sibling = cursor[childProp];\n        }\n        // If we are here we did not find anything and we need to go up the tree again.\n    }\n    return null;\n};\nconst vnode_ensureInflatedIfText = (journal, vNode) => {\n    if (vnode_isTextVNode(vNode)) {\n        vnode_ensureTextInflated(journal, vNode);\n    }\n};\nconst vnode_ensureTextInflated = (journal, vnode) => {\n    const textVNode = ensureTextVNode(vnode);\n    const flags = textVNode.flags;\n    if ((flags & 8 /* VNodeFlags.Inflated */) === 0) {\n        const parentNode = vnode_getDomParent(vnode);\n        assertDefined(parentNode, 'Missing parent node.');\n        const sharedTextNode = textVNode.textNode;\n        const doc = parentNode.ownerDocument;\n        // Walk the previous siblings and inflate them.\n        let cursor = vnode_getDomSibling(vnode, false, true);\n        // If text node is 0 length, than there is no text node.\n        // In that case we use the next node as a reference, in which\n        // case we know that the next node MUST be either NULL or an Element.\n        const node = vnode_getDomSibling(vnode, true, true);\n        const insertBeforeNode = sharedTextNode ||\n            ((node instanceof ElementVNode ? node.element : node?.textNode) || null);\n        let lastPreviousTextNode = insertBeforeNode;\n        while (cursor && vnode_isTextVNode(cursor)) {\n            if ((cursor.flags & 8 /* VNodeFlags.Inflated */) === 0) {\n                const textNode = doc.createTextNode(cursor.text);\n                journal.push(6 /* VNodeJournalOpCode.Insert */, parentNode, lastPreviousTextNode, textNode);\n                lastPreviousTextNode = textNode;\n                cursor.textNode = textNode;\n                cursor.flags |= 8 /* VNodeFlags.Inflated */;\n            }\n            cursor = vnode_getDomSibling(cursor, false, true);\n        }\n        // Walk the next siblings and inflate them.\n        cursor = vnode;\n        while (cursor && vnode_isTextVNode(cursor)) {\n            const next = vnode_getDomSibling(cursor, true, true);\n            const isLastNode = next ? !vnode_isTextVNode(next) : true;\n            if ((cursor.flags & 8 /* VNodeFlags.Inflated */) === 0) {\n                if (isLastNode && sharedTextNode) {\n                    journal.push(1 /* VNodeJournalOpCode.SetText */, sharedTextNode, cursor.text);\n                }\n                else {\n                    const textNode = doc.createTextNode(cursor.text);\n                    journal.push(6 /* VNodeJournalOpCode.Insert */, parentNode, insertBeforeNode, textNode);\n                    cursor.textNode = textNode;\n                }\n                cursor.flags |= 8 /* VNodeFlags.Inflated */;\n            }\n            cursor = next;\n        }\n    }\n};\nexport const vnode_locate = (rootVNode, id) => {\n    ensureElementVNode(rootVNode);\n    let vNode = rootVNode;\n    const containerElement = rootVNode.element;\n    const { qVNodeRefs } = containerElement;\n    let elementOffset = -1;\n    let refElement;\n    if (typeof id === 'string') {\n        assertDefined(qVNodeRefs, 'Missing qVNodeRefs.');\n        elementOffset = parseInt(id);\n        refElement = qVNodeRefs.get(elementOffset);\n    }\n    else {\n        refElement = id;\n        const vNode = refElement.vNode;\n        if (vNode) {\n            return vNode;\n        }\n    }\n    assertDefined(refElement, 'Missing refElement.');\n    if (!vnode_isVNode(refElement)) {\n        assertTrue(containerElement.contains(refElement), `Couldn't find the element inside the container while locating the VNode.`);\n        // We need to find the vnode.\n        let parent = refElement;\n        const elementPath = [refElement];\n        while (parent && parent !== containerElement && !parent.vNode) {\n            parent = parent.parentElement;\n            elementPath.push(parent);\n        }\n        if (parent.vNode) {\n            vNode = parent.vNode;\n        }\n        // Start at rootVNode and follow the `elementPath` to find the vnode.\n        for (let i = elementPath.length - 2; i >= 0; i--) {\n            vNode = vnode_getVNodeForChildNode(vNode, elementPath[i]);\n        }\n        if (elementOffset != -1) {\n            refElement.vNode = vNode;\n            qVNodeRefs.set(elementOffset, vNode);\n        }\n    }\n    else {\n        vNode = refElement;\n    }\n    if (typeof id === 'string') {\n        // process virtual node search.\n        const idLength = id.length;\n        let idx = indexOfAlphanumeric(id, idLength);\n        let childIdx = 0;\n        while (idx < idLength) {\n            const ch = id.charCodeAt(idx);\n            childIdx *= 26 /* a-z */;\n            if (ch >= 97 /* a */) {\n                // is lowercase\n                childIdx += ch - 97 /* a */;\n            }\n            else {\n                // is uppercase\n                childIdx += ch - 65 /* A */;\n                vNode = vnode_getChildWithIdx(vNode, childIdx);\n                childIdx = 0;\n            }\n            idx++;\n        }\n    }\n    return vNode;\n};\nconst vnode_getChildWithIdx = (vNode, childIdx) => {\n    let child = vnode_getFirstChild(vNode);\n    assertDefined(child, 'Missing child.');\n    while (child.flags >>> 8 /* VNodeFlagsIndex.shift */ !== childIdx) {\n        child = child.nextSibling;\n        assertDefined(child, 'Missing child.');\n    }\n    return child;\n};\nconst vNodeStack = [];\nexport const vnode_getVNodeForChildNode = (vNode, childElement) => {\n    ensureElementVNode(vNode);\n    let child = vnode_getFirstChild(vNode);\n    assertDefined(child, 'Missing child.');\n    while (child && (child instanceof ElementVNode ? child.element !== childElement : true)) {\n        if (vnode_isVirtualVNode(child)) {\n            const next = child.nextSibling;\n            const firstChild = vnode_getFirstChild(child);\n            if (firstChild) {\n                next && vNodeStack.push(next);\n                child = firstChild;\n            }\n            else {\n                child = next || (vNodeStack.length ? vNodeStack.pop() : null);\n            }\n        }\n        else {\n            const next = child.nextSibling;\n            if (next) {\n                child = next;\n            }\n            else {\n                child = next || vNodeStack.pop();\n            }\n        }\n        assertDefined(child, 'Missing child.');\n    }\n    while (vNodeStack.length) {\n        vNodeStack.pop();\n    }\n    ensureElementVNode(child);\n    assertEqual(child.element, childElement, 'Child not found.');\n    // console.log('FOUND', child[VNodeProps.node]?.outerHTML);\n    return child;\n};\nconst indexOfAlphanumeric = (id, length) => {\n    let idx = 0;\n    while (idx < length) {\n        if (id.charCodeAt(idx) <= 57 /* 9 */) {\n            idx++;\n        }\n        else {\n            return idx;\n        }\n    }\n    return length;\n};\nexport const vnode_createErrorDiv = (document, host, err, journal) => {\n    const errorDiv = document.createElement('errored-host');\n    if (err && err instanceof Error) {\n        errorDiv.props = { error: err };\n    }\n    errorDiv.setAttribute('q:key', '_error_');\n    const vErrorDiv = vnode_newElement(errorDiv, 'errored-host');\n    vnode_getDOMChildNodes(journal, host, true).forEach((child) => {\n        vnode_insertBefore(journal, vErrorDiv, child, null);\n    });\n    return vErrorDiv;\n};\n//////////////////////////////////////////////////////////////////////////////////////////////////////\nexport const vnode_journalToString = (journal) => {\n    const lines = ['JOURNAL:'];\n    let idx = 0;\n    const length = journal.length;\n    function stringify(...args) {\n        lines.push(args\n            .map((arg) => {\n            if (typeof arg === 'string') {\n                return arg;\n            }\n            else if (arg && isHtmlElement(arg)) {\n                const html = arg.outerHTML;\n                const hasChildNodes = !!arg.firstElementChild;\n                const idx = html.indexOf('>');\n                const lastIdx = html.lastIndexOf('<');\n                return idx > 0 && hasChildNodes\n                    ? html.substring(0, idx + 1) + '...' + html.substring(lastIdx)\n                    : html;\n            }\n            else if (arg && isText(arg)) {\n                return JSON.stringify(arg.nodeValue);\n            }\n            else {\n                return String(arg);\n            }\n        })\n            .join(' '));\n    }\n    while (idx < length) {\n        const op = journal[idx++];\n        switch (op) {\n            case 1 /* VNodeJournalOpCode.SetText */:\n                stringify('SetText');\n                stringify('  ', journal[idx++]);\n                stringify('   -->', journal[idx++]);\n                break;\n            case 2 /* VNodeJournalOpCode.SetAttribute */:\n                stringify('SetAttribute');\n                stringify('  ', journal[idx++]);\n                stringify('   key', journal[idx++]);\n                stringify('   val', journal[idx++]);\n                break;\n            case 3 /* VNodeJournalOpCode.HoistStyles */:\n                stringify('HoistStyles');\n                break;\n            case 4 /* VNodeJournalOpCode.Remove */: {\n                stringify('Remove');\n                const parent = journal[idx++];\n                stringify('  ', parent);\n                let nodeToRemove;\n                while (idx < length && typeof (nodeToRemove = journal[idx]) !== 'number') {\n                    stringify('   -->', nodeToRemove);\n                    idx++;\n                }\n                break;\n            }\n            case 6 /* VNodeJournalOpCode.Insert */: {\n                stringify('Insert');\n                const parent = journal[idx++];\n                const insertBefore = journal[idx++];\n                stringify('  ', parent);\n                let newChild;\n                while (idx < length && typeof (newChild = journal[idx]) !== 'number') {\n                    stringify('   -->', newChild);\n                    idx++;\n                }\n                if (insertBefore) {\n                    stringify('      ', insertBefore);\n                }\n                break;\n            }\n        }\n    }\n    lines.push('END JOURNAL');\n    return lines.join('\\n');\n};\nconst parseBoolean = (value) => {\n    if (value === 'false') {\n        return false;\n    }\n    return Boolean(value);\n};\nconst isBooleanAttr = (element, key) => {\n    const isBoolean = key == 'allowfullscreen' ||\n        key == 'async' ||\n        key == 'autofocus' ||\n        key == 'autoplay' ||\n        key == 'checked' ||\n        key == 'controls' ||\n        key == 'default' ||\n        key == 'defer' ||\n        key == 'disabled' ||\n        key == 'formnovalidate' ||\n        key == 'inert' ||\n        key == 'ismap' ||\n        key == 'itemscope' ||\n        key == 'loop' ||\n        key == 'multiple' ||\n        key == 'muted' ||\n        key == 'nomodule' ||\n        key == 'novalidate' ||\n        key == 'open' ||\n        key == 'playsinline' ||\n        key == 'readonly' ||\n        key == 'required' ||\n        key == 'reversed' ||\n        key == 'selected';\n    return isBoolean && key in element;\n};\nexport const vnode_applyJournal = (journal) => {\n    // console.log('APPLY JOURNAL', vnode_journalToString(journal));\n    let idx = 0;\n    const length = journal.length;\n    while (idx < length) {\n        const op = journal[idx++];\n        switch (op) {\n            case 1 /* VNodeJournalOpCode.SetText */:\n                const text = journal[idx++];\n                text.nodeValue = journal[idx++];\n                break;\n            case 2 /* VNodeJournalOpCode.SetAttribute */:\n                const element = journal[idx++];\n                let key = journal[idx++];\n                if (key === 'className') {\n                    key = 'class';\n                }\n                const value = journal[idx++];\n                if (isBooleanAttr(element, key)) {\n                    element[key] = parseBoolean(value);\n                }\n                else if (key === 'value' && key in element) {\n                    element.value = String(value);\n                }\n                else if (key === dangerouslySetInnerHTML) {\n                    element.innerHTML = value;\n                    element.setAttribute(QContainerAttr, \"html\" /* QContainerValue.HTML */);\n                }\n                else {\n                    if (value == null || value === false) {\n                        element.removeAttribute(key);\n                    }\n                    else {\n                        element.setAttribute(key, String(value));\n                    }\n                }\n                break;\n            case 3 /* VNodeJournalOpCode.HoistStyles */:\n                const document = journal[idx++];\n                const head = document.head;\n                const styles = document.querySelectorAll(QStylesAllSelector);\n                for (let i = 0; i < styles.length; i++) {\n                    head.appendChild(styles[i]);\n                }\n                break;\n            case 4 /* VNodeJournalOpCode.Remove */:\n                const removeParent = journal[idx++];\n                let nodeToRemove;\n                while (idx < length && typeof (nodeToRemove = journal[idx]) !== 'number') {\n                    removeParent.removeChild(nodeToRemove);\n                    idx++;\n                }\n                break;\n            case 5 /* VNodeJournalOpCode.RemoveAll */:\n                const removeAllParent = journal[idx++];\n                if (removeAllParent.replaceChildren) {\n                    removeAllParent.replaceChildren();\n                }\n                else {\n                    // fallback if replaceChildren is not supported\n                    removeAllParent.textContent = '';\n                }\n                break;\n            case 6 /* VNodeJournalOpCode.Insert */:\n                const insertParent = journal[idx++];\n                const insertBefore = journal[idx++];\n                let newChild;\n                while (idx < length && typeof (newChild = journal[idx]) !== 'number') {\n                    insertParent.insertBefore(newChild, insertBefore);\n                    idx++;\n                }\n                break;\n        }\n    }\n    journal.length = 0;\n};\n//////////////////////////////////////////////////////////////////////////////////////////////////////\nexport const vnode_insertBefore = (journal, parent, newChild, insertBefore) => {\n    ensureElementOrVirtualVNode(parent);\n    if (vnode_isElementVNode(parent)) {\n        ensureMaterialized(parent);\n    }\n    const newChildCurrentParent = newChild.parent;\n    if (newChild === insertBefore) {\n        // invalid insertBefore. We can't insert before self reference\n        // prevent infinity loop and putting self reference to next sibling\n        if (newChildCurrentParent) {\n            // early return, as the newChild is already in the tree and we are already in the correct position\n            return;\n        }\n        else {\n            // if the newChild is not in the tree, than we insert it at the end of the list\n            insertBefore = null;\n        }\n    }\n    /**\n     * Find the parent node and the dom children with the correct namespaces before we unlink the\n     * previous node. If we don't do this, we will end up with situations where we inflate text nodes\n     * from shared text node not correctly.\n     *\n     * Example:\n     *\n     * ```\n     * <Component>\n     *   <Projection>a</Projection>\n     *   <Projection>b</Projection>\n     * </Component>\n     * ```\n     *\n     * Projection nodes are virtual nodes, so they don't have a dom parent. They will be written to\n     * the q:template element if not visible at the start. Inside the q:template element, the\n     * projection nodes will be streamed as single text node \"ab\". We need to split it, but if we\n     * unlink the previous or next sibling, we don't know that after \"a\" node is \"b\". So we need to\n     * find children first (and inflate them).\n     */\n    const domParentVNode = vnode_getDomParentVNode(parent, false);\n    const parentNode = domParentVNode && domParentVNode.element;\n    let domChildren = null;\n    if (domParentVNode) {\n        domChildren = vnode_getDomChildrenWithCorrectNamespacesToInsert(journal, domParentVNode, newChild);\n    }\n    /**\n     * Ensure that the previous node is unlinked.\n     *\n     * We need to do it before finding the adjustedInsertBefore. The problem is when you try to render\n     * the same projection multiple times in the same node but under different conditions. We reuse\n     * projection nodes, so when this happens, we can end up with a situation where the node is\n     * inserted before node above it.\n     *\n     * Example:\n     *\n     * ```\n     * <>\n     *   {props.toggle && <Slot />}\n     *   {!props.toggle && (\n     *     <>\n     *       <Slot />\n     *     </>\n     *   )}\n     * </>\n     * ```\n     *\n     * Projected content:\n     *\n     * ```\n     * <h1>Test</h1>\n     * <p>Test content</p>\n     * ```\n     *\n     * If we don't unlink the previous node, we will end up at some point with the following:\n     *\n     * ```\n     * <h1>Test</h1>\n     * <p>Test content</p> // <-- inserted before the first h1\n     * <h1>Test</h1> // <-- to remove, but still in the tree\n     * <p>Test content</p> // <-- to remove\n     * ```\n     */\n    if (newChildCurrentParent &&\n        (newChild.previousSibling || newChild.nextSibling || newChildCurrentParent !== parent)) {\n        vnode_remove(journal, newChildCurrentParent, newChild, false);\n    }\n    const parentIsDeleted = parent.flags & 32 /* VNodeFlags.Deleted */;\n    // if the parent is deleted, then we don't need to insert the new child\n    if (!parentIsDeleted) {\n        let adjustedInsertBefore = null;\n        if (insertBefore == null) {\n            if (vnode_isVirtualVNode(parent)) {\n                // If `insertBefore` is null, than we need to insert at the end of the list.\n                // Well, not quite. If the parent is a virtual node, our \"last node\" is not the same\n                // as the DOM \"last node\". So in that case we need to look for the \"next node\" from\n                // our parent.\n                adjustedInsertBefore = vnode_getDomSibling(parent, true, false);\n            }\n        }\n        else if (vnode_isVirtualVNode(insertBefore)) {\n            // If the `insertBefore` is virtual, than we need to descend into the virtual and find e actual\n            adjustedInsertBefore = vnode_getDomSibling(insertBefore, true, true);\n        }\n        else {\n            adjustedInsertBefore = insertBefore;\n        }\n        adjustedInsertBefore && vnode_ensureInflatedIfText(journal, adjustedInsertBefore);\n        // Here we know the insertBefore node\n        if (domChildren && domChildren.length) {\n            journal.push(6 /* VNodeJournalOpCode.Insert */, parentNode, vnode_getNode(adjustedInsertBefore), ...domChildren);\n        }\n    }\n    // link newChild into the previous/next list\n    const vNext = insertBefore;\n    const vPrevious = vNext ? vNext.previousSibling : parent.lastChild;\n    if (vNext) {\n        vNext.previousSibling = newChild;\n    }\n    else {\n        parent.lastChild = newChild;\n    }\n    if (vPrevious) {\n        vPrevious.nextSibling = newChild;\n    }\n    else {\n        parent.firstChild = newChild;\n    }\n    newChild.previousSibling = vPrevious;\n    newChild.nextSibling = vNext;\n    newChild.parent = parent;\n    if (parentIsDeleted) {\n        // if the parent is deleted, then the new child is also deleted\n        newChild.flags |= 32 /* VNodeFlags.Deleted */;\n    }\n};\nexport const vnode_getDomParent = (vnode, includeProjection = true) => {\n    vnode = vnode_getDomParentVNode(vnode, includeProjection);\n    return (vnode && vnode.element);\n};\nexport const vnode_getDomParentVNode = (vnode, includeProjection = true) => {\n    while (vnode && !vnode_isElementVNode(vnode)) {\n        vnode = vnode.parent || (includeProjection ? vnode.slotParent : null);\n    }\n    return vnode;\n};\nexport const vnode_remove = (journal, vParent, vToRemove, removeDOM) => {\n    assertEqual(vParent, vToRemove.parent, 'Parent mismatch.');\n    if (vnode_isTextVNode(vToRemove)) {\n        vnode_ensureTextInflated(journal, vToRemove);\n    }\n    if (removeDOM) {\n        const domParent = vnode_getDomParent(vParent, false);\n        const isInnerHTMLParent = vParent.getAttr(dangerouslySetInnerHTML);\n        if (isInnerHTMLParent) {\n            // ignore children, as they are inserted via innerHTML\n            return;\n        }\n        const children = vnode_getDOMChildNodes(journal, vToRemove);\n        domParent && children.length && journal.push(4 /* VNodeJournalOpCode.Remove */, domParent, ...children);\n    }\n    const vPrevious = vToRemove.previousSibling;\n    const vNext = vToRemove.nextSibling;\n    if (vPrevious) {\n        vPrevious.nextSibling = vNext;\n    }\n    else {\n        vParent.firstChild = vNext;\n    }\n    if (vNext) {\n        vNext.previousSibling = vPrevious;\n    }\n    else {\n        vParent.lastChild = vPrevious;\n    }\n    vToRemove.previousSibling = null;\n    vToRemove.nextSibling = null;\n};\nexport const vnode_queryDomNodes = (vNode, selector, cb) => {\n    if (vnode_isElementVNode(vNode)) {\n        const element = vnode_getNode(vNode);\n        if (element.matches(selector)) {\n            cb(element);\n        }\n        else {\n            element.querySelectorAll(selector).forEach(cb);\n        }\n    }\n    else {\n        let child = vnode_getFirstChild(vNode);\n        while (child) {\n            vnode_queryDomNodes(child, selector, cb);\n            child = child.nextSibling;\n        }\n    }\n};\nexport const vnode_truncate = (journal, vParent, vDelete) => {\n    assertDefined(vDelete, 'Missing vDelete.');\n    const parent = vnode_getDomParent(vParent);\n    if (parent) {\n        if (vnode_isElementVNode(vParent)) {\n            journal.push(5 /* VNodeJournalOpCode.RemoveAll */, parent);\n        }\n        else {\n            const children = vnode_getDOMChildNodes(journal, vParent);\n            children.length && journal.push(4 /* VNodeJournalOpCode.Remove */, parent, ...children);\n        }\n    }\n    const vPrevious = vDelete.previousSibling;\n    if (vPrevious) {\n        vPrevious.nextSibling = null;\n    }\n    else {\n        vParent.firstChild = null;\n    }\n    vParent.lastChild = vPrevious;\n};\n//////////////////////////////////////////////////////////////////////////////////////////////////////\nexport const vnode_getElementName = (vnode) => {\n    const elementVNode = ensureElementVNode(vnode);\n    let elementName = elementVNode.elementName;\n    if (elementName === undefined) {\n        const element = elementVNode.element;\n        const nodeName = fastNodeName(element).toLowerCase();\n        elementName = elementVNode.elementName = nodeName;\n        elementVNode.flags |= vnode_getElementNamespaceFlags(element);\n    }\n    return elementName;\n};\nexport const vnode_getText = (textVNode) => {\n    let text = textVNode.text;\n    if (text === undefined) {\n        text = textVNode.text = textVNode.textNode.nodeValue;\n    }\n    return text;\n};\nexport const vnode_setText = (journal, textVNode, text) => {\n    vnode_ensureTextInflated(journal, textVNode);\n    const textNode = textVNode.textNode;\n    journal.push(1 /* VNodeJournalOpCode.SetText */, textNode, (textVNode.text = text));\n};\n/** @internal */\nexport const vnode_getFirstChild = (vnode) => {\n    if (vnode_isTextVNode(vnode)) {\n        return null;\n    }\n    let vFirstChild = vnode.firstChild;\n    if (vFirstChild === undefined) {\n        vFirstChild = ensureMaterialized(vnode);\n    }\n    return vFirstChild;\n};\nconst vnode_materialize = (vNode) => {\n    const element = vNode.element;\n    const firstChild = fastFirstChild(element);\n    const vNodeData = element.ownerDocument?.qVNodeData?.get(element);\n    const vFirstChild = materialize(vNode, element, firstChild, vNodeData);\n    return vFirstChild;\n};\nconst materialize = (vNode, element, firstChild, vNodeData) => {\n    if (vNodeData) {\n        if (vNodeData.charCodeAt(0) === VNodeDataChar.SEPARATOR) {\n            /**\n             * If vNodeData start with the `VNodeDataChar.SEPARATOR` then it means that the vNodeData\n             * contains some data for DOM element. We need to split it to DOM element vNodeData and\n             * virtual element vNodeData.\n             *\n             * For example `|=6`4|2{J=7`3|q:type|S}` should split into `=6`4`and`2{J=7`3|q:type|S}`, where\n             * `=6`4` is vNodeData for the DOM element.\n             */\n            const elementVNodeDataStartIdx = 1;\n            let elementVNodeDataEndIdx = 1;\n            while (vNodeData.charCodeAt(elementVNodeDataEndIdx) !== VNodeDataChar.SEPARATOR) {\n                elementVNodeDataEndIdx++;\n            }\n            const elementVNodeData = vNodeData.substring(elementVNodeDataStartIdx, elementVNodeDataEndIdx);\n            // Override vNodeData variable for materializing a virtual element\n            vNodeData = vNodeData.substring(elementVNodeDataEndIdx + 1);\n            // Materialize DOM element from HTML. If the `vNodeData` is not empty,\n            // then also materialize virtual element from vNodeData\n            const vFirstChild = materializeFromDOM(vNode, firstChild, elementVNodeData);\n            if (!vNodeData) {\n                //  If it is empty then we don't need to call the `materializeFromVNodeData`.\n                return vFirstChild;\n            }\n        }\n        // Materialize virtual element form vNodeData\n        return materializeFromVNodeData(vNode, vNodeData, element, firstChild);\n    }\n    else {\n        // Materialize DOM element from HTML only\n        return materializeFromDOM(vNode, firstChild);\n    }\n};\nexport const ensureMaterialized = (vnode) => {\n    const vParent = ensureElementVNode(vnode);\n    let vFirstChild = vParent.firstChild;\n    if (vFirstChild === undefined) {\n        // need to materialize the vNode.\n        const element = vParent.element;\n        if (vParent.parent && shouldIgnoreChildren(element)) {\n            // We have a container with html value, must ignore the content.\n            vFirstChild = vParent.firstChild = vParent.lastChild = null;\n        }\n        else {\n            vFirstChild = vnode_materialize(vParent);\n        }\n    }\n    assertTrue(vParent.firstChild !== undefined, 'Did not materialize.');\n    assertTrue(vParent.lastChild !== undefined, 'Did not materialize.');\n    return vFirstChild;\n};\nlet _fastHasAttribute = null;\nexport const shouldIgnoreChildren = (node) => {\n    if (!_fastHasAttribute) {\n        _fastHasAttribute = node.hasAttribute;\n    }\n    return _fastHasAttribute.call(node, QContainerAttr);\n};\nlet _fastNodeType = null;\nconst fastNodeType = (node) => {\n    if (!_fastNodeType) {\n        _fastNodeType = fastGetter(node, 'nodeType');\n    }\n    return _fastNodeType.call(node);\n};\nconst fastIsTextOrElement = (node) => {\n    const type = fastNodeType(node);\n    return type === /* Node.TEXT_NODE */ 3 || type === /* Node.ELEMENT_NODE */ 1;\n};\nlet _fastNextSibling = null;\nexport const fastNextSibling = (node) => {\n    if (!_fastNextSibling) {\n        _fastNextSibling = fastGetter(node, 'nextSibling');\n    }\n    if (!_fastFirstChild) {\n        _fastFirstChild = fastGetter(node, 'firstChild');\n    }\n    while (node) {\n        node = _fastNextSibling.call(node);\n        if (node !== null) {\n            const type = fastNodeType(node);\n            if (type === /* Node.TEXT_NODE */ 3 || type === /* Node.ELEMENT_NODE */ 1) {\n                break;\n            }\n            else if (type === /* Node.COMMENT_NODE */ 8) {\n                const nodeValue = node.nodeValue;\n                if (nodeValue?.startsWith(QIgnore)) {\n                    return getNodeAfterCommentNode(node, QContainerIsland, _fastNextSibling, _fastFirstChild);\n                }\n                else if (node.nodeValue?.startsWith(QContainerIslandEnd)) {\n                    return getNodeAfterCommentNode(node, QIgnoreEnd, _fastNextSibling, _fastFirstChild);\n                }\n                else if (nodeValue?.startsWith(QContainerAttr)) {\n                    while (node && (node = _fastNextSibling.call(node))) {\n                        if (fastNodeType(node) === /* Node.COMMENT_NODE */ 8 &&\n                            node.nodeValue?.startsWith(QContainerAttrEnd)) {\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    return node;\n};\nfunction getNodeAfterCommentNode(node, commentValue, nextSibling, firstChild) {\n    while (node) {\n        if (node.nodeValue?.startsWith(commentValue)) {\n            node = nextSibling.call(node) || null;\n            return node;\n        }\n        let nextNode = firstChild.call(node);\n        if (!nextNode) {\n            nextNode = nextSibling.call(node);\n        }\n        if (!nextNode) {\n            nextNode = fastParentNode(node);\n            if (nextNode) {\n                nextNode = nextSibling.call(nextNode);\n            }\n        }\n        node = nextNode;\n    }\n    return null;\n}\nlet _fastParentNode = null;\nconst fastParentNode = (node) => {\n    if (!_fastParentNode) {\n        _fastParentNode = fastGetter(node, 'parentNode');\n    }\n    return _fastParentNode.call(node);\n};\nlet _fastFirstChild = null;\nconst fastFirstChild = (node) => {\n    if (!_fastFirstChild) {\n        _fastFirstChild = fastGetter(node, 'firstChild');\n    }\n    node = node && _fastFirstChild.call(node);\n    while (node && !fastIsTextOrElement(node)) {\n        node = fastNextSibling(node);\n    }\n    return node;\n};\nlet _fastNamespaceURI = null;\nexport const fastNamespaceURI = (element) => {\n    if (!_fastNamespaceURI) {\n        _fastNamespaceURI = fastGetter(element, 'namespaceURI');\n    }\n    return _fastNamespaceURI.call(element);\n};\nlet _fastNodeName = null;\nexport const fastNodeName = (element) => {\n    if (!_fastNodeName) {\n        _fastNodeName = fastGetter(element, 'nodeName');\n    }\n    return _fastNodeName.call(element);\n};\nconst fastGetter = (prototype, name) => {\n    let getter;\n    while (prototype && !(getter = Object.getOwnPropertyDescriptor(prototype, name)?.get)) {\n        prototype = Object.getPrototypeOf(prototype);\n    }\n    return (getter ||\n        function () {\n            return this[name];\n        });\n};\nconst hasQStyleAttribute = (element) => {\n    return (element.nodeName === 'STYLE' &&\n        (element.hasAttribute(QScopedStyle) || element.hasAttribute(QStyle)));\n};\nconst hasPropsSeparator = (element) => {\n    return element.hasAttribute(Q_PROPS_SEPARATOR);\n};\nconst materializeFromDOM = (vParent, firstChild, vData) => {\n    let vFirstChild = null;\n    const skipElements = () => {\n        while (isElement(child) && shouldSkipElement(child)) {\n            child = fastNextSibling(child);\n        }\n    };\n    // materialize from DOM\n    let child = firstChild;\n    skipElements();\n    let vChild = null;\n    while (child) {\n        const nodeType = fastNodeType(child);\n        let vNextChild = null;\n        if (nodeType === /* Node.TEXT_NODE */ 3) {\n            vNextChild = vnode_newText(child, child.textContent ?? undefined);\n        }\n        else if (nodeType === /* Node.ELEMENT_NODE */ 1) {\n            vNextChild = vnode_newUnMaterializedElement(child);\n        }\n        if (vNextChild) {\n            vNextChild.parent = vParent;\n            vChild && (vChild.nextSibling = vNextChild);\n            vNextChild.previousSibling = vChild;\n            vChild = vNextChild;\n        }\n        if (!vFirstChild) {\n            vParent.firstChild = vFirstChild = vChild;\n        }\n        child = fastNextSibling(child);\n        skipElements();\n    }\n    vParent.lastChild = vChild || null;\n    vParent.firstChild = vFirstChild;\n    if (vData) {\n        /**\n         * If we need to materialize from DOM and we have vNodeData it means that we have some virtual\n         * props for that node.\n         */\n        let container = null;\n        processVNodeData(vData, (peek, consumeValue) => {\n            if (peek() === VNodeDataChar.ID) {\n                if (!container) {\n                    container = getDomContainer(vParent.element);\n                }\n                const id = consumeValue();\n                container.$setRawState$(parseInt(id), vParent);\n                isDev && vParent.setAttr(ELEMENT_ID, id, null);\n            }\n            else if (peek() === VNodeDataChar.BACK_REFS) {\n                if (!container) {\n                    container = getDomContainer(vParent.element);\n                }\n                setEffectBackRefFromVNodeData(vParent, consumeValue(), container);\n            }\n            else {\n                // prevent infinity loop if there are some characters outside the range\n                consumeValue();\n            }\n        });\n    }\n    return vFirstChild;\n};\nfunction setEffectBackRefFromVNodeData(vParent, value, container) {\n    if (!vParent[_EFFECT_BACK_REF]) {\n        // get data lazily\n        // this is because effects back refs can point to vnodes which are not yet materialized\n        // (are after the current vnode)\n        Object.defineProperty(vParent, _EFFECT_BACK_REF, {\n            get() {\n                const subMap = container.$getObjectById$(value);\n                vParent[_EFFECT_BACK_REF] = subMap;\n                return subMap;\n            },\n            set(value) {\n                Object.defineProperty(vParent, _EFFECT_BACK_REF, {\n                    value,\n                    writable: true,\n                    enumerable: true,\n                    configurable: true,\n                });\n            },\n            enumerable: true,\n            configurable: true,\n        });\n    }\n    else {\n        const subMap = vParent[_EFFECT_BACK_REF];\n        mergeMaps(subMap, container.$getObjectById$(value));\n    }\n}\nconst processVNodeData = (vData, callback) => {\n    let nextToConsumeIdx = 0;\n    let ch = 0;\n    let peekCh = 0;\n    const getChar = (idx) => {\n        return idx < vData.length ? vData.charCodeAt(idx) : 0;\n    };\n    const peek = () => {\n        if (peekCh !== 0) {\n            return peekCh;\n        }\n        else {\n            return (peekCh = getChar(nextToConsumeIdx));\n        }\n    };\n    const consume = () => {\n        ch = peek();\n        peekCh = 0;\n        nextToConsumeIdx++;\n        return ch;\n    };\n    const consumeValue = () => {\n        consume();\n        const start = nextToConsumeIdx;\n        while ((peek() <= 58 /* `:` */ && peekCh !== 0) ||\n            peekCh === 95 /* `_` */ ||\n            (peekCh >= 65 /* `A` */ && peekCh <= 90) /* `Z` */ ||\n            (peekCh >= 97 /* `a` */ && peekCh <= 122) /* `z` */) {\n            consume();\n        }\n        return vData.substring(start, nextToConsumeIdx);\n    };\n    while (peek() !== 0) {\n        callback(peek, consumeValue, consume, getChar, nextToConsumeIdx);\n    }\n};\n/** @internal */\nexport const vnode_getNextSibling = (vnode) => {\n    return vnode.nextSibling;\n};\nexport const vnode_getPreviousSibling = (vnode) => {\n    return vnode.previousSibling;\n};\n/** @internal */\nexport const vnode_getAttrKeys = (vnode) => {\n    const type = vnode.flags;\n    if ((type & 3 /* VNodeFlags.ELEMENT_OR_VIRTUAL_MASK */) !== 0) {\n        vnode_ensureElementInflated(vnode);\n        const keys = [];\n        const props = vnode_getProps(vnode);\n        for (let i = 0; i < props.length; i = i + 2) {\n            const key = props[i];\n            if (!key.startsWith(Q_PROPS_SEPARATOR)) {\n                keys.push(key);\n            }\n        }\n        return keys;\n    }\n    return [];\n};\n/** @internal */\nexport const vnode_getProps = (vnode) => {\n    vnode.props ||= [];\n    return vnode.props;\n};\nexport const vnode_isDescendantOf = (vnode, ancestor) => {\n    let parent = vnode_getProjectionParentOrParent(vnode);\n    while (parent) {\n        if (parent === ancestor) {\n            return true;\n        }\n        parent = vnode_getProjectionParentOrParent(parent);\n    }\n    return false;\n};\nexport const vnode_getProjectionParentOrParent = (vnode) => {\n    return vnode.parent || vnode.slotParent;\n};\nexport const vnode_getNode = (vnode) => {\n    if (vnode === null || vnode_isVirtualVNode(vnode)) {\n        return null;\n    }\n    if (vnode_isElementVNode(vnode)) {\n        return vnode.element;\n    }\n    assertTrue(vnode_isTextVNode(vnode), 'Expecting Text Node.');\n    return vnode.textNode;\n};\n/** @internal */\nexport function vnode_toString(depth = 20, offset = '', materialize = false, siblings = false, colorize = true) {\n    let vnode = this;\n    if (depth === 0) {\n        return '...';\n    }\n    if (vnode === null) {\n        return 'null';\n    }\n    if (vnode === undefined) {\n        return 'undefined';\n    }\n    const strings = [];\n    const NAME_COL_PREFIX = '\\x1b[34m';\n    const NAME_COL_SUFFIX = '\\x1b[0m';\n    do {\n        if (vnode_isTextVNode(vnode)) {\n            strings.push(qwikDebugToString(vnode_getText(vnode)));\n        }\n        else if (vnode_isVirtualVNode(vnode)) {\n            const idx = vnode.flags >>> 8 /* VNodeFlagsIndex.shift */;\n            const attrs = ['[' + String(idx) + ']'];\n            vnode_getAttrKeys(vnode).forEach((key) => {\n                if (key !== DEBUG_TYPE) {\n                    const value = vnode.getAttr(key);\n                    attrs.push(' ' + key + '=' + qwikDebugToString(value));\n                }\n            });\n            const name = (colorize ? NAME_COL_PREFIX : '') +\n                (VirtualTypeName[vnode.getAttr(DEBUG_TYPE) || \"V\" /* VirtualType.Virtual */] ||\n                    VirtualTypeName[\"V\" /* VirtualType.Virtual */]) +\n                (colorize ? NAME_COL_SUFFIX : '');\n            strings.push('<' + name + attrs.join('') + '>');\n            const child = vnode_getFirstChild(vnode);\n            child &&\n                strings.push('  ' + vnode_toString.call(child, depth - 1, offset + '  ', true, true, colorize));\n            strings.push('</' + name + '>');\n        }\n        else if (vnode_isElementVNode(vnode)) {\n            const tag = vnode_getElementName(vnode);\n            const attrs = [];\n            const keys = vnode_getAttrKeys(vnode);\n            keys.forEach((key) => {\n                const value = vnode.getAttr(key);\n                attrs.push(' ' + key + '=' + qwikDebugToString(value));\n            });\n            const node = vnode_getNode(vnode);\n            if (node) {\n                const vnodeData = node.ownerDocument.qVNodeData?.get(node);\n                if (vnodeData) {\n                    attrs.push(' q:vnodeData=' + qwikDebugToString(vnodeData));\n                }\n            }\n            const domAttrs = node.attributes;\n            for (let i = 0; i < domAttrs.length; i++) {\n                const attr = domAttrs[i];\n                if (keys.indexOf(attr.name) === -1) {\n                    attrs.push(' ' + attr.name + (attr.value ? '=' + qwikDebugToString(attr.value) : ''));\n                }\n            }\n            strings.push('<' + tag + attrs.join('') + '>');\n            if (vnode_isMaterialized(vnode) || materialize) {\n                const child = vnode_getFirstChild(vnode);\n                child &&\n                    strings.push('  ' + vnode_toString.call(child, depth - 1, offset + '  ', true, true, colorize));\n            }\n            else {\n                strings.push('  <!-- not materialized --!>');\n            }\n            strings.push('</' + tag + '>');\n        }\n        vnode = (siblings && vnode.nextSibling) || null;\n    } while (vnode);\n    return strings.join('\\n' + offset);\n}\nconst isNumber = (ch) => /* `0` */ 48 <= ch && ch <= 57; /* `9` */\nconst isLowercase = (ch) => /* `a` */ 97 <= ch && ch <= 122; /* `z` */\nfunction shouldSkipElement(element) {\n    return (\n    // Skip over elements that don't have a props separator. They are not rendered by Qwik.\n    !hasPropsSeparator(element) ||\n        // We pretend that style element's don't exist as they can get moved out.\n        // skip over style elements, as those need to be moved to the head\n        // and are not included in the counts.\n        hasQStyleAttribute(element));\n}\nconst stack = [];\nfunction materializeFromVNodeData(vParent, vData, element, child) {\n    let idx = 0;\n    let vFirst = null;\n    let vLast = null;\n    let previousTextNode = null;\n    const addVNode = (node) => {\n        node.flags = (node.flags & 255 /* VNodeFlagsIndex.mask */) | (idx << 8 /* VNodeFlagsIndex.shift */);\n        idx++;\n        vLast && (vLast.nextSibling = node);\n        node.previousSibling = vLast;\n        node.parent = vParent;\n        if (!vFirst) {\n            vParent.firstChild = vFirst = node;\n        }\n        vLast = node;\n    };\n    let textIdx = 0;\n    let combinedText = null;\n    let container = null;\n    const shouldSkipNode = (node) => {\n        const nodeIsElement = isElement(node);\n        return !nodeIsElement || (nodeIsElement && shouldSkipElement(node));\n    };\n    processVNodeData(vData, (peek, consumeValue, consume, getChar, nextToConsumeIdx) => {\n        if (isNumber(peek())) {\n            // Element counts get encoded as numbers.\n            while (shouldSkipNode(child)) {\n                child = fastNextSibling(child);\n                if (!child) {\n                    throw qError(27 /* QError.materializeVNodeDataError */, [vData, peek(), nextToConsumeIdx]);\n                }\n            }\n            combinedText = null;\n            previousTextNode = null;\n            let value = 0;\n            while (isNumber(peek())) {\n                value *= 10;\n                value += consume() - 48; /* `0` */\n            }\n            while (value--) {\n                addVNode(vnode_newUnMaterializedElement(child));\n                child = fastNextSibling(child);\n            }\n            // collect the elements;\n        }\n        else if (peek() === VNodeDataChar.SCOPED_STYLE) {\n            vParent.setAttr(QScopedStyle, consumeValue(), null);\n        }\n        else if (peek() === VNodeDataChar.RENDER_FN) {\n            vParent.setAttr(OnRenderProp, consumeValue(), null);\n        }\n        else if (peek() === VNodeDataChar.ID) {\n            if (!container) {\n                container = getDomContainer(element);\n            }\n            const id = consumeValue();\n            container.$setRawState$(parseInt(id), vParent);\n            isDev && vParent.setAttr(ELEMENT_ID, id, null);\n        }\n        else if (peek() === VNodeDataChar.PROPS) {\n            vParent.setAttr(ELEMENT_PROPS, consumeValue(), null);\n        }\n        else if (peek() === VNodeDataChar.KEY) {\n            const isEscapedValue = getChar(nextToConsumeIdx + 1) === VNodeDataChar.SEPARATOR;\n            let value;\n            if (isEscapedValue) {\n                consume();\n                value = decodeURI(consumeValue());\n                consume();\n            }\n            else {\n                value = consumeValue();\n            }\n            vParent.setAttr(ELEMENT_KEY, value, null);\n        }\n        else if (peek() === VNodeDataChar.SEQ) {\n            vParent.setAttr(ELEMENT_SEQ, consumeValue(), null);\n        }\n        else if (peek() === VNodeDataChar.SEQ_IDX) {\n            vParent.setAttr(ELEMENT_SEQ_IDX, consumeValue(), null);\n        }\n        else if (peek() === VNodeDataChar.BACK_REFS) {\n            if (!container) {\n                container = getDomContainer(element);\n            }\n            setEffectBackRefFromVNodeData(vParent, consumeValue(), container);\n        }\n        else if (peek() === VNodeDataChar.SLOT_PARENT) {\n            if (!container) {\n                container = getDomContainer(element);\n            }\n            vParent.slotParent = vnode_locate(container.rootVNode, consumeValue());\n        }\n        else if (peek() === VNodeDataChar.CONTEXT) {\n            vParent.setAttr(QCtxAttr, consumeValue(), null);\n        }\n        else if (peek() === VNodeDataChar.OPEN) {\n            consume();\n            addVNode(vnode_newVirtual());\n            stack.push(vParent, vFirst, vLast, previousTextNode, idx);\n            idx = 0;\n            vParent = vLast;\n            vFirst = vLast = null;\n        }\n        else if (peek() === VNodeDataChar.SEPARATOR) {\n            const key = consumeValue();\n            const value = consumeValue();\n            vParent.setAttr(key, value, null);\n        }\n        else if (peek() === VNodeDataChar.CLOSE) {\n            consume();\n            vParent.lastChild = vLast;\n            idx = stack.pop();\n            previousTextNode = stack.pop();\n            vLast = stack.pop();\n            vFirst = stack.pop();\n            vParent = stack.pop();\n        }\n        else if (peek() === VNodeDataChar.SLOT) {\n            vParent.setAttr(QSlot, consumeValue(), null);\n        }\n        else {\n            // skip over style or non-qwik elements in front of text nodes, where text node is the first child (except the style node)\n            while (isElement(child) && shouldSkipElement(child)) {\n                child = fastNextSibling(child);\n            }\n            const textNode = child && fastNodeType(child) === /* Node.TEXT_NODE */ 3 ? child : null;\n            // must be alphanumeric\n            if (combinedText === null) {\n                combinedText = textNode ? textNode.nodeValue : null;\n                textIdx = 0;\n            }\n            let length = 0;\n            while (isLowercase(peek())) {\n                length += consume() - 97; /* `a` */\n                length *= 26;\n            }\n            length += consume() - 65; /* `A` */\n            const text = combinedText === null ? '' : combinedText.substring(textIdx, textIdx + length);\n            addVNode((previousTextNode = vnode_newSharedText(previousTextNode, textNode, text)));\n            textIdx += length;\n            // Text nodes get encoded as alphanumeric characters.\n        }\n    });\n    vParent.lastChild = vLast;\n    return vFirst;\n}\nexport const vnode_getType = (vnode) => {\n    const type = vnode.flags;\n    if (type & 1 /* VNodeFlags.Element */) {\n        return 1 /* Element */;\n    }\n    else if (type & 2 /* VNodeFlags.Virtual */) {\n        return 11 /* Virtual */;\n    }\n    else if (type & 4 /* VNodeFlags.Text */) {\n        return 3 /* Text */;\n    }\n    throw qError(26 /* QError.invalidVNodeType */, [type]);\n};\nconst isElement = (node) => node && typeof node == 'object' && fastNodeType(node) === /** Node.ELEMENT_NODE* */ 1;\n/**\n * Use this method to find the parent component for projection.\n *\n * Normally the parent component is just the first component which we encounter while traversing the\n * parents.\n *\n * However, if during traversal we encounter a projection, than we have to follow the projection,\n * and node with the projection component is further away (it is the parent's parent of the\n * projection's)\n *\n * So in general we have to go up as many parent components as there are projections nestings.\n *\n * - No projection nesting first parent component.\n * - One projection nesting, second parent component (parent's parent).\n * - Three projection nesting, third parent component (parent's parent's parent).\n * - And so on.\n *\n * @param vHost\n * @param rootVNode\n * @returns\n */\nexport const vnode_getProjectionParentComponent = (vHost) => {\n    let projectionDepth = 1;\n    while (projectionDepth--) {\n        while (vHost &&\n            (vnode_isVirtualVNode(vHost) ? vHost.getProp(OnRenderProp, null) === null : true)) {\n            const qSlotParent = vHost.slotParent;\n            const vProjectionParent = vnode_isVirtualVNode(vHost) && qSlotParent;\n            if (vProjectionParent) {\n                // We found a projection, so we need to go up one more level.\n                projectionDepth++;\n            }\n            vHost = vProjectionParent || vHost.parent;\n        }\n        if (projectionDepth > 0) {\n            vHost = vHost.parent;\n        }\n    }\n    return vHost;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidm5vZGUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvY2xpZW50L3Zub2RlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FxSEc7QUFFSCxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDN0MsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sVUFBVSxDQUFDO0FBQzdDLE9BQU8sRUFBRSxhQUFhLEVBQUUsV0FBVyxFQUFFLFdBQVcsRUFBRSxVQUFVLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUM3RixPQUFPLEVBQVUsTUFBTSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDdkQsT0FBTyxFQUNMLFVBQVUsRUFHVixlQUFlLEdBRWhCLE1BQU0saUJBQWlCLENBQUM7QUFDekIsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ2pELE9BQU8sRUFDTCx1QkFBdUIsRUFDdkIsVUFBVSxFQUNWLFdBQVcsRUFDWCxhQUFhLEVBQ2IsV0FBVyxFQUNYLGVBQWUsRUFDZixZQUFZLEVBQ1osaUJBQWlCLEVBQ2pCLGNBQWMsRUFDZCxpQkFBaUIsRUFDakIsZ0JBQWdCLEVBQ2hCLG1CQUFtQixFQUNuQixRQUFRLEVBQ1IsT0FBTyxFQUNQLFVBQVUsRUFDVixZQUFZLEVBQ1osS0FBSyxFQUNMLE1BQU0sRUFDTixrQkFBa0IsR0FDbkIsTUFBTSx5QkFBeUIsQ0FBQztBQUNqQyxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDdEQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQzNELE9BQU8sRUFBRSxlQUFlLEVB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SUFBSSxJQUFJLFFBQVEsSUFBSSxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUsseUJBQXlCLENBQUMsQ0FBQyxDQUFDO0FBRXhGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQW9CRztBQUNILE1BQU0sQ0FBQyxNQUFNLGtDQUFrQyxHQUFHLENBQUMsS0FBWSxFQUF1QixFQUFFO0lBQ3RGLElBQUksZUFBZSxHQUFHLENBQUMsQ0FBQztJQUN4QixPQUFPLGVBQWUsRUFBRSxFQUFFLENBQUM7UUFDekIsT0FDRSxLQUFLO1lBQ0wsQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFDakYsQ0FBQztZQUNELE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUM7WUFDckMsTUFBTSxpQkFBaUIsR0FBRyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxXQUFXLENBQUM7WUFDckUsSUFBSSxpQkFBaUIsRUFBRSxDQUFDO2dCQUN0Qiw2REFBNkQ7Z0JBQzdELGVBQWUsRUFBRSxDQUFDO1lBQ3BCLENBQUM7WUFDRCxLQUFLLEdBQUcsaUJBQWlCLElBQUksS0FBSyxDQUFDLE1BQU8sQ0FBQztRQUM3QyxDQUFDO1FBQ0QsSUFBSSxlQUFlLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDeEIsS0FBSyxHQUFHLEtBQUssQ0FBQyxNQUFPLENBQUM7UUFDeEIsQ0FBQztJQUNILENBQUM7SUFDRCxPQUFPLEtBQTRCLENBQUM7QUFDdEMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZVxuICpcbiAqICAgVk5vZGUgaXMgYSBET00gbGlrZSBBUEkgZm9yIHdhbGtpbmcgdGhlIERPTSBidXQgaXQ6XG4gKlxuICogICAxLiBFbmNvZGVzIHZpcnR1YWwgbm9kZXMgd2hpY2ggZG9uJ3QgZXhpc3QgaW4gdGhlIERPTVxuICogICAyLiBDYW4gc2VyaWFsaXplIGFzIHBhcnQgb2YgU1NSIGFuZCB0aGFuIGRlc2VyaWFsaXplIG9uIHRoZSBjbGllbnQuXG4gKlxuICogICAjIFZpcnR1YWxcbiAqXG4gKiAgIFlvdSBjYW4gdGhpbmsgb2YgYSBWaXJ0dWFsIG5vZGUganVzdCBsaWtlIGFuIGFkZGl0aW9uYWwgYDxkaXY+YCBpbiB0aGF0IGl0IGdyb3VwcyByZWxhdGVkIGNoaWxkXG4gKiAgIG5vZGVzIHRvZ2V0aGVyLiBCdXQgdW5saWtlIGEgYDxkaXY+YCB3aGljaCBoYXMgYSByZWFsIERPTSBub2RlIGFuZCBoZW5jZSBpbXBsaWNhdGlvbnMgZm9yIENTUyxcbiAqICAgVmlydHVhbCBub2RlcyBoYXZlIG5vIERPTSBpbXBhY3QsIHRoZXkgYXJlIGludmlzaWJsZS5cbiAqXG4gKiAgICMgUG9ydGFsXG4gKlxuICogICBUd28gVmlydHVhbCBub2RlcyBjYW4gYmUgbGlua2VkIHRvZ2V0aGVyIHRvIGZvcm0gYSBQb3J0YWwuIFBvcnRhbHMgYXJlIHVzZWZ1bCBmb3IgcHJvamVjdGluZ1xuICogICBjb250ZW50IG9yIGp1c3QgcmVuZGVyaW5nIGNvbnRlbnQgaW4gYSBkaWZmZXJlbnQgbG9jYXRpb24gaW4gdGhlIHRyZWUsIHdoaWxlIG1haW50YWluaW5nIGFcbiAqICAgbG9naWNhbCByZWxhdGlvbnNoaXAuXG4gKlxuICogICBQb3J0YWxzIGhhdmU6XG4gKlxuICogICAtIFBvcnRhbCBTb3VyY2U6IEEgVmlydHVhbCBub2RlIHdoaWNoIGNhbiByZWZlciB0byBvbmUgb3JlIG1vcmUgRGVzdGluYXRpb24gUG9ydGFscyBieSBuYW1lLlxuICogICAtIERlc3RpbmF0aW9uIFBvcnRhbDogQSBWaXJ0dWFsIG5vZGUgd2hpY2ggYWN0cyBhcyBhIGRlc3RpbmF0aW9uIGJ1dCBhbHNvIGhhcyBhIHBvaW50ZXIgYmFjayB0byB0aGVcbiAqICAgICAgIFBvcnRhbCBTb3VyY2VcbiAqXG4gKiAgICMjIEV4YW1wbGU6XG4gKlxuICogICBHaXZlbiB0aGlzIGNvZGU6XG4gKlxuICogICBgYGB0eXBlc2NyaXB0XG4gKiAgIGNvbnN0IFBhcmVudCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICAgIHJldHVybiAoXG4gKiAgICAgICA8Q2hpbGQ+XG4gKiAgICAgICAgIFByb2plY3Rpb24gQ29udGVudFxuICogICAgICAgICA8c3BhbiBxOnNsb3Q9XCJzZWNvbmRhcnlcIj5TZWNvbmRhcnkgQ29udGVudDwvc3Bhbj5cbiAqICAgICAgICAgPHNwYW4gcTpzbG90PVwib3RoZXJcIj5PdGhlciBDb250ZW50PC9zcGFuPlxuICogICAgICAgPC9DaGlsZD5cbiAqICAgICB9O1xuICogICB9KTtcbiAqXG4gKiAgIGNvbnN0IENoaWxkID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgICAgcmV0dXJuIChcbiAqICAgICAgIDxkaXY+XG4gKiAgICAgICAgIDxTbG90PkRlZmF1bHQgUHJpbWFyeTwvU2xvdD5cbiAqICAgICAgICAgPFNsb3QgbmFtZT1cInNlY29uZGFyeVwiPkRlZmF1bHQgU2Vjb25kYXJ5PC9TbG90PlxuICogICAgICAgPC9kaXY+XG4gKiAgICAgKTtcbiAqICAgfSk7XG4gKlxuICogICByZW5kZXIoPGJvZHk+PG1haW4+PFBhcmVudC8+PC9tYWluPjxib2R5Pik7XG4gKiBgYGBcbiAqXG4gKiAgIFdpbGwgcmVuZGVyIGxpa2Ugc286XG4gKlxuICogICBgYGBodG1sXG4gKiAgIDxib2R5PlxuICogICAgIDxtYWluPlxuICogICAgICAgPFZpcnR1YWwgUGFyZW50IHE6cG9ydGFsPVwiOjNBO3NlY29uZGFyeTozQjtvdGhlcjo1QVwiIHE6aWQ9XCIyQVwiPlxuICogICAgICAgICA8VmlydHVhbCBDaGlsZD5cbiAqICAgICAgICAgICA8ZGl2PlxuICogICAgICAgICAgICAgPFZpcnR1YWwgU2xvdCBxOmlkPVwiM0FcIiBxOnBvcnRhbD1cIl46MkE7OjNBXCI+IFByb2plY3Rpb24gQ29udGVudCA8L1ZpcnR1YWw+XG4gKiAgICAgICAgICAgICA8VmlydHVhbCBTbG90IHE6aWQ9XCIzQlwiIHE6cG9ydGFsPVwiXjoyQTs6M0JcIj5cbiAqICAgICAgICAgICAgICAgPHNwYW4gcTpzbG90PVwic2Vjb25kYXJ5XCI+U2Vjb25kYXJ5IENvbnRlbnQ8L3NwYW4+XG4gKiAgICAgICAgICAgICA8L1ZpcnR1YWw+XG4gKiAgICAgICAgICAgPC9kaXY+XG4gKiAgICAgICAgIDwvVmlydHVhbD5cbiAqICAgICAgIDwvVmlydHVhbD5cbiAqICAgICA8L21haW4+XG4gKiAgICAgPHE6dGVtcGxhdGU+XG4gKiAgICAgICA8VmlydHVhbCBxOnBvcnRhbD1cIl46MkFcIiBxOmlkPVwiNUFcIj5cbiAqICAgICAgICAgPHNwYW4gcTpzbG90PVwib3RoZXJcIj5PdGhlciBDb250ZW50PC9zcGFuPlxuICogICAgICAgPC9WaXJ0dWFsPlxuICogICAgICAgPFZpcnR1YWwgcTpwb3J0YWw9XCJeOjJBXCIgcTppZD1cIjNBXCI+XG4gKiAgICAgICAgIERlZmF1bHQgUHJpbWFyeVxuICogICAgICAgPC9WaXJ0dWFsPlxuICogICAgICAgPFZpcnR1YWwgcTpwb3J0YWw9XCJeOjJBXCIgcTppZD1cIjNCXCI+XG4gKiAgICAgICAgIERlZmF1bHQgU2Vjb25kYXJ5XG4gKiAgICAgICA8L1ZpcnR1YWw+XG4gKiAgICAgPHE6dGVtcGxhdGU+XG4gKiAgIDwvYm9keT5cbiAqIGBgYFxuICpcbiAqICAgRXhwbGFuYXRpb246XG4gKlxuICogICAtIGBxOnBvcnRhbD1cIjozQTtzZWNvbmRhcnk6M0I7b3RoZXI6NUFcImBcbiAqXG4gKiAgICAgICAtIE5hbWU6IGBgOyBSZWY6IGAzQWAgLSBXaGVyZSB0aGUgZGVmYXVsdCBjb250ZW50IHdlbnQuXG4gKiAgICAgICAtIE5hbWU6IGBzZWNvbmRhcnlgOyBSZWY6IGAzQmAgLSBXaGVyZSB0aGUgJ3NlY29uZGFyeScgY29udGVudCB3ZW50LlxuICogICAgICAgLSBOYW1lOiBgb3RoZXJgOyBSZWY6IGAlQWAgLSBXaGVyZSB0aGUgYG90aGVyYCBjb250ZW50IHdlbnQuIChOb3RpY2UgaW4gdGhpcyBjYXNlIHRoZSBjb250ZW50IGlzXG4gKiAgICAgICAgICAgICAgIGxlZnQgb3ZlciBhbmQgb3MgaXQgZW5kcyB1cCBlbiB0aGUgYHE6dGVtcGxhdGVzYC4gV2UgY2FuIHNoYXJlIG9uZSAnPHE6dGVtcGxhdGU+YFxuICogICAgICAgICAgICAgICBmb3IgYWxsIGxlZnQgb3ZlciBjb250ZW50LilcbiAqICAgLSBgcTpwb3J0YWw9XCJeOjJBOzozQVwiYFxuICpcbiAqICAgICAgIC0gTmFtZTogYF5gOyBSZWY6IGAyQWAgLSBTcGVjaWFsIHBvaW50ZXIgdG8gdGhlIHBhcmVudCBwb3J0YWxcbiAqICAgICAgIC0gTmFtZTogYGA7IFJlZjogYDNBYCAtIExvY2F0aW9uIG9mIHRoZSBkZWZhdWx0IGNvbnRlbnQgaW4gY2FzZSB0aGVyZSBpcyBub3RoaW5nIHByb2plY3RlZCBoZXJlLlxuICpcbiAqICAgIyMgUmVuZGVyaW5nXG4gKlxuICogICBEdXJpbmcgU1NSLCB0aGUgcmVuZGVyZWQgY2FuIGRlbGF5IHJlbmRlcmluZyB0aGUgSlNYIG5vZGVzIHVudGlsIGNvcnJlY3QgcG9ydGFsIGNvbWVzIHVwLiBUaGUgSURcbiAqICAgc3lzdGVtIGlzIGFscmVhZHkgY2FuIG1ha2UgbGF6eSByZWZlcmVuY2VzIHRvIHRoZSBOb2Rlcy5cbiAqXG4gKiAgIENsaWVudCBzaWRlIHJlbmRlcmluZyBkb2VzIG5vdCBuZWVkIHRvIGRlYWwgd2l0aCBJRHMgb3IgYDxxOnRlbXBsYXRlPmAgYXMgdW4tcmVuZGVyZWQgdk5vZGVzIGRvXG4gKiAgIG5vdCBuZWVkIHRvIGJlIHNlcmlhbGl6ZWQgaW50byBET00sIGFuZCBjYW4gcmVtYWluIG9uIGhlYXAuXG4gKlxuICogICAjIyBDb250ZXh0XG4gKlxuICogICBXaGVuIGxvb2tpbmcgdXAgY29udGV4dCBpdCBpcyBwb3NzaWJsZSB0byBmb2xsb3cgeW91IHJlYWwgcmVuZGVyIHBhcmVudHMgb3IgZm9sbG93IHRoZSBwb3J0YWxzLlxuICogICBBbGwgaW5mb3JtYXRpb24gaXMgZW5jb2RlZCBpbiB0aGUgcG9ydGFscy5cbiAqXG4gKiAgICMjIFNsb3QgUHJvamVjdGlvblxuICpcbiAqICAgVGhlIHVsdGltYXRlIHVzZXIgb2YgcG9ydGFscyBpcyBTbG90IHByb2plY3Rpb24uIEJ1dCB0aGUgdk5vZGUgZG8gbm90IHVuZGVyc3RhbmQgc2xvdHMsIHJhdGhlclxuICogICB0aGV5IHVuZGVyc3RhbmQgcG9ydGFsIHByaW1pdGl2ZXMgd2hpY2ggbWFrZXMgU2xvdCBpbXBsZW1lbnRhdGlvbiBtdWNoIHNpbXBsZXIuXG4gKlxuICogICBOT1RFOiBUaGUgcG9ydGFscyBuZWVkIHRvIGhhdmUgSURzIGR1cmluZyBzZXJpYWxpemF0aW9uIG9ubHkuIE9uY2UgcnVudGltZSB0YWtlcyBvdmVyLCB0aGVyZSBpc1xuICogICBubyBuZWVkIHRvIGhhdmUgSURzIG9yIHRvIHdyaXRlIG92ZXJmbG93IHRvIHRoZSBgPHE6dGVtcGxhdGU+YFxuICovXG5cbmltcG9ydCB7IGlzRGV2IH0gZnJvbSAnQHF3aWsuZGV2L2NvcmUvYnVpbGQnO1xuaW1wb3J0IHsgcXdpa0RlYnVnVG9TdHJpbmcgfSBmcm9tICcuLi9kZWJ1Zyc7XG5pbXBvcnQgeyBhc3NlcnREZWZpbmVkLCBhc3NlcnRFcXVhbCwgYXNzZXJ0RmFsc2UsIGFzc2VydFRydWUgfSBmcm9tICcuLi9zaGFyZWQvZXJyb3IvYXNzZXJ0JztcbmltcG9ydCB7IFFFcnJvciwgcUVycm9yIH0gZnJvbSAnLi4vc2hhcmVkL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7XG4gIERFQlVHX1RZUEUsXG4gIFFDb250YWluZXJWYWx1ZSxcbiAgVmlydHVhbFR5cGUsXG4gIFZpcnR1YWxUeXBlTmFtZSxcbiAgdHlwZSBRRWxlbWVudCxcbn0gZnJvbSAnLi4vc2hhcmVkL3R5cGVzJztcbmltcG9ydCB7IGlzVGV4dCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9lbGVtZW50JztcbmltcG9ydCB7XG4gIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLFxuICBFTEVNRU5UX0lELFxuICBFTEVNRU5UX0tFWSxcbiAgRUxFTUVOVF9QUk9QUyxcbiAgRUxFTUVOVF9TRVEsXG4gIEVMRU1FTlRfU0VRX0lEWCxcbiAgT25SZW5kZXJQcm9wLFxuICBRX1BST1BTX1NFUEFSQVRPUixcbiAgUUNvbnRhaW5lckF0dHIsXG4gIFFDb250YWluZXJBdHRyRW5kLFxuICBRQ29udGFpbmVySXNsYW5kLFxuICBRQ29udGFpbmVySXNsYW5kRW5kLFxuICBRQ3R4QXR0cixcbiAgUUlnbm9yZSxcbiAgUUlnbm9yZUVuZCxcbiAgUVNjb3BlZFN0eWxlLFxuICBRU2xvdCxcbiAgUVN0eWxlLFxuICBRU3R5bGVzQWxsU2VsZWN0b3IsXG59IGZyb20gJy4uL3NoYXJlZC91dGlscy9tYXJrZXJzJztcbmltcG9ydCB7IGlzSHRtbEVsZW1lbnQgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHsgVk5vZGVEYXRhQ2hhciB9IGZyb20gJy4uL3NoYXJlZC92bm9kZS1kYXRhLXR5cGVzJztcbmltcG9ydCB7IGdldERvbUNvbnRhaW5lciB9IGZyb20gJy4vZG9tLWNvbnRhaW5lcic7XG5pbXBvcnQgeyBtYXBBcnJheV9zZXQgfSBmcm9tICcuL3V0aWwtbWFwQXJyYXknO1xuaW1wb3J0IHtcbiAgdHlwZSBDbGllbnRDb250YWluZXIsXG4gIHR5cGUgQ29udGFpbmVyRWxlbWVudCxcbiAgdHlwZSBRRG9jdW1lbnQsXG4gIFZOb2RlRmxhZ3MsXG4gIFZOb2RlRmxhZ3NJbmRleCxcbn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQge1xuICB2bm9kZV9nZXREb21DaGlsZHJlbldpdGhDb3JyZWN0TmFtZXNwYWNlc1RvSW5zZXJ0LFxuICB2bm9kZV9nZXRFbGVtZW50TmFtZXNwYWNlRmxhZ3MsXG59IGZyb20gJy4vdm5vZGUtbmFtZXNwYWNlJztcbmltcG9ydCB7IG1lcmdlTWFwcyB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9tYXBzJztcbmltcG9ydCB7IF9FRkZFQ1RfQkFDS19SRUYgfSBmcm9tICcuLi9yZWFjdGl2ZS1wcmltaXRpdmVzL3R5cGVzJztcbmltcG9ydCB7IEVsZW1lbnRWTm9kZSwgVGV4dFZOb2RlLCBWaXJ0dWFsVk5vZGUsIFZOb2RlIH0gZnJvbSAnLi92bm9kZS1pbXBsJztcbmltcG9ydCB7IEV2ZW50TmFtZUh0bWxTY29wZSB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9ldmVudC1uYW1lcyc7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEZ1bmRhbWVudGFsIERPTSBvcGVyYXRpb25zIGFyZTpcbiAqXG4gKiAtIEluc2VydCBuZXcgRE9NIGVsZW1lbnQvdGV4dFxuICogLSBSZW1vdmUgRE9NIGVsZW1lbnQvdGV4dFxuICogLSBTZXQgRE9NIGVsZW1lbnQgYXR0cmlidXRlc1xuICogLSBTZXQgdGV4dCBub2RlIHZhbHVlXG4gKi9cbmV4cG9ydCBjb25zdCBlbnVtIFZOb2RlSm91cm5hbE9wQ29kZSB7XG4gIFNldFRleHQgPSAxLCAvLyAtLS0tLS0gW1NldEF0dHJpYnV0ZSwgdGFyZ2V0LCB0ZXh0XVxuICBTZXRBdHRyaWJ1dGUgPSAyLCAvLyAtIFtTZXRBdHRyaWJ1dGUsIHRhcmdldCwgLi4uKGtleSwgdmFsdWVzKV1dXG4gIEhvaXN0U3R5bGVzID0gMywgLy8gLS0gW0hvaXN0U3R5bGVzLCBkb2N1bWVudF1cbiAgUmVtb3ZlID0gNCwgLy8gLS0tLS0tLSBbUmVtb3ZlLCB0YXJnZXQocGFyZW50KSwgLi4ubm9kZXNdXG4gIFJlbW92ZUFsbCA9IDUsIC8vIC0tLS0tLS0gW1JlbW92ZUFsbCwgdGFyZ2V0KHBhcmVudCldXG4gIEluc2VydCA9IDYsIC8vIC0tLS0tLS0gW0luc2VydCwgdGFyZ2V0KHBhcmVudCksIHJlZmVyZW5jZSwgLi4ubm9kZXNdXG59XG5cbmV4cG9ydCB0eXBlIFZOb2RlSm91cm5hbCA9IEFycmF5PFxuICBWTm9kZUpvdXJuYWxPcENvZGUgfCBEb2N1bWVudCB8IEVsZW1lbnQgfCBUZXh0IHwgc3RyaW5nIHwgYm9vbGVhbiB8IG51bGxcbj47XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgY29uc3Qgdm5vZGVfbmV3RWxlbWVudCA9IChlbGVtZW50OiBFbGVtZW50LCBlbGVtZW50TmFtZTogc3RyaW5nKTogRWxlbWVudFZOb2RlID0+IHtcbiAgYXNzZXJ0RXF1YWwoZmFzdE5vZGVUeXBlKGVsZW1lbnQpLCAxIC8qIEVMRU1FTlRfTk9ERSAqLywgJ0V4cGVjdGluZyBlbGVtZW50IG5vZGUuJyk7XG4gIGNvbnN0IHZub2RlOiBFbGVtZW50Vk5vZGUgPSBuZXcgRWxlbWVudFZOb2RlKFxuICAgIFZOb2RlRmxhZ3MuRWxlbWVudCB8IFZOb2RlRmxhZ3MuSW5mbGF0ZWQgfCAoLTEgPDwgVk5vZGVGbGFnc0luZGV4LnNoaWZ0KSwgLy8gRmxhZ1xuICAgIG51bGwsXG4gICAgbnVsbCxcbiAgICBudWxsLFxuICAgIG51bGwsXG4gICAgbnVsbCxcbiAgICBlbGVtZW50LFxuICAgIGVsZW1lbnROYW1lXG4gICk7XG4gIGFzc2VydFRydWUodm5vZGVfaXNFbGVtZW50Vk5vZGUodm5vZGUpLCAnSW5jb3JyZWN0IGZvcm1hdCBvZiBFbGVtZW50Vk5vZGUuJyk7XG4gIGFzc2VydEZhbHNlKHZub2RlX2lzVGV4dFZOb2RlKHZub2RlKSwgJ0luY29ycmVjdCBmb3JtYXQgb2YgRWxlbWVudFZOb2RlLicpO1xuICBhc3NlcnRGYWxzZSh2bm9kZV9pc1ZpcnR1YWxWTm9kZSh2bm9kZSksICdJbmNvcnJlY3QgZm9ybWF0IG9mIEVsZW1lbnRWTm9kZS4nKTtcbiAgKGVsZW1lbnQgYXMgUUVsZW1lbnQpLnZOb2RlID0gdm5vZGU7XG4gIHJldHVybiB2bm9kZTtcbn07XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9uZXdVbk1hdGVyaWFsaXplZEVsZW1lbnQgPSAoZWxlbWVudDogRWxlbWVudCk6IEVsZW1lbnRWTm9kZSA9PiB7XG4gIGFzc2VydEVxdWFsKGZhc3ROb2RlVHlwZShlbGVtZW50KSwgMSAvKiBFTEVNRU5UX05PREUgKi8sICdFeHBlY3RpbmcgZWxlbWVudCBub2RlLicpO1xuICBjb25zdCB2bm9kZTogRWxlbWVudFZOb2RlID0gbmV3IEVsZW1lbnRWTm9kZShcbiAgICBWTm9kZUZsYWdzLkVsZW1lbnQgfCAoLTEgPDwgVk5vZGVGbGFnc0luZGV4LnNoaWZ0KSwgLy8gRmxhZ1xuICAgIG51bGwsXG4gICAgbnVsbCxcbiAgICBudWxsLFxuICAgIHVuZGVmaW5lZCxcbiAgICB1bmRlZmluZWQsXG4gICAgZWxlbWVudCxcbiAgICB1bmRlZmluZWRcbiAgKTtcbiAgYXNzZXJ0VHJ1ZSh2bm9kZV9pc0VsZW1lbnRWTm9kZSh2bm9kZSksICdJbmNvcnJlY3QgZm9ybWF0IG9mIEVsZW1lbnRWTm9kZS4nKTtcbiAgYXNzZXJ0RmFsc2Uodm5vZGVfaXNUZXh0Vk5vZGUodm5vZGUpLCAnSW5jb3JyZWN0IGZvcm1hdCBvZiBFbGVtZW50Vk5vZGUuJyk7XG4gIGFzc2VydEZhbHNlKHZub2RlX2lzVmlydHVhbFZOb2RlKHZub2RlKSwgJ0luY29ycmVjdCBmb3JtYXQgb2YgRWxlbWVudFZOb2RlLicpO1xuICAoZWxlbWVudCBhcyBRRWxlbWVudCkudk5vZGUgPSB2bm9kZTtcbiAgcmV0dXJuIHZub2RlO1xufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX25ld1NoYXJlZFRleHQgPSAoXG4gIHByZXZpb3VzVGV4dE5vZGU6IFRleHRWTm9kZSB8IG51bGwsXG4gIHNoYXJlZFRleHROb2RlOiBUZXh0IHwgbnVsbCxcbiAgdGV4dENvbnRlbnQ6IHN0cmluZ1xuKTogVGV4dFZOb2RlID0+IHtcbiAgc2hhcmVkVGV4dE5vZGUgJiZcbiAgICBhc3NlcnRFcXVhbChmYXN0Tm9kZVR5cGUoc2hhcmVkVGV4dE5vZGUpLCAzIC8qIFRFWFRfTk9ERSAqLywgJ0V4cGVjdGluZyBlbGVtZW50IG5vZGUuJyk7XG4gIGNvbnN0IHZub2RlOiBUZXh0Vk5vZGUgPSBuZXcgVGV4dFZOb2RlKFxuICAgIFZOb2RlRmxhZ3MuVGV4dCB8ICgtMSA8PCBWTm9kZUZsYWdzSW5kZXguc2hpZnQpLCAvLyBGbGFnXG4gICAgbnVsbCwgLy8gUGFyZW50XG4gICAgcHJldmlvdXNUZXh0Tm9kZSwgLy8gUHJldmlvdXMgVGV4dE5vZGUgKHVzdWFsbHkgZmlyc3QgY2hpbGQpXG4gICAgbnVsbCwgLy8gTmV4dCBzaWJsaW5nXG4gICAgc2hhcmVkVGV4dE5vZGUsIC8vIFNoYXJlZFRleHROb2RlXG4gICAgdGV4dENvbnRlbnQgLy8gVGV4dCBDb250ZW50XG4gICk7XG4gIGFzc2VydEZhbHNlKHZub2RlX2lzRWxlbWVudFZOb2RlKHZub2RlKSwgJ0luY29ycmVjdCBmb3JtYXQgb2YgVGV4dFZOb2RlLicpO1xuICBhc3NlcnRUcnVlKHZub2RlX2lzVGV4dFZOb2RlKHZub2RlKSwgJ0luY29ycmVjdCBmb3JtYXQgb2YgVGV4dFZOb2RlLicpO1xuICBhc3NlcnRGYWxzZSh2bm9kZV9pc1ZpcnR1YWxWTm9kZSh2bm9kZSksICdJbmNvcnJlY3QgZm9ybWF0IG9mIFRleHRWTm9kZS4nKTtcbiAgcmV0dXJuIHZub2RlO1xufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX25ld1RleHQgPSAodGV4dE5vZGU6IFRleHQsIHRleHRDb250ZW50OiBzdHJpbmcgfCB1bmRlZmluZWQpOiBUZXh0Vk5vZGUgPT4ge1xuICBjb25zdCB2bm9kZTogVGV4dFZOb2RlID0gbmV3IFRleHRWTm9kZShcbiAgICBWTm9kZUZsYWdzLlRleHQgfCBWTm9kZUZsYWdzLkluZmxhdGVkIHwgKC0xIDw8IFZOb2RlRmxhZ3NJbmRleC5zaGlmdCksIC8vIEZsYWdzXG4gICAgbnVsbCwgLy8gUGFyZW50XG4gICAgbnVsbCwgLy8gTm8gcHJldmlvdXMgc2libGluZ1xuICAgIG51bGwsIC8vIFdlIG1heSBoYXZlIGEgbmV4dCBzaWJsaW5nLlxuICAgIHRleHROb2RlLCAvLyBUZXh0Tm9kZVxuICAgIHRleHRDb250ZW50IC8vIFRleHQgQ29udGVudFxuICApO1xuICBhc3NlcnRFcXVhbChmYXN0Tm9kZVR5cGUodGV4dE5vZGUpLCAzIC8qIFRFWFRfTk9ERSAqLywgJ0V4cGVjdGluZyBlbGVtZW50IG5vZGUuJyk7XG4gIGFzc2VydEZhbHNlKHZub2RlX2lzRWxlbWVudFZOb2RlKHZub2RlKSwgJ0luY29ycmVjdCBmb3JtYXQgb2YgVGV4dFZOb2RlLicpO1xuICBhc3NlcnRUcnVlKHZub2RlX2lzVGV4dFZOb2RlKHZub2RlKSwgJ0luY29ycmVjdCBmb3JtYXQgb2YgVGV4dFZOb2RlLicpO1xuICBhc3NlcnRGYWxzZSh2bm9kZV9pc1ZpcnR1YWxWTm9kZSh2bm9kZSksICdJbmNvcnJlY3QgZm9ybWF0IG9mIFRleHRWTm9kZS4nKTtcbiAgcmV0dXJuIHZub2RlO1xufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX25ld1ZpcnR1YWwgPSAoKTogVmlydHVhbFZOb2RlID0+IHtcbiAgY29uc3Qgdm5vZGU6IFZpcnR1YWxWTm9kZSA9IG5ldyBWaXJ0dWFsVk5vZGUoXG4gICAgVk5vZGVGbGFncy5WaXJ0dWFsIHwgKC0xIDw8IFZOb2RlRmxhZ3NJbmRleC5zaGlmdCksIC8vIEZsYWdzXG4gICAgbnVsbCxcbiAgICBudWxsLFxuICAgIG51bGwsXG4gICAgbnVsbCxcbiAgICBudWxsXG4gICk7XG4gIGFzc2VydEZhbHNlKHZub2RlX2lzRWxlbWVudFZOb2RlKHZub2RlKSwgJ0luY29ycmVjdCBmb3JtYXQgb2YgVGV4dFZOb2RlLicpO1xuICBhc3NlcnRGYWxzZSh2bm9kZV9pc1RleHRWTm9kZSh2bm9kZSksICdJbmNvcnJlY3QgZm9ybWF0IG9mIFRleHRWTm9kZS4nKTtcbiAgYXNzZXJ0VHJ1ZSh2bm9kZV9pc1ZpcnR1YWxWTm9kZSh2bm9kZSksICdJbmNvcnJlY3QgZm9ybWF0IG9mIFRleHRWTm9kZS4nKTtcbiAgcmV0dXJuIHZub2RlO1xufTtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCBjb25zdCB2bm9kZV9pc1ZOb2RlID0gKHZOb2RlOiBhbnkpOiB2Tm9kZSBpcyBWTm9kZSA9PiB7XG4gIHJldHVybiB2Tm9kZSBpbnN0YW5jZW9mIFZOb2RlO1xufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX2lzRWxlbWVudFZOb2RlID0gKHZOb2RlOiBWTm9kZSk6IHZOb2RlIGlzIEVsZW1lbnRWTm9kZSA9PiB7XG4gIGFzc2VydERlZmluZWQodk5vZGUsICdNaXNzaW5nIHZOb2RlJyk7XG4gIGNvbnN0IGZsYWcgPSB2Tm9kZS5mbGFncztcbiAgcmV0dXJuIChmbGFnICYgVk5vZGVGbGFncy5FbGVtZW50KSA9PT0gVk5vZGVGbGFncy5FbGVtZW50O1xufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX2lzRWxlbWVudE9yVGV4dFZOb2RlID0gKHZOb2RlOiBWTm9kZSk6IHZOb2RlIGlzIEVsZW1lbnRWTm9kZSA9PiB7XG4gIGFzc2VydERlZmluZWQodk5vZGUsICdNaXNzaW5nIHZOb2RlJyk7XG4gIGNvbnN0IGZsYWcgPSB2Tm9kZS5mbGFncztcbiAgcmV0dXJuIChmbGFnICYgVk5vZGVGbGFncy5FTEVNRU5UX09SX1RFWFRfTUFTSykgIT09IDA7XG59O1xuXG5leHBvcnQgY29uc3Qgdm5vZGVfaXNFbGVtZW50T3JWaXJ0dWFsVk5vZGUgPSAoXG4gIHZOb2RlOiBWTm9kZVxuKTogdk5vZGUgaXMgRWxlbWVudFZOb2RlIHwgVmlydHVhbFZOb2RlID0+IHtcbiAgYXNzZXJ0RGVmaW5lZCh2Tm9kZSwgJ01pc3Npbmcgdk5vZGUnKTtcbiAgY29uc3QgZmxhZyA9IHZOb2RlLmZsYWdzO1xuICByZXR1cm4gKGZsYWcgJiBWTm9kZUZsYWdzLkVMRU1FTlRfT1JfVklSVFVBTF9NQVNLKSAhPT0gMDtcbn07XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB2bm9kZV9pc01hdGVyaWFsaXplZCA9ICh2Tm9kZTogVk5vZGUpOiBib29sZWFuID0+IHtcbiAgYXNzZXJ0RGVmaW5lZCh2Tm9kZSwgJ01pc3Npbmcgdk5vZGUnKTtcbiAgY29uc3QgZmxhZyA9IHZOb2RlLmZsYWdzO1xuICByZXR1cm4gKFxuICAgIChmbGFnICYgVk5vZGVGbGFncy5FbGVtZW50KSA9PT0gVk5vZGVGbGFncy5FbGVtZW50ICYmXG4gICAgKHZOb2RlIGFzIEVsZW1lbnRWTm9kZSkuZmlyc3RDaGlsZCAhPT0gdW5kZWZpbmVkICYmXG4gICAgKHZOb2RlIGFzIEVsZW1lbnRWTm9kZSkubGFzdENoaWxkICE9PSB1bmRlZmluZWRcbiAgKTtcbn07XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB2bm9kZV9pc1RleHRWTm9kZSA9ICh2Tm9kZTogVk5vZGUpOiB2Tm9kZSBpcyBUZXh0Vk5vZGUgPT4ge1xuICBhc3NlcnREZWZpbmVkKHZOb2RlLCAnTWlzc2luZyB2Tm9kZScpO1xuICBjb25zdCBmbGFnID0gdk5vZGUuZmxhZ3M7XG4gIHJldHVybiAoZmxhZyAmIFZOb2RlRmxhZ3MuVGV4dCkgPT09IFZOb2RlRmxhZ3MuVGV4dDtcbn07XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB2bm9kZV9pc1ZpcnR1YWxWTm9kZSA9ICh2Tm9kZTogVk5vZGUpOiB2Tm9kZSBpcyBWaXJ0dWFsVk5vZGUgPT4ge1xuICBhc3NlcnREZWZpbmVkKHZOb2RlLCAnTWlzc2luZyB2Tm9kZScpO1xuICBjb25zdCBmbGFnID0gdk5vZGUuZmxhZ3M7XG4gIHJldHVybiAoZmxhZyAmIFZOb2RlRmxhZ3MuVmlydHVhbCkgPT09IFZOb2RlRmxhZ3MuVmlydHVhbDtcbn07XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9pc1Byb2plY3Rpb24gPSAodk5vZGU6IFZOb2RlKTogdk5vZGUgaXMgVmlydHVhbFZOb2RlID0+IHtcbiAgYXNzZXJ0RGVmaW5lZCh2Tm9kZSwgJ01pc3Npbmcgdk5vZGUnKTtcbiAgY29uc3QgZmxhZyA9IHZOb2RlLmZsYWdzO1xuICByZXR1cm4gKGZsYWcgJiBWTm9kZUZsYWdzLlZpcnR1YWwpID09PSBWTm9kZUZsYWdzLlZpcnR1YWwgJiYgdk5vZGUuZ2V0UHJvcChRU2xvdCwgbnVsbCkgIT09IG51bGw7XG59O1xuXG5jb25zdCBlbnN1cmVUZXh0Vk5vZGUgPSAodk5vZGU6IFZOb2RlKTogVGV4dFZOb2RlID0+IHtcbiAgYXNzZXJ0VHJ1ZSh2bm9kZV9pc1RleHRWTm9kZSh2Tm9kZSksICdFeHBlY3RpbmcgVGV4dFZOb2RlIHdhczogJyArIHZub2RlX2dldE5vZGVUeXBlTmFtZSh2Tm9kZSkpO1xuICByZXR1cm4gdk5vZGUgYXMgVGV4dFZOb2RlO1xufTtcblxuY29uc3QgZW5zdXJlRWxlbWVudE9yVmlydHVhbFZOb2RlID0gKHZOb2RlOiBWTm9kZSkgPT4ge1xuICBhc3NlcnREZWZpbmVkKHZOb2RlLCAnTWlzc2luZyB2Tm9kZScpO1xuICBhc3NlcnRUcnVlKFxuICAgICh2Tm9kZS5mbGFncyAmIFZOb2RlRmxhZ3MuRUxFTUVOVF9PUl9WSVJUVUFMX01BU0spICE9PSAwLFxuICAgICdFeHBlY3RpbmcgRWxlbWVudFZOb2RlIG9yIFZpcnR1YWxWTm9kZSB3YXM6ICcgKyB2bm9kZV9nZXROb2RlVHlwZU5hbWUodk5vZGUpXG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgZW5zdXJlRWxlbWVudFZOb2RlID0gKHZOb2RlOiBWTm9kZSk6IEVsZW1lbnRWTm9kZSA9PiB7XG4gIGFzc2VydFRydWUoXG4gICAgdm5vZGVfaXNFbGVtZW50Vk5vZGUodk5vZGUpLFxuICAgICdFeHBlY3RpbmcgRWxlbWVudFZOb2RlIHdhczogJyArIHZub2RlX2dldE5vZGVUeXBlTmFtZSh2Tm9kZSlcbiAgKTtcbiAgcmV0dXJuIHZOb2RlIGFzIEVsZW1lbnRWTm9kZTtcbn07XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9nZXROb2RlVHlwZU5hbWUgPSAodk5vZGU6IFZOb2RlKTogc3RyaW5nID0+IHtcbiAgaWYgKHZOb2RlKSB7XG4gICAgY29uc3QgZmxhZ3MgPSB2Tm9kZS5mbGFncztcbiAgICBzd2l0Y2ggKGZsYWdzICYgVk5vZGVGbGFncy5UWVBFX01BU0spIHtcbiAgICAgIGNhc2UgVk5vZGVGbGFncy5FbGVtZW50OlxuICAgICAgICByZXR1cm4gJ0VsZW1lbnQnO1xuICAgICAgY2FzZSBWTm9kZUZsYWdzLlZpcnR1YWw6XG4gICAgICAgIHJldHVybiAnVmlydHVhbCc7XG4gICAgICBjYXNlIFZOb2RlRmxhZ3MuVGV4dDpcbiAgICAgICAgcmV0dXJuICdUZXh0JztcbiAgICB9XG4gIH1cbiAgcmV0dXJuICc8dW5rbm93bj4nO1xufTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHZub2RlX2Vuc3VyZUVsZW1lbnRJbmZsYXRlZCA9ICh2bm9kZTogVk5vZGUpID0+IHtcbiAgY29uc3QgZmxhZ3MgPSB2bm9kZS5mbGFncztcbiAgaWYgKChmbGFncyAmIFZOb2RlRmxhZ3MuSU5GTEFURURfVFlQRV9NQVNLKSA9PT0gVk5vZGVGbGFncy5FbGVtZW50KSB7XG4gICAgY29uc3QgZWxlbWVudFZOb2RlID0gdm5vZGUgYXMgRWxlbWVudFZOb2RlO1xuICAgIGVsZW1lbnRWTm9kZS5mbGFncyBePSBWTm9kZUZsYWdzLkluZmxhdGVkO1xuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50Vk5vZGUuZWxlbWVudDtcbiAgICBjb25zdCBhdHRyaWJ1dGVzID0gZWxlbWVudC5hdHRyaWJ1dGVzO1xuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGF0dHJpYnV0ZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgY29uc3QgYXR0ciA9IGF0dHJpYnV0ZXNbaWR4XTtcbiAgICAgIGNvbnN0IGtleSA9IGF0dHIubmFtZTtcbiAgICAgIGlmIChrZXkgPT09IFFfUFJPUFNfU0VQQVJBVE9SIHx8ICFrZXkpIHtcbiAgICAgICAgLy8gU1ZHIGluIERvbWlubyBkb2VzIG5vdCBzdXBwb3J0ICc6JyBzbyBpdCBiZWNvbWVzIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgICAgLy8gYWxsIGF0dHJpYnV0ZXMgYWZ0ZXIgdGhlICc6JyBhcmUgY29uc2lkZXJlZCBpbW11dGFibGUsIGFuZCBzbyB3ZSBpZ25vcmUgdGhlbS5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2UgaWYgKGtleS5zdGFydHNXaXRoKFFDb250YWluZXJBdHRyKSkge1xuICAgICAgICBjb25zdCBwcm9wcyA9IHZub2RlX2dldFByb3BzKGVsZW1lbnRWTm9kZSk7XG4gICAgICAgIGlmIChhdHRyLnZhbHVlID09PSBRQ29udGFpbmVyVmFsdWUuSFRNTCkge1xuICAgICAgICAgIG1hcEFycmF5X3NldChwcm9wcywgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwsIGVsZW1lbnQuaW5uZXJIVE1MLCAwKTtcbiAgICAgICAgfSBlbHNlIGlmIChhdHRyLnZhbHVlID09PSBRQ29udGFpbmVyVmFsdWUuVEVYVCAmJiAndmFsdWUnIGluIGVsZW1lbnQpIHtcbiAgICAgICAgICBtYXBBcnJheV9zZXQocHJvcHMsICd2YWx1ZScsIGVsZW1lbnQudmFsdWUsIDApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFrZXkuc3RhcnRzV2l0aChFdmVudE5hbWVIdG1sU2NvcGUub24pKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYXR0ci52YWx1ZTtcbiAgICAgICAgY29uc3QgcHJvcHMgPSB2bm9kZV9nZXRQcm9wcyhlbGVtZW50Vk5vZGUpO1xuICAgICAgICBtYXBBcnJheV9zZXQocHJvcHMsIGtleSwgdmFsdWUsIDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLyoqIFdhbGtzIHRoZSBWTm9kZSB0cmVlIGFuZCBtYXRlcmlhbGl6ZSBpdCB1c2luZyBgdm5vZGVfZ2V0Rmlyc3RDaGlsZGAuICovXG5leHBvcnQgZnVuY3Rpb24gdm5vZGVfd2Fsa1ZOb2RlKFxuICB2Tm9kZTogVk5vZGUsXG4gIGNhbGxiYWNrPzogKHZOb2RlOiBWTm9kZSwgdlBhcmVudDogVk5vZGUgfCBudWxsKSA9PiBib29sZWFuIHwgdm9pZFxuKTogdm9pZCB7XG4gIGxldCB2Q3Vyc29yOiBWTm9kZSB8IG51bGwgPSB2Tm9kZTtcbiAgLy8gRGVwdGggZmlyc3QgdHJhdmVyc2FsXG4gIGlmICh2bm9kZV9pc1RleHRWTm9kZSh2Tm9kZSkpIHtcbiAgICAvLyBUZXh0IG5vZGVzIGRvbid0IGhhdmUgc3Vic2NyaXB0aW9ucyBvciBjaGlsZHJlbjtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHZQYXJlbnQ6IFZOb2RlIHwgbnVsbCA9IG51bGw7XG4gIGRvIHtcbiAgICBpZiAoY2FsbGJhY2s/Lih2Q3Vyc29yLCB2UGFyZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB2Rmlyc3RDaGlsZCA9IHZub2RlX2dldEZpcnN0Q2hpbGQodkN1cnNvcik7XG4gICAgaWYgKHZGaXJzdENoaWxkKSB7XG4gICAgICB2Q3Vyc29yID0gdkZpcnN0Q2hpbGQ7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgLy8gT3V0IG9mIGNoaWxkcmVuXG4gICAgaWYgKHZDdXJzb3IgPT09IHZOb2RlKSB7XG4gICAgICAvLyB3ZSBhcmUgd2hlcmUgd2Ugc3RhcnRlZCwgdGhpcyBtZWFucyB0aGF0IHZOb2RlIGhhcyBubyBjaGlsZHJlbiwgc28gd2UgYXJlIGRvbmUuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIE91dCBvZiBjaGlsZHJlbiwgZ28gdG8gbmV4dCBzaWJsaW5nXG4gICAgY29uc3Qgdk5leHRTaWJsaW5nID0gdkN1cnNvci5uZXh0U2libGluZyBhcyBWTm9kZSB8IG51bGw7XG4gICAgaWYgKHZOZXh0U2libGluZykge1xuICAgICAgdkN1cnNvciA9IHZOZXh0U2libGluZztcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICAvLyBPdXQgb2Ygc2libGluZ3MsIGdvIHRvIHBhcmVudFxuICAgIHZQYXJlbnQgPSB2Q3Vyc29yLnBhcmVudDtcbiAgICB3aGlsZSAodlBhcmVudCkge1xuICAgICAgaWYgKHZQYXJlbnQgPT09IHZOb2RlKSB7XG4gICAgICAgIC8vIFdlIGFyZSBiYWNrIHdoZXJlIHdlIHN0YXJ0ZWQsIHdlIGFyZSBkb25lLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2TmV4dFBhcmVudFNpYmxpbmcgPSB2UGFyZW50Lm5leHRTaWJsaW5nIGFzIFZOb2RlIHwgbnVsbDtcbiAgICAgIGlmICh2TmV4dFBhcmVudFNpYmxpbmcpIHtcbiAgICAgICAgdkN1cnNvciA9IHZOZXh0UGFyZW50U2libGluZztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB2UGFyZW50ID0gdlBhcmVudC5wYXJlbnQ7XG4gICAgfVxuICAgIGlmICh2UGFyZW50ID09IG51bGwpIHtcbiAgICAgIC8vIFdlIGFyZSBkb25lLlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSB3aGlsZSAodHJ1ZSBhcyBib29sZWFuKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZub2RlX2dldERPTUNoaWxkTm9kZXMoXG4gIGpvdXJuYWw6IFZOb2RlSm91cm5hbCxcbiAgcm9vdDogVk5vZGUsXG4gIGlzVk5vZGU6IHRydWUsXG4gIGNoaWxkTm9kZXM/OiAoRWxlbWVudFZOb2RlIHwgVGV4dFZOb2RlKVtdXG4pOiAoRWxlbWVudFZOb2RlIHwgVGV4dFZOb2RlKVtdO1xuZXhwb3J0IGZ1bmN0aW9uIHZub2RlX2dldERPTUNoaWxkTm9kZXMoXG4gIGpvdXJuYWw6IFZOb2RlSm91cm5hbCxcbiAgcm9vdDogVk5vZGUsXG4gIGlzVk5vZGU/OiBmYWxzZSxcbiAgY2hpbGROb2Rlcz86IChFbGVtZW50IHwgVGV4dClbXVxuKTogKEVsZW1lbnQgfCBUZXh0KVtdO1xuZXhwb3J0IGZ1bmN0aW9uIHZub2RlX2dldERPTUNoaWxkTm9kZXMoXG4gIGpvdXJuYWw6IFZOb2RlSm91cm5hbCxcbiAgcm9vdDogVk5vZGUsXG4gIGlzVk5vZGU6IGJvb2xlYW4gPSBmYWxzZSxcbiAgY2hpbGROb2RlczogKEVsZW1lbnRWTm9kZSB8IFRleHRWTm9kZSB8IEVsZW1lbnQgfCBUZXh0KVtdID0gW11cbik6IChFbGVtZW50Vk5vZGUgfCBUZXh0Vk5vZGUgfCBFbGVtZW50IHwgVGV4dClbXSB7XG4gIGlmICh2bm9kZV9pc0VsZW1lbnRPclRleHRWTm9kZShyb290KSkge1xuICAgIGlmICh2bm9kZV9pc1RleHRWTm9kZShyb290KSkge1xuICAgICAgLyoqXG4gICAgICAgKiBJZiB3ZSBhcmUgY29sbGVjdGluZyB0ZXh0IG5vZGVzLCB3ZSBuZWVkIHRvIGVuc3VyZSB0aGF0IHRoZXkgYXJlIGluZmxhdGVkLiBJZiBub3QgaW5mbGF0ZWRcbiAgICAgICAqIHdlIHdvdWxkIHJldHVybiBhIHNpbmdsZSB0ZXh0IG5vZGUgd2hpY2ggcmVwcmVzZW50cyBtYW55IGFjdHVhbCB0ZXh0IG5vZGVzLCBvciByZW1vdmluZyBhXG4gICAgICAgKiBzaW5nbGUgdGV4dCBub2RlIHdvdWxkIHJlbW92ZSBtYW55IHRleHQgbm9kZXMuXG4gICAgICAgKi9cbiAgICAgIHZub2RlX2Vuc3VyZVRleHRJbmZsYXRlZChqb3VybmFsLCByb290KTtcbiAgICB9XG4gICAgY2hpbGROb2Rlcy5wdXNoKGlzVk5vZGUgPyByb290IDogdm5vZGVfZ2V0Tm9kZShyb290KSEpO1xuICAgIHJldHVybiBjaGlsZE5vZGVzO1xuICB9XG4gIGxldCB2Tm9kZSA9IHZub2RlX2dldEZpcnN0Q2hpbGQocm9vdCk7XG4gIHdoaWxlICh2Tm9kZSkge1xuICAgIGlmICh2bm9kZV9pc0VsZW1lbnRWTm9kZSh2Tm9kZSkpIHtcbiAgICAgIGNoaWxkTm9kZXMucHVzaChpc1ZOb2RlID8gdk5vZGUgOiB2bm9kZV9nZXROb2RlKHZOb2RlKSEpO1xuICAgIH0gZWxzZSBpZiAodm5vZGVfaXNUZXh0Vk5vZGUodk5vZGUpKSB7XG4gICAgICAvKipcbiAgICAgICAqIElmIHdlIGFyZSBjb2xsZWN0aW5nIHRleHQgbm9kZXMsIHdlIG5lZWQgdG8gZW5zdXJlIHRoYXQgdGhleSBhcmUgaW5mbGF0ZWQuIElmIG5vdCBpbmZsYXRlZFxuICAgICAgICogd2Ugd291bGQgcmV0dXJuIGEgc2luZ2xlIHRleHQgbm9kZSB3aGljaCByZXByZXNlbnRzIG1hbnkgYWN0dWFsIHRleHQgbm9kZXMsIG9yIHJlbW92aW5nIGFcbiAgICAgICAqIHNpbmdsZSB0ZXh0IG5vZGUgd291bGQgcmVtb3ZlIG1hbnkgdGV4dCBub2Rlcy5cbiAgICAgICAqL1xuICAgICAgdm5vZGVfZW5zdXJlVGV4dEluZmxhdGVkKGpvdXJuYWwsIHZOb2RlKTtcbiAgICAgIGNoaWxkTm9kZXMucHVzaChpc1ZOb2RlID8gdk5vZGUgOiB2bm9kZV9nZXROb2RlKHZOb2RlKSEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpc1ZOb2RlXG4gICAgICAgID8gdm5vZGVfZ2V0RE9NQ2hpbGROb2Rlcyhqb3VybmFsLCB2Tm9kZSwgdHJ1ZSwgY2hpbGROb2RlcyBhcyAoRWxlbWVudFZOb2RlIHwgVGV4dFZOb2RlKVtdKVxuICAgICAgICA6IHZub2RlX2dldERPTUNoaWxkTm9kZXMoam91cm5hbCwgdk5vZGUsIGZhbHNlLCBjaGlsZE5vZGVzIGFzIChFbGVtZW50IHwgVGV4dClbXSk7XG4gICAgfVxuICAgIHZOb2RlID0gdk5vZGUubmV4dFNpYmxpbmcgYXMgVk5vZGUgfCBudWxsO1xuICB9XG4gIHJldHVybiBjaGlsZE5vZGVzO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHByZXZpb3VzL25leHQgc2libGluZyBidXQgZnJvbSB0aGUgcG9pbnQgb2YgdmlldyBvZiB0aGUgRE9NLlxuICpcbiAqIEdpdmVuOlxuICpcbiAqIGBgYFxuICogPGRpdj5cbiAqICAgPD5hPC8+XG4gKiAgIDw+XG4gKiAgICAgPD48Lz5cbiAqICAgICA8PmI8Lz5cbiAqICAgICA8PjwvPlxuICogICA8Lz5cbiAqICAgPD5jPC8+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIFRoZW46XG4gKlxuICogLSBOZXh0OiBpZiB3ZSBzdGFydCBhdCBgYWAgdGhlIG5leHQgRE9NIHNpYmxpbmcgaXMgYGJgLCB0aGFuIGBjYC5cbiAqIC0gUHJldmlvdXM6IGlmIHdlIHN0YXJ0IGF0IGBjYCB0aGUgbmV4dCBET00gc2libGluZyBpcyBgYmAsIHRoYW4gYGFgLlxuICpcbiAqIEBwYXJhbSB2Tm9kZSAtIFN0YXJ0aW5nIG5vZGVcbiAqIEBwYXJhbSBuZXh0RGlyZWN0aW9uIC0gRGlyZWN0aW9uIHRvIHNlYXJjaCB0cnVlPW5leHQsIGZhbHNlPXByZXZpb3VzXG4gKiBAcGFyYW0gZGVzY2VuZCAtIElmIHRydWUsIHRoYW4gd2Ugd2lsbCBkZXNjZW5kIGludG8gdGhlIGNoaWxkcmVuIGZpcnN0LlxuICogQHJldHVybnNcbiAqL1xuY29uc3Qgdm5vZGVfZ2V0RG9tU2libGluZyA9IChcbiAgdk5vZGU6IFZOb2RlLFxuICBuZXh0RGlyZWN0aW9uOiBib29sZWFuLFxuICBkZXNjZW5kOiBib29sZWFuXG4pOiBFbGVtZW50Vk5vZGUgfCBUZXh0Vk5vZGUgfCBudWxsID0+IHtcbiAgY29uc3QgY2hpbGRQcm9wID0gbmV4dERpcmVjdGlvbiA/ICdmaXJzdENoaWxkJyA6ICdsYXN0Q2hpbGQnO1xuICBjb25zdCBzaWJsaW5nUHJvcCA9IG5leHREaXJlY3Rpb24gPyAnbmV4dFNpYmxpbmcnIDogJ3ByZXZpb3VzU2libGluZyc7XG4gIGxldCBjdXJzb3I6IFZOb2RlIHwgbnVsbCA9IHZOb2RlO1xuICAvLyBmaXJzdCBtYWtlIHN1cmUgd2UgaGF2ZSBhIERPTSBub2RlIG9yIG5vIGNoaWxkcmVuLlxuICB3aGlsZSAoZGVzY2VuZCAmJiBjdXJzb3IgJiYgdm5vZGVfaXNWaXJ0dWFsVk5vZGUoY3Vyc29yKSkge1xuICAgIGNvbnN0IGNoaWxkOiBWTm9kZSB8IG51bGwgfCB1bmRlZmluZWQgPSBjdXJzb3JbY2hpbGRQcm9wXTtcbiAgICBpZiAoIWNoaWxkKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKGNoaWxkLmZsYWdzICYgVk5vZGVGbGFncy5FTEVNRU5UX09SX1RFWFRfTUFTSykge1xuICAgICAgcmV0dXJuIGNoaWxkIGFzIEVsZW1lbnRWTm9kZSB8IFRleHRWTm9kZTtcbiAgICB9XG4gICAgY3Vyc29yID0gY2hpbGQ7XG4gIH1cbiAgd2hpbGUgKGN1cnNvcikge1xuICAgIC8vIExvb2sgYXQgdGhlIHByZXZpb3VzL25leHQgc2libGluZy5cbiAgICBsZXQgc2libGluZzogVk5vZGUgfCBudWxsIHwgdW5kZWZpbmVkID0gY3Vyc29yW3NpYmxpbmdQcm9wXTtcbiAgICBpZiAoc2libGluZyAmJiBzaWJsaW5nLmZsYWdzICYgVk5vZGVGbGFncy5FTEVNRU5UX09SX1RFWFRfTUFTSykge1xuICAgICAgLy8gd2UgZm91bmQgYSBwcmV2aW91cy9uZXh0IERPTSBub2RlLCByZXR1cm4gaXQuXG4gICAgICByZXR1cm4gc2libGluZyBhcyBFbGVtZW50Vk5vZGUgfCBUZXh0Vk5vZGU7XG4gICAgfSBlbHNlIGlmICghc2libGluZykge1xuICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIHNpYmxpbmcgdGhhbiB3YWxrIHVwIHRoZSB0cmVlIHVudGlsIHlvdSBmaW5kIG9uZS5cbiAgICAgIGxldCB2aXJ0dWFsOiBWTm9kZSB8IG51bGwgfCB1bmRlZmluZWQgPSBjdXJzb3IucGFyZW50O1xuICAgICAgaWYgKHZpcnR1YWwgJiYgIXZub2RlX2lzVmlydHVhbFZOb2RlKHZpcnR1YWwpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHZpcnR1YWwgJiYgIShzaWJsaW5nID0gdmlydHVhbFtzaWJsaW5nUHJvcF0pKSB7XG4gICAgICAgIHZpcnR1YWwgPSB2aXJ0dWFsLnBhcmVudDtcblxuICAgICAgICBpZiAodmlydHVhbCAmJiAhdm5vZGVfaXNWaXJ0dWFsVk5vZGUodmlydHVhbCkpIHtcbiAgICAgICAgICAvLyB0aGUgcGFyZW50IG5vZGUgaXMgbm90IHZpcnR1YWwsIHNvIHdlIGFyZSBkb25lIGhlcmUuXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghc2libGluZykge1xuICAgICAgICAvLyBJZiB3ZSBkaWQgbm90IGZpbmQgYSBzaWJsaW5nLCB0aGFuIHdlIGFyZSBkb25lLlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmICh2bm9kZV9pc1RleHRWTm9kZShzaWJsaW5nKSAmJiB2aXJ0dWFsICYmIHZub2RlX2lzRWxlbWVudFZOb2RlKHZpcnR1YWwpKSB7XG4gICAgICAgIC8vIHNpYmxpbmcgdG8gdGhlIHJlYWwgZWxlbWVudCBpcyBhIHRleHQgbm9kZSwgdGhpcyBpcyBub3QgYSBzaWJsaW5nXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBBdCB0aGlzIHBvaW50IGBzaWJsaW5nYCBpcyBhIG5leHQgbm9kZSB0byBsb29rIGF0LlxuICAgIC8vIE5leHQgc3RlcCBpcyB0byBkZXNjZW5kIHVudGlsIHdlIGZpbmQgYSBET00gZG9uZS5cbiAgICB3aGlsZSAoc2libGluZykge1xuICAgICAgY3Vyc29yID0gc2libGluZztcbiAgICAgIGlmIChjdXJzb3IuZmxhZ3MgJiBWTm9kZUZsYWdzLkVMRU1FTlRfT1JfVEVYVF9NQVNLICYmIHZub2RlX2dldE5vZGUoY3Vyc29yKSkge1xuICAgICAgICAvLyB3ZSBoYXZlIHRvIGNoZWNrIHRoYXQgd2UgYWN0dWFsbHkgaGF2ZSBhIG5vZGUsIGJlY2F1c2UgaXQgY291bGQgYmUgYSB0ZXh0IG5vZGUgd2hpY2ggaXNcbiAgICAgICAgLy8gemVybyBsZW5ndGggYW5kIHdoaWNoIGRvZXMgbm90IGhhdmUgYSByZXByZXNlbnRhdGlvbiBpbiB0aGUgRE9NLlxuICAgICAgICByZXR1cm4gY3Vyc29yIGFzIEVsZW1lbnRWTm9kZSB8IFRleHRWTm9kZTtcbiAgICAgIH1cbiAgICAgIHNpYmxpbmcgPSAoY3Vyc29yIGFzIFZpcnR1YWxWTm9kZSlbY2hpbGRQcm9wXTtcbiAgICB9XG4gICAgLy8gSWYgd2UgYXJlIGhlcmUgd2UgZGlkIG5vdCBmaW5kIGFueXRoaW5nIGFuZCB3ZSBuZWVkIHRvIGdvIHVwIHRoZSB0cmVlIGFnYWluLlxuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuY29uc3Qgdm5vZGVfZW5zdXJlSW5mbGF0ZWRJZlRleHQgPSAoam91cm5hbDogVk5vZGVKb3VybmFsLCB2Tm9kZTogVk5vZGUpOiB2b2lkID0+IHtcbiAgaWYgKHZub2RlX2lzVGV4dFZOb2RlKHZOb2RlKSkge1xuICAgIHZub2RlX2Vuc3VyZVRleHRJbmZsYXRlZChqb3VybmFsLCB2Tm9kZSk7XG4gIH1cbn07XG5cbmNvbnN0IHZub2RlX2Vuc3VyZVRleHRJbmZsYXRlZCA9IChqb3VybmFsOiBWTm9kZUpvdXJuYWwsIHZub2RlOiBUZXh0Vk5vZGUpID0+IHtcbiAgY29uc3QgdGV4dFZOb2RlID0gZW5zdXJlVGV4dFZOb2RlKHZub2RlKTtcbiAgY29uc3QgZmxhZ3MgPSB0ZXh0Vk5vZGUuZmxhZ3M7XG4gIGlmICgoZmxhZ3MgJiBWTm9kZUZsYWdzLkluZmxhdGVkKSA9PT0gMCkge1xuICAgIGNvbnN0IHBhcmVudE5vZGUgPSB2bm9kZV9nZXREb21QYXJlbnQodm5vZGUpO1xuICAgIGFzc2VydERlZmluZWQocGFyZW50Tm9kZSwgJ01pc3NpbmcgcGFyZW50IG5vZGUuJyk7XG4gICAgY29uc3Qgc2hhcmVkVGV4dE5vZGUgPSB0ZXh0Vk5vZGUudGV4dE5vZGUgYXMgVGV4dDtcbiAgICBjb25zdCBkb2MgPSBwYXJlbnROb2RlLm93bmVyRG9jdW1lbnQ7XG4gICAgLy8gV2FsayB0aGUgcHJldmlvdXMgc2libGluZ3MgYW5kIGluZmxhdGUgdGhlbS5cbiAgICBsZXQgY3Vyc29yID0gdm5vZGVfZ2V0RG9tU2libGluZyh2bm9kZSwgZmFsc2UsIHRydWUpO1xuICAgIC8vIElmIHRleHQgbm9kZSBpcyAwIGxlbmd0aCwgdGhhbiB0aGVyZSBpcyBubyB0ZXh0IG5vZGUuXG4gICAgLy8gSW4gdGhhdCBjYXNlIHdlIHVzZSB0aGUgbmV4dCBub2RlIGFzIGEgcmVmZXJlbmNlLCBpbiB3aGljaFxuICAgIC8vIGNhc2Ugd2Uga25vdyB0aGF0IHRoZSBuZXh0IG5vZGUgTVVTVCBiZSBlaXRoZXIgTlVMTCBvciBhbiBFbGVtZW50LlxuICAgIGNvbnN0IG5vZGUgPSB2bm9kZV9nZXREb21TaWJsaW5nKHZub2RlLCB0cnVlLCB0cnVlKTtcbiAgICBjb25zdCBpbnNlcnRCZWZvcmVOb2RlOiBFbGVtZW50IHwgVGV4dCB8IG51bGwgPVxuICAgICAgc2hhcmVkVGV4dE5vZGUgfHxcbiAgICAgICgoKG5vZGUgaW5zdGFuY2VvZiBFbGVtZW50Vk5vZGUgPyBub2RlLmVsZW1lbnQgOiBub2RlPy50ZXh0Tm9kZSkgfHwgbnVsbCkgYXNcbiAgICAgICAgfCBFbGVtZW50XG4gICAgICAgIHwgVGV4dFxuICAgICAgICB8IG51bGwpO1xuXG4gICAgbGV0IGxhc3RQcmV2aW91c1RleHROb2RlID0gaW5zZXJ0QmVmb3JlTm9kZTtcbiAgICB3aGlsZSAoY3Vyc29yICYmIHZub2RlX2lzVGV4dFZOb2RlKGN1cnNvcikpIHtcbiAgICAgIGlmICgoY3Vyc29yLmZsYWdzICYgVk5vZGVGbGFncy5JbmZsYXRlZCkgPT09IDApIHtcbiAgICAgICAgY29uc3QgdGV4dE5vZGUgPSBkb2MuY3JlYXRlVGV4dE5vZGUoY3Vyc29yLnRleHQhKTtcbiAgICAgICAgam91cm5hbC5wdXNoKFZOb2RlSm91cm5hbE9wQ29kZS5JbnNlcnQsIHBhcmVudE5vZGUsIGxhc3RQcmV2aW91c1RleHROb2RlLCB0ZXh0Tm9kZSk7XG4gICAgICAgIGxhc3RQcmV2aW91c1RleHROb2RlID0gdGV4dE5vZGU7XG4gICAgICAgIGN1cnNvci50ZXh0Tm9kZSA9IHRleHROb2RlO1xuICAgICAgICBjdXJzb3IuZmxhZ3MgfD0gVk5vZGVGbGFncy5JbmZsYXRlZDtcbiAgICAgIH1cbiAgICAgIGN1cnNvciA9IHZub2RlX2dldERvbVNpYmxpbmcoY3Vyc29yLCBmYWxzZSwgdHJ1ZSk7XG4gICAgfVxuICAgIC8vIFdhbGsgdGhlIG5leHQgc2libGluZ3MgYW5kIGluZmxhdGUgdGhlbS5cbiAgICBjdXJzb3IgPSB2bm9kZTtcbiAgICB3aGlsZSAoY3Vyc29yICYmIHZub2RlX2lzVGV4dFZOb2RlKGN1cnNvcikpIHtcbiAgICAgIGNvbnN0IG5leHQgPSB2bm9kZV9nZXREb21TaWJsaW5nKGN1cnNvciwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICBjb25zdCBpc0xhc3ROb2RlID0gbmV4dCA/ICF2bm9kZV9pc1RleHRWTm9kZShuZXh0KSA6IHRydWU7XG4gICAgICBpZiAoKGN1cnNvci5mbGFncyAmIFZOb2RlRmxhZ3MuSW5mbGF0ZWQpID09PSAwKSB7XG4gICAgICAgIGlmIChpc0xhc3ROb2RlICYmIHNoYXJlZFRleHROb2RlKSB7XG4gICAgICAgICAgam91cm5hbC5wdXNoKFZOb2RlSm91cm5hbE9wQ29kZS5TZXRUZXh0LCBzaGFyZWRUZXh0Tm9kZSwgY3Vyc29yLnRleHQhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCB0ZXh0Tm9kZSA9IGRvYy5jcmVhdGVUZXh0Tm9kZShjdXJzb3IudGV4dCEpO1xuICAgICAgICAgIGpvdXJuYWwucHVzaChWTm9kZUpvdXJuYWxPcENvZGUuSW5zZXJ0LCBwYXJlbnROb2RlLCBpbnNlcnRCZWZvcmVOb2RlLCB0ZXh0Tm9kZSk7XG4gICAgICAgICAgY3Vyc29yLnRleHROb2RlID0gdGV4dE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgY3Vyc29yLmZsYWdzIHw9IFZOb2RlRmxhZ3MuSW5mbGF0ZWQ7XG4gICAgICB9XG4gICAgICBjdXJzb3IgPSBuZXh0O1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX2xvY2F0ZSA9IChyb290Vk5vZGU6IEVsZW1lbnRWTm9kZSwgaWQ6IHN0cmluZyB8IEVsZW1lbnQpOiBWTm9kZSA9PiB7XG4gIGVuc3VyZUVsZW1lbnRWTm9kZShyb290Vk5vZGUpO1xuICBsZXQgdk5vZGU6IFZOb2RlIHwgRWxlbWVudCA9IHJvb3RWTm9kZTtcbiAgY29uc3QgY29udGFpbmVyRWxlbWVudCA9IHJvb3RWTm9kZS5lbGVtZW50IGFzIENvbnRhaW5lckVsZW1lbnQ7XG4gIGNvbnN0IHsgcVZOb2RlUmVmcyB9ID0gY29udGFpbmVyRWxlbWVudDtcbiAgbGV0IGVsZW1lbnRPZmZzZXQ6IG51bWJlciA9IC0xO1xuICBsZXQgcmVmRWxlbWVudDogRWxlbWVudCB8IFZOb2RlO1xuICBpZiAodHlwZW9mIGlkID09PSAnc3RyaW5nJykge1xuICAgIGFzc2VydERlZmluZWQocVZOb2RlUmVmcywgJ01pc3NpbmcgcVZOb2RlUmVmcy4nKTtcbiAgICBlbGVtZW50T2Zmc2V0ID0gcGFyc2VJbnQoaWQpO1xuICAgIHJlZkVsZW1lbnQgPSBxVk5vZGVSZWZzLmdldChlbGVtZW50T2Zmc2V0KSE7XG4gIH0gZWxzZSB7XG4gICAgcmVmRWxlbWVudCA9IGlkO1xuXG4gICAgY29uc3Qgdk5vZGUgPSAocmVmRWxlbWVudCBhcyBRRWxlbWVudCkudk5vZGU7XG4gICAgaWYgKHZOb2RlKSB7XG4gICAgICByZXR1cm4gdk5vZGU7XG4gICAgfVxuICB9XG4gIGFzc2VydERlZmluZWQocmVmRWxlbWVudCwgJ01pc3NpbmcgcmVmRWxlbWVudC4nKTtcbiAgaWYgKCF2bm9kZV9pc1ZOb2RlKHJlZkVsZW1lbnQpKSB7XG4gICAgYXNzZXJ0VHJ1ZShcbiAgICAgIGNvbnRhaW5lckVsZW1lbnQuY29udGFpbnMocmVmRWxlbWVudCksXG4gICAgICBgQ291bGRuJ3QgZmluZCB0aGUgZWxlbWVudCBpbnNpZGUgdGhlIGNvbnRhaW5lciB3aGlsZSBsb2NhdGluZyB0aGUgVk5vZGUuYFxuICAgICk7XG4gICAgLy8gV2UgbmVlZCB0byBmaW5kIHRoZSB2bm9kZS5cbiAgICBsZXQgcGFyZW50ID0gcmVmRWxlbWVudDtcbiAgICBjb25zdCBlbGVtZW50UGF0aDogRWxlbWVudFtdID0gW3JlZkVsZW1lbnRdO1xuICAgIHdoaWxlIChwYXJlbnQgJiYgcGFyZW50ICE9PSBjb250YWluZXJFbGVtZW50ICYmICEocGFyZW50IGFzIFFFbGVtZW50KS52Tm9kZSkge1xuICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudEVsZW1lbnQhO1xuICAgICAgZWxlbWVudFBhdGgucHVzaChwYXJlbnQpO1xuICAgIH1cbiAgICBpZiAoKHBhcmVudCBhcyBRRWxlbWVudCkudk5vZGUpIHtcbiAgICAgIHZOb2RlID0gKHBhcmVudCBhcyBRRWxlbWVudCkudk5vZGUgYXMgRWxlbWVudFZOb2RlO1xuICAgIH1cbiAgICAvLyBTdGFydCBhdCByb290Vk5vZGUgYW5kIGZvbGxvdyB0aGUgYGVsZW1lbnRQYXRoYCB0byBmaW5kIHRoZSB2bm9kZS5cbiAgICBmb3IgKGxldCBpID0gZWxlbWVudFBhdGgubGVuZ3RoIC0gMjsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZOb2RlID0gdm5vZGVfZ2V0Vk5vZGVGb3JDaGlsZE5vZGUodk5vZGUgYXMgRWxlbWVudFZOb2RlLCBlbGVtZW50UGF0aFtpXSk7XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnRPZmZzZXQgIT0gLTEpIHtcbiAgICAgIChyZWZFbGVtZW50IGFzIFFFbGVtZW50KS52Tm9kZSA9IHZOb2RlO1xuICAgICAgcVZOb2RlUmVmcyEuc2V0KGVsZW1lbnRPZmZzZXQsIHZOb2RlIGFzIEVsZW1lbnRWTm9kZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZOb2RlID0gcmVmRWxlbWVudDtcbiAgfVxuICBpZiAodHlwZW9mIGlkID09PSAnc3RyaW5nJykge1xuICAgIC8vIHByb2Nlc3MgdmlydHVhbCBub2RlIHNlYXJjaC5cbiAgICBjb25zdCBpZExlbmd0aCA9IGlkLmxlbmd0aDtcbiAgICBsZXQgaWR4ID0gaW5kZXhPZkFscGhhbnVtZXJpYyhpZCwgaWRMZW5ndGgpO1xuICAgIGxldCBjaGlsZElkeCA9IDA7XG4gICAgd2hpbGUgKGlkeCA8IGlkTGVuZ3RoKSB7XG4gICAgICBjb25zdCBjaCA9IGlkLmNoYXJDb2RlQXQoaWR4KTtcbiAgICAgIGNoaWxkSWR4ICo9IDI2IC8qIGEteiAqLztcbiAgICAgIGlmIChjaCA+PSA5NyAvKiBhICovKSB7XG4gICAgICAgIC8vIGlzIGxvd2VyY2FzZVxuICAgICAgICBjaGlsZElkeCArPSBjaCAtIDk3IC8qIGEgKi87XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpcyB1cHBlcmNhc2VcbiAgICAgICAgY2hpbGRJZHggKz0gY2ggLSA2NSAvKiBBICovO1xuICAgICAgICB2Tm9kZSA9IHZub2RlX2dldENoaWxkV2l0aElkeCh2Tm9kZSwgY2hpbGRJZHgpO1xuICAgICAgICBjaGlsZElkeCA9IDA7XG4gICAgICB9XG4gICAgICBpZHgrKztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZOb2RlO1xufTtcblxuY29uc3Qgdm5vZGVfZ2V0Q2hpbGRXaXRoSWR4ID0gKHZOb2RlOiBWTm9kZSwgY2hpbGRJZHg6IG51bWJlcik6IFZOb2RlID0+IHtcbiAgbGV0IGNoaWxkID0gdm5vZGVfZ2V0Rmlyc3RDaGlsZCh2Tm9kZSk7XG4gIGFzc2VydERlZmluZWQoY2hpbGQsICdNaXNzaW5nIGNoaWxkLicpO1xuICB3aGlsZSAoY2hpbGQuZmxhZ3MgPj4+IFZOb2RlRmxhZ3NJbmRleC5zaGlmdCAhPT0gY2hpbGRJZHgpIHtcbiAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nIGFzIFZOb2RlIHwgbnVsbDtcbiAgICBhc3NlcnREZWZpbmVkKGNoaWxkLCAnTWlzc2luZyBjaGlsZC4nKTtcbiAgfVxuICByZXR1cm4gY2hpbGQ7XG59O1xuXG5jb25zdCB2Tm9kZVN0YWNrOiBWTm9kZVtdID0gW107XG5leHBvcnQgY29uc3Qgdm5vZGVfZ2V0Vk5vZGVGb3JDaGlsZE5vZGUgPSAoXG4gIHZOb2RlOiBFbGVtZW50Vk5vZGUsXG4gIGNoaWxkRWxlbWVudDogRWxlbWVudFxuKTogRWxlbWVudFZOb2RlID0+IHtcbiAgZW5zdXJlRWxlbWVudFZOb2RlKHZOb2RlKTtcbiAgbGV0IGNoaWxkID0gdm5vZGVfZ2V0Rmlyc3RDaGlsZCh2Tm9kZSk7XG4gIGFzc2VydERlZmluZWQoY2hpbGQsICdNaXNzaW5nIGNoaWxkLicpO1xuICB3aGlsZSAoY2hpbGQgJiYgKGNoaWxkIGluc3RhbmNlb2YgRWxlbWVudFZOb2RlID8gY2hpbGQuZWxlbWVudCAhPT0gY2hpbGRFbGVtZW50IDogdHJ1ZSkpIHtcbiAgICBpZiAodm5vZGVfaXNWaXJ0dWFsVk5vZGUoY2hpbGQpKSB7XG4gICAgICBjb25zdCBuZXh0ID0gY2hpbGQubmV4dFNpYmxpbmcgYXMgVk5vZGUgfCBudWxsO1xuICAgICAgY29uc3QgZmlyc3RDaGlsZCA9IHZub2RlX2dldEZpcnN0Q2hpbGQoY2hpbGQpO1xuICAgICAgaWYgKGZpcnN0Q2hpbGQpIHtcbiAgICAgICAgbmV4dCAmJiB2Tm9kZVN0YWNrLnB1c2gobmV4dCk7XG4gICAgICAgIGNoaWxkID0gZmlyc3RDaGlsZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoaWxkID0gbmV4dCB8fCAodk5vZGVTdGFjay5sZW5ndGggPyB2Tm9kZVN0YWNrLnBvcCgpISA6IG51bGwpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBuZXh0ID0gY2hpbGQubmV4dFNpYmxpbmcgYXMgVk5vZGUgfCBudWxsO1xuICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgY2hpbGQgPSBuZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hpbGQgPSBuZXh0IHx8IHZOb2RlU3RhY2sucG9wKCkhO1xuICAgICAgfVxuICAgIH1cbiAgICBhc3NlcnREZWZpbmVkKGNoaWxkLCAnTWlzc2luZyBjaGlsZC4nKTtcbiAgfVxuICB3aGlsZSAodk5vZGVTdGFjay5sZW5ndGgpIHtcbiAgICB2Tm9kZVN0YWNrLnBvcCgpO1xuICB9XG4gIGVuc3VyZUVsZW1lbnRWTm9kZShjaGlsZCk7XG4gIGFzc2VydEVxdWFsKChjaGlsZCBhcyBFbGVtZW50Vk5vZGUpLmVsZW1lbnQsIGNoaWxkRWxlbWVudCwgJ0NoaWxkIG5vdCBmb3VuZC4nKTtcbiAgLy8gY29uc29sZS5sb2coJ0ZPVU5EJywgY2hpbGRbVk5vZGVQcm9wcy5ub2RlXT8ub3V0ZXJIVE1MKTtcbiAgcmV0dXJuIGNoaWxkIGFzIEVsZW1lbnRWTm9kZTtcbn07XG5cbmNvbnN0IGluZGV4T2ZBbHBoYW51bWVyaWMgPSAoaWQ6IHN0cmluZywgbGVuZ3RoOiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICBsZXQgaWR4ID0gMDtcbiAgd2hpbGUgKGlkeCA8IGxlbmd0aCkge1xuICAgIGlmIChpZC5jaGFyQ29kZUF0KGlkeCkgPD0gNTcgLyogOSAqLykge1xuICAgICAgaWR4Kys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpZHg7XG4gICAgfVxuICB9XG4gIHJldHVybiBsZW5ndGg7XG59O1xuXG5leHBvcnQgY29uc3Qgdm5vZGVfY3JlYXRlRXJyb3JEaXYgPSAoXG4gIGRvY3VtZW50OiBEb2N1bWVudCxcbiAgaG9zdDogVk5vZGUsXG4gIGVycjogRXJyb3IsXG4gIGpvdXJuYWw6IFZOb2RlSm91cm5hbFxuKSA9PiB7XG4gIGNvbnN0IGVycm9yRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZXJyb3JlZC1ob3N0Jyk7XG4gIGlmIChlcnIgJiYgZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAoZXJyb3JEaXYgYXMgYW55KS5wcm9wcyA9IHsgZXJyb3I6IGVyciB9O1xuICB9XG4gIGVycm9yRGl2LnNldEF0dHJpYnV0ZSgncTprZXknLCAnX2Vycm9yXycpO1xuXG4gIGNvbnN0IHZFcnJvckRpdiA9IHZub2RlX25ld0VsZW1lbnQoZXJyb3JEaXYsICdlcnJvcmVkLWhvc3QnKTtcblxuICB2bm9kZV9nZXRET01DaGlsZE5vZGVzKGpvdXJuYWwsIGhvc3QsIHRydWUpLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgdm5vZGVfaW5zZXJ0QmVmb3JlKGpvdXJuYWwsIHZFcnJvckRpdiwgY2hpbGQsIG51bGwpO1xuICB9KTtcbiAgcmV0dXJuIHZFcnJvckRpdjtcbn07XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgY29uc3Qgdm5vZGVfam91cm5hbFRvU3RyaW5nID0gKGpvdXJuYWw6IFZOb2RlSm91cm5hbCk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IGxpbmVzID0gWydKT1VSTkFMOiddO1xuICBsZXQgaWR4ID0gMDtcbiAgY29uc3QgbGVuZ3RoID0gam91cm5hbC5sZW5ndGg7XG5cbiAgZnVuY3Rpb24gc3RyaW5naWZ5KC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgbGluZXMucHVzaChcbiAgICAgIGFyZ3NcbiAgICAgICAgLm1hcCgoYXJnKSA9PiB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYXJnICYmIGlzSHRtbEVsZW1lbnQoYXJnKSkge1xuICAgICAgICAgICAgY29uc3QgaHRtbCA9IGFyZy5vdXRlckhUTUw7XG4gICAgICAgICAgICBjb25zdCBoYXNDaGlsZE5vZGVzID0gISFhcmcuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICAgICAgICBjb25zdCBpZHggPSBodG1sLmluZGV4T2YoJz4nKTtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RJZHggPSBodG1sLmxhc3RJbmRleE9mKCc8Jyk7XG4gICAgICAgICAgICByZXR1cm4gaWR4ID4gMCAmJiBoYXNDaGlsZE5vZGVzXG4gICAgICAgICAgICAgID8gaHRtbC5zdWJzdHJpbmcoMCwgaWR4ICsgMSkgKyAnLi4uJyArIGh0bWwuc3Vic3RyaW5nKGxhc3RJZHgpXG4gICAgICAgICAgICAgIDogaHRtbDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGFyZyAmJiBpc1RleHQoYXJnKSkge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZy5ub2RlVmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKGFyZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuam9pbignICcpXG4gICAgKTtcbiAgfVxuXG4gIHdoaWxlIChpZHggPCBsZW5ndGgpIHtcbiAgICBjb25zdCBvcCA9IGpvdXJuYWxbaWR4KytdIGFzIFZOb2RlSm91cm5hbE9wQ29kZTtcbiAgICBzd2l0Y2ggKG9wKSB7XG4gICAgICBjYXNlIFZOb2RlSm91cm5hbE9wQ29kZS5TZXRUZXh0OlxuICAgICAgICBzdHJpbmdpZnkoJ1NldFRleHQnKTtcbiAgICAgICAgc3RyaW5naWZ5KCcgICcsIGpvdXJuYWxbaWR4KytdKTtcbiAgICAgICAgc3RyaW5naWZ5KCcgICAtLT4nLCBqb3VybmFsW2lkeCsrXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBWTm9kZUpvdXJuYWxPcENvZGUuU2V0QXR0cmlidXRlOlxuICAgICAgICBzdHJpbmdpZnkoJ1NldEF0dHJpYnV0ZScpO1xuICAgICAgICBzdHJpbmdpZnkoJyAgJywgam91cm5hbFtpZHgrK10pO1xuICAgICAgICBzdHJpbmdpZnkoJyAgIGtleScsIGpvdXJuYWxbaWR4KytdKTtcbiAgICAgICAgc3RyaW5naWZ5KCcgICB2YWwnLCBqb3VybmFsW2lkeCsrXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBWTm9kZUpvdXJuYWxPcENvZGUuSG9pc3RTdHlsZXM6XG4gICAgICAgIHN0cmluZ2lmeSgnSG9pc3RTdHlsZXMnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFZOb2RlSm91cm5hbE9wQ29kZS5SZW1vdmU6IHtcbiAgICAgICAgc3RyaW5naWZ5KCdSZW1vdmUnKTtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gam91cm5hbFtpZHgrK107XG4gICAgICAgIHN0cmluZ2lmeSgnICAnLCBwYXJlbnQpO1xuICAgICAgICBsZXQgbm9kZVRvUmVtb3ZlOiBhbnk7XG4gICAgICAgIHdoaWxlIChpZHggPCBsZW5ndGggJiYgdHlwZW9mIChub2RlVG9SZW1vdmUgPSBqb3VybmFsW2lkeF0pICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgIHN0cmluZ2lmeSgnICAgLS0+Jywgbm9kZVRvUmVtb3ZlKTtcbiAgICAgICAgICBpZHgrKztcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgVk5vZGVKb3VybmFsT3BDb2RlLkluc2VydDoge1xuICAgICAgICBzdHJpbmdpZnkoJ0luc2VydCcpO1xuICAgICAgICBjb25zdCBwYXJlbnQgPSBqb3VybmFsW2lkeCsrXTtcbiAgICAgICAgY29uc3QgaW5zZXJ0QmVmb3JlID0gam91cm5hbFtpZHgrK107XG4gICAgICAgIHN0cmluZ2lmeSgnICAnLCBwYXJlbnQpO1xuICAgICAgICBsZXQgbmV3Q2hpbGQ6IGFueTtcbiAgICAgICAgd2hpbGUgKGlkeCA8IGxlbmd0aCAmJiB0eXBlb2YgKG5ld0NoaWxkID0gam91cm5hbFtpZHhdKSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICBzdHJpbmdpZnkoJyAgIC0tPicsIG5ld0NoaWxkKTtcbiAgICAgICAgICBpZHgrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5zZXJ0QmVmb3JlKSB7XG4gICAgICAgICAgc3RyaW5naWZ5KCcgICAgICAnLCBpbnNlcnRCZWZvcmUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsaW5lcy5wdXNoKCdFTkQgSk9VUk5BTCcpO1xuICByZXR1cm4gbGluZXMuam9pbignXFxuJyk7XG59O1xuXG5jb25zdCBwYXJzZUJvb2xlYW4gPSAodmFsdWU6IHN0cmluZyB8IGJvb2xlYW4gfCBudWxsKTogYm9vbGVhbiA9PiB7XG4gIGlmICh2YWx1ZSA9PT0gJ2ZhbHNlJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gQm9vbGVhbih2YWx1ZSk7XG59O1xuXG5jb25zdCBpc0Jvb2xlYW5BdHRyID0gKGVsZW1lbnQ6IEVsZW1lbnQsIGtleTogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IGlzQm9vbGVhbiA9XG4gICAga2V5ID09ICdhbGxvd2Z1bGxzY3JlZW4nIHx8XG4gICAga2V5ID09ICdhc3luYycgfHxcbiAgICBrZXkgPT0gJ2F1dG9mb2N1cycgfHxcbiAgICBrZXkgPT0gJ2F1dG9wbGF5JyB8fFxuICAgIGtleSA9PSAnY2hlY2tlZCcgfHxcbiAgICBrZXkgPT0gJ2NvbnRyb2xzJyB8fFxuICAgIGtleSA9PSAnZGVmYXVsdCcgfHxcbiAgICBrZXkgPT0gJ2RlZmVyJyB8fFxuICAgIGtleSA9PSAnZGlzYWJsZWQnIHx8XG4gICAga2V5ID09ICdmb3Jtbm92YWxpZGF0ZScgfHxcbiAgICBrZXkgPT0gJ2luZXJ0JyB8fFxuICAgIGtleSA9PSAnaXNtYXAnIHx8XG4gICAga2V5ID09ICdpdGVtc2NvcGUnIHx8XG4gICAga2V5ID09ICdsb29wJyB8fFxuICAgIGtleSA9PSAnbXVsdGlwbGUnIHx8XG4gICAga2V5ID09ICdtdXRlZCcgfHxcbiAgICBrZXkgPT0gJ25vbW9kdWxlJyB8fFxuICAgIGtleSA9PSAnbm92YWxpZGF0ZScgfHxcbiAgICBrZXkgPT0gJ29wZW4nIHx8XG4gICAga2V5ID09ICdwbGF5c2lubGluZScgfHxcbiAgICBrZXkgPT0gJ3JlYWRvbmx5JyB8fFxuICAgIGtleSA9PSAncmVxdWlyZWQnIHx8XG4gICAga2V5ID09ICdyZXZlcnNlZCcgfHxcbiAgICBrZXkgPT0gJ3NlbGVjdGVkJztcbiAgcmV0dXJuIGlzQm9vbGVhbiAmJiBrZXkgaW4gZWxlbWVudDtcbn07XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9hcHBseUpvdXJuYWwgPSAoam91cm5hbDogVk5vZGVKb3VybmFsKSA9PiB7XG4gIC8vIGNvbnNvbGUubG9nKCdBUFBMWSBKT1VSTkFMJywgdm5vZGVfam91cm5hbFRvU3RyaW5nKGpvdXJuYWwpKTtcbiAgbGV0IGlkeCA9IDA7XG4gIGNvbnN0IGxlbmd0aCA9IGpvdXJuYWwubGVuZ3RoO1xuICB3aGlsZSAoaWR4IDwgbGVuZ3RoKSB7XG4gICAgY29uc3Qgb3AgPSBqb3VybmFsW2lkeCsrXSBhcyBWTm9kZUpvdXJuYWxPcENvZGU7XG4gICAgc3dpdGNoIChvcCkge1xuICAgICAgY2FzZSBWTm9kZUpvdXJuYWxPcENvZGUuU2V0VGV4dDpcbiAgICAgICAgY29uc3QgdGV4dCA9IGpvdXJuYWxbaWR4KytdIGFzIFRleHQ7XG4gICAgICAgIHRleHQubm9kZVZhbHVlID0gam91cm5hbFtpZHgrK10gYXMgc3RyaW5nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVk5vZGVKb3VybmFsT3BDb2RlLlNldEF0dHJpYnV0ZTpcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGpvdXJuYWxbaWR4KytdIGFzIEVsZW1lbnQ7XG4gICAgICAgIGxldCBrZXkgPSBqb3VybmFsW2lkeCsrXSBhcyBzdHJpbmc7XG4gICAgICAgIGlmIChrZXkgPT09ICdjbGFzc05hbWUnKSB7XG4gICAgICAgICAga2V5ID0gJ2NsYXNzJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IGpvdXJuYWxbaWR4KytdIGFzIHN0cmluZyB8IG51bGwgfCBib29sZWFuO1xuICAgICAgICBpZiAoaXNCb29sZWFuQXR0cihlbGVtZW50LCBrZXkpKSB7XG4gICAgICAgICAgKGVsZW1lbnQgYXMgYW55KVtrZXldID0gcGFyc2VCb29sZWFuKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICd2YWx1ZScgJiYga2V5IGluIGVsZW1lbnQpIHtcbiAgICAgICAgICAoZWxlbWVudCBhcyBhbnkpLnZhbHVlID0gU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKSB7XG4gICAgICAgICAgKGVsZW1lbnQgYXMgYW55KS5pbm5lckhUTUwgPSB2YWx1ZSE7XG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoUUNvbnRhaW5lckF0dHIsIFFDb250YWluZXJWYWx1ZS5IVE1MKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgU3RyaW5nKHZhbHVlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBWTm9kZUpvdXJuYWxPcENvZGUuSG9pc3RTdHlsZXM6XG4gICAgICAgIGNvbnN0IGRvY3VtZW50ID0gam91cm5hbFtpZHgrK10gYXMgRG9jdW1lbnQ7XG4gICAgICAgIGNvbnN0IGhlYWQgPSBkb2N1bWVudC5oZWFkO1xuICAgICAgICBjb25zdCBzdHlsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFFTdHlsZXNBbGxTZWxlY3Rvcik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBWTm9kZUpvdXJuYWxPcENvZGUuUmVtb3ZlOlxuICAgICAgICBjb25zdCByZW1vdmVQYXJlbnQgPSBqb3VybmFsW2lkeCsrXSBhcyBFbGVtZW50O1xuICAgICAgICBsZXQgbm9kZVRvUmVtb3ZlOiBhbnk7XG4gICAgICAgIHdoaWxlIChpZHggPCBsZW5ndGggJiYgdHlwZW9mIChub2RlVG9SZW1vdmUgPSBqb3VybmFsW2lkeF0pICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgIHJlbW92ZVBhcmVudC5yZW1vdmVDaGlsZChub2RlVG9SZW1vdmUgYXMgRWxlbWVudCB8IFRleHQpO1xuICAgICAgICAgIGlkeCsrO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBWTm9kZUpvdXJuYWxPcENvZGUuUmVtb3ZlQWxsOlxuICAgICAgICBjb25zdCByZW1vdmVBbGxQYXJlbnQgPSBqb3VybmFsW2lkeCsrXSBhcyBFbGVtZW50O1xuICAgICAgICBpZiAocmVtb3ZlQWxsUGFyZW50LnJlcGxhY2VDaGlsZHJlbikge1xuICAgICAgICAgIHJlbW92ZUFsbFBhcmVudC5yZXBsYWNlQ2hpbGRyZW4oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBmYWxsYmFjayBpZiByZXBsYWNlQ2hpbGRyZW4gaXMgbm90IHN1cHBvcnRlZFxuICAgICAgICAgIHJlbW92ZUFsbFBhcmVudC50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBWTm9kZUpvdXJuYWxPcENvZGUuSW5zZXJ0OlxuICAgICAgICBjb25zdCBpbnNlcnRQYXJlbnQgPSBqb3VybmFsW2lkeCsrXSBhcyBFbGVtZW50O1xuICAgICAgICBjb25zdCBpbnNlcnRCZWZvcmUgPSBqb3VybmFsW2lkeCsrXSBhcyBFbGVtZW50IHwgVGV4dCB8IG51bGw7XG4gICAgICAgIGxldCBuZXdDaGlsZDogYW55O1xuICAgICAgICB3aGlsZSAoaWR4IDwgbGVuZ3RoICYmIHR5cGVvZiAobmV3Q2hpbGQgPSBqb3VybmFsW2lkeF0pICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgIGluc2VydFBhcmVudC5pbnNlcnRCZWZvcmUobmV3Q2hpbGQsIGluc2VydEJlZm9yZSk7XG4gICAgICAgICAgaWR4Kys7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGpvdXJuYWwubGVuZ3RoID0gMDtcbn07XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgY29uc3Qgdm5vZGVfaW5zZXJ0QmVmb3JlID0gKFxuICBqb3VybmFsOiBWTm9kZUpvdXJuYWwsXG4gIHBhcmVudDogRWxlbWVudFZOb2RlIHwgVmlydHVhbFZOb2RlLFxuICBuZXdDaGlsZDogVk5vZGUsXG4gIGluc2VydEJlZm9yZTogVk5vZGUgfCBudWxsXG4pID0+IHtcbiAgZW5zdXJlRWxlbWVudE9yVmlydHVhbFZOb2RlKHBhcmVudCk7XG4gIGlmICh2bm9kZV9pc0VsZW1lbnRWTm9kZShwYXJlbnQpKSB7XG4gICAgZW5zdXJlTWF0ZXJpYWxpemVkKHBhcmVudCk7XG4gIH1cbiAgY29uc3QgbmV3Q2hpbGRDdXJyZW50UGFyZW50ID0gbmV3Q2hpbGQucGFyZW50O1xuICBpZiAobmV3Q2hpbGQgPT09IGluc2VydEJlZm9yZSkge1xuICAgIC8vIGludmFsaWQgaW5zZXJ0QmVmb3JlLiBXZSBjYW4ndCBpbnNlcnQgYmVmb3JlIHNlbGYgcmVmZXJlbmNlXG4gICAgLy8gcHJldmVudCBpbmZpbml0eSBsb29wIGFuZCBwdXR0aW5nIHNlbGYgcmVmZXJlbmNlIHRvIG5leHQgc2libGluZ1xuICAgIGlmIChuZXdDaGlsZEN1cnJlbnRQYXJlbnQpIHtcbiAgICAgIC8vIGVhcmx5IHJldHVybiwgYXMgdGhlIG5ld0NoaWxkIGlzIGFscmVhZHkgaW4gdGhlIHRyZWUgYW5kIHdlIGFyZSBhbHJlYWR5IGluIHRoZSBjb3JyZWN0IHBvc2l0aW9uXG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIHRoZSBuZXdDaGlsZCBpcyBub3QgaW4gdGhlIHRyZWUsIHRoYW4gd2UgaW5zZXJ0IGl0IGF0IHRoZSBlbmQgb2YgdGhlIGxpc3RcbiAgICAgIGluc2VydEJlZm9yZSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZpbmQgdGhlIHBhcmVudCBub2RlIGFuZCB0aGUgZG9tIGNoaWxkcmVuIHdpdGggdGhlIGNvcnJlY3QgbmFtZXNwYWNlcyBiZWZvcmUgd2UgdW5saW5rIHRoZVxuICAgKiBwcmV2aW91cyBub2RlLiBJZiB3ZSBkb24ndCBkbyB0aGlzLCB3ZSB3aWxsIGVuZCB1cCB3aXRoIHNpdHVhdGlvbnMgd2hlcmUgd2UgaW5mbGF0ZSB0ZXh0IG5vZGVzXG4gICAqIGZyb20gc2hhcmVkIHRleHQgbm9kZSBub3QgY29ycmVjdGx5LlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKlxuICAgKiBgYGBcbiAgICogPENvbXBvbmVudD5cbiAgICogICA8UHJvamVjdGlvbj5hPC9Qcm9qZWN0aW9uPlxuICAgKiAgIDxQcm9qZWN0aW9uPmI8L1Byb2plY3Rpb24+XG4gICAqIDwvQ29tcG9uZW50PlxuICAgKiBgYGBcbiAgICpcbiAgICogUHJvamVjdGlvbiBub2RlcyBhcmUgdmlydHVhbCBub2Rlcywgc28gdGhleSBkb24ndCBoYXZlIGEgZG9tIHBhcmVudC4gVGhleSB3aWxsIGJlIHdyaXR0ZW4gdG9cbiAgICogdGhlIHE6dGVtcGxhdGUgZWxlbWVudCBpZiBub3QgdmlzaWJsZSBhdCB0aGUgc3RhcnQuIEluc2lkZSB0aGUgcTp0ZW1wbGF0ZSBlbGVtZW50LCB0aGVcbiAgICogcHJvamVjdGlvbiBub2RlcyB3aWxsIGJlIHN0cmVhbWVkIGFzIHNpbmdsZSB0ZXh0IG5vZGUgXCJhYlwiLiBXZSBuZWVkIHRvIHNwbGl0IGl0LCBidXQgaWYgd2VcbiAgICogdW5saW5rIHRoZSBwcmV2aW91cyBvciBuZXh0IHNpYmxpbmcsIHdlIGRvbid0IGtub3cgdGhhdCBhZnRlciBcImFcIiBub2RlIGlzIFwiYlwiLiBTbyB3ZSBuZWVkIHRvXG4gICAqIGZpbmQgY2hpbGRyZW4gZmlyc3QgKGFuZCBpbmZsYXRlIHRoZW0pLlxuICAgKi9cbiAgY29uc3QgZG9tUGFyZW50Vk5vZGUgPSB2bm9kZV9nZXREb21QYXJlbnRWTm9kZShwYXJlbnQsIGZhbHNlKTtcbiAgY29uc3QgcGFyZW50Tm9kZSA9IGRvbVBhcmVudFZOb2RlICYmIGRvbVBhcmVudFZOb2RlLmVsZW1lbnQ7XG4gIGxldCBkb21DaGlsZHJlbjogKEVsZW1lbnQgfCBUZXh0KVtdIHwgbnVsbCA9IG51bGw7XG4gIGlmIChkb21QYXJlbnRWTm9kZSkge1xuICAgIGRvbUNoaWxkcmVuID0gdm5vZGVfZ2V0RG9tQ2hpbGRyZW5XaXRoQ29ycmVjdE5hbWVzcGFjZXNUb0luc2VydChcbiAgICAgIGpvdXJuYWwsXG4gICAgICBkb21QYXJlbnRWTm9kZSxcbiAgICAgIG5ld0NoaWxkXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbnN1cmUgdGhhdCB0aGUgcHJldmlvdXMgbm9kZSBpcyB1bmxpbmtlZC5cbiAgICpcbiAgICogV2UgbmVlZCB0byBkbyBpdCBiZWZvcmUgZmluZGluZyB0aGUgYWRqdXN0ZWRJbnNlcnRCZWZvcmUuIFRoZSBwcm9ibGVtIGlzIHdoZW4geW91IHRyeSB0byByZW5kZXJcbiAgICogdGhlIHNhbWUgcHJvamVjdGlvbiBtdWx0aXBsZSB0aW1lcyBpbiB0aGUgc2FtZSBub2RlIGJ1dCB1bmRlciBkaWZmZXJlbnQgY29uZGl0aW9ucy4gV2UgcmV1c2VcbiAgICogcHJvamVjdGlvbiBub2Rlcywgc28gd2hlbiB0aGlzIGhhcHBlbnMsIHdlIGNhbiBlbmQgdXAgd2l0aCBhIHNpdHVhdGlvbiB3aGVyZSB0aGUgbm9kZSBpc1xuICAgKiBpbnNlcnRlZCBiZWZvcmUgbm9kZSBhYm92ZSBpdC5cbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICpcbiAgICogYGBgXG4gICAqIDw+XG4gICAqICAge3Byb3BzLnRvZ2dsZSAmJiA8U2xvdCAvPn1cbiAgICogICB7IXByb3BzLnRvZ2dsZSAmJiAoXG4gICAqICAgICA8PlxuICAgKiAgICAgICA8U2xvdCAvPlxuICAgKiAgICAgPC8+XG4gICAqICAgKX1cbiAgICogPC8+XG4gICAqIGBgYFxuICAgKlxuICAgKiBQcm9qZWN0ZWQgY29udGVudDpcbiAgICpcbiAgICogYGBgXG4gICAqIDxoMT5UZXN0PC9oMT5cbiAgICogPHA+VGVzdCBjb250ZW50PC9wPlxuICAgKiBgYGBcbiAgICpcbiAgICogSWYgd2UgZG9uJ3QgdW5saW5rIHRoZSBwcmV2aW91cyBub2RlLCB3ZSB3aWxsIGVuZCB1cCBhdCBzb21lIHBvaW50IHdpdGggdGhlIGZvbGxvd2luZzpcbiAgICpcbiAgICogYGBgXG4gICAqIDxoMT5UZXN0PC9oMT5cbiAgICogPHA+VGVzdCBjb250ZW50PC9wPiAvLyA8LS0gaW5zZXJ0ZWQgYmVmb3JlIHRoZSBmaXJzdCBoMVxuICAgKiA8aDE+VGVzdDwvaDE+IC8vIDwtLSB0byByZW1vdmUsIGJ1dCBzdGlsbCBpbiB0aGUgdHJlZVxuICAgKiA8cD5UZXN0IGNvbnRlbnQ8L3A+IC8vIDwtLSB0byByZW1vdmVcbiAgICogYGBgXG4gICAqL1xuICBpZiAoXG4gICAgbmV3Q2hpbGRDdXJyZW50UGFyZW50ICYmXG4gICAgKG5ld0NoaWxkLnByZXZpb3VzU2libGluZyB8fCBuZXdDaGlsZC5uZXh0U2libGluZyB8fCBuZXdDaGlsZEN1cnJlbnRQYXJlbnQgIT09IHBhcmVudClcbiAgKSB7XG4gICAgdm5vZGVfcmVtb3ZlKGpvdXJuYWwsIG5ld0NoaWxkQ3VycmVudFBhcmVudCwgbmV3Q2hpbGQsIGZhbHNlKTtcbiAgfVxuXG4gIGNvbnN0IHBhcmVudElzRGVsZXRlZCA9IHBhcmVudC5mbGFncyAmIFZOb2RlRmxhZ3MuRGVsZXRlZDtcblxuICAvLyBpZiB0aGUgcGFyZW50IGlzIGRlbGV0ZWQsIHRoZW4gd2UgZG9uJ3QgbmVlZCB0byBpbnNlcnQgdGhlIG5ldyBjaGlsZFxuICBpZiAoIXBhcmVudElzRGVsZXRlZCkge1xuICAgIGxldCBhZGp1c3RlZEluc2VydEJlZm9yZTogVk5vZGUgfCBudWxsID0gbnVsbDtcbiAgICBpZiAoaW5zZXJ0QmVmb3JlID09IG51bGwpIHtcbiAgICAgIGlmICh2bm9kZV9pc1ZpcnR1YWxWTm9kZShwYXJlbnQpKSB7XG4gICAgICAgIC8vIElmIGBpbnNlcnRCZWZvcmVgIGlzIG51bGwsIHRoYW4gd2UgbmVlZCB0byBpbnNlcnQgYXQgdGhlIGVuZCBvZiB0aGUgbGlzdC5cbiAgICAgICAgLy8gV2VsbCwgbm90IHF1aXRlLiBJZiB0aGUgcGFyZW50IGlzIGEgdmlydHVhbCBub2RlLCBvdXIgXCJsYXN0IG5vZGVcIiBpcyBub3QgdGhlIHNhbWVcbiAgICAgICAgLy8gYXMgdGhlIERPTSBcImxhc3Qgbm9kZVwiLiBTbyBpbiB0aGF0IGNhc2Ugd2UgbmVlZCB0byBsb29rIGZvciB0aGUgXCJuZXh0IG5vZGVcIiBmcm9tXG4gICAgICAgIC8vIG91ciBwYXJlbnQuXG4gICAgICAgIGFkanVzdGVkSW5zZXJ0QmVmb3JlID0gdm5vZGVfZ2V0RG9tU2libGluZyhwYXJlbnQsIHRydWUsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZub2RlX2lzVmlydHVhbFZOb2RlKGluc2VydEJlZm9yZSkpIHtcbiAgICAgIC8vIElmIHRoZSBgaW5zZXJ0QmVmb3JlYCBpcyB2aXJ0dWFsLCB0aGFuIHdlIG5lZWQgdG8gZGVzY2VuZCBpbnRvIHRoZSB2aXJ0dWFsIGFuZCBmaW5kIGUgYWN0dWFsXG4gICAgICBhZGp1c3RlZEluc2VydEJlZm9yZSA9IHZub2RlX2dldERvbVNpYmxpbmcoaW5zZXJ0QmVmb3JlLCB0cnVlLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWRqdXN0ZWRJbnNlcnRCZWZvcmUgPSBpbnNlcnRCZWZvcmU7XG4gICAgfVxuICAgIGFkanVzdGVkSW5zZXJ0QmVmb3JlICYmIHZub2RlX2Vuc3VyZUluZmxhdGVkSWZUZXh0KGpvdXJuYWwsIGFkanVzdGVkSW5zZXJ0QmVmb3JlKTtcblxuICAgIC8vIEhlcmUgd2Uga25vdyB0aGUgaW5zZXJ0QmVmb3JlIG5vZGVcbiAgICBpZiAoZG9tQ2hpbGRyZW4gJiYgZG9tQ2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICBqb3VybmFsLnB1c2goXG4gICAgICAgIFZOb2RlSm91cm5hbE9wQ29kZS5JbnNlcnQsXG4gICAgICAgIHBhcmVudE5vZGUsXG4gICAgICAgIHZub2RlX2dldE5vZGUoYWRqdXN0ZWRJbnNlcnRCZWZvcmUpLFxuICAgICAgICAuLi5kb21DaGlsZHJlblxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvLyBsaW5rIG5ld0NoaWxkIGludG8gdGhlIHByZXZpb3VzL25leHQgbGlzdFxuICBjb25zdCB2TmV4dCA9IGluc2VydEJlZm9yZTtcbiAgY29uc3QgdlByZXZpb3VzID0gdk5leHQgPyB2TmV4dC5wcmV2aW91c1NpYmxpbmcgOiAocGFyZW50Lmxhc3RDaGlsZCBhcyBWTm9kZSB8IG51bGwpO1xuICBpZiAodk5leHQpIHtcbiAgICB2TmV4dC5wcmV2aW91c1NpYmxpbmcgPSBuZXdDaGlsZDtcbiAgfSBlbHNlIHtcbiAgICBwYXJlbnQubGFzdENoaWxkID0gbmV3Q2hpbGQ7XG4gIH1cbiAgaWYgKHZQcmV2aW91cykge1xuICAgIHZQcmV2aW91cy5uZXh0U2libGluZyA9IG5ld0NoaWxkO1xuICB9IGVsc2Uge1xuICAgIHBhcmVudC5maXJzdENoaWxkID0gbmV3Q2hpbGQ7XG4gIH1cbiAgbmV3Q2hpbGQucHJldmlvdXNTaWJsaW5nID0gdlByZXZpb3VzO1xuICBuZXdDaGlsZC5uZXh0U2libGluZyA9IHZOZXh0O1xuICBuZXdDaGlsZC5wYXJlbnQgPSBwYXJlbnQ7XG4gIGlmIChwYXJlbnRJc0RlbGV0ZWQpIHtcbiAgICAvLyBpZiB0aGUgcGFyZW50IGlzIGRlbGV0ZWQsIHRoZW4gdGhlIG5ldyBjaGlsZCBpcyBhbHNvIGRlbGV0ZWRcbiAgICBuZXdDaGlsZC5mbGFncyB8PSBWTm9kZUZsYWdzLkRlbGV0ZWQ7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9nZXREb21QYXJlbnQgPSAoXG4gIHZub2RlOiBWTm9kZSxcbiAgaW5jbHVkZVByb2plY3Rpb24gPSB0cnVlXG4pOiBFbGVtZW50IHwgVGV4dCB8IG51bGwgPT4ge1xuICB2bm9kZSA9IHZub2RlX2dldERvbVBhcmVudFZOb2RlKHZub2RlLCBpbmNsdWRlUHJvamVjdGlvbikgYXMgVk5vZGU7XG4gIHJldHVybiAodm5vZGUgJiYgKHZub2RlIGFzIEVsZW1lbnRWTm9kZSkuZWxlbWVudCkgYXMgRWxlbWVudCB8IFRleHQgfCBudWxsO1xufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX2dldERvbVBhcmVudFZOb2RlID0gKFxuICB2bm9kZTogVk5vZGUsXG4gIGluY2x1ZGVQcm9qZWN0aW9uID0gdHJ1ZVxuKTogRWxlbWVudFZOb2RlIHwgbnVsbCA9PiB7XG4gIHdoaWxlICh2bm9kZSAmJiAhdm5vZGVfaXNFbGVtZW50Vk5vZGUodm5vZGUpKSB7XG4gICAgdm5vZGUgPSB2bm9kZS5wYXJlbnQgfHwgKGluY2x1ZGVQcm9qZWN0aW9uID8gdm5vZGUuc2xvdFBhcmVudCA6IG51bGwpITtcbiAgfVxuICByZXR1cm4gdm5vZGU7XG59O1xuXG5leHBvcnQgY29uc3Qgdm5vZGVfcmVtb3ZlID0gKFxuICBqb3VybmFsOiBWTm9kZUpvdXJuYWwsXG4gIHZQYXJlbnQ6IEVsZW1lbnRWTm9kZSB8IFZpcnR1YWxWTm9kZSxcbiAgdlRvUmVtb3ZlOiBWTm9kZSxcbiAgcmVtb3ZlRE9NOiBib29sZWFuXG4pID0+IHtcbiAgYXNzZXJ0RXF1YWwodlBhcmVudCwgdlRvUmVtb3ZlLnBhcmVudCwgJ1BhcmVudCBtaXNtYXRjaC4nKTtcbiAgaWYgKHZub2RlX2lzVGV4dFZOb2RlKHZUb1JlbW92ZSkpIHtcbiAgICB2bm9kZV9lbnN1cmVUZXh0SW5mbGF0ZWQoam91cm5hbCwgdlRvUmVtb3ZlKTtcbiAgfVxuXG4gIGlmIChyZW1vdmVET00pIHtcbiAgICBjb25zdCBkb21QYXJlbnQgPSB2bm9kZV9nZXREb21QYXJlbnQodlBhcmVudCwgZmFsc2UpO1xuICAgIGNvbnN0IGlzSW5uZXJIVE1MUGFyZW50ID0gdlBhcmVudC5nZXRBdHRyKGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKTtcbiAgICBpZiAoaXNJbm5lckhUTUxQYXJlbnQpIHtcbiAgICAgIC8vIGlnbm9yZSBjaGlsZHJlbiwgYXMgdGhleSBhcmUgaW5zZXJ0ZWQgdmlhIGlubmVySFRNTFxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjaGlsZHJlbiA9IHZub2RlX2dldERPTUNoaWxkTm9kZXMoam91cm5hbCwgdlRvUmVtb3ZlKTtcbiAgICBkb21QYXJlbnQgJiYgY2hpbGRyZW4ubGVuZ3RoICYmIGpvdXJuYWwucHVzaChWTm9kZUpvdXJuYWxPcENvZGUuUmVtb3ZlLCBkb21QYXJlbnQsIC4uLmNoaWxkcmVuKTtcbiAgfVxuXG4gIGNvbnN0IHZQcmV2aW91cyA9IHZUb1JlbW92ZS5wcmV2aW91c1NpYmxpbmc7XG4gIGNvbnN0IHZOZXh0ID0gdlRvUmVtb3ZlLm5leHRTaWJsaW5nO1xuICBpZiAodlByZXZpb3VzKSB7XG4gICAgdlByZXZpb3VzLm5leHRTaWJsaW5nID0gdk5leHQ7XG4gIH0gZWxzZSB7XG4gICAgdlBhcmVudC5maXJzdENoaWxkID0gdk5leHQ7XG4gIH1cbiAgaWYgKHZOZXh0KSB7XG4gICAgdk5leHQucHJldmlvdXNTaWJsaW5nID0gdlByZXZpb3VzO1xuICB9IGVsc2Uge1xuICAgIHZQYXJlbnQubGFzdENoaWxkID0gdlByZXZpb3VzO1xuICB9XG4gIHZUb1JlbW92ZS5wcmV2aW91c1NpYmxpbmcgPSBudWxsO1xuICB2VG9SZW1vdmUubmV4dFNpYmxpbmcgPSBudWxsO1xufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX3F1ZXJ5RG9tTm9kZXMgPSAoXG4gIHZOb2RlOiBWTm9kZSxcbiAgc2VsZWN0b3I6IHN0cmluZyxcbiAgY2I6IChlbGVtZW50OiBFbGVtZW50KSA9PiB2b2lkXG4pID0+IHtcbiAgaWYgKHZub2RlX2lzRWxlbWVudFZOb2RlKHZOb2RlKSkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSB2bm9kZV9nZXROb2RlKHZOb2RlKSBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAoZWxlbWVudC5tYXRjaGVzKHNlbGVjdG9yKSkge1xuICAgICAgY2IoZWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikuZm9yRWFjaChjYik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxldCBjaGlsZCA9IHZub2RlX2dldEZpcnN0Q2hpbGQodk5vZGUpO1xuICAgIHdoaWxlIChjaGlsZCkge1xuICAgICAgdm5vZGVfcXVlcnlEb21Ob2RlcyhjaGlsZCwgc2VsZWN0b3IsIGNiKTtcbiAgICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmcgYXMgVk5vZGUgfCBudWxsO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX3RydW5jYXRlID0gKFxuICBqb3VybmFsOiBWTm9kZUpvdXJuYWwsXG4gIHZQYXJlbnQ6IEVsZW1lbnRWTm9kZSB8IFZpcnR1YWxWTm9kZSxcbiAgdkRlbGV0ZTogVk5vZGVcbikgPT4ge1xuICBhc3NlcnREZWZpbmVkKHZEZWxldGUsICdNaXNzaW5nIHZEZWxldGUuJyk7XG4gIGNvbnN0IHBhcmVudCA9IHZub2RlX2dldERvbVBhcmVudCh2UGFyZW50KTtcbiAgaWYgKHBhcmVudCkge1xuICAgIGlmICh2bm9kZV9pc0VsZW1lbnRWTm9kZSh2UGFyZW50KSkge1xuICAgICAgam91cm5hbC5wdXNoKFZOb2RlSm91cm5hbE9wQ29kZS5SZW1vdmVBbGwsIHBhcmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gdm5vZGVfZ2V0RE9NQ2hpbGROb2Rlcyhqb3VybmFsLCB2UGFyZW50KTtcbiAgICAgIGNoaWxkcmVuLmxlbmd0aCAmJiBqb3VybmFsLnB1c2goVk5vZGVKb3VybmFsT3BDb2RlLlJlbW92ZSwgcGFyZW50LCAuLi5jaGlsZHJlbik7XG4gICAgfVxuICB9XG4gIGNvbnN0IHZQcmV2aW91cyA9IHZEZWxldGUucHJldmlvdXNTaWJsaW5nO1xuICBpZiAodlByZXZpb3VzKSB7XG4gICAgdlByZXZpb3VzLm5leHRTaWJsaW5nID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICB2UGFyZW50LmZpcnN0Q2hpbGQgPSBudWxsO1xuICB9XG4gIHZQYXJlbnQubGFzdENoaWxkID0gdlByZXZpb3VzO1xufTtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCBjb25zdCB2bm9kZV9nZXRFbGVtZW50TmFtZSA9ICh2bm9kZTogRWxlbWVudFZOb2RlKTogc3RyaW5nID0+IHtcbiAgY29uc3QgZWxlbWVudFZOb2RlID0gZW5zdXJlRWxlbWVudFZOb2RlKHZub2RlKTtcbiAgbGV0IGVsZW1lbnROYW1lID0gZWxlbWVudFZOb2RlLmVsZW1lbnROYW1lO1xuICBpZiAoZWxlbWVudE5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50Vk5vZGUuZWxlbWVudDtcbiAgICBjb25zdCBub2RlTmFtZSA9IGZhc3ROb2RlTmFtZShlbGVtZW50KSEudG9Mb3dlckNhc2UoKTtcbiAgICBlbGVtZW50TmFtZSA9IGVsZW1lbnRWTm9kZS5lbGVtZW50TmFtZSA9IG5vZGVOYW1lO1xuICAgIGVsZW1lbnRWTm9kZS5mbGFncyB8PSB2bm9kZV9nZXRFbGVtZW50TmFtZXNwYWNlRmxhZ3MoZWxlbWVudCk7XG4gIH1cbiAgcmV0dXJuIGVsZW1lbnROYW1lO1xufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX2dldFRleHQgPSAodGV4dFZOb2RlOiBUZXh0Vk5vZGUpOiBzdHJpbmcgPT4ge1xuICBsZXQgdGV4dCA9IHRleHRWTm9kZS50ZXh0O1xuICBpZiAodGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGV4dCA9IHRleHRWTm9kZS50ZXh0ID0gdGV4dFZOb2RlLnRleHROb2RlIS5ub2RlVmFsdWUhO1xuICB9XG4gIHJldHVybiB0ZXh0O1xufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX3NldFRleHQgPSAoam91cm5hbDogVk5vZGVKb3VybmFsLCB0ZXh0Vk5vZGU6IFRleHRWTm9kZSwgdGV4dDogc3RyaW5nKSA9PiB7XG4gIHZub2RlX2Vuc3VyZVRleHRJbmZsYXRlZChqb3VybmFsLCB0ZXh0Vk5vZGUpO1xuICBjb25zdCB0ZXh0Tm9kZSA9IHRleHRWTm9kZS50ZXh0Tm9kZSE7XG4gIGpvdXJuYWwucHVzaChWTm9kZUpvdXJuYWxPcENvZGUuU2V0VGV4dCwgdGV4dE5vZGUsICh0ZXh0Vk5vZGUudGV4dCA9IHRleHQpKTtcbn07XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB2bm9kZV9nZXRGaXJzdENoaWxkID0gKHZub2RlOiBWTm9kZSk6IFZOb2RlIHwgbnVsbCA9PiB7XG4gIGlmICh2bm9kZV9pc1RleHRWTm9kZSh2bm9kZSkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsZXQgdkZpcnN0Q2hpbGQgPSAodm5vZGUgYXMgRWxlbWVudFZOb2RlIHwgVmlydHVhbFZOb2RlKS5maXJzdENoaWxkO1xuICBpZiAodkZpcnN0Q2hpbGQgPT09IHVuZGVmaW5lZCkge1xuICAgIHZGaXJzdENoaWxkID0gZW5zdXJlTWF0ZXJpYWxpemVkKHZub2RlIGFzIEVsZW1lbnRWTm9kZSk7XG4gIH1cbiAgcmV0dXJuIHZGaXJzdENoaWxkO1xufTtcblxuY29uc3Qgdm5vZGVfbWF0ZXJpYWxpemUgPSAodk5vZGU6IEVsZW1lbnRWTm9kZSkgPT4ge1xuICBjb25zdCBlbGVtZW50ID0gdk5vZGUuZWxlbWVudDtcbiAgY29uc3QgZmlyc3RDaGlsZCA9IGZhc3RGaXJzdENoaWxkKGVsZW1lbnQpO1xuICBjb25zdCB2Tm9kZURhdGEgPSAoZWxlbWVudC5vd25lckRvY3VtZW50IGFzIFFEb2N1bWVudCk/LnFWTm9kZURhdGE/LmdldChlbGVtZW50KTtcblxuICBjb25zdCB2Rmlyc3RDaGlsZCA9IG1hdGVyaWFsaXplKHZOb2RlLCBlbGVtZW50LCBmaXJzdENoaWxkLCB2Tm9kZURhdGEpO1xuICByZXR1cm4gdkZpcnN0Q2hpbGQ7XG59O1xuXG5jb25zdCBtYXRlcmlhbGl6ZSA9IChcbiAgdk5vZGU6IEVsZW1lbnRWTm9kZSxcbiAgZWxlbWVudDogRWxlbWVudCxcbiAgZmlyc3RDaGlsZDogTm9kZSB8IG51bGwsXG4gIHZOb2RlRGF0YT86IHN0cmluZ1xuKTogVk5vZGUgfCBudWxsID0+IHtcbiAgaWYgKHZOb2RlRGF0YSkge1xuICAgIGlmICh2Tm9kZURhdGEuY2hhckNvZGVBdCgwKSA9PT0gVk5vZGVEYXRhQ2hhci5TRVBBUkFUT1IpIHtcbiAgICAgIC8qKlxuICAgICAgICogSWYgdk5vZGVEYXRhIHN0YXJ0IHdpdGggdGhlIGBWTm9kZURhdGFDaGFyLlNFUEFSQVRPUmAgdGhlbiBpdCBtZWFucyB0aGF0IHRoZSB2Tm9kZURhdGFcbiAgICAgICAqIGNvbnRhaW5zIHNvbWUgZGF0YSBmb3IgRE9NIGVsZW1lbnQuIFdlIG5lZWQgdG8gc3BsaXQgaXQgdG8gRE9NIGVsZW1lbnQgdk5vZGVEYXRhIGFuZFxuICAgICAgICogdmlydHVhbCBlbGVtZW50IHZOb2RlRGF0YS5cbiAgICAgICAqXG4gICAgICAgKiBGb3IgZXhhbXBsZSBgfD02YDR8MntKPTdgM3xxOnR5cGV8U31gIHNob3VsZCBzcGxpdCBpbnRvIGA9NmA0YGFuZGAye0o9N2AzfHE6dHlwZXxTfWAsIHdoZXJlXG4gICAgICAgKiBgPTZgNGAgaXMgdk5vZGVEYXRhIGZvciB0aGUgRE9NIGVsZW1lbnQuXG4gICAgICAgKi9cblxuICAgICAgY29uc3QgZWxlbWVudFZOb2RlRGF0YVN0YXJ0SWR4ID0gMTtcbiAgICAgIGxldCBlbGVtZW50Vk5vZGVEYXRhRW5kSWR4ID0gMTtcbiAgICAgIHdoaWxlICh2Tm9kZURhdGEuY2hhckNvZGVBdChlbGVtZW50Vk5vZGVEYXRhRW5kSWR4KSAhPT0gVk5vZGVEYXRhQ2hhci5TRVBBUkFUT1IpIHtcbiAgICAgICAgZWxlbWVudFZOb2RlRGF0YUVuZElkeCsrO1xuICAgICAgfVxuICAgICAgY29uc3QgZWxlbWVudFZOb2RlRGF0YSA9IHZOb2RlRGF0YS5zdWJzdHJpbmcoXG4gICAgICAgIGVsZW1lbnRWTm9kZURhdGFTdGFydElkeCxcbiAgICAgICAgZWxlbWVudFZOb2RlRGF0YUVuZElkeFxuICAgICAgKTtcblxuICAgICAgLy8gT3ZlcnJpZGUgdk5vZGVEYXRhIHZhcmlhYmxlIGZvciBtYXRlcmlhbGl6aW5nIGEgdmlydHVhbCBlbGVtZW50XG4gICAgICB2Tm9kZURhdGEgPSB2Tm9kZURhdGEuc3Vic3RyaW5nKGVsZW1lbnRWTm9kZURhdGFFbmRJZHggKyAxKTtcblxuICAgICAgLy8gTWF0ZXJpYWxpemUgRE9NIGVsZW1lbnQgZnJvbSBIVE1MLiBJZiB0aGUgYHZOb2RlRGF0YWAgaXMgbm90IGVtcHR5LFxuICAgICAgLy8gdGhlbiBhbHNvIG1hdGVyaWFsaXplIHZpcnR1YWwgZWxlbWVudCBmcm9tIHZOb2RlRGF0YVxuICAgICAgY29uc3QgdkZpcnN0Q2hpbGQgPSBtYXRlcmlhbGl6ZUZyb21ET00odk5vZGUsIGZpcnN0Q2hpbGQsIGVsZW1lbnRWTm9kZURhdGEpO1xuICAgICAgaWYgKCF2Tm9kZURhdGEpIHtcbiAgICAgICAgLy8gIElmIGl0IGlzIGVtcHR5IHRoZW4gd2UgZG9uJ3QgbmVlZCB0byBjYWxsIHRoZSBgbWF0ZXJpYWxpemVGcm9tVk5vZGVEYXRhYC5cbiAgICAgICAgcmV0dXJuIHZGaXJzdENoaWxkO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBNYXRlcmlhbGl6ZSB2aXJ0dWFsIGVsZW1lbnQgZm9ybSB2Tm9kZURhdGFcbiAgICByZXR1cm4gbWF0ZXJpYWxpemVGcm9tVk5vZGVEYXRhKHZOb2RlLCB2Tm9kZURhdGEsIGVsZW1lbnQsIGZpcnN0Q2hpbGQpO1xuICB9IGVsc2Uge1xuICAgIC8vIE1hdGVyaWFsaXplIERPTSBlbGVtZW50IGZyb20gSFRNTCBvbmx5XG4gICAgcmV0dXJuIG1hdGVyaWFsaXplRnJvbURPTSh2Tm9kZSwgZmlyc3RDaGlsZCk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBlbnN1cmVNYXRlcmlhbGl6ZWQgPSAodm5vZGU6IEVsZW1lbnRWTm9kZSk6IFZOb2RlIHwgbnVsbCA9PiB7XG4gIGNvbnN0IHZQYXJlbnQgPSBlbnN1cmVFbGVtZW50Vk5vZGUodm5vZGUpO1xuICBsZXQgdkZpcnN0Q2hpbGQgPSB2UGFyZW50LmZpcnN0Q2hpbGQ7XG4gIGlmICh2Rmlyc3RDaGlsZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gbmVlZCB0byBtYXRlcmlhbGl6ZSB0aGUgdk5vZGUuXG4gICAgY29uc3QgZWxlbWVudCA9IHZQYXJlbnQuZWxlbWVudDtcblxuICAgIGlmICh2UGFyZW50LnBhcmVudCAmJiBzaG91bGRJZ25vcmVDaGlsZHJlbihlbGVtZW50KSkge1xuICAgICAgLy8gV2UgaGF2ZSBhIGNvbnRhaW5lciB3aXRoIGh0bWwgdmFsdWUsIG11c3QgaWdub3JlIHRoZSBjb250ZW50LlxuICAgICAgdkZpcnN0Q2hpbGQgPSB2UGFyZW50LmZpcnN0Q2hpbGQgPSB2UGFyZW50Lmxhc3RDaGlsZCA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZGaXJzdENoaWxkID0gdm5vZGVfbWF0ZXJpYWxpemUodlBhcmVudCk7XG4gICAgfVxuICB9XG4gIGFzc2VydFRydWUodlBhcmVudC5maXJzdENoaWxkICE9PSB1bmRlZmluZWQsICdEaWQgbm90IG1hdGVyaWFsaXplLicpO1xuICBhc3NlcnRUcnVlKHZQYXJlbnQubGFzdENoaWxkICE9PSB1bmRlZmluZWQsICdEaWQgbm90IG1hdGVyaWFsaXplLicpO1xuICByZXR1cm4gdkZpcnN0Q2hpbGQ7XG59O1xuXG5sZXQgX2Zhc3RIYXNBdHRyaWJ1dGU6ICgodGhpczogRWxlbWVudCwga2V5OiBzdHJpbmcpID0+IGJvb2xlYW4pIHwgbnVsbCA9IG51bGw7XG5leHBvcnQgY29uc3Qgc2hvdWxkSWdub3JlQ2hpbGRyZW4gPSAobm9kZTogRWxlbWVudCk6IGJvb2xlYW4gPT4ge1xuICBpZiAoIV9mYXN0SGFzQXR0cmlidXRlKSB7XG4gICAgX2Zhc3RIYXNBdHRyaWJ1dGUgPSBub2RlLmhhc0F0dHJpYnV0ZTtcbiAgfVxuICByZXR1cm4gX2Zhc3RIYXNBdHRyaWJ1dGUuY2FsbChub2RlLCBRQ29udGFpbmVyQXR0cik7XG59O1xuXG5sZXQgX2Zhc3ROb2RlVHlwZTogKCh0aGlzOiBOb2RlKSA9PiBudW1iZXIpIHwgbnVsbCA9IG51bGw7XG5jb25zdCBmYXN0Tm9kZVR5cGUgPSAobm9kZTogTm9kZSk6IG51bWJlciA9PiB7XG4gIGlmICghX2Zhc3ROb2RlVHlwZSkge1xuICAgIF9mYXN0Tm9kZVR5cGUgPSBmYXN0R2V0dGVyPHR5cGVvZiBfZmFzdE5vZGVUeXBlPihub2RlLCAnbm9kZVR5cGUnKSE7XG4gIH1cbiAgcmV0dXJuIF9mYXN0Tm9kZVR5cGUuY2FsbChub2RlKTtcbn07XG5jb25zdCBmYXN0SXNUZXh0T3JFbGVtZW50ID0gKG5vZGU6IE5vZGUpOiBib29sZWFuID0+IHtcbiAgY29uc3QgdHlwZSA9IGZhc3ROb2RlVHlwZShub2RlKTtcbiAgcmV0dXJuIHR5cGUgPT09IC8qIE5vZGUuVEVYVF9OT0RFICovIDMgfHwgdHlwZSA9PT0gLyogTm9kZS5FTEVNRU5UX05PREUgKi8gMTtcbn07XG5cbmxldCBfZmFzdE5leHRTaWJsaW5nOiAoKHRoaXM6IE5vZGUpID0+IE5vZGUgfCBudWxsKSB8IG51bGwgPSBudWxsO1xuZXhwb3J0IGNvbnN0IGZhc3ROZXh0U2libGluZyA9IChub2RlOiBOb2RlIHwgbnVsbCk6IE5vZGUgfCBudWxsID0+IHtcbiAgaWYgKCFfZmFzdE5leHRTaWJsaW5nKSB7XG4gICAgX2Zhc3ROZXh0U2libGluZyA9IGZhc3RHZXR0ZXI8dHlwZW9mIF9mYXN0TmV4dFNpYmxpbmc+KG5vZGUsICduZXh0U2libGluZycpITtcbiAgfVxuICBpZiAoIV9mYXN0Rmlyc3RDaGlsZCkge1xuICAgIF9mYXN0Rmlyc3RDaGlsZCA9IGZhc3RHZXR0ZXI8dHlwZW9mIF9mYXN0Rmlyc3RDaGlsZD4obm9kZSwgJ2ZpcnN0Q2hpbGQnKSE7XG4gIH1cbiAgd2hpbGUgKG5vZGUpIHtcbiAgICBub2RlID0gX2Zhc3ROZXh0U2libGluZy5jYWxsKG5vZGUpO1xuICAgIGlmIChub2RlICE9PSBudWxsKSB7XG4gICAgICBjb25zdCB0eXBlID0gZmFzdE5vZGVUeXBlKG5vZGUpO1xuICAgICAgaWYgKHR5cGUgPT09IC8qIE5vZGUuVEVYVF9OT0RFICovIDMgfHwgdHlwZSA9PT0gLyogTm9kZS5FTEVNRU5UX05PREUgKi8gMSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gLyogTm9kZS5DT01NRU5UX05PREUgKi8gOCkge1xuICAgICAgICBjb25zdCBub2RlVmFsdWUgPSBub2RlLm5vZGVWYWx1ZTtcbiAgICAgICAgaWYgKG5vZGVWYWx1ZT8uc3RhcnRzV2l0aChRSWdub3JlKSkge1xuICAgICAgICAgIHJldHVybiBnZXROb2RlQWZ0ZXJDb21tZW50Tm9kZShub2RlLCBRQ29udGFpbmVySXNsYW5kLCBfZmFzdE5leHRTaWJsaW5nLCBfZmFzdEZpcnN0Q2hpbGQpO1xuICAgICAgICB9IGVsc2UgaWYgKG5vZGUubm9kZVZhbHVlPy5zdGFydHNXaXRoKFFDb250YWluZXJJc2xhbmRFbmQpKSB7XG4gICAgICAgICAgcmV0dXJuIGdldE5vZGVBZnRlckNvbW1lbnROb2RlKG5vZGUsIFFJZ25vcmVFbmQsIF9mYXN0TmV4dFNpYmxpbmcsIF9mYXN0Rmlyc3RDaGlsZCk7XG4gICAgICAgIH0gZWxzZSBpZiAobm9kZVZhbHVlPy5zdGFydHNXaXRoKFFDb250YWluZXJBdHRyKSkge1xuICAgICAgICAgIHdoaWxlIChub2RlICYmIChub2RlID0gX2Zhc3ROZXh0U2libGluZy5jYWxsKG5vZGUpKSkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBmYXN0Tm9kZVR5cGUobm9kZSkgPT09IC8qIE5vZGUuQ09NTUVOVF9OT0RFICovIDggJiZcbiAgICAgICAgICAgICAgbm9kZS5ub2RlVmFsdWU/LnN0YXJ0c1dpdGgoUUNvbnRhaW5lckF0dHJFbmQpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBub2RlO1xufTtcblxuZnVuY3Rpb24gZ2V0Tm9kZUFmdGVyQ29tbWVudE5vZGUoXG4gIG5vZGU6IE5vZGUgfCBudWxsLFxuICBjb21tZW50VmFsdWU6IHN0cmluZyxcbiAgbmV4dFNpYmxpbmc6IE5vbk51bGxhYmxlPHR5cGVvZiBfZmFzdE5leHRTaWJsaW5nPixcbiAgZmlyc3RDaGlsZDogTm9uTnVsbGFibGU8dHlwZW9mIF9mYXN0Rmlyc3RDaGlsZD5cbik6IE5vZGUgfCBudWxsIHtcbiAgd2hpbGUgKG5vZGUpIHtcbiAgICBpZiAobm9kZS5ub2RlVmFsdWU/LnN0YXJ0c1dpdGgoY29tbWVudFZhbHVlKSkge1xuICAgICAgbm9kZSA9IG5leHRTaWJsaW5nLmNhbGwobm9kZSkgfHwgbnVsbDtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIGxldCBuZXh0Tm9kZTogTm9kZSB8IG51bGwgPSBmaXJzdENoaWxkLmNhbGwobm9kZSk7XG4gICAgaWYgKCFuZXh0Tm9kZSkge1xuICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZy5jYWxsKG5vZGUpO1xuICAgIH1cbiAgICBpZiAoIW5leHROb2RlKSB7XG4gICAgICBuZXh0Tm9kZSA9IGZhc3RQYXJlbnROb2RlKG5vZGUpO1xuICAgICAgaWYgKG5leHROb2RlKSB7XG4gICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcuY2FsbChuZXh0Tm9kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIG5vZGUgPSBuZXh0Tm9kZTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxubGV0IF9mYXN0UGFyZW50Tm9kZTogKCh0aGlzOiBOb2RlKSA9PiBOb2RlIHwgbnVsbCkgfCBudWxsID0gbnVsbDtcbmNvbnN0IGZhc3RQYXJlbnROb2RlID0gKG5vZGU6IE5vZGUpOiBOb2RlIHwgbnVsbCA9PiB7XG4gIGlmICghX2Zhc3RQYXJlbnROb2RlKSB7XG4gICAgX2Zhc3RQYXJlbnROb2RlID0gZmFzdEdldHRlcjx0eXBlb2YgX2Zhc3RQYXJlbnROb2RlPihub2RlLCAncGFyZW50Tm9kZScpITtcbiAgfVxuICByZXR1cm4gX2Zhc3RQYXJlbnROb2RlLmNhbGwobm9kZSk7XG59O1xuXG5sZXQgX2Zhc3RGaXJzdENoaWxkOiAoKHRoaXM6IE5vZGUpID0+IE5vZGUgfCBudWxsKSB8IG51bGwgPSBudWxsO1xuY29uc3QgZmFzdEZpcnN0Q2hpbGQgPSAobm9kZTogTm9kZSB8IG51bGwpOiBOb2RlIHwgbnVsbCA9PiB7XG4gIGlmICghX2Zhc3RGaXJzdENoaWxkKSB7XG4gICAgX2Zhc3RGaXJzdENoaWxkID0gZmFzdEdldHRlcjx0eXBlb2YgX2Zhc3RGaXJzdENoaWxkPihub2RlLCAnZmlyc3RDaGlsZCcpITtcbiAgfVxuICBub2RlID0gbm9kZSAmJiBfZmFzdEZpcnN0Q2hpbGQuY2FsbChub2RlKTtcbiAgd2hpbGUgKG5vZGUgJiYgIWZhc3RJc1RleHRPckVsZW1lbnQobm9kZSkpIHtcbiAgICBub2RlID0gZmFzdE5leHRTaWJsaW5nKG5vZGUpO1xuICB9XG4gIHJldHVybiBub2RlO1xufTtcblxubGV0IF9mYXN0TmFtZXNwYWNlVVJJOiAoKHRoaXM6IEVsZW1lbnQpID0+IHN0cmluZyB8IG51bGwpIHwgbnVsbCA9IG51bGw7XG5leHBvcnQgY29uc3QgZmFzdE5hbWVzcGFjZVVSSSA9IChlbGVtZW50OiBFbGVtZW50KTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gIGlmICghX2Zhc3ROYW1lc3BhY2VVUkkpIHtcbiAgICBfZmFzdE5hbWVzcGFjZVVSSSA9IGZhc3RHZXR0ZXI8dHlwZW9mIF9mYXN0TmFtZXNwYWNlVVJJPihlbGVtZW50LCAnbmFtZXNwYWNlVVJJJykhO1xuICB9XG4gIHJldHVybiBfZmFzdE5hbWVzcGFjZVVSSS5jYWxsKGVsZW1lbnQpO1xufTtcblxubGV0IF9mYXN0Tm9kZU5hbWU6ICgodGhpczogRWxlbWVudCkgPT4gc3RyaW5nIHwgbnVsbCkgfCBudWxsID0gbnVsbDtcbmV4cG9ydCBjb25zdCBmYXN0Tm9kZU5hbWUgPSAoZWxlbWVudDogRWxlbWVudCk6IHN0cmluZyB8IG51bGwgPT4ge1xuICBpZiAoIV9mYXN0Tm9kZU5hbWUpIHtcbiAgICBfZmFzdE5vZGVOYW1lID0gZmFzdEdldHRlcjx0eXBlb2YgX2Zhc3ROb2RlTmFtZT4oZWxlbWVudCwgJ25vZGVOYW1lJykhO1xuICB9XG4gIHJldHVybiBfZmFzdE5vZGVOYW1lLmNhbGwoZWxlbWVudCk7XG59O1xuXG5jb25zdCBmYXN0R2V0dGVyID0gPFQ+KHByb3RvdHlwZTogYW55LCBuYW1lOiBzdHJpbmcpOiBUID0+IHtcbiAgbGV0IGdldHRlcjogYW55O1xuICB3aGlsZSAocHJvdG90eXBlICYmICEoZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90b3R5cGUsIG5hbWUpPy5nZXQpKSB7XG4gICAgcHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvdHlwZSk7XG4gIH1cbiAgcmV0dXJuIChcbiAgICBnZXR0ZXIgfHxcbiAgICBmdW5jdGlvbiAodGhpczogYW55KSB7XG4gICAgICByZXR1cm4gdGhpc1tuYW1lXTtcbiAgICB9XG4gICk7XG59O1xuXG5jb25zdCBoYXNRU3R5bGVBdHRyaWJ1dGUgPSAoZWxlbWVudDogRWxlbWVudCk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gKFxuICAgIGVsZW1lbnQubm9kZU5hbWUgPT09ICdTVFlMRScgJiZcbiAgICAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoUVNjb3BlZFN0eWxlKSB8fCBlbGVtZW50Lmhhc0F0dHJpYnV0ZShRU3R5bGUpKVxuICApO1xufTtcblxuY29uc3QgaGFzUHJvcHNTZXBhcmF0b3IgPSAoZWxlbWVudDogRWxlbWVudCk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gZWxlbWVudC5oYXNBdHRyaWJ1dGUoUV9QUk9QU19TRVBBUkFUT1IpO1xufTtcblxuY29uc3QgbWF0ZXJpYWxpemVGcm9tRE9NID0gKHZQYXJlbnQ6IEVsZW1lbnRWTm9kZSwgZmlyc3RDaGlsZDogTm9kZSB8IG51bGwsIHZEYXRhPzogc3RyaW5nKSA9PiB7XG4gIGxldCB2Rmlyc3RDaGlsZDogVk5vZGUgfCBudWxsID0gbnVsbDtcblxuICBjb25zdCBza2lwRWxlbWVudHMgPSAoKSA9PiB7XG4gICAgd2hpbGUgKGlzRWxlbWVudChjaGlsZCkgJiYgc2hvdWxkU2tpcEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgICBjaGlsZCA9IGZhc3ROZXh0U2libGluZyhjaGlsZCk7XG4gICAgfVxuICB9O1xuICAvLyBtYXRlcmlhbGl6ZSBmcm9tIERPTVxuICBsZXQgY2hpbGQgPSBmaXJzdENoaWxkO1xuICBza2lwRWxlbWVudHMoKTtcbiAgbGV0IHZDaGlsZDogVk5vZGUgfCBudWxsID0gbnVsbDtcbiAgd2hpbGUgKGNoaWxkKSB7XG4gICAgY29uc3Qgbm9kZVR5cGUgPSBmYXN0Tm9kZVR5cGUoY2hpbGQpO1xuICAgIGxldCB2TmV4dENoaWxkOiBWTm9kZSB8IG51bGwgPSBudWxsO1xuICAgIGlmIChub2RlVHlwZSA9PT0gLyogTm9kZS5URVhUX05PREUgKi8gMykge1xuICAgICAgdk5leHRDaGlsZCA9IHZub2RlX25ld1RleHQoY2hpbGQgYXMgVGV4dCwgY2hpbGQudGV4dENvbnRlbnQgPz8gdW5kZWZpbmVkKTtcbiAgICB9IGVsc2UgaWYgKG5vZGVUeXBlID09PSAvKiBOb2RlLkVMRU1FTlRfTk9ERSAqLyAxKSB7XG4gICAgICB2TmV4dENoaWxkID0gdm5vZGVfbmV3VW5NYXRlcmlhbGl6ZWRFbGVtZW50KGNoaWxkIGFzIEVsZW1lbnQpO1xuICAgIH1cbiAgICBpZiAodk5leHRDaGlsZCkge1xuICAgICAgdk5leHRDaGlsZC5wYXJlbnQgPSB2UGFyZW50O1xuICAgICAgdkNoaWxkICYmICh2Q2hpbGQubmV4dFNpYmxpbmcgPSB2TmV4dENoaWxkKTtcbiAgICAgIHZOZXh0Q2hpbGQucHJldmlvdXNTaWJsaW5nID0gdkNoaWxkO1xuICAgICAgdkNoaWxkID0gdk5leHRDaGlsZDtcbiAgICB9XG4gICAgaWYgKCF2Rmlyc3RDaGlsZCkge1xuICAgICAgdlBhcmVudC5maXJzdENoaWxkID0gdkZpcnN0Q2hpbGQgPSB2Q2hpbGQ7XG4gICAgfVxuICAgIGNoaWxkID0gZmFzdE5leHRTaWJsaW5nKGNoaWxkKTtcbiAgICBza2lwRWxlbWVudHMoKTtcbiAgfVxuICB2UGFyZW50Lmxhc3RDaGlsZCA9IHZDaGlsZCB8fCBudWxsO1xuICB2UGFyZW50LmZpcnN0Q2hpbGQgPSB2Rmlyc3RDaGlsZDtcblxuICBpZiAodkRhdGEpIHtcbiAgICAvKipcbiAgICAgKiBJZiB3ZSBuZWVkIHRvIG1hdGVyaWFsaXplIGZyb20gRE9NIGFuZCB3ZSBoYXZlIHZOb2RlRGF0YSBpdCBtZWFucyB0aGF0IHdlIGhhdmUgc29tZSB2aXJ0dWFsXG4gICAgICogcHJvcHMgZm9yIHRoYXQgbm9kZS5cbiAgICAgKi9cbiAgICBsZXQgY29udGFpbmVyOiBDbGllbnRDb250YWluZXIgfCBudWxsID0gbnVsbDtcbiAgICBwcm9jZXNzVk5vZGVEYXRhKHZEYXRhLCAocGVlaywgY29uc3VtZVZhbHVlKSA9PiB7XG4gICAgICBpZiAocGVlaygpID09PSBWTm9kZURhdGFDaGFyLklEKSB7XG4gICAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgICAgY29udGFpbmVyID0gZ2V0RG9tQ29udGFpbmVyKHZQYXJlbnQuZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaWQgPSBjb25zdW1lVmFsdWUoKTtcbiAgICAgICAgY29udGFpbmVyLiRzZXRSYXdTdGF0ZSQocGFyc2VJbnQoaWQpLCB2UGFyZW50KTtcbiAgICAgICAgaXNEZXYgJiYgdlBhcmVudC5zZXRBdHRyKEVMRU1FTlRfSUQsIGlkLCBudWxsKTtcbiAgICAgIH0gZWxzZSBpZiAocGVlaygpID09PSBWTm9kZURhdGFDaGFyLkJBQ0tfUkVGUykge1xuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgIGNvbnRhaW5lciA9IGdldERvbUNvbnRhaW5lcih2UGFyZW50LmVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHNldEVmZmVjdEJhY2tSZWZGcm9tVk5vZGVEYXRhKHZQYXJlbnQsIGNvbnN1bWVWYWx1ZSgpLCBjb250YWluZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcHJldmVudCBpbmZpbml0eSBsb29wIGlmIHRoZXJlIGFyZSBzb21lIGNoYXJhY3RlcnMgb3V0c2lkZSB0aGUgcmFuZ2VcbiAgICAgICAgY29uc3VtZVZhbHVlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gdkZpcnN0Q2hpbGQ7XG59O1xuXG5mdW5jdGlvbiBzZXRFZmZlY3RCYWNrUmVmRnJvbVZOb2RlRGF0YShcbiAgdlBhcmVudDogVk5vZGUsXG4gIHZhbHVlOiBzdHJpbmcgfCBudW1iZXIsXG4gIGNvbnRhaW5lcjogQ2xpZW50Q29udGFpbmVyXG4pIHtcbiAgaWYgKCEodlBhcmVudCBhcyBhbnkpW19FRkZFQ1RfQkFDS19SRUZdKSB7XG4gICAgLy8gZ2V0IGRhdGEgbGF6aWx5XG4gICAgLy8gdGhpcyBpcyBiZWNhdXNlIGVmZmVjdHMgYmFjayByZWZzIGNhbiBwb2ludCB0byB2bm9kZXMgd2hpY2ggYXJlIG5vdCB5ZXQgbWF0ZXJpYWxpemVkXG4gICAgLy8gKGFyZSBhZnRlciB0aGUgY3VycmVudCB2bm9kZSlcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodlBhcmVudCwgX0VGRkVDVF9CQUNLX1JFRiwge1xuICAgICAgZ2V0KCkge1xuICAgICAgICBjb25zdCBzdWJNYXAgPSBjb250YWluZXIuJGdldE9iamVjdEJ5SWQkKHZhbHVlKTtcbiAgICAgICAgKHZQYXJlbnQgYXMgYW55KVtfRUZGRUNUX0JBQ0tfUkVGXSA9IHN1Yk1hcDtcbiAgICAgICAgcmV0dXJuIHN1Yk1hcDtcbiAgICAgIH0sXG4gICAgICBzZXQodmFsdWU6IHVua25vd24pIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZQYXJlbnQsIF9FRkZFQ1RfQkFDS19SRUYsIHtcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBzdWJNYXAgPSAodlBhcmVudCBhcyBhbnkpW19FRkZFQ1RfQkFDS19SRUZdO1xuICAgIG1lcmdlTWFwcyhzdWJNYXAsIGNvbnRhaW5lci4kZ2V0T2JqZWN0QnlJZCQodmFsdWUpKTtcbiAgfVxufVxuXG5jb25zdCBwcm9jZXNzVk5vZGVEYXRhID0gKFxuICB2RGF0YTogc3RyaW5nLFxuICBjYWxsYmFjazogKFxuICAgIHBlZWs6ICgpID0+IG51bWJlcixcbiAgICBjb25zdW1lVmFsdWU6ICgpID0+IHN0cmluZyxcbiAgICBjb25zdW1lOiAoKSA9PiBudW1iZXIsXG4gICAgZ2V0Q2hhcjogKGlkeDogbnVtYmVyKSA9PiBudW1iZXIsXG4gICAgbmV4dFRvQ29uc3VtZUlkeDogbnVtYmVyXG4gICkgPT4gdm9pZFxuKSA9PiB7XG4gIGxldCBuZXh0VG9Db25zdW1lSWR4ID0gMDtcbiAgbGV0IGNoID0gMDtcbiAgbGV0IHBlZWtDaCA9IDA7XG4gIGNvbnN0IGdldENoYXIgPSAoaWR4OiBudW1iZXIpID0+IHtcbiAgICByZXR1cm4gaWR4IDwgdkRhdGEubGVuZ3RoID8gdkRhdGEuY2hhckNvZGVBdChpZHgpIDogMDtcbiAgfTtcbiAgY29uc3QgcGVlayA9ICgpID0+IHtcbiAgICBpZiAocGVla0NoICE9PSAwKSB7XG4gICAgICByZXR1cm4gcGVla0NoO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKHBlZWtDaCA9IGdldENoYXIobmV4dFRvQ29uc3VtZUlkeCkpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgY29uc3VtZSA9ICgpID0+IHtcbiAgICBjaCA9IHBlZWsoKTtcbiAgICBwZWVrQ2ggPSAwO1xuICAgIG5leHRUb0NvbnN1bWVJZHgrKztcbiAgICByZXR1cm4gY2g7XG4gIH07XG5cbiAgY29uc3QgY29uc3VtZVZhbHVlID0gKCkgPT4ge1xuICAgIGNvbnN1bWUoKTtcbiAgICBjb25zdCBzdGFydCA9IG5leHRUb0NvbnN1bWVJZHg7XG4gICAgd2hpbGUgKFxuICAgICAgKHBlZWsoKSA8PSA1OCAvKiBgOmAgKi8gJiYgcGVla0NoICE9PSAwKSB8fFxuICAgICAgcGVla0NoID09PSA5NSAvKiBgX2AgKi8gfHxcbiAgICAgIChwZWVrQ2ggPj0gNjUgLyogYEFgICovICYmIHBlZWtDaCA8PSA5MCkgLyogYFpgICovIHx8XG4gICAgICAocGVla0NoID49IDk3IC8qIGBhYCAqLyAmJiBwZWVrQ2ggPD0gMTIyKSAvKiBgemAgKi9cbiAgICApIHtcbiAgICAgIGNvbnN1bWUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHZEYXRhLnN1YnN0cmluZyhzdGFydCwgbmV4dFRvQ29uc3VtZUlkeCk7XG4gIH07XG5cbiAgd2hpbGUgKHBlZWsoKSAhPT0gMCkge1xuICAgIGNhbGxiYWNrKHBlZWssIGNvbnN1bWVWYWx1ZSwgY29uc3VtZSwgZ2V0Q2hhciwgbmV4dFRvQ29uc3VtZUlkeCk7XG4gIH1cbn07XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB2bm9kZV9nZXROZXh0U2libGluZyA9ICh2bm9kZTogVk5vZGUpOiBWTm9kZSB8IG51bGwgPT4ge1xuICByZXR1cm4gdm5vZGUubmV4dFNpYmxpbmcgYXMgVk5vZGUgfCBudWxsO1xufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX2dldFByZXZpb3VzU2libGluZyA9ICh2bm9kZTogVk5vZGUpOiBWTm9kZSB8IG51bGwgPT4ge1xuICByZXR1cm4gdm5vZGUucHJldmlvdXNTaWJsaW5nIGFzIFZOb2RlIHwgbnVsbDtcbn07XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB2bm9kZV9nZXRBdHRyS2V5cyA9ICh2bm9kZTogRWxlbWVudFZOb2RlIHwgVmlydHVhbFZOb2RlKTogc3RyaW5nW10gPT4ge1xuICBjb25zdCB0eXBlID0gdm5vZGUuZmxhZ3M7XG4gIGlmICgodHlwZSAmIFZOb2RlRmxhZ3MuRUxFTUVOVF9PUl9WSVJUVUFMX01BU0spICE9PSAwKSB7XG4gICAgdm5vZGVfZW5zdXJlRWxlbWVudEluZmxhdGVkKHZub2RlKTtcbiAgICBjb25zdCBrZXlzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGNvbnN0IHByb3BzID0gdm5vZGVfZ2V0UHJvcHModm5vZGUpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpID0gaSArIDIpIHtcbiAgICAgIGNvbnN0IGtleSA9IHByb3BzW2ldIGFzIHN0cmluZztcbiAgICAgIGlmICgha2V5LnN0YXJ0c1dpdGgoUV9QUk9QU19TRVBBUkFUT1IpKSB7XG4gICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ga2V5cztcbiAgfVxuICByZXR1cm4gW107XG59O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3Qgdm5vZGVfZ2V0UHJvcHMgPSAodm5vZGU6IEVsZW1lbnRWTm9kZSB8IFZpcnR1YWxWTm9kZSk6IHVua25vd25bXSA9PiB7XG4gIHZub2RlLnByb3BzIHx8PSBbXTtcbiAgcmV0dXJuIHZub2RlLnByb3BzO1xufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX2lzRGVzY2VuZGFudE9mID0gKHZub2RlOiBWTm9kZSwgYW5jZXN0b3I6IFZOb2RlKTogYm9vbGVhbiA9PiB7XG4gIGxldCBwYXJlbnQ6IFZOb2RlIHwgbnVsbCA9IHZub2RlX2dldFByb2plY3Rpb25QYXJlbnRPclBhcmVudCh2bm9kZSk7XG4gIHdoaWxlIChwYXJlbnQpIHtcbiAgICBpZiAocGFyZW50ID09PSBhbmNlc3Rvcikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHBhcmVudCA9IHZub2RlX2dldFByb2plY3Rpb25QYXJlbnRPclBhcmVudChwYXJlbnQpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9nZXRQcm9qZWN0aW9uUGFyZW50T3JQYXJlbnQgPSAodm5vZGU6IFZOb2RlKTogVk5vZGUgfCBudWxsID0+IHtcbiAgcmV0dXJuIHZub2RlLnBhcmVudCB8fCB2bm9kZS5zbG90UGFyZW50O1xufTtcblxuZXhwb3J0IGNvbnN0IHZub2RlX2dldE5vZGUgPSAodm5vZGU6IFZOb2RlIHwgbnVsbCk6IEVsZW1lbnQgfCBUZXh0IHwgbnVsbCA9PiB7XG4gIGlmICh2bm9kZSA9PT0gbnVsbCB8fCB2bm9kZV9pc1ZpcnR1YWxWTm9kZSh2bm9kZSkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAodm5vZGVfaXNFbGVtZW50Vk5vZGUodm5vZGUpKSB7XG4gICAgcmV0dXJuIHZub2RlLmVsZW1lbnQ7XG4gIH1cbiAgYXNzZXJ0VHJ1ZSh2bm9kZV9pc1RleHRWTm9kZSh2bm9kZSksICdFeHBlY3RpbmcgVGV4dCBOb2RlLicpO1xuICByZXR1cm4gKHZub2RlIGFzIFRleHRWTm9kZSkudGV4dE5vZGUhO1xufTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZub2RlX3RvU3RyaW5nKFxuICB0aGlzOiBWTm9kZSB8IG51bGwsXG4gIGRlcHRoOiBudW1iZXIgPSAyMCxcbiAgb2Zmc2V0OiBzdHJpbmcgPSAnJyxcbiAgbWF0ZXJpYWxpemU6IGJvb2xlYW4gPSBmYWxzZSxcbiAgc2libGluZ3MgPSBmYWxzZSxcbiAgY29sb3JpemU6IGJvb2xlYW4gPSB0cnVlXG4pOiBzdHJpbmcge1xuICBsZXQgdm5vZGUgPSB0aGlzO1xuICBpZiAoZGVwdGggPT09IDApIHtcbiAgICByZXR1cm4gJy4uLic7XG4gIH1cbiAgaWYgKHZub2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuICdudWxsJztcbiAgfVxuICBpZiAodm5vZGUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiAndW5kZWZpbmVkJztcbiAgfVxuICBjb25zdCBzdHJpbmdzOiBzdHJpbmdbXSA9IFtdO1xuICBjb25zdCBOQU1FX0NPTF9QUkVGSVggPSAnXFx4MWJbMzRtJztcbiAgY29uc3QgTkFNRV9DT0xfU1VGRklYID0gJ1xceDFiWzBtJztcbiAgZG8ge1xuICAgIGlmICh2bm9kZV9pc1RleHRWTm9kZSh2bm9kZSkpIHtcbiAgICAgIHN0cmluZ3MucHVzaChxd2lrRGVidWdUb1N0cmluZyh2bm9kZV9nZXRUZXh0KHZub2RlKSkpO1xuICAgIH0gZWxzZSBpZiAodm5vZGVfaXNWaXJ0dWFsVk5vZGUodm5vZGUpKSB7XG4gICAgICBjb25zdCBpZHggPSB2bm9kZS5mbGFncyA+Pj4gVk5vZGVGbGFnc0luZGV4LnNoaWZ0O1xuICAgICAgY29uc3QgYXR0cnM6IHN0cmluZ1tdID0gWydbJyArIFN0cmluZyhpZHgpICsgJ10nXTtcbiAgICAgIHZub2RlX2dldEF0dHJLZXlzKHZub2RlKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgaWYgKGtleSAhPT0gREVCVUdfVFlQRSkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gdm5vZGUhLmdldEF0dHIoa2V5KTtcbiAgICAgICAgICBhdHRycy5wdXNoKCcgJyArIGtleSArICc9JyArIHF3aWtEZWJ1Z1RvU3RyaW5nKHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgbmFtZSA9XG4gICAgICAgIChjb2xvcml6ZSA/IE5BTUVfQ09MX1BSRUZJWCA6ICcnKSArXG4gICAgICAgIChWaXJ0dWFsVHlwZU5hbWVbdm5vZGUuZ2V0QXR0cihERUJVR19UWVBFKSB8fCBWaXJ0dWFsVHlwZS5WaXJ0dWFsXSB8fFxuICAgICAgICAgIFZpcnR1YWxUeXBlTmFtZVtWaXJ0dWFsVHlwZS5WaXJ0dWFsXSkgK1xuICAgICAgICAoY29sb3JpemUgPyBOQU1FX0NPTF9TVUZGSVggOiAnJyk7XG4gICAgICBzdHJpbmdzLnB1c2goJzwnICsgbmFtZSArIGF0dHJzLmpvaW4oJycpICsgJz4nKTtcbiAgICAgIGNvbnN0IGNoaWxkID0gdm5vZGVfZ2V0Rmlyc3RDaGlsZCh2bm9kZSk7XG4gICAgICBjaGlsZCAmJlxuICAgICAgICBzdHJpbmdzLnB1c2goXG4gICAgICAgICAgJyAgJyArIHZub2RlX3RvU3RyaW5nLmNhbGwoY2hpbGQsIGRlcHRoIC0gMSwgb2Zmc2V0ICsgJyAgJywgdHJ1ZSwgdHJ1ZSwgY29sb3JpemUpXG4gICAgICAgICk7XG4gICAgICBzdHJpbmdzLnB1c2goJzwvJyArIG5hbWUgKyAnPicpO1xuICAgIH0gZWxzZSBpZiAodm5vZGVfaXNFbGVtZW50Vk5vZGUodm5vZGUpKSB7XG4gICAgICBjb25zdCB0YWcgPSB2bm9kZV9nZXRFbGVtZW50TmFtZSh2bm9kZSk7XG4gICAgICBjb25zdCBhdHRyczogc3RyaW5nW10gPSBbXTtcbiAgICAgIGNvbnN0IGtleXMgPSB2bm9kZV9nZXRBdHRyS2V5cyh2bm9kZSk7XG4gICAgICBrZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHZub2RlIS5nZXRBdHRyKGtleSk7XG4gICAgICAgIGF0dHJzLnB1c2goJyAnICsga2V5ICsgJz0nICsgcXdpa0RlYnVnVG9TdHJpbmcodmFsdWUpKTtcbiAgICAgIH0pO1xuICAgICAgY29uc3Qgbm9kZSA9IHZub2RlX2dldE5vZGUodm5vZGUpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgY29uc3Qgdm5vZGVEYXRhID0gKG5vZGUub3duZXJEb2N1bWVudCBhcyBRRG9jdW1lbnQpLnFWTm9kZURhdGE/LmdldChub2RlKTtcbiAgICAgICAgaWYgKHZub2RlRGF0YSkge1xuICAgICAgICAgIGF0dHJzLnB1c2goJyBxOnZub2RlRGF0YT0nICsgcXdpa0RlYnVnVG9TdHJpbmcodm5vZGVEYXRhKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGRvbUF0dHJzID0gbm9kZS5hdHRyaWJ1dGVzO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkb21BdHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBhdHRyID0gZG9tQXR0cnNbaV07XG4gICAgICAgIGlmIChrZXlzLmluZGV4T2YoYXR0ci5uYW1lKSA9PT0gLTEpIHtcbiAgICAgICAgICBhdHRycy5wdXNoKCcgJyArIGF0dHIubmFtZSArIChhdHRyLnZhbHVlID8gJz0nICsgcXdpa0RlYnVnVG9TdHJpbmcoYXR0ci52YWx1ZSkgOiAnJykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdHJpbmdzLnB1c2goJzwnICsgdGFnICsgYXR0cnMuam9pbignJykgKyAnPicpO1xuICAgICAgaWYgKHZub2RlX2lzTWF0ZXJpYWxpemVkKHZub2RlKSB8fCBtYXRlcmlhbGl6ZSkge1xuICAgICAgICBjb25zdCBjaGlsZCA9IHZub2RlX2dldEZpcnN0Q2hpbGQodm5vZGUpO1xuICAgICAgICBjaGlsZCAmJlxuICAgICAgICAgIHN0cmluZ3MucHVzaChcbiAgICAgICAgICAgICcgICcgKyB2bm9kZV90b1N0cmluZy5jYWxsKGNoaWxkLCBkZXB0aCAtIDEsIG9mZnNldCArICcgICcsIHRydWUsIHRydWUsIGNvbG9yaXplKVxuICAgICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHJpbmdzLnB1c2goJyAgPCEtLSBub3QgbWF0ZXJpYWxpemVkIC0tIT4nKTtcbiAgICAgIH1cbiAgICAgIHN0cmluZ3MucHVzaCgnPC8nICsgdGFnICsgJz4nKTtcbiAgICB9XG4gICAgdm5vZGUgPSAoc2libGluZ3MgJiYgdm5vZGUubmV4dFNpYmxpbmcpIHx8IG51bGw7XG4gIH0gd2hpbGUgKHZub2RlKTtcbiAgcmV0dXJuIHN0cmluZ3Muam9pbignXFxuJyArIG9mZnNldCk7XG59XG5cbmNvbnN0IGlzTnVtYmVyID0gKGNoOiBudW1iZXIpID0+IC8qIGAwYCAqLyA0OCA8PSBjaCAmJiBjaCA8PSA1NzsgLyogYDlgICovXG5jb25zdCBpc0xvd2VyY2FzZSA9IChjaDogbnVtYmVyKSA9PiAvKiBgYWAgKi8gOTcgPD0gY2ggJiYgY2ggPD0gMTIyOyAvKiBgemAgKi9cblxuZnVuY3Rpb24gc2hvdWxkU2tpcEVsZW1lbnQoZWxlbWVudDogRWxlbWVudCkge1xuICByZXR1cm4gKFxuICAgIC8vIFNraXAgb3ZlciBlbGVtZW50cyB0aGF0IGRvbid0IGhhdmUgYSBwcm9wcyBzZXBhcmF0b3IuIFRoZXkgYXJlIG5vdCByZW5kZXJlZCBieSBRd2lrLlxuICAgICFoYXNQcm9wc1NlcGFyYXRvcihlbGVtZW50KSB8fFxuICAgIC8vIFdlIHByZXRlbmQgdGhhdCBzdHlsZSBlbGVtZW50J3MgZG9uJ3QgZXhpc3QgYXMgdGhleSBjYW4gZ2V0IG1vdmVkIG91dC5cbiAgICAvLyBza2lwIG92ZXIgc3R5bGUgZWxlbWVudHMsIGFzIHRob3NlIG5lZWQgdG8gYmUgbW92ZWQgdG8gdGhlIGhlYWRcbiAgICAvLyBhbmQgYXJlIG5vdCBpbmNsdWRlZCBpbiB0aGUgY291bnRzLlxuICAgIGhhc1FTdHlsZUF0dHJpYnV0ZShlbGVtZW50KVxuICApO1xufVxuXG5jb25zdCBzdGFjazogYW55W10gPSBbXTtcbmZ1bmN0aW9uIG1hdGVyaWFsaXplRnJvbVZOb2RlRGF0YShcbiAgdlBhcmVudDogRWxlbWVudFZOb2RlIHwgVmlydHVhbFZOb2RlLFxuICB2RGF0YTogc3RyaW5nLFxuICBlbGVtZW50OiBFbGVtZW50LFxuICBjaGlsZDogTm9kZSB8IG51bGxcbik6IFZOb2RlIHtcbiAgbGV0IGlkeCA9IDA7XG4gIGxldCB2Rmlyc3Q6IFZOb2RlIHwgbnVsbCA9IG51bGw7XG4gIGxldCB2TGFzdDogVk5vZGUgfCBudWxsID0gbnVsbDtcbiAgbGV0IHByZXZpb3VzVGV4dE5vZGU6IFRleHRWTm9kZSB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0IGFkZFZOb2RlID0gKG5vZGU6IFZOb2RlKSA9PiB7XG4gICAgbm9kZS5mbGFncyA9IChub2RlLmZsYWdzICYgVk5vZGVGbGFnc0luZGV4Lm1hc2spIHwgKGlkeCA8PCBWTm9kZUZsYWdzSW5kZXguc2hpZnQpO1xuICAgIGlkeCsrO1xuICAgIHZMYXN0ICYmICh2TGFzdC5uZXh0U2libGluZyA9IG5vZGUpO1xuICAgIG5vZGUucHJldmlvdXNTaWJsaW5nID0gdkxhc3Q7XG4gICAgbm9kZS5wYXJlbnQgPSB2UGFyZW50O1xuICAgIGlmICghdkZpcnN0KSB7XG4gICAgICB2UGFyZW50LmZpcnN0Q2hpbGQgPSB2Rmlyc3QgPSBub2RlO1xuICAgIH1cbiAgICB2TGFzdCA9IG5vZGU7XG4gIH07XG5cbiAgbGV0IHRleHRJZHggPSAwO1xuICBsZXQgY29tYmluZWRUZXh0OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgbGV0IGNvbnRhaW5lcjogQ2xpZW50Q29udGFpbmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3Qgc2hvdWxkU2tpcE5vZGUgPSAobm9kZTogTm9kZSB8IG51bGwpID0+IHtcbiAgICBjb25zdCBub2RlSXNFbGVtZW50ID0gaXNFbGVtZW50KG5vZGUpO1xuICAgIHJldHVybiAhbm9kZUlzRWxlbWVudCB8fCAobm9kZUlzRWxlbWVudCAmJiBzaG91bGRTa2lwRWxlbWVudChub2RlKSk7XG4gIH07XG5cbiAgcHJvY2Vzc1ZOb2RlRGF0YSh2RGF0YSwgKHBlZWssIGNvbnN1bWVWYWx1ZSwgY29uc3VtZSwgZ2V0Q2hhciwgbmV4dFRvQ29uc3VtZUlkeCkgPT4ge1xuICAgIGlmIChpc051bWJlcihwZWVrKCkpKSB7XG4gICAgICAvLyBFbGVtZW50IGNvdW50cyBnZXQgZW5jb2RlZCBhcyBudW1iZXJzLlxuICAgICAgd2hpbGUgKHNob3VsZFNraXBOb2RlKGNoaWxkKSkge1xuICAgICAgICBjaGlsZCA9IGZhc3ROZXh0U2libGluZyhjaGlsZCk7XG4gICAgICAgIGlmICghY2hpbGQpIHtcbiAgICAgICAgICB0aHJvdyBxRXJyb3IoUUVycm9yLm1hdGVyaWFsaXplVk5vZGVEYXRhRXJyb3IsIFt2RGF0YSwgcGVlaygpLCBuZXh0VG9Db25zdW1lSWR4XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbWJpbmVkVGV4dCA9IG51bGw7XG4gICAgICBwcmV2aW91c1RleHROb2RlID0gbnVsbDtcbiAgICAgIGxldCB2YWx1ZSA9IDA7XG4gICAgICB3aGlsZSAoaXNOdW1iZXIocGVlaygpKSkge1xuICAgICAgICB2YWx1ZSAqPSAxMDtcbiAgICAgICAgdmFsdWUgKz0gY29uc3VtZSgpIC0gNDg7IC8qIGAwYCAqL1xuICAgICAgfVxuICAgICAgd2hpbGUgKHZhbHVlLS0pIHtcbiAgICAgICAgYWRkVk5vZGUodm5vZGVfbmV3VW5NYXRlcmlhbGl6ZWRFbGVtZW50KGNoaWxkIGFzIEVsZW1lbnQpKTtcbiAgICAgICAgY2hpbGQgPSBmYXN0TmV4dFNpYmxpbmcoY2hpbGQpO1xuICAgICAgfVxuICAgICAgLy8gY29sbGVjdCB0aGUgZWxlbWVudHM7XG4gICAgfSBlbHNlIGlmIChwZWVrKCkgPT09IFZOb2RlRGF0YUNoYXIuU0NPUEVEX1NUWUxFKSB7XG4gICAgICB2UGFyZW50LnNldEF0dHIoUVNjb3BlZFN0eWxlLCBjb25zdW1lVmFsdWUoKSwgbnVsbCk7XG4gICAgfSBlbHNlIGlmIChwZWVrKCkgPT09IFZOb2RlRGF0YUNoYXIuUkVOREVSX0ZOKSB7XG4gICAgICB2UGFyZW50LnNldEF0dHIoT25SZW5kZXJQcm9wLCBjb25zdW1lVmFsdWUoKSwgbnVsbCk7XG4gICAgfSBlbHNlIGlmIChwZWVrKCkgPT09IFZOb2RlRGF0YUNoYXIuSUQpIHtcbiAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgIGNvbnRhaW5lciA9IGdldERvbUNvbnRhaW5lcihlbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlkID0gY29uc3VtZVZhbHVlKCk7XG4gICAgICBjb250YWluZXIuJHNldFJhd1N0YXRlJChwYXJzZUludChpZCksIHZQYXJlbnQpO1xuICAgICAgaXNEZXYgJiYgdlBhcmVudC5zZXRBdHRyKEVMRU1FTlRfSUQsIGlkLCBudWxsKTtcbiAgICB9IGVsc2UgaWYgKHBlZWsoKSA9PT0gVk5vZGVEYXRhQ2hhci5QUk9QUykge1xuICAgICAgdlBhcmVudC5zZXRBdHRyKEVMRU1FTlRfUFJPUFMsIGNvbnN1bWVWYWx1ZSgpLCBudWxsKTtcbiAgICB9IGVsc2UgaWYgKHBlZWsoKSA9PT0gVk5vZGVEYXRhQ2hhci5LRVkpIHtcbiAgICAgIGNvbnN0IGlzRXNjYXBlZFZhbHVlID0gZ2V0Q2hhcihuZXh0VG9Db25zdW1lSWR4ICsgMSkgPT09IFZOb2RlRGF0YUNoYXIuU0VQQVJBVE9SO1xuICAgICAgbGV0IHZhbHVlO1xuICAgICAgaWYgKGlzRXNjYXBlZFZhbHVlKSB7XG4gICAgICAgIGNvbnN1bWUoKTtcbiAgICAgICAgdmFsdWUgPSBkZWNvZGVVUkkoY29uc3VtZVZhbHVlKCkpO1xuICAgICAgICBjb25zdW1lKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IGNvbnN1bWVWYWx1ZSgpO1xuICAgICAgfVxuICAgICAgdlBhcmVudC5zZXRBdHRyKEVMRU1FTlRfS0VZLCB2YWx1ZSwgbnVsbCk7XG4gICAgfSBlbHNlIGlmIChwZWVrKCkgPT09IFZOb2RlRGF0YUNoYXIuU0VRKSB7XG4gICAgICB2UGFyZW50LnNldEF0dHIoRUxFTUVOVF9TRVEsIGNvbnN1bWVWYWx1ZSgpLCBudWxsKTtcbiAgICB9IGVsc2UgaWYgKHBlZWsoKSA9PT0gVk5vZGVEYXRhQ2hhci5TRVFfSURYKSB7XG4gICAgICB2UGFyZW50LnNldEF0dHIoRUxFTUVOVF9TRVFfSURYLCBjb25zdW1lVmFsdWUoKSwgbnVsbCk7XG4gICAgfSBlbHNlIGlmIChwZWVrKCkgPT09IFZOb2RlRGF0YUNoYXIuQkFDS19SRUZTKSB7XG4gICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICBjb250YWluZXIgPSBnZXREb21Db250YWluZXIoZWxlbWVudCk7XG4gICAgICB9XG4gICAgICBzZXRFZmZlY3RCYWNrUmVmRnJvbVZOb2RlRGF0YSh2UGFyZW50LCBjb25zdW1lVmFsdWUoKSwgY29udGFpbmVyKTtcbiAgICB9IGVsc2UgaWYgKHBlZWsoKSA9PT0gVk5vZGVEYXRhQ2hhci5TTE9UX1BBUkVOVCkge1xuICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgY29udGFpbmVyID0gZ2V0RG9tQ29udGFpbmVyKGVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgdlBhcmVudC5zbG90UGFyZW50ID0gdm5vZGVfbG9jYXRlKGNvbnRhaW5lciEucm9vdFZOb2RlLCBjb25zdW1lVmFsdWUoKSk7XG4gICAgfSBlbHNlIGlmIChwZWVrKCkgPT09IFZOb2RlRGF0YUNoYXIuQ09OVEVYVCkge1xuICAgICAgdlBhcmVudC5zZXRBdHRyKFFDdHhBdHRyLCBjb25zdW1lVmFsdWUoKSwgbnVsbCk7XG4gICAgfSBlbHNlIGlmIChwZWVrKCkgPT09IFZOb2RlRGF0YUNoYXIuT1BFTikge1xuICAgICAgY29uc3VtZSgpO1xuICAgICAgYWRkVk5vZGUodm5vZGVfbmV3VmlydHVhbCgpKTtcbiAgICAgIHN0YWNrLnB1c2godlBhcmVudCwgdkZpcnN0LCB2TGFzdCwgcHJldmlvdXNUZXh0Tm9kZSwgaWR4KTtcbiAgICAgIGlkeCA9IDA7XG4gICAgICB2UGFyZW50ID0gdkxhc3QgYXMgRWxlbWVudFZOb2RlIHwgVmlydHVhbFZOb2RlO1xuICAgICAgdkZpcnN0ID0gdkxhc3QgPSBudWxsO1xuICAgIH0gZWxzZSBpZiAocGVlaygpID09PSBWTm9kZURhdGFDaGFyLlNFUEFSQVRPUikge1xuICAgICAgY29uc3Qga2V5ID0gY29uc3VtZVZhbHVlKCk7XG4gICAgICBjb25zdCB2YWx1ZSA9IGNvbnN1bWVWYWx1ZSgpO1xuICAgICAgdlBhcmVudC5zZXRBdHRyKGtleSwgdmFsdWUsIG51bGwpO1xuICAgIH0gZWxzZSBpZiAocGVlaygpID09PSBWTm9kZURhdGFDaGFyLkNMT1NFKSB7XG4gICAgICBjb25zdW1lKCk7XG4gICAgICB2UGFyZW50Lmxhc3RDaGlsZCA9IHZMYXN0O1xuICAgICAgaWR4ID0gc3RhY2sucG9wKCk7XG4gICAgICBwcmV2aW91c1RleHROb2RlID0gc3RhY2sucG9wKCk7XG4gICAgICB2TGFzdCA9IHN0YWNrLnBvcCgpO1xuICAgICAgdkZpcnN0ID0gc3RhY2sucG9wKCk7XG4gICAgICB2UGFyZW50ID0gc3RhY2sucG9wKCk7XG4gICAgfSBlbHNlIGlmIChwZWVrKCkgPT09IFZOb2RlRGF0YUNoYXIuU0xPVCkge1xuICAgICAgdlBhcmVudC5zZXRBdHRyKFFTbG90LCBjb25zdW1lVmFsdWUoKSwgbnVsbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHNraXAgb3ZlciBzdHlsZSBvciBub24tcXdpayBlbGVtZW50cyBpbiBmcm9udCBvZiB0ZXh0IG5vZGVzLCB3aGVyZSB0ZXh0IG5vZGUgaXMgdGhlIGZpcnN0IGNoaWxkIChleGNlcHQgdGhlIHN0eWxlIG5vZGUpXG4gICAgICB3aGlsZSAoaXNFbGVtZW50KGNoaWxkKSAmJiBzaG91bGRTa2lwRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgY2hpbGQgPSBmYXN0TmV4dFNpYmxpbmcoY2hpbGQpO1xuICAgICAgfVxuICAgICAgY29uc3QgdGV4dE5vZGUgPVxuICAgICAgICBjaGlsZCAmJiBmYXN0Tm9kZVR5cGUoY2hpbGQpID09PSAvKiBOb2RlLlRFWFRfTk9ERSAqLyAzID8gKGNoaWxkIGFzIFRleHQpIDogbnVsbDtcbiAgICAgIC8vIG11c3QgYmUgYWxwaGFudW1lcmljXG4gICAgICBpZiAoY29tYmluZWRUZXh0ID09PSBudWxsKSB7XG4gICAgICAgIGNvbWJpbmVkVGV4dCA9IHRleHROb2RlID8gdGV4dE5vZGUubm9kZVZhbHVlIDogbnVsbDtcbiAgICAgICAgdGV4dElkeCA9IDA7XG4gICAgICB9XG4gICAgICBsZXQgbGVuZ3RoID0gMDtcbiAgICAgIHdoaWxlIChpc0xvd2VyY2FzZShwZWVrKCkpKSB7XG4gICAgICAgIGxlbmd0aCArPSBjb25zdW1lKCkgLSA5NzsgLyogYGFgICovXG4gICAgICAgIGxlbmd0aCAqPSAyNjtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCArPSBjb25zdW1lKCkgLSA2NTsgLyogYEFgICovXG4gICAgICBjb25zdCB0ZXh0ID0gY29tYmluZWRUZXh0ID09PSBudWxsID8gJycgOiBjb21iaW5lZFRleHQuc3Vic3RyaW5nKHRleHRJZHgsIHRleHRJZHggKyBsZW5ndGgpO1xuXG4gICAgICBhZGRWTm9kZShcbiAgICAgICAgKHByZXZpb3VzVGV4dE5vZGUgPSB2bm9kZV9uZXdTaGFyZWRUZXh0KHByZXZpb3VzVGV4dE5vZGUsIHRleHROb2RlIGFzIFRleHQgfCBudWxsLCB0ZXh0KSlcbiAgICAgICk7XG4gICAgICB0ZXh0SWR4ICs9IGxlbmd0aDtcbiAgICAgIC8vIFRleHQgbm9kZXMgZ2V0IGVuY29kZWQgYXMgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMuXG4gICAgfVxuICB9KTtcbiAgdlBhcmVudC5sYXN0Q2hpbGQgPSB2TGFzdDtcbiAgcmV0dXJuIHZGaXJzdCE7XG59XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9nZXRUeXBlID0gKHZub2RlOiBWTm9kZSk6IDEgfCAzIHwgMTEgPT4ge1xuICBjb25zdCB0eXBlID0gdm5vZGUuZmxhZ3M7XG4gIGlmICh0eXBlICYgVk5vZGVGbGFncy5FbGVtZW50KSB7XG4gICAgcmV0dXJuIDEgLyogRWxlbWVudCAqLztcbiAgfSBlbHNlIGlmICh0eXBlICYgVk5vZGVGbGFncy5WaXJ0dWFsKSB7XG4gICAgcmV0dXJuIDExIC8qIFZpcnR1YWwgKi87XG4gIH0gZWxzZSBpZiAodHlwZSAmIFZOb2RlRmxhZ3MuVGV4dCkge1xuICAgIHJldHVybiAzIC8qIFRleHQgKi87XG4gIH1cbiAgdGhyb3cgcUVycm9yKFFFcnJvci5pbnZhbGlkVk5vZGVUeXBlLCBbdHlwZV0pO1xufTtcblxuY29uc3QgaXNFbGVtZW50ID0gKG5vZGU6IGFueSk6IG5vZGUgaXMgRWxlbWVudCA9PlxuICBub2RlICYmIHR5cGVvZiBub2RlID09ICdvYmplY3QnICYmIGZhc3ROb2RlVHlwZShub2RlKSA9PT0gLyoqIE5vZGUuRUxFTUVOVF9OT0RFKiAqLyAxO1xuXG4vKipcbiAqIFVzZSB0aGlzIG1ldGhvZCB0byBmaW5kIHRoZSBwYXJlbnQgY29tcG9uZW50IGZvciBwcm9qZWN0aW9uLlxuICpcbiAqIE5vcm1hbGx5IHRoZSBwYXJlbnQgY29tcG9uZW50IGlzIGp1c3QgdGhlIGZpcnN0IGNvbXBvbmVudCB3aGljaCB3ZSBlbmNvdW50ZXIgd2hpbGUgdHJhdmVyc2luZyB0aGVcbiAqIHBhcmVudHMuXG4gKlxuICogSG93ZXZlciwgaWYgZHVyaW5nIHRyYXZlcnNhbCB3ZSBlbmNvdW50ZXIgYSBwcm9qZWN0aW9uLCB0aGFuIHdlIGhhdmUgdG8gZm9sbG93IHRoZSBwcm9qZWN0aW9uLFxuICogYW5kIG5vZGUgd2l0aCB0aGUgcHJvamVjdGlvbiBjb21wb25lbnQgaXMgZnVydGhlciBhd2F5IChpdCBpcyB0aGUgcGFyZW50J3MgcGFyZW50IG9mIHRoZVxuICogcHJvamVjdGlvbidzKVxuICpcbiAqIFNvIGluIGdlbmVyYWwgd2UgaGF2ZSB0byBnbyB1cCBhcyBtYW55IHBhcmVudCBjb21wb25lbnRzIGFzIHRoZXJlIGFyZSBwcm9qZWN0aW9ucyBuZXN0aW5ncy5cbiAqXG4gKiAtIE5vIHByb2plY3Rpb24gbmVzdGluZyBmaXJzdCBwYXJlbnQgY29tcG9uZW50LlxuICogLSBPbmUgcHJvamVjdGlvbiBuZXN0aW5nLCBzZWNvbmQgcGFyZW50IGNvbXBvbmVudCAocGFyZW50J3MgcGFyZW50KS5cbiAqIC0gVGhyZWUgcHJvamVjdGlvbiBuZXN0aW5nLCB0aGlyZCBwYXJlbnQgY29tcG9uZW50IChwYXJlbnQncyBwYXJlbnQncyBwYXJlbnQpLlxuICogLSBBbmQgc28gb24uXG4gKlxuICogQHBhcmFtIHZIb3N0XG4gKiBAcGFyYW0gcm9vdFZOb2RlXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgY29uc3Qgdm5vZGVfZ2V0UHJvamVjdGlvblBhcmVudENvbXBvbmVudCA9ICh2SG9zdDogVk5vZGUpOiBWaXJ0dWFsVk5vZGUgfCBudWxsID0+IHtcbiAgbGV0IHByb2plY3Rpb25EZXB0aCA9IDE7XG4gIHdoaWxlIChwcm9qZWN0aW9uRGVwdGgtLSkge1xuICAgIHdoaWxlIChcbiAgICAgIHZIb3N0ICYmXG4gICAgICAodm5vZGVfaXNWaXJ0dWFsVk5vZGUodkhvc3QpID8gdkhvc3QuZ2V0UHJvcChPblJlbmRlclByb3AsIG51bGwpID09PSBudWxsIDogdHJ1ZSlcbiAgICApIHtcbiAgICAgIGNvbnN0IHFTbG90UGFyZW50ID0gdkhvc3Quc2xvdFBhcmVudDtcbiAgICAgIGNvbnN0IHZQcm9qZWN0aW9uUGFyZW50ID0gdm5vZGVfaXNWaXJ0dWFsVk5vZGUodkhvc3QpICYmIHFTbG90UGFyZW50O1xuICAgICAgaWYgKHZQcm9qZWN0aW9uUGFyZW50KSB7XG4gICAgICAgIC8vIFdlIGZvdW5kIGEgcHJvamVjdGlvbiwgc28gd2UgbmVlZCB0byBnbyB1cCBvbmUgbW9yZSBsZXZlbC5cbiAgICAgICAgcHJvamVjdGlvbkRlcHRoKys7XG4gICAgICB9XG4gICAgICB2SG9zdCA9IHZQcm9qZWN0aW9uUGFyZW50IHx8IHZIb3N0LnBhcmVudCE7XG4gICAgfVxuICAgIGlmIChwcm9qZWN0aW9uRGVwdGggPiAwKSB7XG4gICAgICB2SG9zdCA9IHZIb3N0LnBhcmVudCE7XG4gICAgfVxuICB9XG4gIHJldHVybiB2SG9zdCBhcyBWaXJ0dWFsVk5vZGUgfCBudWxsO1xufTtcbiJdfQ==","import { assertDefined } from '../shared/error/assert';\nimport { qError } from '../shared/error/error';\nimport { RenderEvent } from '../shared/utils/markers';\nimport { seal } from '../shared/utils/qdev';\nimport { isArray, isObject } from '../shared/utils/types';\nimport { setLocale } from './use-locale';\nimport { vnode_getNode, vnode_isElementVNode, vnode_isVNode, vnode_locate } from '../client/vnode';\nimport { _getQContainerElement, getDomContainer } from '../client/dom-container';\nimport { WrappedSignalImpl } from '../reactive-primitives/impl/wrapped-signal-impl';\nimport { getSubscriber } from '../reactive-primitives/subscriber';\nlet _context;\nexport const tryGetInvokeContext = () => {\n    if (!_context) {\n        const context = typeof document !== 'undefined' && document && document.__q_context__;\n        if (!context) {\n            return undefined;\n        }\n        if (isArray(context)) {\n            return (document.__q_context__ = newInvokeContextFromTuple(context));\n        }\n        return context;\n    }\n    return _context;\n};\nexport const getInvokeContext = () => {\n    const ctx = tryGetInvokeContext();\n    if (!ctx) {\n        throw qError(9 /* QError.useMethodOutsideContext */);\n    }\n    return ctx;\n};\n/** @internal */\nexport const useInvokeContext = () => {\n    const ctx = tryGetInvokeContext();\n    if (!ctx || ctx.$event$ !== RenderEvent) {\n        throw qError(10 /* QError.useInvokeContext */);\n    }\n    assertDefined(ctx.$hostElement$, `invoke: $hostElement$ must be defined`, ctx);\n    assertDefined(ctx.$effectSubscriber$, `invoke: $effectSubscriber$ must be defined`, ctx);\n    return ctx;\n};\nexport function useBindInvokeContext(fn) {\n    if (fn == null) {\n        return fn;\n    }\n    const ctx = getInvokeContext();\n    return function (...args) {\n        return (invokeApply).call(this, ctx, fn, args);\n    };\n}\n/** Call a function with the given InvokeContext and given arguments. */\nexport function invoke(context, fn, ...args) {\n    return invokeApply.call(this, context, fn, args);\n}\n/** Call a function with the given InvokeContext and array of arguments. */\nexport function invokeApply(context, fn, args) {\n    const previousContext = _context;\n    let returnValue;\n    try {\n        _context = context;\n        returnValue = fn.apply(this, args);\n    }\n    finally {\n        _context = previousContext;\n    }\n    return returnValue;\n}\nexport const newInvokeContextFromTuple = ([element, event, url]) => {\n    const domContainer = getDomContainer(element);\n    const hostElement = vnode_locate(domContainer.rootVNode, element);\n    const locale = domContainer.$locale$;\n    locale && setLocale(locale);\n    return newInvokeContext(locale, hostElement, element, event, url);\n};\n// TODO how about putting url and locale (and event/custom?) in to a \"static\" object\nexport const newInvokeContext = (locale, hostElement, element, event, url) => {\n    // ServerRequestEvent has .locale, but it's not always defined.\n    const $locale$ = locale || (event && isObject(event) && 'locale' in event ? event.locale : undefined);\n    const ctx = {\n        $url$: url,\n        $hostElement$: hostElement,\n        $element$: element,\n        $event$: event,\n        $qrl$: undefined,\n        $effectSubscriber$: undefined,\n        $locale$,\n        $container$: undefined,\n    };\n    seal(ctx);\n    return ctx;\n};\n/**\n * Don't track listeners for this callback\n *\n * @public\n */\nexport const untrack = (fn) => {\n    if (_context) {\n        const sub = _context.$effectSubscriber$;\n        try {\n            _context.$effectSubscriber$ = undefined;\n            return fn();\n        }\n        finally {\n            _context.$effectSubscriber$ = sub;\n        }\n    }\n    else {\n        return fn();\n    }\n};\nconst trackInvocation = /*#__PURE__*/ newInvokeContext(undefined, undefined, undefined, RenderEvent);\n/**\n * @param fn\n * @param subscriber\n * @param property `true` - subscriber is component `false` - subscriber is VNode `string` -\n *   subscriber is property\n * @param container\n * @param data - Additional subscription data\n * @returns\n */\nexport const trackSignal = (fn, subscriber, property, container, data) => {\n    const previousSubscriber = trackInvocation.$effectSubscriber$;\n    const previousContainer = trackInvocation.$container$;\n    try {\n        trackInvocation.$effectSubscriber$ = getSubscriber(subscriber, property, data);\n        trackInvocation.$container$ = container;\n        return invoke(trackInvocation, fn);\n    }\n    finally {\n        trackInvocation.$effectSubscriber$ = previousSubscriber;\n        trackInvocation.$container$ = previousContainer;\n    }\n};\nexport const trackSignalAndAssignHost = (value, host, property, container, data) => {\n    if (value instanceof WrappedSignalImpl && value.$hostElement$ !== host && host) {\n        value.$hostElement$ = host;\n    }\n    return trackSignal(() => value.value, host, property, container, data);\n};\n/** @internal */\nexport const _getContextElement = () => {\n    const iCtx = tryGetInvokeContext();\n    if (iCtx) {\n        const hostElement = iCtx.$hostElement$;\n        let element = null;\n        if (hostElement != null) {\n            if (vnode_isVNode(hostElement)) {\n                if (vnode_isElementVNode(hostElement)) {\n                    element = vnode_getNode(hostElement);\n                }\n            }\n            else {\n                // isSSRnode\n                element = hostElement;\n            }\n        }\n        return element ?? iCtx.$qrl$?.$setContainer$(undefined);\n    }\n};\n/** @internal */\nexport const _getContextEvent = () => {\n    const iCtx = tryGetInvokeContext();\n    if (iCtx) {\n        return iCtx.$event$;\n    }\n};\n/** @internal */\nexport const _getContextContainer = () => {\n    const iCtx = tryGetInvokeContext();\n    if (iCtx) {\n        return iCtx.$container$;\n    }\n};\n/** @internal */\nexport const _jsxBranch = (input) => {\n    return input;\n};\n/** @internal */\nexport const _waitUntilRendered = (elm) => {\n    const container = _getQContainerElement(elm)?.qContainer;\n    if (!container) {\n        return Promise.resolve();\n    }\n    // Multi-cycle idle: loop WAIT_FOR_QUEUE until the flush epoch stays stable\n    // across an extra microtask, which signals that no new work re-scheduled.\n    return (async () => {\n        for (;;) {\n            await container.$scheduler$(255 /* ChoreType.WAIT_FOR_QUEUE */).$returnValue$;\n            const firstEpoch = container.$flushEpoch$ || 0;\n            // Give a microtask for any immediate follow-up scheduling to enqueue\n            await Promise.resolve();\n            const secondEpoch = container.$flushEpoch$ || 0;\n            // If no epoch change occurred during and after WAIT_FOR_QUEUE, we are idle.\n            if (firstEpoch === secondEpoch) {\n                return;\n            }\n            // Continue loop if epoch advanced, meaning more work flushed.\n        }\n    })();\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWNvcmUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1jb3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUN2RCxPQUFPLEVBQVUsTUFBTSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFHdkQsT0FBTyxFQUFFLFdBQVcsRUFBNEIsTUFBTSx5QkFBeUIsQ0FBQztBQUNoRixPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDNUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUMxRCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRXpDLE9BQU8sRUFBRSxhQUFhLEVBQUUsb0JBQW9CLEVBQUUsYUFBYSxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ25HLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxlQUFlLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUVqRixPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxpREFBaUQsQ0FBQztBQUlwRixPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUErQ2xFLElBQUksUUFBbUMsQ0FBQztBQUV4QyxNQUFNLENBQUMsTUFBTSxtQkFBbUIsR0FBRyxHQUE4QixFQUFFO0lBQ2pFLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNkLE1BQU0sT0FBTyxHQUFHLE9BQU8sUUFBUSxLQUFLLFdBQVcsSUFBSSxRQUFRLElBQUksUUFBUSxDQUFDLGFBQWEsQ0FBQztRQUN0RixJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDYixPQUFPLFNBQVMsQ0FBQztRQUNuQixDQUFDO1FBQ0QsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQztZQUNyQixPQUFPLENB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aEIsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQUksS0FBUyxFQUFFLEVBQUU7SUFDekMsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDLENBQUM7QUFFRixnQkFBZ0I7QUFDaEIsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQUcsQ0FBQyxHQUFZLEVBQUUsRUFBRTtJQUNqRCxNQUFNLFNBQVMsR0FBSSxxQkFBcUIsQ0FBQyxHQUFHLENBQWtDLEVBQUUsVUFBVSxDQUFDO0lBQzNGLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNmLE9BQU8sT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzNCLENBQUM7SUFFRCwyRUFBMkU7SUFDM0UsMEVBQTBFO0lBQzFFLE9BQU8sQ0FBQyxLQUFLLElBQUksRUFBRTtRQUNqQixTQUFTLENBQUM7WUFDUixNQUFNLFNBQVMsQ0FBQyxXQUFXLG9DQUEwQixDQUFDLGFBQWEsQ0FBQztZQUVwRSxNQUFNLFVBQVUsR0FBRyxTQUFTLENBQUMsWUFBWSxJQUFJLENBQUMsQ0FBQztZQUMvQyxxRUFBcUU7WUFDckUsTUFBTSxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDeEIsTUFBTSxXQUFXLEdBQUcsU0FBUyxDQUFDLFlBQVksSUFBSSxDQUFDLENBQUM7WUFFaEQsNEVBQTRFO1lBQzVFLElBQUksVUFBVSxLQUFLLFdBQVcsRUFBRSxDQUFDO2dCQUMvQixPQUFPO1lBQ1QsQ0FBQztZQUNELDhEQUE4RDtRQUNoRSxDQUFDO0lBQ0gsQ0FBQyxDQUFDLEVBQUUsQ0FBQztBQUNQLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgUXdpa0RvY3VtZW50IH0gZnJvbSAnLi4vZG9jdW1lbnQnO1xuaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCB9IGZyb20gJy4uL3NoYXJlZC9lcnJvci9hc3NlcnQnO1xuaW1wb3J0IHsgUUVycm9yLCBxRXJyb3IgfSBmcm9tICcuLi9zaGFyZWQvZXJyb3IvZXJyb3InO1xuaW1wb3J0IHR5cGUgeyBRUkxJbnRlcm5hbCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsLWNsYXNzJztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi4vc2hhcmVkL3FybC9xcmwucHVibGljJztcbmltcG9ydCB7IFJlbmRlckV2ZW50LCBSZXNvdXJjZUV2ZW50LCBUYXNrRXZlbnQgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvbWFya2Vycyc7XG5pbXBvcnQgeyBzZWFsIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL3FkZXYnO1xuaW1wb3J0IHsgaXNBcnJheSwgaXNPYmplY3QgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHsgc2V0TG9jYWxlIH0gZnJvbSAnLi91c2UtbG9jYWxlJztcbmltcG9ydCB0eXBlIHsgQ29udGFpbmVyLCBIb3N0RWxlbWVudCB9IGZyb20gJy4uL3NoYXJlZC90eXBlcyc7XG5pbXBvcnQgeyB2bm9kZV9nZXROb2RlLCB2bm9kZV9pc0VsZW1lbnRWTm9kZSwgdm5vZGVfaXNWTm9kZSwgdm5vZGVfbG9jYXRlIH0gZnJvbSAnLi4vY2xpZW50L3Zub2RlJztcbmltcG9ydCB7IF9nZXRRQ29udGFpbmVyRWxlbWVudCwgZ2V0RG9tQ29udGFpbmVyIH0gZnJvbSAnLi4vY2xpZW50L2RvbS1jb250YWluZXInO1xuaW1wb3J0IHsgdHlwZSBDbGllbnRDb250YWluZXIsIHR5cGUgQ29udGFpbmVyRWxlbWVudCB9IGZyb20gJy4uL2NsaWVudC90eXBlcyc7XG5pbXBvcnQgeyBXcmFwcGVkU2lnbmFsSW1wbCB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvaW1wbC93cmFwcGVkLXNpZ25hbC1pbXBsJztcbmltcG9ydCB7IHR5cGUgRWZmZWN0U3Vic2NyaXB0aW9uLCB0eXBlIEVmZmVjdFN1YnNjcmlwdGlvblByb3AgfSBmcm9tICcuLi9yZWFjdGl2ZS1wcmltaXRpdmVzL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgU2lnbmFsIH0gZnJvbSAnLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy9zaWduYWwucHVibGljJztcbmltcG9ydCB0eXBlIHsgSVNzck5vZGUgfSBmcm9tICdwYWNrYWdlcy9xd2lrL3NyYy9zZXJ2ZXIvcXdpay10eXBlcyc7XG5pbXBvcnQgeyBnZXRTdWJzY3JpYmVyIH0gZnJvbSAnLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy9zdWJzY3JpYmVyJztcbmltcG9ydCB0eXBlIHsgU3Vic2NyaXB0aW9uRGF0YSB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvc3Vic2NyaXB0aW9uLWRhdGEnO1xuaW1wb3J0IHsgQ2hvcmVUeXBlIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWwtY2hvcmUtdHlwZSc7XG5cbmRlY2xhcmUgY29uc3QgZG9jdW1lbnQ6IFF3aWtEb2N1bWVudDtcblxuLy8gU2ltcGxpZmllZCB2ZXJzaW9uIG9mIGBTZXJ2ZXJSZXF1ZXN0RXZlbnRgIGZyb20gYEBxd2lrLmRldi9yb3V0ZXJgIHBhY2thZ2UuXG5leHBvcnQgaW50ZXJmYWNlIFNpbXBsaWZpZWRTZXJ2ZXJSZXF1ZXN0RXZlbnQ8VCA9IHVua25vd24+IHtcbiAgdXJsOiBVUkw7XG4gIGxvY2FsZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZXF1ZXN0OiBSZXF1ZXN0O1xufVxuXG5leHBvcnQgdHlwZSBQb3NzaWJsZUV2ZW50cyA9XG4gIHwgRXZlbnRcbiAgfCBTaW1wbGlmaWVkU2VydmVyUmVxdWVzdEV2ZW50XG4gIHwgdHlwZW9mIFRhc2tFdmVudFxuICB8IHR5cGVvZiBSZW5kZXJFdmVudFxuICB8IHR5cGVvZiBSZXNvdXJjZUV2ZW50O1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlckludm9rZUNvbnRleHQgZXh0ZW5kcyBJbnZva2VDb250ZXh0IHtcbiAgLy8gVGhlIGJlbG93IGFyZSBqdXN0IGFsd2F5cy1kZWZpbmVkIGF0dHJpYnV0ZXMgb2YgSW52b2tlQ29udGV4dC5cbiAgJGhvc3RFbGVtZW50JDogSG9zdEVsZW1lbnQ7XG4gICRldmVudCQ6IFBvc3NpYmxlRXZlbnRzO1xuICAkd2FpdE9uJDogUHJvbWlzZTx1bmtub3duPltdO1xuICAkY29udGFpbmVyJDogQ29udGFpbmVyO1xufVxuXG5leHBvcnQgdHlwZSBJbnZva2VUdXBsZSA9IFtFbGVtZW50LCBFdmVudCwgVVJMP107XG5cbi8qKiBUaGUgc2hhcmVkIHN0YXRlIGR1cmluZyBhbiBpbnZva2UoKSBjYWxsICovXG5leHBvcnQgaW50ZXJmYWNlIEludm9rZUNvbnRleHQge1xuICAvKiBUaGUgVVJMIG9mIHRoZSBRUkwgKi9cbiAgJHVybCQ6IFVSTCB8IHVuZGVmaW5lZDtcbiAgLyoqIFRoZSBWaXJ0dWFsIHBhcmVudCBjb21wb25lbnQgZm9yIHRoZSBjdXJyZW50IGNvbXBvbmVudCBjb2RlICovXG4gICRob3N0RWxlbWVudCQ6IEhvc3RFbGVtZW50IHwgdW5kZWZpbmVkO1xuICAvKiogVGhlIGN1cnJlbnQgRE9NIGVsZW1lbnQgKi9cbiAgJGVsZW1lbnQkOiBFbGVtZW50IHwgdW5kZWZpbmVkO1xuICAvKiogVGhlIGV2ZW50IHdlJ3JlIGN1cnJlbnRseSBoYW5kbGluZyAqL1xuICAkZXZlbnQkOiBQb3NzaWJsZUV2ZW50cyB8IHVuZGVmaW5lZDtcbiAgLyoqIFRoZSBRUkwgZnVuY3Rpb24gd2UncmUgY3VycmVudGx5IGV4ZWN1dGluZyAqL1xuICAkcXJsJDogUVJMIHwgdW5kZWZpbmVkO1xuICAkZWZmZWN0U3Vic2NyaWJlciQ6IEVmZmVjdFN1YnNjcmlwdGlvbiB8IHVuZGVmaW5lZDtcbiAgJGxvY2FsZSQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgJGNvbnRhaW5lciQ6IENvbnRhaW5lciB8IHVuZGVmaW5lZDtcbn1cblxubGV0IF9jb250ZXh0OiBJbnZva2VDb250ZXh0IHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgY29uc3QgdHJ5R2V0SW52b2tlQ29udGV4dCA9ICgpOiBJbnZva2VDb250ZXh0IHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKCFfY29udGV4dCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50ICYmIGRvY3VtZW50Ll9fcV9jb250ZXh0X187XG4gICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoaXNBcnJheShjb250ZXh0KSkge1xuICAgICAgcmV0dXJuIChkb2N1bWVudC5fX3FfY29udGV4dF9fID0gbmV3SW52b2tlQ29udGV4dEZyb21UdXBsZShjb250ZXh0IGFzIEludm9rZVR1cGxlKSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0IGFzIEludm9rZUNvbnRleHQ7XG4gIH1cbiAgcmV0dXJuIF9jb250ZXh0O1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEludm9rZUNvbnRleHQgPSAoKTogSW52b2tlQ29udGV4dCA9PiB7XG4gIGNvbnN0IGN0eCA9IHRyeUdldEludm9rZUNvbnRleHQoKTtcbiAgaWYgKCFjdHgpIHtcbiAgICB0aHJvdyBxRXJyb3IoUUVycm9yLnVzZU1ldGhvZE91dHNpZGVDb250ZXh0KTtcbiAgfVxuICByZXR1cm4gY3R4O1xufTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHVzZUludm9rZUNvbnRleHQgPSAoKTogUmVuZGVySW52b2tlQ29udGV4dCA9PiB7XG4gIGNvbnN0IGN0eCA9IHRyeUdldEludm9rZUNvbnRleHQoKTtcbiAgaWYgKCFjdHggfHwgY3R4LiRldmVudCQgIT09IFJlbmRlckV2ZW50KSB7XG4gICAgdGhyb3cgcUVycm9yKFFFcnJvci51c2VJbnZva2VDb250ZXh0KTtcbiAgfVxuICBhc3NlcnREZWZpbmVkKGN0eC4kaG9zdEVsZW1lbnQkLCBgaW52b2tlOiAkaG9zdEVsZW1lbnQkIG11c3QgYmUgZGVmaW5lZGAsIGN0eCk7XG4gIGFzc2VydERlZmluZWQoY3R4LiRlZmZlY3RTdWJzY3JpYmVyJCwgYGludm9rZTogJGVmZmVjdFN1YnNjcmliZXIkIG11c3QgYmUgZGVmaW5lZGAsIGN0eCk7XG5cbiAgcmV0dXJuIGN0eCBhcyBSZW5kZXJJbnZva2VDb250ZXh0O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUJpbmRJbnZva2VDb250ZXh0PEZOIGV4dGVuZHMgKC4uLmFyZ3M6IGFueSkgPT4gYW55PihcbiAgdGhpczogdW5rbm93bixcbiAgZm46IEZOIHwgdW5kZWZpbmVkXG4pOiB0eXBlb2YgZm4ge1xuICBpZiAoZm4gPT0gbnVsbCkge1xuICAgIHJldHVybiBmbjtcbiAgfVxuICBjb25zdCBjdHggPSBnZXRJbnZva2VDb250ZXh0KCk7XG4gIHJldHVybiBmdW5jdGlvbiAodGhpczogdW5rbm93biwgLi4uYXJnczogUGFyYW1ldGVyczxGTj4pIHtcbiAgICByZXR1cm4gKGludm9rZUFwcGx5PEZOPikuY2FsbCh0aGlzLCBjdHgsIGZuISwgYXJncyk7XG4gIH0gYXMgRk47XG59XG5cbi8qKiBDYWxsIGEgZnVuY3Rpb24gd2l0aCB0aGUgZ2l2ZW4gSW52b2tlQ29udGV4dCBhbmQgZ2l2ZW4gYXJndW1lbnRzLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludm9rZTxGTiBleHRlbmRzICguLi5hcmdzOiBhbnkpID0+IGFueT4oXG4gIHRoaXM6IHVua25vd24sXG4gIGNvbnRleHQ6IEludm9rZUNvbnRleHQgfCB1bmRlZmluZWQsXG4gIGZuOiBGTixcbiAgLi4uYXJnczogUGFyYW1ldGVyczxGTj5cbik6IFJldHVyblR5cGU8Rk4+IHtcbiAgcmV0dXJuIGludm9rZUFwcGx5LmNhbGwodGhpcywgY29udGV4dCwgZm4sIGFyZ3MpO1xufVxuXG4vKiogQ2FsbCBhIGZ1bmN0aW9uIHdpdGggdGhlIGdpdmVuIEludm9rZUNvbnRleHQgYW5kIGFycmF5IG9mIGFyZ3VtZW50cy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZva2VBcHBseTxGTiBleHRlbmRzICguLi5hcmdzOiBhbnkpID0+IGFueT4oXG4gIHRoaXM6IHVua25vd24sXG4gIGNvbnRleHQ6IEludm9rZUNvbnRleHQgfCB1bmRlZmluZWQsXG4gIGZuOiBGTixcbiAgYXJnczogUGFyYW1ldGVyczxGTj5cbik6IFJldHVyblR5cGU8Rk4+IHtcbiAgY29uc3QgcHJldmlvdXNDb250ZXh0ID0gX2NvbnRleHQ7XG4gIGxldCByZXR1cm5WYWx1ZTogUmV0dXJuVHlwZTxGTj47XG4gIHRyeSB7XG4gICAgX2NvbnRleHQgPSBjb250ZXh0O1xuICAgIHJldHVyblZhbHVlID0gZm4uYXBwbHkodGhpcywgYXJncyk7XG4gIH0gZmluYWxseSB7XG4gICAgX2NvbnRleHQgPSBwcmV2aW91c0NvbnRleHQ7XG4gIH1cbiAgcmV0dXJuIHJldHVyblZhbHVlO1xufVxuXG5leHBvcnQgY29uc3QgbmV3SW52b2tlQ29udGV4dEZyb21UdXBsZSA9IChbZWxlbWVudCwgZXZlbnQsIHVybF06IEludm9rZVR1cGxlKSA9PiB7XG4gIGNvbnN0IGRvbUNvbnRhaW5lciA9IGdldERvbUNvbnRhaW5lcihlbGVtZW50KTtcbiAgY29uc3QgaG9zdEVsZW1lbnQgPSB2bm9kZV9sb2NhdGUoZG9tQ29udGFpbmVyLnJvb3RWTm9kZSwgZWxlbWVudCk7XG4gIGNvbnN0IGxvY2FsZSA9IGRvbUNvbnRhaW5lci4kbG9jYWxlJDtcbiAgbG9jYWxlICYmIHNldExvY2FsZShsb2NhbGUpO1xuICByZXR1cm4gbmV3SW52b2tlQ29udGV4dChsb2NhbGUsIGhvc3RFbGVtZW50LCBlbGVtZW50LCBldmVudCwgdXJsKTtcbn07XG5cbi8vIFRPRE8gaG93IGFib3V0IHB1dHRpbmcgdXJsIGFuZCBsb2NhbGUgKGFuZCBldmVudC9jdXN0b20/KSBpbiB0byBhIFwic3RhdGljXCIgb2JqZWN0XG5leHBvcnQgY29uc3QgbmV3SW52b2tlQ29udGV4dCA9IChcbiAgbG9jYWxlPzogc3RyaW5nLFxuICBob3N0RWxlbWVudD86IEhvc3RFbGVtZW50LFxuICBlbGVtZW50PzogRWxlbWVudCxcbiAgZXZlbnQ/OiBQb3NzaWJsZUV2ZW50cyxcbiAgdXJsPzogVVJMXG4pOiBJbnZva2VDb250ZXh0ID0+IHtcbiAgLy8gU2VydmVyUmVxdWVzdEV2ZW50IGhhcyAubG9jYWxlLCBidXQgaXQncyBub3QgYWx3YXlzIGRlZmluZWQuXG4gIGNvbnN0ICRsb2NhbGUkID1cbiAgICBsb2NhbGUgfHwgKGV2ZW50ICYmIGlzT2JqZWN0KGV2ZW50KSAmJiAnbG9jYWxlJyBpbiBldmVudCA/IGV2ZW50LmxvY2FsZSA6IHVuZGVmaW5lZCk7XG4gIGNvbnN0IGN0eDogSW52b2tlQ29udGV4dCA9IHtcbiAgICAkdXJsJDogdXJsLFxuICAgICRob3N0RWxlbWVudCQ6IGhvc3RFbGVtZW50LFxuICAgICRlbGVtZW50JDogZWxlbWVudCxcbiAgICAkZXZlbnQkOiBldmVudCxcbiAgICAkcXJsJDogdW5kZWZpbmVkLFxuICAgICRlZmZlY3RTdWJzY3JpYmVyJDogdW5kZWZpbmVkLFxuICAgICRsb2NhbGUkLFxuICAgICRjb250YWluZXIkOiB1bmRlZmluZWQsXG4gIH07XG4gIHNlYWwoY3R4KTtcbiAgcmV0dXJuIGN0eDtcbn07XG5cbi8qKlxuICogRG9uJ3QgdHJhY2sgbGlzdGVuZXJzIGZvciB0aGlzIGNhbGxiYWNrXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgdW50cmFjayA9IDxUPihmbjogKCkgPT4gVCk6IFQgPT4ge1xuICBpZiAoX2NvbnRleHQpIHtcbiAgICBjb25zdCBzdWIgPSBfY29udGV4dC4kZWZmZWN0U3Vic2NyaWJlciQ7XG4gICAgdHJ5IHtcbiAgICAgIF9jb250ZXh0LiRlZmZlY3RTdWJzY3JpYmVyJCA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBmbigpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBfY29udGV4dC4kZWZmZWN0U3Vic2NyaWJlciQgPSBzdWI7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBmbigpO1xuICB9XG59O1xuXG5jb25zdCB0cmFja0ludm9jYXRpb24gPSAvKiNfX1BVUkVfXyovIG5ld0ludm9rZUNvbnRleHQoXG4gIHVuZGVmaW5lZCxcbiAgdW5kZWZpbmVkLFxuICB1bmRlZmluZWQsXG4gIFJlbmRlckV2ZW50XG4pO1xuXG4vKipcbiAqIEBwYXJhbSBmblxuICogQHBhcmFtIHN1YnNjcmliZXJcbiAqIEBwYXJhbSBwcm9wZXJ0eSBgdHJ1ZWAgLSBzdWJzY3JpYmVyIGlzIGNvbXBvbmVudCBgZmFsc2VgIC0gc3Vic2NyaWJlciBpcyBWTm9kZSBgc3RyaW5nYCAtXG4gKiAgIHN1YnNjcmliZXIgaXMgcHJvcGVydHlcbiAqIEBwYXJhbSBjb250YWluZXJcbiAqIEBwYXJhbSBkYXRhIC0gQWRkaXRpb25hbCBzdWJzY3JpcHRpb24gZGF0YVxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGNvbnN0IHRyYWNrU2lnbmFsID0gPFQ+KFxuICBmbjogKCkgPT4gVCxcbiAgc3Vic2NyaWJlcjogRWZmZWN0U3Vic2NyaXB0aW9uW0VmZmVjdFN1YnNjcmlwdGlvblByb3AuQ09OU1VNRVJdLFxuICBwcm9wZXJ0eTogRWZmZWN0U3Vic2NyaXB0aW9uW0VmZmVjdFN1YnNjcmlwdGlvblByb3AuUFJPUEVSVFldLFxuICBjb250YWluZXI6IENvbnRhaW5lcixcbiAgZGF0YT86IFN1YnNjcmlwdGlvbkRhdGFcbik6IFQgPT4ge1xuICBjb25zdCBwcmV2aW91c1N1YnNjcmliZXIgPSB0cmFja0ludm9jYXRpb24uJGVmZmVjdFN1YnNjcmliZXIkO1xuICBjb25zdCBwcmV2aW91c0NvbnRhaW5lciA9IHRyYWNrSW52b2NhdGlvbi4kY29udGFpbmVyJDtcbiAgdHJ5IHtcbiAgICB0cmFja0ludm9jYXRpb24uJGVmZmVjdFN1YnNjcmliZXIkID0gZ2V0U3Vic2NyaWJlcihzdWJzY3JpYmVyLCBwcm9wZXJ0eSwgZGF0YSk7XG4gICAgdHJhY2tJbnZvY2F0aW9uLiRjb250YWluZXIkID0gY29udGFpbmVyO1xuICAgIHJldHVybiBpbnZva2UodHJhY2tJbnZvY2F0aW9uLCBmbik7XG4gIH0gZmluYWxseSB7XG4gICAgdHJhY2tJbnZvY2F0aW9uLiRlZmZlY3RTdWJzY3JpYmVyJCA9IHByZXZpb3VzU3Vic2NyaWJlcjtcbiAgICB0cmFja0ludm9jYXRpb24uJGNvbnRhaW5lciQgPSBwcmV2aW91c0NvbnRhaW5lcjtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHRyYWNrU2lnbmFsQW5kQXNzaWduSG9zdCA9IChcbiAgdmFsdWU6IFNpZ25hbCxcbiAgaG9zdDogSG9zdEVsZW1lbnQsXG4gIHByb3BlcnR5OiBFZmZlY3RTdWJzY3JpcHRpb25bRWZmZWN0U3Vic2NyaXB0aW9uUHJvcC5QUk9QRVJUWV0sXG4gIGNvbnRhaW5lcjogQ29udGFpbmVyLFxuICBkYXRhPzogU3Vic2NyaXB0aW9uRGF0YVxuKSA9PiB7XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFdyYXBwZWRTaWduYWxJbXBsICYmIHZhbHVlLiRob3N0RWxlbWVudCQgIT09IGhvc3QgJiYgaG9zdCkge1xuICAgIHZhbHVlLiRob3N0RWxlbWVudCQgPSBob3N0O1xuICB9XG4gIHJldHVybiB0cmFja1NpZ25hbCgoKSA9PiB2YWx1ZS52YWx1ZSwgaG9zdCwgcHJvcGVydHksIGNvbnRhaW5lciwgZGF0YSk7XG59O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgX2dldENvbnRleHRFbGVtZW50ID0gKCk6IHVua25vd24gPT4ge1xuICBjb25zdCBpQ3R4ID0gdHJ5R2V0SW52b2tlQ29udGV4dCgpO1xuICBpZiAoaUN0eCkge1xuICAgIGNvbnN0IGhvc3RFbGVtZW50ID0gaUN0eC4kaG9zdEVsZW1lbnQkO1xuICAgIGxldCBlbGVtZW50OiBFbGVtZW50IHwgSVNzck5vZGUgfCBudWxsID0gbnVsbDtcblxuICAgIGlmIChob3N0RWxlbWVudCAhPSBudWxsKSB7XG4gICAgICBpZiAodm5vZGVfaXNWTm9kZShob3N0RWxlbWVudCkpIHtcbiAgICAgICAgaWYgKHZub2RlX2lzRWxlbWVudFZOb2RlKGhvc3RFbGVtZW50KSkge1xuICAgICAgICAgIGVsZW1lbnQgPSB2bm9kZV9nZXROb2RlKGhvc3RFbGVtZW50KSBhcyBFbGVtZW50O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpc1NTUm5vZGVcbiAgICAgICAgZWxlbWVudCA9IGhvc3RFbGVtZW50O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBlbGVtZW50ID8/IChpQ3R4LiRxcmwkIGFzIFFSTEludGVybmFsKT8uJHNldENvbnRhaW5lciQodW5kZWZpbmVkKTtcbiAgfVxufTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IF9nZXRDb250ZXh0RXZlbnQgPSAoKTogdW5rbm93biA9PiB7XG4gIGNvbnN0IGlDdHggPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gIGlmIChpQ3R4KSB7XG4gICAgcmV0dXJuIGlDdHguJGV2ZW50JDtcbiAgfVxufTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IF9nZXRDb250ZXh0Q29udGFpbmVyID0gKCk6IENsaWVudENvbnRhaW5lciB8IHVuZGVmaW5lZCA9PiB7XG4gIGNvbnN0IGlDdHggPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gIGlmIChpQ3R4KSB7XG4gICAgcmV0dXJuIGlDdHguJGNvbnRhaW5lciQgYXMgQ2xpZW50Q29udGFpbmVyO1xuICB9XG59O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgX2pzeEJyYW5jaCA9IDxUPihpbnB1dD86IFQpID0+IHtcbiAgcmV0dXJuIGlucHV0O1xufTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IF93YWl0VW50aWxSZW5kZXJlZCA9IChlbG06IEVsZW1lbnQpID0+IHtcbiAgY29uc3QgY29udGFpbmVyID0gKF9nZXRRQ29udGFpbmVyRWxlbWVudChlbG0pIGFzIENvbnRhaW5lckVsZW1lbnQgfCB1bmRlZmluZWQpPy5xQ29udGFpbmVyO1xuICBpZiAoIWNvbnRhaW5lcikge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIC8vIE11bHRpLWN5Y2xlIGlkbGU6IGxvb3AgV0FJVF9GT1JfUVVFVUUgdW50aWwgdGhlIGZsdXNoIGVwb2NoIHN0YXlzIHN0YWJsZVxuICAvLyBhY3Jvc3MgYW4gZXh0cmEgbWljcm90YXNrLCB3aGljaCBzaWduYWxzIHRoYXQgbm8gbmV3IHdvcmsgcmUtc2NoZWR1bGVkLlxuICByZXR1cm4gKGFzeW5jICgpID0+IHtcbiAgICBmb3IgKDs7KSB7XG4gICAgICBhd2FpdCBjb250YWluZXIuJHNjaGVkdWxlciQoQ2hvcmVUeXBlLldBSVRfRk9SX1FVRVVFKS4kcmV0dXJuVmFsdWUkO1xuXG4gICAgICBjb25zdCBmaXJzdEVwb2NoID0gY29udGFpbmVyLiRmbHVzaEVwb2NoJCB8fCAwO1xuICAgICAgLy8gR2l2ZSBhIG1pY3JvdGFzayBmb3IgYW55IGltbWVkaWF0ZSBmb2xsb3ctdXAgc2NoZWR1bGluZyB0byBlbnF1ZXVlXG4gICAgICBhd2FpdCBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIGNvbnN0IHNlY29uZEVwb2NoID0gY29udGFpbmVyLiRmbHVzaEVwb2NoJCB8fCAwO1xuXG4gICAgICAvLyBJZiBubyBlcG9jaCBjaGFuZ2Ugb2NjdXJyZWQgZHVyaW5nIGFuZCBhZnRlciBXQUlUX0ZPUl9RVUVVRSwgd2UgYXJlIGlkbGUuXG4gICAgICBpZiAoZmlyc3RFcG9jaCA9PT0gc2Vjb25kRXBvY2gpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gQ29udGludWUgbG9vcCBpZiBlcG9jaCBhZHZhbmNlZCwgbWVhbmluZyBtb3JlIHdvcmsgZmx1c2hlZC5cbiAgICB9XG4gIH0pKCk7XG59O1xuIl19","import { verifySerializable } from '../shared/serdes/verify';\nimport { ELEMENT_SEQ, ELEMENT_SEQ_IDX } from '../shared/utils/markers';\nimport { qDev, qSerialize } from '../shared/utils/qdev';\nimport { useInvokeContext } from './use-core';\n/**\n * @internal\n * The storage provider for hooks. Each invocation increases index i. Data is stored in an array.\n */\nexport const useSequentialScope = () => {\n    const iCtx = useInvokeContext();\n    const hostElement = iCtx.$hostElement$;\n    const host = hostElement;\n    let seq = iCtx.$container$.getHostProp(host, ELEMENT_SEQ);\n    if (seq === null) {\n        seq = [];\n        iCtx.$container$.setHostProp(host, ELEMENT_SEQ, seq);\n    }\n    let seqIdx = iCtx.$container$.getHostProp(host, ELEMENT_SEQ_IDX);\n    if (seqIdx === null) {\n        seqIdx = 0;\n    }\n    iCtx.$container$.setHostProp(host, ELEMENT_SEQ_IDX, seqIdx + 1);\n    while (seq.length <= seqIdx) {\n        seq.push(undefined);\n    }\n    const set = (value) => {\n        if (qDev && qSerialize) {\n            verifySerializable(value);\n        }\n        return (seq[seqIdx] = value);\n    };\n    return {\n        val: seq[seqIdx],\n        set,\n        i: seqIdx,\n        iCtx,\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXNlcXVlbnRpYWwtc2NvcGUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1zZXF1ZW50aWFsLXNjb3BlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzdELE9BQU8sRUFBRSxXQUFXLEVBQUUsZUFBZSxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDdkUsT0FBTyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUV4RCxPQUFPLEVBQUUsZ0JBQWdCLEVBQTRCLE1BQU0sWUFBWSxDQUFDO0FBWXhFOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxNQUFNLGtCQUFrQixHQUFHLEdBQTBCLEVBQUU7SUFDNUQsTUFBTSxJQUFJLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQztJQUNoQyxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDO0lBQ3ZDLE1BQU0sSUFBSSxHQUFnQixXQUFrQixDQUFDO0lBQzdDLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFRLElBQUksRUFBRSxXQUFXLENBQUMsQ0FBQztJQUNqRSxJQUFJLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQztRQUNqQixHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ1QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLFdBQVcsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBQ0QsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQVMsSUFBSSxFQUFFLGVBQWUsQ0FBQyxDQUFDO0lBQ3pFLElBQUksTUFBTSxLQUFLLElBQUksRUFBRSxDQUFDO1FBQ3BCLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDYixDQUFDO0lBQ0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLGVBQWUsRUFBRSxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDaEUsT0FBTyxHQUFHLENBQUMsTUFBTSxJQUFJLE1BQU0sRUFBRSxDQUFDO1FBQzVCLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDdEIsQ0FBQztJQUNELE1BQU0sR0FBRyxHQUFHLENBQUMsS0FBUSxFQUFFLEVBQUU7UUFDdkIsSUFBSSxJQUFJLElBQUksVUFBVSxFQUFFLENBQUM7WUFDdkIsa0JBQWtCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDNUIsQ0FBQztRQUNELE9BQU8sQ0FBQyxHQUFJLENBQUMsTUFBTyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUM7SUFDakMsQ0FBQyxDQUFDO0lBRUYsT0FBTztRQUNMLEdBQUcsRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDO1FBQ2hCLEdBQUc7UUFDSCxDQUFDLEVBQUUsTUFBTTtRQUNULElBQUk7S0FDTCxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdmVyaWZ5U2VyaWFsaXphYmxlIH0gZnJvbSAnLi4vc2hhcmVkL3NlcmRlcy92ZXJpZnknO1xuaW1wb3J0IHsgRUxFTUVOVF9TRVEsIEVMRU1FTlRfU0VRX0lEWCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9tYXJrZXJzJztcbmltcG9ydCB7IHFEZXYsIHFTZXJpYWxpemUgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvcWRldic7XG5pbXBvcnQgdHlwZSB7IEhvc3RFbGVtZW50IH0gZnJvbSAnLi4vc2hhcmVkL3R5cGVzJztcbmltcG9ydCB7IHVzZUludm9rZUNvbnRleHQsIHR5cGUgUmVuZGVySW52b2tlQ29udGV4dCB9IGZyb20gJy4vdXNlLWNvcmUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNlcXVlbnRpYWxTY29wZTxUPiB7XG4gIC8qKiBUaGUgY3VycmVudGx5IHN0b3JlZCBkYXRhIGZvciB0aGUgaG9vayB0aGF0IGNhbGxzIHRoaXMgKi9cbiAgcmVhZG9ubHkgdmFsOiBUIHwgdW5kZWZpbmVkO1xuICAvKiogU3RvcmUgbmV3IGRhdGEgZm9yIHRoZSBob29rIHRoYXQgY2FsbHMgdGhpcyAqL1xuICByZWFkb25seSBzZXQ6ICh2OiBUKSA9PiBUO1xuICAvKiogSW5kZXggb2YgdGhlIGhvb2sgKi9cbiAgcmVhZG9ubHkgaTogbnVtYmVyO1xuICByZWFkb25seSBpQ3R4OiBSZW5kZXJJbnZva2VDb250ZXh0O1xufVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICogVGhlIHN0b3JhZ2UgcHJvdmlkZXIgZm9yIGhvb2tzLiBFYWNoIGludm9jYXRpb24gaW5jcmVhc2VzIGluZGV4IGkuIERhdGEgaXMgc3RvcmVkIGluIGFuIGFycmF5LlxuICovXG5leHBvcnQgY29uc3QgdXNlU2VxdWVudGlhbFNjb3BlID0gPFQ+KCk6IFNlcXVlbnRpYWxTY29wZTxUPiA9PiB7XG4gIGNvbnN0IGlDdHggPSB1c2VJbnZva2VDb250ZXh0KCk7XG4gIGNvbnN0IGhvc3RFbGVtZW50ID0gaUN0eC4kaG9zdEVsZW1lbnQkO1xuICBjb25zdCBob3N0OiBIb3N0RWxlbWVudCA9IGhvc3RFbGVtZW50IGFzIGFueTtcbiAgbGV0IHNlcSA9IGlDdHguJGNvbnRhaW5lciQuZ2V0SG9zdFByb3A8YW55W10+KGhvc3QsIEVMRU1FTlRfU0VRKTtcbiAgaWYgKHNlcSA9PT0gbnVsbCkge1xuICAgIHNlcSA9IFtdO1xuICAgIGlDdHguJGNvbnRhaW5lciQuc2V0SG9zdFByb3AoaG9zdCwgRUxFTUVOVF9TRVEsIHNlcSk7XG4gIH1cbiAgbGV0IHNlcUlkeCA9IGlDdHguJGNvbnRhaW5lciQuZ2V0SG9zdFByb3A8bnVtYmVyPihob3N0LCBFTEVNRU5UX1NFUV9JRFgpO1xuICBpZiAoc2VxSWR4ID09PSBudWxsKSB7XG4gICAgc2VxSWR4ID0gMDtcbiAgfVxuICBpQ3R4LiRjb250YWluZXIkLnNldEhvc3RQcm9wKGhvc3QsIEVMRU1FTlRfU0VRX0lEWCwgc2VxSWR4ICsgMSk7XG4gIHdoaWxlIChzZXEubGVuZ3RoIDw9IHNlcUlkeCkge1xuICAgIHNlcS5wdXNoKHVuZGVmaW5lZCk7XG4gIH1cbiAgY29uc3Qgc2V0ID0gKHZhbHVlOiBUKSA9PiB7XG4gICAgaWYgKHFEZXYgJiYgcVNlcmlhbGl6ZSkge1xuICAgICAgdmVyaWZ5U2VyaWFsaXphYmxlKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIChzZXEhW3NlcUlkeCFdID0gdmFsdWUpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgdmFsOiBzZXFbc2VxSWR4XSxcbiAgICBzZXQsXG4gICAgaTogc2VxSWR4LFxuICAgIGlDdHgsXG4gIH07XG59O1xuIl19","import { assertTrue } from '../shared/error/assert';\nimport { qError } from '../shared/error/error';\nimport { verifySerializable } from '../shared/serdes/verify';\nimport { qDev, qSerialize } from '../shared/utils/qdev';\nimport { isObject } from '../shared/utils/types';\nimport { getInvokeContext, invoke } from './use-core';\nimport { useSequentialScope } from './use-sequential-scope';\nimport { fromCamelToKebabCase } from '../shared/utils/event-names';\n// <docs markdown=\"../readme.md#createContextId\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#createContextId instead and run `pnpm docs.sync`)\n/**\n * Create a context ID to be used in your application. The name should be written with no spaces.\n *\n * Context is a way to pass stores to the child components without prop-drilling.\n *\n * Use `createContextId()` to create a `ContextId`. A `ContextId` is just a serializable identifier\n * for the context. It is not the context value itself. See `useContextProvider()` and\n * `useContext()` for the values. Qwik needs a serializable ID for the context so that the it can\n * track context providers and consumers in a way that survives resumability.\n *\n * ### Example\n *\n * ```tsx\n * // Declare the Context type.\n * interface TodosStore {\n *   items: string[];\n * }\n * // Create a Context ID (no data is saved here.)\n * // You will use this ID to both create and retrieve the Context.\n * export const TodosContext = createContextId<TodosStore>('Todos');\n *\n * // Example of providing context to child components.\n * export const App = component$(() => {\n *   useContextProvider(\n *     TodosContext,\n *     useStore<TodosStore>({\n *       items: ['Learn Qwik', 'Build Qwik app', 'Profit'],\n *     })\n *   );\n *\n *   return <Items />;\n * });\n *\n * // Example of retrieving the context provided by a parent component.\n * export const Items = component$(() => {\n *   const todos = useContext(TodosContext);\n *   return (\n *     <ul>\n *       {todos.items.map((item) => (\n *         <li>{item}</li>\n *       ))}\n *     </ul>\n *   );\n * });\n *\n * ```\n *\n * @param name - The name of the context.\n * @public\n */\n// </docs>\nexport const createContextId = (name) => {\n    assertTrue(/^[\\w/.-]+$/.test(name), 'Context name must only contain A-Z,a-z,0-9,_,.,-', name);\n    return /*#__PURE__*/ Object.freeze({\n        id: fromCamelToKebabCase(name),\n    });\n};\n// <docs markdown=\"../readme.md#useContextProvider\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useContextProvider instead and run `pnpm docs.sync`)\n/**\n * Assign a value to a Context.\n *\n * Use `useContextProvider()` to assign a value to a context. The assignment happens in the\n * component's function. Once assigned, use `useContext()` in any child component to retrieve the\n * value.\n *\n * Context is a way to pass stores to the child components without prop-drilling. Note that scalar\n * values are allowed, but for reactivity you need signals or stores.\n *\n * ### Example\n *\n * ```tsx\n * // Declare the Context type.\n * interface TodosStore {\n *   items: string[];\n * }\n * // Create a Context ID (no data is saved here.)\n * // You will use this ID to both create and retrieve the Context.\n * export const TodosContext = createContextId<TodosStore>('Todos');\n *\n * // Example of providing context to child components.\n * export const App = component$(() => {\n *   useContextProvider(\n *     TodosContext,\n *     useStore<TodosStore>({\n *       items: ['Learn Qwik', 'Build Qwik app', 'Profit'],\n *     })\n *   );\n *\n *   return <Items />;\n * });\n *\n * // Example of retrieving the context provided by a parent component.\n * export const Items = component$(() => {\n *   const todos = useContext(TodosContext);\n *   return (\n *     <ul>\n *       {todos.items.map((item) => (\n *         <li>{item}</li>\n *       ))}\n *     </ul>\n *   );\n * });\n *\n * ```\n *\n * @param context - The context to assign a value to.\n * @param value - The value to assign to the context.\n * @public\n */\n// </docs>\nexport const useContextProvider = (context, newValue) => {\n    const { val, set, iCtx } = useSequentialScope();\n    if (val !== undefined) {\n        return;\n    }\n    if (qDev) {\n        validateContext(context);\n    }\n    if (qDev && qSerialize) {\n        verifySerializable(newValue);\n    }\n    iCtx.$container$.setContext(iCtx.$hostElement$, context, newValue);\n    set(1);\n};\n// <docs markdown=\"../readme.md#useContext\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useContext instead and run `pnpm docs.sync`)\n/**\n * Retrieve Context value.\n *\n * Use `useContext()` to retrieve the value of context in a component. To retrieve a value a parent\n * component needs to invoke `useContextProvider()` to assign a value.\n *\n * ### Example\n *\n * ```tsx\n * // Declare the Context type.\n * interface TodosStore {\n *   items: string[];\n * }\n * // Create a Context ID (no data is saved here.)\n * // You will use this ID to both create and retrieve the Context.\n * export const TodosContext = createContextId<TodosStore>('Todos');\n *\n * // Example of providing context to child components.\n * export const App = component$(() => {\n *   useContextProvider(\n *     TodosContext,\n *     useStore<TodosStore>({\n *       items: ['Learn Qwik', 'Build Qwik app', 'Profit'],\n *     })\n *   );\n *\n *   return <Items />;\n * });\n *\n * // Example of retrieving the context provided by a parent component.\n * export const Items = component$(() => {\n *   const todos = useContext(TodosContext);\n *   return (\n *     <ul>\n *       {todos.items.map((item) => (\n *         <li>{item}</li>\n *       ))}\n *     </ul>\n *   );\n * });\n *\n * ```\n *\n * @param context - The context to retrieve a value from.\n * @public\n */\n// </docs>\nexport const useContext = (context, defaultValue) => {\n    const { val, set, iCtx } = useSequentialScope();\n    if (val !== undefined) {\n        return val;\n    }\n    if (qDev) {\n        validateContext(context);\n    }\n    const value = iCtx.$container$.resolveContext(iCtx.$hostElement$, context);\n    if (typeof defaultValue === 'function') {\n        return set(invoke(undefined, defaultValue, value));\n    }\n    if (value !== undefined) {\n        return set(value);\n    }\n    if (defaultValue !== undefined) {\n        return set(defaultValue);\n    }\n    throw qError(8 /* QError.notFoundContext */, [context.id]);\n};\nexport const validateContext = (context) => {\n    if (!isObject(context) || typeof context.id !== 'string' || context.id.length === 0) {\n        throw qError(11 /* QError.invalidContext */, [context]);\n    }\n};\n/** @internal */\nexport const _resolveContextWithoutSequentialScope = (context) => {\n    const iCtx = getInvokeContext();\n    const hostElement = iCtx.$hostElement$;\n    if (!hostElement) {\n        return undefined;\n    }\n    return iCtx.$container$?.resolveContext(hostElement, context);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWNvbnRleHQuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1jb250ZXh0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUNwRCxPQUFPLEVBQVUsTUFBTSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDdkQsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDN0QsT0FBTyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUN4RCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDakQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sRUFBRSxNQUFNLFlBQVksQ0FBQztBQUN0RCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUM1RCxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQThEbkUsaURBQWlEO0FBQ2pELHlDQUF5QztBQUN6Qyx1RUFBdUU7QUFDdkU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FpREc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLENBQWtCLElBQVksRUFBb0IsRUFBRTtJQUNqRixVQUFVLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxrREFBa0QsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUM5RixPQUFPLGFBQWEsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQ2pDLEVBQUUsRUFBRSxvQkFBb0IsQ0FBQyxJQUFJLENBQUM7S0FDeEIsQ0FBQyxDQUFDO0FBQ1osQ0FBQyxDQUFDO0FBRUYsb0RBQW9EO0FBQ3BELHlDQUF5QztBQUN6QywwRUFBMEU7QUFDMUU7Ozs7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LElBQUksQ0FBQyxXQUFXLEVBQUUsY0FBYyxDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUNoRSxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NlcnRUcnVlIH0gZnJvbSAnLi4vc2hhcmVkL2Vycm9yL2Fzc2VydCc7XG5pbXBvcnQgeyBRRXJyb3IsIHFFcnJvciB9IGZyb20gJy4uL3NoYXJlZC9lcnJvci9lcnJvcic7XG5pbXBvcnQgeyB2ZXJpZnlTZXJpYWxpemFibGUgfSBmcm9tICcuLi9zaGFyZWQvc2VyZGVzL3ZlcmlmeSc7XG5pbXBvcnQgeyBxRGV2LCBxU2VyaWFsaXplIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL3FkZXYnO1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHsgZ2V0SW52b2tlQ29udGV4dCwgaW52b2tlIH0gZnJvbSAnLi91c2UtY29yZSc7XG5pbXBvcnQgeyB1c2VTZXF1ZW50aWFsU2NvcGUgfSBmcm9tICcuL3VzZS1zZXF1ZW50aWFsLXNjb3BlJztcbmltcG9ydCB7IGZyb21DYW1lbFRvS2ViYWJDYXNlIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL2V2ZW50LW5hbWVzJztcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjQ29udGV4dElkXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI0NvbnRleHRJZCBpbnN0ZWFkIGFuZCBydW4gYHBucG0gZG9jcy5zeW5jYClcbi8qKlxuICogQ29udGV4dElkIGlzIGEgdHlwZXNhZmUgSUQgZm9yIHlvdXIgY29udGV4dC5cbiAqXG4gKiBDb250ZXh0IGlzIGEgd2F5IHRvIHBhc3Mgc3RvcmVzIHRvIHRoZSBjaGlsZCBjb21wb25lbnRzIHdpdGhvdXQgcHJvcC1kcmlsbGluZy5cbiAqXG4gKiBVc2UgYGNyZWF0ZUNvbnRleHRJZCgpYCB0byBjcmVhdGUgYSBgQ29udGV4dElkYC4gQSBgQ29udGV4dElkYCBpcyBqdXN0IGEgc2VyaWFsaXphYmxlIGlkZW50aWZpZXJcbiAqIGZvciB0aGUgY29udGV4dC4gSXQgaXMgbm90IHRoZSBjb250ZXh0IHZhbHVlIGl0c2VsZi4gU2VlIGB1c2VDb250ZXh0UHJvdmlkZXIoKWAgYW5kXG4gKiBgdXNlQ29udGV4dCgpYCBmb3IgdGhlIHZhbHVlcy4gUXdpayBuZWVkcyBhIHNlcmlhbGl6YWJsZSBJRCBmb3IgdGhlIGNvbnRleHQgc28gdGhhdCB0aGUgaXQgY2FuXG4gKiB0cmFjayBjb250ZXh0IHByb3ZpZGVycyBhbmQgY29uc3VtZXJzIGluIGEgd2F5IHRoYXQgc3Vydml2ZXMgcmVzdW1hYmlsaXR5LlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHN4XG4gKiAvLyBEZWNsYXJlIHRoZSBDb250ZXh0IHR5cGUuXG4gKiBpbnRlcmZhY2UgVG9kb3NTdG9yZSB7XG4gKiAgIGl0ZW1zOiBzdHJpbmdbXTtcbiAqIH1cbiAqIC8vIENyZWF0ZSBhIENvbnRleHQgSUQgKG5vIGRhdGEgaXMgc2F2ZWQgaGVyZS4pXG4gKiAvLyBZb3Ugd2lsbCB1c2UgdGhpcyBJRCB0byBib3RoIGNyZWF0ZSBhbmQgcmV0cmlldmUgdGhlIENvbnRleHQuXG4gKiBleHBvcnQgY29uc3QgVG9kb3NDb250ZXh0ID0gY3JlYXRlQ29udGV4dElkPFRvZG9zU3RvcmU+KCdUb2RvcycpO1xuICpcbiAqIC8vIEV4YW1wbGUgb2YgcHJvdmlkaW5nIGNvbnRleHQgdG8gY2hpbGQgY29tcG9uZW50cy5cbiAqIGV4cG9ydCBjb25zdCBBcHAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlQ29udGV4dFByb3ZpZGVyKFxuICogICAgIFRvZG9zQ29udGV4dCxcbiAqICAgICB1c2VTdG9yZTxUb2Rvc1N0b3JlPih7XG4gKiAgICAgICBpdGVtczogWydMZWFybiBRd2lrJywgJ0J1aWxkIFF3aWsgYXBwJywgJ1Byb2ZpdCddLFxuICogICAgIH0pXG4gKiAgICk7XG4gKlxuICogICByZXR1cm4gPEl0ZW1zIC8+O1xuICogfSk7XG4gKlxuICogLy8gRXhhbXBsZSBvZiByZXRyaWV2aW5nIHRoZSBjb250ZXh0IHByb3ZpZGVkIGJ5IGEgcGFyZW50IGNvbXBvbmVudC5cbiAqIGV4cG9ydCBjb25zdCBJdGVtcyA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCB0b2RvcyA9IHVzZUNvbnRleHQoVG9kb3NDb250ZXh0KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8dWw+XG4gKiAgICAgICB7dG9kb3MuaXRlbXMubWFwKChpdGVtKSA9PiAoXG4gKiAgICAgICAgIDxsaT57aXRlbX08L2xpPlxuICogICAgICAgKSl9XG4gKiAgICAgPC91bD5cbiAqICAgKTtcbiAqIH0pO1xuICpcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGludGVyZmFjZSBDb250ZXh0SWQ8U1RBVEU+IHtcbiAgLyoqIERlc2lnbi10aW1lIHByb3BlcnR5IHRvIHN0b3JlIHR5cGUgaW5mb3JtYXRpb24gZm9yIHRoZSBjb250ZXh0LiAqL1xuICByZWFkb25seSBfX2JyYW5kX2NvbnRleHRfdHlwZV9fOiBTVEFURTtcbiAgLyoqIEEgdW5pcXVlIElEIGZvciB0aGUgY29udGV4dC4gKi9cbiAgcmVhZG9ubHkgaWQ6IHN0cmluZztcbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjY3JlYXRlQ29udGV4dElkXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI2NyZWF0ZUNvbnRleHRJZCBpbnN0ZWFkIGFuZCBydW4gYHBucG0gZG9jcy5zeW5jYClcbi8qKlxuICogQ3JlYXRlIGEgY29udGV4dCBJRCB0byBiZSB1c2VkIGluIHlvdXIgYXBwbGljYXRpb24uIFRoZSBuYW1lIHNob3VsZCBiZSB3cml0dGVuIHdpdGggbm8gc3BhY2VzLlxuICpcbiAqIENvbnRleHQgaXMgYSB3YXkgdG8gcGFzcyBzdG9yZXMgdG8gdGhlIGNoaWxkIGNvbXBvbmVudHMgd2l0aG91dCBwcm9wLWRyaWxsaW5nLlxuICpcbiAqIFVzZSBgY3JlYXRlQ29udGV4dElkKClgIHRvIGNyZWF0ZSBhIGBDb250ZXh0SWRgLiBBIGBDb250ZXh0SWRgIGlzIGp1c3QgYSBzZXJpYWxpemFibGUgaWRlbnRpZmllclxuICogZm9yIHRoZSBjb250ZXh0LiBJdCBpcyBub3QgdGhlIGNvbnRleHQgdmFsdWUgaXRzZWxmLiBTZWUgYHVzZUNvbnRleHRQcm92aWRlcigpYCBhbmRcbiAqIGB1c2VDb250ZXh0KClgIGZvciB0aGUgdmFsdWVzLiBRd2lrIG5lZWRzIGEgc2VyaWFsaXphYmxlIElEIGZvciB0aGUgY29udGV4dCBzbyB0aGF0IHRoZSBpdCBjYW5cbiAqIHRyYWNrIGNvbnRleHQgcHJvdmlkZXJzIGFuZCBjb25zdW1lcnMgaW4gYSB3YXkgdGhhdCBzdXJ2aXZlcyByZXN1bWFiaWxpdHkuXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0c3hcbiAqIC8vIERlY2xhcmUgdGhlIENvbnRleHQgdHlwZS5cbiAqIGludGVyZmFjZSBUb2Rvc1N0b3JlIHtcbiAqICAgaXRlbXM6IHN0cmluZ1tdO1xuICogfVxuICogLy8gQ3JlYXRlIGEgQ29udGV4dCBJRCAobm8gZGF0YSBpcyBzYXZlZCBoZXJlLilcbiAqIC8vIFlvdSB3aWxsIHVzZSB0aGlzIElEIHRvIGJvdGggY3JlYXRlIGFuZCByZXRyaWV2ZSB0aGUgQ29udGV4dC5cbiAqIGV4cG9ydCBjb25zdCBUb2Rvc0NvbnRleHQgPSBjcmVhdGVDb250ZXh0SWQ8VG9kb3NTdG9yZT4oJ1RvZG9zJyk7XG4gKlxuICogLy8gRXhhbXBsZSBvZiBwcm92aWRpbmcgY29udGV4dCB0byBjaGlsZCBjb21wb25lbnRzLlxuICogZXhwb3J0IGNvbnN0IEFwcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VDb250ZXh0UHJvdmlkZXIoXG4gKiAgICAgVG9kb3NDb250ZXh0LFxuICogICAgIHVzZVN0b3JlPFRvZG9zU3RvcmU+KHtcbiAqICAgICAgIGl0ZW1zOiBbJ0xlYXJuIFF3aWsnLCAnQnVpbGQgUXdpayBhcHAnLCAnUHJvZml0J10sXG4gKiAgICAgfSlcbiAqICAgKTtcbiAqXG4gKiAgIHJldHVybiA8SXRlbXMgLz47XG4gKiB9KTtcbiAqXG4gKiAvLyBFeGFtcGxlIG9mIHJldHJpZXZpbmcgdGhlIGNvbnRleHQgcHJvdmlkZWQgYnkgYSBwYXJlbnQgY29tcG9uZW50LlxuICogZXhwb3J0IGNvbnN0IEl0ZW1zID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHRvZG9zID0gdXNlQ29udGV4dChUb2Rvc0NvbnRleHQpO1xuICogICByZXR1cm4gKFxuICogICAgIDx1bD5cbiAqICAgICAgIHt0b2Rvcy5pdGVtcy5tYXAoKGl0ZW0pID0+IChcbiAqICAgICAgICAgPGxpPntpdGVtfTwvbGk+XG4gKiAgICAgICApKX1cbiAqICAgICA8L3VsPlxuICogICApO1xuICogfSk7XG4gKlxuICogYGBgXG4gKlxuICogQHBhcmFtIG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgY29udGV4dC5cbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbnRleHRJZCA9IDxTVEFURSA9IHVua25vd24+KG5hbWU6IHN0cmluZyk6IENvbnRleHRJZDxTVEFURT4gPT4ge1xuICBhc3NlcnRUcnVlKC9eW1xcdy8uLV0rJC8udGVzdChuYW1lKSwgJ0NvbnRleHQgbmFtZSBtdXN0IG9ubHkgY29udGFpbiBBLVosYS16LDAtOSxfLC4sLScsIG5hbWUpO1xuICByZXR1cm4gLyojX19QVVJFX18qLyBPYmplY3QuZnJlZXplKHtcbiAgICBpZDogZnJvbUNhbWVsVG9LZWJhYkNhc2UobmFtZSksXG4gIH0gYXMgYW55KTtcbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZUNvbnRleHRQcm92aWRlclwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VDb250ZXh0UHJvdmlkZXIgaW5zdGVhZCBhbmQgcnVuIGBwbnBtIGRvY3Muc3luY2ApXG4vKipcbiAqIEFzc2lnbiBhIHZhbHVlIHRvIGEgQ29udGV4dC5cbiAqXG4gKiBVc2UgYHVzZUNvbnRleHRQcm92aWRlcigpYCB0byBhc3NpZ24gYSB2YWx1ZSB0byBhIGNvbnRleHQuIFRoZSBhc3NpZ25tZW50IGhhcHBlbnMgaW4gdGhlXG4gKiBjb21wb25lbnQncyBmdW5jdGlvbi4gT25jZSBhc3NpZ25lZCwgdXNlIGB1c2VDb250ZXh0KClgIGluIGFueSBjaGlsZCBjb21wb25lbnQgdG8gcmV0cmlldmUgdGhlXG4gKiB2YWx1ZS5cbiAqXG4gKiBDb250ZXh0IGlzIGEgd2F5IHRvIHBhc3Mgc3RvcmVzIHRvIHRoZSBjaGlsZCBjb21wb25lbnRzIHdpdGhvdXQgcHJvcC1kcmlsbGluZy4gTm90ZSB0aGF0IHNjYWxhclxuICogdmFsdWVzIGFyZSBhbGxvd2VkLCBidXQgZm9yIHJlYWN0aXZpdHkgeW91IG5lZWQgc2lnbmFscyBvciBzdG9yZXMuXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0c3hcbiAqIC8vIERlY2xhcmUgdGhlIENvbnRleHQgdHlwZS5cbiAqIGludGVyZmFjZSBUb2Rvc1N0b3JlIHtcbiAqICAgaXRlbXM6IHN0cmluZ1tdO1xuICogfVxuICogLy8gQ3JlYXRlIGEgQ29udGV4dCBJRCAobm8gZGF0YSBpcyBzYXZlZCBoZXJlLilcbiAqIC8vIFlvdSB3aWxsIHVzZSB0aGlzIElEIHRvIGJvdGggY3JlYXRlIGFuZCByZXRyaWV2ZSB0aGUgQ29udGV4dC5cbiAqIGV4cG9ydCBjb25zdCBUb2Rvc0NvbnRleHQgPSBjcmVhdGVDb250ZXh0SWQ8VG9kb3NTdG9yZT4oJ1RvZG9zJyk7XG4gKlxuICogLy8gRXhhbXBsZSBvZiBwcm92aWRpbmcgY29udGV4dCB0byBjaGlsZCBjb21wb25lbnRzLlxuICogZXhwb3J0IGNvbnN0IEFwcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VDb250ZXh0UHJvdmlkZXIoXG4gKiAgICAgVG9kb3NDb250ZXh0LFxuICogICAgIHVzZVN0b3JlPFRvZG9zU3RvcmU+KHtcbiAqICAgICAgIGl0ZW1zOiBbJ0xlYXJuIFF3aWsnLCAnQnVpbGQgUXdpayBhcHAnLCAnUHJvZml0J10sXG4gKiAgICAgfSlcbiAqICAgKTtcbiAqXG4gKiAgIHJldHVybiA8SXRlbXMgLz47XG4gKiB9KTtcbiAqXG4gKiAvLyBFeGFtcGxlIG9mIHJldHJpZXZpbmcgdGhlIGNvbnRleHQgcHJvdmlkZWQgYnkgYSBwYXJlbnQgY29tcG9uZW50LlxuICogZXhwb3J0IGNvbnN0IEl0ZW1zID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHRvZG9zID0gdXNlQ29udGV4dChUb2Rvc0NvbnRleHQpO1xuICogICByZXR1cm4gKFxuICogICAgIDx1bD5cbiAqICAgICAgIHt0b2Rvcy5pdGVtcy5tYXAoKGl0ZW0pID0+IChcbiAqICAgICAgICAgPGxpPntpdGVtfTwvbGk+XG4gKiAgICAgICApKX1cbiAqICAgICA8L3VsPlxuICogICApO1xuICogfSk7XG4gKlxuICogYGBgXG4gKlxuICogQHBhcmFtIGNvbnRleHQgLSBUaGUgY29udGV4dCB0byBhc3NpZ24gYSB2YWx1ZSB0by5cbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBhc3NpZ24gdG8gdGhlIGNvbnRleHQuXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VDb250ZXh0UHJvdmlkZXIgPSA8U1RBVEU+KGNvbnRleHQ6IENvbnRleHRJZDxTVEFURT4sIG5ld1ZhbHVlOiBTVEFURSkgPT4ge1xuICBjb25zdCB7IHZhbCwgc2V0LCBpQ3R4IH0gPSB1c2VTZXF1ZW50aWFsU2NvcGU8MT4oKTtcbiAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChxRGV2KSB7XG4gICAgdmFsaWRhdGVDb250ZXh0KGNvbnRleHQpO1xuICB9XG4gIGlmIChxRGV2ICYmIHFTZXJpYWxpemUpIHtcbiAgICB2ZXJpZnlTZXJpYWxpemFibGUobmV3VmFsdWUpO1xuICB9XG4gIGlDdHguJGNvbnRhaW5lciQuc2V0Q29udGV4dChpQ3R4LiRob3N0RWxlbWVudCQsIGNvbnRleHQsIG5ld1ZhbHVlKTtcbiAgc2V0KDEpO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBVc2VDb250ZXh0IHtcbiAgPFNUQVRFLCBUPihjb250ZXh0OiBDb250ZXh0SWQ8U1RBVEU+LCB0cmFuc2Zvcm1lcjogKHZhbHVlOiBTVEFURSkgPT4gVCk6IFQ7XG4gIDxTVEFURSwgVD4oY29udGV4dDogQ29udGV4dElkPFNUQVRFPiwgZGVmYXVsdFZhbHVlOiBUKTogU1RBVEUgfCBUO1xuICA8U1RBVEU+KGNvbnRleHQ6IENvbnRleHRJZDxTVEFURT4pOiBTVEFURTtcbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlQ29udGV4dFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VDb250ZXh0IGluc3RlYWQgYW5kIHJ1biBgcG5wbSBkb2NzLnN5bmNgKVxuLyoqXG4gKiBSZXRyaWV2ZSBDb250ZXh0IHZhbHVlLlxuICpcbiAqIFVzZSBgdXNlQ29udGV4dCgpYCB0byByZXRyaWV2ZSB0aGUgdmFsdWUgb2YgY29udGV4dCBpbiBhIGNvbXBvbmVudC4gVG8gcmV0cmlldmUgYSB2YWx1ZSBhIHBhcmVudFxuICogY29tcG9uZW50IG5lZWRzIHRvIGludm9rZSBgdXNlQ29udGV4dFByb3ZpZGVyKClgIHRvIGFzc2lnbiBhIHZhbHVlLlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHN4XG4gKiAvLyBEZWNsYXJlIHRoZSBDb250ZXh0IHR5cGUuXG4gKiBpbnRlcmZhY2UgVG9kb3NTdG9yZSB7XG4gKiAgIGl0ZW1zOiBzdHJpbmdbXTtcbiAqIH1cbiAqIC8vIENyZWF0ZSBhIENvbnRleHQgSUQgKG5vIGRhdGEgaXMgc2F2ZWQgaGVyZS4pXG4gKiAvLyBZb3Ugd2lsbCB1c2UgdGhpcyBJRCB0byBib3RoIGNyZWF0ZSBhbmQgcmV0cmlldmUgdGhlIENvbnRleHQuXG4gKiBleHBvcnQgY29uc3QgVG9kb3NDb250ZXh0ID0gY3JlYXRlQ29udGV4dElkPFRvZG9zU3RvcmU+KCdUb2RvcycpO1xuICpcbiAqIC8vIEV4YW1wbGUgb2YgcHJvdmlkaW5nIGNvbnRleHQgdG8gY2hpbGQgY29tcG9uZW50cy5cbiAqIGV4cG9ydCBjb25zdCBBcHAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlQ29udGV4dFByb3ZpZGVyKFxuICogICAgIFRvZG9zQ29udGV4dCxcbiAqICAgICB1c2VTdG9yZTxUb2Rvc1N0b3JlPih7XG4gKiAgICAgICBpdGVtczogWydMZWFybiBRd2lrJywgJ0J1aWxkIFF3aWsgYXBwJywgJ1Byb2ZpdCddLFxuICogICAgIH0pXG4gKiAgICk7XG4gKlxuICogICByZXR1cm4gPEl0ZW1zIC8+O1xuICogfSk7XG4gKlxuICogLy8gRXhhbXBsZSBvZiByZXRyaWV2aW5nIHRoZSBjb250ZXh0IHByb3ZpZGVkIGJ5IGEgcGFyZW50IGNvbXBvbmVudC5cbiAqIGV4cG9ydCBjb25zdCBJdGVtcyA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCB0b2RvcyA9IHVzZUNvbnRleHQoVG9kb3NDb250ZXh0KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8dWw+XG4gKiAgICAgICB7dG9kb3MuaXRlbXMubWFwKChpdGVtKSA9PiAoXG4gKiAgICAgICAgIDxsaT57aXRlbX08L2xpPlxuICogICAgICAgKSl9XG4gKiAgICAgPC91bD5cbiAqICAgKTtcbiAqIH0pO1xuICpcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIGNvbnRleHQgdG8gcmV0cmlldmUgYSB2YWx1ZSBmcm9tLlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlQ29udGV4dDogVXNlQ29udGV4dCA9IDxTVEFURT4oXG4gIGNvbnRleHQ6IENvbnRleHRJZDxTVEFURT4sXG4gIGRlZmF1bHRWYWx1ZT86IFNUQVRFIHwgKChjdXJyZW50OiBTVEFURSB8IHVuZGVmaW5lZCkgPT4gU1RBVEUpXG4pID0+IHtcbiAgY29uc3QgeyB2YWwsIHNldCwgaUN0eCB9ID0gdXNlU2VxdWVudGlhbFNjb3BlPFNUQVRFPigpO1xuICBpZiAodmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdmFsO1xuICB9XG4gIGlmIChxRGV2KSB7XG4gICAgdmFsaWRhdGVDb250ZXh0KGNvbnRleHQpO1xuICB9XG5cbiAgY29uc3QgdmFsdWU6IFNUQVRFIHwgdW5kZWZpbmVkID0gaUN0eC4kY29udGFpbmVyJC5yZXNvbHZlQ29udGV4dChpQ3R4LiRob3N0RWxlbWVudCQsIGNvbnRleHQpO1xuICBpZiAodHlwZW9mIGRlZmF1bHRWYWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBzZXQoaW52b2tlKHVuZGVmaW5lZCwgZGVmYXVsdFZhbHVlIGFzIGFueSwgdmFsdWUpKTtcbiAgfVxuICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBzZXQodmFsdWUpO1xuICB9XG4gIGlmIChkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBzZXQoZGVmYXVsdFZhbHVlKTtcbiAgfVxuICB0aHJvdyBxRXJyb3IoUUVycm9yLm5vdEZvdW5kQ29udGV4dCwgW2NvbnRleHQuaWRdKTtcbn07XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZUNvbnRleHQgPSAoY29udGV4dDogQ29udGV4dElkPGFueT4pID0+IHtcbiAgaWYgKCFpc09iamVjdChjb250ZXh0KSB8fCB0eXBlb2YgY29udGV4dC5pZCAhPT0gJ3N0cmluZycgfHwgY29udGV4dC5pZC5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBxRXJyb3IoUUVycm9yLmludmFsaWRDb250ZXh0LCBbY29udGV4dF0pO1xuICB9XG59O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgX3Jlc29sdmVDb250ZXh0V2l0aG91dFNlcXVlbnRpYWxTY29wZSA9IDxTVEFURT4oY29udGV4dDogQ29udGV4dElkPFNUQVRFPikgPT4ge1xuICBjb25zdCBpQ3R4ID0gZ2V0SW52b2tlQ29udGV4dCgpO1xuICBjb25zdCBob3N0RWxlbWVudCA9IGlDdHguJGhvc3RFbGVtZW50JDtcbiAgaWYgKCFob3N0RWxlbWVudCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIGlDdHguJGNvbnRhaW5lciQ/LnJlc29sdmVDb250ZXh0KGhvc3RFbGVtZW50LCBjb250ZXh0KTtcbn07XG4iXX0=","import { createContextId } from '../../use/use-context';\nexport const ERROR_CONTEXT = /*#__PURE__*/ createContextId('qk-error');\nexport const isRecoverable = (err) => {\n    if (err && err instanceof Error) {\n        if ('plugin' in err) {\n            return false;\n        }\n    }\n    return true;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3ItaGFuZGxpbmcuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL2Vycm9yL2Vycm9yLWhhbmRsaW5nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQU94RCxNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsYUFBYSxDQUFDLGVBQWUsQ0FBcUIsVUFBVSxDQUFDLENBQUM7QUFFM0YsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHLENBQUMsR0FBUSxFQUFFLEVBQUU7SUFDeEMsSUFBSSxHQUFHLElBQUksR0FBRyxZQUFZLEtBQUssRUFBRSxDQUFDO1FBQ2hDLElBQUksUUFBUSxJQUFJLEdBQUcsRUFBRSxDQUFDO1lBQ3BCLE9BQU8sS0FBSyxDQUFDO1FBQ2YsQ0FBQztJQUNILENBQUM7SUFDRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbnRleHRJZCB9IGZyb20gJy4uLy4uL3VzZS91c2UtY29udGV4dCc7XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yQm91bmRhcnlTdG9yZSB7XG4gIGVycm9yOiBhbnkgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBjb25zdCBFUlJPUl9DT05URVhUID0gLyojX19QVVJFX18qLyBjcmVhdGVDb250ZXh0SWQ8RXJyb3JCb3VuZGFyeVN0b3JlPigncWstZXJyb3InKTtcblxuZXhwb3J0IGNvbnN0IGlzUmVjb3ZlcmFibGUgPSAoZXJyOiBhbnkpID0+IHtcbiAgaWYgKGVyciAmJiBlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIGlmICgncGx1Z2luJyBpbiBlcnIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuIl19","/** @internal */\nexport class SubscriptionData {\n    data;\n    constructor(data) {\n        this.data = data;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3Vic2NyaXB0aW9uLWRhdGEuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVhY3RpdmUtcHJpbWl0aXZlcy9zdWJzY3JpcHRpb24tZGF0YS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFXQSxnQkFBZ0I7QUFDaEIsTUFBTSxPQUFPLGdCQUFnQjtJQUMzQixJQUFJLENBQWU7SUFFbkIsWUFBWSxJQUFrQjtRQUM1QixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNuQixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFNpZ25hbCB9IGZyb20gJy4vc2lnbmFsLnB1YmxpYyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm9kZVByb3BEYXRhIHtcbiAgJHNjb3BlZFN0eWxlSWRQcmVmaXgkOiBzdHJpbmcgfCBudWxsO1xuICAkaXNDb25zdCQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm9kZVByb3BQYXlsb2FkIGV4dGVuZHMgTm9kZVByb3BEYXRhIHtcbiAgJHZhbHVlJDogU2lnbmFsPHVua25vd24+O1xufVxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY2xhc3MgU3Vic2NyaXB0aW9uRGF0YSB7XG4gIGRhdGE6IE5vZGVQcm9wRGF0YTtcblxuICBjb25zdHJ1Y3RvcihkYXRhOiBOb2RlUHJvcERhdGEpIHtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICB9XG59XG4iXX0=","import { assertDefined } from '../shared/error/assert';\nimport { getInvokeContext } from './use-core';\nimport { _getQContainerElement, getDomContainer } from '../client/dom-container';\nimport { assertQrl } from '../shared/qrl/qrl-utils';\n// <docs markdown=\"../readme.md#useLexicalScope\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useLexicalScope instead and run `pnpm docs.sync`)\n/**\n * Used by the Qwik Optimizer to restore the lexically scoped variables.\n *\n * This method should not be present in the application source code.\n *\n * NOTE: `useLexicalScope` method can only be used in the synchronous portion of the callback\n * (before any `await` statements.)\n *\n * @internal\n */\n// </docs>\nexport const useLexicalScope = () => {\n    const context = getInvokeContext();\n    let qrl = context.$qrl$;\n    if (!qrl) {\n        const el = context.$element$;\n        assertDefined(el, 'invoke: element must be defined inside useLexicalScope()', context);\n        const containerElement = _getQContainerElement(el);\n        assertDefined(containerElement, `invoke: cant find parent q:container of`, el);\n        const container = getDomContainer(containerElement);\n        qrl = container.parseQRL(decodeURIComponent(String(context.$url$)));\n    }\n    else {\n        assertQrl(qrl);\n        assertDefined(qrl.$captureRef$, 'invoke: qrl $captureRef$ must be defined inside useLexicalScope()', qrl);\n    }\n    return qrl.$captureRef$;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWxleGljYWwtc2NvcGUucHVibGljLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtbGV4aWNhbC1zY29wZS5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUU5QyxPQUFPLEVBQUUscUJBQXFCLEVBQUUsZUFBZSxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDakYsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBRXBELGlEQUFpRDtBQUNqRCx5Q0FBeUM7QUFDekMsdUVBQXVFO0FBQ3ZFOzs7Ozs7Ozs7R0FTRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxlQUFlLEdBQUcsR0FBNkIsRUFBRTtJQUM1RCxNQUFNLE9BQU8sR0FBRyxnQkFBZ0IsRUFBRSxDQUFDO0lBQ25DLElBQUksR0FBRyxHQUFHLE9BQU8sQ0FBQyxLQUF5QyxDQUFDO0lBQzVELElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUNULE1BQU0sRUFBRSxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUM7UUFDN0IsYUFBYSxDQUFDLEVBQUUsRUFBRSwwREFBMEQsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2RixNQUFNLGdCQUFnQixHQUFHLHFCQUFxQixDQUFDLEVBQUUsQ0FBZ0IsQ0FBQztRQUNsRSxhQUFhLENBQUMsZ0JBQWdCLEVBQUUseUNBQXlDLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDL0UsTUFBTSxTQUFTLEdBQUcsZUFBZSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDcEQsR0FBRyxHQUFHLFNBQVMsQ0FBQyxRQUFRLENBQUMsa0JBQWtCLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUF5QixDQUFDO0lBQzlGLENBQUM7U0FBTSxDQUFDO1FBQ04sU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2YsYUFBYSxDQUNYLEdBQUcsQ0FBQyxZQUFZLEVBQ2hCLG1FQUFtRSxFQUNuRSxHQUFHLENBQ0osQ0FBQztJQUNKLENBQUM7SUFDRCxPQUFPLEdBQUksQ0FBQyxZQUFvQixDQUFDO0FBQ25DLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2VydERlZmluZWQgfSBmcm9tICcuLi9zaGFyZWQvZXJyb3IvYXNzZXJ0JztcbmltcG9ydCB7IGdldEludm9rZUNvbnRleHQgfSBmcm9tICcuL3VzZS1jb3JlJztcbmltcG9ydCB0eXBlIHsgUVJMSW50ZXJuYWwgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC1jbGFzcyc7XG5pbXBvcnQgeyBfZ2V0UUNvbnRhaW5lckVsZW1lbnQsIGdldERvbUNvbnRhaW5lciB9IGZyb20gJy4uL2NsaWVudC9kb20tY29udGFpbmVyJztcbmltcG9ydCB7IGFzc2VydFFybCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsLXV0aWxzJztcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlTGV4aWNhbFNjb3BlXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZUxleGljYWxTY29wZSBpbnN0ZWFkIGFuZCBydW4gYHBucG0gZG9jcy5zeW5jYClcbi8qKlxuICogVXNlZCBieSB0aGUgUXdpayBPcHRpbWl6ZXIgdG8gcmVzdG9yZSB0aGUgbGV4aWNhbGx5IHNjb3BlZCB2YXJpYWJsZXMuXG4gKlxuICogVGhpcyBtZXRob2Qgc2hvdWxkIG5vdCBiZSBwcmVzZW50IGluIHRoZSBhcHBsaWNhdGlvbiBzb3VyY2UgY29kZS5cbiAqXG4gKiBOT1RFOiBgdXNlTGV4aWNhbFNjb3BlYCBtZXRob2QgY2FuIG9ubHkgYmUgdXNlZCBpbiB0aGUgc3luY2hyb25vdXMgcG9ydGlvbiBvZiB0aGUgY2FsbGJhY2tcbiAqIChiZWZvcmUgYW55IGBhd2FpdGAgc3RhdGVtZW50cy4pXG4gKlxuICogQGludGVybmFsXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VMZXhpY2FsU2NvcGUgPSA8VkFSUyBleHRlbmRzIGFueVtdPigpOiBWQVJTID0+IHtcbiAgY29uc3QgY29udGV4dCA9IGdldEludm9rZUNvbnRleHQoKTtcbiAgbGV0IHFybCA9IGNvbnRleHQuJHFybCQgYXMgUVJMSW50ZXJuYWw8dW5rbm93bj4gfCB1bmRlZmluZWQ7XG4gIGlmICghcXJsKSB7XG4gICAgY29uc3QgZWwgPSBjb250ZXh0LiRlbGVtZW50JDtcbiAgICBhc3NlcnREZWZpbmVkKGVsLCAnaW52b2tlOiBlbGVtZW50IG11c3QgYmUgZGVmaW5lZCBpbnNpZGUgdXNlTGV4aWNhbFNjb3BlKCknLCBjb250ZXh0KTtcbiAgICBjb25zdCBjb250YWluZXJFbGVtZW50ID0gX2dldFFDb250YWluZXJFbGVtZW50KGVsKSBhcyBIVE1MRWxlbWVudDtcbiAgICBhc3NlcnREZWZpbmVkKGNvbnRhaW5lckVsZW1lbnQsIGBpbnZva2U6IGNhbnQgZmluZCBwYXJlbnQgcTpjb250YWluZXIgb2ZgLCBlbCk7XG4gICAgY29uc3QgY29udGFpbmVyID0gZ2V0RG9tQ29udGFpbmVyKGNvbnRhaW5lckVsZW1lbnQpO1xuICAgIHFybCA9IGNvbnRhaW5lci5wYXJzZVFSTChkZWNvZGVVUklDb21wb25lbnQoU3RyaW5nKGNvbnRleHQuJHVybCQpKSkgYXMgUVJMSW50ZXJuYWw8dW5rbm93bj47XG4gIH0gZWxzZSB7XG4gICAgYXNzZXJ0UXJsKHFybCk7XG4gICAgYXNzZXJ0RGVmaW5lZChcbiAgICAgIHFybC4kY2FwdHVyZVJlZiQsXG4gICAgICAnaW52b2tlOiBxcmwgJGNhcHR1cmVSZWYkIG11c3QgYmUgZGVmaW5lZCBpbnNpZGUgdXNlTGV4aWNhbFNjb3BlKCknLFxuICAgICAgcXJsXG4gICAgKTtcbiAgfVxuICByZXR1cm4gcXJsIS4kY2FwdHVyZVJlZiQgYXMgVkFSUztcbn07XG4iXX0=","import { useLexicalScope } from '../../use/use-lexical-scope.public';\n/**\n * Handles events for bind:value\n *\n * @internal\n */\nexport const _val = (_, element) => {\n    const [signal] = useLexicalScope();\n    signal.value = element.type === 'number' ? element.valueAsNumber : element.value;\n};\n/**\n * Handles events for bind:checked\n *\n * @internal\n */\nexport const _chk = (_, element) => {\n    const [signal] = useLexicalScope();\n    signal.value = element.checked;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmluZC1oYW5kbGVycy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvanN4L2JpbmQtaGFuZGxlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBRXJFOzs7O0dBSUc7QUFDSCxNQUFNLENBQUMsTUFBTSxJQUFJLEdBQUcsQ0FBQyxDQUFNLEVBQUUsT0FBeUIsRUFBRSxFQUFFO0lBQ3hELE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxlQUFlLEVBQVksQ0FBQztJQUM3QyxNQUFNLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxJQUFJLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDO0FBQ25GLENBQUMsQ0FBQztBQUVGOzs7O0dBSUc7QUFDSCxNQUFNLENBQUMsTUFBTSxJQUFJLEdBQUcsQ0FBQyxDQUFNLEVBQUUsT0FBeUIsRUFBRSxFQUFFO0lBQ3hELE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxlQUFlLEVBQVksQ0FBQztJQUM3QyxNQUFNLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUM7QUFDakMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBTaWduYWwgfSBmcm9tICcuLi8uLi9yZWFjdGl2ZS1wcmltaXRpdmVzL3NpZ25hbC5wdWJsaWMnO1xuaW1wb3J0IHsgdXNlTGV4aWNhbFNjb3BlIH0gZnJvbSAnLi4vLi4vdXNlL3VzZS1sZXhpY2FsLXNjb3BlLnB1YmxpYyc7XG5cbi8qKlxuICogSGFuZGxlcyBldmVudHMgZm9yIGJpbmQ6dmFsdWVcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IF92YWwgPSAoXzogYW55LCBlbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50KSA9PiB7XG4gIGNvbnN0IFtzaWduYWxdID0gdXNlTGV4aWNhbFNjb3BlPFtTaWduYWxdPigpO1xuICBzaWduYWwudmFsdWUgPSBlbGVtZW50LnR5cGUgPT09ICdudW1iZXInID8gZWxlbWVudC52YWx1ZUFzTnVtYmVyIDogZWxlbWVudC52YWx1ZTtcbn07XG5cbi8qKlxuICogSGFuZGxlcyBldmVudHMgZm9yIGJpbmQ6Y2hlY2tlZFxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgX2NoayA9IChfOiBhbnksIGVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQpID0+IHtcbiAgY29uc3QgW3NpZ25hbF0gPSB1c2VMZXhpY2FsU2NvcGU8W1NpZ25hbF0+KCk7XG4gIHNpZ25hbC52YWx1ZSA9IGVsZW1lbnQuY2hlY2tlZDtcbn07XG4iXX0=","import { createQRL } from '../qrl/qrl-class';\nimport { jsxEventToHtmlAttribute } from '../utils/event-names';\nimport { EMPTY_OBJ } from '../utils/flyweight';\nimport { logOnceWarn, logWarn } from '../utils/log';\nimport { qDev, seal } from '../utils/qdev';\nimport { isObject } from '../utils/types';\nimport { _chk, _val } from './bind-handlers';\nimport { createPropsProxy } from './props-proxy';\nconst BIND_VALUE = 'bind:value';\nconst BIND_CHECKED = 'bind:checked';\n// TODO store props as the arrays the vnodes also use?\nexport class JSXNodeImpl {\n    type;\n    toSort;\n    key;\n    varProps;\n    constProps;\n    children;\n    dev;\n    _proxy = null;\n    constructor(type, varProps, constProps, children, key, toSort, dev) {\n        this.type = type;\n        this.toSort = !!toSort;\n        this.key = key == null ? null : String(key);\n        this.varProps = !varProps || isEmpty(varProps) ? EMPTY_OBJ : varProps;\n        this.constProps = !constProps || isEmpty(constProps) ? null : constProps;\n        this.children = children;\n        if (qDev && dev) {\n            this.dev = {\n                ...dev,\n                stack: new Error().stack?.split('\\n').slice(2).join('\\n'),\n            };\n        }\n        if (typeof type === 'string') {\n            // convert onEvent$ to on:event\n            for (const k in this.constProps) {\n                const attr = jsxEventToHtmlAttribute(k);\n                if (attr) {\n                    mergeHandlers(this.constProps, attr, this.constProps[k]);\n                    delete this.constProps[k];\n                }\n            }\n            for (const k in this.varProps) {\n                const attr = jsxEventToHtmlAttribute(k);\n                if (attr) {\n                    // constProps always wins\n                    if (!constProps || !(k in constProps)) {\n                        toSort = mergeHandlers(this.varProps, attr, this.varProps[k]) || toSort;\n                    }\n                    delete this.varProps[k];\n                }\n            }\n            // bind:*\n            if (BIND_CHECKED in this.varProps) {\n                toSort = handleBindProp(this.varProps, BIND_CHECKED) || toSort;\n            }\n            else if (BIND_VALUE in this.varProps) {\n                toSort = handleBindProp(this.varProps, BIND_VALUE) || toSort;\n            }\n            else if (this.constProps) {\n                if (BIND_CHECKED in this.constProps) {\n                    handleBindProp(this.constProps, BIND_CHECKED);\n                }\n                else {\n                    if (BIND_VALUE in this.constProps) {\n                        handleBindProp(this.constProps, BIND_VALUE);\n                    }\n                }\n            }\n            // TODO let the optimizer do this instead\n            if ('className' in this.varProps) {\n                this.varProps.class = this.varProps.className;\n                this.varProps.className = undefined;\n                toSort = true;\n                if (qDev) {\n                    logOnceWarn(`jsx${dev ? ` ${dev.fileName}${dev?.lineNumber ? `:${dev.lineNumber}` : ''}` : ''}: \\`className\\` is deprecated. Use \\`class\\` instead.`);\n                }\n            }\n            if (this.constProps && 'className' in this.constProps) {\n                this.constProps.class = this.constProps.className;\n                this.constProps.className = undefined;\n                if (qDev) {\n                    logOnceWarn(`jsx${dev ? ` ${dev.fileName}${dev?.lineNumber ? `:${dev.lineNumber}` : ''}` : ''}: \\`className\\` is deprecated. Use \\`class\\` instead.`);\n                }\n            }\n        }\n        seal(this);\n    }\n    get props() {\n        // We use a proxy to merge the constProps if they exist and to evaluate derived signals\n        return (this._proxy ||= createPropsProxy(this));\n    }\n}\n/** @returns `true` if the event is new to the object */\nexport const mergeHandlers = (obj, event, handler) => {\n    let current = obj[event];\n    if (current) {\n        if (Array.isArray(current)) {\n            current.push(handler);\n        }\n        else {\n            current = obj[event] = [current, handler];\n        }\n    }\n    else {\n        obj[event] = handler;\n        return true;\n    }\n};\n/** @internal */\nexport const isJSXNode = (n) => {\n    if (qDev) {\n        if (n instanceof JSXNodeImpl) {\n            return true;\n        }\n        if (isObject(n) && 'key' in n && 'props' in n && 'type' in n) {\n            logWarn(`Duplicate implementations of \"JSXNode\" found`);\n            return true;\n        }\n        return false;\n    }\n    else {\n        return n instanceof JSXNodeImpl;\n    }\n};\nconst isEmpty = (obj) => {\n    for (const prop in obj) {\n        if (obj[prop] !== undefined) {\n            return false;\n        }\n    }\n    return true;\n};\nconst handleBindProp = (props, prop) => {\n    const value = props[prop];\n    props[prop] = undefined;\n    if (value) {\n        if (prop === BIND_CHECKED) {\n            props.checked = value;\n            props['on:input'] = createQRL(null, '_chk', _chk, null, null, [value]);\n        }\n        else {\n            props.value = value;\n            props['on:input'] = createQRL(null, '_val', _val, null, null, [value]);\n        }\n        return true;\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianN4LW5vZGUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL2pzeC9qc3gtbm9kZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFFN0MsT0FBTyxFQUFFLHVCQUF1QixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDL0QsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BELE9BQU8sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUMxQyxPQUFPLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRTdDLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUlqRCxNQUFNLFVBQVUsR0FBRyxZQUFZLENBQUM7QUFDaEMsTUFBTSxZQUFZLEdBQUcsY0FBYyxDQUFDO0FBRXBDLHNEQUFzRDtBQUN0RCxNQUFNLE9BQU8sV0FBVztJQUN0QixJQUFJLENBQUk7SUFDUixNQUFNLENBQVU7SUFDaEIsR0FBRyxDQUFnQjtJQUNuQixRQUFRLENBQVE7SUFDaEIsVUFBVSxDQUFlO0lBQ3pCLFFBQVEsQ0FBYztJQUN0QixHQUFHLENBQTBDO0lBQ3RDLE1BQU0sR0FBaUIsSUFBSSxDQUFDO0lBRW5DLFlBQ0UsSUFBTyxFQUNQLFFBQXVCLEVBQ3ZCLFVBQXlCLEVBQ3pCLFFBQXNCLEVBQ3RCLEdBQTRCLEVBQzVCLE1BQWdCLEVBQ2hCLEdBQVk7UUFFWixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxN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O0FBQ0gsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlUVJMIH0gZnJvbSAnLi4vcXJsL3FybC1jbGFzcyc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4uL3FybC9xcmwucHVibGljJztcbmltcG9ydCB7IGpzeEV2ZW50VG9IdG1sQXR0cmlidXRlIH0gZnJvbSAnLi4vdXRpbHMvZXZlbnQtbmFtZXMnO1xuaW1wb3J0IHsgRU1QVFlfT0JKIH0gZnJvbSAnLi4vdXRpbHMvZmx5d2VpZ2h0JztcbmltcG9ydCB7IGxvZ09uY2VXYXJuLCBsb2dXYXJuIH0gZnJvbSAnLi4vdXRpbHMvbG9nJztcbmltcG9ydCB7IHFEZXYsIHNlYWwgfSBmcm9tICcuLi91dGlscy9xZGV2JztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi4vdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHsgX2NoaywgX3ZhbCB9IGZyb20gJy4vYmluZC1oYW5kbGVycyc7XG5pbXBvcnQgeyB0eXBlIFByb3BzIH0gZnJvbSAnLi9qc3gtcnVudGltZSc7XG5pbXBvcnQgeyBjcmVhdGVQcm9wc1Byb3h5IH0gZnJvbSAnLi9wcm9wcy1wcm94eSc7XG5pbXBvcnQgdHlwZSB7IERldkpTWCwgRnVuY3Rpb25Db21wb25lbnQsIEpTWE5vZGVJbnRlcm5hbCB9IGZyb20gJy4vdHlwZXMvanN4LW5vZGUnO1xuaW1wb3J0IHR5cGUgeyBKU1hDaGlsZHJlbiB9IGZyb20gJy4vdHlwZXMvanN4LXF3aWstYXR0cmlidXRlcyc7XG5cbmNvbnN0IEJJTkRfVkFMVUUgPSAnYmluZDp2YWx1ZSc7XG5jb25zdCBCSU5EX0NIRUNLRUQgPSAnYmluZDpjaGVja2VkJztcblxuLy8gVE9ETyBzdG9yZSBwcm9wcyBhcyB0aGUgYXJyYXlzIHRoZSB2bm9kZXMgYWxzbyB1c2U/XG5leHBvcnQgY2xhc3MgSlNYTm9kZUltcGw8VCA9IHVua25vd24+IGltcGxlbWVudHMgSlNYTm9kZUludGVybmFsPFQ+IHtcbiAgdHlwZTogVDtcbiAgdG9Tb3J0OiBib29sZWFuO1xuICBrZXk6IHN0cmluZyB8IG51bGw7XG4gIHZhclByb3BzOiBQcm9wcztcbiAgY29uc3RQcm9wczogUHJvcHMgfCBudWxsO1xuICBjaGlsZHJlbjogSlNYQ2hpbGRyZW47XG4gIGRldj86IERldkpTWCAmIHsgc3RhY2s6IHN0cmluZyB8IHVuZGVmaW5lZCB9O1xuICBwdWJsaWMgX3Byb3h5OiBQcm9wcyB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHR5cGU6IFQsXG4gICAgdmFyUHJvcHM/OiBQcm9wcyB8IG51bGwsXG4gICAgY29uc3RQcm9wcz86IFByb3BzIHwgbnVsbCxcbiAgICBjaGlsZHJlbj86IEpTWENoaWxkcmVuLFxuICAgIGtleT86IHN0cmluZyB8IG51bWJlciB8IG51bGwsXG4gICAgdG9Tb3J0PzogYm9vbGVhbixcbiAgICBkZXY/OiBEZXZKU1hcbiAgKSB7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLnRvU29ydCA9ICEhdG9Tb3J0O1xuICAgIHRoaXMua2V5ID0ga2V5ID09IG51bGwgPyBudWxsIDogU3RyaW5nKGtleSk7XG4gICAgdGhpcy52YXJQcm9wcyA9ICF2YXJQcm9wcyB8fCBpc0VtcHR5KHZhclByb3BzKSA/IEVNUFRZX09CSiA6IHZhclByb3BzO1xuICAgIHRoaXMuY29uc3RQcm9wcyA9ICFjb25zdFByb3BzIHx8IGlzRW1wdHkoY29uc3RQcm9wcykgPyBudWxsIDogY29uc3RQcm9wcztcbiAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgaWYgKHFEZXYgJiYgZGV2KSB7XG4gICAgICB0aGlzLmRldiA9IHtcbiAgICAgICAgLi4uZGV2LFxuICAgICAgICBzdGFjazogbmV3IEVycm9yKCkuc3RhY2s/LnNwbGl0KCdcXG4nKS5zbGljZSgyKS5qb2luKCdcXG4nKSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gY29udmVydCBvbkV2ZW50JCB0byBvbjpldmVudFxuICAgICAgZm9yIChjb25zdCBrIGluIHRoaXMuY29uc3RQcm9wcykge1xuICAgICAgICBjb25zdCBhdHRyID0ganN4RXZlbnRUb0h0bWxBdHRyaWJ1dGUoayk7XG4gICAgICAgIGlmIChhdHRyKSB7XG4gICAgICAgICAgbWVyZ2VIYW5kbGVycyh0aGlzLmNvbnN0UHJvcHMsIGF0dHIsIHRoaXMuY29uc3RQcm9wc1trXSBhcyBRUkwpO1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLmNvbnN0UHJvcHNba107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3QgayBpbiB0aGlzLnZhclByb3BzKSB7XG4gICAgICAgIGNvbnN0IGF0dHIgPSBqc3hFdmVudFRvSHRtbEF0dHJpYnV0ZShrKTtcbiAgICAgICAgaWYgKGF0dHIpIHtcbiAgICAgICAgICAvLyBjb25zdFByb3BzIGFsd2F5cyB3aW5zXG4gICAgICAgICAgaWYgKCFjb25zdFByb3BzIHx8ICEoayBpbiBjb25zdFByb3BzKSkge1xuICAgICAgICAgICAgdG9Tb3J0ID0gbWVyZ2VIYW5kbGVycyh0aGlzLnZhclByb3BzLCBhdHRyLCB0aGlzLnZhclByb3BzW2tdIGFzIFFSTCkgfHwgdG9Tb3J0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWxldGUgdGhpcy52YXJQcm9wc1trXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBiaW5kOipcbiAgICAgIGlmIChCSU5EX0NIRUNLRUQgaW4gdGhpcy52YXJQcm9wcykge1xuICAgICAgICB0b1NvcnQgPSBoYW5kbGVCaW5kUHJvcCh0aGlzLnZhclByb3BzLCBCSU5EX0NIRUNLRUQpISB8fCB0b1NvcnQ7XG4gICAgICB9IGVsc2UgaWYgKEJJTkRfVkFMVUUgaW4gdGhpcy52YXJQcm9wcykge1xuICAgICAgICB0b1NvcnQgPSBoYW5kbGVCaW5kUHJvcCh0aGlzLnZhclByb3BzLCBCSU5EX1ZBTFVFKSEgfHwgdG9Tb3J0O1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmNvbnN0UHJvcHMpIHtcbiAgICAgICAgaWYgKEJJTkRfQ0hFQ0tFRCBpbiB0aGlzLmNvbnN0UHJvcHMpIHtcbiAgICAgICAgICBoYW5kbGVCaW5kUHJvcCh0aGlzLmNvbnN0UHJvcHMsIEJJTkRfQ0hFQ0tFRCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKEJJTkRfVkFMVUUgaW4gdGhpcy5jb25zdFByb3BzKSB7XG4gICAgICAgICAgICBoYW5kbGVCaW5kUHJvcCh0aGlzLmNvbnN0UHJvcHMsIEJJTkRfVkFMVUUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUT0RPIGxldCB0aGUgb3B0aW1pemVyIGRvIHRoaXMgaW5zdGVhZFxuICAgICAgaWYgKCdjbGFzc05hbWUnIGluIHRoaXMudmFyUHJvcHMpIHtcbiAgICAgICAgdGhpcy52YXJQcm9wcy5jbGFzcyA9IHRoaXMudmFyUHJvcHMuY2xhc3NOYW1lO1xuICAgICAgICB0aGlzLnZhclByb3BzLmNsYXNzTmFtZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdG9Tb3J0ID0gdHJ1ZTtcbiAgICAgICAgaWYgKHFEZXYpIHtcbiAgICAgICAgICBsb2dPbmNlV2FybihcbiAgICAgICAgICAgIGBqc3gke2RldiA/IGAgJHtkZXYuZmlsZU5hbWV9JHtkZXY/LmxpbmVOdW1iZXIgPyBgOiR7ZGV2LmxpbmVOdW1iZXJ9YCA6ICcnfWAgOiAnJ306IFxcYGNsYXNzTmFtZVxcYCBpcyBkZXByZWNhdGVkLiBVc2UgXFxgY2xhc3NcXGAgaW5zdGVhZC5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuY29uc3RQcm9wcyAmJiAnY2xhc3NOYW1lJyBpbiB0aGlzLmNvbnN0UHJvcHMpIHtcbiAgICAgICAgdGhpcy5jb25zdFByb3BzLmNsYXNzID0gdGhpcy5jb25zdFByb3BzLmNsYXNzTmFtZTtcbiAgICAgICAgdGhpcy5jb25zdFByb3BzLmNsYXNzTmFtZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHFEZXYpIHtcbiAgICAgICAgICBsb2dPbmNlV2FybihcbiAgICAgICAgICAgIGBqc3gke2RldiA/IGAgJHtkZXYuZmlsZU5hbWV9JHtkZXY/LmxpbmVOdW1iZXIgPyBgOiR7ZGV2LmxpbmVOdW1iZXJ9YCA6ICcnfWAgOiAnJ306IFxcYGNsYXNzTmFtZVxcYCBpcyBkZXByZWNhdGVkLiBVc2UgXFxgY2xhc3NcXGAgaW5zdGVhZC5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBzZWFsKHRoaXMpO1xuICB9XG5cbiAgZ2V0IHByb3BzKCk6IFQgZXh0ZW5kcyBGdW5jdGlvbkNvbXBvbmVudDxpbmZlciBQUk9QUz4gPyBQUk9QUyA6IFByb3BzIHtcbiAgICAvLyBXZSB1c2UgYSBwcm94eSB0byBtZXJnZSB0aGUgY29uc3RQcm9wcyBpZiB0aGV5IGV4aXN0IGFuZCB0byBldmFsdWF0ZSBkZXJpdmVkIHNpZ25hbHNcbiAgICByZXR1cm4gKHRoaXMuX3Byb3h5IHx8PSBjcmVhdGVQcm9wc1Byb3h5KHRoaXMpKSBhcyBhbnk7XG4gIH1cbn1cblxuLyoqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgZXZlbnQgaXMgbmV3IHRvIHRoZSBvYmplY3QgKi9cbmV4cG9ydCBjb25zdCBtZXJnZUhhbmRsZXJzID0gKG9iajogUHJvcHMsIGV2ZW50OiBzdHJpbmcsIGhhbmRsZXI6IFFSTCkgPT4ge1xuICBsZXQgY3VycmVudCA9IG9ialtldmVudF07XG4gIGlmIChjdXJyZW50KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY3VycmVudCkpIHtcbiAgICAgIGN1cnJlbnQucHVzaChoYW5kbGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudCA9IG9ialtldmVudF0gPSBbY3VycmVudCwgaGFuZGxlcl07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG9ialtldmVudF0gPSBoYW5kbGVyO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgaXNKU1hOb2RlID0gPFQ+KG46IHVua25vd24pOiBuIGlzIEpTWE5vZGVJbnRlcm5hbDxUPiA9PiB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKG4gaW5zdGFuY2VvZiBKU1hOb2RlSW1wbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChpc09iamVjdChuKSAmJiAna2V5JyBpbiBuICYmICdwcm9wcycgaW4gbiAmJiAndHlwZScgaW4gbikge1xuICAgICAgbG9nV2FybihgRHVwbGljYXRlIGltcGxlbWVudGF0aW9ucyBvZiBcIkpTWE5vZGVcIiBmb3VuZGApO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbiBpbnN0YW5jZW9mIEpTWE5vZGVJbXBsO1xuICB9XG59O1xuXG5jb25zdCBpc0VtcHR5ID0gKG9iajogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pID0+IHtcbiAgZm9yIChjb25zdCBwcm9wIGluIG9iaikge1xuICAgIGlmIChvYmpbcHJvcF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmNvbnN0IGhhbmRsZUJpbmRQcm9wID0gKHByb3BzOiBQcm9wcywgcHJvcDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHZhbHVlID0gcHJvcHNbcHJvcF07XG4gIHByb3BzW3Byb3BdID0gdW5kZWZpbmVkO1xuICBpZiAodmFsdWUpIHtcbiAgICBpZiAocHJvcCA9PT0gQklORF9DSEVDS0VEKSB7XG4gICAgICBwcm9wcy5jaGVja2VkID0gdmFsdWU7XG4gICAgICBwcm9wc1snb246aW5wdXQnXSA9IGNyZWF0ZVFSTChudWxsLCAnX2NoaycsIF9jaGssIG51bGwsIG51bGwsIFt2YWx1ZV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9wcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgcHJvcHNbJ29uOmlucHV0J10gPSBjcmVhdGVRUkwobnVsbCwgJ192YWwnLCBfdmFsLCBudWxsLCBudWxsLCBbdmFsdWVdKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG4iXX0=","import { untrack } from '../../use/use-core';\nimport { JSXNodeImpl } from './jsx-node';\nimport { jsx } from './jsx-runtime';\n/**\n * Create a JSXNode with the properties fully split into variable and constant parts, and children\n * separated out. Furthermore, the varProps must be a sorted object, that is, the keys must be\n * sorted in ascending utf-8 value order.\n *\n * The constant parts are expected to be the same on every render, and are not checked for changes.\n * This means that they are constant scalars or refs. When the ref is a signal or a store, it can\n * still update the attribute on the vnode.\n *\n * @param type - The JSX type\n * @param varProps - The properties of the tag, sorted, excluding children, key and any constProps\n * @param constProps - The properties of the tag that are known to be constant references and don't\n *   need checking for changes on re-render\n * @param children - JSX children. Any `children` in the props objects are ignored.\n * @internal\n */\nexport const _jsxSorted = (type, varProps, constProps, children, flags, key, dev) => {\n    return untrack(() => new JSXNodeImpl(type, varProps, constProps, children, key, false, dev));\n};\n/**\n * Create a JSXNode, with the properties split into variable and constant parts, but the variable\n * parts could include keys from `constProps`, as well as `key` and `children`.\n *\n * `constProps` cannot include `key` or `children`. The constant parts are expected to be the same\n * on every render, and are not checked for changes. This means that they are constant scalars or\n * refs. When the ref is a signal or a store, it can still update the attribute on the vnode.\n *\n * If `children` or `key` are defined, any `children`/`key` in the props will be ignored.\n *\n * @param type - The tag type\n * @param varProps - The properties of the tag that could change, including children\n * @param constProps - The properties of the tag that are known to be static and don't need checking\n *   for changes on re-render\n * @internal\n */\nexport const _jsxSplit = (type, varProps, constProps, children, flags, key, dev) => {\n    return untrack(() => {\n        if (varProps) {\n            for (const k in varProps) {\n                if (k === 'children') {\n                    children ||= varProps.children;\n                    varProps.children = undefined;\n                }\n                else if (k === 'key') {\n                    key ||= varProps.key;\n                    varProps.key = undefined;\n                }\n                else if (constProps && k in constProps) {\n                    varProps[k] = undefined;\n                }\n            }\n        }\n        return new JSXNodeImpl(type, varProps, constProps, children, key, true, dev);\n    });\n};\n/** @internal @deprecated v1 compat */\nexport const _jsxC = (type, mutable, _flags, key) => jsx(type, mutable, key);\n/** @internal @deprecated v1 compat */\nexport const _jsxS = (type, mutable, immutable, _flags, key) => jsx(type, { ...immutable, ...mutable }, key);\n/** @internal @deprecated v1 compat */\nexport const _jsxQ = (type, mutable, immutable, children, _flags, key) => jsx(type, { ...immutable, ...mutable, children }, key); /** @private */\nexport const Virtual = (props) => props.children;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianN4LWludGVybmFsLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC9qc3gvanN4LWludGVybmFsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUk3QyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ3pDLE9BQU8sRUFBYyxHQUFHLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFJaEQ7Ozs7Ozs7Ozs7Ozs7OztHQWVHO0FBRUgsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQ3hCLElBQU8sRUFDUCxRQUFzQixFQUN0QixVQUF3QixFQUN4QixRQUE0QixFQUM1QixLQUFhLEVBQ2IsR0FBdUMsRUFDdkMsR0FBWSxFQUNRLEVBQUU7SUFDdEIsT0FBTyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxXQUFXLENBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUMvRixDQUFDLENBQUM7QUFDRjs7Ozs7Ozs7Ozs7Ozs7O0dBZUc7QUFFSCxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FDdkIsSUFBTyxFQUNQLFFBQXNCLEVBQ3RCLFVBQXdCLEVBQ3hCLFFBQXdDLEVBQ3hDLEtBQWEsRUFDYixHQUE0QixFQUM1QixHQUFZLEVBQ1EsRUFBRTtJQUN0QixPQUFPLE9BQU8sQ0FBQyxHQUFHLEVBQUU7UUFDbEIsSUFBSSxRQUFRLEVBQUUsQ0FBQztZQUNiLEtBQUssTUFBTSxDQUFDLElBQUksUUFBUSxFQUFFLENBQUM7Z0JBQ3pCLElBQUksQ0FBQyxLQUFLLFVBQVUsRUFBRSxDQUFDO29CQUNyQixRQUFRLEtBQUssUUFBUSxDQUFDLFFBQXVCLENBQUM7b0JBQzlDLFFBQVEsQ0FBQyxRQUFRLEdBQUcsU0FBUyxDQUFDO2dCQUNoQyxDQUFDO3FCQUFNLElBQUksQ0FBQyxLQUFLLEtBQUssRUFBRSxDQUFDO29CQUN2QixHQUFHLEtBQUssUUFBUSxDQUFDLEdBQWEsQ0FBQztvQkFDL0IsUUFBUSxDQUFDLEdBQUcsR0FBRyxTQUFTLENBQUM7Z0JBQzNCLENBQUM7cUJBQU0sSUFBSSxVQUFVLElBQUksQ0FBQyxJQUFJLFVBQVUsRUFBRSxDQUFDO29CQUN6QyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDO2dCQUMxQixDQUFDO1lBQ0gsQ0FBQztRQUNILENBQUM7UUFDRCxPQUFPLElBQUksV0FBVyxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQy9FLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBQ0Ysc0NBQXNDO0FBRXRDLE1BQU0sQ0FBQyxNQUFNLEtBQUssR0FBRyxDQUFDLElBQVMsRUFBRSxPQUFZLEVBQUUsTUFBVyxFQUFFLEdBQVEsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDakcsc0NBQXNDO0FBQ3RDLE1BQU0sQ0FBQyxNQUFNLEtBQUssR0FBRyxDQUFDLElBQVMsRUFBRSxPQUFZLEVBQUUsU0FBYyxFQUFFLE1BQVcsRUFBRSxHQUFRLEVBQUUsRUFBRSxDQUN0RixHQUFHLENBQUMsSUFBSSxFQUFFLEVBQUUsR0FBRyxTQUFTLEVBQUUsR0FBRyxPQUFPLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUMvQyxzQ0FBc0M7QUFDdEMsTUFBTSxDQUFDLE1BQU0sS0FBSyxHQUFHLENBQ25CLElBQVMsRUFDVCxPQUFZLEVBQ1osU0FBYyxFQUNkLFFBQWEsRUFDYixNQUFXLEVBQ1gsR0FBUSxFQUNSLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLEVBQUUsR0FBRyxTQUFTLEVBQUUsR0FBRyxPQUFPLEVBQUUsUUFBUSxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxlQUFlO0FBRTVFLE1BQU0sQ0FBQyxNQUFNLE9BQU8sR0FTZixDQUFDLEtBQVUsRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVudHJhY2sgfSBmcm9tICcuLi8uLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHR5cGUgeyBPblJlbmRlckZuIH0gZnJvbSAnLi4vY29tcG9uZW50LnB1YmxpYyc7XG5pbXBvcnQgdHlwZSB7IFFSTEludGVybmFsIH0gZnJvbSAnLi4vcXJsL3FybC1jbGFzcyc7XG5pbXBvcnQgdHlwZSB7IE9uUmVuZGVyUHJvcCwgUVNsb3QsIFFTbG90UywgUVNjb3BlZFN0eWxlLCBFTEVNRU5UX0lEIH0gZnJvbSAnLi4vdXRpbHMvbWFya2Vycyc7XG5pbXBvcnQgeyBKU1hOb2RlSW1wbCB9IGZyb20gJy4vanN4LW5vZGUnO1xuaW1wb3J0IHsgdHlwZSBQcm9wcywganN4IH0gZnJvbSAnLi9qc3gtcnVudGltZSc7XG5pbXBvcnQgdHlwZSB7IERldkpTWCwgSlNYTm9kZUludGVybmFsLCBGdW5jdGlvbkNvbXBvbmVudCB9IGZyb20gJy4vdHlwZXMvanN4LW5vZGUnO1xuaW1wb3J0IHR5cGUgeyBKU1hDaGlsZHJlbiB9IGZyb20gJy4vdHlwZXMvanN4LXF3aWstYXR0cmlidXRlcyc7XG5cbi8qKlxuICogQ3JlYXRlIGEgSlNYTm9kZSB3aXRoIHRoZSBwcm9wZXJ0aWVzIGZ1bGx5IHNwbGl0IGludG8gdmFyaWFibGUgYW5kIGNvbnN0YW50IHBhcnRzLCBhbmQgY2hpbGRyZW5cbiAqIHNlcGFyYXRlZCBvdXQuIEZ1cnRoZXJtb3JlLCB0aGUgdmFyUHJvcHMgbXVzdCBiZSBhIHNvcnRlZCBvYmplY3QsIHRoYXQgaXMsIHRoZSBrZXlzIG11c3QgYmVcbiAqIHNvcnRlZCBpbiBhc2NlbmRpbmcgdXRmLTggdmFsdWUgb3JkZXIuXG4gKlxuICogVGhlIGNvbnN0YW50IHBhcnRzIGFyZSBleHBlY3RlZCB0byBiZSB0aGUgc2FtZSBvbiBldmVyeSByZW5kZXIsIGFuZCBhcmUgbm90IGNoZWNrZWQgZm9yIGNoYW5nZXMuXG4gKiBUaGlzIG1lYW5zIHRoYXQgdGhleSBhcmUgY29uc3RhbnQgc2NhbGFycyBvciByZWZzLiBXaGVuIHRoZSByZWYgaXMgYSBzaWduYWwgb3IgYSBzdG9yZSwgaXQgY2FuXG4gKiBzdGlsbCB1cGRhdGUgdGhlIGF0dHJpYnV0ZSBvbiB0aGUgdm5vZGUuXG4gKlxuICogQHBhcmFtIHR5cGUgLSBUaGUgSlNYIHR5cGVcbiAqIEBwYXJhbSB2YXJQcm9wcyAtIFRoZSBwcm9wZXJ0aWVzIG9mIHRoZSB0YWcsIHNvcnRlZCwgZXhjbHVkaW5nIGNoaWxkcmVuLCBrZXkgYW5kIGFueSBjb25zdFByb3BzXG4gKiBAcGFyYW0gY29uc3RQcm9wcyAtIFRoZSBwcm9wZXJ0aWVzIG9mIHRoZSB0YWcgdGhhdCBhcmUga25vd24gdG8gYmUgY29uc3RhbnQgcmVmZXJlbmNlcyBhbmQgZG9uJ3RcbiAqICAgbmVlZCBjaGVja2luZyBmb3IgY2hhbmdlcyBvbiByZS1yZW5kZXJcbiAqIEBwYXJhbSBjaGlsZHJlbiAtIEpTWCBjaGlsZHJlbi4gQW55IGBjaGlsZHJlbmAgaW4gdGhlIHByb3BzIG9iamVjdHMgYXJlIGlnbm9yZWQuXG4gKiBAaW50ZXJuYWxcbiAqL1xuXG5leHBvcnQgY29uc3QgX2pzeFNvcnRlZCA9IDxUPihcbiAgdHlwZTogVCxcbiAgdmFyUHJvcHM6IFByb3BzIHwgbnVsbCxcbiAgY29uc3RQcm9wczogUHJvcHMgfCBudWxsLFxuICBjaGlsZHJlbjogSlNYQ2hpbGRyZW4gfCBudWxsLFxuICBmbGFnczogbnVtYmVyLFxuICBrZXk6IHN0cmluZyB8IG51bWJlciB8IG51bGwgfCB1bmRlZmluZWQsXG4gIGRldj86IERldkpTWFxuKTogSlNYTm9kZUludGVybmFsPFQ+ID0+IHtcbiAgcmV0dXJuIHVudHJhY2soKCkgPT4gbmV3IEpTWE5vZGVJbXBsKHR5cGUsIHZhclByb3BzLCBjb25zdFByb3BzLCBjaGlsZHJlbiwga2V5LCBmYWxzZSwgZGV2KSk7XG59O1xuLyoqXG4gKiBDcmVhdGUgYSBKU1hOb2RlLCB3aXRoIHRoZSBwcm9wZXJ0aWVzIHNwbGl0IGludG8gdmFyaWFibGUgYW5kIGNvbnN0YW50IHBhcnRzLCBidXQgdGhlIHZhcmlhYmxlXG4gKiBwYXJ0cyBjb3VsZCBpbmNsdWRlIGtleXMgZnJvbSBgY29uc3RQcm9wc2AsIGFzIHdlbGwgYXMgYGtleWAgYW5kIGBjaGlsZHJlbmAuXG4gKlxuICogYGNvbnN0UHJvcHNgIGNhbm5vdCBpbmNsdWRlIGBrZXlgIG9yIGBjaGlsZHJlbmAuIFRoZSBjb25zdGFudCBwYXJ0cyBhcmUgZXhwZWN0ZWQgdG8gYmUgdGhlIHNhbWVcbiAqIG9uIGV2ZXJ5IHJlbmRlciwgYW5kIGFyZSBub3QgY2hlY2tlZCBmb3IgY2hhbmdlcy4gVGhpcyBtZWFucyB0aGF0IHRoZXkgYXJlIGNvbnN0YW50IHNjYWxhcnMgb3JcbiAqIHJlZnMuIFdoZW4gdGhlIHJlZiBpcyBhIHNpZ25hbCBvciBhIHN0b3JlLCBpdCBjYW4gc3RpbGwgdXBkYXRlIHRoZSBhdHRyaWJ1dGUgb24gdGhlIHZub2RlLlxuICpcbiAqIElmIGBjaGlsZHJlbmAgb3IgYGtleWAgYXJlIGRlZmluZWQsIGFueSBgY2hpbGRyZW5gL2BrZXlgIGluIHRoZSBwcm9wcyB3aWxsIGJlIGlnbm9yZWQuXG4gKlxuICogQHBhcmFtIHR5cGUgLSBUaGUgdGFnIHR5cGVcbiAqIEBwYXJhbSB2YXJQcm9wcyAtIFRoZSBwcm9wZXJ0aWVzIG9mIHRoZSB0YWcgdGhhdCBjb3VsZCBjaGFuZ2UsIGluY2x1ZGluZyBjaGlsZHJlblxuICogQHBhcmFtIGNvbnN0UHJvcHMgLSBUaGUgcHJvcGVydGllcyBvZiB0aGUgdGFnIHRoYXQgYXJlIGtub3duIHRvIGJlIHN0YXRpYyBhbmQgZG9uJ3QgbmVlZCBjaGVja2luZ1xuICogICBmb3IgY2hhbmdlcyBvbiByZS1yZW5kZXJcbiAqIEBpbnRlcm5hbFxuICovXG5cbmV4cG9ydCBjb25zdCBfanN4U3BsaXQgPSA8VCBleHRlbmRzIHN0cmluZyB8IEZ1bmN0aW9uQ29tcG9uZW50PGFueT4+KFxuICB0eXBlOiBULFxuICB2YXJQcm9wczogUHJvcHMgfCBudWxsLFxuICBjb25zdFByb3BzOiBQcm9wcyB8IG51bGwsXG4gIGNoaWxkcmVuOiBKU1hDaGlsZHJlbiB8IG51bGwgfCB1bmRlZmluZWQsXG4gIGZsYWdzOiBudW1iZXIsXG4gIGtleT86IHN0cmluZyB8IG51bWJlciB8IG51bGwsXG4gIGRldj86IERldkpTWFxuKTogSlNYTm9kZUludGVybmFsPFQ+ID0+IHtcbiAgcmV0dXJuIHVudHJhY2soKCkgPT4ge1xuICAgIGlmICh2YXJQcm9wcykge1xuICAgICAgZm9yIChjb25zdCBrIGluIHZhclByb3BzKSB7XG4gICAgICAgIGlmIChrID09PSAnY2hpbGRyZW4nKSB7XG4gICAgICAgICAgY2hpbGRyZW4gfHw9IHZhclByb3BzLmNoaWxkcmVuIGFzIEpTWENoaWxkcmVuO1xuICAgICAgICAgIHZhclByb3BzLmNoaWxkcmVuID0gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2UgaWYgKGsgPT09ICdrZXknKSB7XG4gICAgICAgICAga2V5IHx8PSB2YXJQcm9wcy5rZXkgYXMgc3RyaW5nO1xuICAgICAgICAgIHZhclByb3BzLmtleSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIGlmIChjb25zdFByb3BzICYmIGsgaW4gY29uc3RQcm9wcykge1xuICAgICAgICAgIHZhclByb3BzW2tdID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgSlNYTm9kZUltcGwodHlwZSwgdmFyUHJvcHMsIGNvbnN0UHJvcHMsIGNoaWxkcmVuLCBrZXksIHRydWUsIGRldik7XG4gIH0pO1xufTtcbi8qKiBAaW50ZXJuYWwgQGRlcHJlY2F0ZWQgdjEgY29tcGF0ICovXG5cbmV4cG9ydCBjb25zdCBfanN4QyA9ICh0eXBlOiBhbnksIG11dGFibGU6IGFueSwgX2ZsYWdzOiBhbnksIGtleTogYW55KSA9PiBqc3godHlwZSwgbXV0YWJsZSwga2V5KTtcbi8qKiBAaW50ZXJuYWwgQGRlcHJlY2F0ZWQgdjEgY29tcGF0ICovXG5leHBvcnQgY29uc3QgX2pzeFMgPSAodHlwZTogYW55LCBtdXRhYmxlOiBhbnksIGltbXV0YWJsZTogYW55LCBfZmxhZ3M6IGFueSwga2V5OiBhbnkpID0+XG4gIGpzeCh0eXBlLCB7IC4uLmltbXV0YWJsZSwgLi4ubXV0YWJsZSB9LCBrZXkpO1xuLyoqIEBpbnRlcm5hbCBAZGVwcmVjYXRlZCB2MSBjb21wYXQgKi9cbmV4cG9ydCBjb25zdCBfanN4USA9IChcbiAgdHlwZTogYW55LFxuICBtdXRhYmxlOiBhbnksXG4gIGltbXV0YWJsZTogYW55LFxuICBjaGlsZHJlbjogYW55LFxuICBfZmxhZ3M6IGFueSxcbiAga2V5OiBhbnlcbikgPT4ganN4KHR5cGUsIHsgLi4uaW1tdXRhYmxlLCAuLi5tdXRhYmxlLCBjaGlsZHJlbiB9LCBrZXkpOyAvKiogQHByaXZhdGUgKi9cblxuZXhwb3J0IGNvbnN0IFZpcnR1YWw6IEZ1bmN0aW9uQ29tcG9uZW50PHtcbiAgY2hpbGRyZW4/OiBKU1hDaGlsZHJlbjtcbiAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw/OiBzdHJpbmc7XG4gIFtPblJlbmRlclByb3BdPzogUVJMSW50ZXJuYWw8T25SZW5kZXJGbjxhbnk+PjtcbiAgW1FTbG90XT86IHN0cmluZztcbiAgW1FTbG90U10/OiBzdHJpbmc7XG4gIHByb3BzPzogUHJvcHM7XG4gIFtRU2NvcGVkU3R5bGVdPzogc3RyaW5nO1xuICBbRUxFTUVOVF9JRF0/OiBzdHJpbmc7XG59PiA9IChwcm9wczogYW55KSA9PiBwcm9wcy5jaGlsZHJlbjtcbiJdfQ==","import { _jsxSplit, Virtual } from './jsx-internal';\nimport { JSXNodeImpl } from './jsx-node';\n/**\n * Used by the JSX transpilers to create a JSXNode. Note that the optimizer will normally not use\n * this, instead using _jsxSplit and _jsxSorted directly.\n *\n * The optimizer will also replace all `jsx()` calls with the more optimized versions.\n *\n * The exception is when the props are not a literal object, which can only happen when the `jsx`\n * call is written directly.\n *\n * @public\n */\nexport const jsx = (type, props, key, _isStatic, dev) => {\n    return _jsxSplit(type, props, null, null, 0, key, dev);\n};\n/**\n * Alias of `jsx` for development purposes.\n *\n * @public\n */\nexport const jsxDEV = jsx;\n/**\n * Alias of `jsx` to support JSX syntax.\n *\n * @public\n */\nexport const jsxs = jsx;\n/**\n * The legacy transform, used by some JSX transpilers. The optimizer normally replaces this with\n * optimized calls, with the same caveat as `jsx()`.\n *\n * @public\n */\nexport function h(type, props, ...children) {\n    const normalizedProps = {\n        children: arguments.length > 2 ? children.flat(100) : null,\n    };\n    let key = null;\n    for (const i in props) {\n        if (i == 'key') {\n            key = props[i];\n        }\n        else {\n            normalizedProps[i] = props[i];\n        }\n    }\n    if (typeof type === 'string' && !key && 'dangerouslySetInnerHTML' in normalizedProps) {\n        key = 'innerhtml';\n    }\n    return _jsxSplit(type, props, null, normalizedProps.children, 0, key);\n}\n/** @public */\nexport const Fragment = (props) => props.children;\n/** @public */\nexport const RenderOnce = (props, key) => {\n    return new JSXNodeImpl(Virtual, null, null, props.children, key);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianN4LXJ1bnRpbWUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL2pzeC9qc3gtcnVudGltZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFPekM7Ozs7Ozs7Ozs7R0FVRztBQUNILE1BQU0sQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUNqQixJQUFPLEVBQ1AsS0FBK0QsRUFDL0QsR0FBNEIsRUFDNUIsU0FBbUIsRUFDbkIsR0FBZ0IsRUFDSixFQUFFO0lBQ2QsT0FBTyxTQUFTLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDekQsQ0FBQyxDQUFDO0FBUUY7Ozs7R0FJRztBQUNILE1BQU0sQ0FBQyxNQUFNLE1BQU0sR0FBRyxHQUFHLENBQUM7QUFDMUI7Ozs7R0FJRztBQUNILE1BQU0sQ0FBQyxNQUFNLElBQUksR0FBRyxHQUFHLENBQUM7QUFFeEI7Ozs7O0dBS0c7QUFDSCxNQUFNLFVBQVUsQ0FBQyxDQUNmLElBQVUsRUFDVixLQUFvQixFQUNwQixHQUFHLFFBQWU7SUFFbEIsTUFBTSxlQUFlLEdBQVE7UUFDM0IsUUFBUSxFQUFFLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJO0tBQzNELENBQUM7SUFFRixJQUFJLEdBQUcsR0FBUSxJQUFJLENBQUM7SUFFcEIsS0FBSyxNQUFNLENBQUMsSUFBSSxLQUFLLEVBQUUsQ0FBQztRQUN0QixJQUFJLENBQUMsSUFBSSxLQUFLLEVBQUUsQ0FBQztZQUNmLEdBQUcsR0FBSSxLQUE2QixDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFDLENBQUM7YUFBTSxDQUFDO1lBQ04sZUFBZSxDQUFDLENBQUMsQ0FBQyxHQUFJLEtBQTZCLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekQsQ0FBQztJQUNILENBQUM7SUFFRCxJQUFJLE9BQU8sSUFBSSxLQUFLLFFBQVEsSUFBSSxDQUFDLEdBQUcsSUFBSSx5QkFBeUIsSUFBSSxlQUFlLEVBQUUsQ0FBQztRQUNyRixHQUFHLEdBQUcsV0FBVyxDQUFDO0lBQ3BCLENBQUM7SUFDRCxPQUFPLFNBQVMsQ0FBQyxJQUFJLEVBQUUsS0FBTSxFQUFFLElBQUksRUFBRSxlQUFlLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUN6RSxDQUFDO0FBRUQsY0FBYztBQUNkLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBd0UsQ0FDM0YsS0FBSyxFQUNMLEVBQUUsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDO0FBRXBCLGNBQWM7QUFDZCxNQUFNLENBQUMsTUFBTSxVQUFVLEdBR2xCLENBQUMsS0FBVSxFQUFFLEdBQUcsRUFBRSxFQUFFO0lBQ3ZCLE9BQU8sSUFBSSxXQUFXLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUNuRSxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfanN4U3BsaXQsIFZpcnR1YWwgfSBmcm9tICcuL2pzeC1pbnRlcm5hbCc7XG5pbXBvcnQgeyBKU1hOb2RlSW1wbCB9IGZyb20gJy4vanN4LW5vZGUnO1xuaW1wb3J0IHR5cGUgeyBGdW5jdGlvbkNvbXBvbmVudCwgSlNYTm9kZSB9IGZyb20gJy4vdHlwZXMvanN4LW5vZGUnO1xuXG5leHBvcnQgdHlwZSB7IFF3aWtKU1ggYXMgSlNYIH0gZnJvbSAnLi90eXBlcy9qc3gtcXdpayc7XG5cbmV4cG9ydCB0eXBlIFByb3BzID0gUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cbi8qKlxuICogVXNlZCBieSB0aGUgSlNYIHRyYW5zcGlsZXJzIHRvIGNyZWF0ZSBhIEpTWE5vZGUuIE5vdGUgdGhhdCB0aGUgb3B0aW1pemVyIHdpbGwgbm9ybWFsbHkgbm90IHVzZVxuICogdGhpcywgaW5zdGVhZCB1c2luZyBfanN4U3BsaXQgYW5kIF9qc3hTb3J0ZWQgZGlyZWN0bHkuXG4gKlxuICogVGhlIG9wdGltaXplciB3aWxsIGFsc28gcmVwbGFjZSBhbGwgYGpzeCgpYCBjYWxscyB3aXRoIHRoZSBtb3JlIG9wdGltaXplZCB2ZXJzaW9ucy5cbiAqXG4gKiBUaGUgZXhjZXB0aW9uIGlzIHdoZW4gdGhlIHByb3BzIGFyZSBub3QgYSBsaXRlcmFsIG9iamVjdCwgd2hpY2ggY2FuIG9ubHkgaGFwcGVuIHdoZW4gdGhlIGBqc3hgXG4gKiBjYWxsIGlzIHdyaXR0ZW4gZGlyZWN0bHkuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QganN4ID0gPFQgZXh0ZW5kcyBzdHJpbmcgfCBGdW5jdGlvbkNvbXBvbmVudDxhbnk+PihcbiAgdHlwZTogVCxcbiAgcHJvcHM6IFQgZXh0ZW5kcyBGdW5jdGlvbkNvbXBvbmVudDxpbmZlciBQUk9QUz4gPyBQUk9QUyA6IFByb3BzLFxuICBrZXk/OiBzdHJpbmcgfCBudW1iZXIgfCBudWxsLFxuICBfaXNTdGF0aWM/OiBib29sZWFuLFxuICBkZXY/OiBKc3hEZXZPcHRzXG4pOiBKU1hOb2RlPFQ+ID0+IHtcbiAgcmV0dXJuIF9qc3hTcGxpdCh0eXBlLCBwcm9wcywgbnVsbCwgbnVsbCwgMCwga2V5LCBkZXYpO1xufTtcblxuaW50ZXJmYWNlIEpzeERldk9wdHMge1xuICBmaWxlTmFtZTogc3RyaW5nO1xuICBsaW5lTnVtYmVyOiBudW1iZXI7XG4gIGNvbHVtbk51bWJlcjogbnVtYmVyO1xufVxuXG4vKipcbiAqIEFsaWFzIG9mIGBqc3hgIGZvciBkZXZlbG9wbWVudCBwdXJwb3Nlcy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBqc3hERVYgPSBqc3g7XG4vKipcbiAqIEFsaWFzIG9mIGBqc3hgIHRvIHN1cHBvcnQgSlNYIHN5bnRheC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBqc3hzID0ganN4O1xuXG4vKipcbiAqIFRoZSBsZWdhY3kgdHJhbnNmb3JtLCB1c2VkIGJ5IHNvbWUgSlNYIHRyYW5zcGlsZXJzLiBUaGUgb3B0aW1pemVyIG5vcm1hbGx5IHJlcGxhY2VzIHRoaXMgd2l0aFxuICogb3B0aW1pemVkIGNhbGxzLCB3aXRoIHRoZSBzYW1lIGNhdmVhdCBhcyBganN4KClgLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGg8VFlQRSBleHRlbmRzIHN0cmluZyB8IEZ1bmN0aW9uQ29tcG9uZW50PFBST1BTPiwgUFJPUFMgZXh0ZW5kcyB7fSA9IHt9PihcbiAgdHlwZTogVFlQRSxcbiAgcHJvcHM/OiBQUk9QUyB8IG51bGwsXG4gIC4uLmNoaWxkcmVuOiBhbnlbXVxuKTogSlNYTm9kZTxUWVBFPiB7XG4gIGNvbnN0IG5vcm1hbGl6ZWRQcm9wczogYW55ID0ge1xuICAgIGNoaWxkcmVuOiBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGNoaWxkcmVuLmZsYXQoMTAwKSA6IG51bGwsXG4gIH07XG5cbiAgbGV0IGtleTogYW55ID0gbnVsbDtcblxuICBmb3IgKGNvbnN0IGkgaW4gcHJvcHMpIHtcbiAgICBpZiAoaSA9PSAna2V5Jykge1xuICAgICAga2V5ID0gKHByb3BzIGFzIFJlY29yZDxzdHJpbmcsIGFueT4pW2ldO1xuICAgIH0gZWxzZSB7XG4gICAgICBub3JtYWxpemVkUHJvcHNbaV0gPSAocHJvcHMgYXMgUmVjb3JkPHN0cmluZywgYW55PilbaV07XG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyAmJiAha2V5ICYmICdkYW5nZXJvdXNseVNldElubmVySFRNTCcgaW4gbm9ybWFsaXplZFByb3BzKSB7XG4gICAga2V5ID0gJ2lubmVyaHRtbCc7XG4gIH1cbiAgcmV0dXJuIF9qc3hTcGxpdCh0eXBlLCBwcm9wcyEsIG51bGwsIG5vcm1hbGl6ZWRQcm9wcy5jaGlsZHJlbiwgMCwga2V5KTtcbn1cblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBjb25zdCBGcmFnbWVudDogRnVuY3Rpb25Db21wb25lbnQ8eyBjaGlsZHJlbj86IGFueTsga2V5Pzogc3RyaW5nIHwgbnVtYmVyIHwgbnVsbCB9PiA9IChcbiAgcHJvcHNcbikgPT4gcHJvcHMuY2hpbGRyZW47XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgY29uc3QgUmVuZGVyT25jZTogRnVuY3Rpb25Db21wb25lbnQ8e1xuICBjaGlsZHJlbj86IHVua25vd247XG4gIGtleT86IHN0cmluZyB8IG51bWJlciB8IG51bGwgfCB1bmRlZmluZWQ7XG59PiA9IChwcm9wczogYW55LCBrZXkpID0+IHtcbiAgcmV0dXJuIG5ldyBKU1hOb2RlSW1wbChWaXJ0dWFsLCBudWxsLCBudWxsLCBwcm9wcy5jaGlsZHJlbiwga2V5KTtcbn07XG4iXX0=","import { getDomContainer } from '../client/dom-container';\nimport { BackRef, clearAllEffects } from '../reactive-primitives/cleanup';\nimport { assertQrl } from '../shared/qrl/qrl-utils';\nimport { logError } from '../shared/utils/log';\nimport { TaskEvent } from '../shared/utils/markers';\nimport { isPromise, safeCall } from '../shared/utils/promises';\nimport { newInvokeContext } from './use-core';\nimport { useLexicalScope } from './use-lexical-scope.public';\nimport { useSequentialScope } from './use-sequential-scope';\nimport { cleanupFn, trackFn } from './utils/tracker';\n/** @internal */\nexport const useTaskQrl = (qrl) => {\n    const { val, set, iCtx, i } = useSequentialScope();\n    if (val) {\n        return;\n    }\n    assertQrl(qrl);\n    set(1);\n    const task = new Task(8 /* TaskFlags.DIRTY */ | 2 /* TaskFlags.TASK */, i, iCtx.$hostElement$, qrl, undefined, null);\n    // In V2 we add the task to the sequential scope. We need to do this\n    // in order to be able to retrieve it later when the parent element is\n    // deleted and we need to be able to release the task subscriptions.\n    set(task);\n    const container = iCtx.$container$;\n    const result = runTask(task, container, iCtx.$hostElement$);\n    if (isPromise(result)) {\n        throw result;\n    }\n};\nexport const runTask = (task, container, host) => {\n    task.$flags$ &= ~8 /* TaskFlags.DIRTY */;\n    cleanupTask(task);\n    const iCtx = newInvokeContext(container.$locale$, host, undefined, TaskEvent);\n    iCtx.$container$ = container;\n    const taskFn = task.$qrl$.getFn(iCtx, () => clearAllEffects(container, task));\n    const track = trackFn(task, container);\n    const [cleanup] = cleanupFn(task, (reason) => container.handleError(reason, host));\n    const taskApi = { track, cleanup };\n    return safeCall(() => taskFn(taskApi), cleanup, (err) => {\n        // If a Promise is thrown, that means we need to re-run the task.\n        if (isPromise(err)) {\n            return err.then(() => runTask(task, container, host));\n        }\n        else {\n            throw err;\n        }\n    });\n};\nexport const cleanupTask = (task) => {\n    const destroy = task.$destroy$;\n    if (destroy) {\n        task.$destroy$ = null;\n        try {\n            destroy();\n        }\n        catch (err) {\n            logError(err);\n        }\n    }\n};\nexport class Task extends BackRef {\n    $flags$;\n    $index$;\n    $el$;\n    $qrl$;\n    $state$;\n    $destroy$;\n    constructor($flags$, $index$, $el$, $qrl$, $state$, $destroy$) {\n        super();\n        this.$flags$ = $flags$;\n        this.$index$ = $index$;\n        this.$el$ = $el$;\n        this.$qrl$ = $qrl$;\n        this.$state$ = $state$;\n        this.$destroy$ = $destroy$;\n    }\n}\n/** @internal */\nexport const isTask = (value) => {\n    return value instanceof Task;\n};\n/**\n * Used internally as a qrl event handler to schedule a task.\n *\n * @internal\n */\nexport const scheduleTask = (_event, element) => {\n    const [task] = useLexicalScope();\n    const type = task.$flags$ & 1 /* TaskFlags.VISIBLE_TASK */ ? 16 /* ChoreType.VISIBLE */ : 3 /* ChoreType.TASK */;\n    const container = getDomContainer(element);\n    container.$scheduler$(type, task);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXRhc2suanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS10YXNrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUMxRCxPQUFPLEVBQUUsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBRzFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUlwRCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDL0MsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ3BELE9BQU8sRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFHL0QsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQzlDLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUU3RCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUM1RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBdUhyRCxnQkFBZ0I7QUFDaEIsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQUMsR0FBZ0IsRUFBUSxFQUFFO0lBQ25ELE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsR0FBRyxrQkFBa0IsRUFBWSxDQUFDO0lBQzdELElBQUksR0FBRyxFQUFFLENBQUM7UUFDUixPQUFPO0lBQ1QsQ0FBQztJQUNELFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNmLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUVQLE1BQU0sSUFBSSxHQUFHLElBQUksSUFBSSxDQUNuQixnREFBZ0MsRUFDaEMsQ0FBQyxFQUNELElB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TCxLQUFLLENBQWdCO1FBQ3JCLFlBQU8sR0FBUCxPQUFPLENBQW1EO1FBQzFELGNBQVMsR0FBVCxTQUFTLENBQWdDO0lBR2xELENBQUM7Q0FDRjtBQUNELGdCQUFnQjtBQUNoQixNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsQ0FBQyxLQUFVLEVBQWlCLEVBQUU7SUFDbEQsT0FBTyxLQUFLLFlBQVksSUFBSSxDQUFDO0FBQy9CLENBQUMsQ0FBQztBQUVGOzs7O0dBSUc7QUFDSCxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FBQyxNQUFhLEVBQUUsT0FBZ0IsRUFBRSxFQUFFO0lBQzlELE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxlQUFlLEVBQVUsQ0FBQztJQUN6QyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxpQ0FBeUIsQ0FBQyxDQUFDLDRCQUFtQixDQUFDLHVCQUFlLENBQUM7SUFDeEYsTUFBTSxTQUFTLEdBQUcsZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzNDLFNBQVMsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3BDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldERvbUNvbnRhaW5lciB9IGZyb20gJy4uL2NsaWVudC9kb20tY29udGFpbmVyJztcbmltcG9ydCB7IEJhY2tSZWYsIGNsZWFyQWxsRWZmZWN0cyB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvY2xlYW51cCc7XG5pbXBvcnQgeyB0eXBlIFNpZ25hbCB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvc2lnbmFsLnB1YmxpYyc7XG5pbXBvcnQgeyB0eXBlIFFSTEludGVybmFsIH0gZnJvbSAnLi4vc2hhcmVkL3FybC9xcmwtY2xhc3MnO1xuaW1wb3J0IHsgYXNzZXJ0UXJsIH0gZnJvbSAnLi4vc2hhcmVkL3FybC9xcmwtdXRpbHMnO1xuaW1wb3J0IHR5cGUgeyBRUkwgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC5wdWJsaWMnO1xuaW1wb3J0IHsgdHlwZSBDb250YWluZXIsIHR5cGUgSG9zdEVsZW1lbnQgfSBmcm9tICcuLi9zaGFyZWQvdHlwZXMnO1xuaW1wb3J0IHsgQ2hvcmVUeXBlIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWwtY2hvcmUtdHlwZSc7XG5pbXBvcnQgeyBsb2dFcnJvciB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9sb2cnO1xuaW1wb3J0IHsgVGFza0V2ZW50IH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL21hcmtlcnMnO1xuaW1wb3J0IHsgaXNQcm9taXNlLCBzYWZlQ2FsbCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9wcm9taXNlcyc7XG5pbXBvcnQgeyB0eXBlIE5vU2VyaWFsaXplIH0gZnJvbSAnLi4vc2hhcmVkL3NlcmRlcy92ZXJpZnknO1xuaW1wb3J0IHsgdHlwZSBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uL3NoYXJlZC91dGlscy90eXBlcyc7XG5pbXBvcnQgeyBuZXdJbnZva2VDb250ZXh0IH0gZnJvbSAnLi91c2UtY29yZSc7XG5pbXBvcnQgeyB1c2VMZXhpY2FsU2NvcGUgfSBmcm9tICcuL3VzZS1sZXhpY2FsLXNjb3BlLnB1YmxpYyc7XG5pbXBvcnQgdHlwZSB7IFJlc291cmNlUmV0dXJuSW50ZXJuYWwgfSBmcm9tICcuL3VzZS1yZXNvdXJjZSc7XG5pbXBvcnQgeyB1c2VTZXF1ZW50aWFsU2NvcGUgfSBmcm9tICcuL3VzZS1zZXF1ZW50aWFsLXNjb3BlJztcbmltcG9ydCB7IGNsZWFudXBGbiwgdHJhY2tGbiB9IGZyb20gJy4vdXRpbHMvdHJhY2tlcic7XG5cbmV4cG9ydCBjb25zdCBlbnVtIFRhc2tGbGFncyB7XG4gIFZJU0lCTEVfVEFTSyA9IDEgPDwgMCxcbiAgVEFTSyA9IDEgPDwgMSxcbiAgUkVTT1VSQ0UgPSAxIDw8IDIsXG4gIERJUlRZID0gMSA8PCAzLFxufVxuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNUcmFja2VyXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI1RyYWNrZXIgaW5zdGVhZCBhbmQgcnVuIGBwbnBtIGRvY3Muc3luY2ApXG4vKipcbiAqIFVzZWQgdG8gc2lnbmFsIHRvIFF3aWsgd2hpY2ggc3RhdGUgc2hvdWxkIGJlIHdhdGNoZWQgZm9yIGNoYW5nZXMuXG4gKlxuICogVGhlIGBUcmFja2VyYCBpcyBwYXNzZWQgaW50byB0aGUgYHRhc2tGbmAgb2YgYHVzZVRhc2tgLiBJdCBpcyBpbnRlbmRlZCB0byBiZSB1c2VkIHRvIHdyYXAgc3RhdGVcbiAqIG9iamVjdHMgaW4gYSByZWFkIHByb3h5IHdoaWNoIHNpZ25hbHMgdG8gUXdpayB3aGljaCBwcm9wZXJ0aWVzIHNob3VsZCBiZSB3YXRjaGVkIGZvciBjaGFuZ2VzLiBBXG4gKiBjaGFuZ2UgdG8gYW55IG9mIHRoZSBwcm9wZXJ0aWVzIGNhdXNlcyB0aGUgYHRhc2tGbmAgdG8gcmVydW4uXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBUaGUgYG9ic2AgcGFzc2VkIGludG8gdGhlIGB0YXNrRm5gIGlzIHVzZWQgdG8gbWFyayBgc3RhdGUuY291bnRgIGFzIGEgcHJvcGVydHkgb2YgaW50ZXJlc3QuIEFueVxuICogY2hhbmdlcyB0byB0aGUgYHN0YXRlLmNvdW50YCBwcm9wZXJ0eSB3aWxsIGNhdXNlIHRoZSBgdGFza0ZuYCB0byByZXJ1bi5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHsgY291bnQ6IDAsIGRvdWJsZUNvdW50OiAwIH0pO1xuICogICBjb25zdCBzaWduYWwgPSB1c2VTaWduYWwoMCk7XG4gKiAgIHVzZVRhc2skKCh7IHRyYWNrIH0pID0+IHtcbiAqICAgICAvLyBBbnkgc2lnbmFscyBvciBzdG9yZXMgYWNjZXNzZWQgaW5zaWRlIHRoZSB0YXNrIHdpbGwgYmUgdHJhY2tlZFxuICogICAgIGNvbnN0IGNvdW50ID0gdHJhY2soKCkgPT4gc3RvcmUuY291bnQpO1xuICogICAgIC8vIFlvdSBjYW4gYWxzbyBwYXNzIGEgc2lnbmFsIHRvIHRyYWNrKCkgZGlyZWN0bHlcbiAqICAgICBjb25zdCBzaWduYWxDb3VudCA9IHRyYWNrKHNpZ25hbCk7XG4gKiAgICAgc3RvcmUuZG91YmxlQ291bnQgPSBjb3VudCArIHNpZ25hbENvdW50O1xuICogICB9KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAgPHNwYW4+XG4gKiAgICAgICAgIHtzdG9yZS5jb3VudH0gLyB7c3RvcmUuZG91YmxlQ291bnR9XG4gKiAgICAgICA8L3NwYW4+XG4gKiAgICAgICA8YnV0dG9uXG4gKiAgICAgICAgIG9uQ2xpY2skPXsoKSA9PiB7XG4gKiAgICAgICAgICAgc3RvcmUuY291bnQrKztcbiAqICAgICAgICAgICBzaWduYWwudmFsdWUrKztcbiAqICAgICAgICAgfX1cbiAqICAgICAgID5cbiAqICAgICAgICAgK1xuICogICAgICAgPC9idXR0b24+XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqIEBzZWUgYHVzZVRhc2tgXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2tlciB7XG4gIC8qKlxuICAgKiBJbmNsdWRlIHRoZSBleHByZXNzaW9uIHVzaW5nIHN0b3JlcyAvIHNpZ25hbHMgdG8gdHJhY2s6XG4gICAqXG4gICAqIGBgYHRzeFxuICAgKiB0cmFjaygoKSA9PiBzdG9yZS5jb3VudCk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBUaGUgYHRyYWNrKClgIGZ1bmN0aW9uIGFsc28gcmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIHNjb3BlZCBleHByZXNzaW9uOlxuICAgKlxuICAgKiBgYGB0c3hcbiAgICogY29uc3QgY291bnQgPSB0cmFjaygoKSA9PiBzdG9yZS5jb3VudCk7XG4gICAqIGBgYFxuICAgKi9cbiAgPFQ+KGZuOiAoKSA9PiBUKTogVDtcblxuICAvKipcbiAgICogVXNlZCB0byB0cmFjayB0aGUgd2hvbGUgb2JqZWN0LiBJZiBhbnkgcHJvcGVydHkgb2YgdGhlIHBhc3NlZCBzdG9yZSBjaGFuZ2VzLCB0aGUgdGFzayB3aWxsIGJlXG4gICAqIHNjaGVkdWxlZCB0byBydW4uIEFsc28gYWNjZXB0cyBzaWduYWxzLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgdGhlIGNoYW5nZSB0cmFja2luZyBpcyBub3QgZGVlcC4gSWYgeW91IHdhbnQgdG8gdHJhY2sgY2hhbmdlcyB0byBuZXN0ZWQgcHJvcGVydGllcyxcbiAgICogeW91IG5lZWQgdG8gdXNlIGB0cmFja2Agb24gZWFjaCBvZiB0aGVtLlxuICAgKlxuICAgKiBgYGB0c3hcbiAgICogdHJhY2soc3RvcmUpOyAvLyByZXR1cm5zIHN0b3JlXG4gICAqIHRyYWNrKHNpZ25hbCk7IC8vIHJldHVybnMgc2lnbmFsLnZhbHVlXG4gICAqIGBgYFxuICAgKi9cbiAgPFQgZXh0ZW5kcyBvYmplY3Q+KG9iajogVCk6IFQgZXh0ZW5kcyBTaWduYWw8aW5mZXIgVT4gPyBVIDogVDtcblxuICAvKipcbiAgICogVXNlZCB0byB0cmFjayB0byB0cmFjayBhIHNwZWNpZmljIHByb3BlcnR5IG9mIGFuIG9iamVjdC5cbiAgICpcbiAgICogTm90ZSB0aGF0IHRoZSBjaGFuZ2UgdHJhY2tpbmcgaXMgbm90IGRlZXAuIElmIHlvdSB3YW50IHRvIHRyYWNrIGNoYW5nZXMgdG8gbmVzdGVkIHByb3BlcnRpZXMsXG4gICAqIHlvdSBuZWVkIHRvIHVzZSBgdHJhY2tgIG9uIGVhY2ggb2YgdGhlbS5cbiAgICpcbiAgICogYGBgdHN4XG4gICAqIHRyYWNrKHN0b3JlLCAncHJvcEEnKTsgLy8gcmV0dXJucyBzdG9yZS5wcm9wQVxuICAgKiBgYGBcbiAgICovXG4gIDxUIGV4dGVuZHMgb2JqZWN0LCBQIGV4dGVuZHMga2V5b2YgVD4ob2JqOiBULCBwcm9wOiBQKTogVFtQXTtcbn1cblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGFza0N0eCB7XG4gIHRyYWNrOiBUcmFja2VyO1xuICBjbGVhbnVwOiAoY2FsbGJhY2s6ICgpID0+IHZvaWQpID0+IHZvaWQ7XG59XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBUYXNrRm4gPSAoY3R4OiBUYXNrQ3R4KSA9PiBWYWx1ZU9yUHJvbWlzZTx2b2lkIHwgKCgpID0+IHZvaWQpPjtcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGVzY3JpcHRvckJhc2U8VCA9IHVua25vd24sIEIgPSB1bmtub3duPiBleHRlbmRzIEJhY2tSZWYge1xuICAkZmxhZ3MkOiBudW1iZXI7XG4gICRpbmRleCQ6IG51bWJlcjtcbiAgJGVsJDogSG9zdEVsZW1lbnQ7XG4gICRxcmwkOiBRUkxJbnRlcm5hbDxUPjtcbiAgJHN0YXRlJDogQiB8IHVuZGVmaW5lZDtcbiAgJGRlc3Ryb3kkOiBOb1NlcmlhbGl6ZTwoKSA9PiB2b2lkPiB8IG51bGw7XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB1c2VUYXNrUXJsID0gKHFybDogUVJMPFRhc2tGbj4pOiB2b2lkID0+IHtcbiAgY29uc3QgeyB2YWwsIHNldCwgaUN0eCwgaSB9ID0gdXNlU2VxdWVudGlhbFNjb3BlPDEgfCBUYXNrPigpO1xuICBpZiAodmFsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGFzc2VydFFybChxcmwpO1xuICBzZXQoMSk7XG5cbiAgY29uc3QgdGFzayA9IG5ldyBUYXNrKFxuICAgIFRhc2tGbGFncy5ESVJUWSB8IFRhc2tGbGFncy5UQVNLLFxuICAgIGksXG4gICAgaUN0eC4kaG9zdEVsZW1lbnQkLFxuICAgIHFybCxcbiAgICB1bmRlZmluZWQsXG4gICAgbnVsbFxuICApO1xuICAvLyBJbiBWMiB3ZSBhZGQgdGhlIHRhc2sgdG8gdGhlIHNlcXVlbnRpYWwgc2NvcGUuIFdlIG5lZWQgdG8gZG8gdGhpc1xuICAvLyBpbiBvcmRlciB0byBiZSBhYmxlIHRvIHJldHJpZXZlIGl0IGxhdGVyIHdoZW4gdGhlIHBhcmVudCBlbGVtZW50IGlzXG4gIC8vIGRlbGV0ZWQgYW5kIHdlIG5lZWQgdG8gYmUgYWJsZSB0byByZWxlYXNlIHRoZSB0YXNrIHN1YnNjcmlwdGlvbnMuXG4gIHNldCh0YXNrKTtcbiAgY29uc3QgY29udGFpbmVyID0gaUN0eC4kY29udGFpbmVyJDtcbiAgY29uc3QgcmVzdWx0ID0gcnVuVGFzayh0YXNrLCBjb250YWluZXIsIGlDdHguJGhvc3RFbGVtZW50JCk7XG4gIGlmIChpc1Byb21pc2UocmVzdWx0KSkge1xuICAgIHRocm93IHJlc3VsdDtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHJ1blRhc2sgPSAoXG4gIHRhc2s6IFRhc2ssXG4gIGNvbnRhaW5lcjogQ29udGFpbmVyLFxuICBob3N0OiBIb3N0RWxlbWVudFxuKTogVmFsdWVPclByb21pc2U8dm9pZD4gPT4ge1xuICB0YXNrLiRmbGFncyQgJj0gflRhc2tGbGFncy5ESVJUWTtcbiAgY2xlYW51cFRhc2sodGFzayk7XG4gIGNvbnN0IGlDdHggPSBuZXdJbnZva2VDb250ZXh0KGNvbnRhaW5lci4kbG9jYWxlJCwgaG9zdCwgdW5kZWZpbmVkLCBUYXNrRXZlbnQpO1xuICBpQ3R4LiRjb250YWluZXIkID0gY29udGFpbmVyO1xuICBjb25zdCB0YXNrRm4gPSB0YXNrLiRxcmwkLmdldEZuKGlDdHgsICgpID0+IGNsZWFyQWxsRWZmZWN0cyhjb250YWluZXIsIHRhc2spKSBhcyBUYXNrRm47XG5cbiAgY29uc3QgdHJhY2sgPSB0cmFja0ZuKHRhc2ssIGNvbnRhaW5lcik7XG4gIGNvbnN0IFtjbGVhbnVwXSA9IGNsZWFudXBGbih0YXNrLCAocmVhc29uOiB1bmtub3duKSA9PiBjb250YWluZXIuaGFuZGxlRXJyb3IocmVhc29uLCBob3N0KSk7XG5cbiAgY29uc3QgdGFza0FwaTogVGFza0N0eCA9IHsgdHJhY2ssIGNsZWFudXAgfTtcbiAgcmV0dXJuIHNhZmVDYWxsKFxuICAgICgpID0+IHRhc2tGbih0YXNrQXBpKSxcbiAgICBjbGVhbnVwLFxuICAgIChlcnI6IHVua25vd24pID0+IHtcbiAgICAgIC8vIElmIGEgUHJvbWlzZSBpcyB0aHJvd24sIHRoYXQgbWVhbnMgd2UgbmVlZCB0byByZS1ydW4gdGhlIHRhc2suXG4gICAgICBpZiAoaXNQcm9taXNlKGVycikpIHtcbiAgICAgICAgcmV0dXJuIGVyci50aGVuKCgpID0+IHJ1blRhc2sodGFzaywgY29udGFpbmVyLCBob3N0KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IGNsZWFudXBUYXNrID0gKHRhc2s6IFRhc2spID0+IHtcbiAgY29uc3QgZGVzdHJveSA9IHRhc2suJGRlc3Ryb3kkO1xuICBpZiAoZGVzdHJveSkge1xuICAgIHRhc2suJGRlc3Ryb3kkID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgZGVzdHJveSgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nRXJyb3IoZXJyKTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBjbGFzcyBUYXNrPFQgPSB1bmtub3duLCBCID0gVD5cbiAgZXh0ZW5kcyBCYWNrUmVmXG4gIGltcGxlbWVudHMgRGVzY3JpcHRvckJhc2U8dW5rbm93biwgU2lnbmFsPEI+IHwgUmVzb3VyY2VSZXR1cm5JbnRlcm5hbDxCPj5cbntcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljICRmbGFncyQ6IG51bWJlcixcbiAgICBwdWJsaWMgJGluZGV4JDogbnVtYmVyLFxuICAgIHB1YmxpYyAkZWwkOiBIb3N0RWxlbWVudCxcbiAgICBwdWJsaWMgJHFybCQ6IFFSTEludGVybmFsPFQ+LFxuICAgIHB1YmxpYyAkc3RhdGUkOiBTaWduYWw8Qj4gfCBSZXNvdXJjZVJldHVybkludGVybmFsPEI+IHwgdW5kZWZpbmVkLFxuICAgIHB1YmxpYyAkZGVzdHJveSQ6IE5vU2VyaWFsaXplPCgpID0+IHZvaWQ+IHwgbnVsbFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG59XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgaXNUYXNrID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBUYXNrID0+IHtcbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgVGFzaztcbn07XG5cbi8qKlxuICogVXNlZCBpbnRlcm5hbGx5IGFzIGEgcXJsIGV2ZW50IGhhbmRsZXIgdG8gc2NoZWR1bGUgYSB0YXNrLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3Qgc2NoZWR1bGVUYXNrID0gKF9ldmVudDogRXZlbnQsIGVsZW1lbnQ6IEVsZW1lbnQpID0+IHtcbiAgY29uc3QgW3Rhc2tdID0gdXNlTGV4aWNhbFNjb3BlPFtUYXNrXT4oKTtcbiAgY29uc3QgdHlwZSA9IHRhc2suJGZsYWdzJCAmIFRhc2tGbGFncy5WSVNJQkxFX1RBU0sgPyBDaG9yZVR5cGUuVklTSUJMRSA6IENob3JlVHlwZS5UQVNLO1xuICBjb25zdCBjb250YWluZXIgPSBnZXREb21Db250YWluZXIoZWxlbWVudCk7XG4gIGNvbnRhaW5lci4kc2NoZWR1bGVyJCh0eXBlLCB0YXNrKTtcbn07XG4iXX0=","import { Fragment } from '../shared/jsx/jsx-runtime';\nimport { _jsxSorted } from '../shared/jsx/jsx-internal';\nimport { isServerPlatform } from '../shared/platform/platform';\nimport { assertQrl } from '../shared/qrl/qrl-utils';\nimport { invoke, newInvokeContext, untrack, useBindInvokeContext } from './use-core';\nimport { Task, cleanupTask } from './use-task';\nimport { clearAllEffects } from '../reactive-primitives/cleanup';\nimport { createStore, forceStoreEffects, getStoreTarget, unwrapStore, } from '../reactive-primitives/impl/store';\nimport { isSignal } from '../reactive-primitives/utils';\nimport { assertDefined } from '../shared/error/assert';\nimport { ResourceEvent } from '../shared/utils/markers';\nimport { delay, isPromise, retryOnPromise, safeCall } from '../shared/utils/promises';\nimport { isObject } from '../shared/utils/types';\nimport { useSequentialScope } from './use-sequential-scope';\nimport { cleanupFn, trackFn } from './utils/tracker';\nconst DEBUG = false;\nfunction debugLog(...arg) {\n    // eslint-disable-next-line no-console\n    console.log(arg.join(', '));\n}\n/** @internal */\nexport const useResourceQrl = (qrl, opts) => {\n    const { val, set, i, iCtx } = useSequentialScope();\n    if (val != null) {\n        return val;\n    }\n    assertQrl(qrl);\n    const container = iCtx.$container$;\n    const resource = createResourceReturn(container, opts);\n    const el = iCtx.$hostElement$;\n    const task = new Task(8 /* TaskFlags.DIRTY */ | 4 /* TaskFlags.RESOURCE */, i, el, qrl, resource, null);\n    set(resource);\n    runResource(task, container, el);\n    return resource;\n};\n// <docs markdown=\"../readme.md#useResource\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useResource instead and run `pnpm docs.sync`)\n/**\n * This method works like an async memoized function that runs whenever some tracked value changes\n * and returns some data.\n *\n * `useResource` however returns immediate a `ResourceReturn` object that contains the data and a\n * state that indicates if the data is available or not.\n *\n * The status can be one of the following:\n *\n * - `pending` - the data is not yet available.\n * - `resolved` - the data is available.\n * - `rejected` - the data is not available due to an error or timeout.\n *\n * Be careful when using a `try/catch` statement in `useResource$`. If you catch the error and don't\n * re-throw it (or a new Error), the resource status will never be `rejected`.\n *\n * ### Example\n *\n * Example showing how `useResource` to perform a fetch to request the weather, whenever the input\n * city name changes.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const cityS = useSignal('');\n *\n *   const weatherResource = useResource$(async ({ track, cleanup }) => {\n *     const cityName = track(cityS);\n *     const abortController = new AbortController();\n *     cleanup(() => abortController.abort('cleanup'));\n *     const res = await fetch(`http://weatherdata.com?city=${cityName}`, {\n *       signal: abortController.signal,\n *     });\n *     const data = await res.json();\n *     return data as { temp: number };\n *   });\n *\n *   return (\n *     <div>\n *       <input name=\"city\" bind:value={cityS} />\n *       <Resource\n *         value={weatherResource}\n *         onResolved={(weather) => {\n *           return <div>Temperature: {weather.temp}</div>;\n *         }}\n *       />\n *     </div>\n *   );\n * });\n * ```\n *\n * @public\n * @see Resource\n * @see ResourceReturn\n */\n// </docs>\nexport const Resource = (props) => {\n    // Resource path\n    return _jsxSorted(Fragment, null, null, getResourceValueAsPromise(props), 0, null);\n};\nfunction getResourceValueAsPromise(props) {\n    const resource = props.value;\n    if (isResourceReturn(resource)) {\n        // create a subscription for the resource._state changes\n        const state = resource._state;\n        const isBrowser = !isServerPlatform();\n        if (isBrowser) {\n            DEBUG && debugLog(`RESOURCE_CMP.${state}`, 'VALUE: ' + untrack(() => resource._resolved));\n            if (state === 'pending' && props.onPending) {\n                return Promise.resolve().then(useBindInvokeContext(props.onPending));\n            }\n            else if (state === 'rejected' && props.onRejected) {\n                return Promise.resolve(resource._error).then(useBindInvokeContext(props.onRejected));\n            }\n            else {\n                const resolvedValue = untrack(() => resource._resolved);\n                if (resolvedValue !== undefined) {\n                    // resolved, pending without onPending prop or rejected without onRejected prop\n                    return Promise.resolve(resolvedValue).then(useBindInvokeContext(props.onResolved));\n                }\n            }\n        }\n        return untrack(() => resource.value).then(useBindInvokeContext(props.onResolved), useBindInvokeContext(props.onRejected));\n    }\n    else if (isPromise(resource)) {\n        return resource.then(useBindInvokeContext(props.onResolved), useBindInvokeContext(props.onRejected));\n    }\n    else if (isSignal(resource)) {\n        const value = retryOnPromise(() => resource.value);\n        const promise = isPromise(value) ? value : Promise.resolve(value);\n        return promise.then(useBindInvokeContext(props.onResolved));\n    }\n    else {\n        return Promise.resolve(resource).then(useBindInvokeContext(props.onResolved));\n    }\n}\nexport const _createResourceReturn = (opts) => {\n    const resource = {\n        __brand: 'resource',\n        value: undefined,\n        loading: !isServerPlatform(),\n        _resolved: undefined,\n        _error: undefined,\n        _state: 'pending',\n        _timeout: opts?.timeout ?? -1,\n        _cache: 0,\n    };\n    return resource;\n};\nexport const createResourceReturn = (container, opts, initialPromise) => {\n    const result = _createResourceReturn(opts);\n    result.value = initialPromise;\n    return createStore(container, result, 1 /* StoreFlags.RECURSIVE */);\n};\nexport const isResourceReturn = (obj) => {\n    return isObject(obj) && (getStoreTarget(obj) || obj).__brand === 'resource';\n};\nexport const runResource = (task, container, host) => {\n    task.$flags$ &= ~8 /* TaskFlags.DIRTY */;\n    cleanupTask(task);\n    const iCtx = newInvokeContext(container.$locale$, host, undefined, ResourceEvent);\n    iCtx.$container$ = container;\n    const taskFn = task.$qrl$.getFn(iCtx, () => clearAllEffects(container, task));\n    const resource = task.$state$;\n    assertDefined(resource, 'useResource: when running a resource, \"task.resource\" must be a defined.', task);\n    const track = trackFn(task, container);\n    const [cleanup, cleanups] = cleanupFn(task, (reason) => container.handleError(reason, host));\n    const resourceTarget = unwrapStore(resource);\n    const opts = {\n        track,\n        cleanup,\n        cache(policy) {\n            let milliseconds = 0;\n            if (policy === 'immutable') {\n                milliseconds = Infinity;\n            }\n            else {\n                milliseconds = policy;\n            }\n            resource._cache = milliseconds;\n        },\n        previous: resourceTarget._resolved,\n    };\n    let resolve;\n    let reject;\n    let done = false;\n    const setState = (resolved, value) => {\n        if (!done) {\n            done = true;\n            if (resolved) {\n                done = true;\n                resourceTarget.loading = false;\n                resourceTarget._state = 'resolved';\n                resourceTarget._resolved = value;\n                resourceTarget._error = undefined;\n                resolve(value);\n            }\n            else {\n                done = true;\n                resourceTarget.loading = false;\n                resourceTarget._state = 'rejected';\n                resourceTarget._error = value;\n                reject(value);\n            }\n            if (!isServerPlatform()) {\n                forceStoreEffects(resource, '_state');\n            }\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Add cleanup to resolve the resource if we are trying to run the same resource again while the\n     * previous one is not resolved yet. The next `runResource` run will call this cleanup\n     */\n    cleanups.push(() => {\n        if (untrack(() => resource.loading) === true) {\n            const value = untrack(() => resource._resolved);\n            setState(true, value);\n        }\n    });\n    // Execute mutation inside empty invocation\n    // TODO: is it right? why we need to invoke inside context and trigger effects?\n    invoke(iCtx, () => {\n        // console.log('RESOURCE.pending: ');\n        resource._state = 'pending';\n        resource.loading = !isServerPlatform();\n        resource.value = new Promise((r, re) => {\n            resolve = r;\n            reject = re;\n        });\n    });\n    const promise = safeCall(() => taskFn(opts), (value) => {\n        setState(true, value);\n    }, (err) => {\n        if (isPromise(err)) {\n            return err.then(() => runResource(task, container, host));\n        }\n        else {\n            setState(false, err);\n        }\n    });\n    const timeout = resourceTarget._timeout;\n    if (timeout > 0) {\n        return Promise.race([\n            promise,\n            delay(timeout).then(() => {\n                if (setState(false, new Error('timeout'))) {\n                    cleanupTask(task);\n                }\n            }),\n        ]);\n    }\n    return promise;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXJlc291cmNlLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtcmVzb3VyY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ3JELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUN4RCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUMvRCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFFcEQsT0FBTyxFQUFFLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDckYsT0FBTyxFQUFFLElBQUksRUFBYSxXQUFXLEVBQXFDLE1BQU0sWUFBWSxDQUFDO0FBRzdGLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUNqRSxPQUFPLEVBQ0wsV0FBVyxFQUNYLGlCQUFpQixFQUNqQixjQUFjLEVBQ2QsV0FBVyxHQUNaLE1BQU0sbUNBQW1DLENBQUM7QUFHM0MsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBQ3hELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUV2RCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDeEQsT0FBTyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsY0FBYyxFQUFFLFFBQVEsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ3RGLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUNqRCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUM1RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FB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LENBQUM7SUFDeEMsSUFBSSxPQUFPLEdBQUcsQ0FBQyxFQUFFLENBQUM7UUFDaEIsT0FBTyxPQUFPLENBQUMsSUFBSSxDQUFDO1lBQ2xCLE9BQU87WUFDUCxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRTtnQkFDdkIsSUFBSSxRQUFRLENBQUMsS0FBSyxFQUFFLElBQUksS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztvQkFDMUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNwQixDQUFDO1lBQ0gsQ0FBQyxDQUFDO1NBQ0gsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUNELE9BQU8sT0FBTyxDQUFDO0FBQ2pCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZyYWdtZW50IH0gZnJvbSAnLi4vc2hhcmVkL2pzeC9qc3gtcnVudGltZSc7XG5pbXBvcnQgeyBfanN4U29ydGVkIH0gZnJvbSAnLi4vc2hhcmVkL2pzeC9qc3gtaW50ZXJuYWwnO1xuaW1wb3J0IHsgaXNTZXJ2ZXJQbGF0Zm9ybSB9IGZyb20gJy4uL3NoYXJlZC9wbGF0Zm9ybS9wbGF0Zm9ybSc7XG5pbXBvcnQgeyBhc3NlcnRRcmwgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC11dGlscyc7XG5pbXBvcnQgeyB0eXBlIFFSTCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsLnB1YmxpYyc7XG5pbXBvcnQgeyBpbnZva2UsIG5ld0ludm9rZUNvbnRleHQsIHVudHJhY2ssIHVzZUJpbmRJbnZva2VDb250ZXh0IH0gZnJvbSAnLi91c2UtY29yZSc7XG5pbXBvcnQgeyBUYXNrLCBUYXNrRmxhZ3MsIGNsZWFudXBUYXNrLCB0eXBlIERlc2NyaXB0b3JCYXNlLCB0eXBlIFRyYWNrZXIgfSBmcm9tICcuL3VzZS10YXNrJztcblxuaW1wb3J0IHR5cGUgeyBDb250YWluZXIsIEhvc3RFbGVtZW50LCBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uLy4uL3NlcnZlci9xd2lrLXR5cGVzJztcbmltcG9ydCB7IGNsZWFyQWxsRWZmZWN0cyB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvY2xlYW51cCc7XG5pbXBvcnQge1xuICBjcmVhdGVTdG9yZSxcbiAgZm9yY2VTdG9yZUVmZmVjdHMsXG4gIGdldFN0b3JlVGFyZ2V0LFxuICB1bndyYXBTdG9yZSxcbn0gZnJvbSAnLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy9pbXBsL3N0b3JlJztcbmltcG9ydCB0eXBlIHsgU2lnbmFsIH0gZnJvbSAnLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy9zaWduYWwucHVibGljJztcbmltcG9ydCB7IFN0b3JlRmxhZ3MgfSBmcm9tICcuLi9yZWFjdGl2ZS1wcmltaXRpdmVzL3R5cGVzJztcbmltcG9ydCB7IGlzU2lnbmFsIH0gZnJvbSAnLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy91dGlscyc7XG5pbXBvcnQgeyBhc3NlcnREZWZpbmVkIH0gZnJvbSAnLi4vc2hhcmVkL2Vycm9yL2Fzc2VydCc7XG5pbXBvcnQgdHlwZSB7IEpTWE91dHB1dCB9IGZyb20gJy4uL3NoYXJlZC9qc3gvdHlwZXMvanN4LW5vZGUnO1xuaW1wb3J0IHsgUmVzb3VyY2VFdmVudCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9tYXJrZXJzJztcbmltcG9ydCB7IGRlbGF5LCBpc1Byb21pc2UsIHJldHJ5T25Qcm9taXNlLCBzYWZlQ2FsbCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9wcm9taXNlcyc7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy90eXBlcyc7XG5pbXBvcnQgeyB1c2VTZXF1ZW50aWFsU2NvcGUgfSBmcm9tICcuL3VzZS1zZXF1ZW50aWFsLXNjb3BlJztcbmltcG9ydCB7IGNsZWFudXBGbiwgdHJhY2tGbiB9IGZyb20gJy4vdXRpbHMvdHJhY2tlcic7XG5cbmNvbnN0IERFQlVHOiBib29sZWFuID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGRlYnVnTG9nKC4uLmFyZzogYW55KSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gIGNvbnNvbGUubG9nKGFyZy5qb2luKCcsICcpKTtcbn1cblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb3VyY2VDdHg8VD4ge1xuICByZWFkb25seSB0cmFjazogVHJhY2tlcjtcbiAgY2xlYW51cChjYWxsYmFjazogKCkgPT4gdm9pZCk6IHZvaWQ7XG4gIGNhY2hlKHBvbGljeU9yTWlsbGlzZWNvbmRzOiBudW1iZXIgfCAnaW1tdXRhYmxlJyk6IHZvaWQ7XG4gIHJlYWRvbmx5IHByZXZpb3VzOiBUIHwgdW5kZWZpbmVkO1xufVxuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IHR5cGUgUmVzb3VyY2VGbjxUPiA9IChjdHg6IFJlc291cmNlQ3R4PHVua25vd24+KSA9PiBWYWx1ZU9yUHJvbWlzZTxUPjtcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCB0eXBlIFJlc291cmNlUmV0dXJuPFQ+ID0gUmVzb3VyY2VQZW5kaW5nPFQ+IHwgUmVzb3VyY2VSZXNvbHZlZDxUPiB8IFJlc291cmNlUmVqZWN0ZWQ8VD47XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc291cmNlUGVuZGluZzxUPiB7XG4gIHJlYWRvbmx5IHZhbHVlOiBQcm9taXNlPFQ+O1xuICByZWFkb25seSBsb2FkaW5nOiBib29sZWFuO1xufVxuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZVJlc29sdmVkPFQ+IHtcbiAgcmVhZG9ubHkgdmFsdWU6IFByb21pc2U8VD47XG4gIHJlYWRvbmx5IGxvYWRpbmc6IGJvb2xlYW47XG59XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc291cmNlUmVqZWN0ZWQ8VD4ge1xuICByZWFkb25seSB2YWx1ZTogUHJvbWlzZTxUPjtcbiAgcmVhZG9ubHkgbG9hZGluZzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZVJldHVybkludGVybmFsPFQ+IHtcbiAgX19icmFuZDogJ3Jlc291cmNlJztcbiAgX3N0YXRlOiAncGVuZGluZycgfCAncmVzb2x2ZWQnIHwgJ3JlamVjdGVkJztcbiAgX3Jlc29sdmVkOiBUIHwgdW5kZWZpbmVkO1xuICBfZXJyb3I6IEVycm9yIHwgdW5kZWZpbmVkO1xuICBfY2FjaGU6IG51bWJlcjtcbiAgX3RpbWVvdXQ6IG51bWJlcjtcbiAgdmFsdWU6IFByb21pc2U8VD47XG4gIGxvYWRpbmc6IGJvb2xlYW47XG59XG5cbi8qKlxuICogT3B0aW9ucyB0byBwYXNzIHRvIGB1c2VSZXNvdXJjZSQoKWBcbiAqXG4gKiBAcHVibGljXG4gKiBAc2VlIHVzZVJlc291cmNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb3VyY2VPcHRpb25zIHtcbiAgLyoqXG4gICAqIFRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzLiBJZiB0aGUgcmVzb3VyY2UgdGFrZXMgbW9yZSB0aGFuIHRoZSBzcGVjaWZpZWQgbWlsbGlzZWNvbmQsIGl0IHdpbGxcbiAgICogdGltZW91dC4gUmVzdWx0aW5nIG9uIGEgcmVqZWN0ZWQgcmVzb3VyY2UuXG4gICAqL1xuICB0aW1lb3V0PzogbnVtYmVyO1xufVxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgdXNlUmVzb3VyY2VRcmwgPSA8VD4oXG4gIHFybDogUVJMPFJlc291cmNlRm48VD4+LFxuICBvcHRzPzogUmVzb3VyY2VPcHRpb25zXG4pOiBSZXNvdXJjZVJldHVybjxUPiA9PiB7XG4gIGNvbnN0IHsgdmFsLCBzZXQsIGksIGlDdHggfSA9IHVzZVNlcXVlbnRpYWxTY29wZTxSZXNvdXJjZVJldHVybjxUPj4oKTtcbiAgaWYgKHZhbCAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuICBhc3NlcnRRcmwocXJsKTtcblxuICBjb25zdCBjb250YWluZXIgPSBpQ3R4LiRjb250YWluZXIkO1xuICBjb25zdCByZXNvdXJjZSA9IGNyZWF0ZVJlc291cmNlUmV0dXJuPFQ+KGNvbnRhaW5lciwgb3B0cyk7XG4gIGNvbnN0IGVsID0gaUN0eC4kaG9zdEVsZW1lbnQkO1xuICBjb25zdCB0YXNrID0gbmV3IFRhc2soXG4gICAgVGFza0ZsYWdzLkRJUlRZIHwgVGFza0ZsYWdzLlJFU09VUkNFLFxuICAgIGksXG4gICAgZWwsXG4gICAgcXJsLFxuICAgIHJlc291cmNlLFxuICAgIG51bGxcbiAgKSBhcyBSZXNvdXJjZURlc2NyaXB0b3I8YW55PjtcbiAgc2V0KHJlc291cmNlKTtcbiAgcnVuUmVzb3VyY2UodGFzaywgY29udGFpbmVyLCBlbCk7XG5cbiAgcmV0dXJuIHJlc291cmNlO1xufTtcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb3VyY2VQcm9wczxUPiB7XG4gIHJlYWRvbmx5IHZhbHVlOiBSZXNvdXJjZVJldHVybjxUPiB8IFNpZ25hbDxQcm9taXNlPFQ+IHwgVD4gfCBQcm9taXNlPFQ+O1xuICBvblJlc29sdmVkOiAodmFsdWU6IFQpID0+IEpTWE91dHB1dCB8IFByb21pc2U8SlNYT3V0cHV0PjtcbiAgb25QZW5kaW5nPzogKCkgPT4gSlNYT3V0cHV0IHwgUHJvbWlzZTxKU1hPdXRwdXQ+O1xuICBvblJlamVjdGVkPzogKHJlYXNvbjogRXJyb3IpID0+IEpTWE91dHB1dCB8IFByb21pc2U8SlNYT3V0cHV0Pjtcbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlUmVzb3VyY2VcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlUmVzb3VyY2UgaW5zdGVhZCBhbmQgcnVuIGBwbnBtIGRvY3Muc3luY2ApXG4vKipcbiAqIFRoaXMgbWV0aG9kIHdvcmtzIGxpa2UgYW4gYXN5bmMgbWVtb2l6ZWQgZnVuY3Rpb24gdGhhdCBydW5zIHdoZW5ldmVyIHNvbWUgdHJhY2tlZCB2YWx1ZSBjaGFuZ2VzXG4gKiBhbmQgcmV0dXJucyBzb21lIGRhdGEuXG4gKlxuICogYHVzZVJlc291cmNlYCBob3dldmVyIHJldHVybnMgaW1tZWRpYXRlIGEgYFJlc291cmNlUmV0dXJuYCBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgZGF0YSBhbmQgYVxuICogc3RhdGUgdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIGRhdGEgaXMgYXZhaWxhYmxlIG9yIG5vdC5cbiAqXG4gKiBUaGUgc3RhdHVzIGNhbiBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZzpcbiAqXG4gKiAtIGBwZW5kaW5nYCAtIHRoZSBkYXRhIGlzIG5vdCB5ZXQgYXZhaWxhYmxlLlxuICogLSBgcmVzb2x2ZWRgIC0gdGhlIGRhdGEgaXMgYXZhaWxhYmxlLlxuICogLSBgcmVqZWN0ZWRgIC0gdGhlIGRhdGEgaXMgbm90IGF2YWlsYWJsZSBkdWUgdG8gYW4gZXJyb3Igb3IgdGltZW91dC5cbiAqXG4gKiBCZSBjYXJlZnVsIHdoZW4gdXNpbmcgYSBgdHJ5L2NhdGNoYCBzdGF0ZW1lbnQgaW4gYHVzZVJlc291cmNlJGAuIElmIHlvdSBjYXRjaCB0aGUgZXJyb3IgYW5kIGRvbid0XG4gKiByZS10aHJvdyBpdCAob3IgYSBuZXcgRXJyb3IpLCB0aGUgcmVzb3VyY2Ugc3RhdHVzIHdpbGwgbmV2ZXIgYmUgYHJlamVjdGVkYC5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIEV4YW1wbGUgc2hvd2luZyBob3cgYHVzZVJlc291cmNlYCB0byBwZXJmb3JtIGEgZmV0Y2ggdG8gcmVxdWVzdCB0aGUgd2VhdGhlciwgd2hlbmV2ZXIgdGhlIGlucHV0XG4gKiBjaXR5IG5hbWUgY2hhbmdlcy5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBjaXR5UyA9IHVzZVNpZ25hbCgnJyk7XG4gKlxuICogICBjb25zdCB3ZWF0aGVyUmVzb3VyY2UgPSB1c2VSZXNvdXJjZSQoYXN5bmMgKHsgdHJhY2ssIGNsZWFudXAgfSkgPT4ge1xuICogICAgIGNvbnN0IGNpdHlOYW1lID0gdHJhY2soY2l0eVMpO1xuICogICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAqICAgICBjbGVhbnVwKCgpID0+IGFib3J0Q29udHJvbGxlci5hYm9ydCgnY2xlYW51cCcpKTtcbiAqICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgaHR0cDovL3dlYXRoZXJkYXRhLmNvbT9jaXR5PSR7Y2l0eU5hbWV9YCwge1xuICogICAgICAgc2lnbmFsOiBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICogICAgIH0pO1xuICogICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICogICAgIHJldHVybiBkYXRhIGFzIHsgdGVtcDogbnVtYmVyIH07XG4gKiAgIH0pO1xuICpcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAgPGlucHV0IG5hbWU9XCJjaXR5XCIgYmluZDp2YWx1ZT17Y2l0eVN9IC8+XG4gKiAgICAgICA8UmVzb3VyY2VcbiAqICAgICAgICAgdmFsdWU9e3dlYXRoZXJSZXNvdXJjZX1cbiAqICAgICAgICAgb25SZXNvbHZlZD17KHdlYXRoZXIpID0+IHtcbiAqICAgICAgICAgICByZXR1cm4gPGRpdj5UZW1wZXJhdHVyZToge3dlYXRoZXIudGVtcH08L2Rpdj47XG4gKiAgICAgICAgIH19XG4gKiAgICAgICAvPlxuICogICAgIDwvZGl2PlxuICogICApO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKiBAc2VlIFJlc291cmNlXG4gKiBAc2VlIFJlc291cmNlUmV0dXJuXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBSZXNvdXJjZSA9IDxUPihwcm9wczogUmVzb3VyY2VQcm9wczxUPik6IEpTWE91dHB1dCA9PiB7XG4gIC8vIFJlc291cmNlIHBhdGhcbiAgcmV0dXJuIF9qc3hTb3J0ZWQoRnJhZ21lbnQsIG51bGwsIG51bGwsIGdldFJlc291cmNlVmFsdWVBc1Byb21pc2UocHJvcHMpLCAwLCBudWxsKTtcbn07XG5cbmZ1bmN0aW9uIGdldFJlc291cmNlVmFsdWVBc1Byb21pc2U8VD4ocHJvcHM6IFJlc291cmNlUHJvcHM8VD4pOiBQcm9taXNlPEpTWE91dHB1dD4gfCBKU1hPdXRwdXQge1xuICBjb25zdCByZXNvdXJjZSA9IHByb3BzLnZhbHVlIGFzIFJlc291cmNlUmV0dXJuSW50ZXJuYWw8VD4gfCBQcm9taXNlPFQ+IHwgU2lnbmFsPFQ+O1xuICBpZiAoaXNSZXNvdXJjZVJldHVybihyZXNvdXJjZSkpIHtcbiAgICAvLyBjcmVhdGUgYSBzdWJzY3JpcHRpb24gZm9yIHRoZSByZXNvdXJjZS5fc3RhdGUgY2hhbmdlc1xuICAgIGNvbnN0IHN0YXRlID0gcmVzb3VyY2UuX3N0YXRlO1xuICAgIGNvbnN0IGlzQnJvd3NlciA9ICFpc1NlcnZlclBsYXRmb3JtKCk7XG4gICAgaWYgKGlzQnJvd3Nlcikge1xuICAgICAgREVCVUcgJiYgZGVidWdMb2coYFJFU09VUkNFX0NNUC4ke3N0YXRlfWAsICdWQUxVRTogJyArIHVudHJhY2soKCkgPT4gcmVzb3VyY2UuX3Jlc29sdmVkKSk7XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gJ3BlbmRpbmcnICYmIHByb3BzLm9uUGVuZGluZykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbih1c2VCaW5kSW52b2tlQ29udGV4dChwcm9wcy5vblBlbmRpbmcpKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09ICdyZWplY3RlZCcgJiYgcHJvcHMub25SZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc291cmNlLl9lcnJvciEpLnRoZW4odXNlQmluZEludm9rZUNvbnRleHQocHJvcHMub25SZWplY3RlZCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWRWYWx1ZSA9IHVudHJhY2soKCkgPT4gcmVzb3VyY2UuX3Jlc29sdmVkKSBhcyBUO1xuICAgICAgICBpZiAocmVzb2x2ZWRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy8gcmVzb2x2ZWQsIHBlbmRpbmcgd2l0aG91dCBvblBlbmRpbmcgcHJvcCBvciByZWplY3RlZCB3aXRob3V0IG9uUmVqZWN0ZWQgcHJvcFxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzb2x2ZWRWYWx1ZSkudGhlbih1c2VCaW5kSW52b2tlQ29udGV4dChwcm9wcy5vblJlc29sdmVkKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVudHJhY2soKCkgPT4gcmVzb3VyY2UudmFsdWUpLnRoZW4oXG4gICAgICB1c2VCaW5kSW52b2tlQ29udGV4dChwcm9wcy5vblJlc29sdmVkKSxcbiAgICAgIHVzZUJpbmRJbnZva2VDb250ZXh0KHByb3BzLm9uUmVqZWN0ZWQpXG4gICAgKTtcbiAgfSBlbHNlIGlmIChpc1Byb21pc2UocmVzb3VyY2UpKSB7XG4gICAgcmV0dXJuIHJlc291cmNlLnRoZW4oXG4gICAgICB1c2VCaW5kSW52b2tlQ29udGV4dChwcm9wcy5vblJlc29sdmVkKSxcbiAgICAgIHVzZUJpbmRJbnZva2VDb250ZXh0KHByb3BzLm9uUmVqZWN0ZWQpXG4gICAgKTtcbiAgfSBlbHNlIGlmIChpc1NpZ25hbChyZXNvdXJjZSkpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHJldHJ5T25Qcm9taXNlKCgpID0+IHJlc291cmNlLnZhbHVlKTtcbiAgICBjb25zdCBwcm9taXNlID0gaXNQcm9taXNlKHZhbHVlKSA/IHZhbHVlIDogUHJvbWlzZS5yZXNvbHZlKHZhbHVlKTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHVzZUJpbmRJbnZva2VDb250ZXh0KHByb3BzLm9uUmVzb2x2ZWQpKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc291cmNlIGFzIFQpLnRoZW4odXNlQmluZEludm9rZUNvbnRleHQocHJvcHMub25SZXNvbHZlZCkpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBfY3JlYXRlUmVzb3VyY2VSZXR1cm4gPSA8VD4ob3B0cz86IFJlc291cmNlT3B0aW9ucyk6IFJlc291cmNlUmV0dXJuSW50ZXJuYWw8VD4gPT4ge1xuICBjb25zdCByZXNvdXJjZTogUmVzb3VyY2VSZXR1cm5JbnRlcm5hbDxUPiA9IHtcbiAgICBfX2JyYW5kOiAncmVzb3VyY2UnLFxuICAgIHZhbHVlOiB1bmRlZmluZWQgYXMgbmV2ZXIsXG4gICAgbG9hZGluZzogIWlzU2VydmVyUGxhdGZvcm0oKSxcbiAgICBfcmVzb2x2ZWQ6IHVuZGVmaW5lZCBhcyBuZXZlcixcbiAgICBfZXJyb3I6IHVuZGVmaW5lZCBhcyBuZXZlcixcbiAgICBfc3RhdGU6ICdwZW5kaW5nJyxcbiAgICBfdGltZW91dDogb3B0cz8udGltZW91dCA/PyAtMSxcbiAgICBfY2FjaGU6IDAsXG4gIH07XG4gIHJldHVybiByZXNvdXJjZTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVSZXNvdXJjZVJldHVybiA9IDxUPihcbiAgY29udGFpbmVyOiBDb250YWluZXIsXG4gIG9wdHM/OiBSZXNvdXJjZU9wdGlvbnMsXG4gIGluaXRpYWxQcm9taXNlPzogUHJvbWlzZTxUPlxuKTogUmVzb3VyY2VSZXR1cm5JbnRlcm5hbDxUPiA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IF9jcmVhdGVSZXNvdXJjZVJldHVybjxUPihvcHRzKTtcbiAgcmVzdWx0LnZhbHVlID0gaW5pdGlhbFByb21pc2UgYXMgUHJvbWlzZTxUPjtcblxuICByZXR1cm4gY3JlYXRlU3RvcmUoY29udGFpbmVyLCByZXN1bHQsIFN0b3JlRmxhZ3MuUkVDVVJTSVZFKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1Jlc291cmNlUmV0dXJuID0gKG9iajogYW55KTogb2JqIGlzIFJlc291cmNlUmV0dXJuPHVua25vd24+ID0+IHtcbiAgcmV0dXJuIGlzT2JqZWN0KG9iaikgJiYgKGdldFN0b3JlVGFyZ2V0KG9iaiBhcyBhbnkpIHx8IG9iaikuX19icmFuZCA9PT0gJ3Jlc291cmNlJztcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb3VyY2VEZXNjcmlwdG9yPFQ+XG4gIGV4dGVuZHMgRGVzY3JpcHRvckJhc2U8UmVzb3VyY2VGbjxUPiwgUmVzb3VyY2VSZXR1cm5JbnRlcm5hbDxUPj4ge31cblxuZXhwb3J0IGNvbnN0IHJ1blJlc291cmNlID0gPFQ+KFxuICB0YXNrOiBSZXNvdXJjZURlc2NyaXB0b3I8VD4sXG4gIGNvbnRhaW5lcjogQ29udGFpbmVyLFxuICBob3N0OiBIb3N0RWxlbWVudFxuKTogVmFsdWVPclByb21pc2U8dm9pZD4gPT4ge1xuICB0YXNrLiRmbGFncyQgJj0gflRhc2tGbGFncy5ESVJUWTtcbiAgY2xlYW51cFRhc2sodGFzayk7XG5cbiAgY29uc3QgaUN0eCA9IG5ld0ludm9rZUNvbnRleHQoY29udGFpbmVyLiRsb2NhbGUkLCBob3N0LCB1bmRlZmluZWQsIFJlc291cmNlRXZlbnQpO1xuICBpQ3R4LiRjb250YWluZXIkID0gY29udGFpbmVyO1xuXG4gIGNvbnN0IHRhc2tGbiA9IHRhc2suJHFybCQuZ2V0Rm4oaUN0eCwgKCkgPT4gY2xlYXJBbGxFZmZlY3RzKGNvbnRhaW5lciwgdGFzaykpO1xuXG4gIGNvbnN0IHJlc291cmNlID0gdGFzay4kc3RhdGUkO1xuICBhc3NlcnREZWZpbmVkKFxuICAgIHJlc291cmNlLFxuICAgICd1c2VSZXNvdXJjZTogd2hlbiBydW5uaW5nIGEgcmVzb3VyY2UsIFwidGFzay5yZXNvdXJjZVwiIG11c3QgYmUgYSBkZWZpbmVkLicsXG4gICAgdGFza1xuICApO1xuXG4gIGNvbnN0IHRyYWNrID0gdHJhY2tGbih0YXNrLCBjb250YWluZXIpO1xuICBjb25zdCBbY2xlYW51cCwgY2xlYW51cHNdID0gY2xlYW51cEZuKHRhc2ssIChyZWFzb246IHVua25vd24pID0+XG4gICAgY29udGFpbmVyLmhhbmRsZUVycm9yKHJlYXNvbiwgaG9zdClcbiAgKTtcblxuICBjb25zdCByZXNvdXJjZVRhcmdldCA9IHVud3JhcFN0b3JlKHJlc291cmNlKTtcbiAgY29uc3Qgb3B0czogUmVzb3VyY2VDdHg8VD4gPSB7XG4gICAgdHJhY2ssXG4gICAgY2xlYW51cCxcbiAgICBjYWNoZShwb2xpY3kpIHtcbiAgICAgIGxldCBtaWxsaXNlY29uZHMgPSAwO1xuICAgICAgaWYgKHBvbGljeSA9PT0gJ2ltbXV0YWJsZScpIHtcbiAgICAgICAgbWlsbGlzZWNvbmRzID0gSW5maW5pdHk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtaWxsaXNlY29uZHMgPSBwb2xpY3k7XG4gICAgICB9XG4gICAgICByZXNvdXJjZS5fY2FjaGUgPSBtaWxsaXNlY29uZHM7XG4gICAgfSxcbiAgICBwcmV2aW91czogcmVzb3VyY2VUYXJnZXQuX3Jlc29sdmVkLFxuICB9O1xuXG4gIGxldCByZXNvbHZlOiAodjogVCkgPT4gdm9pZDtcbiAgbGV0IHJlamVjdDogKHY6IHVua25vd24pID0+IHZvaWQ7XG4gIGxldCBkb25lID0gZmFsc2U7XG5cbiAgY29uc3Qgc2V0U3RhdGUgPSAocmVzb2x2ZWQ6IGJvb2xlYW4sIHZhbHVlOiBUIHwgRXJyb3IpID0+IHtcbiAgICBpZiAoIWRvbmUpIHtcbiAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgaWYgKHJlc29sdmVkKSB7XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICByZXNvdXJjZVRhcmdldC5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHJlc291cmNlVGFyZ2V0Ll9zdGF0ZSA9ICdyZXNvbHZlZCc7XG4gICAgICAgIHJlc291cmNlVGFyZ2V0Ll9yZXNvbHZlZCA9IHZhbHVlIGFzIFQ7XG4gICAgICAgIHJlc291cmNlVGFyZ2V0Ll9lcnJvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmVzb2x2ZSh2YWx1ZSBhcyBUKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICByZXNvdXJjZVRhcmdldC5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHJlc291cmNlVGFyZ2V0Ll9zdGF0ZSA9ICdyZWplY3RlZCc7XG4gICAgICAgIHJlc291cmNlVGFyZ2V0Ll9lcnJvciA9IHZhbHVlIGFzIEVycm9yO1xuICAgICAgICByZWplY3QodmFsdWUgYXMgRXJyb3IpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzU2VydmVyUGxhdGZvcm0oKSkge1xuICAgICAgICBmb3JjZVN0b3JlRWZmZWN0cyhyZXNvdXJjZSwgJ19zdGF0ZScpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogQWRkIGNsZWFudXAgdG8gcmVzb2x2ZSB0aGUgcmVzb3VyY2UgaWYgd2UgYXJlIHRyeWluZyB0byBydW4gdGhlIHNhbWUgcmVzb3VyY2UgYWdhaW4gd2hpbGUgdGhlXG4gICAqIHByZXZpb3VzIG9uZSBpcyBub3QgcmVzb2x2ZWQgeWV0LiBUaGUgbmV4dCBgcnVuUmVzb3VyY2VgIHJ1biB3aWxsIGNhbGwgdGhpcyBjbGVhbnVwXG4gICAqL1xuICBjbGVhbnVwcy5wdXNoKCgpID0+IHtcbiAgICBpZiAodW50cmFjaygoKSA9PiByZXNvdXJjZS5sb2FkaW5nKSA9PT0gdHJ1ZSkge1xuICAgICAgY29uc3QgdmFsdWUgPSB1bnRyYWNrKCgpID0+IHJlc291cmNlLl9yZXNvbHZlZCkgYXMgVDtcbiAgICAgIHNldFN0YXRlKHRydWUsIHZhbHVlKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIEV4ZWN1dGUgbXV0YXRpb24gaW5zaWRlIGVtcHR5IGludm9jYXRpb25cbiAgLy8gVE9ETzogaXMgaXQgcmlnaHQ/IHdoeSB3ZSBuZWVkIHRvIGludm9rZSBpbnNpZGUgY29udGV4dCBhbmQgdHJpZ2dlciBlZmZlY3RzP1xuICBpbnZva2UoaUN0eCwgKCkgPT4ge1xuICAgIC8vIGNvbnNvbGUubG9nKCdSRVNPVVJDRS5wZW5kaW5nOiAnKTtcbiAgICByZXNvdXJjZS5fc3RhdGUgPSAncGVuZGluZyc7XG4gICAgcmVzb3VyY2UubG9hZGluZyA9ICFpc1NlcnZlclBsYXRmb3JtKCk7XG4gICAgcmVzb3VyY2UudmFsdWUgPSBuZXcgUHJvbWlzZSgociwgcmUpID0+IHtcbiAgICAgIHJlc29sdmUgPSByO1xuICAgICAgcmVqZWN0ID0gcmU7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IHByb21pc2U6IFZhbHVlT3JQcm9taXNlPHZvaWQ+ID0gc2FmZUNhbGwoXG4gICAgKCkgPT4gdGFza0ZuKG9wdHMpLFxuICAgICh2YWx1ZSkgPT4ge1xuICAgICAgc2V0U3RhdGUodHJ1ZSwgdmFsdWUpO1xuICAgIH0sXG4gICAgKGVycikgPT4ge1xuICAgICAgaWYgKGlzUHJvbWlzZShlcnIpKSB7XG4gICAgICAgIHJldHVybiBlcnIudGhlbigoKSA9PiBydW5SZXNvdXJjZSh0YXNrLCBjb250YWluZXIsIGhvc3QpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFN0YXRlKGZhbHNlLCBlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgKTtcblxuICBjb25zdCB0aW1lb3V0ID0gcmVzb3VyY2VUYXJnZXQuX3RpbWVvdXQ7XG4gIGlmICh0aW1lb3V0ID4gMCkge1xuICAgIHJldHVybiBQcm9taXNlLnJhY2UoW1xuICAgICAgcHJvbWlzZSxcbiAgICAgIGRlbGF5KHRpbWVvdXQpLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAoc2V0U3RhdGUoZmFsc2UsIG5ldyBFcnJvcigndGltZW91dCcpKSkge1xuICAgICAgICAgIGNsZWFudXBUYXNrKHRhc2spO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICBdKTtcbiAgfVxuICByZXR1cm4gcHJvbWlzZTtcbn07XG4iXX0=","import { QSlotS } from '../utils/markers';\nimport { _jsxSorted, Virtual } from './jsx-internal';\n/**\n * Allows to project the children of the current component. `<Slot/>` can only be used within the\n * context of a component defined with `component$`.\n *\n * @public\n */\nexport const Slot = (props) => {\n    return _jsxSorted(Virtual, null, { [QSlotS]: '' }, props.children, 0, props.name ?? '');\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2xvdC5wdWJsaWMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL2pzeC9zbG90LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDMUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUlyRDs7Ozs7R0FLRztBQUNILE1BQU0sQ0FBQyxNQUFNLElBQUksR0FHWixDQUFDLEtBQUssRUFBRSxFQUFFO0lBQ2IsT0FBTyxVQUFVLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUUsS0FBSyxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsQ0FBQztBQUMxRixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBRU2xvdFMgfSBmcm9tICcuLi91dGlscy9tYXJrZXJzJztcbmltcG9ydCB7IF9qc3hTb3J0ZWQsIFZpcnR1YWwgfSBmcm9tICcuL2pzeC1pbnRlcm5hbCc7XG5pbXBvcnQgdHlwZSB7IEZ1bmN0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgdHlwZSB7IEpTWENoaWxkcmVuIH0gZnJvbSAnLi90eXBlcy9qc3gtcXdpay1hdHRyaWJ1dGVzJztcblxuLyoqXG4gKiBBbGxvd3MgdG8gcHJvamVjdCB0aGUgY2hpbGRyZW4gb2YgdGhlIGN1cnJlbnQgY29tcG9uZW50LiBgPFNsb3QvPmAgY2FuIG9ubHkgYmUgdXNlZCB3aXRoaW4gdGhlXG4gKiBjb250ZXh0IG9mIGEgY29tcG9uZW50IGRlZmluZWQgd2l0aCBgY29tcG9uZW50JGAuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgU2xvdDogRnVuY3Rpb25Db21wb25lbnQ8e1xuICBuYW1lPzogc3RyaW5nO1xuICBjaGlsZHJlbj86IEpTWENoaWxkcmVuO1xufT4gPSAocHJvcHMpID0+IHtcbiAgcmV0dXJuIF9qc3hTb3J0ZWQoVmlydHVhbCwgbnVsbCwgeyBbUVNsb3RTXTogJycgfSwgcHJvcHMuY2hpbGRyZW4sIDAsIHByb3BzLm5hbWUgPz8gJycpO1xufTtcbiJdfQ==","import { NEEDS_COMPUTATION, STORE_ALL_PROPS } from '../../reactive-primitives/types';\nimport { _UNINITIALIZED } from '../utils/constants';\nimport { EMPTY_ARRAY, EMPTY_OBJ } from '../utils/flyweight';\n// Keep last\nimport { Slot } from '../jsx/slot.public';\nimport { Fragment } from '../jsx/jsx-runtime';\n// Used for allocate, make sure they are in sync with Constants\nexport const _constants = [\n    undefined,\n    null,\n    true,\n    false,\n    '',\n    EMPTY_ARRAY,\n    EMPTY_OBJ,\n    NEEDS_COMPUTATION,\n    STORE_ALL_PROPS,\n    _UNINITIALIZED,\n    Slot,\n    Fragment,\n    NaN,\n    Infinity,\n    -Infinity,\n    Number.MAX_SAFE_INTEGER,\n    Number.MAX_SAFE_INTEGER - 1,\n    Number.MIN_SAFE_INTEGER,\n];\n// Used for dumpState, make sure they are in sync with Constants\nexport const _constantNames = [\n    'undefined',\n    'null',\n    'true',\n    'false',\n    \"''\",\n    'EMPTY_ARRAY',\n    'EMPTY_OBJ',\n    'NEEDS_COMPUTATION',\n    'STORE_ALL_PROPS',\n    '_UNINITIALIZED',\n    'Slot',\n    'Fragment',\n    'NaN',\n    'Infinity',\n    '-Infinity',\n    'MAX_SAFE_INTEGER',\n    'MAX_SAFE_INTEGER-1',\n    'MIN_SAFE_INTEGER',\n];\n// Used for dumpState, make sure they are in sync with TypeIds\nexport const _typeIdNames = [\n    'Plain',\n    'RootRef',\n    'ForwardRef',\n    'Constant',\n    'Array',\n    'Object',\n    'URL',\n    'Date',\n    'Regex',\n    'VNode',\n    'RefVNode',\n    'BigInt',\n    'URLSearchParams',\n    'ForwardRefs',\n    'Error',\n    'Promise',\n    'Set',\n    'Map',\n    'Uint8Array',\n    'QRL',\n    'PreloadQRL',\n    'Task',\n    'Resource',\n    'Component',\n    'Signal',\n    'WrappedSignal',\n    'ComputedSignal',\n    'AsyncComputedSignal',\n    'SerializerSignal',\n    'Store',\n    'FormData',\n    'JSXNode',\n    'PropsProxy',\n    'SubscriptionData',\n];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC9zZXJkZXMvY29uc3RhbnRzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxlQUFlLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUNyRixPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDcEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUM1RCxZQUFZO0FBQ1osT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQzFDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQXdCOUMsK0RBQStEO0FBQy9ELE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRztJQUN4QixTQUFTO0lBQ1QsSUFBSTtJQUNKLElBQUk7SUFDSixLQUFLO0lBQ0wsRUFBRTtJQUNGLFdBQVc7SUFDWCxTQUFTO0lBQ1QsaUJBQWlCO0lBQ2pCLGVBQWU7SUFDZixjQUFjO0lBQ2QsSUFBSTtJQUNKLFFBQVE7SUFDUixHQUFHO0lBQ0gsUUFBUTtJQUNSLENBQUMsUUFBUTtJQUNULE1BQU0sQ0FBQyxnQkFBZ0I7SUFDdkIsTUFBTSxDQUFDLGdCQUFnQixHQUFHLENBQUM7SUFDM0IsTUFBTSxDQUFDLGdCQUFnQjtDQUNmLENBQUM7QUFFWCxnRUFBZ0U7QUFDaEUsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHO0lBQzVCLFdBQVc7SUFDWCxNQUFNO0lBQ04sTUFBTTtJQUNOLE9BQU87SUFDUCxJQUFJO0lBQ0osYUFBYTtJQUNiLFdBQVc7SUFDWCxtQkFBbUI7SUFDbkIsaUJBQWlCO0lBQ2pCLGdCQUFnQjtJQUNoQixNQUFNO0lBQ04sVUFBVTtJQUNWLEtBQUs7SUFDTCxVQUFVO0lBQ1YsV0FBVztJQUNYLGtCQUFrQjtJQUNsQixvQkFBb0I7SUFDcEIsa0JBQWtCO0NBQ1YsQ0FBQztBQTBDWCw4REFBOEQ7QUFDOUQsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHO0lBQzFCLE9BQU87SUFDUCxTQUFTO0lBQ1QsWUFBWTtJQUNaLFVBQVU7SUFDVixPQUFPO0lBQ1AsUUFBUTtJQUNSLEtBQUs7SUFDTCxNQUFNO0lBQ04sT0FBTztJQUNQLE9BQU87SUFDUCxVQUFVO0lBQ1YsUUFBUTtJQUNSLGlCQUFpQjtJQUNqQixhQUFhO0lBQ2IsT0FBTztJQUNQLFNBQVM7SUFDVCxLQUFLO0lBQ0wsS0FBSztJQUNMLFlBQVk7SUFDWixLQUFLO0lBQ0wsWUFBWTtJQUNaLE1BQU07SUFDTixVQUFVO0lBQ1YsV0FBVztJQUNYLFFBQVE7SUFDUixlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLHFCQUFxQjtJQUNyQixrQkFBa0I7SUFDbEIsT0FBTztJQUNQLFVBQVU7SUFDVixTQUFTO0lBQ1QsWUFBWTtJQUNaLGtCQUFrQjtDQUNuQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTkVFRFNfQ09NUFVUQVRJT04sIFNUT1JFX0FMTF9QUk9QUyB9IGZyb20gJy4uLy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvdHlwZXMnO1xuaW1wb3J0IHsgX1VOSU5JVElBTElaRUQgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHsgRU1QVFlfQVJSQVksIEVNUFRZX09CSiB9IGZyb20gJy4uL3V0aWxzL2ZseXdlaWdodCc7XG4vLyBLZWVwIGxhc3RcbmltcG9ydCB7IFNsb3QgfSBmcm9tICcuLi9qc3gvc2xvdC5wdWJsaWMnO1xuaW1wb3J0IHsgRnJhZ21lbnQgfSBmcm9tICcuLi9qc3gvanN4LXJ1bnRpbWUnO1xuXG5leHBvcnQgY29uc3QgZW51bSBDb25zdGFudHMge1xuICBVbmRlZmluZWQsXG4gIE51bGwsXG4gIFRydWUsXG4gIEZhbHNlLFxuICBFbXB0eVN0cmluZyxcbiAgRU1QVFlfQVJSQVksXG4gIEVNUFRZX09CSixcbiAgTkVFRFNfQ09NUFVUQVRJT04sXG4gIFNUT1JFX0FMTF9QUk9QUyxcbiAgVU5JTklUSUFMSVpFRCxcbiAgU2xvdCxcbiAgRnJhZ21lbnQsXG4gIE5hTixcbiAgUG9zaXRpdmVJbmZpbml0eSxcbiAgTmVnYXRpdmVJbmZpbml0eSxcbiAgTWF4U2FmZUludCxcbiAgLy8gdXNlZCBmb3IgY2xvc2UgZnJhZ21lbnRcbiAgQWxtb3N0TWF4U2FmZUludCxcbiAgTWluU2FmZUludCxcbn1cblxuLy8gVXNlZCBmb3IgYWxsb2NhdGUsIG1ha2Ugc3VyZSB0aGV5IGFyZSBpbiBzeW5jIHdpdGggQ29uc3RhbnRzXG5leHBvcnQgY29uc3QgX2NvbnN0YW50cyA9IFtcbiAgdW5kZWZpbmVkLFxuICBudWxsLFxuICB0cnVlLFxuICBmYWxzZSxcbiAgJycsXG4gIEVNUFRZX0FSUkFZLFxuICBFTVBUWV9PQkosXG4gIE5FRURTX0NPTVBVVEFUSU9OLFxuICBTVE9SRV9BTExfUFJPUFMsXG4gIF9VTklOSVRJQUxJWkVELFxuICBTbG90LFxuICBGcmFnbWVudCxcbiAgTmFOLFxuICBJbmZpbml0eSxcbiAgLUluZmluaXR5LFxuICBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixcbiAgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgLSAxLFxuICBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUixcbl0gYXMgY29uc3Q7XG5cbi8vIFVzZWQgZm9yIGR1bXBTdGF0ZSwgbWFrZSBzdXJlIHRoZXkgYXJlIGluIHN5bmMgd2l0aCBDb25zdGFudHNcbmV4cG9ydCBjb25zdCBfY29uc3RhbnROYW1lcyA9IFtcbiAgJ3VuZGVmaW5lZCcsXG4gICdudWxsJyxcbiAgJ3RydWUnLFxuICAnZmFsc2UnLFxuICBcIicnXCIsXG4gICdFTVBUWV9BUlJBWScsXG4gICdFTVBUWV9PQkonLFxuICAnTkVFRFNfQ09NUFVUQVRJT04nLFxuICAnU1RPUkVfQUxMX1BST1BTJyxcbiAgJ19VTklOSVRJQUxJWkVEJyxcbiAgJ1Nsb3QnLFxuICAnRnJhZ21lbnQnLFxuICAnTmFOJyxcbiAgJ0luZmluaXR5JyxcbiAgJy1JbmZpbml0eScsXG4gICdNQVhfU0FGRV9JTlRFR0VSJyxcbiAgJ01BWF9TQUZFX0lOVEVHRVItMScsXG4gICdNSU5fU0FGRV9JTlRFR0VSJyxcbl0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBlbnVtIFR5cGVJZHMge1xuICBQbGFpbixcbiAgUm9vdFJlZixcbiAgRm9yd2FyZFJlZixcbiAgLyoqIFVuZGVmaW5lZCwgbnVsbCwgdHJ1ZSwgZmFsc2UsIE5hTiwgK0luZiwgLUluZiwgU2xvdCwgRnJhZ21lbnQgKi9cbiAgQ29uc3RhbnQsXG4gIEFycmF5LFxuICBPYmplY3QsXG4gIFVSTCxcbiAgRGF0ZSxcbiAgUmVnZXgsXG4gIFZOb2RlLFxuICAvLy8gXiBzaW5nbGUtZGlnaXQgdHlwZXMgXlxuICBSZWZWTm9kZSxcbiAgQmlnSW50LFxuICBVUkxTZWFyY2hQYXJhbXMsXG4gIEZvcndhcmRSZWZzLFxuICAvLy8gQWxsIHR5cGVzIGJlbG93IHdpbGwgYmUgaW5mbGF0ZSgpZFxuICBFcnJvcixcbiAgUHJvbWlzZSxcbiAgU2V0LFxuICBNYXAsXG4gIFVpbnQ4QXJyYXksXG4gIFFSTCxcbiAgUHJlbG9hZFFSTCxcbiAgVGFzayxcbiAgUmVzb3VyY2UsXG4gIENvbXBvbmVudCxcbiAgU2lnbmFsLFxuICBXcmFwcGVkU2lnbmFsLFxuICBDb21wdXRlZFNpZ25hbCxcbiAgQXN5bmNDb21wdXRlZFNpZ25hbCxcbiAgU2VyaWFsaXplclNpZ25hbCxcbiAgU3RvcmUsXG4gIEZvcm1EYXRhLFxuICBKU1hOb2RlLFxuICBQcm9wc1Byb3h5LFxuICBTdWJzY3JpcHRpb25EYXRhLFxufVxuXG4vLyBVc2VkIGZvciBkdW1wU3RhdGUsIG1ha2Ugc3VyZSB0aGV5IGFyZSBpbiBzeW5jIHdpdGggVHlwZUlkc1xuZXhwb3J0IGNvbnN0IF90eXBlSWROYW1lcyA9IFtcbiAgJ1BsYWluJyxcbiAgJ1Jvb3RSZWYnLFxuICAnRm9yd2FyZFJlZicsXG4gICdDb25zdGFudCcsXG4gICdBcnJheScsXG4gICdPYmplY3QnLFxuICAnVVJMJyxcbiAgJ0RhdGUnLFxuICAnUmVnZXgnLFxuICAnVk5vZGUnLFxuICAnUmVmVk5vZGUnLFxuICAnQmlnSW50JyxcbiAgJ1VSTFNlYXJjaFBhcmFtcycsXG4gICdGb3J3YXJkUmVmcycsXG4gICdFcnJvcicsXG4gICdQcm9taXNlJyxcbiAgJ1NldCcsXG4gICdNYXAnLFxuICAnVWludDhBcnJheScsXG4gICdRUkwnLFxuICAnUHJlbG9hZFFSTCcsXG4gICdUYXNrJyxcbiAgJ1Jlc291cmNlJyxcbiAgJ0NvbXBvbmVudCcsXG4gICdTaWduYWwnLFxuICAnV3JhcHBlZFNpZ25hbCcsXG4gICdDb21wdXRlZFNpZ25hbCcsXG4gICdBc3luY0NvbXB1dGVkU2lnbmFsJyxcbiAgJ1NlcmlhbGl6ZXJTaWduYWwnLFxuICAnU3RvcmUnLFxuICAnRm9ybURhdGEnLFxuICAnSlNYTm9kZScsXG4gICdQcm9wc1Byb3h5JyxcbiAgJ1N1YnNjcmlwdGlvbkRhdGEnLFxuXTtcbiJdfQ==","import { isDev } from '@qwik.dev/core/build';\nimport { qError } from '../error/error';\nimport { getPlatform } from '../platform/platform';\nimport { createQRL } from '../qrl/qrl-class';\nimport { isSyncQrl } from '../qrl/qrl-utils';\nimport { assertDefined } from '../error/assert';\nexport function qrlToString(serializationContext, value, raw) {\n    let symbol = value.$symbol$;\n    let chunk = value.$chunk$;\n    const platform = getPlatform();\n    if (platform) {\n        const result = platform.chunkForSymbol(symbol, chunk, value.dev?.file);\n        if (result) {\n            chunk = result[1];\n            symbol = result[0];\n        }\n    }\n    const isSync = isSyncQrl(value);\n    if (!isSync) {\n        // If we have a symbol we need to resolve the chunk.\n        if (!chunk) {\n            chunk = serializationContext.$symbolToChunkResolver$(value.$hash$);\n        }\n        // in Dev mode we need to keep track of the symbols\n        if (isDev) {\n            const backChannel = (globalThis.__qrl_back_channel__ ||=\n                new Map());\n            // During tests the resolved value is always available\n            backChannel.set(value.$symbol$, value.resolved);\n            if (!chunk) {\n                chunk = QRL_RUNTIME_CHUNK;\n            }\n        }\n        if (!chunk) {\n            throw qError(14 /* QError.qrlMissingChunk */, [value.$symbol$]);\n        }\n        if (chunk.startsWith('./')) {\n            chunk = chunk.slice(2);\n        }\n    }\n    else {\n        const fn = value.resolved;\n        chunk = '';\n        // TODO test that provided stringified fn is used\n        symbol = String(serializationContext.$addSyncFn$(null, 0, fn));\n    }\n    if (!value.$capture$ && Array.isArray(value.$captureRef$) && value.$captureRef$.length > 0) {\n        // We refer by id so every capture needs to be a root\n        value.$capture$ = value.$captureRef$.map((ref) => `${serializationContext.$addRoot$(ref)}`);\n    }\n    if (raw) {\n        return [chunk, symbol, value.$capture$];\n    }\n    let qrlStringInline = `${chunk}#${symbol}`;\n    if (value.$capture$ && value.$capture$.length > 0) {\n        qrlStringInline += `[${value.$capture$.join(' ')}]`;\n    }\n    return qrlStringInline;\n}\nexport function createQRLWithBackChannel(chunk, symbol, captureIds) {\n    let qrlRef = null;\n    if (isDev && chunk === QRL_RUNTIME_CHUNK) {\n        const backChannel = globalThis.__qrl_back_channel__;\n        assertDefined(backChannel, 'Missing QRL_RUNTIME_CHUNK');\n        qrlRef = backChannel.get(symbol);\n    }\n    return createQRL(chunk, symbol, qrlRef, null, captureIds, null);\n}\n/** Parses \"chunk#hash[...rootRef]\" */\nexport function parseQRL(qrl) {\n    const hashIdx = qrl.indexOf('#');\n    const captureStart = qrl.indexOf('[', hashIdx);\n    const captureEnd = qrl.indexOf(']', captureStart);\n    const chunk = hashIdx > -1 ? qrl.slice(0, hashIdx) : qrl.slice(0, captureStart);\n    const symbol = captureStart > -1 ? qrl.slice(hashIdx + 1, captureStart) : qrl.slice(hashIdx + 1);\n    const captureIds = captureStart > -1 && captureEnd > -1\n        ? qrl\n            .slice(captureStart + 1, captureEnd)\n            .split(' ')\n            .filter((v) => v.length)\n            .map((s) => parseInt(s, 10))\n        : null;\n    return createQRLWithBackChannel(chunk, symbol, captureIds);\n}\nexport const QRL_RUNTIME_CHUNK = 'mock-chunk';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLXRvLXN0cmluZy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvc2VyZGVzL3FybC10by1zdHJpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBRTdDLE9BQU8sRUFBRSxNQUFNLEVBQVUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNoRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDbkQsT0FBTyxFQUFFLFNBQVMsRUFBMEMsTUFBTSxrQkFBa0IsQ0FBQztBQUNyRixPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDN0MsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBV2hELE1BQU0sVUFBVSxXQUFXLENBQ3pCLG9CQUEwQyxFQUMxQyxLQUFvQyxFQUNwQyxHQUFVO0lBRVYsSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQztJQUM1QixJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDO0lBRTFCLE1BQU0sUUFBUSxHQUFHLFdBQVcsRUFBRSxDQUFDO0lBQy9CLElBQUksUUFBUSxFQUFFLENBQUM7UUFDYixNQUFNLE1BQU0sR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN2RSxJQUFJLE1BQU0sRUFBRSxDQUFDO1lBQ1gsS0FBSyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNsQixNQUFNLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3JCLENBQUM7SUFDSCxDQUFDO0lBRUQsTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2hDLElBQUksQ0FBQyxNQUFNLEVBQUUs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QUFLLEVBQUUsTUFBTSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0FBQzdELENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBRyxZQUFZLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0RldiB9IGZyb20gJ0Bxd2lrLmRldi9jb3JlL2J1aWxkJztcbmltcG9ydCB7IHR5cGUgU2VyaWFsaXphdGlvbkNvbnRleHQgfSBmcm9tICcuL3NlcmlhbGl6YXRpb24tY29udGV4dCc7XG5pbXBvcnQgeyBxRXJyb3IsIFFFcnJvciB9IGZyb20gJy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IGdldFBsYXRmb3JtIH0gZnJvbSAnLi4vcGxhdGZvcm0vcGxhdGZvcm0nO1xuaW1wb3J0IHsgY3JlYXRlUVJMLCB0eXBlIFFSTEludGVybmFsLCB0eXBlIFN5bmNRUkxJbnRlcm5hbCB9IGZyb20gJy4uL3FybC9xcmwtY2xhc3MnO1xuaW1wb3J0IHsgaXNTeW5jUXJsIH0gZnJvbSAnLi4vcXJsL3FybC11dGlscyc7XG5pbXBvcnQgeyBhc3NlcnREZWZpbmVkIH0gZnJvbSAnLi4vZXJyb3IvYXNzZXJ0JztcblxuZXhwb3J0IGZ1bmN0aW9uIHFybFRvU3RyaW5nKFxuICBzZXJpYWxpemF0aW9uQ29udGV4dDogU2VyaWFsaXphdGlvbkNvbnRleHQsXG4gIHZhbHVlOiBRUkxJbnRlcm5hbCB8IFN5bmNRUkxJbnRlcm5hbFxuKTogc3RyaW5nO1xuZXhwb3J0IGZ1bmN0aW9uIHFybFRvU3RyaW5nKFxuICBzZXJpYWxpemF0aW9uQ29udGV4dDogU2VyaWFsaXphdGlvbkNvbnRleHQsXG4gIHZhbHVlOiBRUkxJbnRlcm5hbCB8IFN5bmNRUkxJbnRlcm5hbCxcbiAgcmF3OiB0cnVlXG4pOiBbc3RyaW5nLCBzdHJpbmcsIHN0cmluZ1tdIHwgbnVsbF07XG5leHBvcnQgZnVuY3Rpb24gcXJsVG9TdHJpbmcoXG4gIHNlcmlhbGl6YXRpb25Db250ZXh0OiBTZXJpYWxpemF0aW9uQ29udGV4dCxcbiAgdmFsdWU6IFFSTEludGVybmFsIHwgU3luY1FSTEludGVybmFsLFxuICByYXc/OiB0cnVlXG4pOiBzdHJpbmcgfCBbc3RyaW5nLCBzdHJpbmcsIHN0cmluZ1tdIHwgbnVsbF0ge1xuICBsZXQgc3ltYm9sID0gdmFsdWUuJHN5bWJvbCQ7XG4gIGxldCBjaHVuayA9IHZhbHVlLiRjaHVuayQ7XG5cbiAgY29uc3QgcGxhdGZvcm0gPSBnZXRQbGF0Zm9ybSgpO1xuICBpZiAocGxhdGZvcm0pIHtcbiAgICBjb25zdCByZXN1bHQgPSBwbGF0Zm9ybS5jaHVua0ZvclN5bWJvbChzeW1ib2wsIGNodW5rLCB2YWx1ZS5kZXY/LmZpbGUpO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIGNodW5rID0gcmVzdWx0WzFdO1xuICAgICAgc3ltYm9sID0gcmVzdWx0WzBdO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGlzU3luYyA9IGlzU3luY1FybCh2YWx1ZSk7XG4gIGlmICghaXNTeW5jKSB7XG4gICAgLy8gSWYgd2UgaGF2ZSBhIHN5bWJvbCB3ZSBuZWVkIHRvIHJlc29sdmUgdGhlIGNodW5rLlxuICAgIGlmICghY2h1bmspIHtcbiAgICAgIGNodW5rID0gc2VyaWFsaXphdGlvbkNvbnRleHQuJHN5bWJvbFRvQ2h1bmtSZXNvbHZlciQodmFsdWUuJGhhc2gkKTtcbiAgICB9XG4gICAgLy8gaW4gRGV2IG1vZGUgd2UgbmVlZCB0byBrZWVwIHRyYWNrIG9mIHRoZSBzeW1ib2xzXG4gICAgaWYgKGlzRGV2KSB7XG4gICAgICBjb25zdCBiYWNrQ2hhbm5lbDogTWFwPHN0cmluZywgdW5rbm93bj4gPSAoKGdsb2JhbFRoaXMgYXMgYW55KS5fX3FybF9iYWNrX2NoYW5uZWxfXyB8fD1cbiAgICAgICAgbmV3IE1hcCgpKTtcbiAgICAgIC8vIER1cmluZyB0ZXN0cyB0aGUgcmVzb2x2ZWQgdmFsdWUgaXMgYWx3YXlzIGF2YWlsYWJsZVxuICAgICAgYmFja0NoYW5uZWwuc2V0KHZhbHVlLiRzeW1ib2wkLCB2YWx1ZS5yZXNvbHZlZCk7XG4gICAgICBpZiAoIWNodW5rKSB7XG4gICAgICAgIGNodW5rID0gUVJMX1JVTlRJTUVfQ0hVTks7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghY2h1bmspIHtcbiAgICAgIHRocm93IHFFcnJvcihRRXJyb3IucXJsTWlzc2luZ0NodW5rLCBbdmFsdWUuJHN5bWJvbCRdKTtcbiAgICB9XG4gICAgaWYgKGNodW5rLnN0YXJ0c1dpdGgoJy4vJykpIHtcbiAgICAgIGNodW5rID0gY2h1bmsuc2xpY2UoMik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IGZuID0gdmFsdWUucmVzb2x2ZWQgYXMgRnVuY3Rpb247XG4gICAgY2h1bmsgPSAnJztcbiAgICAvLyBUT0RPIHRlc3QgdGhhdCBwcm92aWRlZCBzdHJpbmdpZmllZCBmbiBpcyB1c2VkXG4gICAgc3ltYm9sID0gU3RyaW5nKHNlcmlhbGl6YXRpb25Db250ZXh0LiRhZGRTeW5jRm4kKG51bGwsIDAsIGZuKSk7XG4gIH1cblxuICBpZiAoIXZhbHVlLiRjYXB0dXJlJCAmJiBBcnJheS5pc0FycmF5KHZhbHVlLiRjYXB0dXJlUmVmJCkgJiYgdmFsdWUuJGNhcHR1cmVSZWYkLmxlbmd0aCA+IDApIHtcbiAgICAvLyBXZSByZWZlciBieSBpZCBzbyBldmVyeSBjYXB0dXJlIG5lZWRzIHRvIGJlIGEgcm9vdFxuICAgIHZhbHVlLiRjYXB0dXJlJCA9IHZhbHVlLiRjYXB0dXJlUmVmJC5tYXAoKHJlZikgPT4gYCR7c2VyaWFsaXphdGlvbkNvbnRleHQuJGFkZFJvb3QkKHJlZil9YCk7XG4gIH1cbiAgaWYgKHJhdykge1xuICAgIHJldHVybiBbY2h1bmssIHN5bWJvbCwgdmFsdWUuJGNhcHR1cmUkXTtcbiAgfVxuICBsZXQgcXJsU3RyaW5nSW5saW5lID0gYCR7Y2h1bmt9IyR7c3ltYm9sfWA7XG4gIGlmICh2YWx1ZS4kY2FwdHVyZSQgJiYgdmFsdWUuJGNhcHR1cmUkLmxlbmd0aCA+IDApIHtcbiAgICBxcmxTdHJpbmdJbmxpbmUgKz0gYFske3ZhbHVlLiRjYXB0dXJlJC5qb2luKCcgJyl9XWA7XG4gIH1cbiAgcmV0dXJuIHFybFN0cmluZ0lubGluZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVFSTFdpdGhCYWNrQ2hhbm5lbChcbiAgY2h1bms6IHN0cmluZyxcbiAgc3ltYm9sOiBzdHJpbmcsXG4gIGNhcHR1cmVJZHM/OiBudW1iZXJbXSB8IG51bGxcbik6IFFSTEludGVybmFsPGFueT4ge1xuICBsZXQgcXJsUmVmID0gbnVsbDtcbiAgaWYgKGlzRGV2ICYmIGNodW5rID09PSBRUkxfUlVOVElNRV9DSFVOSykge1xuICAgIGNvbnN0IGJhY2tDaGFubmVsOiBNYXA8c3RyaW5nLCBGdW5jdGlvbj4gPSAoZ2xvYmFsVGhpcyBhcyBhbnkpLl9fcXJsX2JhY2tfY2hhbm5lbF9fO1xuICAgIGFzc2VydERlZmluZWQoYmFja0NoYW5uZWwsICdNaXNzaW5nIFFSTF9SVU5USU1FX0NIVU5LJyk7XG4gICAgcXJsUmVmID0gYmFja0NoYW5uZWwuZ2V0KHN5bWJvbCk7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZVFSTChjaHVuaywgc3ltYm9sLCBxcmxSZWYsIG51bGwsIGNhcHR1cmVJZHMhLCBudWxsKTtcbn1cblxuLyoqIFBhcnNlcyBcImNodW5rI2hhc2hbLi4ucm9vdFJlZl1cIiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUVJMKHFybDogc3RyaW5nKTogUVJMSW50ZXJuYWw8YW55PiB7XG4gIGNvbnN0IGhhc2hJZHggPSBxcmwuaW5kZXhPZignIycpO1xuICBjb25zdCBjYXB0dXJlU3RhcnQgPSBxcmwuaW5kZXhPZignWycsIGhhc2hJZHgpO1xuICBjb25zdCBjYXB0dXJlRW5kID0gcXJsLmluZGV4T2YoJ10nLCBjYXB0dXJlU3RhcnQpO1xuICBjb25zdCBjaHVuayA9IGhhc2hJZHggPiAtMSA/IHFybC5zbGljZSgwLCBoYXNoSWR4KSA6IHFybC5zbGljZSgwLCBjYXB0dXJlU3RhcnQpO1xuXG4gIGNvbnN0IHN5bWJvbCA9IGNhcHR1cmVTdGFydCA+IC0xID8gcXJsLnNsaWNlKGhhc2hJZHggKyAxLCBjYXB0dXJlU3RhcnQpIDogcXJsLnNsaWNlKGhhc2hJZHggKyAxKTtcbiAgY29uc3QgY2FwdHVyZUlkcyA9XG4gICAgY2FwdHVyZVN0YXJ0ID4gLTEgJiYgY2FwdHVyZUVuZCA+IC0xXG4gICAgICA/IHFybFxuICAgICAgICAgIC5zbGljZShjYXB0dXJlU3RhcnQgKyAxLCBjYXB0dXJlRW5kKVxuICAgICAgICAgIC5zcGxpdCgnICcpXG4gICAgICAgICAgLmZpbHRlcigodikgPT4gdi5sZW5ndGgpXG4gICAgICAgICAgLm1hcCgocykgPT4gcGFyc2VJbnQocywgMTApKVxuICAgICAgOiBudWxsO1xuICByZXR1cm4gY3JlYXRlUVJMV2l0aEJhY2tDaGFubmVsKGNodW5rLCBzeW1ib2wsIGNhcHR1cmVJZHMpO1xufVxuXG5leHBvcnQgY29uc3QgUVJMX1JVTlRJTUVfQ0hVTksgPSAnbW9jay1jaHVuayc7XG4iXX0=","import { ensureMaterialized, vnode_getNode, vnode_isVNode, vnode_locate } from '../../client/vnode';\nimport { AsyncComputedSignalImpl } from '../../reactive-primitives/impl/async-computed-signal-impl';\nimport { ComputedSignalImpl } from '../../reactive-primitives/impl/computed-signal-impl';\nimport { SerializerSignalImpl } from '../../reactive-primitives/impl/serializer-signal-impl';\nimport { SignalImpl } from '../../reactive-primitives/impl/signal-impl';\nimport { getOrCreateStore } from '../../reactive-primitives/impl/store';\nimport { WrappedSignalImpl } from '../../reactive-primitives/impl/wrapped-signal-impl';\nimport { SubscriptionData } from '../../reactive-primitives/subscription-data';\nimport { createResourceReturn } from '../../use/use-resource';\nimport { Task } from '../../use/use-task';\nimport { componentQrl } from '../component.public';\nimport { qError } from '../error/error';\nimport { JSXNodeImpl } from '../jsx/jsx-node';\nimport { createPropsProxy } from '../jsx/props-proxy';\nimport { _UNINITIALIZED } from '../utils/constants';\nimport { _constants } from './constants';\nimport { needsInflation } from './deser-proxy';\nimport { createQRLWithBackChannel } from './qrl-to-string';\nexport const resolvers = new WeakMap();\nexport const pendingStoreTargets = new Map();\nexport const allocate = (container, typeId, value) => {\n    switch (typeId) {\n        case 0 /* TypeIds.Plain */:\n            return value;\n        case 1 /* TypeIds.RootRef */:\n            return container.$getObjectById$(value);\n        case 2 /* TypeIds.ForwardRef */:\n            if (!container.$forwardRefs$) {\n                return _UNINITIALIZED;\n            }\n            const rootRef = container.$forwardRefs$[value];\n            if (rootRef === -1 || rootRef === undefined) {\n                return _UNINITIALIZED;\n            }\n            else {\n                return container.$getObjectById$(rootRef);\n            }\n        case 13 /* TypeIds.ForwardRefs */:\n            return value;\n        case 3 /* TypeIds.Constant */:\n            return _constants[value];\n        case 4 /* TypeIds.Array */:\n            return Array(value.length / 2);\n        case 5 /* TypeIds.Object */:\n            return {};\n        case 19 /* TypeIds.QRL */:\n        case 20 /* TypeIds.PreloadQRL */: {\n            if (typeof value === 'string') {\n                const data = value.split(' ').map(Number);\n                const chunk = container.$getObjectById$(data[0]);\n                const symbol = container.$getObjectById$(data[1]);\n                const captureIds = data.length > 2 ? data.slice(2) : null;\n                return createQRLWithBackChannel(chunk, symbol, captureIds);\n            }\n            else {\n                return createQRLWithBackChannel('', String(value));\n            }\n        }\n        case 21 /* TypeIds.Task */:\n            return new Task(-1, -1, null, null, null, null);\n        case 22 /* TypeIds.Resource */: {\n            const res = createResourceReturn(container, \n            // we don't care about the timeout value\n            undefined, undefined);\n            res.loading = false;\n            return res;\n        }\n        case 6 /* TypeIds.URL */:\n            return new URL(value);\n        case 7 /* TypeIds.Date */:\n            return new Date(value);\n        case 8 /* TypeIds.Regex */:\n            const idx = value.lastIndexOf('/');\n            return new RegExp(value.slice(1, idx), value.slice(idx + 1));\n        case 14 /* TypeIds.Error */:\n            return new Error();\n        case 23 /* TypeIds.Component */:\n            return componentQrl(null);\n        case 24 /* TypeIds.Signal */:\n            return new SignalImpl(container, 0);\n        case 25 /* TypeIds.WrappedSignal */:\n            return new WrappedSignalImpl(container, null, null, null);\n        case 26 /* TypeIds.ComputedSignal */:\n            return new ComputedSignalImpl(container, null);\n        case 27 /* TypeIds.AsyncComputedSignal */:\n            return new AsyncComputedSignalImpl(container, null);\n        case 28 /* TypeIds.SerializerSignal */:\n            return new SerializerSignalImpl(container, null);\n        case 29 /* TypeIds.Store */: {\n            const data = value;\n            // We need to allocate the store first, before we inflate its data, because the data can\n            // reference the store itself (circular)\n            // Note: the actual store data will be inflated in inflate()\n            const t = data[0];\n            const v = data[1];\n            const storeValue = allocate(container, t, v);\n            const store = getOrCreateStore(storeValue, 0 /* StoreFlags.NONE */, container);\n            if (needsInflation(t)) {\n                pendingStoreTargets.set(storeValue, { t, v });\n            }\n            // We must store the reference so it doesn't get deserialized again in inflate()\n            data[0] = 0 /* TypeIds.Plain */;\n            data[1] = storeValue;\n            return store;\n        }\n        case 12 /* TypeIds.URLSearchParams */:\n            return new URLSearchParams(value);\n        case 30 /* TypeIds.FormData */:\n            return new FormData();\n        case 31 /* TypeIds.JSXNode */:\n            return new JSXNodeImpl(null);\n        case 11 /* TypeIds.BigInt */:\n            return BigInt(value);\n        case 16 /* TypeIds.Set */:\n            return new Set();\n        case 17 /* TypeIds.Map */:\n            return new Map();\n        case 15 /* TypeIds.Promise */:\n            let resolve;\n            let reject;\n            const promise = new Promise((res, rej) => {\n                resolve = res;\n                reject = rej;\n            });\n            resolvers.set(promise, [resolve, reject]);\n            // Don't leave unhandled promise rejections\n            promise.catch(() => { });\n            return promise;\n        case 18 /* TypeIds.Uint8Array */:\n            const encodedLength = value.length;\n            const blocks = encodedLength >>> 2;\n            const rest = encodedLength & 3;\n            const decodedLength = blocks * 3 + (rest ? rest - 1 : 0);\n            return new Uint8Array(decodedLength);\n        case 32 /* TypeIds.PropsProxy */:\n            return createPropsProxy(null);\n        case 9 /* TypeIds.VNode */:\n            return retrieveVNodeOrDocument(container, value);\n        case 10 /* TypeIds.RefVNode */:\n            const vNode = retrieveVNodeOrDocument(container, value);\n            if (vnode_isVNode(vNode)) {\n                /**\n                 * If we have a ref, we need to ensure the element is materialized.\n                 *\n                 * Example:\n                 *\n                 * ```\n                 * const Cmp = component$(() => {\n                 *       const element = useSignal<HTMLDivElement>();\n                 *\n                 *       useVisibleTask$(() => {\n                 *         element.value!.innerHTML = 'I am the innerHTML content!';\n                 *       });\n                 *\n                 *       return (\n                 *          <div ref={element} />\n                 *       );\n                 * });\n                 * ```\n                 *\n                 * If we don't materialize early element with ref property, and change element innerHTML it\n                 * will be applied to a vnode tree during the lazy materialization, and it is wrong.\n                 *\n                 * Next if we rerender component it will remove applied innerHTML, because the system thinks\n                 * it is a part of the vnode tree.\n                 */\n                ensureMaterialized(vNode);\n                return vnode_getNode(vNode);\n            }\n            else {\n                throw qError(17 /* QError.serializeErrorExpectedVNode */, [typeof vNode]);\n            }\n        case 33 /* TypeIds.SubscriptionData */:\n            return new SubscriptionData({});\n        default:\n            throw qError(18 /* QError.serializeErrorCannotAllocate */, [typeId]);\n    }\n};\nexport function retrieveVNodeOrDocument(container, value) {\n    return value\n        ? container.rootVNode\n            ? vnode_locate(container.rootVNode, value)\n            : undefined\n        : container.element?.ownerDocument;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWxsb2NhdGUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL3NlcmRlcy9hbGxvY2F0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsYUFBYSxFQUFFLGFBQWEsRUFBRSxZQUFZLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUVwRyxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSwyREFBMkQsQ0FBQztBQUNwRyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxxREFBcUQsQ0FBQztBQUN6RixPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSx1REFBdUQsQ0FBQztBQUM3RixPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sNENBQTRDLENBQUM7QUFDeEUsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sc0NBQXNDLENBQUM7QUFDeEUsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sb0RBQW9ELENBQUM7QUFDdkYsT0FBTyxFQUFFLGdCQUFnQixFQUFxQixNQUFNLDZDQUE2QyxDQUFDO0FBRWxHLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQzlELE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUMxQyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDbkQsT0FBTyxFQUFFLE1BQU0sRUFBVSxNQUFNLGdCQUFnQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUM5QyxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUV0RCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDcEQsT0FBTyxFQUFFLFVBQVUsRUFBMkIsTUFBTSxhQUFhLENBQUM7QUFDbEUsT0FBTyxFQUFFLGNBQWMsRUFBRSxN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dkMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgRG9tQ29udGFpbmVyIH0gZnJvbSAnLi4vLi4vY2xpZW50L2RvbS1jb250YWluZXInO1xuaW1wb3J0IHsgZW5zdXJlTWF0ZXJpYWxpemVkLCB2bm9kZV9nZXROb2RlLCB2bm9kZV9pc1ZOb2RlLCB2bm9kZV9sb2NhdGUgfSBmcm9tICcuLi8uLi9jbGllbnQvdm5vZGUnO1xuaW1wb3J0IHR5cGUgeyBFbGVtZW50Vk5vZGUsIFZOb2RlIH0gZnJvbSAnLi4vLi4vY2xpZW50L3Zub2RlLWltcGwnO1xuaW1wb3J0IHsgQXN5bmNDb21wdXRlZFNpZ25hbEltcGwgfSBmcm9tICcuLi8uLi9yZWFjdGl2ZS1wcmltaXRpdmVzL2ltcGwvYXN5bmMtY29tcHV0ZWQtc2lnbmFsLWltcGwnO1xuaW1wb3J0IHsgQ29tcHV0ZWRTaWduYWxJbXBsIH0gZnJvbSAnLi4vLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy9pbXBsL2NvbXB1dGVkLXNpZ25hbC1pbXBsJztcbmltcG9ydCB7IFNlcmlhbGl6ZXJTaWduYWxJbXBsIH0gZnJvbSAnLi4vLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy9pbXBsL3NlcmlhbGl6ZXItc2lnbmFsLWltcGwnO1xuaW1wb3J0IHsgU2lnbmFsSW1wbCB9IGZyb20gJy4uLy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvaW1wbC9zaWduYWwtaW1wbCc7XG5pbXBvcnQgeyBnZXRPckNyZWF0ZVN0b3JlIH0gZnJvbSAnLi4vLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy9pbXBsL3N0b3JlJztcbmltcG9ydCB7IFdyYXBwZWRTaWduYWxJbXBsIH0gZnJvbSAnLi4vLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy9pbXBsL3dyYXBwZWQtc2lnbmFsLWltcGwnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uRGF0YSwgdHlwZSBOb2RlUHJvcERhdGEgfSBmcm9tICcuLi8uLi9yZWFjdGl2ZS1wcmltaXRpdmVzL3N1YnNjcmlwdGlvbi1kYXRhJztcbmltcG9ydCB7IFN0b3JlRmxhZ3MgfSBmcm9tICcuLi8uLi9yZWFjdGl2ZS1wcmltaXRpdmVzL3R5cGVzJztcbmltcG9ydCB7IGNyZWF0ZVJlc291cmNlUmV0dXJuIH0gZnJvbSAnLi4vLi4vdXNlL3VzZS1yZXNvdXJjZSc7XG5pbXBvcnQgeyBUYXNrIH0gZnJvbSAnLi4vLi4vdXNlL3VzZS10YXNrJztcbmltcG9ydCB7IGNvbXBvbmVudFFybCB9IGZyb20gJy4uL2NvbXBvbmVudC5wdWJsaWMnO1xuaW1wb3J0IHsgcUVycm9yLCBRRXJyb3IgfSBmcm9tICcuLi9lcnJvci9lcnJvcic7XG5pbXBvcnQgeyBKU1hOb2RlSW1wbCB9IGZyb20gJy4uL2pzeC9qc3gtbm9kZSc7XG5pbXBvcnQgeyBjcmVhdGVQcm9wc1Byb3h5IH0gZnJvbSAnLi4vanN4L3Byb3BzLXByb3h5JztcbmltcG9ydCB0eXBlIHsgRGVzZXJpYWxpemVDb250YWluZXIgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBfVU5JTklUSUFMSVpFRCB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBfY29uc3RhbnRzLCBUeXBlSWRzLCB0eXBlIENvbnN0YW50cyB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IG5lZWRzSW5mbGF0aW9uIH0gZnJvbSAnLi9kZXNlci1wcm94eSc7XG5pbXBvcnQgeyBjcmVhdGVRUkxXaXRoQmFja0NoYW5uZWwgfSBmcm9tICcuL3FybC10by1zdHJpbmcnO1xuXG5leHBvcnQgY29uc3QgcmVzb2x2ZXJzID0gbmV3IFdlYWtNYXA8UHJvbWlzZTxhbnk+LCBbRnVuY3Rpb24sIEZ1bmN0aW9uXT4oKTtcbmV4cG9ydCBjb25zdCBwZW5kaW5nU3RvcmVUYXJnZXRzID0gbmV3IE1hcDxvYmplY3QsIHsgdDogVHlwZUlkczsgdjogdW5rbm93biB9PigpO1xuXG5leHBvcnQgY29uc3QgYWxsb2NhdGUgPSAoY29udGFpbmVyOiBEZXNlcmlhbGl6ZUNvbnRhaW5lciwgdHlwZUlkOiBudW1iZXIsIHZhbHVlOiB1bmtub3duKTogYW55ID0+IHtcbiAgc3dpdGNoICh0eXBlSWQpIHtcbiAgICBjYXNlIFR5cGVJZHMuUGxhaW46XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgY2FzZSBUeXBlSWRzLlJvb3RSZWY6XG4gICAgICByZXR1cm4gY29udGFpbmVyLiRnZXRPYmplY3RCeUlkJCh2YWx1ZSBhcyBudW1iZXIpO1xuICAgIGNhc2UgVHlwZUlkcy5Gb3J3YXJkUmVmOlxuICAgICAgaWYgKCFjb250YWluZXIuJGZvcndhcmRSZWZzJCkge1xuICAgICAgICByZXR1cm4gX1VOSU5JVElBTElaRUQ7XG4gICAgICB9XG4gICAgICBjb25zdCByb290UmVmID0gY29udGFpbmVyLiRmb3J3YXJkUmVmcyRbdmFsdWUgYXMgbnVtYmVyXTtcbiAgICAgIGlmIChyb290UmVmID09PSAtMSB8fCByb290UmVmID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIF9VTklOSVRJQUxJWkVEO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lci4kZ2V0T2JqZWN0QnlJZCQocm9vdFJlZik7XG4gICAgICB9XG4gICAgY2FzZSBUeXBlSWRzLkZvcndhcmRSZWZzOlxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIGNhc2UgVHlwZUlkcy5Db25zdGFudDpcbiAgICAgIHJldHVybiBfY29uc3RhbnRzW3ZhbHVlIGFzIENvbnN0YW50c107XG4gICAgY2FzZSBUeXBlSWRzLkFycmF5OlxuICAgICAgcmV0dXJuIEFycmF5KCh2YWx1ZSBhcyBhbnlbXSkubGVuZ3RoIC8gMik7XG4gICAgY2FzZSBUeXBlSWRzLk9iamVjdDpcbiAgICAgIHJldHVybiB7fTtcbiAgICBjYXNlIFR5cGVJZHMuUVJMOlxuICAgIGNhc2UgVHlwZUlkcy5QcmVsb2FkUVJMOiB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zdCBkYXRhID0gdmFsdWUuc3BsaXQoJyAnKS5tYXAoTnVtYmVyKTtcbiAgICAgICAgY29uc3QgY2h1bmsgPSBjb250YWluZXIuJGdldE9iamVjdEJ5SWQkKGRhdGFbMF0pIGFzIHN0cmluZztcbiAgICAgICAgY29uc3Qgc3ltYm9sID0gY29udGFpbmVyLiRnZXRPYmplY3RCeUlkJChkYXRhWzFdKSBhcyBzdHJpbmc7XG4gICAgICAgIGNvbnN0IGNhcHR1cmVJZHMgPSBkYXRhLmxlbmd0aCA+IDIgPyBkYXRhLnNsaWNlKDIpIDogbnVsbDtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVFSTFdpdGhCYWNrQ2hhbm5lbChjaHVuaywgc3ltYm9sLCBjYXB0dXJlSWRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVRUkxXaXRoQmFja0NoYW5uZWwoJycsIFN0cmluZyh2YWx1ZSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBjYXNlIFR5cGVJZHMuVGFzazpcbiAgICAgIHJldHVybiBuZXcgVGFzaygtMSwgLTEsIG51bGwhLCBudWxsISwgbnVsbCEsIG51bGwpO1xuICAgIGNhc2UgVHlwZUlkcy5SZXNvdXJjZToge1xuICAgICAgY29uc3QgcmVzID0gY3JlYXRlUmVzb3VyY2VSZXR1cm4oXG4gICAgICAgIGNvbnRhaW5lciBhcyBhbnksXG4gICAgICAgIC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgdGhlIHRpbWVvdXQgdmFsdWVcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWRcbiAgICAgICk7XG4gICAgICByZXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgY2FzZSBUeXBlSWRzLlVSTDpcbiAgICAgIHJldHVybiBuZXcgVVJMKHZhbHVlIGFzIHN0cmluZyk7XG4gICAgY2FzZSBUeXBlSWRzLkRhdGU6XG4gICAgICByZXR1cm4gbmV3IERhdGUodmFsdWUgYXMgbnVtYmVyKTtcbiAgICBjYXNlIFR5cGVJZHMuUmVnZXg6XG4gICAgICBjb25zdCBpZHggPSAodmFsdWUgYXMgc3RyaW5nKS5sYXN0SW5kZXhPZignLycpO1xuICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoKHZhbHVlIGFzIHN0cmluZykuc2xpY2UoMSwgaWR4KSwgKHZhbHVlIGFzIHN0cmluZykuc2xpY2UoaWR4ICsgMSkpO1xuICAgIGNhc2UgVHlwZUlkcy5FcnJvcjpcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoKTtcbiAgICBjYXNlIFR5cGVJZHMuQ29tcG9uZW50OlxuICAgICAgcmV0dXJuIGNvbXBvbmVudFFybChudWxsISk7XG4gICAgY2FzZSBUeXBlSWRzLlNpZ25hbDpcbiAgICAgIHJldHVybiBuZXcgU2lnbmFsSW1wbChjb250YWluZXIgYXMgYW55LCAwKTtcbiAgICBjYXNlIFR5cGVJZHMuV3JhcHBlZFNpZ25hbDpcbiAgICAgIHJldHVybiBuZXcgV3JhcHBlZFNpZ25hbEltcGwoY29udGFpbmVyIGFzIGFueSwgbnVsbCEsIG51bGwhLCBudWxsISk7XG4gICAgY2FzZSBUeXBlSWRzLkNvbXB1dGVkU2lnbmFsOlxuICAgICAgcmV0dXJuIG5ldyBDb21wdXRlZFNpZ25hbEltcGwoY29udGFpbmVyIGFzIGFueSwgbnVsbCEpO1xuICAgIGNhc2UgVHlwZUlkcy5Bc3luY0NvbXB1dGVkU2lnbmFsOlxuICAgICAgcmV0dXJuIG5ldyBBc3luY0NvbXB1dGVkU2lnbmFsSW1wbChjb250YWluZXIgYXMgYW55LCBudWxsISk7XG4gICAgY2FzZSBUeXBlSWRzLlNlcmlhbGl6ZXJTaWduYWw6XG4gICAgICByZXR1cm4gbmV3IFNlcmlhbGl6ZXJTaWduYWxJbXBsKGNvbnRhaW5lciBhcyBhbnksIG51bGwhKTtcbiAgICBjYXNlIFR5cGVJZHMuU3RvcmU6IHtcbiAgICAgIGNvbnN0IGRhdGEgPSB2YWx1ZSBhcyBbVHlwZUlkcywgdW5rbm93bl07XG4gICAgICAvLyBXZSBuZWVkIHRvIGFsbG9jYXRlIHRoZSBzdG9yZSBmaXJzdCwgYmVmb3JlIHdlIGluZmxhdGUgaXRzIGRhdGEsIGJlY2F1c2UgdGhlIGRhdGEgY2FuXG4gICAgICAvLyByZWZlcmVuY2UgdGhlIHN0b3JlIGl0c2VsZiAoY2lyY3VsYXIpXG4gICAgICAvLyBOb3RlOiB0aGUgYWN0dWFsIHN0b3JlIGRhdGEgd2lsbCBiZSBpbmZsYXRlZCBpbiBpbmZsYXRlKClcbiAgICAgIGNvbnN0IHQgPSBkYXRhWzBdIGFzIFR5cGVJZHM7XG4gICAgICBjb25zdCB2ID0gZGF0YVsxXTtcbiAgICAgIGNvbnN0IHN0b3JlVmFsdWUgPSBhbGxvY2F0ZShjb250YWluZXIsIHQsIHYpO1xuICAgICAgY29uc3Qgc3RvcmUgPSBnZXRPckNyZWF0ZVN0b3JlKHN0b3JlVmFsdWUsIFN0b3JlRmxhZ3MuTk9ORSwgY29udGFpbmVyIGFzIERvbUNvbnRhaW5lcik7XG4gICAgICBpZiAobmVlZHNJbmZsYXRpb24odCkpIHtcbiAgICAgICAgcGVuZGluZ1N0b3JlVGFyZ2V0cy5zZXQoc3RvcmVWYWx1ZSwgeyB0LCB2IH0pO1xuICAgICAgfVxuICAgICAgLy8gV2UgbXVzdCBzdG9yZSB0aGUgcmVmZXJlbmNlIHNvIGl0IGRvZXNuJ3QgZ2V0IGRlc2VyaWFsaXplZCBhZ2FpbiBpbiBpbmZsYXRlKClcbiAgICAgIGRhdGFbMF0gPSBUeXBlSWRzLlBsYWluO1xuICAgICAgZGF0YVsxXSA9IHN0b3JlVmFsdWU7XG4gICAgICByZXR1cm4gc3RvcmU7XG4gICAgfVxuICAgIGNhc2UgVHlwZUlkcy5VUkxTZWFyY2hQYXJhbXM6XG4gICAgICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtcyh2YWx1ZSBhcyBzdHJpbmcpO1xuICAgIGNhc2UgVHlwZUlkcy5Gb3JtRGF0YTpcbiAgICAgIHJldHVybiBuZXcgRm9ybURhdGEoKTtcbiAgICBjYXNlIFR5cGVJZHMuSlNYTm9kZTpcbiAgICAgIHJldHVybiBuZXcgSlNYTm9kZUltcGwobnVsbCEpO1xuICAgIGNhc2UgVHlwZUlkcy5CaWdJbnQ6XG4gICAgICByZXR1cm4gQmlnSW50KHZhbHVlIGFzIHN0cmluZyk7XG4gICAgY2FzZSBUeXBlSWRzLlNldDpcbiAgICAgIHJldHVybiBuZXcgU2V0KCk7XG4gICAgY2FzZSBUeXBlSWRzLk1hcDpcbiAgICAgIHJldHVybiBuZXcgTWFwKCk7XG4gICAgY2FzZSBUeXBlSWRzLlByb21pc2U6XG4gICAgICBsZXQgcmVzb2x2ZSE6ICh2YWx1ZTogYW55KSA9PiB2b2lkO1xuICAgICAgbGV0IHJlamVjdCE6IChlcnJvcjogYW55KSA9PiB2b2lkO1xuICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgICAgICByZXNvbHZlID0gcmVzO1xuICAgICAgICByZWplY3QgPSByZWo7XG4gICAgICB9KTtcbiAgICAgIHJlc29sdmVycy5zZXQocHJvbWlzZSwgW3Jlc29sdmUsIHJlamVjdF0pO1xuICAgICAgLy8gRG9uJ3QgbGVhdmUgdW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uc1xuICAgICAgcHJvbWlzZS5jYXRjaCgoKSA9PiB7fSk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICBjYXNlIFR5cGVJZHMuVWludDhBcnJheTpcbiAgICAgIGNvbnN0IGVuY29kZWRMZW5ndGggPSAodmFsdWUgYXMgc3RyaW5nKS5sZW5ndGg7XG4gICAgICBjb25zdCBibG9ja3MgPSBlbmNvZGVkTGVuZ3RoID4+PiAyO1xuICAgICAgY29uc3QgcmVzdCA9IGVuY29kZWRMZW5ndGggJiAzO1xuICAgICAgY29uc3QgZGVjb2RlZExlbmd0aCA9IGJsb2NrcyAqIDMgKyAocmVzdCA/IHJlc3QgLSAxIDogMCk7XG4gICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZGVjb2RlZExlbmd0aCk7XG4gICAgY2FzZSBUeXBlSWRzLlByb3BzUHJveHk6XG4gICAgICByZXR1cm4gY3JlYXRlUHJvcHNQcm94eShudWxsISk7XG4gICAgY2FzZSBUeXBlSWRzLlZOb2RlOlxuICAgICAgcmV0dXJuIHJldHJpZXZlVk5vZGVPckRvY3VtZW50KGNvbnRhaW5lciwgdmFsdWUpO1xuICAgIGNhc2UgVHlwZUlkcy5SZWZWTm9kZTpcbiAgICAgIGNvbnN0IHZOb2RlID0gcmV0cmlldmVWTm9kZU9yRG9jdW1lbnQoY29udGFpbmVyLCB2YWx1ZSk7XG4gICAgICBpZiAodm5vZGVfaXNWTm9kZSh2Tm9kZSkpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHdlIGhhdmUgYSByZWYsIHdlIG5lZWQgdG8gZW5zdXJlIHRoZSBlbGVtZW50IGlzIG1hdGVyaWFsaXplZC5cbiAgICAgICAgICpcbiAgICAgICAgICogRXhhbXBsZTpcbiAgICAgICAgICpcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICAgICAgICAgKiAgICAgICBjb25zdCBlbGVtZW50ID0gdXNlU2lnbmFsPEhUTUxEaXZFbGVtZW50PigpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICB1c2VWaXNpYmxlVGFzayQoKCkgPT4ge1xuICAgICAgICAgKiAgICAgICAgIGVsZW1lbnQudmFsdWUhLmlubmVySFRNTCA9ICdJIGFtIHRoZSBpbm5lckhUTUwgY29udGVudCEnO1xuICAgICAgICAgKiAgICAgICB9KTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgcmV0dXJuIChcbiAgICAgICAgICogICAgICAgICAgPGRpdiByZWY9e2VsZW1lbnR9IC8+XG4gICAgICAgICAqICAgICAgICk7XG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKiBgYGBcbiAgICAgICAgICpcbiAgICAgICAgICogSWYgd2UgZG9uJ3QgbWF0ZXJpYWxpemUgZWFybHkgZWxlbWVudCB3aXRoIHJlZiBwcm9wZXJ0eSwgYW5kIGNoYW5nZSBlbGVtZW50IGlubmVySFRNTCBpdFxuICAgICAgICAgKiB3aWxsIGJlIGFwcGxpZWQgdG8gYSB2bm9kZSB0cmVlIGR1cmluZyB0aGUgbGF6eSBtYXRlcmlhbGl6YXRpb24sIGFuZCBpdCBpcyB3cm9uZy5cbiAgICAgICAgICpcbiAgICAgICAgICogTmV4dCBpZiB3ZSByZXJlbmRlciBjb21wb25lbnQgaXQgd2lsbCByZW1vdmUgYXBwbGllZCBpbm5lckhUTUwsIGJlY2F1c2UgdGhlIHN5c3RlbSB0aGlua3NcbiAgICAgICAgICogaXQgaXMgYSBwYXJ0IG9mIHRoZSB2bm9kZSB0cmVlLlxuICAgICAgICAgKi9cbiAgICAgICAgZW5zdXJlTWF0ZXJpYWxpemVkKHZOb2RlIGFzIEVsZW1lbnRWTm9kZSk7XG4gICAgICAgIHJldHVybiB2bm9kZV9nZXROb2RlKHZOb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IHFFcnJvcihRRXJyb3Iuc2VyaWFsaXplRXJyb3JFeHBlY3RlZFZOb2RlLCBbdHlwZW9mIHZOb2RlXSk7XG4gICAgICB9XG4gICAgY2FzZSBUeXBlSWRzLlN1YnNjcmlwdGlvbkRhdGE6XG4gICAgICByZXR1cm4gbmV3IFN1YnNjcmlwdGlvbkRhdGEoe30gYXMgTm9kZVByb3BEYXRhKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgcUVycm9yKFFFcnJvci5zZXJpYWxpemVFcnJvckNhbm5vdEFsbG9jYXRlLCBbdHlwZUlkXSk7XG4gIH1cbn07XG5leHBvcnQgZnVuY3Rpb24gcmV0cmlldmVWTm9kZU9yRG9jdW1lbnQoXG4gIGNvbnRhaW5lcjogRGVzZXJpYWxpemVDb250YWluZXIsXG4gIHZhbHVlOiB1bmtub3duIHwgbnVsbFxuKTogVk5vZGUgfCBEb2N1bWVudCB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiB2YWx1ZVxuICAgID8gKGNvbnRhaW5lciBhcyBhbnkpLnJvb3RWTm9kZVxuICAgICAgPyB2bm9kZV9sb2NhdGUoKGNvbnRhaW5lciBhcyBhbnkpLnJvb3RWTm9kZSwgdmFsdWUgYXMgc3RyaW5nKVxuICAgICAgOiB1bmRlZmluZWRcbiAgICA6IGNvbnRhaW5lci5lbGVtZW50Py5vd25lckRvY3VtZW50O1xufVxuIl19","import { qError } from '../error/error';\nimport { EMPTY_ARRAY } from '../utils/flyweight';\nimport { qSerialize } from '../utils/qdev';\nimport { isFunction, isString } from '../utils/types';\nimport { createQRL } from './qrl-class';\n// https://regexr.com/68v72\n// @ts-expect-error this is a valid regex\nconst EXTRACT_IMPORT_PATH = /\\(\\s*(['\"])([^\\1]+)\\1\\s*\\)/;\n// https://regexr.com/690ds\nconst EXTRACT_SELF_IMPORT = /Promise\\s*\\.\\s*resolve/;\n// https://regexr.com/6a83h\nconst EXTRACT_FILE_NAME = /[\\\\/(]([\\w\\d.\\-_]+\\.(js|ts)x?):/;\n// <docs markdown=\"../../readme.md#qrl\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../../readme.md#qrl instead and run `pnpm docs.sync`)\n/**\n * Used by Qwik Optimizer to point to lazy-loaded resources.\n *\n * This function should be used by the Qwik Optimizer only. The function should not be directly\n * referred to in the source code of the application.\n *\n * @param chunkOrFn - Chunk name (or function which is stringified to extract chunk name)\n * @param symbol - Symbol to lazy load\n * @param lexicalScopeCapture - A set of lexically scoped variables to capture.\n * @public\n * @see `QRL`, `$(...)`\n */\n// </docs>\nexport const qrl = (chunkOrFn, symbol, lexicalScopeCapture = EMPTY_ARRAY, stackOffset = 0) => {\n    let chunk = null;\n    let symbolFn = null;\n    if (isFunction(chunkOrFn)) {\n        symbolFn = chunkOrFn;\n        if (qSerialize) {\n            let match;\n            const srcCode = String(chunkOrFn);\n            if ((match = srcCode.match(EXTRACT_IMPORT_PATH)) && match[2]) {\n                chunk = match[2];\n            }\n            else if ((match = srcCode.match(EXTRACT_SELF_IMPORT))) {\n                const ref = 'QWIK-SELF';\n                const frames = new Error(ref).stack.split('\\n');\n                const start = frames.findIndex((f) => f.includes(ref));\n                const frame = frames[start + 2 + stackOffset];\n                match = frame.match(EXTRACT_FILE_NAME);\n                if (!match) {\n                    chunk = 'main';\n                }\n                else {\n                    chunk = match[1];\n                }\n            }\n            else {\n                throw qError(6 /* QError.dynamicImportFailed */, [srcCode]);\n            }\n        }\n    }\n    else if (isString(chunkOrFn)) {\n        chunk = chunkOrFn;\n    }\n    else {\n        throw qError(7 /* QError.unknownTypeArgument */, [chunkOrFn]);\n    }\n    // Unwrap subscribers\n    return createQRL(chunk, symbol, null, symbolFn, null, lexicalScopeCapture);\n};\n/**\n * Create an inlined QRL. This is mostly useful on the server side for serialization.\n *\n * @param symbol - The object/function to register, or `null` to retrieve a previously registered\n *   one by hash\n * @param symbolName - The name of the symbol.\n * @param lexicalScopeCapture - A set of lexically scoped variables to capture.\n * @public\n */\nexport const inlinedQrl = (symbol, symbolName, lexicalScopeCapture = EMPTY_ARRAY) => {\n    // Unwrap subscribers\n    return createQRL(null, symbolName, symbol, null, null, lexicalScopeCapture);\n};\n/** @internal */\nexport const _noopQrl = (symbolName, lexicalScopeCapture = EMPTY_ARRAY) => {\n    return createQRL(null, symbolName, null, null, null, lexicalScopeCapture);\n};\n/** @internal */\nexport const _noopQrlDEV = (symbolName, opts, lexicalScopeCapture = EMPTY_ARRAY) => {\n    const newQrl = _noopQrl(symbolName, lexicalScopeCapture);\n    newQrl.dev = opts;\n    return newQrl;\n};\n/** @internal */\nexport const qrlDEV = (chunkOrFn, symbol, opts, lexicalScopeCapture = EMPTY_ARRAY) => {\n    const newQrl = qrl(chunkOrFn, symbol, lexicalScopeCapture, 1);\n    newQrl.dev = opts;\n    return newQrl;\n};\n/** @internal */\nexport const inlinedQrlDEV = (symbol, symbolName, opts, lexicalScopeCapture = EMPTY_ARRAY) => {\n    const qrl = inlinedQrl(symbol, symbolName, lexicalScopeCapture);\n    qrl.dev = opts;\n    return qrl;\n};\n/**\n * Register a QRL symbol globally for lookup by its hash. This is used by the optimizer to register\n * the names passed in `reg_ctx_name`.\n *\n * @internal\n */\nexport const _regSymbol = (symbol, hash) => {\n    if (typeof globalThis.__qwik_reg_symbols === 'undefined') {\n        globalThis.__qwik_reg_symbols = new Map();\n    }\n    globalThis.__qwik_reg_symbols.set(hash, symbol);\n    return symbol;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC9xcmwvcXJsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBVSxNQUFNLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNoRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDakQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3RELE9BQU8sRUFBRSxTQUFTLEVBQW9CLE1BQU0sYUFBYSxDQUFDO0FBRzFELDJCQUEyQjtBQUMzQix5Q0FBeUM7QUFDekMsTUFBTSxtQkFBbUIsR0FBRyw0QkFBNEIsQ0FBQztBQUV6RCwyQkFBMkI7QUFDM0IsTUFBTSxtQkFBbUIsR0FBRyx3QkFBd0IsQ0FBQztBQUVyRCwyQkFBMkI7QUFDM0IsTUFBTSxpQkFBaUIsR0FBRyxpQ0FBaUMsQ0FBQztBQVM1RCx3Q0FBd0M7QUFDeEMseUNBQXlDO0FBQ3pDLDhEQUE4RDtBQUM5RDs7Ozs7Ozs7Ozs7R0FXRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FDakIsU0FBd0MsRUFDeEMsTUFBYyxFQUNkLHNCQUE2QixXQUFXLEVBQ3hDLFdBQVcsR0FBRyxDQUFDLEVBQ1AsRUFBRTtJQUNWLElBQUksS0FBSyxHQUFrQixJQUFJLENBQUM7SUFDaEMsSUFBSSxRQUFRLEdBQWdELElBQUksQ0FBQztJQUNqRSxJQUFJLFVBQVUsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDO1FBQzFCLFFBQVEsR0FBRyxTQUFTLENBQUM7UUFDckIsSUFBSSxVQUFVLEVBQUUsQ0FBQztZQUNmLElBQUksS0FBOEIsQ0FBQztZQUNuQyxNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7WUFD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TUFBTSxNQUFNLEdBQUcsR0FBRyxDQUFDLFNBQVMsRUFBRSxNQUFNLEVBQUUsbUJBQW1CLEVBQUUsQ0FBQyxDQUFtQixDQUFDO0lBQ2hGLE1BQU0sQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDO0lBQ2xCLE9BQU8sTUFBTSxDQUFDO0FBQ2hCLENBQUMsQ0FBQztBQUVGLGdCQUFnQjtBQUNoQixNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsQ0FDM0IsTUFBUyxFQUNULFVBQWtCLEVBQ2xCLElBQVksRUFDWixzQkFBNkIsV0FBVyxFQUNoQyxFQUFFO0lBQ1YsTUFBTSxHQUFHLEdBQUcsVUFBVSxDQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUUsbUJBQW1CLENBQW1CLENBQUM7SUFDbEYsR0FBRyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUM7SUFDZixPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUMsQ0FBQztBQUVGOzs7OztHQUtHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQUMsTUFBVyxFQUFFLElBQVksRUFBRSxFQUFFO0lBQ3RELElBQUksT0FBUSxVQUFrQixDQUFDLGtCQUFrQixLQUFLLFdBQVcsRUFBRSxDQUFDO1FBQ2pFLFVBQWtCLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxHQUFHLEVBQWUsQ0FBQztJQUNsRSxDQUFDO0lBQ0EsVUFBa0IsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3pELE9BQU8sTUFBTSxDQUFDO0FBQ2hCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFFFcnJvciwgcUVycm9yIH0gZnJvbSAnLi4vZXJyb3IvZXJyb3InO1xuaW1wb3J0IHsgRU1QVFlfQVJSQVkgfSBmcm9tICcuLi91dGlscy9mbHl3ZWlnaHQnO1xuaW1wb3J0IHsgcVNlcmlhbGl6ZSB9IGZyb20gJy4uL3V0aWxzL3FkZXYnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiwgaXNTdHJpbmcgfSBmcm9tICcuLi91dGlscy90eXBlcyc7XG5pbXBvcnQgeyBjcmVhdGVRUkwsIHR5cGUgUVJMSW50ZXJuYWwgfSBmcm9tICcuL3FybC1jbGFzcyc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4vcXJsLnB1YmxpYyc7XG5cbi8vIGh0dHBzOi8vcmVnZXhyLmNvbS82OHY3MlxuLy8gQHRzLWV4cGVjdC1lcnJvciB0aGlzIGlzIGEgdmFsaWQgcmVnZXhcbmNvbnN0IEVYVFJBQ1RfSU1QT1JUX1BBVEggPSAvXFwoXFxzKihbJ1wiXSkoW15cXDFdKylcXDFcXHMqXFwpLztcblxuLy8gaHR0cHM6Ly9yZWdleHIuY29tLzY5MGRzXG5jb25zdCBFWFRSQUNUX1NFTEZfSU1QT1JUID0gL1Byb21pc2VcXHMqXFwuXFxzKnJlc29sdmUvO1xuXG4vLyBodHRwczovL3JlZ2V4ci5jb20vNmE4M2hcbmNvbnN0IEVYVFJBQ1RfRklMRV9OQU1FID0gL1tcXFxcLyhdKFtcXHdcXGQuXFwtX10rXFwuKGpzfHRzKXg/KTovO1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGludGVyZmFjZSBRUkxEZXYge1xuICBmaWxlOiBzdHJpbmc7XG4gIGxvOiBudW1iZXI7XG4gIGhpOiBudW1iZXI7XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vLi4vcmVhZG1lLm1kI3FybFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uLy4uL3JlYWRtZS5tZCNxcmwgaW5zdGVhZCBhbmQgcnVuIGBwbnBtIGRvY3Muc3luY2ApXG4vKipcbiAqIFVzZWQgYnkgUXdpayBPcHRpbWl6ZXIgdG8gcG9pbnQgdG8gbGF6eS1sb2FkZWQgcmVzb3VyY2VzLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIHVzZWQgYnkgdGhlIFF3aWsgT3B0aW1pemVyIG9ubHkuIFRoZSBmdW5jdGlvbiBzaG91bGQgbm90IGJlIGRpcmVjdGx5XG4gKiByZWZlcnJlZCB0byBpbiB0aGUgc291cmNlIGNvZGUgb2YgdGhlIGFwcGxpY2F0aW9uLlxuICpcbiAqIEBwYXJhbSBjaHVua09yRm4gLSBDaHVuayBuYW1lIChvciBmdW5jdGlvbiB3aGljaCBpcyBzdHJpbmdpZmllZCB0byBleHRyYWN0IGNodW5rIG5hbWUpXG4gKiBAcGFyYW0gc3ltYm9sIC0gU3ltYm9sIHRvIGxhenkgbG9hZFxuICogQHBhcmFtIGxleGljYWxTY29wZUNhcHR1cmUgLSBBIHNldCBvZiBsZXhpY2FsbHkgc2NvcGVkIHZhcmlhYmxlcyB0byBjYXB0dXJlLlxuICogQHB1YmxpY1xuICogQHNlZSBgUVJMYCwgYCQoLi4uKWBcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHFybCA9IDxUID0gYW55PihcbiAgY2h1bmtPckZuOiBzdHJpbmcgfCAoKCkgPT4gUHJvbWlzZTxhbnk+KSxcbiAgc3ltYm9sOiBzdHJpbmcsXG4gIGxleGljYWxTY29wZUNhcHR1cmU6IGFueVtdID0gRU1QVFlfQVJSQVksXG4gIHN0YWNrT2Zmc2V0ID0gMFxuKTogUVJMPFQ+ID0+IHtcbiAgbGV0IGNodW5rOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgbGV0IHN5bWJvbEZuOiBudWxsIHwgKCgpID0+IFByb21pc2U8UmVjb3JkPHN0cmluZywgYW55Pj4pID0gbnVsbDtcbiAgaWYgKGlzRnVuY3Rpb24oY2h1bmtPckZuKSkge1xuICAgIHN5bWJvbEZuID0gY2h1bmtPckZuO1xuICAgIGlmIChxU2VyaWFsaXplKSB7XG4gICAgICBsZXQgbWF0Y2g6IFJlZ0V4cE1hdGNoQXJyYXkgfCBudWxsO1xuICAgICAgY29uc3Qgc3JjQ29kZSA9IFN0cmluZyhjaHVua09yRm4pO1xuICAgICAgaWYgKChtYXRjaCA9IHNyY0NvZGUubWF0Y2goRVhUUkFDVF9JTVBPUlRfUEFUSCkpICYmIG1hdGNoWzJdKSB7XG4gICAgICAgIGNodW5rID0gbWF0Y2hbMl07XG4gICAgICB9IGVsc2UgaWYgKChtYXRjaCA9IHNyY0NvZGUubWF0Y2goRVhUUkFDVF9TRUxGX0lNUE9SVCkpKSB7XG4gICAgICAgIGNvbnN0IHJlZiA9ICdRV0lLLVNFTEYnO1xuICAgICAgICBjb25zdCBmcmFtZXMgPSBuZXcgRXJyb3IocmVmKS5zdGFjayEuc3BsaXQoJ1xcbicpO1xuICAgICAgICBjb25zdCBzdGFydCA9IGZyYW1lcy5maW5kSW5kZXgoKGYpID0+IGYuaW5jbHVkZXMocmVmKSk7XG4gICAgICAgIGNvbnN0IGZyYW1lID0gZnJhbWVzW3N0YXJ0ICsgMiArIHN0YWNrT2Zmc2V0XTtcbiAgICAgICAgbWF0Y2ggPSBmcmFtZS5tYXRjaChFWFRSQUNUX0ZJTEVfTkFNRSk7XG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICBjaHVuayA9ICdtYWluJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaHVuayA9IG1hdGNoWzFdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBxRXJyb3IoUUVycm9yLmR5bmFtaWNJbXBvcnRGYWlsZWQsIFtzcmNDb2RlXSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzU3RyaW5nKGNodW5rT3JGbikpIHtcbiAgICBjaHVuayA9IGNodW5rT3JGbjtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBxRXJyb3IoUUVycm9yLnVua25vd25UeXBlQXJndW1lbnQsIFtjaHVua09yRm5dKTtcbiAgfVxuXG4gIC8vIFVud3JhcCBzdWJzY3JpYmVyc1xuICByZXR1cm4gY3JlYXRlUVJMPFQ+KGNodW5rLCBzeW1ib2wsIG51bGwsIHN5bWJvbEZuLCBudWxsLCBsZXhpY2FsU2NvcGVDYXB0dXJlKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGFuIGlubGluZWQgUVJMLiBUaGlzIGlzIG1vc3RseSB1c2VmdWwgb24gdGhlIHNlcnZlciBzaWRlIGZvciBzZXJpYWxpemF0aW9uLlxuICpcbiAqIEBwYXJhbSBzeW1ib2wgLSBUaGUgb2JqZWN0L2Z1bmN0aW9uIHRvIHJlZ2lzdGVyLCBvciBgbnVsbGAgdG8gcmV0cmlldmUgYSBwcmV2aW91c2x5IHJlZ2lzdGVyZWRcbiAqICAgb25lIGJ5IGhhc2hcbiAqIEBwYXJhbSBzeW1ib2xOYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHN5bWJvbC5cbiAqIEBwYXJhbSBsZXhpY2FsU2NvcGVDYXB0dXJlIC0gQSBzZXQgb2YgbGV4aWNhbGx5IHNjb3BlZCB2YXJpYWJsZXMgdG8gY2FwdHVyZS5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGlubGluZWRRcmwgPSA8VD4oXG4gIHN5bWJvbDogVCB8IG51bGwsXG4gIHN5bWJvbE5hbWU6IHN0cmluZyxcbiAgbGV4aWNhbFNjb3BlQ2FwdHVyZTogYW55W10gPSBFTVBUWV9BUlJBWVxuKTogUVJMPFQ+ID0+IHtcbiAgLy8gVW53cmFwIHN1YnNjcmliZXJzXG4gIHJldHVybiBjcmVhdGVRUkw8VD4obnVsbCwgc3ltYm9sTmFtZSwgc3ltYm9sLCBudWxsLCBudWxsLCBsZXhpY2FsU2NvcGVDYXB0dXJlKTtcbn07XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBfbm9vcFFybCA9IDxUPihcbiAgc3ltYm9sTmFtZTogc3RyaW5nLFxuICBsZXhpY2FsU2NvcGVDYXB0dXJlOiBhbnlbXSA9IEVNUFRZX0FSUkFZXG4pOiBRUkw8VD4gPT4ge1xuICByZXR1cm4gY3JlYXRlUVJMPFQ+KG51bGwsIHN5bWJvbE5hbWUsIG51bGwsIG51bGwsIG51bGwsIGxleGljYWxTY29wZUNhcHR1cmUpO1xufTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IF9ub29wUXJsREVWID0gPFQ+KFxuICBzeW1ib2xOYW1lOiBzdHJpbmcsXG4gIG9wdHM6IFFSTERldixcbiAgbGV4aWNhbFNjb3BlQ2FwdHVyZTogYW55W10gPSBFTVBUWV9BUlJBWVxuKTogUVJMPFQ+ID0+IHtcbiAgY29uc3QgbmV3UXJsID0gX25vb3BRcmwoc3ltYm9sTmFtZSwgbGV4aWNhbFNjb3BlQ2FwdHVyZSkgYXMgUVJMSW50ZXJuYWw8VD47XG4gIG5ld1FybC5kZXYgPSBvcHRzO1xuICByZXR1cm4gbmV3UXJsO1xufTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHFybERFViA9IDxUID0gYW55PihcbiAgY2h1bmtPckZuOiBzdHJpbmcgfCAoKCkgPT4gUHJvbWlzZTxhbnk+KSxcbiAgc3ltYm9sOiBzdHJpbmcsXG4gIG9wdHM6IFFSTERldixcbiAgbGV4aWNhbFNjb3BlQ2FwdHVyZTogYW55W10gPSBFTVBUWV9BUlJBWVxuKTogUVJMPFQ+ID0+IHtcbiAgY29uc3QgbmV3UXJsID0gcXJsKGNodW5rT3JGbiwgc3ltYm9sLCBsZXhpY2FsU2NvcGVDYXB0dXJlLCAxKSBhcyBRUkxJbnRlcm5hbDxUPjtcbiAgbmV3UXJsLmRldiA9IG9wdHM7XG4gIHJldHVybiBuZXdRcmw7XG59O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgaW5saW5lZFFybERFViA9IDxUID0gYW55PihcbiAgc3ltYm9sOiBULFxuICBzeW1ib2xOYW1lOiBzdHJpbmcsXG4gIG9wdHM6IFFSTERldixcbiAgbGV4aWNhbFNjb3BlQ2FwdHVyZTogYW55W10gPSBFTVBUWV9BUlJBWVxuKTogUVJMPFQ+ID0+IHtcbiAgY29uc3QgcXJsID0gaW5saW5lZFFybChzeW1ib2wsIHN5bWJvbE5hbWUsIGxleGljYWxTY29wZUNhcHR1cmUpIGFzIFFSTEludGVybmFsPFQ+O1xuICBxcmwuZGV2ID0gb3B0cztcbiAgcmV0dXJuIHFybDtcbn07XG5cbi8qKlxuICogUmVnaXN0ZXIgYSBRUkwgc3ltYm9sIGdsb2JhbGx5IGZvciBsb29rdXAgYnkgaXRzIGhhc2guIFRoaXMgaXMgdXNlZCBieSB0aGUgb3B0aW1pemVyIHRvIHJlZ2lzdGVyXG4gKiB0aGUgbmFtZXMgcGFzc2VkIGluIGByZWdfY3R4X25hbWVgLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgX3JlZ1N5bWJvbCA9IChzeW1ib2w6IGFueSwgaGFzaDogc3RyaW5nKSA9PiB7XG4gIGlmICh0eXBlb2YgKGdsb2JhbFRoaXMgYXMgYW55KS5fX3F3aWtfcmVnX3N5bWJvbHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgKGdsb2JhbFRoaXMgYXMgYW55KS5fX3F3aWtfcmVnX3N5bWJvbHMgPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuICB9XG4gIChnbG9iYWxUaGlzIGFzIGFueSkuX19xd2lrX3JlZ19zeW1ib2xzLnNldChoYXNoLCBzeW1ib2wpO1xuICByZXR1cm4gc3ltYm9sO1xufTtcbiJdfQ==","import { isDev } from '@qwik.dev/core/build';\nimport { vnode_isVNode } from '../client/vnode';\nimport { isSignal } from '../reactive-primitives/utils';\nimport { clearAllEffects } from '../reactive-primitives/cleanup';\nimport { invokeApply, newInvokeContext, untrack } from '../use/use-core';\nimport { isQwikComponent } from './component.public';\nimport { assertDefined } from './error/assert';\nimport { Fragment } from './jsx/jsx-runtime';\nimport { _jsxSorted } from './jsx/jsx-internal';\nimport { JSXNodeImpl, isJSXNode } from './jsx/jsx-node';\nimport { isQrl } from './qrl/qrl-utils';\nimport { EMPTY_OBJ } from './utils/flyweight';\nimport { logWarn } from './utils/log';\nimport { ELEMENT_PROPS, ELEMENT_SEQ_IDX, OnRenderProp, RenderEvent, USE_ON_LOCAL, USE_ON_LOCAL_SEQ_IDX, } from './utils/markers';\nimport { MAX_RETRY_ON_PROMISE_COUNT, isPromise, maybeThen, safeCall } from './utils/promises';\nimport { isArray, isPrimitive } from './utils/types';\nimport { getSubscriber } from '../reactive-primitives/subscriber';\n/**\n * Use `executeComponent` to execute a component.\n *\n * Component execution can be complex because of:\n *\n * - It can by async\n * - It can contain many tasks which need to be awaited\n * - Each task can run multiple times if they track signals which change.\n * - The JSX may be re-generated multiple times of a task needs to be rerun due to signal change.\n * - It needs to keep track of hook state.\n *\n * For `component$`: `renderHost` === `subscriptionHost` For inlined-components: the\n * `subscriptionHost` is a parent `component$` which needs to re-execute.\n *\n * @param container\n * @param renderHost - VNode into which the component is rendered into.\n * @param subscriptionHost - VNode which will be re-executed if the component needs to re-render.\n * @param componentQRL\n * @param props\n * @returns\n */\nexport const executeComponent = (container, renderHost, subscriptionHost, componentQRL, props) => {\n    const iCtx = newInvokeContext(container.$locale$, subscriptionHost || undefined, undefined, RenderEvent);\n    if (subscriptionHost) {\n        iCtx.$effectSubscriber$ = getSubscriber(subscriptionHost, \":\" /* EffectProperty.COMPONENT */);\n        iCtx.$container$ = container;\n    }\n    let componentFn;\n    container.ensureProjectionResolved(renderHost);\n    let isInlineComponent = false;\n    if (componentQRL === null) {\n        componentQRL = container.getHostProp(renderHost, OnRenderProp);\n        assertDefined(componentQRL, 'No Component found at this location');\n    }\n    if (isQrl(componentQRL)) {\n        props = props || container.getHostProp(renderHost, ELEMENT_PROPS) || EMPTY_OBJ;\n        if ('children' in props) {\n            delete props.children;\n        }\n        componentFn = componentQRL.getFn(iCtx);\n    }\n    else if (isQwikComponent(componentQRL)) {\n        const qComponentFn = componentQRL;\n        componentFn = () => invokeApply(iCtx, qComponentFn, [props || EMPTY_OBJ, null, 0]);\n    }\n    else {\n        isInlineComponent = true;\n        const inlineComponent = componentQRL;\n        componentFn = () => invokeApply(iCtx, inlineComponent, [props || EMPTY_OBJ]);\n    }\n    const executeComponentWithPromiseExceptionRetry = (retryCount = 0) => safeCall(() => {\n        if (!isInlineComponent) {\n            container.setHostProp(renderHost, ELEMENT_SEQ_IDX, null);\n            container.setHostProp(renderHost, USE_ON_LOCAL_SEQ_IDX, null);\n        }\n        if (retryCount > 0 && vnode_isVNode(renderHost)) {\n            clearAllEffects(container, renderHost);\n        }\n        return componentFn(props);\n    }, (jsx) => {\n        const useOnEvents = container.getHostProp(renderHost, USE_ON_LOCAL);\n        if (useOnEvents) {\n            return addUseOnEvents(jsx, useOnEvents);\n        }\n        return jsx;\n    }, (err) => {\n        if (isPromise(err) && retryCount < MAX_RETRY_ON_PROMISE_COUNT) {\n            return err.then(() => executeComponentWithPromiseExceptionRetry(++retryCount));\n        }\n        else {\n            if (retryCount >= MAX_RETRY_ON_PROMISE_COUNT) {\n                throw new Error(`Max retry count of component execution reached`);\n            }\n            throw err;\n        }\n    });\n    return executeComponentWithPromiseExceptionRetry();\n};\n/**\n * Adds `useOn` events to the JSX output.\n *\n * @param jsx The JSX output to modify.\n * @param useOnEvents The `useOn` events to add.\n * @returns The modified JSX output.\n */\nfunction addUseOnEvents(jsx, useOnEvents) {\n    const jsxElement = findFirstElementNode(jsx);\n    let jsxResult = jsx;\n    const qVisibleEvent = 'on:qvisible';\n    return maybeThen(jsxElement, (jsxElement) => {\n        // headless components are components that don't render a real DOM element\n        const isHeadless = !jsxElement;\n        // placeholder element is a <script> element that is used to add events to the document or window\n        let placeholderElement = null;\n        for (const key in useOnEvents) {\n            if (Object.prototype.hasOwnProperty.call(useOnEvents, key)) {\n                let targetElement = jsxElement;\n                let eventKey = key;\n                if (isHeadless) {\n                    // if the component is headless, we need to add the event to the placeholder element\n                    if (key === qVisibleEvent ||\n                        key.startsWith(\"on-document:\" /* EventNameHtmlScope.document */) ||\n                        key.startsWith(\"on-window:\" /* EventNameHtmlScope.window */)) {\n                        if (!placeholderElement) {\n                            const [createdElement, newJsx] = injectPlaceholderElement(jsxResult);\n                            jsxResult = newJsx;\n                            placeholderElement = createdElement;\n                        }\n                        targetElement = placeholderElement;\n                    }\n                    else {\n                        if (isDev) {\n                            logWarn('You are trying to add an event \"' +\n                                key +\n                                '\" using `useOn` hook, ' +\n                                'but a node to which you can add an event is not found. ' +\n                                'Please make sure that the component has a valid element node. ');\n                        }\n                        continue;\n                    }\n                }\n                if (targetElement) {\n                    if (targetElement.type === 'script' && key === qVisibleEvent) {\n                        eventKey = 'on-document:qinit';\n                        if (isDev) {\n                            logWarn('You are trying to add an event \"' +\n                                key +\n                                '\" using the `useVisibleTask$` hook with the \"intersection-observer\" strategy, ' +\n                                'but a node to which you can add an event is not found. ' +\n                                'Using \"document-ready\" or \"document-idle\" instead.');\n                        }\n                    }\n                    addUseOnEvent(targetElement, eventKey, useOnEvents[key]);\n                }\n            }\n        }\n        return jsxResult;\n    });\n}\n/**\n * Adds an event to the JSX element.\n *\n * @param jsxElement The JSX element to add the event to.\n * @param key The event name.\n * @param value The event value.\n */\nfunction addUseOnEvent(jsxElement, key, value) {\n    // These handlers are always there, so they go in constProps\n    const props = (jsxElement.constProps ||= {});\n    const propValue = props[key];\n    if (propValue == null) {\n        props[key] = value;\n    }\n    else if (Array.isArray(propValue)) {\n        propValue.push(...value);\n    }\n    else {\n        props[key] = [propValue, ...value];\n    }\n    const varProp = jsxElement.varProps[key];\n    if (varProp) {\n        // we need to demote the handlers to varProps\n        if (Array.isArray(propValue)) {\n            propValue.push(...props[key]);\n        }\n        else {\n            jsxElement.varProps[key] = [propValue, ...value];\n        }\n        props[key] = undefined;\n    }\n}\n/**\n * Finds the first element node in the JSX output.\n *\n * @param jsx The JSX output to search.\n * @returns The first element node or null if no element node is found.\n */\nfunction findFirstElementNode(jsx) {\n    const queue = [jsx];\n    while (queue.length) {\n        const jsx = queue.shift();\n        if (isJSXNode(jsx)) {\n            if (typeof jsx.type === 'string') {\n                return jsx;\n            }\n            queue.push(jsx.children);\n        }\n        else if (isArray(jsx)) {\n            queue.push(...jsx);\n        }\n        else if (isPromise(jsx)) {\n            return maybeThen(jsx, (jsx) => findFirstElementNode(jsx));\n        }\n        else if (isSignal(jsx)) {\n            return findFirstElementNode(untrack(() => jsx.value));\n        }\n    }\n    return null;\n}\n/**\n * Injects a placeholder <script> element into the JSX output.\n *\n * This is necessary for headless components (components that don't render a real DOM element) to\n * have an anchor point for `useOn` event listeners that target the document or window.\n *\n * @param jsx The JSX output to modify.\n * @returns A tuple containing the created placeholder element and the modified JSX output.\n */\nfunction injectPlaceholderElement(jsx) {\n    // For regular JSX nodes, we can append the placeholder to its children.\n    if (isJSXNode(jsx)) {\n        const placeholder = createPlaceholderScriptNode();\n        // Inline components don't always render children, so we wrap them in Fragment which does.\n        if (jsx.type !== Fragment && !isQwikComponent(jsx.type)) {\n            return [placeholder, _jsxSorted(Fragment, null, null, [jsx, placeholder], 0, null)];\n        }\n        if (jsx.children == null) {\n            jsx.children = placeholder;\n        }\n        else if (isArray(jsx.children)) {\n            jsx.children.push(placeholder);\n        }\n        else {\n            jsx.children = [jsx.children, placeholder];\n        }\n        return [placeholder, jsx];\n    }\n    // For primitives, we can't add children, so we wrap them in a fragment.\n    if (isPrimitive(jsx)) {\n        const placeholder = createPlaceholderScriptNode();\n        return [placeholder, _jsxSorted(Fragment, null, null, [jsx, placeholder], 0, null)];\n    }\n    // For an array of nodes, we inject the placeholder into the first element.\n    if (isArray(jsx) && jsx.length > 0) {\n        const [createdElement, _] = injectPlaceholderElement(jsx[0]);\n        return [createdElement, jsx];\n    }\n    // For anything else we do nothing.\n    return [null, jsx];\n}\n/** @returns An empty <script> element for adding qwik metadata attributes to */\nfunction createPlaceholderScriptNode() {\n    return new JSXNodeImpl('script', null, { hidden: '' });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LWV4ZWN1dGlvbi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvY29tcG9uZW50LWV4ZWN1dGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDN0MsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUN4RCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDakUsT0FBTyxFQUFFLFdBQVcsRUFBRSxnQkFBZ0IsRUFBRSxPQUFPLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUV6RSxPQUFPLEVBQUUsZUFBZSxFQUFtQixNQUFNLG9CQUFvQixDQUFDO0FBQ3RFLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUMvQyxPQUFPLEVBQUUsUUFBUSxFQUFjLE1BQU0sbUJBQW1CLENBQUM7QUFDekQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFJeEQsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRXhDLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUM5QyxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ3RDLE9BQU8sRUFDTCxhQUFhLEVBQ2IsZUFBZSxFQUNmLFlBQVksRUFDWixXQUFXLEVBQ1gsWUFBWSxFQUNaLG9CQUFvQixHQUNyQixNQUFNLGlCQUFpQixDQUFDO0FBQ3pCLE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQzlGLE9BQU8sRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUF1QixNQUFNLGVBQWUsQ0FBQztBQUMxRSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFJbEU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBb0JHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsQ0FDOUIsU0FBb0IsRUFDcEIsVUFBdUIsRUFDdkIsZ0JBQW9DLEVBQ3BDLFlBQTJFLEVBQzNFLEtBQW1CLEVBQ1EsRUFBRTtJQUM3QixNQUFNLElBQUksR0FBRyxnQkFBZ0IsQ0FDM0IsU0FBUyxDQUFDLFFBQVEsRUFDbEIsZ0JBQWdCLElBQUksU0FBUyxFQUM3QixTQUFTLEVBQ1QsV0FBVyxDQUNaLENBQUM7SUFDRixJQUFJLGdCQUFnQixFQUFFLENBQUM7UUFDckIsSUFBSSxDQUFDLGtCQUFrQixHQUFHLGFBQWEsQ0FBQyxnQkFBZ0IscUNBQTJCLENBQUM7UUFDcEYsSUFBSSxDQUFDLFdBQVcsR0FBRyxTQUFTLENBQUM7SUFDL0IsQ0FBQztJQUNELElBQUksV0FBMEQsQ0FBQztJQUMvRCxTQUFTLENBQUMsd0JBQXdCLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDL0MsSUFBSSxpQkFBaUIsR0FBRyxLQUFLLENBQUM7SUFDOUIsSUFBSSxZQUFZLEtBQUssSUFBSSxFQUFFLENBQUM7UUFDMUIsWUFBWSxHQUFHLFNBQVMsQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLFlBQVksQ0FBRSxDQUFDO1FBQ2hFLGFBQWEsQ0FBQyxZQUFZLEVBQUUscUNBQXFDLENBQUMsQ0FBQztJQUNyRSxDQUFDO0lBQ0QsSUFBSSxLQUFLLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQztRQUN4QixLQUFLLEdBQUcsS0FBSyxJQUFJLFNBQVMsQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLGFBQWEsQ0FBQyxJQUFJLFNBQVMsQ0FBQztRQUMvRSxJQUFJLFVBQVUsSUFBSSxLQUFLLEVBQUUsQ0FBQztZQUN4QixPQUFPLEtBQUssQ0FBQyxRQUFRLENBQUM7UUFDeEIsQ0FBQztRQUNELFdBQVcsR0FBRyxZQUFZLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3pDLENBQUM7U0FBTSxJQUFJLGVBQWUsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDO1FBQ3pDLE1BQU0sWUFBWSxHQUFHLFlBSUQsQ0FBQztRQUNyQixXQUFXLEdBQUcsR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxZQUFZLEVBQUUsQ0FBQyxLQUFLLElBQUksU0FBUyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3JGLENBQUM7U0FBTSxDQUFDO1FBQ04saUJBQWlCLEdBQUcsSUFBSSxDQUFDO1FBQ3pCLE1BQU0sZUFBZSxHQUFHLFlBQTJDLENBQUM7UUFDcEUsV0FBVyxHQUFHLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsZUFBZSxFQUFFLENBQUMsS0FBSyxJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUM7SUFDL0UsQ0FBQztJQUVELE1BQU0seUNBQXlDLEdBQUcsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxFQUE2QixFQUFFLENBQzlGLFFBQVEsQ0FDTixHQUFHLEVBQUU7UUFDSCxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUN2QixTQUFTLENBQUMsV0FBVyxDQUFDLFVBQVUsRUFBRSxlQUFlLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDekQsU0FBUyxDQUFDLFdBQVcsQ0FBQyxVQUFVLEVBQUUsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDaEUsQ0FBQztRQUVELElBQUksVUFBVSxHQUFHLENBQUMsSUFBSSxhQUFhLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQztZQUNoRCxlQUFlLENBQUMsU0FBUyxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQ3pDLENBQUM7UUFFRCxPQUFPLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM1QixDQUFDLEVBQ0QsQ0FBQyxHQUFHLEVBQUUsRUFBRTtRQUNOLE1BQU0sV0FBVyxHQUFHLFNBQVMsQ0FBQyxXQUFXLENBQVcsVUFBVSxFQUFFLFlBQVksQ0FBQyxDQUFDO1FBQzlFLElBQUksV0FBVyxFQUFFLENBQUM7WUFDaEIsT0FBTyxjQUFjLENBQUMsR0FBRyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBQzFDLENBQUM7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUMsRUFDRCxDQUFDLEdBQUcsRUFBRSxFQUFFO1FBQ04sSUFBSSxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksVUFBVSxHQUFHLDBCQUEwQixFQUFFLENBQUM7WUFDOUQsT0FBTyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUNuQix5Q0FBeUMsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUNsQyxDQUFDO1FBQzFCLENBQUM7YUFBTSxDQUFDO1lBQ04sSUFBSSxVQUFVLElBQUksMEJBQTBCLEVBQUUsQ0FBQztnQkFDN0MsTUFBTSxJQUFJLEtBQUssQ0FBQyxnREFBZ0QsQ0FBQyxDQUFDO1lBQ3BFLENBQUM7WUFDRCxNQUFNLEdBQUcsQ0FBQztRQUNaLENBQUM7SUFDSCxDQUFDLENBQ0YsQ0FBQztJQUNKLE9BQU8seUNBQXlDLEVBQUUsQ0FBQztBQUNyRCxDQUFDLENBQUM7QUFFRjs7Ozs7O0dBTUc7QUFDSCxTQUFTLGNBQWMsQ0FDckIsR0FBYyxFQUNkLFdBQXFCO0lBRXJCLE1BQU0sVUFBVSxHQUFHLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzdDLElBQUksU0FBUyxHQUFHLEdBQUcsQ0FBQztJQUNwQixNQUFNLGFBQWEsR0FBRyxhQUFhLENBQUM7SUFDcEMsT0FBTyxTQUFTLENBQUMsVUFBVSxFQUFFLENBQUMsVUFBVSxFQUFFLEVBQUU7UUFDMUMsMEVBQTBFO1FBQzFFLE1BQU0sVUFBVSxHQUFHLENBQUMsVUFBVSxDQUFDO1FBQy9CLGlHQUFpRztRQUNqRyxJQUFJLGtCQUFrQixHQUFtQyxJQUFJLENBQUM7UUFDOUQsS0FBSyxNQUFNLEdBQUcsSUFBSSxXQUFXLEVBQUUsQ0FBQztZQUM5QixJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFDM0QsSUFBSSxhQUFhLEdBQUcsVUFBVSxDQUFDO2dCQUMvQixJQUFJLFFBQVEsR0FBRyxHQUFHLENBQUM7Z0JBRW5CLElBQUksVUFBVSxFQUFFLENBQUM7b0JBQ2Ysb0ZBQW9GO29CQUNwRixJQUNFLEdBQUcsS0FBSyxhQUFhO3dCQUNyQixHQUFHLENBQUMsVUFBVSxrREFBNkI7d0JBQzNDLEdBQUcsQ0FBQyxVQUFVLDhDQUEyQixFQUN6QyxDQUFDO3dCQUNELElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDOzRCQUN4QixNQUFNLENBQUMsY0FBYyxFQUFFLE1BQU0sQ0FBQyxHQUFHLHdCQUF3QixDQUFDLFNBQVMsQ0FBQyxDQUFDOzRCQUNyRSxTQUFTLEdBQUcsTUFBTSxDQUFDOzRCQUNuQixrQkFBa0IsR0FBRyxjQUFjLENBQUM7d0JBQ3RDLENBQUM7d0JBQ0QsYUFBYSxHQUFHLGtCQUFrQixDQUFDO29CQUNyQyxDQUFDO3lCQUFNLENBQUM7d0JBQ04sSUFBSSxLQUFLLEVBQUUsQ0FBQzs0QkFDVixPQUFPLENBQ0wsa0NBQWtDO2dDQUNoQyxHQUFHO2dDQUNILHdCQUF3QjtnQ0FDeEIseURBQXlEO2dDQUN6RCxnRUFBZ0UsQ0FDbkUsQ0FBQzt3QkFDSixDQUFDO3dCQUNELFNBQVM7b0JBQ1gsQ0FBQztnQkFDSCxDQUFDO2dCQUNELElBQUksYUFBYSxFQUFFLENBQUM7b0JBQ2xCLElBQUksYUFBYSxDQUFDLElBQUksS0FBSyxRQUFRLElBQUksR0FBRyxLQUFLLGFBQWEsRUFBRSxDQUFDO3dCQUM3RCxRQUFRLEdBQUcsbUJBQW1CLENBQUM7d0JBQy9CLElBQUksS0FBSyxFQUFFLENBQUM7NEJBQ1YsT0FBTyxDQUNMLGtDQUFrQztnQ0FDaEMsR0FBRztnQ0FDSCxnRkFBZ0Y7Z0NBQ2hGLHlEQUF5RDtnQ0FDekQsb0RBQW9ELENBQ3ZELENBQUM7d0JBQ0osQ0FBQztvQkFDSCxDQUFDO29CQUNELGFBQWEsQ0FBQyxhQUFhLEVBQUUsUUFBUSxFQUFFLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUMzRCxDQUFDO1lBQ0gsQ0FBQztRQUNILENBQUM7UUFDRCxPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDLENBQUMsQ0FBQztBQUNMLENBQUM7QUFFRDs7Ozs7O0dBTUc7QUFDSCxTQUFTLGFBQWEsQ0FDcEIsVUFBMkIsRUFDM0IsR0FBVyxFQUNYLEtBQWtDO0lBRWxDLDREQUE0RDtJQUM1RCxNQUFNLEtBQUssR0FBRyxDQUFDLFVBQVUsQ0FBQyxVQUFVLEtBQUssRUFBVyxDQUFDLENBQUM7SUFDdEQsTUFBTSxTQUFTLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBcUQsQ0FBQztJQUNqRixJQUFJLFNBQVMsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUN0QixLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO0lBQ3JCLENBQUM7U0FBTSxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQztRQUNwQyxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUM7SUFDM0IsQ0FBQztTQUFNLENBQUM7UUFDTixLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBQ0QsTUFBTSxPQUFPLEdBQUcsVUFBVSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN6QyxJQUFJLE9BQU8sRUFBRSxDQUFDO1FBQ1osNkNBQTZDO1FBQzdDLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDO1lBQzdCLFNBQVMsQ0FBQyxJQUFJLENBQUMsR0FBSSxLQUFLLENBQUMsR0FBRyxDQUFTLENBQUMsQ0FBQztRQUN6QyxDQUFDO2FBQU0sQ0FBQztZQUNOLFVBQVUsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQztRQUNuRCxDQUFDO1FBQ0QsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFNBQVMsQ0FBQztJQUN6QixDQUFDO0FBQ0gsQ0FBQztBQUVEOzs7OztHQUtHO0FBQ0gsU0FBUyxvQkFBb0IsQ0FBQyxHQUFjO0lBQzFDLE1BQU0sS0FBSyxHQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDM0IsT0FBTyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDcEIsTUFBTSxHQUFHLEdBQUcsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQzFCLElBQUksU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDbkIsSUFBSSxPQUFPLEdBQUcsQ0FBQyxJQUFJLEtBQUssUUFBUSxFQUFFLENBQUM7Z0JBQ2pDLE9BQU8sR0FBOEIsQ0FBQztZQUN4QyxDQUFDO1lBQ0QsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDM0IsQ0FBQzthQUFNLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDeEIsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ3JCLENBQUM7YUFBTSxJQUFJLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQzFCLE9BQU8sU0FBUyxDQUE0QyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUN2RSxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsQ0FDMUIsQ0FBQztRQUNKLENBQUM7YUFBTSxJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ3pCLE9BQU8sb0JBQW9CLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxLQUFrQixDQUFDLENBQUMsQ0FBQztRQUNyRSxDQUFDO0lBQ0gsQ0FBQztJQUNELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQUVEOzs7Ozs7OztHQVFHO0FBQ0gsU0FBUyx3QkFBd0IsQ0FDL0IsR0FBYztJQUVkLHdFQUF3RTtJQUN4RSxJQUFJLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1FBQ25CLE1BQU0sV0FBVyxHQUFHLDJCQUEyQixFQUFFLENBQUM7UUFDbEQsMEZBQTBGO1FBQzFGLElBQUksR0FBRyxDQUFDLElBQUksS0FBSyxRQUFRLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDeEQsT0FBTyxDQUFDLFdBQVcsRUFBRSxVQUFVLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsV0FBVyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDdEYsQ0FBQztRQUVELElBQUksR0FBRyxDQUFDLFFBQVEsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUN6QixHQUFHLENBQUMsUUFBUSxHQUFHLFdBQVcsQ0FBQztRQUM3QixDQUFDO2FBQU0sSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7WUFDakMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDakMsQ0FBQzthQUFNLENBQUM7WUFDTixHQUFHLENBQUMsUUFBUSxHQUFHLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxXQUFXLENBQUMsQ0FBQztRQUM3QyxDQUFDO1FBQ0QsT0FBTyxDQUFDLFdBQVcsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRUQsd0VBQXdFO0lBQ3hFLElBQUksV0FBVyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7UUFDckIsTUFBTSxXQUFXLEdBQUcsMkJBQTJCLEVBQUUsQ0FBQztRQUNsRCxPQUFPLENBQUMsV0FBVyxFQUFFLFVBQVUsQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLEdBQUcsRUFBRSxXQUFXLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUN0RixDQUFDO0lBRUQsMkVBQTJFO0lBQzNFLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7UUFDbkMsTUFBTSxDQUFDLGNBQWMsRUFBRSxDQUFDLENBQUMsR0FBRyx3QkFBd0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM3RCxPQUFPLENBQUMsY0FBYyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFRCxtQ0FBbUM7SUFDbkMsT0FBTyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztBQUNyQixDQUFDO0FBRUQsZ0ZBQWdGO0FBQ2hGLFNBQVMsMkJBQTJCO0lBQ2xDLE9BQU8sSUFBSSxXQUFXLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ3pELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0RldiB9IGZyb20gJ0Bxd2lrLmRldi9jb3JlL2J1aWxkJztcbmltcG9ydCB7IHZub2RlX2lzVk5vZGUgfSBmcm9tICcuLi9jbGllbnQvdm5vZGUnO1xuaW1wb3J0IHsgaXNTaWduYWwgfSBmcm9tICcuLi9yZWFjdGl2ZS1wcmltaXRpdmVzL3V0aWxzJztcbmltcG9ydCB7IGNsZWFyQWxsRWZmZWN0cyB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvY2xlYW51cCc7XG5pbXBvcnQgeyBpbnZva2VBcHBseSwgbmV3SW52b2tlQ29udGV4dCwgdW50cmFjayB9IGZyb20gJy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgeyB0eXBlIEV2ZW50UVJMLCB0eXBlIFVzZU9uTWFwIH0gZnJvbSAnLi4vdXNlL3VzZS1vbic7XG5pbXBvcnQgeyBpc1F3aWtDb21wb25lbnQsIHR5cGUgT25SZW5kZXJGbiB9IGZyb20gJy4vY29tcG9uZW50LnB1YmxpYyc7XG5pbXBvcnQgeyBhc3NlcnREZWZpbmVkIH0gZnJvbSAnLi9lcnJvci9hc3NlcnQnO1xuaW1wb3J0IHsgRnJhZ21lbnQsIHR5cGUgUHJvcHMgfSBmcm9tICcuL2pzeC9qc3gtcnVudGltZSc7XG5pbXBvcnQgeyBfanN4U29ydGVkIH0gZnJvbSAnLi9qc3gvanN4LWludGVybmFsJztcbmltcG9ydCB7IEpTWE5vZGVJbXBsLCBpc0pTWE5vZGUgfSBmcm9tICcuL2pzeC9qc3gtbm9kZSc7XG5pbXBvcnQgdHlwZSB7IEpTWE5vZGVJbnRlcm5hbCwgSlNYT3V0cHV0IH0gZnJvbSAnLi9qc3gvdHlwZXMvanN4LW5vZGUnO1xuaW1wb3J0IHR5cGUgeyBLbm93bkV2ZW50TmFtZXMgfSBmcm9tICcuL2pzeC90eXBlcy9qc3gtcXdpay1ldmVudHMnO1xuaW1wb3J0IHR5cGUgeyBRUkxJbnRlcm5hbCB9IGZyb20gJy4vcXJsL3FybC1jbGFzcyc7XG5pbXBvcnQgeyBpc1FybCB9IGZyb20gJy4vcXJsL3FybC11dGlscyc7XG5pbXBvcnQgdHlwZSB7IENvbnRhaW5lciwgSG9zdEVsZW1lbnQgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IEVNUFRZX09CSiB9IGZyb20gJy4vdXRpbHMvZmx5d2VpZ2h0JztcbmltcG9ydCB7IGxvZ1dhcm4gfSBmcm9tICcuL3V0aWxzL2xvZyc7XG5pbXBvcnQge1xuICBFTEVNRU5UX1BST1BTLFxuICBFTEVNRU5UX1NFUV9JRFgsXG4gIE9uUmVuZGVyUHJvcCxcbiAgUmVuZGVyRXZlbnQsXG4gIFVTRV9PTl9MT0NBTCxcbiAgVVNFX09OX0xPQ0FMX1NFUV9JRFgsXG59IGZyb20gJy4vdXRpbHMvbWFya2Vycyc7XG5pbXBvcnQgeyBNQVhfUkVUUllfT05fUFJPTUlTRV9DT1VOVCwgaXNQcm9taXNlLCBtYXliZVRoZW4sIHNhZmVDYWxsIH0gZnJvbSAnLi91dGlscy9wcm9taXNlcyc7XG5pbXBvcnQgeyBpc0FycmF5LCBpc1ByaW1pdGl2ZSwgdHlwZSBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4vdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHsgZ2V0U3Vic2NyaWJlciB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvc3Vic2NyaWJlcic7XG5pbXBvcnQgeyBFZmZlY3RQcm9wZXJ0eSB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvdHlwZXMnO1xuaW1wb3J0IHsgRXZlbnROYW1lSHRtbFNjb3BlIH0gZnJvbSAnLi91dGlscy9ldmVudC1uYW1lcyc7XG5cbi8qKlxuICogVXNlIGBleGVjdXRlQ29tcG9uZW50YCB0byBleGVjdXRlIGEgY29tcG9uZW50LlxuICpcbiAqIENvbXBvbmVudCBleGVjdXRpb24gY2FuIGJlIGNvbXBsZXggYmVjYXVzZSBvZjpcbiAqXG4gKiAtIEl0IGNhbiBieSBhc3luY1xuICogLSBJdCBjYW4gY29udGFpbiBtYW55IHRhc2tzIHdoaWNoIG5lZWQgdG8gYmUgYXdhaXRlZFxuICogLSBFYWNoIHRhc2sgY2FuIHJ1biBtdWx0aXBsZSB0aW1lcyBpZiB0aGV5IHRyYWNrIHNpZ25hbHMgd2hpY2ggY2hhbmdlLlxuICogLSBUaGUgSlNYIG1heSBiZSByZS1nZW5lcmF0ZWQgbXVsdGlwbGUgdGltZXMgb2YgYSB0YXNrIG5lZWRzIHRvIGJlIHJlcnVuIGR1ZSB0byBzaWduYWwgY2hhbmdlLlxuICogLSBJdCBuZWVkcyB0byBrZWVwIHRyYWNrIG9mIGhvb2sgc3RhdGUuXG4gKlxuICogRm9yIGBjb21wb25lbnQkYDogYHJlbmRlckhvc3RgID09PSBgc3Vic2NyaXB0aW9uSG9zdGAgRm9yIGlubGluZWQtY29tcG9uZW50czogdGhlXG4gKiBgc3Vic2NyaXB0aW9uSG9zdGAgaXMgYSBwYXJlbnQgYGNvbXBvbmVudCRgIHdoaWNoIG5lZWRzIHRvIHJlLWV4ZWN1dGUuXG4gKlxuICogQHBhcmFtIGNvbnRhaW5lclxuICogQHBhcmFtIHJlbmRlckhvc3QgLSBWTm9kZSBpbnRvIHdoaWNoIHRoZSBjb21wb25lbnQgaXMgcmVuZGVyZWQgaW50by5cbiAqIEBwYXJhbSBzdWJzY3JpcHRpb25Ib3N0IC0gVk5vZGUgd2hpY2ggd2lsbCBiZSByZS1leGVjdXRlZCBpZiB0aGUgY29tcG9uZW50IG5lZWRzIHRvIHJlLXJlbmRlci5cbiAqIEBwYXJhbSBjb21wb25lbnRRUkxcbiAqIEBwYXJhbSBwcm9wc1xuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGNvbnN0IGV4ZWN1dGVDb21wb25lbnQgPSAoXG4gIGNvbnRhaW5lcjogQ29udGFpbmVyLFxuICByZW5kZXJIb3N0OiBIb3N0RWxlbWVudCxcbiAgc3Vic2NyaXB0aW9uSG9zdDogSG9zdEVsZW1lbnQgfCBudWxsLFxuICBjb21wb25lbnRRUkw6IE9uUmVuZGVyRm48dW5rbm93bj4gfCBRUkxJbnRlcm5hbDxPblJlbmRlckZuPHVua25vd24+PiB8IG51bGwsXG4gIHByb3BzOiBQcm9wcyB8IG51bGxcbik6IFZhbHVlT3JQcm9taXNlPEpTWE91dHB1dD4gPT4ge1xuICBjb25zdCBpQ3R4ID0gbmV3SW52b2tlQ29udGV4dChcbiAgICBjb250YWluZXIuJGxvY2FsZSQsXG4gICAgc3Vic2NyaXB0aW9uSG9zdCB8fCB1bmRlZmluZWQsXG4gICAgdW5kZWZpbmVkLFxuICAgIFJlbmRlckV2ZW50XG4gICk7XG4gIGlmIChzdWJzY3JpcHRpb25Ib3N0KSB7XG4gICAgaUN0eC4kZWZmZWN0U3Vic2NyaWJlciQgPSBnZXRTdWJzY3JpYmVyKHN1YnNjcmlwdGlvbkhvc3QsIEVmZmVjdFByb3BlcnR5LkNPTVBPTkVOVCk7XG4gICAgaUN0eC4kY29udGFpbmVyJCA9IGNvbnRhaW5lcjtcbiAgfVxuICBsZXQgY29tcG9uZW50Rm46IChwcm9wczogdW5rbm93bikgPT4gVmFsdWVPclByb21pc2U8SlNYT3V0cHV0PjtcbiAgY29udGFpbmVyLmVuc3VyZVByb2plY3Rpb25SZXNvbHZlZChyZW5kZXJIb3N0KTtcbiAgbGV0IGlzSW5saW5lQ29tcG9uZW50ID0gZmFsc2U7XG4gIGlmIChjb21wb25lbnRRUkwgPT09IG51bGwpIHtcbiAgICBjb21wb25lbnRRUkwgPSBjb250YWluZXIuZ2V0SG9zdFByb3AocmVuZGVySG9zdCwgT25SZW5kZXJQcm9wKSE7XG4gICAgYXNzZXJ0RGVmaW5lZChjb21wb25lbnRRUkwsICdObyBDb21wb25lbnQgZm91bmQgYXQgdGhpcyBsb2NhdGlvbicpO1xuICB9XG4gIGlmIChpc1FybChjb21wb25lbnRRUkwpKSB7XG4gICAgcHJvcHMgPSBwcm9wcyB8fCBjb250YWluZXIuZ2V0SG9zdFByb3AocmVuZGVySG9zdCwgRUxFTUVOVF9QUk9QUykgfHwgRU1QVFlfT0JKO1xuICAgIGlmICgnY2hpbGRyZW4nIGluIHByb3BzKSB7XG4gICAgICBkZWxldGUgcHJvcHMuY2hpbGRyZW47XG4gICAgfVxuICAgIGNvbXBvbmVudEZuID0gY29tcG9uZW50UVJMLmdldEZuKGlDdHgpO1xuICB9IGVsc2UgaWYgKGlzUXdpa0NvbXBvbmVudChjb21wb25lbnRRUkwpKSB7XG4gICAgY29uc3QgcUNvbXBvbmVudEZuID0gY29tcG9uZW50UVJMIGFzIGFueSBhcyAoXG4gICAgICBwcm9wczogUHJvcHMsXG4gICAgICBrZXk6IHN0cmluZyB8IG51bGwsXG4gICAgICBmbGFnczogbnVtYmVyXG4gICAgKSA9PiBKU1hOb2RlSW50ZXJuYWw7XG4gICAgY29tcG9uZW50Rm4gPSAoKSA9PiBpbnZva2VBcHBseShpQ3R4LCBxQ29tcG9uZW50Rm4sIFtwcm9wcyB8fCBFTVBUWV9PQkosIG51bGwsIDBdKTtcbiAgfSBlbHNlIHtcbiAgICBpc0lubGluZUNvbXBvbmVudCA9IHRydWU7XG4gICAgY29uc3QgaW5saW5lQ29tcG9uZW50ID0gY29tcG9uZW50UVJMIGFzIChwcm9wczogUHJvcHMpID0+IEpTWE91dHB1dDtcbiAgICBjb21wb25lbnRGbiA9ICgpID0+IGludm9rZUFwcGx5KGlDdHgsIGlubGluZUNvbXBvbmVudCwgW3Byb3BzIHx8IEVNUFRZX09CSl0pO1xuICB9XG5cbiAgY29uc3QgZXhlY3V0ZUNvbXBvbmVudFdpdGhQcm9taXNlRXhjZXB0aW9uUmV0cnkgPSAocmV0cnlDb3VudCA9IDApOiBWYWx1ZU9yUHJvbWlzZTxKU1hPdXRwdXQ+ID0+XG4gICAgc2FmZUNhbGw8SlNYT3V0cHV0LCBKU1hPdXRwdXQsIEpTWE91dHB1dD4oXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGlmICghaXNJbmxpbmVDb21wb25lbnQpIHtcbiAgICAgICAgICBjb250YWluZXIuc2V0SG9zdFByb3AocmVuZGVySG9zdCwgRUxFTUVOVF9TRVFfSURYLCBudWxsKTtcbiAgICAgICAgICBjb250YWluZXIuc2V0SG9zdFByb3AocmVuZGVySG9zdCwgVVNFX09OX0xPQ0FMX1NFUV9JRFgsIG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJldHJ5Q291bnQgPiAwICYmIHZub2RlX2lzVk5vZGUocmVuZGVySG9zdCkpIHtcbiAgICAgICAgICBjbGVhckFsbEVmZmVjdHMoY29udGFpbmVyLCByZW5kZXJIb3N0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wb25lbnRGbihwcm9wcyk7XG4gICAgICB9LFxuICAgICAgKGpzeCkgPT4ge1xuICAgICAgICBjb25zdCB1c2VPbkV2ZW50cyA9IGNvbnRhaW5lci5nZXRIb3N0UHJvcDxVc2VPbk1hcD4ocmVuZGVySG9zdCwgVVNFX09OX0xPQ0FMKTtcbiAgICAgICAgaWYgKHVzZU9uRXZlbnRzKSB7XG4gICAgICAgICAgcmV0dXJuIGFkZFVzZU9uRXZlbnRzKGpzeCwgdXNlT25FdmVudHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBqc3g7XG4gICAgICB9LFxuICAgICAgKGVycikgPT4ge1xuICAgICAgICBpZiAoaXNQcm9taXNlKGVycikgJiYgcmV0cnlDb3VudCA8IE1BWF9SRVRSWV9PTl9QUk9NSVNFX0NPVU5UKSB7XG4gICAgICAgICAgcmV0dXJuIGVyci50aGVuKCgpID0+XG4gICAgICAgICAgICBleGVjdXRlQ29tcG9uZW50V2l0aFByb21pc2VFeGNlcHRpb25SZXRyeSgrK3JldHJ5Q291bnQpXG4gICAgICAgICAgKSBhcyBQcm9taXNlPEpTWE91dHB1dD47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHJldHJ5Q291bnQgPj0gTUFYX1JFVFJZX09OX1BST01JU0VfQ09VTlQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWF4IHJldHJ5IGNvdW50IG9mIGNvbXBvbmVudCBleGVjdXRpb24gcmVhY2hlZGApO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICByZXR1cm4gZXhlY3V0ZUNvbXBvbmVudFdpdGhQcm9taXNlRXhjZXB0aW9uUmV0cnkoKTtcbn07XG5cbi8qKlxuICogQWRkcyBgdXNlT25gIGV2ZW50cyB0byB0aGUgSlNYIG91dHB1dC5cbiAqXG4gKiBAcGFyYW0ganN4IFRoZSBKU1ggb3V0cHV0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB1c2VPbkV2ZW50cyBUaGUgYHVzZU9uYCBldmVudHMgdG8gYWRkLlxuICogQHJldHVybnMgVGhlIG1vZGlmaWVkIEpTWCBvdXRwdXQuXG4gKi9cbmZ1bmN0aW9uIGFkZFVzZU9uRXZlbnRzKFxuICBqc3g6IEpTWE91dHB1dCxcbiAgdXNlT25FdmVudHM6IFVzZU9uTWFwXG4pOiBWYWx1ZU9yUHJvbWlzZTxKU1hOb2RlSW50ZXJuYWw8c3RyaW5nPiB8IG51bGwgfCBKU1hPdXRwdXQ+IHtcbiAgY29uc3QganN4RWxlbWVudCA9IGZpbmRGaXJzdEVsZW1lbnROb2RlKGpzeCk7XG4gIGxldCBqc3hSZXN1bHQgPSBqc3g7XG4gIGNvbnN0IHFWaXNpYmxlRXZlbnQgPSAnb246cXZpc2libGUnO1xuICByZXR1cm4gbWF5YmVUaGVuKGpzeEVsZW1lbnQsIChqc3hFbGVtZW50KSA9PiB7XG4gICAgLy8gaGVhZGxlc3MgY29tcG9uZW50cyBhcmUgY29tcG9uZW50cyB0aGF0IGRvbid0IHJlbmRlciBhIHJlYWwgRE9NIGVsZW1lbnRcbiAgICBjb25zdCBpc0hlYWRsZXNzID0gIWpzeEVsZW1lbnQ7XG4gICAgLy8gcGxhY2Vob2xkZXIgZWxlbWVudCBpcyBhIDxzY3JpcHQ+IGVsZW1lbnQgdGhhdCBpcyB1c2VkIHRvIGFkZCBldmVudHMgdG8gdGhlIGRvY3VtZW50IG9yIHdpbmRvd1xuICAgIGxldCBwbGFjZWhvbGRlckVsZW1lbnQ6IEpTWE5vZGVJbnRlcm5hbDxzdHJpbmc+IHwgbnVsbCA9IG51bGw7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdXNlT25FdmVudHMpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodXNlT25FdmVudHMsIGtleSkpIHtcbiAgICAgICAgbGV0IHRhcmdldEVsZW1lbnQgPSBqc3hFbGVtZW50O1xuICAgICAgICBsZXQgZXZlbnRLZXkgPSBrZXk7XG5cbiAgICAgICAgaWYgKGlzSGVhZGxlc3MpIHtcbiAgICAgICAgICAvLyBpZiB0aGUgY29tcG9uZW50IGlzIGhlYWRsZXNzLCB3ZSBuZWVkIHRvIGFkZCB0aGUgZXZlbnQgdG8gdGhlIHBsYWNlaG9sZGVyIGVsZW1lbnRcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBrZXkgPT09IHFWaXNpYmxlRXZlbnQgfHxcbiAgICAgICAgICAgIGtleS5zdGFydHNXaXRoKEV2ZW50TmFtZUh0bWxTY29wZS5kb2N1bWVudCkgfHxcbiAgICAgICAgICAgIGtleS5zdGFydHNXaXRoKEV2ZW50TmFtZUh0bWxTY29wZS53aW5kb3cpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAoIXBsYWNlaG9sZGVyRWxlbWVudCkge1xuICAgICAgICAgICAgICBjb25zdCBbY3JlYXRlZEVsZW1lbnQsIG5ld0pzeF0gPSBpbmplY3RQbGFjZWhvbGRlckVsZW1lbnQoanN4UmVzdWx0KTtcbiAgICAgICAgICAgICAganN4UmVzdWx0ID0gbmV3SnN4O1xuICAgICAgICAgICAgICBwbGFjZWhvbGRlckVsZW1lbnQgPSBjcmVhdGVkRWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhcmdldEVsZW1lbnQgPSBwbGFjZWhvbGRlckVsZW1lbnQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChpc0Rldikge1xuICAgICAgICAgICAgICBsb2dXYXJuKFxuICAgICAgICAgICAgICAgICdZb3UgYXJlIHRyeWluZyB0byBhZGQgYW4gZXZlbnQgXCInICtcbiAgICAgICAgICAgICAgICAgIGtleSArXG4gICAgICAgICAgICAgICAgICAnXCIgdXNpbmcgYHVzZU9uYCBob29rLCAnICtcbiAgICAgICAgICAgICAgICAgICdidXQgYSBub2RlIHRvIHdoaWNoIHlvdSBjYW4gYWRkIGFuIGV2ZW50IGlzIG5vdCBmb3VuZC4gJyArXG4gICAgICAgICAgICAgICAgICAnUGxlYXNlIG1ha2Ugc3VyZSB0aGF0IHRoZSBjb21wb25lbnQgaGFzIGEgdmFsaWQgZWxlbWVudCBub2RlLiAnXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhcmdldEVsZW1lbnQpIHtcbiAgICAgICAgICBpZiAodGFyZ2V0RWxlbWVudC50eXBlID09PSAnc2NyaXB0JyAmJiBrZXkgPT09IHFWaXNpYmxlRXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50S2V5ID0gJ29uLWRvY3VtZW50OnFpbml0JztcbiAgICAgICAgICAgIGlmIChpc0Rldikge1xuICAgICAgICAgICAgICBsb2dXYXJuKFxuICAgICAgICAgICAgICAgICdZb3UgYXJlIHRyeWluZyB0byBhZGQgYW4gZXZlbnQgXCInICtcbiAgICAgICAgICAgICAgICAgIGtleSArXG4gICAgICAgICAgICAgICAgICAnXCIgdXNpbmcgdGhlIGB1c2VWaXNpYmxlVGFzayRgIGhvb2sgd2l0aCB0aGUgXCJpbnRlcnNlY3Rpb24tb2JzZXJ2ZXJcIiBzdHJhdGVneSwgJyArXG4gICAgICAgICAgICAgICAgICAnYnV0IGEgbm9kZSB0byB3aGljaCB5b3UgY2FuIGFkZCBhbiBldmVudCBpcyBub3QgZm91bmQuICcgK1xuICAgICAgICAgICAgICAgICAgJ1VzaW5nIFwiZG9jdW1lbnQtcmVhZHlcIiBvciBcImRvY3VtZW50LWlkbGVcIiBpbnN0ZWFkLidcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYWRkVXNlT25FdmVudCh0YXJnZXRFbGVtZW50LCBldmVudEtleSwgdXNlT25FdmVudHNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGpzeFJlc3VsdDtcbiAgfSk7XG59XG5cbi8qKlxuICogQWRkcyBhbiBldmVudCB0byB0aGUgSlNYIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIGpzeEVsZW1lbnQgVGhlIEpTWCBlbGVtZW50IHRvIGFkZCB0aGUgZXZlbnQgdG8uXG4gKiBAcGFyYW0ga2V5IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHZhbHVlIFRoZSBldmVudCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gYWRkVXNlT25FdmVudChcbiAganN4RWxlbWVudDogSlNYTm9kZUludGVybmFsLFxuICBrZXk6IHN0cmluZyxcbiAgdmFsdWU6IEV2ZW50UVJMPEtub3duRXZlbnROYW1lcz5bXVxuKSB7XG4gIC8vIFRoZXNlIGhhbmRsZXJzIGFyZSBhbHdheXMgdGhlcmUsIHNvIHRoZXkgZ28gaW4gY29uc3RQcm9wc1xuICBjb25zdCBwcm9wcyA9IChqc3hFbGVtZW50LmNvbnN0UHJvcHMgfHw9IHt9IGFzIFByb3BzKTtcbiAgY29uc3QgcHJvcFZhbHVlID0gcHJvcHNba2V5XSBhcyBVc2VPbk1hcFsnYW55J10gfCBVc2VPbk1hcFsnYW55J11bMF0gfCB1bmRlZmluZWQ7XG4gIGlmIChwcm9wVmFsdWUgPT0gbnVsbCkge1xuICAgIHByb3BzW2tleV0gPSB2YWx1ZTtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcbiAgICBwcm9wVmFsdWUucHVzaCguLi52YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgcHJvcHNba2V5XSA9IFtwcm9wVmFsdWUsIC4uLnZhbHVlXTtcbiAgfVxuICBjb25zdCB2YXJQcm9wID0ganN4RWxlbWVudC52YXJQcm9wc1trZXldO1xuICBpZiAodmFyUHJvcCkge1xuICAgIC8vIHdlIG5lZWQgdG8gZGVtb3RlIHRoZSBoYW5kbGVycyB0byB2YXJQcm9wc1xuICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcbiAgICAgIHByb3BWYWx1ZS5wdXNoKC4uLihwcm9wc1trZXldIGFzIGFueSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBqc3hFbGVtZW50LnZhclByb3BzW2tleV0gPSBbcHJvcFZhbHVlLCAuLi52YWx1ZV07XG4gICAgfVxuICAgIHByb3BzW2tleV0gPSB1bmRlZmluZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgZmlyc3QgZWxlbWVudCBub2RlIGluIHRoZSBKU1ggb3V0cHV0LlxuICpcbiAqIEBwYXJhbSBqc3ggVGhlIEpTWCBvdXRwdXQgdG8gc2VhcmNoLlxuICogQHJldHVybnMgVGhlIGZpcnN0IGVsZW1lbnQgbm9kZSBvciBudWxsIGlmIG5vIGVsZW1lbnQgbm9kZSBpcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZEZpcnN0RWxlbWVudE5vZGUoanN4OiBKU1hPdXRwdXQpOiBWYWx1ZU9yUHJvbWlzZTxKU1hOb2RlSW50ZXJuYWw8c3RyaW5nPiB8IG51bGw+IHtcbiAgY29uc3QgcXVldWU6IGFueVtdID0gW2pzeF07XG4gIHdoaWxlIChxdWV1ZS5sZW5ndGgpIHtcbiAgICBjb25zdCBqc3ggPSBxdWV1ZS5zaGlmdCgpO1xuICAgIGlmIChpc0pTWE5vZGUoanN4KSkge1xuICAgICAgaWYgKHR5cGVvZiBqc3gudHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGpzeCBhcyBKU1hOb2RlSW50ZXJuYWw8c3RyaW5nPjtcbiAgICAgIH1cbiAgICAgIHF1ZXVlLnB1c2goanN4LmNoaWxkcmVuKTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkoanN4KSkge1xuICAgICAgcXVldWUucHVzaCguLi5qc3gpO1xuICAgIH0gZWxzZSBpZiAoaXNQcm9taXNlKGpzeCkpIHtcbiAgICAgIHJldHVybiBtYXliZVRoZW48SlNYT3V0cHV0LCBKU1hOb2RlSW50ZXJuYWw8c3RyaW5nPiB8IG51bGw+KGpzeCwgKGpzeCkgPT5cbiAgICAgICAgZmluZEZpcnN0RWxlbWVudE5vZGUoanN4KVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGlzU2lnbmFsKGpzeCkpIHtcbiAgICAgIHJldHVybiBmaW5kRmlyc3RFbGVtZW50Tm9kZSh1bnRyYWNrKCgpID0+IGpzeC52YWx1ZSBhcyBKU1hPdXRwdXQpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogSW5qZWN0cyBhIHBsYWNlaG9sZGVyIDxzY3JpcHQ+IGVsZW1lbnQgaW50byB0aGUgSlNYIG91dHB1dC5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBmb3IgaGVhZGxlc3MgY29tcG9uZW50cyAoY29tcG9uZW50cyB0aGF0IGRvbid0IHJlbmRlciBhIHJlYWwgRE9NIGVsZW1lbnQpIHRvXG4gKiBoYXZlIGFuIGFuY2hvciBwb2ludCBmb3IgYHVzZU9uYCBldmVudCBsaXN0ZW5lcnMgdGhhdCB0YXJnZXQgdGhlIGRvY3VtZW50IG9yIHdpbmRvdy5cbiAqXG4gKiBAcGFyYW0ganN4IFRoZSBKU1ggb3V0cHV0IHRvIG1vZGlmeS5cbiAqIEByZXR1cm5zIEEgdHVwbGUgY29udGFpbmluZyB0aGUgY3JlYXRlZCBwbGFjZWhvbGRlciBlbGVtZW50IGFuZCB0aGUgbW9kaWZpZWQgSlNYIG91dHB1dC5cbiAqL1xuZnVuY3Rpb24gaW5qZWN0UGxhY2Vob2xkZXJFbGVtZW50KFxuICBqc3g6IEpTWE91dHB1dFxuKTogW0pTWE5vZGVJbnRlcm5hbDxzdHJpbmc+IHwgbnVsbCwgSlNYT3V0cHV0IHwgbnVsbF0ge1xuICAvLyBGb3IgcmVndWxhciBKU1ggbm9kZXMsIHdlIGNhbiBhcHBlbmQgdGhlIHBsYWNlaG9sZGVyIHRvIGl0cyBjaGlsZHJlbi5cbiAgaWYgKGlzSlNYTm9kZShqc3gpKSB7XG4gICAgY29uc3QgcGxhY2Vob2xkZXIgPSBjcmVhdGVQbGFjZWhvbGRlclNjcmlwdE5vZGUoKTtcbiAgICAvLyBJbmxpbmUgY29tcG9uZW50cyBkb24ndCBhbHdheXMgcmVuZGVyIGNoaWxkcmVuLCBzbyB3ZSB3cmFwIHRoZW0gaW4gRnJhZ21lbnQgd2hpY2ggZG9lcy5cbiAgICBpZiAoanN4LnR5cGUgIT09IEZyYWdtZW50ICYmICFpc1F3aWtDb21wb25lbnQoanN4LnR5cGUpKSB7XG4gICAgICByZXR1cm4gW3BsYWNlaG9sZGVyLCBfanN4U29ydGVkKEZyYWdtZW50LCBudWxsLCBudWxsLCBbanN4LCBwbGFjZWhvbGRlcl0sIDAsIG51bGwpXTtcbiAgICB9XG5cbiAgICBpZiAoanN4LmNoaWxkcmVuID09IG51bGwpIHtcbiAgICAgIGpzeC5jaGlsZHJlbiA9IHBsYWNlaG9sZGVyO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShqc3guY2hpbGRyZW4pKSB7XG4gICAgICBqc3guY2hpbGRyZW4ucHVzaChwbGFjZWhvbGRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGpzeC5jaGlsZHJlbiA9IFtqc3guY2hpbGRyZW4sIHBsYWNlaG9sZGVyXTtcbiAgICB9XG4gICAgcmV0dXJuIFtwbGFjZWhvbGRlciwganN4XTtcbiAgfVxuXG4gIC8vIEZvciBwcmltaXRpdmVzLCB3ZSBjYW4ndCBhZGQgY2hpbGRyZW4sIHNvIHdlIHdyYXAgdGhlbSBpbiBhIGZyYWdtZW50LlxuICBpZiAoaXNQcmltaXRpdmUoanN4KSkge1xuICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gY3JlYXRlUGxhY2Vob2xkZXJTY3JpcHROb2RlKCk7XG4gICAgcmV0dXJuIFtwbGFjZWhvbGRlciwgX2pzeFNvcnRlZChGcmFnbWVudCwgbnVsbCwgbnVsbCwgW2pzeCwgcGxhY2Vob2xkZXJdLCAwLCBudWxsKV07XG4gIH1cblxuICAvLyBGb3IgYW4gYXJyYXkgb2Ygbm9kZXMsIHdlIGluamVjdCB0aGUgcGxhY2Vob2xkZXIgaW50byB0aGUgZmlyc3QgZWxlbWVudC5cbiAgaWYgKGlzQXJyYXkoanN4KSAmJiBqc3gubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IFtjcmVhdGVkRWxlbWVudCwgX10gPSBpbmplY3RQbGFjZWhvbGRlckVsZW1lbnQoanN4WzBdKTtcbiAgICByZXR1cm4gW2NyZWF0ZWRFbGVtZW50LCBqc3hdO1xuICB9XG5cbiAgLy8gRm9yIGFueXRoaW5nIGVsc2Ugd2UgZG8gbm90aGluZy5cbiAgcmV0dXJuIFtudWxsLCBqc3hdO1xufVxuXG4vKiogQHJldHVybnMgQW4gZW1wdHkgPHNjcmlwdD4gZWxlbWVudCBmb3IgYWRkaW5nIHF3aWsgbWV0YWRhdGEgYXR0cmlidXRlcyB0byAqL1xuZnVuY3Rpb24gY3JlYXRlUGxhY2Vob2xkZXJTY3JpcHROb2RlKCk6IEpTWE5vZGVJbnRlcm5hbDxzdHJpbmc+IHtcbiAgcmV0dXJuIG5ldyBKU1hOb2RlSW1wbCgnc2NyaXB0JywgbnVsbCwgeyBoaWRkZW46ICcnIH0pO1xufVxuIl19","import { STREAM_BLOCK_END_COMMENT, STREAM_BLOCK_START_COMMENT } from '../utils/markers';\nimport { jsx, RenderOnce } from './jsx-runtime';\n/** @public */\nexport const SkipRender = Symbol('skip render');\n/** @public */\nexport const SSRRaw = () => null;\n/** @public */\nexport const SSRComment = () => null;\n/** @public */\nexport const SSRStreamBlock = (props) => {\n    return [\n        jsx(SSRComment, { data: STREAM_BLOCK_START_COMMENT }),\n        props.children,\n        jsx(SSRComment, { data: STREAM_BLOCK_END_COMMENT }),\n    ];\n};\n/** @public */\nexport const SSRStream = (props, key) => jsx(RenderOnce, { children: jsx(InternalSSRStream, props) }, key);\nexport const InternalSSRStream = () => null;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMucHVibGljLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC9qc3gvdXRpbHMucHVibGljLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSwwQkFBMEIsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ3hGLE9BQU8sRUFBRSxHQUFHLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBSWhELGNBQWM7QUFDZCxNQUFNLENBQUMsTUFBTSxVQUFVLEdBQVksTUFBTSxDQUFDLGFBQWEsQ0FBUSxDQUFDO0FBRWhFLGNBQWM7QUFDZCxNQUFNLENBQUMsTUFBTSxNQUFNLEdBQXdDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQztBQUV0RSxjQUFjO0FBQ2QsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUF3QyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUM7QUFFMUUsY0FBYztBQUNkLE1BQU0sQ0FBQyxNQUFNLGNBQWMsR0FBZ0QsQ0FBQyxLQUFLLEVBQUUsRUFBRTtJQUNuRixPQUFPO1FBQ0wsR0FBRyxDQUFDLFVBQVUsRUFBRSxFQUFFLElBQUksRUFBRSwwQkFBMEIsRUFBRSxDQUFDO1FBQ3JELEtBQUssQ0FBQyxRQUFRO1FBQ2QsR0FBRyxDQUFDLFVBQVUsRUFBRSxFQUFFLElBQUksRUFBRSx3QkFBd0IsRUFBRSxDQUFDO0tBQ3BELENBQUM7QUFDSixDQUFDLENBQUM7QUFrQkYsY0FBYztBQUNkLE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBc0MsQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FDekUsR0FBRyxDQUFDLFVBQVUsRUFBRSxFQUFFLFFBQVEsRUFBRSxHQUFHLENBQUMsaUJBQWlCLEVBQUUsS0FBSyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQztBQU9wRSxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBc0MsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU1RSRUFNX0JMT0NLX0VORF9DT01NRU5ULCBTVFJFQU1fQkxPQ0tfU1RBUlRfQ09NTUVOVCB9IGZyb20gJy4uL3V0aWxzL21hcmtlcnMnO1xuaW1wb3J0IHsganN4LCBSZW5kZXJPbmNlIH0gZnJvbSAnLi9qc3gtcnVudGltZSc7XG5pbXBvcnQgdHlwZSB7IEZ1bmN0aW9uQ29tcG9uZW50LCBKU1hOb2RlLCBKU1hPdXRwdXQgfSBmcm9tICcuL3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB0eXBlIHsgSlNYQ2hpbGRyZW4gfSBmcm9tICcuL3R5cGVzL2pzeC1xd2lrLWF0dHJpYnV0ZXMnO1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGNvbnN0IFNraXBSZW5kZXI6IEpTWE5vZGUgPSBTeW1ib2woJ3NraXAgcmVuZGVyJykgYXMgYW55O1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGNvbnN0IFNTUlJhdzogRnVuY3Rpb25Db21wb25lbnQ8eyBkYXRhOiBzdHJpbmcgfT4gPSAoKSA9PiBudWxsO1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGNvbnN0IFNTUkNvbW1lbnQ6IEZ1bmN0aW9uQ29tcG9uZW50PHsgZGF0YTogc3RyaW5nIH0+ID0gKCkgPT4gbnVsbDtcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBjb25zdCBTU1JTdHJlYW1CbG9jazogRnVuY3Rpb25Db21wb25lbnQ8eyBjaGlsZHJlbj86IEpTWE91dHB1dCB9PiA9IChwcm9wcykgPT4ge1xuICByZXR1cm4gW1xuICAgIGpzeChTU1JDb21tZW50LCB7IGRhdGE6IFNUUkVBTV9CTE9DS19TVEFSVF9DT01NRU5UIH0pLFxuICAgIHByb3BzLmNoaWxkcmVuLFxuICAgIGpzeChTU1JDb21tZW50LCB7IGRhdGE6IFNUUkVBTV9CTE9DS19FTkRfQ09NTUVOVCB9KSxcbiAgXTtcbn07XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBTU1JTdHJlYW1Qcm9wcyA9IHtcbiAgY2hpbGRyZW46IFNTUlN0cmVhbUNoaWxkcmVuO1xufTtcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBpbnRlcmZhY2UgU1NSU3RyZWFtV3JpdGVyIHtcbiAgd3JpdGUoY2h1bms6IEpTWE91dHB1dCk6IHZvaWQ7XG59XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBTU1JTdHJlYW1DaGlsZHJlbiA9XG4gIHwgQXN5bmNHZW5lcmF0b3I8SlNYQ2hpbGRyZW4sIHZvaWQsIGFueT5cbiAgfCAoKHN0cmVhbTogU1NSU3RyZWFtV3JpdGVyKSA9PiBQcm9taXNlPHZvaWQ+KVxuICB8ICgoKSA9PiBBc3luY0dlbmVyYXRvcjxKU1hDaGlsZHJlbiwgdm9pZCwgYW55Pik7XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgY29uc3QgU1NSU3RyZWFtOiBGdW5jdGlvbkNvbXBvbmVudDxTU1JTdHJlYW1Qcm9wcz4gPSAocHJvcHMsIGtleSkgPT5cbiAganN4KFJlbmRlck9uY2UsIHsgY2hpbGRyZW46IGpzeChJbnRlcm5hbFNTUlN0cmVhbSwgcHJvcHMpIH0sIGtleSk7XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBTU1JIaW50UHJvcHMgPSB7XG4gIGR5bmFtaWM/OiBib29sZWFuO1xufTtcblxuZXhwb3J0IGNvbnN0IEludGVybmFsU1NSU3RyZWFtOiBGdW5jdGlvbkNvbXBvbmVudDxTU1JTdHJlYW1Qcm9wcz4gPSAoKSA9PiBudWxsO1xuIl19","export function escapeHTML(html) {\n    let escapedHTML = '';\n    const length = html.length;\n    let idx = 0;\n    let lastIdx = idx;\n    for (; idx < length; idx++) {\n        // We get the charCode NOT string. String would allocate memory.\n        const ch = html.charCodeAt(idx);\n        // Every time we concat a string we allocate memory. We want to minimize that.\n        if (ch === 60 /* < */) {\n            escapedHTML += html.substring(lastIdx, idx) + '&lt;';\n        }\n        else if (ch === 62 /* > */) {\n            escapedHTML += html.substring(lastIdx, idx) + '&gt;';\n        }\n        else if (ch === 38 /* & */) {\n            escapedHTML += html.substring(lastIdx, idx) + '&amp;';\n        }\n        else if (ch === 34 /* \" */) {\n            escapedHTML += html.substring(lastIdx, idx) + '&quot;';\n        }\n        else if (ch === 39 /* ' */) {\n            escapedHTML += html.substring(lastIdx, idx) + '&#39;';\n        }\n        else {\n            continue;\n        }\n        lastIdx = idx + 1;\n    }\n    if (lastIdx === 0) {\n        // This is most common case, just return previous string no memory allocation.\n        return html;\n    }\n    else {\n        // Add the tail of replacement.\n        return escapedHTML + html.substring(lastIdx);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hhcmFjdGVyLWVzY2FwaW5nLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC91dGlscy9jaGFyYWN0ZXItZXNjYXBpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxVQUFVLFVBQVUsQ0FBQyxJQUFZO0lBQ3JDLElBQUksV0FBVyxHQUFHLEVBQUUsQ0FBQztJQUNyQixNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQzNCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztJQUNaLElBQUksT0FBTyxHQUFHLEdBQUcsQ0FBQztJQUNsQixPQUFPLEdBQUcsR0FBRyxNQUFNLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQztRQUMzQixnRUFBZ0U7UUFDaEUsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNoQyw4RUFBOEU7UUFDOUUsSUFBSSxFQUFFLEtBQUssRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ3RCLFdBQVcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUM7UUFDdkQsQ0FBQzthQUFNLElBQUksRUFBRSxLQUFLLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUM3QixXQUFXLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDO1FBQ3ZELENBQUM7YUFBTSxJQUFJLEVBQUUsS0FBSyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDN0IsV0FBVyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxHQUFHLE9BQU8sQ0FBQztRQUN4RCxDQUFDO2FBQU0sSUFBSSxFQUFFLEtBQUssRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQzdCLFdBQVcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsR0FBRyxRQUFRLENBQUM7UUFDekQsQ0FBQzthQUFNLElBQUksRUFBRSxLQUFLLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUM3QixXQUFXLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLEdBQUcsT0FBTyxDQUFDO1FBQ3hELENBQUM7YUFBTSxDQUFDO1lBQ04sU0FBUztRQUNYLENBQUM7UUFDRCxPQUFPLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztJQUNwQixDQUFDO0lBQ0QsSUFBSSxPQUFPLEtBQUssQ0FBQyxFQUFFLENBQUM7UUFDbEIsOEVBQThFO1FBQzlFLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztTQUFNLENBQUM7UUFDTiwrQkFBK0I7UUFDL0IsT0FBTyxXQUFXLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQyxDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBlc2NhcGVIVE1MKGh0bWw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGxldCBlc2NhcGVkSFRNTCA9ICcnO1xuICBjb25zdCBsZW5ndGggPSBodG1sLmxlbmd0aDtcbiAgbGV0IGlkeCA9IDA7XG4gIGxldCBsYXN0SWR4ID0gaWR4O1xuICBmb3IgKDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgIC8vIFdlIGdldCB0aGUgY2hhckNvZGUgTk9UIHN0cmluZy4gU3RyaW5nIHdvdWxkIGFsbG9jYXRlIG1lbW9yeS5cbiAgICBjb25zdCBjaCA9IGh0bWwuY2hhckNvZGVBdChpZHgpO1xuICAgIC8vIEV2ZXJ5IHRpbWUgd2UgY29uY2F0IGEgc3RyaW5nIHdlIGFsbG9jYXRlIG1lbW9yeS4gV2Ugd2FudCB0byBtaW5pbWl6ZSB0aGF0LlxuICAgIGlmIChjaCA9PT0gNjAgLyogPCAqLykge1xuICAgICAgZXNjYXBlZEhUTUwgKz0gaHRtbC5zdWJzdHJpbmcobGFzdElkeCwgaWR4KSArICcmbHQ7JztcbiAgICB9IGVsc2UgaWYgKGNoID09PSA2MiAvKiA+ICovKSB7XG4gICAgICBlc2NhcGVkSFRNTCArPSBodG1sLnN1YnN0cmluZyhsYXN0SWR4LCBpZHgpICsgJyZndDsnO1xuICAgIH0gZWxzZSBpZiAoY2ggPT09IDM4IC8qICYgKi8pIHtcbiAgICAgIGVzY2FwZWRIVE1MICs9IGh0bWwuc3Vic3RyaW5nKGxhc3RJZHgsIGlkeCkgKyAnJmFtcDsnO1xuICAgIH0gZWxzZSBpZiAoY2ggPT09IDM0IC8qIFwiICovKSB7XG4gICAgICBlc2NhcGVkSFRNTCArPSBodG1sLnN1YnN0cmluZyhsYXN0SWR4LCBpZHgpICsgJyZxdW90Oyc7XG4gICAgfSBlbHNlIGlmIChjaCA9PT0gMzkgLyogJyAqLykge1xuICAgICAgZXNjYXBlZEhUTUwgKz0gaHRtbC5zdWJzdHJpbmcobGFzdElkeCwgaWR4KSArICcmIzM5Oyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBsYXN0SWR4ID0gaWR4ICsgMTtcbiAgfVxuICBpZiAobGFzdElkeCA9PT0gMCkge1xuICAgIC8vIFRoaXMgaXMgbW9zdCBjb21tb24gY2FzZSwganVzdCByZXR1cm4gcHJldmlvdXMgc3RyaW5nIG5vIG1lbW9yeSBhbGxvY2F0aW9uLlxuICAgIHJldHVybiBodG1sO1xuICB9IGVsc2Uge1xuICAgIC8vIEFkZCB0aGUgdGFpbCBvZiByZXBsYWNlbWVudC5cbiAgICByZXR1cm4gZXNjYXBlZEhUTUwgKyBodG1sLnN1YnN0cmluZyhsYXN0SWR4KTtcbiAgfVxufVxuIl19","export function getFileLocationFromJsx(jsxDev) {\n    if (!jsxDev) {\n        return null;\n    }\n    const sanitizedFileName = jsxDev.fileName?.replace(/\\\\/g, '/');\n    if (sanitizedFileName) {\n        return `${sanitizedFileName}:${jsxDev.lineNumber}:${jsxDev.columnNumber}`;\n    }\n    return null;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianN4LWZpbGVuYW1lLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC91dGlscy9qc3gtZmlsZW5hbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsTUFBTSxVQUFVLHNCQUFzQixDQUFDLE1BQWU7SUFDcEQsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ1osT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBQ0QsTUFBTSxpQkFBaUIsR0FBRyxNQUFNLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDL0QsSUFBSSxpQkFBaUIsRUFBRSxDQUFDO1FBQ3RCLE9BQU8sR0FBRyxpQkFBaUIsSUFBSSxNQUFNLENBQUMsVUFBVSxJQUFJLE1BQU0sQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUM1RSxDQUFDO0lBQ0QsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBEZXZKU1ggfSBmcm9tICcuLi9qc3gvdHlwZXMvanN4LW5vZGUnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsZUxvY2F0aW9uRnJvbUpzeChqc3hEZXY/OiBEZXZKU1gpOiBzdHJpbmcgfCBudWxsIHtcbiAgaWYgKCFqc3hEZXYpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBzYW5pdGl6ZWRGaWxlTmFtZSA9IGpzeERldi5maWxlTmFtZT8ucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xuICBpZiAoc2FuaXRpemVkRmlsZU5hbWUpIHtcbiAgICByZXR1cm4gYCR7c2FuaXRpemVkRmlsZU5hbWV9OiR7anN4RGV2LmxpbmVOdW1iZXJ9OiR7anN4RGV2LmNvbHVtbk51bWJlcn1gO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuIl19","import { JSXNodeImpl } from '../jsx/jsx-node';\nimport { createPropsProxy } from '../jsx/props-proxy';\nimport { _CONST_PROPS, _VAR_PROPS } from './constants';\nimport { NON_SERIALIZABLE_MARKER_PREFIX } from './markers';\nexport function isSlotProp(prop) {\n    return !prop.startsWith('q:') && !prop.startsWith(NON_SERIALIZABLE_MARKER_PREFIX);\n}\n/** @internal */\nexport const _restProps = (props, omit = [], target = {}) => {\n    let constPropsTarget = null;\n    const constProps = props[_CONST_PROPS];\n    if (constProps) {\n        for (const key in constProps) {\n            if (!omit.includes(key)) {\n                constPropsTarget ||= {};\n                constPropsTarget[key] = constProps[key];\n            }\n        }\n    }\n    const varPropsTarget = target;\n    const varProps = props[_VAR_PROPS];\n    for (const key in varProps) {\n        if (!omit.includes(key)) {\n            varPropsTarget[key] = varProps[key];\n        }\n    }\n    return createPropsProxy(new JSXNodeImpl(null, varPropsTarget, constPropsTarget));\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvdXRpbHMvcHJvcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFOUMsT0FBTyxFQUFFLGdCQUFnQixFQUFtQixNQUFNLG9CQUFvQixDQUFDO0FBQ3ZFLE9BQU8sRUFBRSxZQUFZLEVBQUUsVUFBVSxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ3ZELE9BQU8sRUFBRSw4QkFBOEIsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUUzRCxNQUFNLFVBQVUsVUFBVSxDQUFDLElBQVk7SUFDckMsT0FBTyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLDhCQUE4QixDQUFDLENBQUM7QUFDcEYsQ0FBQztBQUVELGdCQUFnQjtBQUNoQixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FBQyxLQUFpQixFQUFFLE9BQWlCLEVBQUUsRUFBRSxTQUFnQixFQUFFLEVBQUUsRUFBRTtJQUN2RixJQUFJLGdCQUFnQixHQUFpQixJQUFJLENBQUM7SUFDMUMsTUFBTSxVQUFVLEdBQUcsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ3ZDLElBQUksVUFBVSxFQUFFLENBQUM7UUFDZixLQUFLLE1BQU0sR0FBRyxJQUFJLFVBQVUsRUFBRSxDQUFDO1lBQzdCLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQ3hCLGdCQUFnQixLQUFLLEVBQUUsQ0FBQztnQkFDeEIsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzFDLENBQUM7UUFDSCxDQUFDO0lBQ0gsQ0FBQztJQUNELE1BQU0sY0FBYyxHQUFVLE1BQU0sQ0FBQztJQUNyQyxNQUFNLFFBQVEsR0FBRyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDbkMsS0FBSyxNQUFNLEdBQUcsSUFBSSxRQUFRLEVBQUUsQ0FBQztRQUMzQixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ3hCLGNBQWMsQ0FBQyxHQUFHLENBQUMsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdEMsQ0FBQztJQUNILENBQUM7SUFFRCxPQUFPLGdCQUFnQixDQUFDLElBQUksV0FBVyxDQUFDLElBQUksRUFBRSxjQUFjLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDO0FBQ25GLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEpTWE5vZGVJbXBsIH0gZnJvbSAnLi4vanN4L2pzeC1ub2RlJztcbmltcG9ydCB7IHR5cGUgUHJvcHMgfSBmcm9tICcuLi9qc3gvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgY3JlYXRlUHJvcHNQcm94eSwgdHlwZSBQcm9wc1Byb3h5IH0gZnJvbSAnLi4vanN4L3Byb3BzLXByb3h5JztcbmltcG9ydCB7IF9DT05TVF9QUk9QUywgX1ZBUl9QUk9QUyB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IE5PTl9TRVJJQUxJWkFCTEVfTUFSS0VSX1BSRUZJWCB9IGZyb20gJy4vbWFya2Vycyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Nsb3RQcm9wKHByb3A6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gIXByb3Auc3RhcnRzV2l0aCgncTonKSAmJiAhcHJvcC5zdGFydHNXaXRoKE5PTl9TRVJJQUxJWkFCTEVfTUFSS0VSX1BSRUZJWCk7XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBfcmVzdFByb3BzID0gKHByb3BzOiBQcm9wc1Byb3h5LCBvbWl0OiBzdHJpbmdbXSA9IFtdLCB0YXJnZXQ6IFByb3BzID0ge30pID0+IHtcbiAgbGV0IGNvbnN0UHJvcHNUYXJnZXQ6IFByb3BzIHwgbnVsbCA9IG51bGw7XG4gIGNvbnN0IGNvbnN0UHJvcHMgPSBwcm9wc1tfQ09OU1RfUFJPUFNdO1xuICBpZiAoY29uc3RQcm9wcykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGNvbnN0UHJvcHMpIHtcbiAgICAgIGlmICghb21pdC5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgIGNvbnN0UHJvcHNUYXJnZXQgfHw9IHt9O1xuICAgICAgICBjb25zdFByb3BzVGFyZ2V0W2tleV0gPSBjb25zdFByb3BzW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbnN0IHZhclByb3BzVGFyZ2V0OiBQcm9wcyA9IHRhcmdldDtcbiAgY29uc3QgdmFyUHJvcHMgPSBwcm9wc1tfVkFSX1BST1BTXTtcbiAgZm9yIChjb25zdCBrZXkgaW4gdmFyUHJvcHMpIHtcbiAgICBpZiAoIW9taXQuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgdmFyUHJvcHNUYXJnZXRba2V5XSA9IHZhclByb3BzW2tleV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZVByb3BzUHJveHkobmV3IEpTWE5vZGVJbXBsKG51bGwsIHZhclByb3BzVGFyZ2V0LCBjb25zdFByb3BzVGFyZ2V0KSk7XG59O1xuIl19","import { ComponentStylesPrefixContent } from './markers';\nexport const styleContent = (styleId) => {\n    return ComponentStylesPrefixContent + styleId;\n};\nexport function hasClassAttr(props) {\n    return 'class' in props || 'className' in props;\n}\nexport function isClassAttr(key) {\n    return key === 'class' || key === 'className';\n}\nexport function getScopedStyleIdsAsPrefix(scopedStyleIds) {\n    return Array.from(scopedStyleIds)\n        .map((styleId) => styleContent(styleId))\n        .join(' ');\n}\nexport function convertScopedStyleIdsToArray(scopedStyleIds) {\n    return scopedStyleIds?.split(' ') ?? null;\n}\nexport function convertStyleIdsToString(scopedStyleIds) {\n    return Array.from(scopedStyleIds).join(' ');\n}\nexport const addComponentStylePrefix = (styleId) => {\n    if (styleId) {\n        let idx = 0;\n        do {\n            styleId = styleId.substring(0, idx) + styleContent(styleId.substring(idx));\n        } while ((idx = styleId.indexOf(' ', idx) + 1) !== 0);\n    }\n    return styleId || null;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NvcGVkLXN0eWxlcy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvdXRpbHMvc2NvcGVkLXN0eWxlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsNEJBQTRCLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFFekQsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLENBQUMsT0FBZSxFQUFVLEVBQUU7SUFDdEQsT0FBTyw0QkFBNEIsR0FBRyxPQUFPLENBQUM7QUFDaEQsQ0FBQyxDQUFDO0FBRUYsTUFBTSxVQUFVLFlBQVksQ0FBQyxLQUFZO0lBQ3ZDLE9BQU8sT0FBTyxJQUFJLEtBQUssSUFBSSxXQUFXLElBQUksS0FBSyxDQUFDO0FBQ2xELENBQUM7QUFFRCxNQUFNLFVBQVUsV0FBVyxDQUFDLEdBQVc7SUFDckMsT0FBTyxHQUFHLEtBQUssT0FBTyxJQUFJLEdBQUcsS0FBSyxXQUFXLENBQUM7QUFDaEQsQ0FBQztBQUVELE1BQU0sVUFBVSx5QkFBeUIsQ0FBQyxjQUEyQjtJQUNuRSxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDO1NBQzlCLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ3ZDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNmLENBQUM7QUFFRCxNQUFNLFVBQVUsNEJBQTRCLENBQUMsY0FBOEI7SUFDekUsT0FBTyxjQUFjLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQztBQUM1QyxDQUFDO0FBRUQsTUFBTSxVQUFVLHVCQUF1QixDQUFDLGNBQTJCO0lBQ2pFLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDOUMsQ0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLHVCQUF1QixHQUFHLENBQUMsT0FBdUIsRUFBaUIsRUFBRTtJQUNoRixJQUFJLE9BQU8sRUFBRSxDQUFDO1FBQ1osSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ1osR0FBRyxDQUFDO1lBQ0YsT0FBTyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxHQUFHLFlBQVksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDN0UsQ0FBQyxRQUFRLENBQUMsR0FBRyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRTtJQUN4RCxDQUFDO0lBQ0QsT0FBTyxPQUFPLElBQUksSUFBSSxDQUFDO0FBQ3pCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgUHJvcHMgfSBmcm9tICcuLi9qc3gvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgQ29tcG9uZW50U3R5bGVzUHJlZml4Q29udGVudCB9IGZyb20gJy4vbWFya2Vycyc7XG5cbmV4cG9ydCBjb25zdCBzdHlsZUNvbnRlbnQgPSAoc3R5bGVJZDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIENvbXBvbmVudFN0eWxlc1ByZWZpeENvbnRlbnQgKyBzdHlsZUlkO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGhhc0NsYXNzQXR0cihwcm9wczogUHJvcHMpOiBib29sZWFuIHtcbiAgcmV0dXJuICdjbGFzcycgaW4gcHJvcHMgfHwgJ2NsYXNzTmFtZScgaW4gcHJvcHM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NsYXNzQXR0cihrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4ga2V5ID09PSAnY2xhc3MnIHx8IGtleSA9PT0gJ2NsYXNzTmFtZSc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY29wZWRTdHlsZUlkc0FzUHJlZml4KHNjb3BlZFN0eWxlSWRzOiBTZXQ8c3RyaW5nPik6IHN0cmluZyB7XG4gIHJldHVybiBBcnJheS5mcm9tKHNjb3BlZFN0eWxlSWRzKVxuICAgIC5tYXAoKHN0eWxlSWQpID0+IHN0eWxlQ29udGVudChzdHlsZUlkKSlcbiAgICAuam9pbignICcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFNjb3BlZFN0eWxlSWRzVG9BcnJheShzY29wZWRTdHlsZUlkcz86IHN0cmluZyB8IG51bGwpOiBBcnJheTxzdHJpbmc+IHwgbnVsbCB7XG4gIHJldHVybiBzY29wZWRTdHlsZUlkcz8uc3BsaXQoJyAnKSA/PyBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFN0eWxlSWRzVG9TdHJpbmcoc2NvcGVkU3R5bGVJZHM6IFNldDxzdHJpbmc+KTogc3RyaW5nIHtcbiAgcmV0dXJuIEFycmF5LmZyb20oc2NvcGVkU3R5bGVJZHMpLmpvaW4oJyAnKTtcbn1cblxuZXhwb3J0IGNvbnN0IGFkZENvbXBvbmVudFN0eWxlUHJlZml4ID0gKHN0eWxlSWQ/OiBzdHJpbmcgfCBudWxsKTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gIGlmIChzdHlsZUlkKSB7XG4gICAgbGV0IGlkeCA9IDA7XG4gICAgZG8ge1xuICAgICAgc3R5bGVJZCA9IHN0eWxlSWQuc3Vic3RyaW5nKDAsIGlkeCkgKyBzdHlsZUNvbnRlbnQoc3R5bGVJZC5zdWJzdHJpbmcoaWR4KSk7XG4gICAgfSB3aGlsZSAoKGlkeCA9IHN0eWxlSWQuaW5kZXhPZignICcsIGlkeCkgKyAxKSAhPT0gMCk7XG4gIH1cbiAgcmV0dXJuIHN0eWxlSWQgfHwgbnVsbDtcbn07XG4iXX0=","/** CSS properties which accept numbers but are not in units of \"px\". */\nconst unitlessNumbers = new Set([\n    'animationIterationCount',\n    'aspectRatio',\n    'borderImageOutset',\n    'borderImageSlice',\n    'borderImageWidth',\n    'boxFlex',\n    'boxFlexGroup',\n    'boxOrdinalGroup',\n    'columnCount',\n    'columns',\n    'flex',\n    'flexGrow',\n    'flexShrink',\n    'gridArea',\n    'gridRow',\n    'gridRowEnd',\n    'gridRowStart',\n    'gridColumn',\n    'gridColumnEnd',\n    'gridColumnStart',\n    'fontWeight',\n    'lineClamp',\n    'lineHeight',\n    'opacity',\n    'order',\n    'orphans',\n    'scale',\n    'tabSize',\n    'widows',\n    'zIndex',\n    'zoom',\n    'MozAnimationIterationCount', // Known Prefixed Properties\n    'MozBoxFlex', // TODO: Remove these since they shouldn't be used in modern code\n    'msFlex',\n    'msFlexPositive',\n    'WebkitAnimationIterationCount',\n    'WebkitBoxFlex',\n    'WebkitBoxOrdinalGroup',\n    'WebkitColumnCount',\n    'WebkitColumns',\n    'WebkitFlex',\n    'WebkitFlexGrow',\n    'WebkitFlexShrink',\n    'WebkitLineClamp',\n]);\nexport const isUnitlessNumber = (name) => {\n    return unitlessNumbers.has(name);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidW5pdGxlc3NfbnVtYmVyLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC91dGlscy91bml0bGVzc19udW1iZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsd0VBQXdFO0FBQ3hFLE1BQU0sZUFBZSxHQUFHLElBQUksR0FBRyxDQUFDO0lBQzlCLHlCQUF5QjtJQUN6QixhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsU0FBUztJQUNULGNBQWM7SUFDZCxpQkFBaUI7SUFDakIsYUFBYTtJQUNiLFNBQVM7SUFDVCxNQUFNO0lBQ04sVUFBVTtJQUNWLFlBQVk7SUFDWixVQUFVO0lBQ1YsU0FBUztJQUNULFlBQVk7SUFDWixjQUFjO0lBQ2QsWUFBWTtJQUNaLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsWUFBWTtJQUNaLFdBQVc7SUFDWCxZQUFZO0lBQ1osU0FBUztJQUNULE9BQU87SUFDUCxTQUFTO0lBQ1QsT0FBTztJQUNQLFNBQVM7SUFDVCxRQUFRO0lBQ1IsUUFBUTtJQUNSLE1BQU07SUFDTiw0QkFBNEIsRUFBRSw0QkFBNEI7SUFDMUQsWUFBWSxFQUFFLGlFQUFpRTtJQUMvRSxRQUFRO0lBQ1IsZ0JBQWdCO0lBQ2hCLCtCQUErQjtJQUMvQixlQUFlO0lBQ2YsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtJQUNuQixlQUFlO0lBQ2YsWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixrQkFBa0I7SUFDbEIsaUJBQWlCO0NBQ2xCLENBQUMsQ0FBQztBQUVILE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixHQUFHLENBQUMsSUFBWSxFQUFXLEVBQUU7SUFDeEQsT0FBTyxlQUFlLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ25DLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBDU1MgcHJvcGVydGllcyB3aGljaCBhY2NlcHQgbnVtYmVycyBidXQgYXJlIG5vdCBpbiB1bml0cyBvZiBcInB4XCIuICovXG5jb25zdCB1bml0bGVzc051bWJlcnMgPSBuZXcgU2V0KFtcbiAgJ2FuaW1hdGlvbkl0ZXJhdGlvbkNvdW50JyxcbiAgJ2FzcGVjdFJhdGlvJyxcbiAgJ2JvcmRlckltYWdlT3V0c2V0JyxcbiAgJ2JvcmRlckltYWdlU2xpY2UnLFxuICAnYm9yZGVySW1hZ2VXaWR0aCcsXG4gICdib3hGbGV4JyxcbiAgJ2JveEZsZXhHcm91cCcsXG4gICdib3hPcmRpbmFsR3JvdXAnLFxuICAnY29sdW1uQ291bnQnLFxuICAnY29sdW1ucycsXG4gICdmbGV4JyxcbiAgJ2ZsZXhHcm93JyxcbiAgJ2ZsZXhTaHJpbmsnLFxuICAnZ3JpZEFyZWEnLFxuICAnZ3JpZFJvdycsXG4gICdncmlkUm93RW5kJyxcbiAgJ2dyaWRSb3dTdGFydCcsXG4gICdncmlkQ29sdW1uJyxcbiAgJ2dyaWRDb2x1bW5FbmQnLFxuICAnZ3JpZENvbHVtblN0YXJ0JyxcbiAgJ2ZvbnRXZWlnaHQnLFxuICAnbGluZUNsYW1wJyxcbiAgJ2xpbmVIZWlnaHQnLFxuICAnb3BhY2l0eScsXG4gICdvcmRlcicsXG4gICdvcnBoYW5zJyxcbiAgJ3NjYWxlJyxcbiAgJ3RhYlNpemUnLFxuICAnd2lkb3dzJyxcbiAgJ3pJbmRleCcsXG4gICd6b29tJyxcbiAgJ01vekFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50JywgLy8gS25vd24gUHJlZml4ZWQgUHJvcGVydGllc1xuICAnTW96Qm94RmxleCcsIC8vIFRPRE86IFJlbW92ZSB0aGVzZSBzaW5jZSB0aGV5IHNob3VsZG4ndCBiZSB1c2VkIGluIG1vZGVybiBjb2RlXG4gICdtc0ZsZXgnLFxuICAnbXNGbGV4UG9zaXRpdmUnLFxuICAnV2Via2l0QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQnLFxuICAnV2Via2l0Qm94RmxleCcsXG4gICdXZWJraXRCb3hPcmRpbmFsR3JvdXAnLFxuICAnV2Via2l0Q29sdW1uQ291bnQnLFxuICAnV2Via2l0Q29sdW1ucycsXG4gICdXZWJraXRGbGV4JyxcbiAgJ1dlYmtpdEZsZXhHcm93JyxcbiAgJ1dlYmtpdEZsZXhTaHJpbmsnLFxuICAnV2Via2l0TGluZUNsYW1wJyxcbl0pO1xuXG5leHBvcnQgY29uc3QgaXNVbml0bGVzc051bWJlciA9IChuYW1lOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIHVuaXRsZXNzTnVtYmVycy5oYXMobmFtZSk7XG59O1xuIl19","export const hashCode = (text, hash = 0) => {\n    for (let i = 0; i < text.length; i++) {\n        const chr = text.charCodeAt(i);\n        hash = (hash << 5) - hash + chr;\n        hash |= 0; // Convert to 32bit integer\n    }\n    return Number(Math.abs(hash)).toString(36);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFzaF9jb2RlLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC91dGlscy9oYXNoX2NvZGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUMsSUFBWSxFQUFFLE9BQWUsQ0FBQyxFQUFFLEVBQUU7SUFDekQsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztRQUNyQyxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQy9CLElBQUksR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsR0FBRyxDQUFDO1FBQ2hDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQywyQkFBMkI7SUFDeEMsQ0FBQztJQUNELE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDN0MsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGhhc2hDb2RlID0gKHRleHQ6IHN0cmluZywgaGFzaDogbnVtYmVyID0gMCkgPT4ge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjaHIgPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgaGFzaCA9IChoYXNoIDw8IDUpIC0gaGFzaCArIGNocjtcbiAgICBoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuICB9XG4gIHJldHVybiBOdW1iZXIoTWF0aC5hYnMoaGFzaCkpLnRvU3RyaW5nKDM2KTtcbn07XG4iXX0=","import { qError } from '../error/error';\nimport { isPreventDefault } from './event-names';\nimport { isClassAttr } from './scoped-styles';\nimport { isArray, isString } from './types';\nimport { isUnitlessNumber } from './unitless_number';\nimport { assertQrl } from '../qrl/qrl-utils';\nimport { hashCode } from './hash_code';\nexport const serializeClass = (obj) => {\n    if (!obj) {\n        return '';\n    }\n    if (isString(obj)) {\n        return obj.trim();\n    }\n    const classes = [];\n    if (isArray(obj)) {\n        for (const o of obj) {\n            const classList = serializeClass(o);\n            if (classList) {\n                classes.push(classList);\n            }\n        }\n    }\n    else {\n        for (const [key, value] of Object.entries(obj)) {\n            if (value) {\n                classes.push(key.trim());\n            }\n        }\n    }\n    return classes.join(' ');\n};\n// Unlike fromCamelToKebabCase, this leaves `-` so that `background-color` stays `background-color`\nconst fromCamelToKebabCaseWithDash = (text) => {\n    return text.replace(/([A-Z])/g, '-$1').toLowerCase();\n};\nexport const stringifyStyle = (obj) => {\n    if (obj == null) {\n        return '';\n    }\n    if (typeof obj == 'object') {\n        if (isArray(obj)) {\n            throw qError(0 /* QError.stringifyClassOrStyle */, [obj, 'style']);\n        }\n        else {\n            const chunks = [];\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    const value = obj[key];\n                    if (value != null && typeof value !== 'function') {\n                        if (key.startsWith('--')) {\n                            chunks.push(key + ':' + value);\n                        }\n                        else {\n                            chunks.push(fromCamelToKebabCaseWithDash(key) + ':' + setValueForStyle(key, value));\n                        }\n                    }\n                }\n            }\n            return chunks.join(';');\n        }\n    }\n    return String(obj);\n};\nexport const serializeBooleanOrNumberAttribute = (value) => {\n    return value != null ? String(value) : null;\n};\nexport function serializeAttribute(key, value, styleScopedId) {\n    if (isClassAttr(key)) {\n        const serializedClass = serializeClass(value);\n        value = styleScopedId\n            ? styleScopedId + (serializedClass.length ? ' ' + serializedClass : serializedClass)\n            : serializedClass;\n    }\n    else if (key === 'style') {\n        value = stringifyStyle(value);\n    }\n    else if (isEnumeratedBooleanAttribute(key) || typeof value === 'number') {\n        // aria attrs, tabindex etc.\n        value = serializeBooleanOrNumberAttribute(value);\n    }\n    else if (value === false || value == null) {\n        value = null;\n    }\n    else if (value === true && isPreventDefault(key)) {\n        value = '';\n    }\n    return value;\n}\nfunction isEnumeratedBooleanAttribute(key) {\n    return isAriaAttribute(key) || ['spellcheck', 'draggable', 'contenteditable'].includes(key);\n}\nexport const setValueForStyle = (styleName, value) => {\n    if (typeof value === 'number' && value !== 0 && !isUnitlessNumber(styleName)) {\n        return value + 'px';\n    }\n    return value;\n};\nexport function isAriaAttribute(prop) {\n    return prop.startsWith('aria-');\n}\nexport const styleKey = (qStyles, index) => {\n    assertQrl(qStyles);\n    return `${hashCode(qStyles.$hash$)}-${index}`;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3R5bGVzLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC91dGlscy9zdHlsZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFVLE1BQU0sRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNqRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDOUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFDNUMsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDckQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRTdDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFdkMsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLENBQUMsR0FBYyxFQUFVLEVBQUU7SUFDdkQsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ1QsT0FBTyxFQUFFLENBQUM7SUFDWixDQUFDO0lBQ0QsSUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztRQUNsQixPQUFPLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNwQixDQUFDO0lBRUQsTUFBTSxPQUFPLEdBQWEsRUFBRSxDQUFDO0lBRTdCLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7UUFDakIsS0FBSyxNQUFNLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztZQUNwQixNQUFNLFNBQVMsR0FBRyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEMsSUFBSSxTQUFTLEVBQUUsQ0FBQztnQkFDZCxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzFCLENBQUM7UUFDSCxDQUFDO0lBQ0gsQ0FBQztTQUFN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Q0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLE9BQW9CLEVBQUUsS0FBYSxFQUFVLEVBQUU7SUFDdEUsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ25CLE9BQU8sR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDO0FBQ2hELENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQ2xhc3NMaXN0IH0gZnJvbSAnLi4vanN4L3R5cGVzL2pzeC1xd2lrLWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgUUVycm9yLCBxRXJyb3IgfSBmcm9tICcuLi9lcnJvci9lcnJvcic7XG5pbXBvcnQgeyBpc1ByZXZlbnREZWZhdWx0IH0gZnJvbSAnLi9ldmVudC1uYW1lcyc7XG5pbXBvcnQgeyBpc0NsYXNzQXR0ciB9IGZyb20gJy4vc2NvcGVkLXN0eWxlcyc7XG5pbXBvcnQgeyBpc0FycmF5LCBpc1N0cmluZyB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgaXNVbml0bGVzc051bWJlciB9IGZyb20gJy4vdW5pdGxlc3NfbnVtYmVyJztcbmltcG9ydCB7IGFzc2VydFFybCB9IGZyb20gJy4uL3FybC9xcmwtdXRpbHMnO1xuaW1wb3J0IHR5cGUgeyBRUkwgfSBmcm9tICcuLi9xcmwvcXJsLnB1YmxpYyc7XG5pbXBvcnQgeyBoYXNoQ29kZSB9IGZyb20gJy4vaGFzaF9jb2RlJztcblxuZXhwb3J0IGNvbnN0IHNlcmlhbGl6ZUNsYXNzID0gKG9iajogQ2xhc3NMaXN0KTogc3RyaW5nID0+IHtcbiAgaWYgKCFvYmopIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgaWYgKGlzU3RyaW5nKG9iaikpIHtcbiAgICByZXR1cm4gb2JqLnRyaW0oKTtcbiAgfVxuXG4gIGNvbnN0IGNsYXNzZXM6IHN0cmluZ1tdID0gW107XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIGZvciAoY29uc3QgbyBvZiBvYmopIHtcbiAgICAgIGNvbnN0IGNsYXNzTGlzdCA9IHNlcmlhbGl6ZUNsYXNzKG8pO1xuICAgICAgaWYgKGNsYXNzTGlzdCkge1xuICAgICAgICBjbGFzc2VzLnB1c2goY2xhc3NMaXN0KTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMob2JqKSkge1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGNsYXNzZXMucHVzaChrZXkudHJpbSgpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG59O1xuXG4vLyBVbmxpa2UgZnJvbUNhbWVsVG9LZWJhYkNhc2UsIHRoaXMgbGVhdmVzIGAtYCBzbyB0aGF0IGBiYWNrZ3JvdW5kLWNvbG9yYCBzdGF5cyBgYmFja2dyb3VuZC1jb2xvcmBcbmNvbnN0IGZyb21DYW1lbFRvS2ViYWJDYXNlV2l0aERhc2ggPSAodGV4dDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIHRleHQucmVwbGFjZSgvKFtBLVpdKS9nLCAnLSQxJykudG9Mb3dlckNhc2UoKTtcbn07XG5cbmV4cG9ydCBjb25zdCBzdHJpbmdpZnlTdHlsZSA9IChvYmo6IGFueSk6IHN0cmluZyA9PiB7XG4gIGlmIChvYmogPT0gbnVsbCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBpZiAodHlwZW9mIG9iaiA9PSAnb2JqZWN0Jykge1xuICAgIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAgIHRocm93IHFFcnJvcihRRXJyb3Iuc3RyaW5naWZ5Q2xhc3NPclN0eWxlLCBbb2JqLCAnc3R5bGUnXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNodW5rczogc3RyaW5nW10gPSBbXTtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gb2JqW2tleV07XG4gICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJy0tJykpIHtcbiAgICAgICAgICAgICAgY2h1bmtzLnB1c2goa2V5ICsgJzonICsgdmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2h1bmtzLnB1c2goZnJvbUNhbWVsVG9LZWJhYkNhc2VXaXRoRGFzaChrZXkpICsgJzonICsgc2V0VmFsdWVGb3JTdHlsZShrZXksIHZhbHVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY2h1bmtzLmpvaW4oJzsnKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFN0cmluZyhvYmopO1xufTtcblxuZXhwb3J0IGNvbnN0IHNlcmlhbGl6ZUJvb2xlYW5Pck51bWJlckF0dHJpYnV0ZSA9ICh2YWx1ZTogYW55KSA9PiB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsID8gU3RyaW5nKHZhbHVlKSA6IG51bGw7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplQXR0cmlidXRlKFxuICBrZXk6IHN0cmluZyxcbiAgdmFsdWU6IGFueSxcbiAgc3R5bGVTY29wZWRJZD86IHN0cmluZyB8IG51bGxcbik6IHN0cmluZyB8IG51bGwgfCBib29sZWFuIHtcbiAgaWYgKGlzQ2xhc3NBdHRyKGtleSkpIHtcbiAgICBjb25zdCBzZXJpYWxpemVkQ2xhc3MgPSBzZXJpYWxpemVDbGFzcyh2YWx1ZSBhcyBDbGFzc0xpc3QpO1xuICAgIHZhbHVlID0gc3R5bGVTY29wZWRJZFxuICAgICAgPyBzdHlsZVNjb3BlZElkICsgKHNlcmlhbGl6ZWRDbGFzcy5sZW5ndGggPyAnICcgKyBzZXJpYWxpemVkQ2xhc3MgOiBzZXJpYWxpemVkQ2xhc3MpXG4gICAgICA6IHNlcmlhbGl6ZWRDbGFzcztcbiAgfSBlbHNlIGlmIChrZXkgPT09ICdzdHlsZScpIHtcbiAgICB2YWx1ZSA9IHN0cmluZ2lmeVN0eWxlKHZhbHVlKTtcbiAgfSBlbHNlIGlmIChpc0VudW1lcmF0ZWRCb29sZWFuQXR0cmlidXRlKGtleSkgfHwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIC8vIGFyaWEgYXR0cnMsIHRhYmluZGV4IGV0Yy5cbiAgICB2YWx1ZSA9IHNlcmlhbGl6ZUJvb2xlYW5Pck51bWJlckF0dHJpYnV0ZSh2YWx1ZSk7XG4gIH0gZWxzZSBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICB2YWx1ZSA9IG51bGw7XG4gIH0gZWxzZSBpZiAodmFsdWUgPT09IHRydWUgJiYgaXNQcmV2ZW50RGVmYXVsdChrZXkpKSB7XG4gICAgdmFsdWUgPSAnJztcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGlzRW51bWVyYXRlZEJvb2xlYW5BdHRyaWJ1dGUoa2V5OiBzdHJpbmcpIHtcbiAgcmV0dXJuIGlzQXJpYUF0dHJpYnV0ZShrZXkpIHx8IFsnc3BlbGxjaGVjaycsICdkcmFnZ2FibGUnLCAnY29udGVudGVkaXRhYmxlJ10uaW5jbHVkZXMoa2V5KTtcbn1cblxuZXhwb3J0IGNvbnN0IHNldFZhbHVlRm9yU3R5bGUgPSAoc3R5bGVOYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnkpID0+IHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgdmFsdWUgIT09IDAgJiYgIWlzVW5pdGxlc3NOdW1iZXIoc3R5bGVOYW1lKSkge1xuICAgIHJldHVybiB2YWx1ZSArICdweCc7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzQXJpYUF0dHJpYnV0ZShwcm9wOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIHByb3Auc3RhcnRzV2l0aCgnYXJpYS0nKTtcbn1cblxuZXhwb3J0IGNvbnN0IHN0eWxlS2V5ID0gKHFTdHlsZXM6IFFSTDxzdHJpbmc+LCBpbmRleDogbnVtYmVyKTogc3RyaW5nID0+IHtcbiAgYXNzZXJ0UXJsKHFTdHlsZXMpO1xuICByZXR1cm4gYCR7aGFzaENvZGUocVN0eWxlcy4kaGFzaCQpfS0ke2luZGV4fWA7XG59O1xuIl19","import { isDev } from '@qwik.dev/core/build';\nimport { _CONST_PROPS, _EFFECT_BACK_REF, _VAR_PROPS } from '../internal';\nimport { clearAllEffects, clearEffectSubscription } from '../reactive-primitives/cleanup';\nimport { WrappedSignalImpl } from '../reactive-primitives/impl/wrapped-signal-impl';\nimport { SubscriptionData } from '../reactive-primitives/subscription-data';\nimport { isSignal } from '../reactive-primitives/utils';\nimport { executeComponent } from '../shared/component-execution';\nimport { SERIALIZABLE_STATE } from '../shared/component.public';\nimport { assertDefined, assertFalse, assertTrue } from '../shared/error/assert';\nimport { qError } from '../shared/error/error';\nimport { JSXNodeImpl, isJSXNode } from '../shared/jsx/jsx-node';\nimport { Fragment } from '../shared/jsx/jsx-runtime';\nimport { directGetPropsProxyProp } from '../shared/jsx/props-proxy';\nimport { Slot } from '../shared/jsx/slot.public';\nimport { SSRComment, SSRRaw, SkipRender } from '../shared/jsx/utils.public';\nimport { isSyncQrl } from '../shared/qrl/qrl-utils';\nimport { DEBUG_TYPE } from '../shared/types';\nimport { escapeHTML } from '../shared/utils/character-escaping';\nimport { _OWNER } from '../shared/utils/constants';\nimport { fromCamelToKebabCase, getEventDataFromHtmlAttribute, isHtmlAttributeAnEventName, } from '../shared/utils/event-names';\nimport { getFileLocationFromJsx } from '../shared/utils/jsx-filename';\nimport { ELEMENT_KEY, ELEMENT_PROPS, ELEMENT_SEQ, OnRenderProp, QBackRefs, QContainerAttr, QDefaultSlot, QSlot, QTemplate, Q_PREFIX, dangerouslySetInnerHTML, } from '../shared/utils/markers';\nimport { isPromise, retryOnPromise } from '../shared/utils/promises';\nimport { isSlotProp } from '../shared/utils/prop';\nimport { hasClassAttr } from '../shared/utils/scoped-styles';\nimport { serializeAttribute } from '../shared/utils/styles';\nimport { isArray } from '../shared/utils/types';\nimport { trackSignalAndAssignHost } from '../use/use-core';\nimport { cleanupTask, isTask } from '../use/use-task';\nimport { mapApp_findIndx, mapArray_set } from './util-mapArray';\nimport { vnode_ensureElementInflated, vnode_getDomParentVNode, vnode_getElementName, vnode_getFirstChild, vnode_getProjectionParentComponent, vnode_getProps, vnode_getText, vnode_getType, vnode_insertBefore, vnode_isElementVNode, vnode_isProjection, vnode_isTextVNode, vnode_isVNode, vnode_isVirtualVNode, vnode_locate, vnode_newElement, vnode_newText, vnode_newVirtual, vnode_remove, vnode_setText, vnode_truncate, vnode_walkVNode, } from './vnode';\nimport { getAttributeNamespace, getNewElementNamespaceData } from './vnode-namespace';\nexport const vnode_diff = (container, jsxNode, vStartNode, scopedStyleIdPrefix) => {\n    let journal = container.$journal$;\n    /**\n     * Stack is used to keep track of the state of the traversal.\n     *\n     * We push current state into the stack before descending into the child, and we pop the state\n     * when we are done with the child.\n     */\n    const stack = [];\n    const asyncQueue = [];\n    ////////////////////////////////\n    //// Traverse state variables\n    ////////////////////////////////\n    let vParent = null;\n    /// Current node we compare against. (Think of it as a cursor.)\n    /// (Node can be null, if we are at the end of the list.)\n    let vCurrent = null;\n    /// When we insert new node we start it here so that we can descend into it.\n    /// NOTE: it can't be stored in `vCurrent` because `vNewNode` is in journal\n    /// and is not connected to the tree.\n    let vNewNode = null;\n    let vSiblings = null;\n    /// The array even indices will contains keys and odd indices the non keyed siblings.\n    let vSiblingsArray = null;\n    /// Side buffer to store nodes that are moved out of order during key scanning.\n    /// This contains nodes that were found before the target key and need to be moved later.\n    let vSideBuffer = null;\n    /// Current set of JSX children.\n    let jsxChildren = null;\n    // Current JSX child.\n    let jsxValue = null;\n    let jsxIdx = 0;\n    let jsxCount = 0;\n    // When we descend into children, we need to skip advance() because we just descended.\n    let shouldAdvance = true;\n    const CONST_SUBSCRIPTION_DATA = new SubscriptionData({\n        $scopedStyleIdPrefix$: scopedStyleIdPrefix,\n        $isConst$: true,\n    });\n    const NON_CONST_SUBSCRIPTION_DATA = new SubscriptionData({\n        $scopedStyleIdPrefix$: scopedStyleIdPrefix,\n        $isConst$: false,\n    });\n    ////////////////////////////////\n    diff(jsxNode, vStartNode);\n    return drainAsyncQueue();\n    //////////////////////////////////////////////\n    //////////////////////////////////////////////\n    //////////////////////////////////////////////\n    function diff(jsxNode, vStartNode) {\n        assertFalse(vnode_isVNode(jsxNode), 'JSXNode should not be a VNode');\n        assertTrue(vnode_isVNode(vStartNode), 'vStartNode should be a VNode');\n        vParent = vStartNode;\n        vNewNode = null;\n        vCurrent = vnode_getFirstChild(vStartNode);\n        stackPush(jsxNode, true);\n        if (vParent.flags & 32 /* VNodeFlags.Deleted */) {\n            // Ignore diff if the parent is deleted.\n            return;\n        }\n        while (stack.length) {\n            while (jsxIdx < jsxCount) {\n                assertFalse(vParent === vCurrent, \"Parent and current can't be the same\");\n                if (typeof jsxValue === 'string') {\n                    expectText(jsxValue);\n                }\n                else if (typeof jsxValue === 'number') {\n                    expectText(String(jsxValue));\n                }\n                else if (jsxValue && typeof jsxValue === 'object') {\n                    if (Array.isArray(jsxValue)) {\n                        descend(jsxValue, false);\n                    }\n                    else if (isSignal(jsxValue)) {\n                        expectVirtual(\"S\" /* VirtualType.WrappedSignal */, null);\n                        const unwrappedSignal = jsxValue instanceof WrappedSignalImpl ? jsxValue.$unwrapIfSignal$() : jsxValue;\n                        const currentSignal = vCurrent?.[_EFFECT_BACK_REF]?.get(\".\" /* EffectProperty.VNODE */)?.[0 /* EffectSubscriptionProp.CONSUMER */];\n                        if (currentSignal !== unwrappedSignal) {\n                            const vHost = (vNewNode || vCurrent);\n                            descend(resolveSignalAndDescend(() => trackSignalAndAssignHost(unwrappedSignal, vHost, \".\" /* EffectProperty.VNODE */, container)), true);\n                        }\n                    }\n                    else if (isPromise(jsxValue)) {\n                        expectVirtual(\"A\" /* VirtualType.Awaited */, null);\n                        asyncQueue.push(jsxValue, vNewNode || vCurrent);\n                    }\n                    else if (isJSXNode(jsxValue)) {\n                        const type = jsxValue.type;\n                        if (typeof type === 'string') {\n                            expectNoMoreTextNodes();\n                            expectElement(jsxValue, type);\n                            descend(jsxValue.children, true);\n                        }\n                        else if (typeof type === 'function') {\n                            if (type === Fragment) {\n                                expectNoMoreTextNodes();\n                                expectVirtual(\"F\" /* VirtualType.Fragment */, jsxValue.key);\n                                descend(jsxValue.children, true);\n                            }\n                            else if (type === Slot) {\n                                expectNoMoreTextNodes();\n                                if (!expectSlot()) {\n                                    // nothing to project, so try to render the Slot default content.\n                                    descend(jsxValue.children, true);\n                                }\n                            }\n                            else if (type === Projection) {\n                                expectProjection();\n                                descend(jsxValue.children, true, \n                                // special case for projection, we don't want to expect no children\n                                // because the projection's children are not removed\n                                false);\n                            }\n                            else if (type === SSRComment) {\n                                expectNoMore();\n                            }\n                            else if (type === SSRRaw) {\n                                expectNoMore();\n                            }\n                            else {\n                                // Must be a component\n                                expectNoMoreTextNodes();\n                                expectComponent(type);\n                            }\n                        }\n                    }\n                }\n                else if (jsxValue === SkipRender) {\n                    // do nothing, we are skipping this node\n                    journal = [];\n                }\n                else {\n                    expectText('');\n                }\n                advance();\n            }\n            expectNoMore();\n            cleanupSideBuffer();\n            ascend();\n        }\n    }\n    function resolveSignalAndDescend(fn) {\n        try {\n            return fn();\n        }\n        catch (e) {\n            // Signal threw a promise (async computed signal) - handle retry and async queue\n            if (isPromise(e)) {\n                // The thrown promise will resolve when the signal is ready, then retry fn() with retry logic\n                const retryPromise = e.then(() => retryOnPromise(fn));\n                asyncQueue.push(retryPromise, vNewNode || vCurrent);\n                return null;\n            }\n            throw e;\n        }\n    }\n    function advance() {\n        if (!shouldAdvance) {\n            shouldAdvance = true;\n            return;\n        }\n        jsxIdx++;\n        if (jsxIdx < jsxCount) {\n            jsxValue = jsxChildren[jsxIdx];\n        }\n        else if (stack[stack.length - 1] === false) {\n            // this was special `descendVNode === false` so pop and try again\n            return ascend();\n        }\n        if (vNewNode !== null) {\n            // We have a new Node.\n            // This means that the `vCurrent` was deemed not useful and we inserted in front of it.\n            // This means that the next node we should look at is the `vCurrent` so just clear the\n            // vNewNode  and try again.\n            vNewNode = null;\n        }\n        else {\n            advanceToNextSibling();\n        }\n    }\n    /** Advance the `vCurrent` to the next sibling. */\n    function peekNextSibling() {\n        // If we don't have a `vNewNode`, than that means we just reconciled the current node.\n        // So advance it.\n        return vCurrent ? vCurrent.nextSibling : null;\n    }\n    /** Advance the `vCurrent` to the next sibling. */\n    function advanceToNextSibling() {\n        vCurrent = peekNextSibling();\n    }\n    /**\n     * @param children\n     * @param descendVNode - If true we are descending into vNode; This is set to false if we come\n     *   across an array in jsx, and we need to descend into the array without actually descending\n     *   into the vNode.\n     *\n     *   Example:\n     *\n     *   ```\n     *   <>\n     *   before\n     *   {[1,2].map((i) => <span>{i}</span>)}\n     *   after\n     *   </>\n     * ```\n     *\n     *   In the above example all nodes are on same level so we don't `descendVNode` even thought there\n     *   is an array produced by the `map` function.\n     */\n    function descend(children, descendVNode, shouldExpectNoChildren = true) {\n        if (shouldExpectNoChildren &&\n            (children == null || (descendVNode && isArray(children) && children.length === 0))) {\n            expectNoChildren();\n            return;\n        }\n        stackPush(children, descendVNode);\n        if (descendVNode) {\n            assertDefined(vCurrent || vNewNode, 'Expecting vCurrent to be defined.');\n            vSideBuffer = null;\n            vSiblings = null;\n            vSiblingsArray = null;\n            vParent = (vNewNode || vCurrent);\n            vCurrent = vnode_getFirstChild(vParent);\n            vNewNode = null;\n        }\n        shouldAdvance = false;\n    }\n    function ascend() {\n        const descendVNode = stack.pop(); // boolean: descendVNode\n        if (descendVNode) {\n            vSideBuffer = stack.pop();\n            vSiblings = stack.pop();\n            vSiblingsArray = stack.pop();\n            vNewNode = stack.pop();\n            vCurrent = stack.pop();\n            vParent = stack.pop();\n        }\n        jsxValue = stack.pop();\n        jsxCount = stack.pop();\n        jsxIdx = stack.pop();\n        jsxChildren = stack.pop();\n        advance();\n    }\n    function stackPush(children, descendVNode) {\n        stack.push(jsxChildren, jsxIdx, jsxCount, jsxValue);\n        if (descendVNode) {\n            stack.push(vParent, vCurrent, vNewNode, vSiblingsArray, vSiblings, vSideBuffer);\n        }\n        stack.push(descendVNode);\n        if (Array.isArray(children)) {\n            jsxIdx = 0;\n            jsxCount = children.length;\n            jsxChildren = children;\n            jsxValue = jsxCount > 0 ? children[0] : null;\n        }\n        else if (children === undefined) {\n            // no children\n            jsxIdx = 0;\n            jsxValue = null;\n            jsxChildren = null;\n            jsxCount = 0;\n        }\n        else {\n            jsxIdx = 0;\n            jsxValue = children;\n            jsxChildren = null;\n            jsxCount = 1;\n        }\n    }\n    function getInsertBefore() {\n        if (vNewNode) {\n            return vCurrent;\n        }\n        else {\n            return peekNextSibling();\n        }\n    }\n    /////////////////////////////////////////////////////////////////////////////\n    /////////////////////////////////////////////////////////////////////////////\n    /////////////////////////////////////////////////////////////////////////////\n    function descendContentToProject(children, host) {\n        const projectionChildren = Array.isArray(children) ? children : [children];\n        const createProjectionJSXNode = (slotName) => {\n            return new JSXNodeImpl(Projection, null, null, [], slotName);\n        };\n        const projections = [];\n        if (host) {\n            const props = vnode_getProps(host);\n            // we need to create empty projections for all the slots to remove unused slots content\n            for (let i = 0; i < props.length; i = i + 2) {\n                const prop = props[i];\n                if (isSlotProp(prop)) {\n                    const slotName = prop;\n                    projections.push(slotName);\n                    projections.push(createProjectionJSXNode(slotName));\n                }\n            }\n        }\n        if (projections.length === 0 && children == null) {\n            // We did not find any existing slots and we don't have any children to project.\n            return;\n        }\n        /// STEP 1: Bucketize the children based on the projection name.\n        for (let i = 0; i < projectionChildren.length; i++) {\n            const child = projectionChildren[i];\n            const slotName = String((isJSXNode(child) && directGetPropsProxyProp(child, QSlot)) || QDefaultSlot);\n            const idx = mapApp_findIndx(projections, slotName, 0);\n            let jsxBucket;\n            if (idx >= 0) {\n                jsxBucket = projections[idx + 1];\n            }\n            else {\n                projections.splice(~idx, 0, slotName, (jsxBucket = createProjectionJSXNode(slotName)));\n            }\n            const removeProjection = child === false;\n            if (!removeProjection) {\n                jsxBucket.children.push(child);\n            }\n        }\n        /// STEP 2: remove the names\n        for (let i = projections.length - 2; i >= 0; i = i - 2) {\n            projections.splice(i, 1);\n        }\n        descend(projections, true);\n    }\n    function expectProjection() {\n        const jsxNode = jsxValue;\n        const slotName = jsxNode.key;\n        // console.log('expectProjection', JSON.stringify(slotName));\n        // The parent is the component and it should have our portal.\n        vCurrent = vParent.getProp(slotName, (id) => vnode_locate(container.rootVNode, id));\n        // if projection is marked as deleted then we need to create a new one\n        vCurrent = vCurrent && vCurrent.flags & 32 /* VNodeFlags.Deleted */ ? null : vCurrent;\n        if (vCurrent == null) {\n            vNewNode = vnode_newVirtual();\n            // you may be tempted to add the projection into the current parent, but\n            // that is wrong. We don't yet know if the projection will be projected, so\n            // we should leave it unattached.\n            // vNewNode[VNodeProps.parent] = vParent;\n            isDev && vNewNode.setProp(DEBUG_TYPE, \"P\" /* VirtualType.Projection */);\n            isDev && vNewNode.setProp('q:code', 'expectProjection');\n            vNewNode.setProp(QSlot, slotName);\n            vNewNode.slotParent = vParent;\n            vParent.setProp(slotName, vNewNode);\n        }\n    }\n    function expectSlot() {\n        const vHost = vnode_getProjectionParentComponent(vParent);\n        const slotNameKey = getSlotNameKey(vHost);\n        // console.log('expectSlot', JSON.stringify(slotNameKey));\n        const vProjectedNode = vHost\n            ? vHost.getProp(slotNameKey, \n            // for slots this id is vnode ref id\n            null // Projections should have been resolved through container.ensureProjectionResolved\n            //(id) => vnode_locate(container.rootVNode, id)\n            )\n            : null;\n        // console.log('   ', String(vHost), String(vProjectedNode));\n        if (vProjectedNode == null) {\n            // Nothing to project, so render content of the slot.\n            vnode_insertBefore(journal, vParent, (vNewNode = vnode_newVirtual()), vCurrent && getInsertBefore());\n            vNewNode.setProp(QSlot, slotNameKey);\n            vHost && vHost.setProp(slotNameKey, vNewNode);\n            isDev && vNewNode.setProp(DEBUG_TYPE, \"P\" /* VirtualType.Projection */);\n            isDev && vNewNode.setProp('q:code', 'expectSlot' + count++);\n            return false;\n        }\n        else if (vProjectedNode === vCurrent) {\n            // All is good.\n            // console.log('  NOOP', String(vCurrent));\n        }\n        else {\n            // move from q:template to the target node\n            vnode_insertBefore(journal, vParent, (vNewNode = vProjectedNode), vCurrent && getInsertBefore());\n            vNewNode.setProp(QSlot, slotNameKey);\n            vHost && vHost.setProp(slotNameKey, vNewNode);\n            isDev && vNewNode.setProp(DEBUG_TYPE, \"P\" /* VirtualType.Projection */);\n            isDev && vNewNode.setProp('q:code', 'expectSlot' + count++);\n        }\n        return true;\n    }\n    function getSlotNameKey(vHost) {\n        const jsxNode = jsxValue;\n        const constProps = jsxNode.constProps;\n        if (constProps && typeof constProps == 'object' && 'name' in constProps) {\n            const constValue = constProps.name;\n            if (vHost && constValue instanceof WrappedSignalImpl) {\n                return trackSignalAndAssignHost(constValue, vHost, \":\" /* EffectProperty.COMPONENT */, container);\n            }\n        }\n        return directGetPropsProxyProp(jsxNode, 'name') || QDefaultSlot;\n    }\n    function cleanupSideBuffer() {\n        if (vSideBuffer) {\n            // Remove all nodes in the side buffer as they are no longer needed\n            for (const vNode of vSideBuffer.values()) {\n                if (vNode.flags & 32 /* VNodeFlags.Deleted */) {\n                    continue;\n                }\n                cleanup(container, vNode);\n                vnode_remove(journal, vParent, vNode, true);\n            }\n            vSideBuffer.clear();\n            vSideBuffer = null;\n        }\n        vCurrent = null;\n    }\n    function drainAsyncQueue() {\n        while (asyncQueue.length) {\n            const jsxNode = asyncQueue.shift();\n            const vHostNode = asyncQueue.shift();\n            if (isPromise(jsxNode)) {\n                return jsxNode\n                    .then((jsxNode) => {\n                    diff(jsxNode, vHostNode);\n                    return drainAsyncQueue();\n                })\n                    .catch((e) => {\n                    container.handleError(e, vHostNode);\n                    return drainAsyncQueue();\n                });\n            }\n            else {\n                diff(jsxNode, vHostNode);\n            }\n        }\n    }\n    function expectNoChildren() {\n        const vFirstChild = vCurrent && vnode_getFirstChild(vCurrent);\n        if (vFirstChild !== null) {\n            let vChild = vFirstChild;\n            while (vChild) {\n                cleanup(container, vChild);\n                vChild = vChild.nextSibling;\n            }\n            vnode_truncate(journal, vCurrent, vFirstChild);\n        }\n    }\n    /** Expect no more nodes - Any nodes which are still at cursor, need to be removed. */\n    function expectNoMore() {\n        assertFalse(vParent === vCurrent, \"Parent and current can't be the same\");\n        if (vCurrent !== null) {\n            while (vCurrent) {\n                const toRemove = vCurrent;\n                advanceToNextSibling();\n                if (vParent === toRemove.parent) {\n                    cleanup(container, toRemove);\n                    // If we are diffing projection than the parent is not the parent of the node.\n                    // If that is the case we don't want to remove the node from the parent.\n                    vnode_remove(journal, vParent, toRemove, true);\n                }\n            }\n        }\n    }\n    function expectNoMoreTextNodes() {\n        while (vCurrent !== null && vnode_isTextVNode(vCurrent)) {\n            cleanup(container, vCurrent);\n            const toRemove = vCurrent;\n            advanceToNextSibling();\n            vnode_remove(journal, vParent, toRemove, true);\n        }\n    }\n    /**\n     * Returns whether `qDispatchEvent` needs patching. This is true when one of the `jsx` argument's\n     * const props has the name of an event.\n     *\n     * @returns {boolean}\n     */\n    function createNewElement(jsx, elementName, currentFile) {\n        const element = createElementWithNamespace(elementName);\n        function setAttribute(key, value, vHost) {\n            value = serializeAttribute(key, value, scopedStyleIdPrefix);\n            if (value != null) {\n                if (vHost.flags & 64 /* VNodeFlags.NS_svg */) {\n                    // only svg elements can have namespace attributes\n                    const namespace = getAttributeNamespace(key);\n                    if (namespace) {\n                        element.setAttributeNS(namespace, key, String(value));\n                        return;\n                    }\n                }\n                element.setAttribute(key, String(value));\n            }\n        }\n        const { constProps } = jsx;\n        let needsQDispatchEventPatch = false;\n        if (constProps) {\n            // Const props are, well, constant, they will never change!\n            // For this reason we can cheat and write them directly into the DOM.\n            // We never tell the vNode about them saving us time and memory.\n            for (const key in constProps) {\n                let value = constProps[key];\n                if (isHtmlAttributeAnEventName(key)) {\n                    const data = getEventDataFromHtmlAttribute(key);\n                    if (data) {\n                        const scope = data[0];\n                        const eventName = data[1];\n                        if (eventName) {\n                            vNewNode.setProp(HANDLER_PREFIX + ':' + scope + ':' + eventName, value);\n                            if (scope) {\n                                // window and document need attrs so qwik loader can find them\n                                vNewNode.setAttr(key, '', journal);\n                            }\n                            registerQwikLoaderEvent(eventName);\n                        }\n                    }\n                    needsQDispatchEventPatch = true;\n                    continue;\n                }\n                if (key === 'ref') {\n                    if (isSignal(value)) {\n                        value.value = element;\n                        continue;\n                    }\n                    else if (typeof value === 'function') {\n                        value(element);\n                        continue;\n                    }\n                    else if (value == null) {\n                        continue;\n                    }\n                    else {\n                        throw qError(15 /* QError.invalidRefValue */, [currentFile]);\n                    }\n                }\n                if (isSignal(value)) {\n                    const vHost = vNewNode;\n                    const signal = value;\n                    value = retryOnPromise(() => trackSignalAndAssignHost(signal, vHost, key, container, CONST_SUBSCRIPTION_DATA));\n                }\n                if (isPromise(value)) {\n                    const vHost = vNewNode;\n                    value.then((resolvedValue) => setAttribute(key, resolvedValue, vHost));\n                    continue;\n                }\n                if (key === dangerouslySetInnerHTML) {\n                    if (value) {\n                        element.innerHTML = String(value);\n                        element.setAttribute(QContainerAttr, \"html\" /* QContainerValue.HTML */);\n                    }\n                    continue;\n                }\n                if (elementName === 'textarea' && key === 'value') {\n                    if (value && typeof value !== 'string') {\n                        if (isDev) {\n                            throw qError(23 /* QError.wrongTextareaValue */, [currentFile, value]);\n                        }\n                        continue;\n                    }\n                    element.value = escapeHTML(value || '');\n                    continue;\n                }\n                setAttribute(key, value, vNewNode);\n            }\n        }\n        const key = jsx.key;\n        if (key) {\n            vNewNode.setProp(ELEMENT_KEY, key);\n        }\n        // append class attribute if styleScopedId exists and there is no class attribute\n        if (scopedStyleIdPrefix) {\n            const classAttributeExists = hasClassAttr(jsx.varProps) || (jsx.constProps && hasClassAttr(jsx.constProps));\n            if (!classAttributeExists) {\n                element.setAttribute('class', scopedStyleIdPrefix);\n            }\n        }\n        vnode_insertBefore(journal, vParent, vNewNode, vCurrent);\n        return needsQDispatchEventPatch;\n    }\n    function createElementWithNamespace(elementName) {\n        const domParentVNode = vnode_getDomParentVNode(vParent);\n        const { elementNamespace, elementNamespaceFlag } = getNewElementNamespaceData(domParentVNode, elementName);\n        const element = container.document.createElementNS(elementNamespace, elementName);\n        vNewNode = vnode_newElement(element, elementName);\n        vNewNode.flags |= elementNamespaceFlag;\n        return element;\n    }\n    function expectElement(jsx, elementName) {\n        const isSameElementName = vCurrent && vnode_isElementVNode(vCurrent) && elementName === vnode_getElementName(vCurrent);\n        const jsxKey = jsx.key;\n        let needsQDispatchEventPatch = false;\n        const currentKey = getKey(vCurrent);\n        if (!isSameElementName || jsxKey !== currentKey) {\n            const sideBufferKey = getSideBufferKey(elementName, jsxKey);\n            const createNew = () => (needsQDispatchEventPatch = createNewElement(jsx, elementName));\n            moveOrCreateKeyedNode(elementName, jsxKey, sideBufferKey, vParent, createNew);\n        }\n        else {\n            // delete the key from the side buffer if it is the same element\n            deleteFromSideBuffer(elementName, jsxKey);\n        }\n        // reconcile attributes\n        const jsxAttrs = [];\n        const props = jsx.varProps;\n        if (jsx.toSort) {\n            const keys = Object.keys(props).sort();\n            for (const key of keys) {\n                const value = props[key];\n                if (value != null) {\n                    jsxAttrs.push(key, value);\n                }\n            }\n        }\n        else {\n            for (const key in props) {\n                const value = props[key];\n                if (value != null) {\n                    jsxAttrs.push(key, value);\n                }\n            }\n        }\n        if (jsxKey !== null) {\n            mapArray_set(jsxAttrs, ELEMENT_KEY, jsxKey, 0);\n        }\n        const vNode = (vNewNode || vCurrent);\n        const element = vNode.element;\n        if (!element.vNode) {\n            element.vNode = vNode;\n        }\n        needsQDispatchEventPatch =\n            setBulkProps(vNode, jsxAttrs, (isDev && getFileLocationFromJsx(jsx.dev)) || null) ||\n                needsQDispatchEventPatch;\n        if (needsQDispatchEventPatch) {\n            // Event handler needs to be patched onto the element.\n            if (!element.qDispatchEvent) {\n                element.qDispatchEvent = (event, scope) => {\n                    const eventName = fromCamelToKebabCase(event.type);\n                    const eventProp = ':' + scope.substring(1) + ':' + eventName;\n                    const qrls = [\n                        vNode.getProp(eventProp, null),\n                        vNode.getProp(HANDLER_PREFIX + eventProp, null),\n                    ];\n                    let returnValue = false;\n                    qrls.flat(2).forEach((qrl) => {\n                        if (qrl) {\n                            if (isSyncQrl(qrl)) {\n                                qrl(event, element);\n                            }\n                            else {\n                                const value = container.$scheduler$(2 /* ChoreType.RUN_QRL */, vNode, qrl, [event, element]);\n                                returnValue = returnValue || value === true;\n                            }\n                        }\n                    });\n                    return returnValue;\n                };\n            }\n        }\n    }\n    /** @returns True if `qDispatchEvent` needs patching */\n    function setBulkProps(vnode, srcAttrs, currentFile) {\n        vnode_ensureElementInflated(vnode);\n        const dstAttrs = vnode_getProps(vnode);\n        let srcIdx = 0;\n        let dstIdx = 0;\n        let patchEventDispatch = false;\n        const setAttribute = (key, value, vHost) => {\n            vHost.setAttr(key, value !== null ? serializeAttribute(key, value, scopedStyleIdPrefix) : null, journal);\n        };\n        const record = (key, value) => {\n            if (key.startsWith(':')) {\n                vnode.setProp(key, value);\n                return;\n            }\n            if (key === 'ref') {\n                const element = vnode.element;\n                if (isSignal(value)) {\n                    value.value = element;\n                    return;\n                }\n                else if (typeof value === 'function') {\n                    value(element);\n                    return;\n                }\n                // handling null value is not needed here, because we are filtering null values earlier\n                else {\n                    throw qError(15 /* QError.invalidRefValue */, [currentFile]);\n                }\n            }\n            const currentEffect = vnode[_EFFECT_BACK_REF]?.get(key);\n            if (isSignal(value)) {\n                const unwrappedSignal = value instanceof WrappedSignalImpl ? value.$unwrapIfSignal$() : value;\n                const currentSignal = currentEffect?.[0 /* EffectSubscriptionProp.CONSUMER */];\n                if (currentSignal === unwrappedSignal) {\n                    return;\n                }\n                if (currentEffect) {\n                    // Clear current effect subscription if it exists\n                    // Only if we want to track the signal again\n                    clearEffectSubscription(container, currentEffect);\n                }\n                const vHost = vnode;\n                value = retryOnPromise(() => trackSignalAndAssignHost(unwrappedSignal, vHost, key, container, NON_CONST_SUBSCRIPTION_DATA));\n            }\n            else {\n                if (currentEffect) {\n                    // Clear current effect subscription if it exists\n                    // and the value is not a signal\n                    // It means that the previous value was a signal and we need to clear the effect subscription\n                    clearEffectSubscription(container, currentEffect);\n                }\n            }\n            if (isPromise(value)) {\n                const vHost = vnode;\n                value.then((resolvedValue) => setAttribute(key, resolvedValue, vHost));\n                return;\n            }\n            setAttribute(key, value, vnode);\n        };\n        const recordJsxEvent = (key, value) => {\n            const data = getEventDataFromHtmlAttribute(key);\n            if (data) {\n                const [scope, eventName] = data;\n                record(':' + scope + ':' + eventName, value);\n                // register an event for qwik loader\n                registerQwikLoaderEvent(eventName);\n                patchEventDispatch = true;\n            }\n        };\n        // Two-pointer merge algorithm: both arrays are sorted by key\n        // Note: dstAttrs mutates during iteration (setAttr uses splice), so we re-read keys each iteration\n        while (srcIdx < srcAttrs.length || dstIdx < dstAttrs.length) {\n            const srcKey = srcIdx < srcAttrs.length ? srcAttrs[srcIdx] : undefined;\n            const dstKey = dstIdx < dstAttrs.length ? dstAttrs[dstIdx] : undefined;\n            // Skip special keys in destination (HANDLER_PREFIX, Q_PREFIX)\n            if (dstKey?.startsWith(HANDLER_PREFIX) || dstKey?.startsWith(Q_PREFIX)) {\n                dstIdx += 2; // skip key and value\n                continue;\n            }\n            if (srcKey === undefined) {\n                // Source exhausted: remove remaining destination keys\n                if (isHtmlAttributeAnEventName(dstKey)) {\n                    // HTML event attributes are immutable and not removed from DOM\n                    dstIdx += 2; // skip key and value\n                }\n                else {\n                    record(dstKey, null);\n                    // After removal, dstAttrs shrinks by 2, so don't advance dstIdx\n                }\n            }\n            else if (dstKey === undefined) {\n                // Destination exhausted: add remaining source keys\n                const srcValue = srcAttrs[srcIdx + 1];\n                if (isHtmlAttributeAnEventName(srcKey)) {\n                    recordJsxEvent(srcKey, srcValue);\n                }\n                else {\n                    record(srcKey, srcValue);\n                }\n                srcIdx += 2; // skip key and value\n                // After addition, dstAttrs grows by 2 at sorted position, advance dstIdx\n                dstIdx += 2;\n            }\n            else if (srcKey === dstKey) {\n                // Keys match: update if values differ\n                const srcValue = srcAttrs[srcIdx + 1];\n                const dstValue = dstAttrs[dstIdx + 1];\n                const isEventHandler = isHtmlAttributeAnEventName(srcKey);\n                if (srcValue !== dstValue) {\n                    if (isEventHandler) {\n                        recordJsxEvent(srcKey, srcValue);\n                    }\n                    else {\n                        record(srcKey, srcValue);\n                    }\n                }\n                else if (isEventHandler && !vnode.element.qDispatchEvent) {\n                    // Special case: add event handlers after resume\n                    recordJsxEvent(srcKey, srcValue);\n                }\n                // Update in place doesn't change array length\n                srcIdx += 2; // skip key and value\n                dstIdx += 2; // skip key and value\n            }\n            else if (srcKey < dstKey) {\n                // Source has a key not in destination: add it\n                const srcValue = srcAttrs[srcIdx + 1];\n                if (isHtmlAttributeAnEventName(srcKey)) {\n                    recordJsxEvent(srcKey, srcValue);\n                }\n                else {\n                    record(srcKey, srcValue);\n                }\n                srcIdx += 2; // skip key and value\n                // After addition, dstAttrs grows at sorted position (before dstIdx), advance dstIdx\n                dstIdx += 2;\n            }\n            else {\n                // Destination has a key not in source: remove it (dstKey > srcKey)\n                if (isHtmlAttributeAnEventName(dstKey)) {\n                    // HTML event attributes are immutable and not removed from DOM\n                    dstIdx += 2; // skip key and value\n                }\n                else {\n                    record(dstKey, null);\n                    // After removal, dstAttrs shrinks at dstIdx, so don't advance dstIdx\n                }\n            }\n        }\n        return patchEventDispatch;\n    }\n    function registerQwikLoaderEvent(eventName) {\n        const window = container.document.defaultView;\n        if (window) {\n            (window.qwikevents ||= []).push(eventName);\n        }\n    }\n    function retrieveChildWithKey(nodeName, key) {\n        let vNodeWithKey = null;\n        if (vSiblings === null) {\n            // it is not materialized; so materialize it.\n            vSiblings = new Map();\n            vSiblingsArray = [];\n            let vNode = vCurrent;\n            while (vNode) {\n                const name = vnode_isElementVNode(vNode) ? vnode_getElementName(vNode) : null;\n                const vKey = getKey(vNode) || getComponentHash(vNode, container.$getObjectById$);\n                if (vNodeWithKey === null && vKey == key && name == nodeName) {\n                    vNodeWithKey = vNode;\n                }\n                else {\n                    if (vKey === null) {\n                        vSiblingsArray.push(name, vNode);\n                    }\n                    else {\n                        // we only add the elements which we did not find yet.\n                        vSiblings.set(getSideBufferKey(name, vKey), vNode);\n                    }\n                }\n                vNode = vNode.nextSibling;\n            }\n        }\n        else {\n            if (key === null) {\n                for (let i = 0; i < vSiblingsArray.length; i += 2) {\n                    if (vSiblingsArray[i] === nodeName) {\n                        vNodeWithKey = vSiblingsArray[i + 1];\n                        vSiblingsArray.splice(i, 2);\n                        break;\n                    }\n                }\n            }\n            else {\n                const siblingsKey = getSideBufferKey(nodeName, key);\n                if (vSiblings.has(siblingsKey)) {\n                    vNodeWithKey = vSiblings.get(siblingsKey);\n                    vSiblings.delete(siblingsKey);\n                }\n            }\n        }\n        collectSideBufferSiblings(vNodeWithKey);\n        return vNodeWithKey;\n    }\n    function collectSideBufferSiblings(targetNode) {\n        if (!targetNode) {\n            if (vCurrent) {\n                const name = vnode_isElementVNode(vCurrent) ? vnode_getElementName(vCurrent) : null;\n                const vKey = getKey(vCurrent) || getComponentHash(vCurrent, container.$getObjectById$);\n                if (vKey != null) {\n                    const sideBufferKey = getSideBufferKey(name, vKey);\n                    vSideBuffer ||= new Map();\n                    vSideBuffer.set(sideBufferKey, vCurrent);\n                    vSiblings?.delete(sideBufferKey);\n                }\n            }\n            return;\n        }\n        // Walk from vCurrent up to the target node and collect all keyed siblings\n        let vNode = vCurrent;\n        while (vNode && vNode !== targetNode) {\n            const name = vnode_isElementVNode(vNode) ? vnode_getElementName(vNode) : null;\n            const vKey = getKey(vNode) || getComponentHash(vNode, container.$getObjectById$);\n            if (vKey != null) {\n                const sideBufferKey = getSideBufferKey(name, vKey);\n                vSideBuffer ||= new Map();\n                vSideBuffer.set(sideBufferKey, vNode);\n                vSiblings?.delete(sideBufferKey);\n            }\n            vNode = vNode.nextSibling;\n        }\n    }\n    function getSideBufferKey(nodeName, key) {\n        if (key == null) {\n            return null;\n        }\n        return nodeName ? nodeName + ':' + key : key;\n    }\n    function deleteFromSideBuffer(nodeName, key) {\n        const sbKey = getSideBufferKey(nodeName, key);\n        if (sbKey && vSideBuffer?.has(sbKey)) {\n            vSideBuffer.delete(sbKey);\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Shared utility to resolve a keyed node by:\n     *\n     * 1. Scanning forward siblings via `retrieveChildWithKey`\n     * 2. Falling back to the side buffer using the provided `sideBufferKey`\n     * 3. Creating a new node via `createNew` when not found\n     *\n     * If a node is moved from the side buffer, it is inserted before `vCurrent` under\n     * `parentForInsert`. The function updates `vCurrent`/`vNewNode` accordingly and returns the value\n     * from `createNew` when a new node is created.\n     */\n    function moveOrCreateKeyedNode(nodeName, lookupKey, sideBufferKey, parentForInsert, createNew, addCurrentToSideBufferOnSideInsert) {\n        // 1) Try to find the node among upcoming siblings\n        vNewNode = retrieveChildWithKey(nodeName, lookupKey);\n        if (vNewNode) {\n            vCurrent = vNewNode;\n            vNewNode = null;\n            return;\n        }\n        // 2) Try side buffer\n        if (sideBufferKey != null) {\n            const buffered = vSideBuffer?.get(sideBufferKey) || null;\n            if (buffered) {\n                vSideBuffer.delete(sideBufferKey);\n                if (addCurrentToSideBufferOnSideInsert && vCurrent) {\n                    const currentKey = getKey(vCurrent) || getComponentHash(vCurrent, container.$getObjectById$);\n                    if (currentKey != null) {\n                        const currentName = vnode_isElementVNode(vCurrent)\n                            ? vnode_getElementName(vCurrent)\n                            : null;\n                        const currentSideKey = getSideBufferKey(currentName, currentKey);\n                        if (currentSideKey != null) {\n                            vSideBuffer ||= new Map();\n                            vSideBuffer.set(currentSideKey, vCurrent);\n                        }\n                    }\n                }\n                vnode_insertBefore(journal, parentForInsert, buffered, vCurrent);\n                vCurrent = buffered;\n                vNewNode = null;\n                return;\n            }\n        }\n        // 3) Create new\n        return createNew();\n    }\n    function expectVirtual(type, jsxKey) {\n        const checkKey = type === \"F\" /* VirtualType.Fragment */;\n        const currentKey = getKey(vCurrent);\n        const currentIsVirtual = vCurrent && vnode_isVirtualVNode(vCurrent);\n        const isSameNode = currentIsVirtual && currentKey === jsxKey && (checkKey ? !!jsxKey : true);\n        if (isSameNode) {\n            // All is good.\n            deleteFromSideBuffer(null, currentKey);\n            return;\n        }\n        const createNew = () => {\n            vnode_insertBefore(journal, vParent, (vNewNode = vnode_newVirtual()), vCurrent && getInsertBefore());\n            vNewNode.setProp(ELEMENT_KEY, jsxKey);\n            isDev && vNewNode.setProp(DEBUG_TYPE, type);\n        };\n        // For fragments without a key, always create a new virtual node (ensures rerender semantics)\n        if (jsxKey === null) {\n            createNew();\n            return;\n        }\n        moveOrCreateKeyedNode(null, jsxKey, getSideBufferKey(null, jsxKey), vParent, createNew, true);\n    }\n    function expectComponent(component) {\n        const componentMeta = component[SERIALIZABLE_STATE];\n        let host = (vNewNode || vCurrent);\n        const jsxNode = jsxValue;\n        if (componentMeta) {\n            const jsxProps = jsxNode.props;\n            // QComponent\n            let shouldRender = false;\n            const [componentQRL] = componentMeta;\n            const componentHash = componentQRL.$hash$;\n            const vNodeComponentHash = getComponentHash(host, container.$getObjectById$);\n            const lookupKey = jsxNode.key || componentHash;\n            const vNodeLookupKey = getKey(host) || vNodeComponentHash;\n            const lookupKeysAreEqual = lookupKey === vNodeLookupKey;\n            const hashesAreEqual = componentHash === vNodeComponentHash;\n            if (!lookupKeysAreEqual) {\n                const createNew = () => {\n                    insertNewComponent(host, componentQRL, jsxProps);\n                    shouldRender = true;\n                };\n                moveOrCreateKeyedNode(null, lookupKey, lookupKey, vParent, createNew);\n                host = (vNewNode || vCurrent);\n            }\n            else if (!hashesAreEqual || !jsxNode.key) {\n                insertNewComponent(host, componentQRL, jsxProps);\n                host = vNewNode;\n                shouldRender = true;\n            }\n            else {\n                // delete the key from the side buffer if it is the same component\n                deleteFromSideBuffer(null, lookupKey);\n            }\n            if (host) {\n                let vNodeProps = host.getProp(ELEMENT_PROPS, container.$getObjectById$);\n                let propsAreDifferent = false;\n                if (!shouldRender) {\n                    propsAreDifferent =\n                        propsDiffer(jsxProps[_CONST_PROPS], vNodeProps?.[_CONST_PROPS]) ||\n                            propsDiffer(jsxProps[_VAR_PROPS], vNodeProps?.[_VAR_PROPS]);\n                    shouldRender = shouldRender || propsAreDifferent;\n                }\n                if (shouldRender) {\n                    if (propsAreDifferent) {\n                        if (vNodeProps) {\n                            // Reuse the same props instance, qrls can use the current props instance\n                            // as a capture ref, so we can't change it.\n                            // We need to do this directly, because normally we would subscribe to the signals\n                            // if any signal is there.\n                            vNodeProps[_CONST_PROPS] = jsxProps[_CONST_PROPS];\n                            vNodeProps[_VAR_PROPS] = jsxProps[_VAR_PROPS];\n                            vNodeProps[_OWNER] = jsxProps[_OWNER];\n                        }\n                        else if (jsxProps) {\n                            // If there is no props instance, create a new one.\n                            // We can do this because we are not using the props instance for anything else.\n                            host.setProp(ELEMENT_PROPS, jsxProps);\n                            vNodeProps = jsxProps;\n                        }\n                    }\n                    // Assign the new QRL instance to the host.\n                    // Unfortunately it is created every time, something to fix in the optimizer.\n                    host.setProp(OnRenderProp, componentQRL);\n                    /**\n                     * Mark host as not deleted. The host could have been marked as deleted if it there was a\n                     * cleanup run. Now we found it and want to reuse it, so we need to mark it as not\n                     * deleted.\n                     */\n                    host.flags &= ~32 /* VNodeFlags.Deleted */;\n                    container.$scheduler$(6 /* ChoreType.COMPONENT */, host, componentQRL, vNodeProps);\n                }\n            }\n            descendContentToProject(jsxNode.children, host);\n        }\n        else {\n            const lookupKey = jsxNode.key;\n            const vNodeLookupKey = getKey(host);\n            const lookupKeysAreEqual = lookupKey === vNodeLookupKey;\n            const vNodeComponentHash = getComponentHash(host, container.$getObjectById$);\n            const isInlineComponent = vNodeComponentHash == null;\n            if ((host && !isInlineComponent) || lookupKey == null) {\n                insertNewInlineComponent();\n                host = vNewNode;\n            }\n            else if (!lookupKeysAreEqual) {\n                const createNew = () => {\n                    // We did not find the inline component, create it.\n                    insertNewInlineComponent();\n                };\n                moveOrCreateKeyedNode(null, lookupKey, lookupKey, vParent, createNew);\n                host = (vNewNode || vCurrent);\n            }\n            else {\n                // delete the key from the side buffer if it is the same component\n                deleteFromSideBuffer(null, lookupKey);\n            }\n            if (host) {\n                let componentHost = host;\n                // Find the closest component host which has `OnRender` prop. This is need for subscriptions context.\n                while (componentHost &&\n                    (vnode_isVirtualVNode(componentHost)\n                        ? componentHost.getProp(OnRenderProp, null) === null\n                        : true)) {\n                    componentHost = componentHost.parent;\n                }\n                const jsxOutput = executeComponent(container, host, (componentHost || container.rootVNode), component, jsxNode.props);\n                asyncQueue.push(jsxOutput, host);\n            }\n        }\n    }\n    function insertNewComponent(host, componentQRL, jsxProps) {\n        if (host) {\n            clearAllEffects(container, host);\n        }\n        vnode_insertBefore(journal, vParent, (vNewNode = vnode_newVirtual()), vCurrent && getInsertBefore());\n        const jsxNode = jsxValue;\n        isDev && vNewNode.setProp(DEBUG_TYPE, \"C\" /* VirtualType.Component */);\n        container.setHostProp(vNewNode, OnRenderProp, componentQRL);\n        container.setHostProp(vNewNode, ELEMENT_PROPS, jsxProps);\n        container.setHostProp(vNewNode, ELEMENT_KEY, jsxNode.key);\n    }\n    function insertNewInlineComponent() {\n        vnode_insertBefore(journal, vParent, (vNewNode = vnode_newVirtual()), vCurrent && getInsertBefore());\n        const jsxNode = jsxValue;\n        isDev && vNewNode.setProp(DEBUG_TYPE, \"I\" /* VirtualType.InlineComponent */);\n        vNewNode.setProp(ELEMENT_PROPS, jsxNode.props);\n        if (jsxNode.key) {\n            vNewNode.setProp(ELEMENT_KEY, jsxNode.key);\n        }\n    }\n    function expectText(text) {\n        if (vCurrent !== null) {\n            const type = vnode_getType(vCurrent);\n            if (type === 3 /* Text */) {\n                if (text !== vnode_getText(vCurrent)) {\n                    vnode_setText(journal, vCurrent, text);\n                    return;\n                }\n                return;\n            }\n        }\n        vnode_insertBefore(journal, vParent, (vNewNode = vnode_newText(container.document.createTextNode(text), text)), vCurrent);\n    }\n};\n/**\n * Retrieve the key from the VNode.\n *\n * @param vNode - VNode to retrieve the key from\n * @returns Key\n */\nfunction getKey(vNode) {\n    if (vNode == null) {\n        return null;\n    }\n    return vNode.getProp(ELEMENT_KEY, null);\n}\n/**\n * Retrieve the component hash from the VNode.\n *\n * @param vNode - VNode to retrieve the key from\n * @param getObject - Function to retrieve the object by id for QComponent QRL\n * @returns Hash\n */\nfunction getComponentHash(vNode, getObject) {\n    if (vNode == null) {\n        return null;\n    }\n    const qrl = vNode.getProp(OnRenderProp, getObject);\n    return qrl ? qrl.$hash$ : null;\n}\n/**\n * Marker class for JSX projection.\n *\n * Assume you have component like so\n *\n * ```\n * <SomeComponent>\n *   some-text\n *   <span q:slot=\"name\">some more text</span>\n *   more-text\n * </SomeComponent>\n * ```\n *\n * Before the `<SomeCompetent/>` is processed its children are transformed into:\n *\n * ```\n *   <Projection q:slot=\"\">\n *     some-text\n *     more-text\n *   </Projection>\n *   <Projection q:slot=\"name\">\n *     <span q:slot=\"name\">some more text</span>\n *   </Projection>\n * ```\n */\nfunction Projection() { }\nfunction propsDiffer(src, dst) {\n    const srcEmpty = isPropsEmpty(src);\n    const dstEmpty = isPropsEmpty(dst);\n    if (srcEmpty && dstEmpty) {\n        return false;\n    }\n    if (srcEmpty || dstEmpty) {\n        return true;\n    }\n    const srcKeys = Object.keys(src);\n    const dstKeys = Object.keys(dst);\n    let srcLen = srcKeys.length;\n    let dstLen = dstKeys.length;\n    if ('children' in src) {\n        srcLen--;\n    }\n    if (QBackRefs in src) {\n        srcLen--;\n    }\n    if ('children' in dst) {\n        dstLen--;\n    }\n    if (QBackRefs in dst) {\n        dstLen--;\n    }\n    if (srcLen !== dstLen) {\n        return true;\n    }\n    for (const key of srcKeys) {\n        if (key === 'children' || key === QBackRefs) {\n            continue;\n        }\n        if (!Object.prototype.hasOwnProperty.call(dst, key) || src[key] !== dst[key]) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction isPropsEmpty(props) {\n    if (!props) {\n        return true;\n    }\n    return Object.keys(props).length === 0;\n}\n/**\n * If vnode is removed, it is necessary to release all subscriptions associated with it.\n *\n * This function will traverse the vnode tree in depth-first order and release all subscriptions.\n *\n * The function takes into account:\n *\n * - Projection nodes by not recursing into them.\n * - Component nodes by recursing into the component content nodes (which may be projected).\n */\nexport function cleanup(container, vNode) {\n    let vCursor = vNode;\n    // Depth first traversal\n    if (vnode_isTextVNode(vNode)) {\n        markVNodeAsDeleted(vCursor);\n        // Text nodes don't have subscriptions or children;\n        return;\n    }\n    let vParent = null;\n    do {\n        const type = vCursor.flags;\n        if (type & 3 /* VNodeFlags.ELEMENT_OR_VIRTUAL_MASK */) {\n            clearAllEffects(container, vCursor);\n            markVNodeAsDeleted(vCursor);\n            // Only elements and virtual nodes need to be traversed for children\n            if (type & 2 /* VNodeFlags.Virtual */) {\n                const seq = container.getHostProp(vCursor, ELEMENT_SEQ);\n                if (seq) {\n                    for (let i = 0; i < seq.length; i++) {\n                        const obj = seq[i];\n                        if (isTask(obj)) {\n                            const task = obj;\n                            clearAllEffects(container, task);\n                            if (task.$flags$ & 1 /* TaskFlags.VISIBLE_TASK */) {\n                                container.$scheduler$(32 /* ChoreType.CLEANUP_VISIBLE */, task);\n                            }\n                            else {\n                                cleanupTask(task);\n                            }\n                        }\n                    }\n                }\n            }\n            const isComponent = type & 2 /* VNodeFlags.Virtual */ &&\n                vCursor.getProp(OnRenderProp, null) !== null;\n            if (isComponent) {\n                // SPECIAL CASE: If we are a component, we need to descend into the projected content and release the content.\n                const attrs = vnode_getProps(vCursor);\n                for (let i = 0; i < attrs.length; i = i + 2) {\n                    const key = attrs[i];\n                    if (isSlotProp(key)) {\n                        const value = attrs[i + 1];\n                        if (value) {\n                            attrs[i + 1] = null; // prevent infinite loop\n                            const projection = typeof value === 'string'\n                                ? vnode_locate(container.rootVNode, value)\n                                : value;\n                            let projectionChild = vnode_getFirstChild(projection);\n                            while (projectionChild) {\n                                cleanup(container, projectionChild);\n                                projectionChild = projectionChild.nextSibling;\n                            }\n                            cleanupStaleUnclaimedProjection(container.$journal$, projection);\n                        }\n                    }\n                }\n            }\n            const isProjection = vnode_isProjection(vCursor);\n            // Descend into children\n            if (!isProjection) {\n                // Only if it is not a projection\n                const vFirstChild = vnode_getFirstChild(vCursor);\n                if (vFirstChild) {\n                    vCursor = vFirstChild;\n                    continue;\n                }\n            }\n            else if (vCursor === vNode) {\n                /**\n                 * If it is a projection and we are at the root, then we should only walk the children to\n                 * materialize the projection content. This is because we could have references in the vnode\n                 * refs map which need to be materialized before cleanup.\n                 */\n                const vFirstChild = vnode_getFirstChild(vCursor);\n                if (vFirstChild) {\n                    vnode_walkVNode(vFirstChild, (vNode) => {\n                        /**\n                         * Instead of an ID, we store a direct reference to the VNode. This is necessary to\n                         * locate the slot's parent in a detached subtree, as the ID would become invalid.\n                         */\n                        if (vNode.flags & 2 /* VNodeFlags.Virtual */) {\n                            // The QSlotParent is used to find the slot parent during scheduling\n                            vNode.slotParent;\n                        }\n                    });\n                    return;\n                }\n            }\n        }\n        else if (type & 4 /* VNodeFlags.Text */) {\n            markVNodeAsDeleted(vCursor);\n        }\n        // Out of children\n        if (vCursor === vNode) {\n            // we are where we started, this means that vNode has no children, so we are done.\n            return;\n        }\n        // Out of children, go to next sibling\n        const vNextSibling = vCursor.nextSibling;\n        if (vNextSibling) {\n            vCursor = vNextSibling;\n            continue;\n        }\n        // Out of siblings, go to parent\n        vParent = vCursor.parent;\n        while (vParent) {\n            if (vParent === vNode) {\n                // We are back where we started, we are done.\n                return;\n            }\n            const vNextParentSibling = vParent.nextSibling;\n            if (vNextParentSibling) {\n                vCursor = vNextParentSibling;\n                break;\n            }\n            vParent = vParent.parent;\n        }\n        if (vParent == null) {\n            // We are done.\n            return;\n        }\n    } while (true);\n}\nfunction cleanupStaleUnclaimedProjection(journal, projection) {\n    // we are removing a node where the projection would go after slot render.\n    // This is not needed, so we need to cleanup still unclaimed projection\n    const projectionParent = projection.parent;\n    if (projectionParent) {\n        const projectionParentType = projectionParent.flags;\n        if (projectionParentType & 1 /* VNodeFlags.Element */ &&\n            vnode_getElementName(projectionParent) === QTemplate) {\n            // if parent is the q:template element then projection is still unclaimed - remove it\n            vnode_remove(journal, projectionParent, projection, true);\n        }\n    }\n}\nfunction markVNodeAsDeleted(vCursor) {\n    /**\n     * Marks vCursor as deleted. We need to do this to prevent chores from running after the vnode is\n     * removed. (for example signal subscriptions)\n     */\n    vCursor.flags |= 32 /* VNodeFlags.Deleted */;\n}\n/**\n * This marks the property as immutable. It is needed for the QRLs so that QwikLoader can get a hold\n * of them. This character must be `:` so that the `vnode_getAttr` can ignore them.\n */\nexport const HANDLER_PREFIX = ':';\nlet count = 0;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidm5vZGUtZGlmZi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9jbGllbnQvdm5vZGUtZGlmZi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDN0MsT0FBTyxFQUFFLFlBQVksRUFBRSxnQkFBZ0IsRUFBRSxVQUFVLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDekUsT0FBTyxFQUFFLGVBQWUsRUFBRSx1QkFBdUIsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBQzFGLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGlEQUFpRCxDQUFDO0FBRXBGLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLDBDQUEwQyxDQUFDO0FBRTVFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUN4RCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUNqRSxPQUFPLEVBQUUsa0JBQWtCLEVBQW1CLE1BQU0sNEJBQTRCLENBQUM7QUFDakYsT0FBTyxFQUFFLGFBQWEsRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDaEYsT0FBTyxFQUFVLE1BQU0sRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDaEUsT0FBTyxFQUFFLFFBQVEsRUFBYyxNQUFNLDJCQUEyQixDQUFDO0FBQ2pFLE9BQU8sRUFBRSx1QkFBdUIsRUFBbUIsTUFBTSwyQkFBMkIsQ0FBQztBQUNyRixPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFHakQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFFNUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBR3BELE9BQU8sRUFBRSxVQUFVLEVBQWdDLE1BQU0saUJBQWlCLENBQUM7QUFFM0UsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBQ2hFLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUNuRCxPQUFPLEVBQ0wsb0JBQW9CLEVBQ3BCLDZCQUE2QixFQUM3QiwwQkFBMEIsR0FDM0IsTUFBTSw2QkFBNkIsQ0FBQztBQUNyQyxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUN0RSxPQUFPLEVBQ0wsV0FBVyxFQUNYLGFBQWEsRUFDYixXQUFXLEVBQ1gsWUFBWSxFQUNaLFNBQVMsRUFDVCxjQUFjLEVBQ2QsWUFBWSxFQUNaLEtBQUssRUFDTCxTQUFTLEVBQ1QsUUFBUSxFQUNSLHVCQUF1QixHQUN4QixNQUFNLHlCQUF5QixDQUFDO0FBQ2pDLE9BQU8sRUFBRSxTQUFTLEVBQUUsY0FBYyxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDckUsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ2xELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUM3RCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUM1RCxPQUFPLEVBQUUsT0FBTyxFQUF1QixNQUFNLHVCQUF1QixDQUFDO0FBQ3JFLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzNELE9BQU8sRUFBYSxXQUFXLEVBQUUsTUFBTSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFHakUsT0FBTyxFQUFFLGVBQWUsRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNoRSxPQUFPLEVBQ0wsMkJBQTJCLEVBQzNCLHVCQUF1QixFQUN2QixvQkFBb0IsRUFDcEIsbUJBQW1CLEVBQ25CLGtDQUFrQyxFQUNsQyxjQUFjLEVBQ2QsYUFBYSxFQUNiLGFBQWEsRUFDYixrQkFBa0IsRUFDbEIsb0JBQW9CLEVBQ3BCLGtCQUFrQixFQUNsQixpQkFBaUIsRUFDakIsYUFBYSxFQUNiLG9CQUFvQixFQUNwQixZQUFZLEVBQ1osZ0JBQWdCLEVBQ2hCLGFBQWEsRUFDYixnQkFBZ0IsRUFDaEIsWUFBWSxFQUNaLGFBQWEsRUFDYixjQUFjLEVBQ2QsZUFBZSxHQUVoQixNQUFNLFNBQVMsQ0FBQztBQUVqQixPQUFPLEVBQUUscUJBQXFCLEVBQUUsMEJBQTBCLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUV0RixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FDeEIsU0FBMEIsRUFDMUIsT0FBb0IsRUFDcEIsVUFBaUIsRUFDakIsbUJBQWtDLEVBQ2xDLEVBQUU7SUFDRixJQUFJLE9BQU8sR0FBSSxTQUEwQixDQUFDLFNBQVMsQ0FBQztJQUVwRDs7Ozs7T0FLRztJQUNILE1BQU0sS0FBSyxHQUFVLEVBQUUsQ0FBQztJQUV4QixNQUFNLFVBQVUsR0FBc0UsRUFBRSxDQUFDO0lBRXpGLGdDQUFnQztJQUNoQyw2QkFBNkI7SUFDN0IsZ0NBQWdDO0lBQ2hDLElBQUksT0FBTyxHQUFnQyxJQUFLLENBQUM7SUFFakQsK0RBQStEO0lBQy9ELHlEQUF5RDtJQUN6RCxJQUFJLFFBQVEsR0FBaUIsSUFBSSxDQUFDO0lBRWxDLDRFQUE0RTtJQUM1RSwyRUFBMkU7SUFDM0UscUNBQXFDO0lBQ3JDLElBQUksUUFBUSxHQUFpQixJQUFJLENBQUM7SUFFbEMsSUFBSSxTQUFTLEdBQThCLElBQUksQ0FBQztJQUNoRCxxRkFBcUY7SUFDckYsSUFBSSxjQUFjLEdBQXdDLElBQUksQ0FBQztJQUUvRCwrRUFBK0U7SUFDL0UseUZBQXlGO0lBQ3pGLElBQUksV0FBVyxHQUE4QixJQUFJLENBQUM7SUFFbEQsZ0NBQWdDO0lBQ2hDLElBQUksV0FBVyxHQUFrQixJQUFLLENBQUM7SUFDdkMscUJBQXFCO0lBQ3JCLElBQUksUUFBUSxHQUFnQixJQUFJLENBQUM7SUFDakMsSUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQ2YsSUFBSSxRQUFRLEdBQUcsQ0FBQyxDQUFDO0lBRWpCLHNGQUFzRjtJQUN0RixJQUFJLGFBQWEsR0FBRyxJQUFJLENBQUM7SUFFekIsTUFBTSx1QkFBdUIsR0FBRyxJQUFJLGdCQUFnQixDQUFDO1FBQ25ELHFCQUFxQixFQUFFLG1CQUFtQjtRQUMxQyxTQUFTLEVBQUUsSUFBSTtLQUNoQixDQUFDLENBQUM7SUFFSCxNQUFNLDJCQUEyQixHQUFHLElBQUksZ0JBQWdCLENBQUM7UUFDdkQscUJBQXFCLEVBQUUsbUJBQW1CO1FBQzFDLFNBQVMsRUFBRSxLQUFLO0tBQ2pCLENBQUMsQ0FBQztJQUNILGdDQUFnQztJQUVoQyxJQUFJLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQzFCLE9BQU8sZUFBZSxFQUFFLENBQUM7SUFFekIsOENBQThDO0lBQzlDLDhDQUE4QztJQUM5Qyw4Q0FBOEM7SUFFOUMsU0FBUyxJQUFJLENBQUMsT0FBb0IsRUFBRSxVQUFpQjtRQUNuRCxXQUFXLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxFQUFFLCtCQUErQixDQUFDLENBQUM7UUFDckUsVUFBVSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsRUFBRSw4QkFBOEIsQ0FBQyxDQUFDO1FBQ3RFLE9BQU8sR0FBRyxVQUF5QyxDQUFDO1FBQ3BELFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDaEIsUUFBUSxHQUFHLG1CQUFtQixDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzNDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFekIsSUFBSSxPQUFPLENBQUMsS0FBSyw4QkFBcUIsRUFBRSxDQUFDO1lBQ3ZDLHdDQUF3QztZQUN4QyxPQUFPO1FBQ1QsQ0FBQztRQUVELE9BQU8sS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ3BCLE9BQU8sTUFBTSxHQUFHLFFBQVEsRUFBRSxDQUFDO2dCQUN6QixXQUFXLENBQUMsT0FBTyxLQUFLLFFBQVEsRUFBRSxzQ0FBc0MsQ0FBQyxDQUFDO2dCQUMxRSxJQUFJLE9BQU8sUUFBUSxLQUFLLFFBQVEsRUFBRSxDQUFDO29CQUNqQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3ZCLENBQUM7cUJBQU0sSUFBSSxPQUFPLFFBQVEsS0FBSyxRQUFRLEVBQUUsQ0FBQztvQkFDeEMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO2dCQUMvQixDQUFDO3FCQUFNLElBQUksUUFBUSxJQUFJLE9BQU8sUUFBUSxLQUFLLFFBQVEsRUFBRSxDQUFDO29CQUNwRCxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQzt3QkFDNUIsT0FBTyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztvQkFDM0IsQ0FBQzt5QkFBTSxJQUFJLFFBQVEsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDO3dCQUM5QixhQUFhLHNDQUE0QixJQUFJLENBQUMsQ0FBQzt3QkFDL0MsTUFBTSxlQUFlLEdBQ25CLFFBQVEsWUFBWSxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLGdCQUFnQixFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQzt3QkFDakYsTUFBTSxhQUFhLEdBQUcsUUFBUSxFQUFFLENBQUMsZ0JBQWdCLENBQUMsRUFBRSxHQUFHLGdDQUFzQixFQUFFLHlDQUU5RSxDQUFDO3dCQUNGLElBQUksYUFBYSxLQUFLLGVBQWUsRUFBRSxDQUFDOzRCQUN0QyxNQUFNLEtBQUssR0FBRyxDQUFDLFFBQVEsSUFBSSxRQUFRLENBQUUsQ0FBQzs0QkFDdEMsT0FBTyxDQUNMLHVCQUF1QixDQUFDLEdBQUcsRUFBRSxDQUMzQix3QkFBd0IsQ0FBQyxlQUFlLEVBQUUsS0FBSyxrQ0FBd0IsU0FBUyxDQUFDLENBQ2xGLEVBQ0QsSUFBSSxDQUNMLENBQUM7d0JBQ0osQ0FBQztvQkFDSCxDQUFDO3lCQUFNLElBQUksU0FBUyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7d0JBQy9CLGFBQWEsZ0NBQXNCLElBQUksQ0FBQyxDQUFDO3dCQUN6QyxVQUFVLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxRQUFRLElBQUksUUFBUSxDQUFDLENBQUM7b0JBQ2xELENBQUM7eUJBQU0sSUFBSSxTQUFTLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQzt3QkFDL0IsTUFBTSxJQUFJLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQzt3QkFDM0IsSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLEVBQUUsQ0FBQzs0QkFDN0IscUJBQXFCLEVBQUUsQ0FBQzs0QkFDeEIsYUFBYSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQzs0QkFDOUIsT0FBTyxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7d0JBQ25DLENBQUM7NkJBQU0sSUFBSSxPQUFPLElBQUksS0FBSyxVQUFVLEVBQUUsQ0FBQzs0QkFDdEMsSUFBSSxJQUFJLEtBQUssUUFBUSxFQUFFLENBQUM7Z0NBQ3RCLHFCQUFxQixFQUFFLENBQUM7Z0NBQ3hCLGFBQWEsaUNBQXVCLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQ0FDbEQsT0FBTyxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7NEJBQ25DLENBQUM7aUNBQU0sSUFBSSxJQUFJLEtBQUssSUFBSSxFQUFFLENBQUM7Z0NBQ3pCLHFCQUFxQixFQUFFLENBQUM7Z0NBQ3hCLElBQUksQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDO29DQUNsQixpRUFBaUU7b0NBQ2pFLE9BQU8sQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO2dDQUNuQyxDQUFDOzRCQUNILENBQUM7aUNBQU0sSUFBSSxJQUFJLEtBQUssVUFBVSxFQUFFLENBQUM7Z0NBQy9CLGdCQUFnQixFQUFFLENBQUM7Z0NBQ25CLE9BQU8sQ0FDTCxRQUFRLENBQUMsUUFBUSxFQUNqQixJQUFJO2dDQUNKLG1FQUFtRTtnQ0FDbkUsb0RBQW9EO2dDQUNwRCxLQUFLLENBQ04sQ0FBQzs0QkFDSixDQUFDO2lDQUFNLElBQUksSUFBSSxLQUFLLFVBQVUsRUFBRSxDQUFDO2dDQUMvQixZQUFZLEVBQUUsQ0FBQzs0QkFDakIsQ0FBQztpQ0FBTSxJQUFJLElBQUksS0FBSyxNQUFNLEVBQUUsQ0FBQztnQ0FDM0IsWUFBWSxFQUFFLENBQUM7NEJBQ2pCLENBQUM7aUNBQU0sQ0FBQztnQ0FDTixzQkFBc0I7Z0NBQ3RCLHFCQUFxQixFQUFFLENBQUM7Z0NBQ3hCLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQzs0QkFDeEIsQ0FBQzt3QkFDSCxDQUFDO29CQUNILENBQUM7Z0JBQ0gsQ0FBQztxQkFBTSxJQUFJLFFBQVEsS0FBTSxVQUEwQixFQUFFLENBQUM7b0JBQ3BELHdDQUF3QztvQkFDeEMsT0FBTyxHQUFHLEVBQUUsQ0FBQztnQkFDZixDQUFDO3FCQUFNLENBQUM7b0JBQ04sVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDO2dCQUNqQixDQUFDO2dCQUNELE9BQU8sRUFBRSxDQUFDO1lBQ1osQ0FBQztZQUNELFlBQVksRUFBRSxDQUFDO1lBQ2YsaUJBQWlCLEVBQUUsQ0FBQztZQUNwQixNQUFNLEVBQUUsQ0FBQztRQUNYLENBQUM7SUFDSCxDQUFDO0lBRUQsU0FBUyx1QkFBdUIsQ0FBQyxFQUE2QjtRQUM1RCxJQUFJLENBQUM7WUFDSCxPQUFPLEVBQUUsRUFBRSxDQUFDO1FBQ2QsQ0FBQztRQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUM7WUFDWCxnRkFBZ0Y7WUFDaEYsSUFBSSxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztnQkFDakIsNkZBQTZGO2dCQUM3RixNQUFNLFlBQVksR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUN0RCxVQUFVLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxRQUFRLElBQUksUUFBUSxDQUFDLENBQUM7Z0JBQ3BELE9BQU8sSUFBSSxDQUFDO1lBQ2QsQ0FBQztZQUNELE1BQU0sQ0FBQyxDQUFDO1FBQ1YsQ0FBQztJQUNILENBQUM7SUFFRCxTQUFTLE9BQU87UUFDZCxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7WUFDbkIsYUFBYSxHQUFHLElBQUksQ0FBQztZQUNyQixPQUFPO1FBQ1QsQ0FBQztRQUNELE1BQU0sRUFBRSxDQUFDO1FBQ1QsSUFBSSxNQUFNLEdBQUcsUUFBUSxFQUFFLENBQUM7WUFDdEIsUUFBUSxHQUFHLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNqQyxDQUFDO2FBQU0sSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsS0FBSyxLQUFLLEVBQUUsQ0FBQztZQUM3QyxpRUFBaUU7WUFDakUsT0FBTyxNQUFNLEVBQUUsQ0FBQztRQUNsQixDQUFDO1FBQ0QsSUFBSSxRQUFRLEtBQUssSUFBSSxFQUFFLENBQUM7WUFDdEIsc0JBQXNCO1lBQ3RCLHVGQUF1RjtZQUN2RixzRkFBc0Y7WUFDdEYsMkJBQTJCO1lBQzNCLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDbEIsQ0FBQzthQUFNLENBQUM7WUFDTixvQkFBb0IsRUFBRSxDQUFDO1FBQ3pCLENBQUM7SUFDSCxDQUFDO0lBRUQsa0RBQWtEO0lBQ2xELFNBQVMsZUFBZTtRQUN0QixzRkFBc0Y7UUFDdEYsaUJBQWlCO1FBQ2pCLE9BQU8sUUFBUSxDQUFDLENBQUMsQ0FBRSxRQUFRLENBQUMsV0FBNEIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ2xFLENBQUM7SUFFRCxrREFBa0Q7SUFDbEQsU0FBUyxvQkFBb0I7UUFDM0IsUUFBUSxHQUFHLGVBQWUsRUFBRSxDQUFDO0lBQy9CLENBQUM7SUFFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7O09Ba0JHO0lBQ0gsU0FBUyxPQUFPLENBQ2QsUUFBcUIsRUFDckIsWUFBcUIsRUFDckIseUJBQWtDLElBQUk7UUFFdEMsSUFDRSxzQkFBc0I7WUFDdEIsQ0FBQyxRQUFRLElBQUksSUFBSSxJQUFJLENBQUMsWUFBWSxJQUFJLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQ2xGLENBQUM7WUFDRCxnQkFBZ0IsRUFBRSxDQUFDO1lBQ25CLE9BQU87UUFDVCxDQUFDO1FBQ0QsU0FBUyxDQUFDLFFBQVEsRUFBRSxZQUFZLENBQUMsQ0FBQztRQUNsQyxJQUFJLFlBQVksRUFBRSxDQUFDO1lBQ2pCLGFBQWEsQ0FBQyxRQUFRLElBQUksUUFBUSxFQUFFLG1DQUFtQyxDQUFDLENBQUM7WUFDekUsV0FBVyxHQUFHLElBQUksQ0FBQztZQUNuQixTQUFTLEdBQUcsSUFBSSxDQUFDO1lBQ2pCLGNBQWMsR0FBRyxJQUFJLENBQUM7WUFDdEIsT0FBTyxHQUFHLENBQUMsUUFBUSxJQUFJLFFBQVMsQ0FBZ0MsQ0FBQztZQUNqRSxRQUFRLEdBQUcsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDeEMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUNsQixDQUFDO1FBQ0QsYUFBYSxHQUFHLEtBQUssQ0FBQztJQUN4QixDQUFDO0lBRUQsU0FBUyxNQUFNO1FBQ2IsTUFBTSxZQUFZLEdBQUcsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsd0JBQXdCO1FBQzFELElBQUksWUFBWSxFQUFFLENBQUM7WUFDakIsV0FBVyxHQUFHLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUMxQixTQUFTLEdBQUcsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ3hCLGNBQWMsR0FBRyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDN0IsUUFBUSxHQUFHLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUN2QixRQUFRLEdBQUcsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ3ZCLE9BQU8sR0FBRyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDeEIsQ0FBQztRQUNELFFBQVEsR0FBRyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDdkIsUUFBUSxHQUFHLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUN2QixNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ3JCLFdBQVcsR0FBRyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDMUIsT0FBTyxFQUFFLENBQUM7SUFDWixDQUFDO0lBRUQsU0FBUyxTQUFTLENBQUMsUUFBcUIsRUFBRSxZQUFxQjtRQUM3RCxLQUFLLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQ3BELElBQUksWUFBWSxFQUFFLENBQUM7WUFDakIsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxjQUFjLEVBQUUsU0FBUyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBQ2xGLENBQUM7UUFDRCxLQUFLLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ3pCLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDO1lBQzVCLE1BQU0sR0FBRyxDQUFDLENBQUM7WUFDWCxRQUFRLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQztZQUMzQixXQUFXLEdBQUcsUUFBUSxDQUFDO1lBQ3ZCLFFBQVEsR0FBRyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUMvQyxDQUFDO2FBQU0sSUFBSSxRQUFRLEtBQUssU0FBUyxFQUFFLENBQUM7WUFDbEMsY0FBYztZQUNkLE1BQU0sR0FBRyxDQUFDLENBQUM7WUFDWCxRQUFRLEdBQUcsSUFBSSxDQUFDO1lBQ2hCLFdBQVcsR0FBRyxJQUFLLENBQUM7WUFDcEIsUUFBUSxHQUFHLENBQUMsQ0FBQztRQUNmLENBQUM7YUFBTSxDQUFDO1lBQ04sTUFBTSxHQUFHLENBQUMsQ0FBQztZQUNYLFFBQVEsR0FBRyxRQUFRLENBQUM7WUFDcEIsV0FBVyxHQUFHLElBQUssQ0FBQztZQUNwQixRQUFRLEdBQUcsQ0FBQyxDQUFDO1FBQ2YsQ0FBQztJQUNILENBQUM7SUFFRCxTQUFTLGVBQWU7UUFDdEIsSUFBSSxRQUFRLEVBQUUsQ0FBQztZQUNiLE9BQU8sUUFBUSxDQUFDO1FBQ2xCLENBQUM7YUFBTSxDQUFDO1lBQ04sT0FBTyxlQUFlLEVBQUUsQ0FBQztRQUMzQixDQUFDO0lBQ0gsQ0FBQztJQUVELDZFQUE2RTtJQUM3RSw2RUFBNkU7SUFDN0UsNkVBQTZFO0lBRTdFLFNBQVMsdUJBQXVCLENBQUMsUUFBcUIsRUFBRSxJQUF5QjtRQUMvRSxNQUFNLGtCQUFrQixHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMzRSxNQUFNLHVCQUF1QixHQUFHLENBQUMsUUFBZ0IsRUFBRSxFQUFFO1lBQ25ELE9BQU8sSUFBSSxXQUFXLENBQUMsVUFBVSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQy9ELENBQUMsQ0FBQztRQUVGLE1BQU0sV0FBVyxHQUFvQyxFQUFFLENBQUM7UUFDeEQsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUNULE1BQU0sS0FBSyxHQUFHLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNuQyx1RkFBdUY7WUFDdkYsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFDNUMsTUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBVyxDQUFDO2dCQUNoQyxJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO29CQUNyQixNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUM7b0JBQ3RCLFdBQVcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7b0JBQzNCLFdBQVcsQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztnQkFDdEQsQ0FBQztZQUNILENBQUM7UUFDSCxDQUFDO1FBRUQsSUFBSSxXQUFXLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxRQUFRLElBQUksSUFBSSxFQUFFLENBQUM7WUFDakQsZ0ZBQWdGO1lBQ2hGLE9BQU87UUFDVCxDQUFDO1FBRUQsZ0VBQWdFO1FBQ2hFLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxrQkFBa0IsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUNuRCxNQUFNLEtBQUssR0FBRyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwQyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQ3JCLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxJQUFJLHVCQUF1QixDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQyxJQUFJLFlBQVksQ0FDNUUsQ0FBQztZQUNGLE1BQU0sR0FBRyxHQUFHLGVBQWUsQ0FBQyxXQUFXLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3RELElBQUksU0FBeUMsQ0FBQztZQUM5QyxJQUFJLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQztnQkFDYixTQUFTLEdBQUcsV0FBVyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQVEsQ0FBQztZQUMxQyxDQUFDO2lCQUFNLENBQUM7Z0JBQ04sV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsUUFBUSxFQUFFLENBQUMsU0FBUyxHQUFHLHVCQUF1QixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6RixDQUFDO1lBQ0QsTUFBTSxnQkFBZ0IsR0FBRyxLQUFLLEtBQUssS0FBSyxDQUFDO1lBQ3pDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO2dCQUNyQixTQUFTLENBQUMsUUFBMEIsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDcEQsQ0FBQztRQUNILENBQUM7UUFDRCw0QkFBNEI7UUFDNUIsS0FBSyxJQUFJLENBQUMsR0FBRyxXQUFXLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDdkQsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDM0IsQ0FBQztRQUNELE9BQU8sQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDN0IsQ0FBQztJQUVELFNBQVMsZ0JBQWdCO1FBQ3ZCLE1BQU0sT0FBTyxHQUFHLFFBQTJCLENBQUM7UUFDNUMsTUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLEdBQWEsQ0FBQztRQUN2Qyw2REFBNkQ7UUFDN0QsNkRBQTZEO1FBQzdELFFBQVEsR0FBSSxPQUF3QixDQUFDLE9BQU8sQ0FBc0IsUUFBUSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FDakYsWUFBWSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQ3RDLENBQUM7UUFDRixzRUFBc0U7UUFDdEUsUUFBUSxHQUFHLFFBQVEsSUFBSSxRQUFRLENBQUMsS0FBSyw4QkFBcUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUM7UUFDN0UsSUFBSSxRQUFRLElBQUksSUFBSSxFQUFFLENBQUM7WUFDckIsUUFBUSxHQUFHLGdCQUFnQixFQUFFLENBQUM7WUFDOUIsd0VBQXdFO1lBQ3hFLDJFQUEyRTtZQUMzRSxpQ0FBaUM7WUFDakMseUNBQXlDO1lBQ3pDLEtBQUssSUFBSyxRQUF5QixDQUFDLE9BQU8sQ0FBQyxVQUFVLG1DQUF5QixDQUFDO1lBQ2hGLEtBQUssSUFBSyxRQUF5QixDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztZQUN6RSxRQUF5QixDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDbkQsUUFBeUIsQ0FBQyxVQUFVLEdBQUcsT0FBTyxDQUFDO1lBQy9DLE9BQXdCLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUN4RCxDQUFDO0lBQ0gsQ0FBQztJQUVELFNBQVMsVUFBVTtRQUNqQixNQUFNLEtBQUssR0FBRyxrQ0FBa0MsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUUxRCxNQUFNLFdBQVcsR0FBRyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUMsMERBQTBEO1FBRTFELE1BQU0sY0FBYyxHQUFHLEtBQUs7WUFDMUIsQ0FBQyxDQUFFLEtBQXNCLENBQUMsT0FBTyxDQUM3QixXQUFXO1lBQ1gsb0NBQW9DO1lBQ3BDLElBQUksQ0FBQyxtRkFBbUY7WUFDeEYsK0NBQStDO2FBQ2hEO1lBQ0gsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUNULDZEQUE2RDtRQUM3RCxJQUFJLGNBQWMsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUMzQixxREFBcUQ7WUFDckQsa0JBQWtCLENBQ2hCLE9BQU8sRUFDUCxPQUFzQyxFQUN0QyxDQUFDLFFBQVEsR0FBRyxnQkFBZ0IsRUFBRSxDQUFDLEVBQy9CLFFBQVEsSUFBSSxlQUFlLEVBQUUsQ0FDOUIsQ0FBQztZQUNELFFBQXlCLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQztZQUN2RCxLQUFLLElBQUssS0FBc0IsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ2hFLEtBQUssSUFBSyxRQUF5QixDQUFDLE9BQU8sQ0FBQyxVQUFVLG1DQUF5QixDQUFDO1lBQ2hGLEtBQUssSUFBSyxRQUF5QixDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsWUFBWSxHQUFHLEtBQUssRUFBRSxDQUFDLENBQUM7WUFDOUUsT0FBTyxLQUFLLENBQUM7UUFDZixDQUFDO2FBQU0sSUFBSSxjQUFjLEtBQUssUUFBUSxFQUFFLENBQUM7WUFDdkMsZUFBZTtZQUNmLDJDQUEyQztRQUM3QyxDQUFDO2FBQU0sQ0FBQztZQUNOLDBDQUEwQztZQUMxQyxrQkFBa0IsQ0FDaEIsT0FBTyxFQUNQLE9BQXNDLEVBQ3RDLENBQUMsUUFBUSxHQUFHLGNBQWMsQ0FBQyxFQUMzQixRQUFRLElBQUksZUFBZSxFQUFFLENBQzlCLENBQUM7WUFDRCxRQUF5QixDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLENBQUM7WUFDdkQsS0FBSyxJQUFLLEtBQXNCLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUNoRSxLQUFLLElBQUssUUFBeUIsQ0FBQyxPQUFPLENBQUMsVUFBVSxtQ0FBeUIsQ0FBQztZQUNoRixLQUFLLElBQUssUUFBeUIsQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLFlBQVksR0FBRyxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBQ2hGLENBQUM7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxTQUFTLGNBQWMsQ0FBQyxLQUFtQjtRQUN6QyxNQUFNLE9BQU8sR0FBRyxRQUEyQixDQUFDO1FBQzVDLE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUM7UUFDdEMsSUFBSSxVQUFVLElBQUksT0FBTyxVQUFVLElBQUksUUFBUSxJQUFJLE1BQU0sSUFBSSxVQUFVLEVBQUUsQ0FBQztZQUN4RSxNQUFNLFVBQVUsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDO1lBQ25DLElBQUksS0FBSyxJQUFJLFVBQVUsWUFBWSxpQkFBaUIsRUFBRSxDQUFDO2dCQUNyRCxPQUFPLHdCQUF3QixDQUFDLFVBQVUsRUFBRSxLQUFLLHNDQUE0QixTQUFTLENBQUMsQ0FBQztZQUMxRixDQUFDO1FBQ0gsQ0FBQztRQUNELE9BQU8sdUJBQXVCLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxJQUFJLFlBQVksQ0FBQztJQUNsRSxDQUFDO0lBRUQsU0FBUyxpQkFBaUI7UUFDeEIsSUFBSSxXQUFXLEVBQUUsQ0FBQztZQUNoQixtRUFBbUU7WUFDbkUsS0FBSyxNQUFNLEtBQUssSUFBSSxXQUFXLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQztnQkFDekMsSUFBSSxLQUFLLENBQUMsS0FBSyw4QkFBcUIsRUFBRSxDQUFDO29CQUNyQyxTQUFTO2dCQUNYLENBQUM7Z0JBQ0QsT0FBTyxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDMUIsWUFBWSxDQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQzlDLENBQUM7WUFDRCxXQUFXLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDcEIsV0FBVyxHQUFHLElBQUksQ0FBQztRQUNyQixDQUFDO1FBQ0QsUUFBUSxHQUFHLElBQUksQ0FBQztJQUNsQixDQUFDO0lBRUQsU0FBUyxlQUFlO1FBQ3RCLE9BQU8sVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ3pCLE1BQU0sT0FBTyxHQUFHLFVBQVUsQ0FBQyxLQUFLLEVBQWlDLENBQUM7WUFDbEUsTUFBTSxTQUFTLEdBQUcsVUFBVSxDQUFDLEtBQUssRUFBVyxDQUFDO1lBRTlDLElBQUksU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUM7Z0JBQ3ZCLE9BQU8sT0FBTztxQkFDWCxJQUFJLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtvQkFDaEIsSUFBSSxDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsQ0FBQztvQkFDekIsT0FBTyxlQUFlLEVBQUUsQ0FBQztnQkFDM0IsQ0FBQyxDQUFDO3FCQUNELEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO29CQUNYLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDO29CQUNwQyxPQUFPLGVBQWUsRUFBRSxDQUFDO2dCQUMzQixDQUFDLENBQUMsQ0FBQztZQUNQLENBQUM7aUJBQU0sQ0FBQztnQkFDTixJQUFJLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1lBQzNCLENBQUM7UUFDSCxDQUFDO0lBQ0gsQ0FBQztJQUVELFNBQVMsZ0JBQWdCO1FBQ3ZCLE1BQU0sV0FBVyxHQUFHLFFBQVEsSUFBSSxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM5RCxJQUFJLFdBQVcsS0FBSyxJQUFJLEVBQUUsQ0FBQztZQUN6QixJQUFJLE1BQU0sR0FBaUIsV0FBVyxDQUFDO1lBQ3ZDLE9BQU8sTUFBTSxFQUFFLENBQUM7Z0JBQ2QsT0FBTyxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztnQkFDM0IsTUFBTSxHQUFHLE1BQU0sQ0FBQyxXQUEyQixDQUFDO1lBQzlDLENBQUM7WUFDRCxjQUFjLENBQUMsT0FBTyxFQUFFLFFBQXVDLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFDaEYsQ0FBQztJQUNILENBQUM7SUFFRCxzRkFBc0Y7SUFDdEYsU0FBUyxZQUFZO1FBQ25CLFdBQVcsQ0FBQyxPQUFPLEtBQUssUUFBUSxFQUFFLHNDQUFzQyxDQUFDLENBQUM7UUFDMUUsSUFBSSxRQUFRLEtBQUssSUFBSSxFQUFFLENBQUM7WUFDdEIsT0FBTyxRQUFRLEVBQUUsQ0FBQztnQkFDaEIsTUFBTSxRQUFRLEdBQUcsUUFBUSxDQUFDO2dCQUMxQixvQkFBb0IsRUFBRSxDQUFDO2dCQUN2QixJQUFJLE9BQU8sS0FBSyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7b0JBQ2hDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUM7b0JBQzdCLDhFQUE4RTtvQkFDOUUsd0VBQXdFO29CQUN4RSxZQUFZLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBQ2pELENBQUM7WUFDSCxDQUFDO1FBQ0gsQ0FBQztJQUNILENBQUM7SUFFRCxTQUFTLHFCQUFxQjtRQUM1QixPQUFPLFFBQVEsS0FBSyxJQUFJLElBQUksaUJBQWlCLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztZQUN4RCxPQUFPLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQzdCLE1BQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQztZQUMxQixvQkFBb0IsRUFBRSxDQUFDO1lBQ3ZCLFlBQVksQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNqRCxDQUFDO0lBQ0gsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0gsU0FBUyxnQkFBZ0IsQ0FDdkIsR0FBb0IsRUFDcEIsV0FBbUIsRUFDbkIsV0FBMkI7UUFFM0IsTUFBTSxPQUFPLEdBQUcsMEJBQTBCLENBQUMsV0FBVyxDQUFDLENBQUM7UUFFeEQsU0FBUyxZQUFZLENBQUMsR0FBVyxFQUFFLEtBQVUsRUFBRSxLQUFtQjtZQUNoRSxLQUFLLEdBQUcsa0JBQWtCLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO1lBQzVELElBQUksS0FBSyxJQUFJLElBQUksRUFBRSxDQUFDO2dCQUNsQixJQUFJLEtBQUssQ0FBQyxLQUFLLDZCQUFvQixFQUFFLENBQUM7b0JBQ3BDLGtEQUFrRDtvQkFDbEQsTUFBTSxTQUFTLEdBQUcscUJBQXFCLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQzdDLElBQUksU0FBUyxFQUFFLENBQUM7d0JBQ2QsT0FBTyxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsR0FBRyxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO3dCQUN0RCxPQUFPO29CQUNULENBQUM7Z0JBQ0gsQ0FBQztnQkFDRCxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUMzQyxDQUFDO1FBQ0gsQ0FBQztRQUVELE1BQU0sRUFBRSxVQUFVLEVBQUUsR0FBRyxHQUFHLENBQUM7UUFDM0IsSUFBSSx3QkFBd0IsR0FBRyxLQUFLLENBQUM7UUFDckMsSUFBSSxVQUFVLEVBQUUsQ0FBQztZQUNmLDJEQUEyRDtZQUMzRCxxRUFBcUU7WUFDckUsZ0VBQWdFO1lBQ2hFLEtBQUssTUFBTSxHQUFHLElBQUksVUFBVSxFQUFFLENBQUM7Z0JBQzdCLElBQUksS0FBSyxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDNUIsSUFBSSwwQkFBMEIsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO29CQUNwQyxNQUFNLElBQUksR0FBRyw2QkFBNkIsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDaEQsSUFBSSxJQUFJLEVBQUUsQ0FBQzt3QkFDVCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQ3RCLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQzt3QkFFMUIsSUFBSSxTQUFTLEVBQUUsQ0FBQzs0QkFDZCxRQUFTLENBQUMsT0FBTyxDQUFDLGNBQWMsR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7NEJBQ3pFLElBQUksS0FBSyxFQUFFLENBQUM7Z0NBQ1YsOERBQThEO2dDQUM5RCxRQUFTLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUM7NEJBQ3RDLENBQUM7NEJBQ0QsdUJBQXVCLENBQUMsU0FBUyxDQUFDLENBQUM7d0JBQ3JDLENBQUM7b0JBQ0gsQ0FBQztvQkFFRCx3QkFBd0IsR0FBRyxJQUFJLENBQUM7b0JBQ2hDLFNBQVM7Z0JBQ1gsQ0FBQztnQkFFRCxJQUFJLEdBQUcsS0FBSyxLQUFLLEVBQUUsQ0FBQztvQkFDbEIsSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQzt3QkFDcEIsS0FBSyxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUM7d0JBQ3RCLFNBQVM7b0JBQ1gsQ0FBQzt5QkFBTSxJQUFJLE9BQU8sS0FBSyxLQUFLLFVBQVUsRUFBRSxDQUFDO3dCQUN2QyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7d0JBQ2YsU0FBUztvQkFDWCxDQUFDO3lCQUFNLElBQUksS0FBSyxJQUFJLElBQUksRUFBRSxDQUFDO3dCQUN6QixTQUFTO29CQUNYLENBQUM7eUJBQU0sQ0FBQzt3QkFDTixNQUFNLE1BQU0sa0NBQXlCLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztvQkFDdEQsQ0FBQztnQkFDSCxDQUFDO2dCQUVELElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7b0JBQ3BCLE1BQU0sS0FBSyxHQUFHLFFBQXdCLENBQUM7b0JBQ3ZDLE1BQU0sTUFBTSxHQUFHLEtBQXdCLENBQUM7b0JBQ3hDLEtBQUssR0FBRyxjQUFjLENBQUMsR0FBRyxFQUFFLENBQzFCLHdCQUF3QixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLFNBQVMsRUFBRSx1QkFBdUIsQ0FBQyxDQUNqRixDQUFDO2dCQUNKLENBQUM7Z0JBRUQsSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztvQkFDckIsTUFBTSxLQUFLLEdBQUcsUUFBd0IsQ0FBQztvQkFDdkMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLGFBQWEsRUFBRSxFQUFFLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxhQUFhLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztvQkFDdkUsU0FBUztnQkFDWCxDQUFDO2dCQUVELElBQUksR0FBRyxLQUFLLHVCQUF1QixFQUFFLENBQUM7b0JBQ3BDLElBQUksS0FBSyxFQUFFLENBQUM7d0JBQ1YsT0FBTyxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7d0JBQ2xDLE9BQU8sQ0FBQyxZQUFZLENBQUMsY0FBYyxvQ0FBdUIsQ0FBQztvQkFDN0QsQ0FBQztvQkFDRCxTQUFTO2dCQUNYLENBQUM7Z0JBRUQsSUFBSSxXQUFXLEtBQUssVUFBVSxJQUFJLEdBQUcsS0FBSyxPQUFPLEVBQUUsQ0FBQztvQkFDbEQsSUFBSSxLQUFLLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFLENBQUM7d0JBQ3ZDLElBQUksS0FBSyxFQUFFLENBQUM7NEJBQ1YsTUFBTSxNQUFNLHFDQUE0QixDQUFDLFdBQVcsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO3dCQUNoRSxDQUFDO3dCQUNELFNBQVM7b0JBQ1gsQ0FBQztvQkFDQSxPQUErQixDQUFDLEtBQUssR0FBRyxVQUFVLENBQUUsS0FBZ0IsSUFBSSxFQUFFLENBQUMsQ0FBQztvQkFDN0UsU0FBUztnQkFDWCxDQUFDO2dCQUVELFlBQVksQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLFFBQXdCLENBQUMsQ0FBQztZQUNyRCxDQUFDO1FBQ0gsQ0FBQztRQUNELE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUM7UUFDcEIsSUFBSSxHQUFHLEVBQUUsQ0FBQztZQUNQLFFBQXlCLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUN2RCxDQUFDO1FBRUQsaUZBQWlGO1FBQ2pGLElBQUksbUJBQW1CLEVBQUUsQ0FBQztZQUN4QixNQUFNLG9CQUFvQixHQUN4QixZQUFZLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsSUFBSSxZQUFZLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7WUFDakYsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7Z0JBQzFCLE9BQU8sQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLG1CQUFtQixDQUFDLENBQUM7WUFDckQsQ0FBQztRQUNILENBQUM7UUFFRCxrQkFBa0IsQ0FBQyxPQUFPLEVBQUUsT0FBdUIsRUFBRSxRQUF3QixFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBRXpGLE9BQU8sd0JBQXdCLENBQUM7SUFDbEMsQ0FBQztJQUVELFNBQVMsMEJBQTBCLENBQUMsV0FBbUI7UUFDckQsTUFBTSxjQUFjLEdBQUcsdUJBQXVCLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDeEQsTUFBTSxFQUFFLGdCQUFnQixFQUFFLG9CQUFvQixFQUFFLEdBQUcsMEJBQTBCLENBQzNFLGNBQWMsRUFDZCxXQUFXLENBQ1osQ0FBQztRQUVGLE1BQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQyxRQUFRLENBQUMsZUFBZSxDQUFDLGdCQUFnQixFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBQ2xGLFFBQVEsR0FBRyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFDbEQsUUFBUSxDQUFDLEtBQUssSUFBSSxvQkFBb0IsQ0FBQztRQUN2QyxPQUFPLE9BQU8sQ0FBQztJQUNqQixDQUFDO0lBRUQsU0FBUyxhQUFhLENBQUMsR0FBb0IsRUFBRSxXQUFtQjtRQUM5RCxNQUFNLGlCQUFpQixHQUNyQixRQUFRLElBQUksb0JBQW9CLENBQUMsUUFBUSxDQUFDLElBQUksV0FBVyxLQUFLLG9CQUFvQixDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQy9GLE1BQU0sTUFBTSxHQUFrQixHQUFHLENBQUMsR0FBRyxDQUFDO1FBQ3RDLElBQUksd0JBQXdCLEdBQUcsS0FBSyxDQUFDO1FBQ3JDLE1BQU0sVUFBVSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNwQyxJQUFJLENBQUMsaUJBQWlCLElBQUksTUFBTSxLQUFLLFVBQVUsRUFBRSxDQUFDO1lBQ2hELE1BQU0sYUFBYSxHQUFHLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxNQUFNLENBQUMsQ0FBQztZQUM1RCxNQUFNLFNBQVMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDLHdCQUF3QixHQUFHLGdCQUFnQixDQUFDLEdBQUcsRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDO1lBQ3hGLHFCQUFxQixDQUFDLFdBQVcsRUFBRSxNQUFNLEVBQUUsYUFBYSxFQUFFLE9BQXVCLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDaEcsQ0FBQzthQUFNLENBQUM7WUFDTixnRUFBZ0U7WUFDaEUsb0JBQW9CLENBQUMsV0FBVyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQzVDLENBQUM7UUFFRCx1QkFBdUI7UUFFdkIsTUFBTSxRQUFRLEdBQUcsRUFBaUIsQ0FBQztRQUNuQyxNQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQzNCLElBQUksR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2YsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUN2QyxLQUFLLE1BQU0sR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO2dCQUN2QixNQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ3pCLElBQUksS0FBSyxJQUFJLElBQUksRUFBRSxDQUFDO29CQUNsQixRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxLQUFZLENBQUMsQ0FBQztnQkFDbkMsQ0FBQztZQUNILENBQUM7UUFDSCxDQUFDO2FBQU0sQ0FBQztZQUNOLEtBQUssTUFBTSxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7Z0JBQ3hCLE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDekIsSUFBSSxLQUFLLElBQUksSUFBSSxFQUFFLENBQUM7b0JBQ2xCLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEtBQVksQ0FBQyxDQUFDO2dCQUNuQyxDQUFDO1lBQ0gsQ0FBQztRQUNILENBQUM7UUFDRCxJQUFJLE1BQU0sS0FBSyxJQUFJLEVBQUUsQ0FBQztZQUNwQixZQUFZLENBQUMsUUFBUSxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDakQsQ0FBQztRQUNELE1BQU0sS0FBSyxHQUFHLENBQUMsUUFBUSxJQUFJLFFBQVEsQ0FBaUIsQ0FBQztRQUVyRCxNQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBbUIsQ0FBQztRQUMxQyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQ25CLE9BQU8sQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ3hCLENBQUM7UUFFRCx3QkFBd0I7WUFDdEIsWUFBWSxDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsQ0FBQyxLQUFLLElBQUksc0JBQXNCLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDO2dCQUNqRix3QkFBd0IsQ0FBQztRQUMzQixJQUFJLHdCQUF3QixFQUFFLENBQUM7WUFDN0Isc0RBQXNEO1lBQ3RELElBQUksQ0FBQyxPQUFPLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBQzVCLE9BQU8sQ0FBQyxjQUFjLEdBQUcsQ0FBQyxLQUFZLEVBQUUsS0FBMkIsRUFBRSxFQUFFO29CQUNyRSxNQUFNLFNBQVMsR0FBRyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ25ELE1BQU0sU0FBUyxHQUFHLEdBQUcsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxTQUFTLENBQUM7b0JBQzdELE1BQU0sSUFBSSxHQUFHO3dCQUNYLEtBQUssQ0FBQyxPQUFPLENBQU0sU0FBUyxFQUFFLElBQUksQ0FBQzt3QkFDbkMsS0FBSyxDQUFDLE9BQU8sQ0FBTSxjQUFjLEdBQUcsU0FBUyxFQUFFLElBQUksQ0FBQztxQkFDckQsQ0FBQztvQkFDRixJQUFJLFdBQVcsR0FBRyxLQUFLLENBQUM7b0JBQ3hCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7d0JBQzNCLElBQUksR0FBRyxFQUFFLENBQUM7NEJBQ1IsSUFBSSxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztnQ0FDbkIsR0FBRyxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQzs0QkFDdEIsQ0FBQztpQ0FBTSxDQUFDO2dDQUNOLE1BQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQyxXQUFXLDRCQUVqQyxLQUFLLEVBQ0wsR0FBbUQsRUFDbkQsQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQ04sQ0FBQztnQ0FDYixXQUFXLEdBQUcsV0FBVyxJQUFJLEtBQUssS0FBSyxJQUFJLENBQUM7NEJBQzlDLENBQUM7d0JBQ0gsQ0FBQztvQkFDSCxDQUFDLENBQUMsQ0FBQztvQkFDSCxPQUFPLFdBQVcsQ0FBQztnQkFDckIsQ0FBQyxDQUFDO1lBQ0osQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDO0lBRUQsdURBQXVEO0lBQ3ZELFNBQVMsWUFBWSxDQUNuQixLQUFtQixFQUNuQixRQUFxQixFQUNyQixXQUEwQjtRQUUxQiwyQkFBMkIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuQyxNQUFNLFFBQVEsR0FBRyxjQUFjLENBQUMsS0FBSyxDQUFnQixDQUFDO1FBQ3RELElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQztRQUNmLElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQztRQUNmLElBQUksa0JBQWtCLEdBQUcsS0FBSyxDQUFDO1FBRS9CLE1BQU0sWUFBWSxHQUFHLENBQUMsR0FBVyxFQUFFLEtBQVUsRUFBRSxLQUFtQixFQUFFLEVBQUU7WUFDcEUsS0FBSyxDQUFDLE9BQU8sQ0FDWCxHQUFHLEVBQ0gsS0FBSyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsa0JBQWtCLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQzNFLE9BQU8sQ0FDUixDQUFDO1FBQ0osQ0FBQyxDQUFDO1FBRUYsTUFBTSxNQUFNLEdBQUcsQ0FBQyxHQUFXLEVBQUUsS0FBVSxFQUFFLEVBQUU7WUFDekMsSUFBSSxHQUFHLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQ3hCLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUMxQixPQUFPO1lBQ1QsQ0FBQztZQUVELElBQUksR0FBRyxLQUFLLEtBQUssRUFBRSxDQUFDO2dCQUNsQixNQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDO2dCQUM5QixJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO29CQUNwQixLQUFLLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQztvQkFDdEIsT0FBTztnQkFDVCxDQUFDO3FCQUFNLElBQUksT0FBTyxLQUFLLEtBQUssVUFBVSxFQUFFLENBQUM7b0JBQ3ZDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztvQkFDZixPQUFPO2dCQUNULENBQUM7Z0JBQ0QsdUZBQXVGO3FCQUNsRixDQUFDO29CQUNKLE1BQU0sTUFBTSxrQ0FBeUIsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO2dCQUN0RCxDQUFDO1lBQ0gsQ0FBQztZQUVELE1BQU0sYUFBYSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN4RCxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO2dCQUNwQixNQUFNLGVBQWUsR0FDbkIsS0FBSyxZQUFZLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO2dCQUN4RSxNQUFNLGFBQWEsR0FBRyxhQUFhLEVBQUUseUNBQWlDLENBQUM7Z0JBQ3ZFLElBQUksYUFBYSxLQUFLLGVBQWUsRUFBRSxDQUFDO29CQUN0QyxPQUFPO2dCQUNULENBQUM7Z0JBQ0QsSUFBSSxhQUFhLEVBQUUsQ0FBQztvQkFDbEIsaURBQWlEO29CQUNqRCw0Q0FBNEM7b0JBQzVDLHVCQUF1QixDQUFDLFNBQVMsRUFBRSxhQUFhLENBQUMsQ0FBQztnQkFDcEQsQ0FBQztnQkFFRCxNQUFNLEtBQUssR0FBRyxLQUFxQixDQUFDO2dCQUNwQyxLQUFLLEdBQUcsY0FBYyxDQUFDLEdBQUcsRUFBRSxDQUMxQix3QkFBd0IsQ0FDdEIsZUFBZSxFQUNmLEtBQUssRUFDTCxHQUFHLEVBQ0gsU0FBUyxFQUNULDJCQUEyQixDQUM1QixDQUNGLENBQUM7WUFDSixDQUFDO2lCQUFNLENBQUM7Z0JBQ04sSUFBSSxhQUFhLEVBQUUsQ0FBQztvQkFDbEIsaURBQWlEO29CQUNqRCxnQ0FBZ0M7b0JBQ2hDLDZGQUE2RjtvQkFDN0YsdUJBQXVCLENBQUMsU0FBUyxFQUFFLGFBQWEsQ0FBQyxDQUFDO2dCQUNwRCxDQUFDO1lBQ0gsQ0FBQztZQUVELElBQUksU0FBUyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7Z0JBQ3JCLE1BQU0sS0FBSyxHQUFHLEtBQXFCLENBQUM7Z0JBQ3BDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxhQUFhLEVBQUUsRUFBRSxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUUsYUFBYSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ3ZFLE9BQU87WUFDVCxDQUFDO1lBRUQsWUFBWSxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDbEMsQ0FBQyxDQUFDO1FBRUYsTUFBTSxjQUFjLEdBQUcsQ0FBQyxHQUFXLEVBQUUsS0FBVSxFQUFFLEVBQUU7WUFDakQsTUFBTSxJQUFJLEdBQUcsNkJBQTZCLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDaEQsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDVCxNQUFNLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxHQUFHLElBQUksQ0FBQztnQkFDaEMsTUFBTSxDQUFDLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDN0Msb0NBQW9DO2dCQUNwQyx1QkFBdUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFDbkMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDO1lBQzVCLENBQUM7UUFDSCxDQUFDLENBQUM7UUFFRiw2REFBNkQ7UUFDN0QsbUdBQW1HO1FBQ25HLE9BQU8sTUFBTSxHQUFHLFFBQVEsQ0FBQyxNQUFNLElBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUM1RCxNQUFNLE1BQU0sR0FBRyxNQUFNLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUUsUUFBUSxDQUFDLE1BQU0sQ0FBWSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7WUFDbkYsTUFBTSxNQUFNLEdBQUcsTUFBTSxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFFLFFBQVEsQ0FBQyxNQUFNLENBQVksQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO1lBRW5GLDhEQUE4RDtZQUM5RCxJQUFJLE1BQU0sRUFBRSxVQUFVLENBQUMsY0FBYyxDQUFDLElBQUksTUFBTSxFQUFFLFVBQVUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDO2dCQUN2RSxNQUFNLElBQUksQ0FBQyxDQUFDLENBQUMscUJBQXFCO2dCQUNsQyxTQUFTO1lBQ1gsQ0FBQztZQUVELElBQUksTUFBTSxLQUFLLFNBQVMsRUFBRSxDQUFDO2dCQUN6QixzREFBc0Q7Z0JBQ3RELElBQUksMEJBQTBCLENBQUMsTUFBTyxDQUFDLEVBQUUsQ0FBQztvQkFDeEMsK0RBQStEO29CQUMvRCxNQUFNLElBQUksQ0FBQyxDQUFDLENBQUMscUJBQXFCO2dCQUNwQyxDQUFDO3FCQUFNLENBQUM7b0JBQ04sTUFBTSxDQUFDLE1BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztvQkFDdEIsZ0VBQWdFO2dCQUNsRSxDQUFDO1lBQ0gsQ0FBQztpQkFBTSxJQUFJLE1BQU0sS0FBSyxTQUFTLEVBQUUsQ0FBQztnQkFDaEMsbURBQW1EO2dCQUNuRCxNQUFNLFFBQVEsR0FBRyxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUN0QyxJQUFJLDBCQUEwQixDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7b0JBQ3ZDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7Z0JBQ25DLENBQUM7cUJBQU0sQ0FBQztvQkFDTixNQUFNLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO2dCQUMzQixDQUFDO2dCQUNELE1BQU0sSUFBSSxDQUFDLENBQUMsQ0FBQyxxQkFBcUI7Z0JBQ2xDLHlFQUF5RTtnQkFDekUsTUFBTSxJQUFJLENBQUMsQ0FBQztZQUNkLENBQUM7aUJBQU0sSUFBSSxNQUFNLEtBQUssTUFBTSxFQUFFLENBQUM7Z0JBQzdCLHNDQUFzQztnQkFDdEMsTUFBTSxRQUFRLEdBQUcsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDdEMsTUFBTSxRQUFRLEdBQUcsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDdEMsTUFBTSxjQUFjLEdBQUcsMEJBQTBCLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQzFELElBQUksUUFBUSxLQUFLLFFBQVEsRUFBRSxDQUFDO29CQUMxQixJQUFJLGNBQWMsRUFBRSxDQUFDO3dCQUNuQixjQUFjLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO29CQUNuQyxDQUFDO3lCQUFNLENBQUM7d0JBQ04sTUFBTSxDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQztvQkFDM0IsQ0FBQztnQkFDSCxDQUFDO3FCQUFNLElBQUksY0FBYyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxjQUFjLEVBQUUsQ0FBQztvQkFDM0QsZ0RBQWdEO29CQUNoRCxjQUFjLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO2dCQUNuQyxDQUFDO2dCQUNELDhDQUE4QztnQkFDOUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDLHFCQUFxQjtnQkFDbEMsTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDLHFCQUFxQjtZQUNwQyxDQUFDO2lCQUFNLElBQUksTUFBTSxHQUFHLE1BQU0sRUFBRSxDQUFDO2dCQUMzQiw4Q0FBOEM7Z0JBQzlDLE1BQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3RDLElBQUksMEJBQTBCLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQztvQkFDdkMsY0FBYyxDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQztnQkFDbkMsQ0FBQztxQkFBTSxDQUFDO29CQUNOLE1BQU0sQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7Z0JBQzNCLENBQUM7Z0JBQ0QsTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDLHFCQUFxQjtnQkFDbEMsb0ZBQW9GO2dCQUNwRixNQUFNLElBQUksQ0FBQyxDQUFDO1lBQ2QsQ0FBQztpQkFBTSxDQUFDO2dCQUNOLG1FQUFtRTtnQkFDbkUsSUFBSSwwQkFBMEIsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO29CQUN2QywrREFBK0Q7b0JBQy9ELE1BQU0sSUFBSSxDQUFDLENBQUMsQ0FBQyxxQkFBcUI7Z0JBQ3BDLENBQUM7cUJBQU0sQ0FBQztvQkFDTixNQUFNLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO29CQUNyQixxRUFBcUU7Z0JBQ3ZFLENBQUM7WUFDSCxDQUFDO1FBQ0gsQ0FBQztRQUNELE9BQU8sa0JBQWtCLENBQUM7SUFDNUIsQ0FBQztJQUVELFNBQVMsdUJBQXVCLENBQUMsU0FBaUI7UUFDaEQsTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDLFFBQVEsQ0FBQyxXQUE2QixDQUFDO1FBQ2hFLElBQUksTUFBTSxFQUFFLENBQUM7WUFDWCxDQUFDLE1BQU0sQ0FBQyxVQUFVLEtBQUssRUFBUyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3BELENBQUM7SUFDSCxDQUFDO0lBRUQsU0FBUyxvQkFBb0IsQ0FDM0IsUUFBdUIsRUFDdkIsR0FBa0I7UUFFbEIsSUFBSSxZQUFZLEdBQXVDLElBQUksQ0FBQztRQUM1RCxJQUFJLFNBQVMsS0FBSyxJQUFJLEVBQUUsQ0FBQztZQUN2Qiw2Q0FBNkM7WUFDN0MsU0FBUyxHQUFHLElBQUksR0FBRyxFQUFpQixDQUFDO1lBQ3JDLGNBQWMsR0FBRyxFQUFFLENBQUM7WUFDcEIsSUFBSSxLQUFLLEdBQUcsUUFBUSxDQUFDO1lBQ3JCLE9BQU8sS0FBSyxFQUFFLENBQUM7Z0JBQ2IsTUFBTSxJQUFJLEdBQUcsb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7Z0JBQzlFLE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDO2dCQUNqRixJQUFJLFlBQVksS0FBSyxJQUFJLElBQUksSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksUUFBUSxFQUFFLENBQUM7b0JBQzdELFlBQVksR0FBRyxLQUFvQyxDQUFDO2dCQUN0RCxDQUFDO3FCQUFNLENBQUM7b0JBQ04sSUFBSSxJQUFJLEtBQUssSUFBSSxFQUFFLENBQUM7d0JBQ2xCLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO29CQUNuQyxDQUFDO3lCQUFNLENBQUM7d0JBQ04sc0RBQXNEO3dCQUN0RCxTQUFTLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztvQkFDckQsQ0FBQztnQkFDSCxDQUFDO2dCQUNELEtBQUssR0FBRyxLQUFLLENBQUMsV0FBMkIsQ0FBQztZQUM1QyxDQUFDO1FBQ0gsQ0FBQzthQUFNLENBQUM7WUFDTixJQUFJLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQztnQkFDakIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLGNBQWUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO29CQUNuRCxJQUFJLGNBQWUsQ0FBQyxDQUFDLENBQUMsS0FBSyxRQUFRLEVBQUUsQ0FBQzt3QkFDcEMsWUFBWSxHQUFHLGNBQWUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFnQyxDQUFDO3dCQUNyRSxjQUFlLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzt3QkFDN0IsTUFBTTtvQkFDUixDQUFDO2dCQUNILENBQUM7WUFDSCxDQUFDO2lCQUFNLENBQUM7Z0JBQ04sTUFBTSxXQUFXLEdBQUcsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUNwRCxJQUFJLFNBQVMsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQztvQkFDL0IsWUFBWSxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFnQyxDQUFDO29CQUN6RSxTQUFTLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2dCQUNoQyxDQUFDO1lBQ0gsQ0FBQztRQUNILENBQUM7UUFFRCx5QkFBeUIsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUV4QyxPQUFPLFlBQVksQ0FBQztJQUN0QixDQUFDO0lBRUQsU0FBUyx5QkFBeUIsQ0FBQyxVQUF3QjtRQUN6RCxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDaEIsSUFBSSxRQUFRLEVBQUUsQ0FBQztnQkFDYixNQUFNLElBQUksR0FBRyxvQkFBb0IsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsb0JBQW9CLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztnQkFDcEYsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxTQUFTLENBQUMsZUFBZSxDQUFDLENBQUM7Z0JBQ3ZGLElBQUksSUFBSSxJQUFJLElBQUksRUFBRSxDQUFDO29CQUNqQixNQUFNLGFBQWEsR0FBRyxnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7b0JBQ25ELFdBQVcsS0FBSyxJQUFJLEdBQUcsRUFBRSxDQUFDO29CQUMxQixXQUFXLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxRQUFRLENBQUMsQ0FBQztvQkFDekMsU0FBUyxFQUFFLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQztnQkFDbkMsQ0FBQztZQUNILENBQUM7WUFFRCxPQUFPO1FBQ1QsQ0FBQztRQUVELDBFQUEwRTtRQUMxRSxJQUFJLEtBQUssR0FBRyxRQUFRLENBQUM7UUFDckIsT0FBTyxLQUFLLElBQUksS0FBSyxLQUFLLFVBQVUsRUFBRSxDQUFDO1lBQ3JDLE1BQU0sSUFBSSxHQUFHLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQzlFLE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBRWpGLElBQUksSUFBSSxJQUFJLElBQUksRUFBRSxDQUFDO2dCQUNqQixNQUFNLGFBQWEsR0FBRyxnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBQ25ELFdBQVcsS0FBSyxJQUFJLEdBQUcsRUFBRSxDQUFDO2dCQUMxQixXQUFXLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDdEMsU0FBUyxFQUFFLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUNuQyxDQUFDO1lBRUQsS0FBSyxHQUFHLEtBQUssQ0FBQyxXQUEyQixDQUFDO1FBQzVDLENBQUM7SUFDSCxDQUFDO0lBSUQsU0FBUyxnQkFBZ0IsQ0FBQyxRQUF1QixFQUFFLEdBQWtCO1FBQ25FLElBQUksR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1lBQ2hCLE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQztRQUNELE9BQU8sUUFBUSxDQUFDLENBQUMsQ0FBQyxRQUFRLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO0lBQy9DLENBQUM7SUFFRCxTQUFTLG9CQUFvQixDQUFDLFFBQXVCLEVBQUUsR0FBa0I7UUFDdkUsTUFBTSxLQUFLLEdBQUcsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQzlDLElBQUksS0FBSyxJQUFJLFdBQVcsRUFBRSxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUNyQyxXQUFXLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzFCLE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQztRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUVEOzs7Ozs7Ozs7O09BVUc7SUFDSCxTQUFTLHFCQUFxQixDQUM1QixRQUF1QixFQUN2QixTQUF3QixFQUN4QixhQUE0QixFQUM1QixlQUFzQixFQUN0QixTQUFvQixFQUNwQixrQ0FBNEM7UUFFNUMsa0RBQWtEO1FBQ2xELFFBQVEsR0FBRyxvQkFBb0IsQ0FBQyxRQUFRLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFFckQsSUFBSSxRQUFRLEVBQUUsQ0FBQztZQUNiLFFBQVEsR0FBRyxRQUFRLENBQUM7WUFDcEIsUUFBUSxHQUFHLElBQUksQ0FBQztZQUNoQixPQUFPO1FBQ1QsQ0FBQztRQUVELHFCQUFxQjtRQUNyQixJQUFJLGFBQWEsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUMxQixNQUFNLFFBQVEsR0FBRyxXQUFXLEVBQUUsR0FBRyxDQUFDLGFBQWEsQ0FBQyxJQUFJLElBQUksQ0FBQztZQUN6RCxJQUFJLFFBQVEsRUFBRSxDQUFDO2dCQUNiLFdBQVksQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUM7Z0JBQ25DLElBQUksa0NBQWtDLElBQUksUUFBUSxFQUFFLENBQUM7b0JBQ25ELE1BQU0sVUFBVSxHQUNkLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsU0FBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDO29CQUM1RSxJQUFJLFVBQVUsSUFBSSxJQUFJLEVBQUUsQ0FBQzt3QkFDdkIsTUFBTSxXQUFXLEdBQUcsb0JBQW9CLENBQUMsUUFBUSxDQUFDOzRCQUNoRCxDQUFDLENBQUMsb0JBQW9CLENBQUMsUUFBUSxDQUFDOzRCQUNoQyxDQUFDLENBQUMsSUFBSSxDQUFDO3dCQUNULE1BQU0sY0FBYyxHQUFHLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxVQUFVLENBQUMsQ0FBQzt3QkFDakUsSUFBSSxjQUFjLElBQUksSUFBSSxFQUFFLENBQUM7NEJBQzNCLFdBQVcsS0FBSyxJQUFJLEdBQUcsRUFBRSxDQUFDOzRCQUMxQixXQUFXLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBRSxRQUFRLENBQUMsQ0FBQzt3QkFDNUMsQ0FBQztvQkFDSCxDQUFDO2dCQUNILENBQUM7Z0JBQ0Qsa0JBQWtCLENBQUMsT0FBTyxFQUFFLGVBQXNCLEVBQUUsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDO2dCQUN4RSxRQUFRLEdBQUcsUUFBUSxDQUFDO2dCQUNwQixRQUFRLEdBQUcsSUFBSSxDQUFDO2dCQUNoQixPQUFPO1lBQ1QsQ0FBQztRQUNILENBQUM7UUFFRCxnQkFBZ0I7UUFDaEIsT0FBTyxTQUFTLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBRUQsU0FBUyxhQUFhLENBQUMsSUFBaUIsRUFBRSxNQUFxQjtRQUM3RCxNQUFNLFFBQVEsR0FBRyxJQUFJLG1DQUF5QixDQUFDO1FBQy9DLE1BQU0sVUFBVSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNwQyxNQUFNLGdCQUFnQixHQUFHLFFBQVEsSUFBSSxvQkFBb0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNwRSxNQUFNLFVBQVUsR0FBRyxnQkFBZ0IsSUFBSSxVQUFVLEtBQUssTUFBTSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUU3RixJQUFJLFVBQVUsRUFBRSxDQUFDO1lBQ2YsZUFBZTtZQUNmLG9CQUFvQixDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsQ0FBQztZQUN2QyxPQUFPO1FBQ1QsQ0FBQztRQUVELE1BQU0sU0FBUyxHQUFHLEdBQUcsRUFBRTtZQUNyQixrQkFBa0IsQ0FDaEIsT0FBTyxFQUNQLE9BQXVCLEVBQ3ZCLENBQUMsUUFBUSxHQUFHLGdCQUFnQixFQUFFLENBQUMsRUFDL0IsUUFBUSxJQUFJLGVBQWUsRUFBRSxDQUM5QixDQUFDO1lBQ0QsUUFBeUIsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBQ3hELEtBQUssSUFBSyxRQUF5QixDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDaEUsQ0FBQyxDQUFDO1FBQ0YsNkZBQTZGO1FBQzdGLElBQUksTUFBTSxLQUFLLElBQUksRUFBRSxDQUFDO1lBQ3BCLFNBQVMsRUFBRSxDQUFDO1lBQ1osT0FBTztRQUNULENBQUM7UUFDRCxxQkFBcUIsQ0FDbkIsSUFBSSxFQUNKLE1BQU0sRUFDTixnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLEVBQzlCLE9BQXVCLEVBQ3ZCLFNBQVMsRUFDVCxJQUFJLENBQ0wsQ0FBQztJQUNKLENBQUM7SUFFRCxTQUFTLGVBQWUsQ0FBQyxTQUFtQjtRQUMxQyxNQUFNLGFBQWEsR0FBSSxTQUFpQixDQUFDLGtCQUFrQixDQUFtQyxDQUFDO1FBQy9GLElBQUksSUFBSSxHQUFHLENBQUMsUUFBUSxJQUFJLFFBQVEsQ0FBd0IsQ0FBQztRQUN6RCxNQUFNLE9BQU8sR0FBRyxRQUEyQixDQUFDO1FBQzVDLElBQUksYUFBYSxFQUFFLENBQUM7WUFDbEIsTUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQztZQUMvQixhQUFhO1lBQ2IsSUFBSSxZQUFZLEdBQUcsS0FBSyxDQUFDO1lBQ3pCLE1BQU0sQ0FBQyxZQUFZLENBQUMsR0FBRyxhQUFhLENBQUM7WUFFckMsTUFBTSxhQUFhLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQztZQUMxQyxNQUFNLGtCQUFrQixHQUFHLGdCQUFnQixDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsZUFBZSxDQUFDLENBQUM7WUFFN0UsTUFBTSxTQUFTLEdBQUcsT0FBTyxDQUFDLEdBQUcsSUFBSSxhQUFhLENBQUM7WUFDL0MsTUFBTSxjQUFjLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLGtCQUFrQixDQUFDO1lBRTFELE1BQU0sa0JBQWtCLEdBQUcsU0FBUyxLQUFLLGNBQWMsQ0FBQztZQUN4RCxNQUFNLGNBQWMsR0FBRyxhQUFhLEtBQUssa0JBQWtCLENBQUM7WUFFNUQsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7Z0JBQ3hCLE1BQU0sU0FBUyxHQUFHLEdBQUcsRUFBRTtvQkFDckIsa0JBQWtCLENBQUMsSUFBSSxFQUFFLFlBQVksRUFBRSxRQUFRLENBQUMsQ0FBQztvQkFDakQsWUFBWSxHQUFHLElBQUksQ0FBQztnQkFDdEIsQ0FBQyxDQUFDO2dCQUNGLHFCQUFxQixDQUFDLElBQUksRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLE9BQXVCLEVBQUUsU0FBUyxDQUFDLENBQUM7Z0JBQ3RGLElBQUksR0FBRyxDQUFDLFFBQVEsSUFBSSxRQUFRLENBQWlCLENBQUM7WUFDaEQsQ0FBQztpQkFBTSxJQUFJLENBQUMsY0FBYyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDO2dCQUMzQyxrQkFBa0IsQ0FBQyxJQUFJLEVBQUUsWUFBWSxFQUFFLFFBQVEsQ0FBQyxDQUFDO2dCQUNqRCxJQUFJLEdBQUcsUUFBd0IsQ0FBQztnQkFDaEMsWUFBWSxHQUFHLElBQUksQ0FBQztZQUN0QixDQUFDO2lCQUFNLENBQUM7Z0JBQ04sa0VBQWtFO2dCQUNsRSxvQkFBb0IsQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFDeEMsQ0FBQztZQUVELElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQ1QsSUFBSSxVQUFVLEdBQUksSUFBcUIsQ0FBQyxPQUFPLENBQzdDLGFBQWEsRUFDYixTQUFTLENBQUMsZUFBZSxDQUMxQixDQUFDO2dCQUNGLElBQUksaUJBQWlCLEdBQUcsS0FBSyxDQUFDO2dCQUM5QixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7b0JBQ2xCLGlCQUFpQjt3QkFDZixXQUFXLENBQ1IsUUFBdUIsQ0FBQyxZQUFZLENBQUMsRUFDckMsVUFBeUIsRUFBRSxDQUFDLFlBQVksQ0FBQyxDQUMzQzs0QkFDRCxXQUFXLENBQ1IsUUFBdUIsQ0FBQyxVQUFVLENBQUMsRUFDbkMsVUFBeUIsRUFBRSxDQUFDLFVBQVUsQ0FBQyxDQUN6QyxDQUFDO29CQUNKLFlBQVksR0FBRyxZQUFZLElBQUksaUJBQWlCLENBQUM7Z0JBQ25ELENBQUM7Z0JBRUQsSUFBSSxZQUFZLEVBQUUsQ0FBQztvQkFDakIsSUFBSSxpQkFBaUIsRUFBRSxDQUFDO3dCQUN0QixJQUFJLFVBQVUsRUFBRSxDQUFDOzRCQUNmLHlFQUF5RTs0QkFDekUsMkNBQTJDOzRCQUMzQyxrRkFBa0Y7NEJBQ2xGLDBCQUEwQjs0QkFDMUIsVUFBVSxDQUFDLFlBQVksQ0FBQyxHQUFJLFFBQXVCLENBQUMsWUFBWSxDQUFDLENBQUM7NEJBQ2xFLFVBQVUsQ0FBQyxVQUFVLENBQUMsR0FBSSxRQUF1QixDQUFDLFVBQVUsQ0FBQyxDQUFDOzRCQUM5RCxVQUFVLENBQUMsTUFBTSxDQUFDLEdBQUksUUFBdUIsQ0FBQyxNQUFNLENBQUMsQ0FBQzt3QkFDeEQsQ0FBQzs2QkFBTSxJQUFJLFFBQVEsRUFBRSxDQUFDOzRCQUNwQixtREFBbUQ7NEJBQ25ELGdGQUFnRjs0QkFDL0UsSUFBcUIsQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFLFFBQVEsQ0FBQyxDQUFDOzRCQUN4RCxVQUFVLEdBQUcsUUFBUSxDQUFDO3dCQUN4QixDQUFDO29CQUNILENBQUM7b0JBQ0QsMkNBQTJDO29CQUMzQyw2RUFBNkU7b0JBQzVFLElBQXFCLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRSxZQUFZLENBQUMsQ0FBQztvQkFFM0Q7Ozs7dUJBSUc7b0JBQ0YsSUFBcUIsQ0FBQyxLQUFLLElBQUksNEJBQW1CLENBQUM7b0JBQ3BELFNBQVMsQ0FBQyxXQUFXLDhCQUFzQixJQUFJLEVBQUUsWUFBWSxFQUFFLFVBQVUsQ0FBQyxDQUFDO2dCQUM3RSxDQUFDO1lBQ0gsQ0FBQztZQUNELHVCQUF1QixDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbEQsQ0FBQzthQUFNLENBQUM7WUFDTixNQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDO1lBQzlCLE1BQU0sY0FBYyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNwQyxNQUFNLGtCQUFrQixHQUFHLFNBQVMsS0FBSyxjQUFjLENBQUM7WUFDeEQsTUFBTSxrQkFBa0IsR0FBRyxnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQzdFLE1BQU0saUJBQWlCLEdBQUcsa0JBQWtCLElBQUksSUFBSSxDQUFDO1lBRXJELElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLFNBQVMsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDdEQsd0JBQXdCLEVBQUUsQ0FBQztnQkFDM0IsSUFBSSxHQUFHLFFBQXdCLENBQUM7WUFDbEMsQ0FBQztpQkFBTSxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztnQkFDL0IsTUFBTSxTQUFTLEdBQUcsR0FBRyxFQUFFO29CQUNyQixtREFBbUQ7b0JBQ25ELHdCQUF3QixFQUFFLENBQUM7Z0JBQzdCLENBQUMsQ0FBQztnQkFDRixxQkFBcUIsQ0FBQyxJQUFJLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxPQUF1QixFQUFFLFNBQVMsQ0FBQyxDQUFDO2dCQUN0RixJQUFJLEdBQUcsQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFpQixDQUFDO1lBQ2hELENBQUM7aUJBQU0sQ0FBQztnQkFDTixrRUFBa0U7Z0JBQ2xFLG9CQUFvQixDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztZQUN4QyxDQUFDO1lBRUQsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDVCxJQUFJLGFBQWEsR0FBaUIsSUFBSSxDQUFDO2dCQUN2QyxxR0FBcUc7Z0JBQ3JHLE9BQ0UsYUFBYTtvQkFDYixDQUFDLG9CQUFvQixDQUFDLGFBQWEsQ0FBQzt3QkFDbEMsQ0FBQyxDQUFFLGFBQThCLENBQUMsT0FBTyxDQUNyQyxZQUFZLEVBQ1osSUFBSSxDQUNMLEtBQUssSUFBSTt3QkFDWixDQUFDLENBQUMsSUFBSSxDQUFDLEVBQ1QsQ0FBQztvQkFDRCxhQUFhLEdBQUcsYUFBYSxDQUFDLE1BQU0sQ0FBQztnQkFDdkMsQ0FBQztnQkFFRCxNQUFNLFNBQVMsR0FBRyxnQkFBZ0IsQ0FDaEMsU0FBUyxFQUNULElBQUksRUFDSixDQUFDLGFBQWEsSUFBSSxTQUFTLENBQUMsU0FBUyxDQUFnQixFQUNyRCxTQUFnQyxFQUNoQyxPQUFPLENBQUMsS0FBSyxDQUNkLENBQUM7Z0JBRUYsVUFBVSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDbkMsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDO0lBRUQsU0FBUyxrQkFBa0IsQ0FDekIsSUFBa0IsRUFDbEIsWUFBMEMsRUFDMUMsUUFBZTtRQUVmLElBQUksSUFBSSxFQUFFLENBQUM7WUFDVCxlQUFlLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ25DLENBQUM7UUFDRCxrQkFBa0IsQ0FDaEIsT0FBTyxFQUNQLE9BQXVCLEVBQ3ZCLENBQUMsUUFBUSxHQUFHLGdCQUFnQixFQUFFLENBQUMsRUFDL0IsUUFBUSxJQUFJLGVBQWUsRUFBRSxDQUM5QixDQUFDO1FBQ0YsTUFBTSxPQUFPLEdBQUcsUUFBMkIsQ0FBQztRQUM1QyxLQUFLLElBQUssUUFBeUIsQ0FBQyxPQUFPLENBQUMsVUFBVSxrQ0FBd0IsQ0FBQztRQUMvRSxTQUFTLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxZQUFZLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFDNUQsU0FBUyxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsYUFBYSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQ3pELFNBQVMsQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFLFdBQVcsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDNUQsQ0FBQztJQUVELFNBQVMsd0JBQXdCO1FBQy9CLGtCQUFrQixDQUNoQixPQUFPLEVBQ1AsT0FBdUIsRUFDdkIsQ0FBQyxRQUFRLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQyxFQUMvQixRQUFRLElBQUksZUFBZSxFQUFFLENBQzlCLENBQUM7UUFDRixNQUFNLE9BQU8sR0FBRyxRQUEyQixDQUFDO1FBQzVDLEtBQUssSUFBSyxRQUF5QixDQUFDLE9BQU8sQ0FBQyxVQUFVLHdDQUE4QixDQUFDO1FBQ3BGLFFBQXlCLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDakUsSUFBSSxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDZixRQUF5QixDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQy9ELENBQUM7SUFDSCxDQUFDO0lBRUQsU0FBUyxVQUFVLENBQUMsSUFBWTtRQUM5QixJQUFJLFFBQVEsS0FBSyxJQUFJLEVBQUUsQ0FBQztZQUN0QixNQUFNLElBQUksR0FBRyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDckMsSUFBSSxJQUFJLEtBQUssQ0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFDO2dCQUMxQixJQUFJLElBQUksS0FBSyxhQUFhLENBQUMsUUFBcUIsQ0FBQyxFQUFFLENBQUM7b0JBQ2xELGFBQWEsQ0FBQyxPQUFPLEVBQUUsUUFBcUIsRUFBRSxJQUFJLENBQUMsQ0FBQztvQkFDcEQsT0FBTztnQkFDVCxDQUFDO2dCQUNELE9BQU87WUFDVCxDQUFDO1FBQ0gsQ0FBQztRQUNELGtCQUFrQixDQUNoQixPQUFPLEVBQ1AsT0FBdUIsRUFDdkIsQ0FBQyxRQUFRLEdBQUcsYUFBYSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEVBQ3pFLFFBQVEsQ0FDVCxDQUFDO0lBQ0osQ0FBQztBQUNILENBQUMsQ0FBQztBQUVGOzs7OztHQUtHO0FBQ0gsU0FBUyxNQUFNLENBQUMsS0FBbUI7SUFDakMsSUFBSSxLQUFLLElBQUksSUFBSSxFQUFFLENBQUM7UUFDbEIsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBQ0QsT0FBUSxLQUFzQixDQUFDLE9BQU8sQ0FBUyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDcEUsQ0FBQztBQUVEOzs7Ozs7R0FNRztBQUNILFNBQVMsZ0JBQWdCLENBQUMsS0FBbUIsRUFBRSxTQUE4QjtJQUMzRSxJQUFJLEtBQUssSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUNsQixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFDRCxNQUFNLEdBQUcsR0FBSSxLQUFzQixDQUFDLE9BQU8sQ0FBYyxZQUFZLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDbEYsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztBQUNqQyxDQUFDO0FBRUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXdCRztBQUNILFNBQVMsVUFBVSxLQUFJLENBQUM7QUFFeEIsU0FBUyxXQUFXLENBQ2xCLEdBQTJDLEVBQzNDLEdBQTJDO0lBRTNDLE1BQU0sUUFBUSxHQUFHLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNuQyxNQUFNLFFBQVEsR0FBRyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDbkMsSUFBSSxRQUFRLElBQUksUUFBUSxFQUFFLENBQUM7UUFDekIsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0lBQ0QsSUFBSSxRQUFRLElBQUksUUFBUSxFQUFFLENBQUM7UUFDekIsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsTUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFJLENBQUMsQ0FBQztJQUNsQyxNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUksQ0FBQyxDQUFDO0lBRWxDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUM7SUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQztJQUU1QixJQUFJLFVBQVUsSUFBSSxHQUFJLEVBQUUsQ0FBQztRQUN2QixNQUFNLEVBQUUsQ0FBQztJQUNYLENBQUM7SUFDRCxJQUFJLFNBQVMsSUFBSSxHQUFJLEVBQUUsQ0FBQztRQUN0QixNQUFNLEVBQUUsQ0FBQztJQUNYLENBQUM7SUFDRCxJQUFJLFVBQVUsSUFBSSxHQUFJLEVBQUUsQ0FBQztRQUN2QixNQUFNLEVBQUUsQ0FBQztJQUNYLENBQUM7SUFDRCxJQUFJLFNBQVMsSUFBSSxHQUFJLEVBQUUsQ0FBQztRQUN0QixNQUFNLEVBQUUsQ0FBQztJQUNYLENBQUM7SUFFRCxJQUFJLE1BQU0sS0FBSyxNQUFNLEVBQUUsQ0FBQztRQUN0QixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxLQUFLLE1BQU0sR0FBRyxJQUFJLE9BQU8sRUFBRSxDQUFDO1FBQzFCLElBQUksR0FBRyxLQUFLLFVBQVUsSUFBSSxHQUFHLEtBQUssU0FBUyxFQUFFLENBQUM7WUFDNUMsU0FBUztRQUNYLENBQUM7UUFDRCxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsSUFBSSxHQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssR0FBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDL0UsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDO0lBQ0gsQ0FBQztJQUVELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQztBQUVELFNBQVMsWUFBWSxDQUFDLEtBQTZDO0lBQ2pFLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNYLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUNELE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDO0FBQ3pDLENBQUM7QUFFRDs7Ozs7Ozs7O0dBU0c7QUFDSCxNQUFNLFVBQVUsT0FBTyxDQUFDLFNBQTBCLEVBQUUsS0FBWTtJQUM5RCxJQUFJLE9BQU8sR0FBaUIsS0FBSyxDQUFDO0lBQ2xDLHdCQUF3QjtJQUN4QixJQUFJLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7UUFDN0Isa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDNUIsbURBQW1EO1FBQ25ELE9BQU87SUFDVCxDQUFDO0lBQ0QsSUFBSSxPQUFPLEdBQWlCLElBQUksQ0FBQztJQUNqQyxHQUFHLENBQUM7UUFDRixNQUFNLElBQUksR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDO1FBQzNCLElBQUksSUFBSSw2Q0FBcUMsRUFBRSxDQUFDO1lBQzlDLGVBQWUsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDcEMsa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDNUIsb0VBQW9FO1lBQ3BFLElBQUksSUFBSSw2QkFBcUIsRUFBRSxDQUFDO2dCQUM5QixNQUFNLEdBQUcsR0FBRyxTQUFTLENBQUMsV0FBVyxDQUFhLE9BQXVCLEVBQUUsV0FBVyxDQUFDLENBQUM7Z0JBQ3BGLElBQUksR0FBRyxFQUFFLENBQUM7b0JBQ1IsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQzt3QkFDcEMsTUFBTSxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO3dCQUNuQixJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDOzRCQUNoQixNQUFNLElBQUksR0FBRyxHQUFHLENBQUM7NEJBQ2pCLGVBQWUsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7NEJBQ2pDLElBQUksSUFBSSxDQUFDLE9BQU8saUNBQXlCLEVBQUUsQ0FBQztnQ0FDMUMsU0FBUyxDQUFDLFdBQVcscUNBQTRCLElBQUksQ0FBQyxDQUFDOzRCQUN6RCxDQUFDO2lDQUFNLENBQUM7Z0NBQ04sV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDOzRCQUNwQixDQUFDO3dCQUNILENBQUM7b0JBQ0gsQ0FBQztnQkFDSCxDQUFDO1lBQ0gsQ0FBQztZQUVELE1BQU0sV0FBVyxHQUNmLElBQUksNkJBQXFCO2dCQUN4QixPQUF3QixDQUFDLE9BQU8sQ0FBeUIsWUFBWSxFQUFFLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQztZQUN6RixJQUFJLFdBQVcsRUFBRSxDQUFDO2dCQUNoQiw4R0FBOEc7Z0JBQzlHLE1BQU0sS0FBSyxHQUFHLGNBQWMsQ0FBQyxPQUF1QixDQUFDLENBQUM7Z0JBQ3RELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7b0JBQzVDLE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQVcsQ0FBQztvQkFDL0IsSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQzt3QkFDcEIsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQzt3QkFDM0IsSUFBSSxLQUFLLEVBQUUsQ0FBQzs0QkFDVixLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLHdCQUF3Qjs0QkFDN0MsTUFBTSxVQUFVLEdBQ2QsT0FBTyxLQUFLLEtBQUssUUFBUTtnQ0FDdkIsQ0FBQyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQztnQ0FDMUMsQ0FBQyxDQUFFLEtBQTBCLENBQUM7NEJBQ2xDLElBQUksZUFBZSxHQUFHLG1CQUFtQixDQUFDLFVBQVUsQ0FBQyxDQUFDOzRCQUN0RCxPQUFPLGVBQWUsRUFBRSxDQUFDO2dDQUN2QixPQUFPLENBQUMsU0FBUyxFQUFFLGVBQWUsQ0FBQyxDQUFDO2dDQUNwQyxlQUFlLEdBQUcsZUFBZSxDQUFDLFdBQTJCLENBQUM7NEJBQ2hFLENBQUM7NEJBRUQsK0JBQStCLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBRSxVQUFVLENBQUMsQ0FBQzt3QkFDbkUsQ0FBQztvQkFDSCxDQUFDO2dCQUNILENBQUM7WUFDSCxDQUFDO1lBRUQsTUFBTSxZQUFZLEdBQUcsa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDakQsd0JBQXdCO1lBQ3hCLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztnQkFDbEIsaUNBQWlDO2dCQUNqQyxNQUFNLFdBQVcsR0FBRyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDakQsSUFBSSxXQUFXLEVBQUUsQ0FBQztvQkFDaEIsT0FBTyxHQUFHLFdBQVcsQ0FBQztvQkFDdEIsU0FBUztnQkFDWCxDQUFDO1lBQ0gsQ0FBQztpQkFBTSxJQUFJLE9BQU8sS0FBSyxLQUFLLEVBQUUsQ0FBQztnQkFDN0I7Ozs7bUJBSUc7Z0JBQ0gsTUFBTSxXQUFXLEdBQUcsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQ2pELElBQUksV0FBVyxFQUFFLENBQUM7b0JBQ2hCLGVBQWUsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRTt3QkFDckM7OzsyQkFHRzt3QkFDSCxJQUFJLEtBQUssQ0FBQyxLQUFLLDZCQUFxQixFQUFFLENBQUM7NEJBQ3JDLG9FQUFvRTs0QkFDcEUsS0FBSyxDQUFDLFVBQVUsQ0FBQzt3QkFDbkIsQ0FBQztvQkFDSCxDQUFDLENBQUMsQ0FBQztvQkFDSCxPQUFPO2dCQUNULENBQUM7WUFDSCxDQUFDO1FBQ0gsQ0FBQzthQUFNLElBQUksSUFBSSwwQkFBa0IsRUFBRSxDQUFDO1lBQ2xDLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzlCLENBQUM7UUFDRCxrQkFBa0I7UUFDbEIsSUFBSSxPQUFPLEtBQUssS0FBSyxFQUFFLENBQUM7WUFDdEIsa0ZBQWtGO1lBQ2xGLE9BQU87UUFDVCxDQUFDO1FBQ0Qsc0NBQXNDO1FBQ3RDLE1BQU0sWUFBWSxHQUFHLE9BQU8sQ0FBQyxXQUEyQixDQUFDO1FBQ3pELElBQUksWUFBWSxFQUFFLENBQUM7WUFDakIsT0FBTyxHQUFHLFlBQVksQ0FBQztZQUN2QixTQUFTO1FBQ1gsQ0FBQztRQUVELGdDQUFnQztRQUNoQyxPQUFPLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQztRQUN6QixPQUFPLE9BQU8sRUFBRSxDQUFDO1lBQ2YsSUFBSSxPQUFPLEtBQUssS0FBSyxFQUFFLENBQUM7Z0JBQ3RCLDZDQUE2QztnQkFDN0MsT0FBTztZQUNULENBQUM7WUFDRCxNQUFNLGtCQUFrQixHQUFHLE9BQU8sQ0FBQyxXQUEyQixDQUFDO1lBQy9ELElBQUksa0JBQWtCLEVBQUUsQ0FBQztnQkFDdkIsT0FBTyxHQUFHLGtCQUFrQixDQUFDO2dCQUM3QixNQUFNO1lBQ1IsQ0FBQztZQUNELE9BQU8sR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDO1FBQzNCLENBQUM7UUFDRCxJQUFJLE9BQU8sSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUNwQixlQUFlO1lBQ2YsT0FBTztRQUNULENBQUM7SUFDSCxDQUFDLFFBQVEsSUFBZSxFQUFFO0FBQzVCLENBQUM7QUFFRCxTQUFTLCtCQUErQixDQUFDLE9BQXFCLEVBQUUsVUFBaUI7SUFDL0UsMEVBQTBFO0lBQzFFLHVFQUF1RTtJQUN2RSxNQUFNLGdCQUFnQixHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUM7SUFDM0MsSUFBSSxnQkFBZ0IsRUFBRSxDQUFDO1FBQ3JCLE1BQU0sb0JBQW9CLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxDQUFDO1FBQ3BELElBQ0Usb0JBQW9CLDZCQUFxQjtZQUN6QyxvQkFBb0IsQ0FBQyxnQkFBZ0MsQ0FBQyxLQUFLLFNBQVMsRUFDcEUsQ0FBQztZQUNELHFGQUFxRjtZQUNyRixZQUFZLENBQUMsT0FBTyxFQUFFLGdCQUErQyxFQUFFLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMzRixDQUFDO0lBQ0gsQ0FBQztBQUNILENBQUM7QUFFRCxTQUFTLGtCQUFrQixDQUFDLE9BQWM7SUFDeEM7OztPQUdHO0lBRUgsT0FBTyxDQUFDLEtBQUssK0JBQXNCLENBQUM7QUFDdEMsQ0FBQztBQUVEOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxNQUFNLGNBQWMsR0FBRyxHQUFHLENBQUM7QUFDbEMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNEZXYgfSBmcm9tICdAcXdpay5kZXYvY29yZS9idWlsZCc7XG5pbXBvcnQgeyBfQ09OU1RfUFJPUFMsIF9FRkZFQ1RfQkFDS19SRUYsIF9WQVJfUFJPUFMgfSBmcm9tICcuLi9pbnRlcm5hbCc7XG5pbXBvcnQgeyBjbGVhckFsbEVmZmVjdHMsIGNsZWFyRWZmZWN0U3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy9jbGVhbnVwJztcbmltcG9ydCB7IFdyYXBwZWRTaWduYWxJbXBsIH0gZnJvbSAnLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy9pbXBsL3dyYXBwZWQtc2lnbmFsLWltcGwnO1xuaW1wb3J0IHR5cGUgeyBTaWduYWwgfSBmcm9tICcuLi9yZWFjdGl2ZS1wcmltaXRpdmVzL3NpZ25hbC5wdWJsaWMnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uRGF0YSB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvc3Vic2NyaXB0aW9uLWRhdGEnO1xuaW1wb3J0IHsgRWZmZWN0UHJvcGVydHksIEVmZmVjdFN1YnNjcmlwdGlvblByb3AgfSBmcm9tICcuLi9yZWFjdGl2ZS1wcmltaXRpdmVzL3R5cGVzJztcbmltcG9ydCB7IGlzU2lnbmFsIH0gZnJvbSAnLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy91dGlscyc7XG5pbXBvcnQgeyBleGVjdXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vc2hhcmVkL2NvbXBvbmVudC1leGVjdXRpb24nO1xuaW1wb3J0IHsgU0VSSUFMSVpBQkxFX1NUQVRFLCB0eXBlIE9uUmVuZGVyRm4gfSBmcm9tICcuLi9zaGFyZWQvY29tcG9uZW50LnB1YmxpYyc7XG5pbXBvcnQgeyBhc3NlcnREZWZpbmVkLCBhc3NlcnRGYWxzZSwgYXNzZXJ0VHJ1ZSB9IGZyb20gJy4uL3NoYXJlZC9lcnJvci9hc3NlcnQnO1xuaW1wb3J0IHsgUUVycm9yLCBxRXJyb3IgfSBmcm9tICcuLi9zaGFyZWQvZXJyb3IvZXJyb3InO1xuaW1wb3J0IHsgSlNYTm9kZUltcGwsIGlzSlNYTm9kZSB9IGZyb20gJy4uL3NoYXJlZC9qc3gvanN4LW5vZGUnO1xuaW1wb3J0IHsgRnJhZ21lbnQsIHR5cGUgUHJvcHMgfSBmcm9tICcuLi9zaGFyZWQvanN4L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IGRpcmVjdEdldFByb3BzUHJveHlQcm9wLCB0eXBlIFByb3BzUHJveHkgfSBmcm9tICcuLi9zaGFyZWQvanN4L3Byb3BzLXByb3h5JztcbmltcG9ydCB7IFNsb3QgfSBmcm9tICcuLi9zaGFyZWQvanN4L3Nsb3QucHVibGljJztcbmltcG9ydCB0eXBlIHsgSlNYTm9kZUludGVybmFsIH0gZnJvbSAnLi4vc2hhcmVkL2pzeC90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgdHlwZSB7IEpTWENoaWxkcmVuIH0gZnJvbSAnLi4vc2hhcmVkL2pzeC90eXBlcy9qc3gtcXdpay1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IFNTUkNvbW1lbnQsIFNTUlJhdywgU2tpcFJlbmRlciB9IGZyb20gJy4uL3NoYXJlZC9qc3gvdXRpbHMucHVibGljJztcbmltcG9ydCB0eXBlIHsgUVJMSW50ZXJuYWwgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC1jbGFzcyc7XG5pbXBvcnQgeyBpc1N5bmNRcmwgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC11dGlscyc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsLnB1YmxpYyc7XG5pbXBvcnQgdHlwZSB7IEhvc3RFbGVtZW50LCBRRWxlbWVudCwgUXdpa0xvYWRlckV2ZW50U2NvcGUsIHFXaW5kb3cgfSBmcm9tICcuLi9zaGFyZWQvdHlwZXMnO1xuaW1wb3J0IHsgREVCVUdfVFlQRSwgUUNvbnRhaW5lclZhbHVlLCBWaXJ0dWFsVHlwZSB9IGZyb20gJy4uL3NoYXJlZC90eXBlcyc7XG5pbXBvcnQgeyBDaG9yZVR5cGUgfSBmcm9tICcuLi9zaGFyZWQvdXRpbC1jaG9yZS10eXBlJztcbmltcG9ydCB7IGVzY2FwZUhUTUwgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvY2hhcmFjdGVyLWVzY2FwaW5nJztcbmltcG9ydCB7IF9PV05FUiB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHtcbiAgZnJvbUNhbWVsVG9LZWJhYkNhc2UsXG4gIGdldEV2ZW50RGF0YUZyb21IdG1sQXR0cmlidXRlLFxuICBpc0h0bWxBdHRyaWJ1dGVBbkV2ZW50TmFtZSxcbn0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL2V2ZW50LW5hbWVzJztcbmltcG9ydCB7IGdldEZpbGVMb2NhdGlvbkZyb21Kc3ggfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvanN4LWZpbGVuYW1lJztcbmltcG9ydCB7XG4gIEVMRU1FTlRfS0VZLFxuICBFTEVNRU5UX1BST1BTLFxuICBFTEVNRU5UX1NFUSxcbiAgT25SZW5kZXJQcm9wLFxuICBRQmFja1JlZnMsXG4gIFFDb250YWluZXJBdHRyLFxuICBRRGVmYXVsdFNsb3QsXG4gIFFTbG90LFxuICBRVGVtcGxhdGUsXG4gIFFfUFJFRklYLFxuICBkYW5nZXJvdXNseVNldElubmVySFRNTCxcbn0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL21hcmtlcnMnO1xuaW1wb3J0IHsgaXNQcm9taXNlLCByZXRyeU9uUHJvbWlzZSB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9wcm9taXNlcyc7XG5pbXBvcnQgeyBpc1Nsb3RQcm9wIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL3Byb3AnO1xuaW1wb3J0IHsgaGFzQ2xhc3NBdHRyIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL3Njb3BlZC1zdHlsZXMnO1xuaW1wb3J0IHsgc2VyaWFsaXplQXR0cmlidXRlIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL3N0eWxlcyc7XG5pbXBvcnQgeyBpc0FycmF5LCB0eXBlIFZhbHVlT3JQcm9taXNlIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL3R5cGVzJztcbmltcG9ydCB7IHRyYWNrU2lnbmFsQW5kQXNzaWduSG9zdCB9IGZyb20gJy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgeyBUYXNrRmxhZ3MsIGNsZWFudXBUYXNrLCBpc1Rhc2sgfSBmcm9tICcuLi91c2UvdXNlLXRhc2snO1xuaW1wb3J0IHR5cGUgeyBEb21Db250YWluZXIgfSBmcm9tICcuL2RvbS1jb250YWluZXInO1xuaW1wb3J0IHsgVk5vZGVGbGFncywgdHlwZSBDbGllbnRBdHRycywgdHlwZSBDbGllbnRDb250YWluZXIgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IG1hcEFwcF9maW5kSW5keCwgbWFwQXJyYXlfc2V0IH0gZnJvbSAnLi91dGlsLW1hcEFycmF5JztcbmltcG9ydCB7XG4gIHZub2RlX2Vuc3VyZUVsZW1lbnRJbmZsYXRlZCxcbiAgdm5vZGVfZ2V0RG9tUGFyZW50Vk5vZGUsXG4gIHZub2RlX2dldEVsZW1lbnROYW1lLFxuICB2bm9kZV9nZXRGaXJzdENoaWxkLFxuICB2bm9kZV9nZXRQcm9qZWN0aW9uUGFyZW50Q29tcG9uZW50LFxuICB2bm9kZV9nZXRQcm9wcyxcbiAgdm5vZGVfZ2V0VGV4dCxcbiAgdm5vZGVfZ2V0VHlwZSxcbiAgdm5vZGVfaW5zZXJ0QmVmb3JlLFxuICB2bm9kZV9pc0VsZW1lbnRWTm9kZSxcbiAgdm5vZGVfaXNQcm9qZWN0aW9uLFxuICB2bm9kZV9pc1RleHRWTm9kZSxcbiAgdm5vZGVfaXNWTm9kZSxcbiAgdm5vZGVfaXNWaXJ0dWFsVk5vZGUsXG4gIHZub2RlX2xvY2F0ZSxcbiAgdm5vZGVfbmV3RWxlbWVudCxcbiAgdm5vZGVfbmV3VGV4dCxcbiAgdm5vZGVfbmV3VmlydHVhbCxcbiAgdm5vZGVfcmVtb3ZlLFxuICB2bm9kZV9zZXRUZXh0LFxuICB2bm9kZV90cnVuY2F0ZSxcbiAgdm5vZGVfd2Fsa1ZOb2RlLFxuICB0eXBlIFZOb2RlSm91cm5hbCxcbn0gZnJvbSAnLi92bm9kZSc7XG5pbXBvcnQgdHlwZSB7IEVsZW1lbnRWTm9kZSwgVGV4dFZOb2RlLCBWTm9kZSwgVmlydHVhbFZOb2RlIH0gZnJvbSAnLi92bm9kZS1pbXBsJztcbmltcG9ydCB7IGdldEF0dHJpYnV0ZU5hbWVzcGFjZSwgZ2V0TmV3RWxlbWVudE5hbWVzcGFjZURhdGEgfSBmcm9tICcuL3Zub2RlLW5hbWVzcGFjZSc7XG5cbmV4cG9ydCBjb25zdCB2bm9kZV9kaWZmID0gKFxuICBjb250YWluZXI6IENsaWVudENvbnRhaW5lcixcbiAganN4Tm9kZTogSlNYQ2hpbGRyZW4sXG4gIHZTdGFydE5vZGU6IFZOb2RlLFxuICBzY29wZWRTdHlsZUlkUHJlZml4OiBzdHJpbmcgfCBudWxsXG4pID0+IHtcbiAgbGV0IGpvdXJuYWwgPSAoY29udGFpbmVyIGFzIERvbUNvbnRhaW5lcikuJGpvdXJuYWwkO1xuXG4gIC8qKlxuICAgKiBTdGFjayBpcyB1c2VkIHRvIGtlZXAgdHJhY2sgb2YgdGhlIHN0YXRlIG9mIHRoZSB0cmF2ZXJzYWwuXG4gICAqXG4gICAqIFdlIHB1c2ggY3VycmVudCBzdGF0ZSBpbnRvIHRoZSBzdGFjayBiZWZvcmUgZGVzY2VuZGluZyBpbnRvIHRoZSBjaGlsZCwgYW5kIHdlIHBvcCB0aGUgc3RhdGVcbiAgICogd2hlbiB3ZSBhcmUgZG9uZSB3aXRoIHRoZSBjaGlsZC5cbiAgICovXG4gIGNvbnN0IHN0YWNrOiBhbnlbXSA9IFtdO1xuXG4gIGNvbnN0IGFzeW5jUXVldWU6IEFycmF5PFZOb2RlIHwgVmFsdWVPclByb21pc2U8SlNYQ2hpbGRyZW4+IHwgUHJvbWlzZTxKU1hDaGlsZHJlbj4+ID0gW107XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vLyBUcmF2ZXJzZSBzdGF0ZSB2YXJpYWJsZXNcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgbGV0IHZQYXJlbnQ6IEVsZW1lbnRWTm9kZSB8IFZpcnR1YWxWTm9kZSA9IG51bGwhO1xuXG4gIC8vLyBDdXJyZW50IG5vZGUgd2UgY29tcGFyZSBhZ2FpbnN0LiAoVGhpbmsgb2YgaXQgYXMgYSBjdXJzb3IuKVxuICAvLy8gKE5vZGUgY2FuIGJlIG51bGwsIGlmIHdlIGFyZSBhdCB0aGUgZW5kIG9mIHRoZSBsaXN0LilcbiAgbGV0IHZDdXJyZW50OiBWTm9kZSB8IG51bGwgPSBudWxsO1xuXG4gIC8vLyBXaGVuIHdlIGluc2VydCBuZXcgbm9kZSB3ZSBzdGFydCBpdCBoZXJlIHNvIHRoYXQgd2UgY2FuIGRlc2NlbmQgaW50byBpdC5cbiAgLy8vIE5PVEU6IGl0IGNhbid0IGJlIHN0b3JlZCBpbiBgdkN1cnJlbnRgIGJlY2F1c2UgYHZOZXdOb2RlYCBpcyBpbiBqb3VybmFsXG4gIC8vLyBhbmQgaXMgbm90IGNvbm5lY3RlZCB0byB0aGUgdHJlZS5cbiAgbGV0IHZOZXdOb2RlOiBWTm9kZSB8IG51bGwgPSBudWxsO1xuXG4gIGxldCB2U2libGluZ3M6IE1hcDxzdHJpbmcsIFZOb2RlPiB8IG51bGwgPSBudWxsO1xuICAvLy8gVGhlIGFycmF5IGV2ZW4gaW5kaWNlcyB3aWxsIGNvbnRhaW5zIGtleXMgYW5kIG9kZCBpbmRpY2VzIHRoZSBub24ga2V5ZWQgc2libGluZ3MuXG4gIGxldCB2U2libGluZ3NBcnJheTogQXJyYXk8c3RyaW5nIHwgVk5vZGUgfCBudWxsPiB8IG51bGwgPSBudWxsO1xuXG4gIC8vLyBTaWRlIGJ1ZmZlciB0byBzdG9yZSBub2RlcyB0aGF0IGFyZSBtb3ZlZCBvdXQgb2Ygb3JkZXIgZHVyaW5nIGtleSBzY2FubmluZy5cbiAgLy8vIFRoaXMgY29udGFpbnMgbm9kZXMgdGhhdCB3ZXJlIGZvdW5kIGJlZm9yZSB0aGUgdGFyZ2V0IGtleSBhbmQgbmVlZCB0byBiZSBtb3ZlZCBsYXRlci5cbiAgbGV0IHZTaWRlQnVmZmVyOiBNYXA8c3RyaW5nLCBWTm9kZT4gfCBudWxsID0gbnVsbDtcblxuICAvLy8gQ3VycmVudCBzZXQgb2YgSlNYIGNoaWxkcmVuLlxuICBsZXQganN4Q2hpbGRyZW46IEpTWENoaWxkcmVuW10gPSBudWxsITtcbiAgLy8gQ3VycmVudCBKU1ggY2hpbGQuXG4gIGxldCBqc3hWYWx1ZTogSlNYQ2hpbGRyZW4gPSBudWxsO1xuICBsZXQganN4SWR4ID0gMDtcbiAgbGV0IGpzeENvdW50ID0gMDtcblxuICAvLyBXaGVuIHdlIGRlc2NlbmQgaW50byBjaGlsZHJlbiwgd2UgbmVlZCB0byBza2lwIGFkdmFuY2UoKSBiZWNhdXNlIHdlIGp1c3QgZGVzY2VuZGVkLlxuICBsZXQgc2hvdWxkQWR2YW5jZSA9IHRydWU7XG5cbiAgY29uc3QgQ09OU1RfU1VCU0NSSVBUSU9OX0RBVEEgPSBuZXcgU3Vic2NyaXB0aW9uRGF0YSh7XG4gICAgJHNjb3BlZFN0eWxlSWRQcmVmaXgkOiBzY29wZWRTdHlsZUlkUHJlZml4LFxuICAgICRpc0NvbnN0JDogdHJ1ZSxcbiAgfSk7XG5cbiAgY29uc3QgTk9OX0NPTlNUX1NVQlNDUklQVElPTl9EQVRBID0gbmV3IFN1YnNjcmlwdGlvbkRhdGEoe1xuICAgICRzY29wZWRTdHlsZUlkUHJlZml4JDogc2NvcGVkU3R5bGVJZFByZWZpeCxcbiAgICAkaXNDb25zdCQ6IGZhbHNlLFxuICB9KTtcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICBkaWZmKGpzeE5vZGUsIHZTdGFydE5vZGUpO1xuICByZXR1cm4gZHJhaW5Bc3luY1F1ZXVlKCk7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICBmdW5jdGlvbiBkaWZmKGpzeE5vZGU6IEpTWENoaWxkcmVuLCB2U3RhcnROb2RlOiBWTm9kZSkge1xuICAgIGFzc2VydEZhbHNlKHZub2RlX2lzVk5vZGUoanN4Tm9kZSksICdKU1hOb2RlIHNob3VsZCBub3QgYmUgYSBWTm9kZScpO1xuICAgIGFzc2VydFRydWUodm5vZGVfaXNWTm9kZSh2U3RhcnROb2RlKSwgJ3ZTdGFydE5vZGUgc2hvdWxkIGJlIGEgVk5vZGUnKTtcbiAgICB2UGFyZW50ID0gdlN0YXJ0Tm9kZSBhcyBFbGVtZW50Vk5vZGUgfCBWaXJ0dWFsVk5vZGU7XG4gICAgdk5ld05vZGUgPSBudWxsO1xuICAgIHZDdXJyZW50ID0gdm5vZGVfZ2V0Rmlyc3RDaGlsZCh2U3RhcnROb2RlKTtcbiAgICBzdGFja1B1c2goanN4Tm9kZSwgdHJ1ZSk7XG5cbiAgICBpZiAodlBhcmVudC5mbGFncyAmIFZOb2RlRmxhZ3MuRGVsZXRlZCkge1xuICAgICAgLy8gSWdub3JlIGRpZmYgaWYgdGhlIHBhcmVudCBpcyBkZWxldGVkLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdoaWxlIChzdGFjay5sZW5ndGgpIHtcbiAgICAgIHdoaWxlIChqc3hJZHggPCBqc3hDb3VudCkge1xuICAgICAgICBhc3NlcnRGYWxzZSh2UGFyZW50ID09PSB2Q3VycmVudCwgXCJQYXJlbnQgYW5kIGN1cnJlbnQgY2FuJ3QgYmUgdGhlIHNhbWVcIik7XG4gICAgICAgIGlmICh0eXBlb2YganN4VmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgZXhwZWN0VGV4dChqc3hWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGpzeFZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGV4cGVjdFRleHQoU3RyaW5nKGpzeFZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoanN4VmFsdWUgJiYgdHlwZW9mIGpzeFZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGpzeFZhbHVlKSkge1xuICAgICAgICAgICAgZGVzY2VuZChqc3hWYWx1ZSwgZmFsc2UpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNTaWduYWwoanN4VmFsdWUpKSB7XG4gICAgICAgICAgICBleHBlY3RWaXJ0dWFsKFZpcnR1YWxUeXBlLldyYXBwZWRTaWduYWwsIG51bGwpO1xuICAgICAgICAgICAgY29uc3QgdW53cmFwcGVkU2lnbmFsID1cbiAgICAgICAgICAgICAganN4VmFsdWUgaW5zdGFuY2VvZiBXcmFwcGVkU2lnbmFsSW1wbCA/IGpzeFZhbHVlLiR1bndyYXBJZlNpZ25hbCQoKSA6IGpzeFZhbHVlO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNpZ25hbCA9IHZDdXJyZW50Py5bX0VGRkVDVF9CQUNLX1JFRl0/LmdldChFZmZlY3RQcm9wZXJ0eS5WTk9ERSk/LltcbiAgICAgICAgICAgICAgRWZmZWN0U3Vic2NyaXB0aW9uUHJvcC5DT05TVU1FUlxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50U2lnbmFsICE9PSB1bndyYXBwZWRTaWduYWwpIHtcbiAgICAgICAgICAgICAgY29uc3Qgdkhvc3QgPSAodk5ld05vZGUgfHwgdkN1cnJlbnQpITtcbiAgICAgICAgICAgICAgZGVzY2VuZChcbiAgICAgICAgICAgICAgICByZXNvbHZlU2lnbmFsQW5kRGVzY2VuZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgdHJhY2tTaWduYWxBbmRBc3NpZ25Ib3N0KHVud3JhcHBlZFNpZ25hbCwgdkhvc3QsIEVmZmVjdFByb3BlcnR5LlZOT0RFLCBjb250YWluZXIpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChpc1Byb21pc2UoanN4VmFsdWUpKSB7XG4gICAgICAgICAgICBleHBlY3RWaXJ0dWFsKFZpcnR1YWxUeXBlLkF3YWl0ZWQsIG51bGwpO1xuICAgICAgICAgICAgYXN5bmNRdWV1ZS5wdXNoKGpzeFZhbHVlLCB2TmV3Tm9kZSB8fCB2Q3VycmVudCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpc0pTWE5vZGUoanN4VmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0ganN4VmFsdWUudHlwZTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgZXhwZWN0Tm9Nb3JlVGV4dE5vZGVzKCk7XG4gICAgICAgICAgICAgIGV4cGVjdEVsZW1lbnQoanN4VmFsdWUsIHR5cGUpO1xuICAgICAgICAgICAgICBkZXNjZW5kKGpzeFZhbHVlLmNoaWxkcmVuLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IEZyYWdtZW50KSB7XG4gICAgICAgICAgICAgICAgZXhwZWN0Tm9Nb3JlVGV4dE5vZGVzKCk7XG4gICAgICAgICAgICAgICAgZXhwZWN0VmlydHVhbChWaXJ0dWFsVHlwZS5GcmFnbWVudCwganN4VmFsdWUua2V5KTtcbiAgICAgICAgICAgICAgICBkZXNjZW5kKGpzeFZhbHVlLmNoaWxkcmVuLCB0cnVlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBTbG90KSB7XG4gICAgICAgICAgICAgICAgZXhwZWN0Tm9Nb3JlVGV4dE5vZGVzKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFleHBlY3RTbG90KCkpIHtcbiAgICAgICAgICAgICAgICAgIC8vIG5vdGhpbmcgdG8gcHJvamVjdCwgc28gdHJ5IHRvIHJlbmRlciB0aGUgU2xvdCBkZWZhdWx0IGNvbnRlbnQuXG4gICAgICAgICAgICAgICAgICBkZXNjZW5kKGpzeFZhbHVlLmNoaWxkcmVuLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gUHJvamVjdGlvbikge1xuICAgICAgICAgICAgICAgIGV4cGVjdFByb2plY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBkZXNjZW5kKFxuICAgICAgICAgICAgICAgICAganN4VmFsdWUuY2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBwcm9qZWN0aW9uLCB3ZSBkb24ndCB3YW50IHRvIGV4cGVjdCBubyBjaGlsZHJlblxuICAgICAgICAgICAgICAgICAgLy8gYmVjYXVzZSB0aGUgcHJvamVjdGlvbidzIGNoaWxkcmVuIGFyZSBub3QgcmVtb3ZlZFxuICAgICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFNTUkNvbW1lbnQpIHtcbiAgICAgICAgICAgICAgICBleHBlY3ROb01vcmUoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBTU1JSYXcpIHtcbiAgICAgICAgICAgICAgICBleHBlY3ROb01vcmUoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBNdXN0IGJlIGEgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgZXhwZWN0Tm9Nb3JlVGV4dE5vZGVzKCk7XG4gICAgICAgICAgICAgICAgZXhwZWN0Q29tcG9uZW50KHR5cGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGpzeFZhbHVlID09PSAoU2tpcFJlbmRlciBhcyBKU1hDaGlsZHJlbikpIHtcbiAgICAgICAgICAvLyBkbyBub3RoaW5nLCB3ZSBhcmUgc2tpcHBpbmcgdGhpcyBub2RlXG4gICAgICAgICAgam91cm5hbCA9IFtdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGV4cGVjdFRleHQoJycpO1xuICAgICAgICB9XG4gICAgICAgIGFkdmFuY2UoKTtcbiAgICAgIH1cbiAgICAgIGV4cGVjdE5vTW9yZSgpO1xuICAgICAgY2xlYW51cFNpZGVCdWZmZXIoKTtcbiAgICAgIGFzY2VuZCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc29sdmVTaWduYWxBbmREZXNjZW5kKGZuOiAoKSA9PiBWYWx1ZU9yUHJvbWlzZTxhbnk+KTogVmFsdWVPclByb21pc2U8YW55PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmbigpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIFNpZ25hbCB0aHJldyBhIHByb21pc2UgKGFzeW5jIGNvbXB1dGVkIHNpZ25hbCkgLSBoYW5kbGUgcmV0cnkgYW5kIGFzeW5jIHF1ZXVlXG4gICAgICBpZiAoaXNQcm9taXNlKGUpKSB7XG4gICAgICAgIC8vIFRoZSB0aHJvd24gcHJvbWlzZSB3aWxsIHJlc29sdmUgd2hlbiB0aGUgc2lnbmFsIGlzIHJlYWR5LCB0aGVuIHJldHJ5IGZuKCkgd2l0aCByZXRyeSBsb2dpY1xuICAgICAgICBjb25zdCByZXRyeVByb21pc2UgPSBlLnRoZW4oKCkgPT4gcmV0cnlPblByb21pc2UoZm4pKTtcbiAgICAgICAgYXN5bmNRdWV1ZS5wdXNoKHJldHJ5UHJvbWlzZSwgdk5ld05vZGUgfHwgdkN1cnJlbnQpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWR2YW5jZSgpIHtcbiAgICBpZiAoIXNob3VsZEFkdmFuY2UpIHtcbiAgICAgIHNob3VsZEFkdmFuY2UgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBqc3hJZHgrKztcbiAgICBpZiAoanN4SWR4IDwganN4Q291bnQpIHtcbiAgICAgIGpzeFZhbHVlID0ganN4Q2hpbGRyZW5banN4SWR4XTtcbiAgICB9IGVsc2UgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSBmYWxzZSkge1xuICAgICAgLy8gdGhpcyB3YXMgc3BlY2lhbCBgZGVzY2VuZFZOb2RlID09PSBmYWxzZWAgc28gcG9wIGFuZCB0cnkgYWdhaW5cbiAgICAgIHJldHVybiBhc2NlbmQoKTtcbiAgICB9XG4gICAgaWYgKHZOZXdOb2RlICE9PSBudWxsKSB7XG4gICAgICAvLyBXZSBoYXZlIGEgbmV3IE5vZGUuXG4gICAgICAvLyBUaGlzIG1lYW5zIHRoYXQgdGhlIGB2Q3VycmVudGAgd2FzIGRlZW1lZCBub3QgdXNlZnVsIGFuZCB3ZSBpbnNlcnRlZCBpbiBmcm9udCBvZiBpdC5cbiAgICAgIC8vIFRoaXMgbWVhbnMgdGhhdCB0aGUgbmV4dCBub2RlIHdlIHNob3VsZCBsb29rIGF0IGlzIHRoZSBgdkN1cnJlbnRgIHNvIGp1c3QgY2xlYXIgdGhlXG4gICAgICAvLyB2TmV3Tm9kZSAgYW5kIHRyeSBhZ2Fpbi5cbiAgICAgIHZOZXdOb2RlID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgYWR2YW5jZVRvTmV4dFNpYmxpbmcoKTtcbiAgICB9XG4gIH1cblxuICAvKiogQWR2YW5jZSB0aGUgYHZDdXJyZW50YCB0byB0aGUgbmV4dCBzaWJsaW5nLiAqL1xuICBmdW5jdGlvbiBwZWVrTmV4dFNpYmxpbmcoKSB7XG4gICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIGB2TmV3Tm9kZWAsIHRoYW4gdGhhdCBtZWFucyB3ZSBqdXN0IHJlY29uY2lsZWQgdGhlIGN1cnJlbnQgbm9kZS5cbiAgICAvLyBTbyBhZHZhbmNlIGl0LlxuICAgIHJldHVybiB2Q3VycmVudCA/ICh2Q3VycmVudC5uZXh0U2libGluZyBhcyBWTm9kZSB8IG51bGwpIDogbnVsbDtcbiAgfVxuXG4gIC8qKiBBZHZhbmNlIHRoZSBgdkN1cnJlbnRgIHRvIHRoZSBuZXh0IHNpYmxpbmcuICovXG4gIGZ1bmN0aW9uIGFkdmFuY2VUb05leHRTaWJsaW5nKCkge1xuICAgIHZDdXJyZW50ID0gcGVla05leHRTaWJsaW5nKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGNoaWxkcmVuXG4gICAqIEBwYXJhbSBkZXNjZW5kVk5vZGUgLSBJZiB0cnVlIHdlIGFyZSBkZXNjZW5kaW5nIGludG8gdk5vZGU7IFRoaXMgaXMgc2V0IHRvIGZhbHNlIGlmIHdlIGNvbWVcbiAgICogICBhY3Jvc3MgYW4gYXJyYXkgaW4ganN4LCBhbmQgd2UgbmVlZCB0byBkZXNjZW5kIGludG8gdGhlIGFycmF5IHdpdGhvdXQgYWN0dWFsbHkgZGVzY2VuZGluZ1xuICAgKiAgIGludG8gdGhlIHZOb2RlLlxuICAgKlxuICAgKiAgIEV4YW1wbGU6XG4gICAqXG4gICAqICAgYGBgXG4gICAqICAgPD5cbiAgICogICBiZWZvcmVcbiAgICogICB7WzEsMl0ubWFwKChpKSA9PiA8c3Bhbj57aX08L3NwYW4+KX1cbiAgICogICBhZnRlclxuICAgKiAgIDwvPlxuICAgKiBgYGBcbiAgICpcbiAgICogICBJbiB0aGUgYWJvdmUgZXhhbXBsZSBhbGwgbm9kZXMgYXJlIG9uIHNhbWUgbGV2ZWwgc28gd2UgZG9uJ3QgYGRlc2NlbmRWTm9kZWAgZXZlbiB0aG91Z2h0IHRoZXJlXG4gICAqICAgaXMgYW4gYXJyYXkgcHJvZHVjZWQgYnkgdGhlIGBtYXBgIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gZGVzY2VuZChcbiAgICBjaGlsZHJlbjogSlNYQ2hpbGRyZW4sXG4gICAgZGVzY2VuZFZOb2RlOiBib29sZWFuLFxuICAgIHNob3VsZEV4cGVjdE5vQ2hpbGRyZW46IGJvb2xlYW4gPSB0cnVlXG4gICkge1xuICAgIGlmIChcbiAgICAgIHNob3VsZEV4cGVjdE5vQ2hpbGRyZW4gJiZcbiAgICAgIChjaGlsZHJlbiA9PSBudWxsIHx8IChkZXNjZW5kVk5vZGUgJiYgaXNBcnJheShjaGlsZHJlbikgJiYgY2hpbGRyZW4ubGVuZ3RoID09PSAwKSlcbiAgICApIHtcbiAgICAgIGV4cGVjdE5vQ2hpbGRyZW4oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3RhY2tQdXNoKGNoaWxkcmVuLCBkZXNjZW5kVk5vZGUpO1xuICAgIGlmIChkZXNjZW5kVk5vZGUpIHtcbiAgICAgIGFzc2VydERlZmluZWQodkN1cnJlbnQgfHwgdk5ld05vZGUsICdFeHBlY3RpbmcgdkN1cnJlbnQgdG8gYmUgZGVmaW5lZC4nKTtcbiAgICAgIHZTaWRlQnVmZmVyID0gbnVsbDtcbiAgICAgIHZTaWJsaW5ncyA9IG51bGw7XG4gICAgICB2U2libGluZ3NBcnJheSA9IG51bGw7XG4gICAgICB2UGFyZW50ID0gKHZOZXdOb2RlIHx8IHZDdXJyZW50ISkgYXMgRWxlbWVudFZOb2RlIHwgVmlydHVhbFZOb2RlO1xuICAgICAgdkN1cnJlbnQgPSB2bm9kZV9nZXRGaXJzdENoaWxkKHZQYXJlbnQpO1xuICAgICAgdk5ld05vZGUgPSBudWxsO1xuICAgIH1cbiAgICBzaG91bGRBZHZhbmNlID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBhc2NlbmQoKSB7XG4gICAgY29uc3QgZGVzY2VuZFZOb2RlID0gc3RhY2sucG9wKCk7IC8vIGJvb2xlYW46IGRlc2NlbmRWTm9kZVxuICAgIGlmIChkZXNjZW5kVk5vZGUpIHtcbiAgICAgIHZTaWRlQnVmZmVyID0gc3RhY2sucG9wKCk7XG4gICAgICB2U2libGluZ3MgPSBzdGFjay5wb3AoKTtcbiAgICAgIHZTaWJsaW5nc0FycmF5ID0gc3RhY2sucG9wKCk7XG4gICAgICB2TmV3Tm9kZSA9IHN0YWNrLnBvcCgpO1xuICAgICAgdkN1cnJlbnQgPSBzdGFjay5wb3AoKTtcbiAgICAgIHZQYXJlbnQgPSBzdGFjay5wb3AoKTtcbiAgICB9XG4gICAganN4VmFsdWUgPSBzdGFjay5wb3AoKTtcbiAgICBqc3hDb3VudCA9IHN0YWNrLnBvcCgpO1xuICAgIGpzeElkeCA9IHN0YWNrLnBvcCgpO1xuICAgIGpzeENoaWxkcmVuID0gc3RhY2sucG9wKCk7XG4gICAgYWR2YW5jZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhY2tQdXNoKGNoaWxkcmVuOiBKU1hDaGlsZHJlbiwgZGVzY2VuZFZOb2RlOiBib29sZWFuKSB7XG4gICAgc3RhY2sucHVzaChqc3hDaGlsZHJlbiwganN4SWR4LCBqc3hDb3VudCwganN4VmFsdWUpO1xuICAgIGlmIChkZXNjZW5kVk5vZGUpIHtcbiAgICAgIHN0YWNrLnB1c2godlBhcmVudCwgdkN1cnJlbnQsIHZOZXdOb2RlLCB2U2libGluZ3NBcnJheSwgdlNpYmxpbmdzLCB2U2lkZUJ1ZmZlcik7XG4gICAgfVxuICAgIHN0YWNrLnB1c2goZGVzY2VuZFZOb2RlKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgIGpzeElkeCA9IDA7XG4gICAgICBqc3hDb3VudCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgIGpzeENoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICBqc3hWYWx1ZSA9IGpzeENvdW50ID4gMCA/IGNoaWxkcmVuWzBdIDogbnVsbDtcbiAgICB9IGVsc2UgaWYgKGNoaWxkcmVuID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIG5vIGNoaWxkcmVuXG4gICAgICBqc3hJZHggPSAwO1xuICAgICAganN4VmFsdWUgPSBudWxsO1xuICAgICAganN4Q2hpbGRyZW4gPSBudWxsITtcbiAgICAgIGpzeENvdW50ID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAganN4SWR4ID0gMDtcbiAgICAgIGpzeFZhbHVlID0gY2hpbGRyZW47XG4gICAgICBqc3hDaGlsZHJlbiA9IG51bGwhO1xuICAgICAganN4Q291bnQgPSAxO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEluc2VydEJlZm9yZSgpIHtcbiAgICBpZiAodk5ld05vZGUpIHtcbiAgICAgIHJldHVybiB2Q3VycmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHBlZWtOZXh0U2libGluZygpO1xuICAgIH1cbiAgfVxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgZnVuY3Rpb24gZGVzY2VuZENvbnRlbnRUb1Byb2plY3QoY2hpbGRyZW46IEpTWENoaWxkcmVuLCBob3N0OiBWaXJ0dWFsVk5vZGUgfCBudWxsKSB7XG4gICAgY29uc3QgcHJvamVjdGlvbkNoaWxkcmVuID0gQXJyYXkuaXNBcnJheShjaGlsZHJlbikgPyBjaGlsZHJlbiA6IFtjaGlsZHJlbl07XG4gICAgY29uc3QgY3JlYXRlUHJvamVjdGlvbkpTWE5vZGUgPSAoc2xvdE5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBKU1hOb2RlSW1wbChQcm9qZWN0aW9uLCBudWxsLCBudWxsLCBbXSwgc2xvdE5hbWUpO1xuICAgIH07XG5cbiAgICBjb25zdCBwcm9qZWN0aW9uczogQXJyYXk8c3RyaW5nIHwgSlNYTm9kZUludGVybmFsPiA9IFtdO1xuICAgIGlmIChob3N0KSB7XG4gICAgICBjb25zdCBwcm9wcyA9IHZub2RlX2dldFByb3BzKGhvc3QpO1xuICAgICAgLy8gd2UgbmVlZCB0byBjcmVhdGUgZW1wdHkgcHJvamVjdGlvbnMgZm9yIGFsbCB0aGUgc2xvdHMgdG8gcmVtb3ZlIHVudXNlZCBzbG90cyBjb250ZW50XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSA9IGkgKyAyKSB7XG4gICAgICAgIGNvbnN0IHByb3AgPSBwcm9wc1tpXSBhcyBzdHJpbmc7XG4gICAgICAgIGlmIChpc1Nsb3RQcm9wKHByb3ApKSB7XG4gICAgICAgICAgY29uc3Qgc2xvdE5hbWUgPSBwcm9wO1xuICAgICAgICAgIHByb2plY3Rpb25zLnB1c2goc2xvdE5hbWUpO1xuICAgICAgICAgIHByb2plY3Rpb25zLnB1c2goY3JlYXRlUHJvamVjdGlvbkpTWE5vZGUoc2xvdE5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwcm9qZWN0aW9ucy5sZW5ndGggPT09IDAgJiYgY2hpbGRyZW4gPT0gbnVsbCkge1xuICAgICAgLy8gV2UgZGlkIG5vdCBmaW5kIGFueSBleGlzdGluZyBzbG90cyBhbmQgd2UgZG9uJ3QgaGF2ZSBhbnkgY2hpbGRyZW4gdG8gcHJvamVjdC5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLy8gU1RFUCAxOiBCdWNrZXRpemUgdGhlIGNoaWxkcmVuIGJhc2VkIG9uIHRoZSBwcm9qZWN0aW9uIG5hbWUuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9qZWN0aW9uQ2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoaWxkID0gcHJvamVjdGlvbkNoaWxkcmVuW2ldO1xuICAgICAgY29uc3Qgc2xvdE5hbWUgPSBTdHJpbmcoXG4gICAgICAgIChpc0pTWE5vZGUoY2hpbGQpICYmIGRpcmVjdEdldFByb3BzUHJveHlQcm9wKGNoaWxkLCBRU2xvdCkpIHx8IFFEZWZhdWx0U2xvdFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGlkeCA9IG1hcEFwcF9maW5kSW5keChwcm9qZWN0aW9ucywgc2xvdE5hbWUsIDApO1xuICAgICAgbGV0IGpzeEJ1Y2tldDogSlNYTm9kZUltcGw8dHlwZW9mIFByb2plY3Rpb24+O1xuICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgIGpzeEJ1Y2tldCA9IHByb2plY3Rpb25zW2lkeCArIDFdIGFzIGFueTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2plY3Rpb25zLnNwbGljZSh+aWR4LCAwLCBzbG90TmFtZSwgKGpzeEJ1Y2tldCA9IGNyZWF0ZVByb2plY3Rpb25KU1hOb2RlKHNsb3ROYW1lKSkpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVtb3ZlUHJvamVjdGlvbiA9IGNoaWxkID09PSBmYWxzZTtcbiAgICAgIGlmICghcmVtb3ZlUHJvamVjdGlvbikge1xuICAgICAgICAoanN4QnVja2V0LmNoaWxkcmVuIGFzIEpTWENoaWxkcmVuW10pLnB1c2goY2hpbGQpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLy8gU1RFUCAyOiByZW1vdmUgdGhlIG5hbWVzXG4gICAgZm9yIChsZXQgaSA9IHByb2plY3Rpb25zLmxlbmd0aCAtIDI7IGkgPj0gMDsgaSA9IGkgLSAyKSB7XG4gICAgICBwcm9qZWN0aW9ucy5zcGxpY2UoaSwgMSk7XG4gICAgfVxuICAgIGRlc2NlbmQocHJvamVjdGlvbnMsIHRydWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZXhwZWN0UHJvamVjdGlvbigpIHtcbiAgICBjb25zdCBqc3hOb2RlID0ganN4VmFsdWUgYXMgSlNYTm9kZUludGVybmFsO1xuICAgIGNvbnN0IHNsb3ROYW1lID0ganN4Tm9kZS5rZXkgYXMgc3RyaW5nO1xuICAgIC8vIGNvbnNvbGUubG9nKCdleHBlY3RQcm9qZWN0aW9uJywgSlNPTi5zdHJpbmdpZnkoc2xvdE5hbWUpKTtcbiAgICAvLyBUaGUgcGFyZW50IGlzIHRoZSBjb21wb25lbnQgYW5kIGl0IHNob3VsZCBoYXZlIG91ciBwb3J0YWwuXG4gICAgdkN1cnJlbnQgPSAodlBhcmVudCBhcyBWaXJ0dWFsVk5vZGUpLmdldFByb3A8VmlydHVhbFZOb2RlIHwgbnVsbD4oc2xvdE5hbWUsIChpZCkgPT5cbiAgICAgIHZub2RlX2xvY2F0ZShjb250YWluZXIucm9vdFZOb2RlLCBpZClcbiAgICApO1xuICAgIC8vIGlmIHByb2plY3Rpb24gaXMgbWFya2VkIGFzIGRlbGV0ZWQgdGhlbiB3ZSBuZWVkIHRvIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICB2Q3VycmVudCA9IHZDdXJyZW50ICYmIHZDdXJyZW50LmZsYWdzICYgVk5vZGVGbGFncy5EZWxldGVkID8gbnVsbCA6IHZDdXJyZW50O1xuICAgIGlmICh2Q3VycmVudCA9PSBudWxsKSB7XG4gICAgICB2TmV3Tm9kZSA9IHZub2RlX25ld1ZpcnR1YWwoKTtcbiAgICAgIC8vIHlvdSBtYXkgYmUgdGVtcHRlZCB0byBhZGQgdGhlIHByb2plY3Rpb24gaW50byB0aGUgY3VycmVudCBwYXJlbnQsIGJ1dFxuICAgICAgLy8gdGhhdCBpcyB3cm9uZy4gV2UgZG9uJ3QgeWV0IGtub3cgaWYgdGhlIHByb2plY3Rpb24gd2lsbCBiZSBwcm9qZWN0ZWQsIHNvXG4gICAgICAvLyB3ZSBzaG91bGQgbGVhdmUgaXQgdW5hdHRhY2hlZC5cbiAgICAgIC8vIHZOZXdOb2RlW1ZOb2RlUHJvcHMucGFyZW50XSA9IHZQYXJlbnQ7XG4gICAgICBpc0RldiAmJiAodk5ld05vZGUgYXMgVmlydHVhbFZOb2RlKS5zZXRQcm9wKERFQlVHX1RZUEUsIFZpcnR1YWxUeXBlLlByb2plY3Rpb24pO1xuICAgICAgaXNEZXYgJiYgKHZOZXdOb2RlIGFzIFZpcnR1YWxWTm9kZSkuc2V0UHJvcCgncTpjb2RlJywgJ2V4cGVjdFByb2plY3Rpb24nKTtcbiAgICAgICh2TmV3Tm9kZSBhcyBWaXJ0dWFsVk5vZGUpLnNldFByb3AoUVNsb3QsIHNsb3ROYW1lKTtcbiAgICAgICh2TmV3Tm9kZSBhcyBWaXJ0dWFsVk5vZGUpLnNsb3RQYXJlbnQgPSB2UGFyZW50O1xuICAgICAgKHZQYXJlbnQgYXMgVmlydHVhbFZOb2RlKS5zZXRQcm9wKHNsb3ROYW1lLCB2TmV3Tm9kZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZXhwZWN0U2xvdCgpIHtcbiAgICBjb25zdCB2SG9zdCA9IHZub2RlX2dldFByb2plY3Rpb25QYXJlbnRDb21wb25lbnQodlBhcmVudCk7XG5cbiAgICBjb25zdCBzbG90TmFtZUtleSA9IGdldFNsb3ROYW1lS2V5KHZIb3N0KTtcbiAgICAvLyBjb25zb2xlLmxvZygnZXhwZWN0U2xvdCcsIEpTT04uc3RyaW5naWZ5KHNsb3ROYW1lS2V5KSk7XG5cbiAgICBjb25zdCB2UHJvamVjdGVkTm9kZSA9IHZIb3N0XG4gICAgICA/ICh2SG9zdCBhcyBWaXJ0dWFsVk5vZGUpLmdldFByb3A8VmlydHVhbFZOb2RlIHwgbnVsbD4oXG4gICAgICAgICAgc2xvdE5hbWVLZXksXG4gICAgICAgICAgLy8gZm9yIHNsb3RzIHRoaXMgaWQgaXMgdm5vZGUgcmVmIGlkXG4gICAgICAgICAgbnVsbCAvLyBQcm9qZWN0aW9ucyBzaG91bGQgaGF2ZSBiZWVuIHJlc29sdmVkIHRocm91Z2ggY29udGFpbmVyLmVuc3VyZVByb2plY3Rpb25SZXNvbHZlZFxuICAgICAgICAgIC8vKGlkKSA9PiB2bm9kZV9sb2NhdGUoY29udGFpbmVyLnJvb3RWTm9kZSwgaWQpXG4gICAgICAgIClcbiAgICAgIDogbnVsbDtcbiAgICAvLyBjb25zb2xlLmxvZygnICAgJywgU3RyaW5nKHZIb3N0KSwgU3RyaW5nKHZQcm9qZWN0ZWROb2RlKSk7XG4gICAgaWYgKHZQcm9qZWN0ZWROb2RlID09IG51bGwpIHtcbiAgICAgIC8vIE5vdGhpbmcgdG8gcHJvamVjdCwgc28gcmVuZGVyIGNvbnRlbnQgb2YgdGhlIHNsb3QuXG4gICAgICB2bm9kZV9pbnNlcnRCZWZvcmUoXG4gICAgICAgIGpvdXJuYWwsXG4gICAgICAgIHZQYXJlbnQgYXMgRWxlbWVudFZOb2RlIHwgVmlydHVhbFZOb2RlLFxuICAgICAgICAodk5ld05vZGUgPSB2bm9kZV9uZXdWaXJ0dWFsKCkpLFxuICAgICAgICB2Q3VycmVudCAmJiBnZXRJbnNlcnRCZWZvcmUoKVxuICAgICAgKTtcbiAgICAgICh2TmV3Tm9kZSBhcyBWaXJ0dWFsVk5vZGUpLnNldFByb3AoUVNsb3QsIHNsb3ROYW1lS2V5KTtcbiAgICAgIHZIb3N0ICYmICh2SG9zdCBhcyBWaXJ0dWFsVk5vZGUpLnNldFByb3Aoc2xvdE5hbWVLZXksIHZOZXdOb2RlKTtcbiAgICAgIGlzRGV2ICYmICh2TmV3Tm9kZSBhcyBWaXJ0dWFsVk5vZGUpLnNldFByb3AoREVCVUdfVFlQRSwgVmlydHVhbFR5cGUuUHJvamVjdGlvbik7XG4gICAgICBpc0RldiAmJiAodk5ld05vZGUgYXMgVmlydHVhbFZOb2RlKS5zZXRQcm9wKCdxOmNvZGUnLCAnZXhwZWN0U2xvdCcgKyBjb3VudCsrKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKHZQcm9qZWN0ZWROb2RlID09PSB2Q3VycmVudCkge1xuICAgICAgLy8gQWxsIGlzIGdvb2QuXG4gICAgICAvLyBjb25zb2xlLmxvZygnICBOT09QJywgU3RyaW5nKHZDdXJyZW50KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG1vdmUgZnJvbSBxOnRlbXBsYXRlIHRvIHRoZSB0YXJnZXQgbm9kZVxuICAgICAgdm5vZGVfaW5zZXJ0QmVmb3JlKFxuICAgICAgICBqb3VybmFsLFxuICAgICAgICB2UGFyZW50IGFzIEVsZW1lbnRWTm9kZSB8IFZpcnR1YWxWTm9kZSxcbiAgICAgICAgKHZOZXdOb2RlID0gdlByb2plY3RlZE5vZGUpLFxuICAgICAgICB2Q3VycmVudCAmJiBnZXRJbnNlcnRCZWZvcmUoKVxuICAgICAgKTtcbiAgICAgICh2TmV3Tm9kZSBhcyBWaXJ0dWFsVk5vZGUpLnNldFByb3AoUVNsb3QsIHNsb3ROYW1lS2V5KTtcbiAgICAgIHZIb3N0ICYmICh2SG9zdCBhcyBWaXJ0dWFsVk5vZGUpLnNldFByb3Aoc2xvdE5hbWVLZXksIHZOZXdOb2RlKTtcbiAgICAgIGlzRGV2ICYmICh2TmV3Tm9kZSBhcyBWaXJ0dWFsVk5vZGUpLnNldFByb3AoREVCVUdfVFlQRSwgVmlydHVhbFR5cGUuUHJvamVjdGlvbik7XG4gICAgICBpc0RldiAmJiAodk5ld05vZGUgYXMgVmlydHVhbFZOb2RlKS5zZXRQcm9wKCdxOmNvZGUnLCAnZXhwZWN0U2xvdCcgKyBjb3VudCsrKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTbG90TmFtZUtleSh2SG9zdDogVk5vZGUgfCBudWxsKSB7XG4gICAgY29uc3QganN4Tm9kZSA9IGpzeFZhbHVlIGFzIEpTWE5vZGVJbnRlcm5hbDtcbiAgICBjb25zdCBjb25zdFByb3BzID0ganN4Tm9kZS5jb25zdFByb3BzO1xuICAgIGlmIChjb25zdFByb3BzICYmIHR5cGVvZiBjb25zdFByb3BzID09ICdvYmplY3QnICYmICduYW1lJyBpbiBjb25zdFByb3BzKSB7XG4gICAgICBjb25zdCBjb25zdFZhbHVlID0gY29uc3RQcm9wcy5uYW1lO1xuICAgICAgaWYgKHZIb3N0ICYmIGNvbnN0VmFsdWUgaW5zdGFuY2VvZiBXcmFwcGVkU2lnbmFsSW1wbCkge1xuICAgICAgICByZXR1cm4gdHJhY2tTaWduYWxBbmRBc3NpZ25Ib3N0KGNvbnN0VmFsdWUsIHZIb3N0LCBFZmZlY3RQcm9wZXJ0eS5DT01QT05FTlQsIGNvbnRhaW5lcik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkaXJlY3RHZXRQcm9wc1Byb3h5UHJvcChqc3hOb2RlLCAnbmFtZScpIHx8IFFEZWZhdWx0U2xvdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFudXBTaWRlQnVmZmVyKCkge1xuICAgIGlmICh2U2lkZUJ1ZmZlcikge1xuICAgICAgLy8gUmVtb3ZlIGFsbCBub2RlcyBpbiB0aGUgc2lkZSBidWZmZXIgYXMgdGhleSBhcmUgbm8gbG9uZ2VyIG5lZWRlZFxuICAgICAgZm9yIChjb25zdCB2Tm9kZSBvZiB2U2lkZUJ1ZmZlci52YWx1ZXMoKSkge1xuICAgICAgICBpZiAodk5vZGUuZmxhZ3MgJiBWTm9kZUZsYWdzLkRlbGV0ZWQpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjbGVhbnVwKGNvbnRhaW5lciwgdk5vZGUpO1xuICAgICAgICB2bm9kZV9yZW1vdmUoam91cm5hbCwgdlBhcmVudCwgdk5vZGUsIHRydWUpO1xuICAgICAgfVxuICAgICAgdlNpZGVCdWZmZXIuY2xlYXIoKTtcbiAgICAgIHZTaWRlQnVmZmVyID0gbnVsbDtcbiAgICB9XG4gICAgdkN1cnJlbnQgPSBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gZHJhaW5Bc3luY1F1ZXVlKCk6IFZhbHVlT3JQcm9taXNlPHZvaWQ+IHtcbiAgICB3aGlsZSAoYXN5bmNRdWV1ZS5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGpzeE5vZGUgPSBhc3luY1F1ZXVlLnNoaWZ0KCkgYXMgVmFsdWVPclByb21pc2U8SlNYQ2hpbGRyZW4+O1xuICAgICAgY29uc3Qgdkhvc3ROb2RlID0gYXN5bmNRdWV1ZS5zaGlmdCgpIGFzIFZOb2RlO1xuXG4gICAgICBpZiAoaXNQcm9taXNlKGpzeE5vZGUpKSB7XG4gICAgICAgIHJldHVybiBqc3hOb2RlXG4gICAgICAgICAgLnRoZW4oKGpzeE5vZGUpID0+IHtcbiAgICAgICAgICAgIGRpZmYoanN4Tm9kZSwgdkhvc3ROb2RlKTtcbiAgICAgICAgICAgIHJldHVybiBkcmFpbkFzeW5jUXVldWUoKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgY29udGFpbmVyLmhhbmRsZUVycm9yKGUsIHZIb3N0Tm9kZSk7XG4gICAgICAgICAgICByZXR1cm4gZHJhaW5Bc3luY1F1ZXVlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaWZmKGpzeE5vZGUsIHZIb3N0Tm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZXhwZWN0Tm9DaGlsZHJlbigpIHtcbiAgICBjb25zdCB2Rmlyc3RDaGlsZCA9IHZDdXJyZW50ICYmIHZub2RlX2dldEZpcnN0Q2hpbGQodkN1cnJlbnQpO1xuICAgIGlmICh2Rmlyc3RDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgbGV0IHZDaGlsZDogVk5vZGUgfCBudWxsID0gdkZpcnN0Q2hpbGQ7XG4gICAgICB3aGlsZSAodkNoaWxkKSB7XG4gICAgICAgIGNsZWFudXAoY29udGFpbmVyLCB2Q2hpbGQpO1xuICAgICAgICB2Q2hpbGQgPSB2Q2hpbGQubmV4dFNpYmxpbmcgYXMgVk5vZGUgfCBudWxsO1xuICAgICAgfVxuICAgICAgdm5vZGVfdHJ1bmNhdGUoam91cm5hbCwgdkN1cnJlbnQgYXMgRWxlbWVudFZOb2RlIHwgVmlydHVhbFZOb2RlLCB2Rmlyc3RDaGlsZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEV4cGVjdCBubyBtb3JlIG5vZGVzIC0gQW55IG5vZGVzIHdoaWNoIGFyZSBzdGlsbCBhdCBjdXJzb3IsIG5lZWQgdG8gYmUgcmVtb3ZlZC4gKi9cbiAgZnVuY3Rpb24gZXhwZWN0Tm9Nb3JlKCkge1xuICAgIGFzc2VydEZhbHNlKHZQYXJlbnQgPT09IHZDdXJyZW50LCBcIlBhcmVudCBhbmQgY3VycmVudCBjYW4ndCBiZSB0aGUgc2FtZVwiKTtcbiAgICBpZiAodkN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgIHdoaWxlICh2Q3VycmVudCkge1xuICAgICAgICBjb25zdCB0b1JlbW92ZSA9IHZDdXJyZW50O1xuICAgICAgICBhZHZhbmNlVG9OZXh0U2libGluZygpO1xuICAgICAgICBpZiAodlBhcmVudCA9PT0gdG9SZW1vdmUucGFyZW50KSB7XG4gICAgICAgICAgY2xlYW51cChjb250YWluZXIsIHRvUmVtb3ZlKTtcbiAgICAgICAgICAvLyBJZiB3ZSBhcmUgZGlmZmluZyBwcm9qZWN0aW9uIHRoYW4gdGhlIHBhcmVudCBpcyBub3QgdGhlIHBhcmVudCBvZiB0aGUgbm9kZS5cbiAgICAgICAgICAvLyBJZiB0aGF0IGlzIHRoZSBjYXNlIHdlIGRvbid0IHdhbnQgdG8gcmVtb3ZlIHRoZSBub2RlIGZyb20gdGhlIHBhcmVudC5cbiAgICAgICAgICB2bm9kZV9yZW1vdmUoam91cm5hbCwgdlBhcmVudCwgdG9SZW1vdmUsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZXhwZWN0Tm9Nb3JlVGV4dE5vZGVzKCkge1xuICAgIHdoaWxlICh2Q3VycmVudCAhPT0gbnVsbCAmJiB2bm9kZV9pc1RleHRWTm9kZSh2Q3VycmVudCkpIHtcbiAgICAgIGNsZWFudXAoY29udGFpbmVyLCB2Q3VycmVudCk7XG4gICAgICBjb25zdCB0b1JlbW92ZSA9IHZDdXJyZW50O1xuICAgICAgYWR2YW5jZVRvTmV4dFNpYmxpbmcoKTtcbiAgICAgIHZub2RlX3JlbW92ZShqb3VybmFsLCB2UGFyZW50LCB0b1JlbW92ZSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciBgcURpc3BhdGNoRXZlbnRgIG5lZWRzIHBhdGNoaW5nLiBUaGlzIGlzIHRydWUgd2hlbiBvbmUgb2YgdGhlIGBqc3hgIGFyZ3VtZW50J3NcbiAgICogY29uc3QgcHJvcHMgaGFzIHRoZSBuYW1lIG9mIGFuIGV2ZW50LlxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGZ1bmN0aW9uIGNyZWF0ZU5ld0VsZW1lbnQoXG4gICAganN4OiBKU1hOb2RlSW50ZXJuYWwsXG4gICAgZWxlbWVudE5hbWU6IHN0cmluZyxcbiAgICBjdXJyZW50RmlsZT86IHN0cmluZyB8IG51bGxcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgZWxlbWVudCA9IGNyZWF0ZUVsZW1lbnRXaXRoTmFtZXNwYWNlKGVsZW1lbnROYW1lKTtcblxuICAgIGZ1bmN0aW9uIHNldEF0dHJpYnV0ZShrZXk6IHN0cmluZywgdmFsdWU6IGFueSwgdkhvc3Q6IEVsZW1lbnRWTm9kZSkge1xuICAgICAgdmFsdWUgPSBzZXJpYWxpemVBdHRyaWJ1dGUoa2V5LCB2YWx1ZSwgc2NvcGVkU3R5bGVJZFByZWZpeCk7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBpZiAodkhvc3QuZmxhZ3MgJiBWTm9kZUZsYWdzLk5TX3N2Zykge1xuICAgICAgICAgIC8vIG9ubHkgc3ZnIGVsZW1lbnRzIGNhbiBoYXZlIG5hbWVzcGFjZSBhdHRyaWJ1dGVzXG4gICAgICAgICAgY29uc3QgbmFtZXNwYWNlID0gZ2V0QXR0cmlidXRlTmFtZXNwYWNlKGtleSk7XG4gICAgICAgICAgaWYgKG5hbWVzcGFjZSkge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGVOUyhuYW1lc3BhY2UsIGtleSwgU3RyaW5nKHZhbHVlKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgU3RyaW5nKHZhbHVlKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgeyBjb25zdFByb3BzIH0gPSBqc3g7XG4gICAgbGV0IG5lZWRzUURpc3BhdGNoRXZlbnRQYXRjaCA9IGZhbHNlO1xuICAgIGlmIChjb25zdFByb3BzKSB7XG4gICAgICAvLyBDb25zdCBwcm9wcyBhcmUsIHdlbGwsIGNvbnN0YW50LCB0aGV5IHdpbGwgbmV2ZXIgY2hhbmdlIVxuICAgICAgLy8gRm9yIHRoaXMgcmVhc29uIHdlIGNhbiBjaGVhdCBhbmQgd3JpdGUgdGhlbSBkaXJlY3RseSBpbnRvIHRoZSBET00uXG4gICAgICAvLyBXZSBuZXZlciB0ZWxsIHRoZSB2Tm9kZSBhYm91dCB0aGVtIHNhdmluZyB1cyB0aW1lIGFuZCBtZW1vcnkuXG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBjb25zdFByb3BzKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGNvbnN0UHJvcHNba2V5XTtcbiAgICAgICAgaWYgKGlzSHRtbEF0dHJpYnV0ZUFuRXZlbnROYW1lKGtleSkpIHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gZ2V0RXZlbnREYXRhRnJvbUh0bWxBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgY29uc3Qgc2NvcGUgPSBkYXRhWzBdO1xuICAgICAgICAgICAgY29uc3QgZXZlbnROYW1lID0gZGF0YVsxXTtcblxuICAgICAgICAgICAgaWYgKGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICB2TmV3Tm9kZSEuc2V0UHJvcChIQU5ETEVSX1BSRUZJWCArICc6JyArIHNjb3BlICsgJzonICsgZXZlbnROYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICAgIGlmIChzY29wZSkge1xuICAgICAgICAgICAgICAgIC8vIHdpbmRvdyBhbmQgZG9jdW1lbnQgbmVlZCBhdHRycyBzbyBxd2lrIGxvYWRlciBjYW4gZmluZCB0aGVtXG4gICAgICAgICAgICAgICAgdk5ld05vZGUhLnNldEF0dHIoa2V5LCAnJywgam91cm5hbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmVnaXN0ZXJRd2lrTG9hZGVyRXZlbnQoZXZlbnROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZWVkc1FEaXNwYXRjaEV2ZW50UGF0Y2ggPSB0cnVlO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ3JlZicpIHtcbiAgICAgICAgICBpZiAoaXNTaWduYWwodmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZS52YWx1ZSA9IGVsZW1lbnQ7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdmFsdWUoZWxlbWVudCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBxRXJyb3IoUUVycm9yLmludmFsaWRSZWZWYWx1ZSwgW2N1cnJlbnRGaWxlXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzU2lnbmFsKHZhbHVlKSkge1xuICAgICAgICAgIGNvbnN0IHZIb3N0ID0gdk5ld05vZGUgYXMgRWxlbWVudFZOb2RlO1xuICAgICAgICAgIGNvbnN0IHNpZ25hbCA9IHZhbHVlIGFzIFNpZ25hbDx1bmtub3duPjtcbiAgICAgICAgICB2YWx1ZSA9IHJldHJ5T25Qcm9taXNlKCgpID0+XG4gICAgICAgICAgICB0cmFja1NpZ25hbEFuZEFzc2lnbkhvc3Qoc2lnbmFsLCB2SG9zdCwga2V5LCBjb250YWluZXIsIENPTlNUX1NVQlNDUklQVElPTl9EQVRBKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNQcm9taXNlKHZhbHVlKSkge1xuICAgICAgICAgIGNvbnN0IHZIb3N0ID0gdk5ld05vZGUgYXMgRWxlbWVudFZOb2RlO1xuICAgICAgICAgIHZhbHVlLnRoZW4oKHJlc29sdmVkVmFsdWUpID0+IHNldEF0dHJpYnV0ZShrZXksIHJlc29sdmVkVmFsdWUsIHZIb3N0KSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoa2V5ID09PSBkYW5nZXJvdXNseVNldElubmVySFRNTCkge1xuICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoUUNvbnRhaW5lckF0dHIsIFFDb250YWluZXJWYWx1ZS5IVE1MKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWxlbWVudE5hbWUgPT09ICd0ZXh0YXJlYScgJiYga2V5ID09PSAndmFsdWUnKSB7XG4gICAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmIChpc0Rldikge1xuICAgICAgICAgICAgICB0aHJvdyBxRXJyb3IoUUVycm9yLndyb25nVGV4dGFyZWFWYWx1ZSwgW2N1cnJlbnRGaWxlLCB2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIChlbGVtZW50IGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQpLnZhbHVlID0gZXNjYXBlSFRNTCgodmFsdWUgYXMgc3RyaW5nKSB8fCAnJyk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSwgdk5ld05vZGUgYXMgRWxlbWVudFZOb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qga2V5ID0ganN4LmtleTtcbiAgICBpZiAoa2V5KSB7XG4gICAgICAodk5ld05vZGUgYXMgRWxlbWVudFZOb2RlKS5zZXRQcm9wKEVMRU1FTlRfS0VZLCBrZXkpO1xuICAgIH1cblxuICAgIC8vIGFwcGVuZCBjbGFzcyBhdHRyaWJ1dGUgaWYgc3R5bGVTY29wZWRJZCBleGlzdHMgYW5kIHRoZXJlIGlzIG5vIGNsYXNzIGF0dHJpYnV0ZVxuICAgIGlmIChzY29wZWRTdHlsZUlkUHJlZml4KSB7XG4gICAgICBjb25zdCBjbGFzc0F0dHJpYnV0ZUV4aXN0cyA9XG4gICAgICAgIGhhc0NsYXNzQXR0cihqc3gudmFyUHJvcHMpIHx8IChqc3guY29uc3RQcm9wcyAmJiBoYXNDbGFzc0F0dHIoanN4LmNvbnN0UHJvcHMpKTtcbiAgICAgIGlmICghY2xhc3NBdHRyaWJ1dGVFeGlzdHMpIHtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgc2NvcGVkU3R5bGVJZFByZWZpeCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdm5vZGVfaW5zZXJ0QmVmb3JlKGpvdXJuYWwsIHZQYXJlbnQgYXMgRWxlbWVudFZOb2RlLCB2TmV3Tm9kZSBhcyBFbGVtZW50Vk5vZGUsIHZDdXJyZW50KTtcblxuICAgIHJldHVybiBuZWVkc1FEaXNwYXRjaEV2ZW50UGF0Y2g7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50V2l0aE5hbWVzcGFjZShlbGVtZW50TmFtZTogc3RyaW5nKTogRWxlbWVudCB7XG4gICAgY29uc3QgZG9tUGFyZW50Vk5vZGUgPSB2bm9kZV9nZXREb21QYXJlbnRWTm9kZSh2UGFyZW50KTtcbiAgICBjb25zdCB7IGVsZW1lbnROYW1lc3BhY2UsIGVsZW1lbnROYW1lc3BhY2VGbGFnIH0gPSBnZXROZXdFbGVtZW50TmFtZXNwYWNlRGF0YShcbiAgICAgIGRvbVBhcmVudFZOb2RlLFxuICAgICAgZWxlbWVudE5hbWVcbiAgICApO1xuXG4gICAgY29uc3QgZWxlbWVudCA9IGNvbnRhaW5lci5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZWxlbWVudE5hbWVzcGFjZSwgZWxlbWVudE5hbWUpO1xuICAgIHZOZXdOb2RlID0gdm5vZGVfbmV3RWxlbWVudChlbGVtZW50LCBlbGVtZW50TmFtZSk7XG4gICAgdk5ld05vZGUuZmxhZ3MgfD0gZWxlbWVudE5hbWVzcGFjZUZsYWc7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICBmdW5jdGlvbiBleHBlY3RFbGVtZW50KGpzeDogSlNYTm9kZUludGVybmFsLCBlbGVtZW50TmFtZTogc3RyaW5nKSB7XG4gICAgY29uc3QgaXNTYW1lRWxlbWVudE5hbWUgPVxuICAgICAgdkN1cnJlbnQgJiYgdm5vZGVfaXNFbGVtZW50Vk5vZGUodkN1cnJlbnQpICYmIGVsZW1lbnROYW1lID09PSB2bm9kZV9nZXRFbGVtZW50TmFtZSh2Q3VycmVudCk7XG4gICAgY29uc3QganN4S2V5OiBzdHJpbmcgfCBudWxsID0ganN4LmtleTtcbiAgICBsZXQgbmVlZHNRRGlzcGF0Y2hFdmVudFBhdGNoID0gZmFsc2U7XG4gICAgY29uc3QgY3VycmVudEtleSA9IGdldEtleSh2Q3VycmVudCk7XG4gICAgaWYgKCFpc1NhbWVFbGVtZW50TmFtZSB8fCBqc3hLZXkgIT09IGN1cnJlbnRLZXkpIHtcbiAgICAgIGNvbnN0IHNpZGVCdWZmZXJLZXkgPSBnZXRTaWRlQnVmZmVyS2V5KGVsZW1lbnROYW1lLCBqc3hLZXkpO1xuICAgICAgY29uc3QgY3JlYXRlTmV3ID0gKCkgPT4gKG5lZWRzUURpc3BhdGNoRXZlbnRQYXRjaCA9IGNyZWF0ZU5ld0VsZW1lbnQoanN4LCBlbGVtZW50TmFtZSkpO1xuICAgICAgbW92ZU9yQ3JlYXRlS2V5ZWROb2RlKGVsZW1lbnROYW1lLCBqc3hLZXksIHNpZGVCdWZmZXJLZXksIHZQYXJlbnQgYXMgRWxlbWVudFZOb2RlLCBjcmVhdGVOZXcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkZWxldGUgdGhlIGtleSBmcm9tIHRoZSBzaWRlIGJ1ZmZlciBpZiBpdCBpcyB0aGUgc2FtZSBlbGVtZW50XG4gICAgICBkZWxldGVGcm9tU2lkZUJ1ZmZlcihlbGVtZW50TmFtZSwganN4S2V5KTtcbiAgICB9XG5cbiAgICAvLyByZWNvbmNpbGUgYXR0cmlidXRlc1xuXG4gICAgY29uc3QganN4QXR0cnMgPSBbXSBhcyBDbGllbnRBdHRycztcbiAgICBjb25zdCBwcm9wcyA9IGpzeC52YXJQcm9wcztcbiAgICBpZiAoanN4LnRvU29ydCkge1xuICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHByb3BzKS5zb3J0KCk7XG4gICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcHJvcHNba2V5XTtcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICBqc3hBdHRycy5wdXNoKGtleSwgdmFsdWUgYXMgYW55KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHByb3BzW2tleV07XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAganN4QXR0cnMucHVzaChrZXksIHZhbHVlIGFzIGFueSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGpzeEtleSAhPT0gbnVsbCkge1xuICAgICAgbWFwQXJyYXlfc2V0KGpzeEF0dHJzLCBFTEVNRU5UX0tFWSwganN4S2V5LCAwKTtcbiAgICB9XG4gICAgY29uc3Qgdk5vZGUgPSAodk5ld05vZGUgfHwgdkN1cnJlbnQpIGFzIEVsZW1lbnRWTm9kZTtcblxuICAgIGNvbnN0IGVsZW1lbnQgPSB2Tm9kZS5lbGVtZW50IGFzIFFFbGVtZW50O1xuICAgIGlmICghZWxlbWVudC52Tm9kZSkge1xuICAgICAgZWxlbWVudC52Tm9kZSA9IHZOb2RlO1xuICAgIH1cblxuICAgIG5lZWRzUURpc3BhdGNoRXZlbnRQYXRjaCA9XG4gICAgICBzZXRCdWxrUHJvcHModk5vZGUsIGpzeEF0dHJzLCAoaXNEZXYgJiYgZ2V0RmlsZUxvY2F0aW9uRnJvbUpzeChqc3guZGV2KSkgfHwgbnVsbCkgfHxcbiAgICAgIG5lZWRzUURpc3BhdGNoRXZlbnRQYXRjaDtcbiAgICBpZiAobmVlZHNRRGlzcGF0Y2hFdmVudFBhdGNoKSB7XG4gICAgICAvLyBFdmVudCBoYW5kbGVyIG5lZWRzIHRvIGJlIHBhdGNoZWQgb250byB0aGUgZWxlbWVudC5cbiAgICAgIGlmICghZWxlbWVudC5xRGlzcGF0Y2hFdmVudCkge1xuICAgICAgICBlbGVtZW50LnFEaXNwYXRjaEV2ZW50ID0gKGV2ZW50OiBFdmVudCwgc2NvcGU6IFF3aWtMb2FkZXJFdmVudFNjb3BlKSA9PiB7XG4gICAgICAgICAgY29uc3QgZXZlbnROYW1lID0gZnJvbUNhbWVsVG9LZWJhYkNhc2UoZXZlbnQudHlwZSk7XG4gICAgICAgICAgY29uc3QgZXZlbnRQcm9wID0gJzonICsgc2NvcGUuc3Vic3RyaW5nKDEpICsgJzonICsgZXZlbnROYW1lO1xuICAgICAgICAgIGNvbnN0IHFybHMgPSBbXG4gICAgICAgICAgICB2Tm9kZS5nZXRQcm9wPFFSTD4oZXZlbnRQcm9wLCBudWxsKSxcbiAgICAgICAgICAgIHZOb2RlLmdldFByb3A8UVJMPihIQU5ETEVSX1BSRUZJWCArIGV2ZW50UHJvcCwgbnVsbCksXG4gICAgICAgICAgXTtcbiAgICAgICAgICBsZXQgcmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICBxcmxzLmZsYXQoMikuZm9yRWFjaCgocXJsKSA9PiB7XG4gICAgICAgICAgICBpZiAocXJsKSB7XG4gICAgICAgICAgICAgIGlmIChpc1N5bmNRcmwocXJsKSkge1xuICAgICAgICAgICAgICAgIHFybChldmVudCwgZWxlbWVudCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjb250YWluZXIuJHNjaGVkdWxlciQoXG4gICAgICAgICAgICAgICAgICBDaG9yZVR5cGUuUlVOX1FSTCxcbiAgICAgICAgICAgICAgICAgIHZOb2RlLFxuICAgICAgICAgICAgICAgICAgcXJsIGFzIFFSTEludGVybmFsPCguLi5hcmdzOiB1bmtub3duW10pID0+IHVua25vd24+LFxuICAgICAgICAgICAgICAgICAgW2V2ZW50LCBlbGVtZW50XVxuICAgICAgICAgICAgICAgICkgYXMgdW5rbm93bjtcbiAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHJldHVyblZhbHVlIHx8IHZhbHVlID09PSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKiBAcmV0dXJucyBUcnVlIGlmIGBxRGlzcGF0Y2hFdmVudGAgbmVlZHMgcGF0Y2hpbmcgKi9cbiAgZnVuY3Rpb24gc2V0QnVsa1Byb3BzKFxuICAgIHZub2RlOiBFbGVtZW50Vk5vZGUsXG4gICAgc3JjQXR0cnM6IENsaWVudEF0dHJzLFxuICAgIGN1cnJlbnRGaWxlOiBzdHJpbmcgfCBudWxsXG4gICk6IGJvb2xlYW4ge1xuICAgIHZub2RlX2Vuc3VyZUVsZW1lbnRJbmZsYXRlZCh2bm9kZSk7XG4gICAgY29uc3QgZHN0QXR0cnMgPSB2bm9kZV9nZXRQcm9wcyh2bm9kZSkgYXMgQ2xpZW50QXR0cnM7XG4gICAgbGV0IHNyY0lkeCA9IDA7XG4gICAgbGV0IGRzdElkeCA9IDA7XG4gICAgbGV0IHBhdGNoRXZlbnREaXNwYXRjaCA9IGZhbHNlO1xuXG4gICAgY29uc3Qgc2V0QXR0cmlidXRlID0gKGtleTogc3RyaW5nLCB2YWx1ZTogYW55LCB2SG9zdDogRWxlbWVudFZOb2RlKSA9PiB7XG4gICAgICB2SG9zdC5zZXRBdHRyKFxuICAgICAgICBrZXksXG4gICAgICAgIHZhbHVlICE9PSBudWxsID8gc2VyaWFsaXplQXR0cmlidXRlKGtleSwgdmFsdWUsIHNjb3BlZFN0eWxlSWRQcmVmaXgpIDogbnVsbCxcbiAgICAgICAgam91cm5hbFxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVjb3JkID0gKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSA9PiB7XG4gICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJzonKSkge1xuICAgICAgICB2bm9kZS5zZXRQcm9wKGtleSwgdmFsdWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChrZXkgPT09ICdyZWYnKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB2bm9kZS5lbGVtZW50O1xuICAgICAgICBpZiAoaXNTaWduYWwodmFsdWUpKSB7XG4gICAgICAgICAgdmFsdWUudmFsdWUgPSBlbGVtZW50O1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB2YWx1ZShlbGVtZW50KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGFuZGxpbmcgbnVsbCB2YWx1ZSBpcyBub3QgbmVlZGVkIGhlcmUsIGJlY2F1c2Ugd2UgYXJlIGZpbHRlcmluZyBudWxsIHZhbHVlcyBlYXJsaWVyXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRocm93IHFFcnJvcihRRXJyb3IuaW52YWxpZFJlZlZhbHVlLCBbY3VycmVudEZpbGVdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBjdXJyZW50RWZmZWN0ID0gdm5vZGVbX0VGRkVDVF9CQUNLX1JFRl0/LmdldChrZXkpO1xuICAgICAgaWYgKGlzU2lnbmFsKHZhbHVlKSkge1xuICAgICAgICBjb25zdCB1bndyYXBwZWRTaWduYWwgPVxuICAgICAgICAgIHZhbHVlIGluc3RhbmNlb2YgV3JhcHBlZFNpZ25hbEltcGwgPyB2YWx1ZS4kdW53cmFwSWZTaWduYWwkKCkgOiB2YWx1ZTtcbiAgICAgICAgY29uc3QgY3VycmVudFNpZ25hbCA9IGN1cnJlbnRFZmZlY3Q/LltFZmZlY3RTdWJzY3JpcHRpb25Qcm9wLkNPTlNVTUVSXTtcbiAgICAgICAgaWYgKGN1cnJlbnRTaWduYWwgPT09IHVud3JhcHBlZFNpZ25hbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VycmVudEVmZmVjdCkge1xuICAgICAgICAgIC8vIENsZWFyIGN1cnJlbnQgZWZmZWN0IHN1YnNjcmlwdGlvbiBpZiBpdCBleGlzdHNcbiAgICAgICAgICAvLyBPbmx5IGlmIHdlIHdhbnQgdG8gdHJhY2sgdGhlIHNpZ25hbCBhZ2FpblxuICAgICAgICAgIGNsZWFyRWZmZWN0U3Vic2NyaXB0aW9uKGNvbnRhaW5lciwgY3VycmVudEVmZmVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2SG9zdCA9IHZub2RlIGFzIEVsZW1lbnRWTm9kZTtcbiAgICAgICAgdmFsdWUgPSByZXRyeU9uUHJvbWlzZSgoKSA9PlxuICAgICAgICAgIHRyYWNrU2lnbmFsQW5kQXNzaWduSG9zdChcbiAgICAgICAgICAgIHVud3JhcHBlZFNpZ25hbCxcbiAgICAgICAgICAgIHZIb3N0LFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgTk9OX0NPTlNUX1NVQlNDUklQVElPTl9EQVRBXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGN1cnJlbnRFZmZlY3QpIHtcbiAgICAgICAgICAvLyBDbGVhciBjdXJyZW50IGVmZmVjdCBzdWJzY3JpcHRpb24gaWYgaXQgZXhpc3RzXG4gICAgICAgICAgLy8gYW5kIHRoZSB2YWx1ZSBpcyBub3QgYSBzaWduYWxcbiAgICAgICAgICAvLyBJdCBtZWFucyB0aGF0IHRoZSBwcmV2aW91cyB2YWx1ZSB3YXMgYSBzaWduYWwgYW5kIHdlIG5lZWQgdG8gY2xlYXIgdGhlIGVmZmVjdCBzdWJzY3JpcHRpb25cbiAgICAgICAgICBjbGVhckVmZmVjdFN1YnNjcmlwdGlvbihjb250YWluZXIsIGN1cnJlbnRFZmZlY3QpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1Byb21pc2UodmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHZIb3N0ID0gdm5vZGUgYXMgRWxlbWVudFZOb2RlO1xuICAgICAgICB2YWx1ZS50aGVuKChyZXNvbHZlZFZhbHVlKSA9PiBzZXRBdHRyaWJ1dGUoa2V5LCByZXNvbHZlZFZhbHVlLCB2SG9zdCkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNldEF0dHJpYnV0ZShrZXksIHZhbHVlLCB2bm9kZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlY29yZEpzeEV2ZW50ID0gKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gZ2V0RXZlbnREYXRhRnJvbUh0bWxBdHRyaWJ1dGUoa2V5KTtcbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIGNvbnN0IFtzY29wZSwgZXZlbnROYW1lXSA9IGRhdGE7XG4gICAgICAgIHJlY29yZCgnOicgKyBzY29wZSArICc6JyArIGV2ZW50TmFtZSwgdmFsdWUpO1xuICAgICAgICAvLyByZWdpc3RlciBhbiBldmVudCBmb3IgcXdpayBsb2FkZXJcbiAgICAgICAgcmVnaXN0ZXJRd2lrTG9hZGVyRXZlbnQoZXZlbnROYW1lKTtcbiAgICAgICAgcGF0Y2hFdmVudERpc3BhdGNoID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gVHdvLXBvaW50ZXIgbWVyZ2UgYWxnb3JpdGhtOiBib3RoIGFycmF5cyBhcmUgc29ydGVkIGJ5IGtleVxuICAgIC8vIE5vdGU6IGRzdEF0dHJzIG11dGF0ZXMgZHVyaW5nIGl0ZXJhdGlvbiAoc2V0QXR0ciB1c2VzIHNwbGljZSksIHNvIHdlIHJlLXJlYWQga2V5cyBlYWNoIGl0ZXJhdGlvblxuICAgIHdoaWxlIChzcmNJZHggPCBzcmNBdHRycy5sZW5ndGggfHwgZHN0SWR4IDwgZHN0QXR0cnMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBzcmNLZXkgPSBzcmNJZHggPCBzcmNBdHRycy5sZW5ndGggPyAoc3JjQXR0cnNbc3JjSWR4XSBhcyBzdHJpbmcpIDogdW5kZWZpbmVkO1xuICAgICAgY29uc3QgZHN0S2V5ID0gZHN0SWR4IDwgZHN0QXR0cnMubGVuZ3RoID8gKGRzdEF0dHJzW2RzdElkeF0gYXMgc3RyaW5nKSA6IHVuZGVmaW5lZDtcblxuICAgICAgLy8gU2tpcCBzcGVjaWFsIGtleXMgaW4gZGVzdGluYXRpb24gKEhBTkRMRVJfUFJFRklYLCBRX1BSRUZJWClcbiAgICAgIGlmIChkc3RLZXk/LnN0YXJ0c1dpdGgoSEFORExFUl9QUkVGSVgpIHx8IGRzdEtleT8uc3RhcnRzV2l0aChRX1BSRUZJWCkpIHtcbiAgICAgICAgZHN0SWR4ICs9IDI7IC8vIHNraXAga2V5IGFuZCB2YWx1ZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNyY0tleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIFNvdXJjZSBleGhhdXN0ZWQ6IHJlbW92ZSByZW1haW5pbmcgZGVzdGluYXRpb24ga2V5c1xuICAgICAgICBpZiAoaXNIdG1sQXR0cmlidXRlQW5FdmVudE5hbWUoZHN0S2V5ISkpIHtcbiAgICAgICAgICAvLyBIVE1MIGV2ZW50IGF0dHJpYnV0ZXMgYXJlIGltbXV0YWJsZSBhbmQgbm90IHJlbW92ZWQgZnJvbSBET01cbiAgICAgICAgICBkc3RJZHggKz0gMjsgLy8gc2tpcCBrZXkgYW5kIHZhbHVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVjb3JkKGRzdEtleSEsIG51bGwpO1xuICAgICAgICAgIC8vIEFmdGVyIHJlbW92YWwsIGRzdEF0dHJzIHNocmlua3MgYnkgMiwgc28gZG9uJ3QgYWR2YW5jZSBkc3RJZHhcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChkc3RLZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBEZXN0aW5hdGlvbiBleGhhdXN0ZWQ6IGFkZCByZW1haW5pbmcgc291cmNlIGtleXNcbiAgICAgICAgY29uc3Qgc3JjVmFsdWUgPSBzcmNBdHRyc1tzcmNJZHggKyAxXTtcbiAgICAgICAgaWYgKGlzSHRtbEF0dHJpYnV0ZUFuRXZlbnROYW1lKHNyY0tleSkpIHtcbiAgICAgICAgICByZWNvcmRKc3hFdmVudChzcmNLZXksIHNyY1ZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWNvcmQoc3JjS2V5LCBzcmNWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgc3JjSWR4ICs9IDI7IC8vIHNraXAga2V5IGFuZCB2YWx1ZVxuICAgICAgICAvLyBBZnRlciBhZGRpdGlvbiwgZHN0QXR0cnMgZ3Jvd3MgYnkgMiBhdCBzb3J0ZWQgcG9zaXRpb24sIGFkdmFuY2UgZHN0SWR4XG4gICAgICAgIGRzdElkeCArPSAyO1xuICAgICAgfSBlbHNlIGlmIChzcmNLZXkgPT09IGRzdEtleSkge1xuICAgICAgICAvLyBLZXlzIG1hdGNoOiB1cGRhdGUgaWYgdmFsdWVzIGRpZmZlclxuICAgICAgICBjb25zdCBzcmNWYWx1ZSA9IHNyY0F0dHJzW3NyY0lkeCArIDFdO1xuICAgICAgICBjb25zdCBkc3RWYWx1ZSA9IGRzdEF0dHJzW2RzdElkeCArIDFdO1xuICAgICAgICBjb25zdCBpc0V2ZW50SGFuZGxlciA9IGlzSHRtbEF0dHJpYnV0ZUFuRXZlbnROYW1lKHNyY0tleSk7XG4gICAgICAgIGlmIChzcmNWYWx1ZSAhPT0gZHN0VmFsdWUpIHtcbiAgICAgICAgICBpZiAoaXNFdmVudEhhbmRsZXIpIHtcbiAgICAgICAgICAgIHJlY29yZEpzeEV2ZW50KHNyY0tleSwgc3JjVmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWNvcmQoc3JjS2V5LCBzcmNWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlzRXZlbnRIYW5kbGVyICYmICF2bm9kZS5lbGVtZW50LnFEaXNwYXRjaEV2ZW50KSB7XG4gICAgICAgICAgLy8gU3BlY2lhbCBjYXNlOiBhZGQgZXZlbnQgaGFuZGxlcnMgYWZ0ZXIgcmVzdW1lXG4gICAgICAgICAgcmVjb3JkSnN4RXZlbnQoc3JjS2V5LCBzcmNWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIGluIHBsYWNlIGRvZXNuJ3QgY2hhbmdlIGFycmF5IGxlbmd0aFxuICAgICAgICBzcmNJZHggKz0gMjsgLy8gc2tpcCBrZXkgYW5kIHZhbHVlXG4gICAgICAgIGRzdElkeCArPSAyOyAvLyBza2lwIGtleSBhbmQgdmFsdWVcbiAgICAgIH0gZWxzZSBpZiAoc3JjS2V5IDwgZHN0S2V5KSB7XG4gICAgICAgIC8vIFNvdXJjZSBoYXMgYSBrZXkgbm90IGluIGRlc3RpbmF0aW9uOiBhZGQgaXRcbiAgICAgICAgY29uc3Qgc3JjVmFsdWUgPSBzcmNBdHRyc1tzcmNJZHggKyAxXTtcbiAgICAgICAgaWYgKGlzSHRtbEF0dHJpYnV0ZUFuRXZlbnROYW1lKHNyY0tleSkpIHtcbiAgICAgICAgICByZWNvcmRKc3hFdmVudChzcmNLZXksIHNyY1ZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWNvcmQoc3JjS2V5LCBzcmNWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgc3JjSWR4ICs9IDI7IC8vIHNraXAga2V5IGFuZCB2YWx1ZVxuICAgICAgICAvLyBBZnRlciBhZGRpdGlvbiwgZHN0QXR0cnMgZ3Jvd3MgYXQgc29ydGVkIHBvc2l0aW9uIChiZWZvcmUgZHN0SWR4KSwgYWR2YW5jZSBkc3RJZHhcbiAgICAgICAgZHN0SWR4ICs9IDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBEZXN0aW5hdGlvbiBoYXMgYSBrZXkgbm90IGluIHNvdXJjZTogcmVtb3ZlIGl0IChkc3RLZXkgPiBzcmNLZXkpXG4gICAgICAgIGlmIChpc0h0bWxBdHRyaWJ1dGVBbkV2ZW50TmFtZShkc3RLZXkpKSB7XG4gICAgICAgICAgLy8gSFRNTCBldmVudCBhdHRyaWJ1dGVzIGFyZSBpbW11dGFibGUgYW5kIG5vdCByZW1vdmVkIGZyb20gRE9NXG4gICAgICAgICAgZHN0SWR4ICs9IDI7IC8vIHNraXAga2V5IGFuZCB2YWx1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlY29yZChkc3RLZXksIG51bGwpO1xuICAgICAgICAgIC8vIEFmdGVyIHJlbW92YWwsIGRzdEF0dHJzIHNocmlua3MgYXQgZHN0SWR4LCBzbyBkb24ndCBhZHZhbmNlIGRzdElkeFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXRjaEV2ZW50RGlzcGF0Y2g7XG4gIH1cblxuICBmdW5jdGlvbiByZWdpc3RlclF3aWtMb2FkZXJFdmVudChldmVudE5hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IHdpbmRvdyA9IGNvbnRhaW5lci5kb2N1bWVudC5kZWZhdWx0VmlldyBhcyBxV2luZG93IHwgbnVsbDtcbiAgICBpZiAod2luZG93KSB7XG4gICAgICAod2luZG93LnF3aWtldmVudHMgfHw9IFtdIGFzIGFueSkucHVzaChldmVudE5hbWUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJldHJpZXZlQ2hpbGRXaXRoS2V5KFxuICAgIG5vZGVOYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIGtleTogc3RyaW5nIHwgbnVsbFxuICApOiBFbGVtZW50Vk5vZGUgfCBWaXJ0dWFsVk5vZGUgfCBudWxsIHtcbiAgICBsZXQgdk5vZGVXaXRoS2V5OiBFbGVtZW50Vk5vZGUgfCBWaXJ0dWFsVk5vZGUgfCBudWxsID0gbnVsbDtcbiAgICBpZiAodlNpYmxpbmdzID09PSBudWxsKSB7XG4gICAgICAvLyBpdCBpcyBub3QgbWF0ZXJpYWxpemVkOyBzbyBtYXRlcmlhbGl6ZSBpdC5cbiAgICAgIHZTaWJsaW5ncyA9IG5ldyBNYXA8c3RyaW5nLCBWTm9kZT4oKTtcbiAgICAgIHZTaWJsaW5nc0FycmF5ID0gW107XG4gICAgICBsZXQgdk5vZGUgPSB2Q3VycmVudDtcbiAgICAgIHdoaWxlICh2Tm9kZSkge1xuICAgICAgICBjb25zdCBuYW1lID0gdm5vZGVfaXNFbGVtZW50Vk5vZGUodk5vZGUpID8gdm5vZGVfZ2V0RWxlbWVudE5hbWUodk5vZGUpIDogbnVsbDtcbiAgICAgICAgY29uc3QgdktleSA9IGdldEtleSh2Tm9kZSkgfHwgZ2V0Q29tcG9uZW50SGFzaCh2Tm9kZSwgY29udGFpbmVyLiRnZXRPYmplY3RCeUlkJCk7XG4gICAgICAgIGlmICh2Tm9kZVdpdGhLZXkgPT09IG51bGwgJiYgdktleSA9PSBrZXkgJiYgbmFtZSA9PSBub2RlTmFtZSkge1xuICAgICAgICAgIHZOb2RlV2l0aEtleSA9IHZOb2RlIGFzIEVsZW1lbnRWTm9kZSB8IFZpcnR1YWxWTm9kZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodktleSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdlNpYmxpbmdzQXJyYXkucHVzaChuYW1lLCB2Tm9kZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHdlIG9ubHkgYWRkIHRoZSBlbGVtZW50cyB3aGljaCB3ZSBkaWQgbm90IGZpbmQgeWV0LlxuICAgICAgICAgICAgdlNpYmxpbmdzLnNldChnZXRTaWRlQnVmZmVyS2V5KG5hbWUsIHZLZXkpLCB2Tm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZOb2RlID0gdk5vZGUubmV4dFNpYmxpbmcgYXMgVk5vZGUgfCBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoa2V5ID09PSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdlNpYmxpbmdzQXJyYXkhLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgaWYgKHZTaWJsaW5nc0FycmF5IVtpXSA9PT0gbm9kZU5hbWUpIHtcbiAgICAgICAgICAgIHZOb2RlV2l0aEtleSA9IHZTaWJsaW5nc0FycmF5IVtpICsgMV0gYXMgRWxlbWVudFZOb2RlIHwgVmlydHVhbFZOb2RlO1xuICAgICAgICAgICAgdlNpYmxpbmdzQXJyYXkhLnNwbGljZShpLCAyKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc2libGluZ3NLZXkgPSBnZXRTaWRlQnVmZmVyS2V5KG5vZGVOYW1lLCBrZXkpO1xuICAgICAgICBpZiAodlNpYmxpbmdzLmhhcyhzaWJsaW5nc0tleSkpIHtcbiAgICAgICAgICB2Tm9kZVdpdGhLZXkgPSB2U2libGluZ3MuZ2V0KHNpYmxpbmdzS2V5KSBhcyBFbGVtZW50Vk5vZGUgfCBWaXJ0dWFsVk5vZGU7XG4gICAgICAgICAgdlNpYmxpbmdzLmRlbGV0ZShzaWJsaW5nc0tleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb2xsZWN0U2lkZUJ1ZmZlclNpYmxpbmdzKHZOb2RlV2l0aEtleSk7XG5cbiAgICByZXR1cm4gdk5vZGVXaXRoS2V5O1xuICB9XG5cbiAgZnVuY3Rpb24gY29sbGVjdFNpZGVCdWZmZXJTaWJsaW5ncyh0YXJnZXROb2RlOiBWTm9kZSB8IG51bGwpOiB2b2lkIHtcbiAgICBpZiAoIXRhcmdldE5vZGUpIHtcbiAgICAgIGlmICh2Q3VycmVudCkge1xuICAgICAgICBjb25zdCBuYW1lID0gdm5vZGVfaXNFbGVtZW50Vk5vZGUodkN1cnJlbnQpID8gdm5vZGVfZ2V0RWxlbWVudE5hbWUodkN1cnJlbnQpIDogbnVsbDtcbiAgICAgICAgY29uc3QgdktleSA9IGdldEtleSh2Q3VycmVudCkgfHwgZ2V0Q29tcG9uZW50SGFzaCh2Q3VycmVudCwgY29udGFpbmVyLiRnZXRPYmplY3RCeUlkJCk7XG4gICAgICAgIGlmICh2S2V5ICE9IG51bGwpIHtcbiAgICAgICAgICBjb25zdCBzaWRlQnVmZmVyS2V5ID0gZ2V0U2lkZUJ1ZmZlcktleShuYW1lLCB2S2V5KTtcbiAgICAgICAgICB2U2lkZUJ1ZmZlciB8fD0gbmV3IE1hcCgpO1xuICAgICAgICAgIHZTaWRlQnVmZmVyLnNldChzaWRlQnVmZmVyS2V5LCB2Q3VycmVudCk7XG4gICAgICAgICAgdlNpYmxpbmdzPy5kZWxldGUoc2lkZUJ1ZmZlcktleSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFdhbGsgZnJvbSB2Q3VycmVudCB1cCB0byB0aGUgdGFyZ2V0IG5vZGUgYW5kIGNvbGxlY3QgYWxsIGtleWVkIHNpYmxpbmdzXG4gICAgbGV0IHZOb2RlID0gdkN1cnJlbnQ7XG4gICAgd2hpbGUgKHZOb2RlICYmIHZOb2RlICE9PSB0YXJnZXROb2RlKSB7XG4gICAgICBjb25zdCBuYW1lID0gdm5vZGVfaXNFbGVtZW50Vk5vZGUodk5vZGUpID8gdm5vZGVfZ2V0RWxlbWVudE5hbWUodk5vZGUpIDogbnVsbDtcbiAgICAgIGNvbnN0IHZLZXkgPSBnZXRLZXkodk5vZGUpIHx8IGdldENvbXBvbmVudEhhc2godk5vZGUsIGNvbnRhaW5lci4kZ2V0T2JqZWN0QnlJZCQpO1xuXG4gICAgICBpZiAodktleSAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHNpZGVCdWZmZXJLZXkgPSBnZXRTaWRlQnVmZmVyS2V5KG5hbWUsIHZLZXkpO1xuICAgICAgICB2U2lkZUJ1ZmZlciB8fD0gbmV3IE1hcCgpO1xuICAgICAgICB2U2lkZUJ1ZmZlci5zZXQoc2lkZUJ1ZmZlcktleSwgdk5vZGUpO1xuICAgICAgICB2U2libGluZ3M/LmRlbGV0ZShzaWRlQnVmZmVyS2V5KTtcbiAgICAgIH1cblxuICAgICAgdk5vZGUgPSB2Tm9kZS5uZXh0U2libGluZyBhcyBWTm9kZSB8IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2lkZUJ1ZmZlcktleShub2RlTmFtZTogc3RyaW5nIHwgbnVsbCwga2V5OiBzdHJpbmcpOiBzdHJpbmc7XG4gIGZ1bmN0aW9uIGdldFNpZGVCdWZmZXJLZXkobm9kZU5hbWU6IHN0cmluZyB8IG51bGwsIGtleTogc3RyaW5nIHwgbnVsbCk6IHN0cmluZyB8IG51bGw7XG4gIGZ1bmN0aW9uIGdldFNpZGVCdWZmZXJLZXkobm9kZU5hbWU6IHN0cmluZyB8IG51bGwsIGtleTogc3RyaW5nIHwgbnVsbCk6IHN0cmluZyB8IG51bGwge1xuICAgIGlmIChrZXkgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBub2RlTmFtZSA/IG5vZGVOYW1lICsgJzonICsga2V5IDoga2V5O1xuICB9XG5cbiAgZnVuY3Rpb24gZGVsZXRlRnJvbVNpZGVCdWZmZXIobm9kZU5hbWU6IHN0cmluZyB8IG51bGwsIGtleTogc3RyaW5nIHwgbnVsbCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHNiS2V5ID0gZ2V0U2lkZUJ1ZmZlcktleShub2RlTmFtZSwga2V5KTtcbiAgICBpZiAoc2JLZXkgJiYgdlNpZGVCdWZmZXI/LmhhcyhzYktleSkpIHtcbiAgICAgIHZTaWRlQnVmZmVyLmRlbGV0ZShzYktleSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNoYXJlZCB1dGlsaXR5IHRvIHJlc29sdmUgYSBrZXllZCBub2RlIGJ5OlxuICAgKlxuICAgKiAxLiBTY2FubmluZyBmb3J3YXJkIHNpYmxpbmdzIHZpYSBgcmV0cmlldmVDaGlsZFdpdGhLZXlgXG4gICAqIDIuIEZhbGxpbmcgYmFjayB0byB0aGUgc2lkZSBidWZmZXIgdXNpbmcgdGhlIHByb3ZpZGVkIGBzaWRlQnVmZmVyS2V5YFxuICAgKiAzLiBDcmVhdGluZyBhIG5ldyBub2RlIHZpYSBgY3JlYXRlTmV3YCB3aGVuIG5vdCBmb3VuZFxuICAgKlxuICAgKiBJZiBhIG5vZGUgaXMgbW92ZWQgZnJvbSB0aGUgc2lkZSBidWZmZXIsIGl0IGlzIGluc2VydGVkIGJlZm9yZSBgdkN1cnJlbnRgIHVuZGVyXG4gICAqIGBwYXJlbnRGb3JJbnNlcnRgLiBUaGUgZnVuY3Rpb24gdXBkYXRlcyBgdkN1cnJlbnRgL2B2TmV3Tm9kZWAgYWNjb3JkaW5nbHkgYW5kIHJldHVybnMgdGhlIHZhbHVlXG4gICAqIGZyb20gYGNyZWF0ZU5ld2Agd2hlbiBhIG5ldyBub2RlIGlzIGNyZWF0ZWQuXG4gICAqL1xuICBmdW5jdGlvbiBtb3ZlT3JDcmVhdGVLZXllZE5vZGUoXG4gICAgbm9kZU5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgbG9va3VwS2V5OiBzdHJpbmcgfCBudWxsLFxuICAgIHNpZGVCdWZmZXJLZXk6IHN0cmluZyB8IG51bGwsXG4gICAgcGFyZW50Rm9ySW5zZXJ0OiBWTm9kZSxcbiAgICBjcmVhdGVOZXc6ICgpID0+IGFueSxcbiAgICBhZGRDdXJyZW50VG9TaWRlQnVmZmVyT25TaWRlSW5zZXJ0PzogYm9vbGVhblxuICApOiBhbnkge1xuICAgIC8vIDEpIFRyeSB0byBmaW5kIHRoZSBub2RlIGFtb25nIHVwY29taW5nIHNpYmxpbmdzXG4gICAgdk5ld05vZGUgPSByZXRyaWV2ZUNoaWxkV2l0aEtleShub2RlTmFtZSwgbG9va3VwS2V5KTtcblxuICAgIGlmICh2TmV3Tm9kZSkge1xuICAgICAgdkN1cnJlbnQgPSB2TmV3Tm9kZTtcbiAgICAgIHZOZXdOb2RlID0gbnVsbDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyAyKSBUcnkgc2lkZSBidWZmZXJcbiAgICBpZiAoc2lkZUJ1ZmZlcktleSAhPSBudWxsKSB7XG4gICAgICBjb25zdCBidWZmZXJlZCA9IHZTaWRlQnVmZmVyPy5nZXQoc2lkZUJ1ZmZlcktleSkgfHwgbnVsbDtcbiAgICAgIGlmIChidWZmZXJlZCkge1xuICAgICAgICB2U2lkZUJ1ZmZlciEuZGVsZXRlKHNpZGVCdWZmZXJLZXkpO1xuICAgICAgICBpZiAoYWRkQ3VycmVudFRvU2lkZUJ1ZmZlck9uU2lkZUluc2VydCAmJiB2Q3VycmVudCkge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRLZXkgPVxuICAgICAgICAgICAgZ2V0S2V5KHZDdXJyZW50KSB8fCBnZXRDb21wb25lbnRIYXNoKHZDdXJyZW50LCBjb250YWluZXIuJGdldE9iamVjdEJ5SWQkKTtcbiAgICAgICAgICBpZiAoY3VycmVudEtleSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50TmFtZSA9IHZub2RlX2lzRWxlbWVudFZOb2RlKHZDdXJyZW50KVxuICAgICAgICAgICAgICA/IHZub2RlX2dldEVsZW1lbnROYW1lKHZDdXJyZW50KVxuICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2lkZUtleSA9IGdldFNpZGVCdWZmZXJLZXkoY3VycmVudE5hbWUsIGN1cnJlbnRLZXkpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRTaWRlS2V5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgdlNpZGVCdWZmZXIgfHw9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgICAgdlNpZGVCdWZmZXIuc2V0KGN1cnJlbnRTaWRlS2V5LCB2Q3VycmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZub2RlX2luc2VydEJlZm9yZShqb3VybmFsLCBwYXJlbnRGb3JJbnNlcnQgYXMgYW55LCBidWZmZXJlZCwgdkN1cnJlbnQpO1xuICAgICAgICB2Q3VycmVudCA9IGJ1ZmZlcmVkO1xuICAgICAgICB2TmV3Tm9kZSA9IG51bGw7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAzKSBDcmVhdGUgbmV3XG4gICAgcmV0dXJuIGNyZWF0ZU5ldygpO1xuICB9XG5cbiAgZnVuY3Rpb24gZXhwZWN0VmlydHVhbCh0eXBlOiBWaXJ0dWFsVHlwZSwganN4S2V5OiBzdHJpbmcgfCBudWxsKSB7XG4gICAgY29uc3QgY2hlY2tLZXkgPSB0eXBlID09PSBWaXJ0dWFsVHlwZS5GcmFnbWVudDtcbiAgICBjb25zdCBjdXJyZW50S2V5ID0gZ2V0S2V5KHZDdXJyZW50KTtcbiAgICBjb25zdCBjdXJyZW50SXNWaXJ0dWFsID0gdkN1cnJlbnQgJiYgdm5vZGVfaXNWaXJ0dWFsVk5vZGUodkN1cnJlbnQpO1xuICAgIGNvbnN0IGlzU2FtZU5vZGUgPSBjdXJyZW50SXNWaXJ0dWFsICYmIGN1cnJlbnRLZXkgPT09IGpzeEtleSAmJiAoY2hlY2tLZXkgPyAhIWpzeEtleSA6IHRydWUpO1xuXG4gICAgaWYgKGlzU2FtZU5vZGUpIHtcbiAgICAgIC8vIEFsbCBpcyBnb29kLlxuICAgICAgZGVsZXRlRnJvbVNpZGVCdWZmZXIobnVsbCwgY3VycmVudEtleSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY3JlYXRlTmV3ID0gKCkgPT4ge1xuICAgICAgdm5vZGVfaW5zZXJ0QmVmb3JlKFxuICAgICAgICBqb3VybmFsLFxuICAgICAgICB2UGFyZW50IGFzIFZpcnR1YWxWTm9kZSxcbiAgICAgICAgKHZOZXdOb2RlID0gdm5vZGVfbmV3VmlydHVhbCgpKSxcbiAgICAgICAgdkN1cnJlbnQgJiYgZ2V0SW5zZXJ0QmVmb3JlKClcbiAgICAgICk7XG4gICAgICAodk5ld05vZGUgYXMgVmlydHVhbFZOb2RlKS5zZXRQcm9wKEVMRU1FTlRfS0VZLCBqc3hLZXkpO1xuICAgICAgaXNEZXYgJiYgKHZOZXdOb2RlIGFzIFZpcnR1YWxWTm9kZSkuc2V0UHJvcChERUJVR19UWVBFLCB0eXBlKTtcbiAgICB9O1xuICAgIC8vIEZvciBmcmFnbWVudHMgd2l0aG91dCBhIGtleSwgYWx3YXlzIGNyZWF0ZSBhIG5ldyB2aXJ0dWFsIG5vZGUgKGVuc3VyZXMgcmVyZW5kZXIgc2VtYW50aWNzKVxuICAgIGlmIChqc3hLZXkgPT09IG51bGwpIHtcbiAgICAgIGNyZWF0ZU5ldygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBtb3ZlT3JDcmVhdGVLZXllZE5vZGUoXG4gICAgICBudWxsLFxuICAgICAganN4S2V5LFxuICAgICAgZ2V0U2lkZUJ1ZmZlcktleShudWxsLCBqc3hLZXkpLFxuICAgICAgdlBhcmVudCBhcyBWaXJ0dWFsVk5vZGUsXG4gICAgICBjcmVhdGVOZXcsXG4gICAgICB0cnVlXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4cGVjdENvbXBvbmVudChjb21wb25lbnQ6IEZ1bmN0aW9uKSB7XG4gICAgY29uc3QgY29tcG9uZW50TWV0YSA9IChjb21wb25lbnQgYXMgYW55KVtTRVJJQUxJWkFCTEVfU1RBVEVdIGFzIFtRUkxJbnRlcm5hbDxPblJlbmRlckZuPGFueT4+XTtcbiAgICBsZXQgaG9zdCA9ICh2TmV3Tm9kZSB8fCB2Q3VycmVudCkgYXMgVmlydHVhbFZOb2RlIHwgbnVsbDtcbiAgICBjb25zdCBqc3hOb2RlID0ganN4VmFsdWUgYXMgSlNYTm9kZUludGVybmFsO1xuICAgIGlmIChjb21wb25lbnRNZXRhKSB7XG4gICAgICBjb25zdCBqc3hQcm9wcyA9IGpzeE5vZGUucHJvcHM7XG4gICAgICAvLyBRQ29tcG9uZW50XG4gICAgICBsZXQgc2hvdWxkUmVuZGVyID0gZmFsc2U7XG4gICAgICBjb25zdCBbY29tcG9uZW50UVJMXSA9IGNvbXBvbmVudE1ldGE7XG5cbiAgICAgIGNvbnN0IGNvbXBvbmVudEhhc2ggPSBjb21wb25lbnRRUkwuJGhhc2gkO1xuICAgICAgY29uc3Qgdk5vZGVDb21wb25lbnRIYXNoID0gZ2V0Q29tcG9uZW50SGFzaChob3N0LCBjb250YWluZXIuJGdldE9iamVjdEJ5SWQkKTtcblxuICAgICAgY29uc3QgbG9va3VwS2V5ID0ganN4Tm9kZS5rZXkgfHwgY29tcG9uZW50SGFzaDtcbiAgICAgIGNvbnN0IHZOb2RlTG9va3VwS2V5ID0gZ2V0S2V5KGhvc3QpIHx8IHZOb2RlQ29tcG9uZW50SGFzaDtcblxuICAgICAgY29uc3QgbG9va3VwS2V5c0FyZUVxdWFsID0gbG9va3VwS2V5ID09PSB2Tm9kZUxvb2t1cEtleTtcbiAgICAgIGNvbnN0IGhhc2hlc0FyZUVxdWFsID0gY29tcG9uZW50SGFzaCA9PT0gdk5vZGVDb21wb25lbnRIYXNoO1xuXG4gICAgICBpZiAoIWxvb2t1cEtleXNBcmVFcXVhbCkge1xuICAgICAgICBjb25zdCBjcmVhdGVOZXcgPSAoKSA9PiB7XG4gICAgICAgICAgaW5zZXJ0TmV3Q29tcG9uZW50KGhvc3QsIGNvbXBvbmVudFFSTCwganN4UHJvcHMpO1xuICAgICAgICAgIHNob3VsZFJlbmRlciA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIG1vdmVPckNyZWF0ZUtleWVkTm9kZShudWxsLCBsb29rdXBLZXksIGxvb2t1cEtleSwgdlBhcmVudCBhcyBWaXJ0dWFsVk5vZGUsIGNyZWF0ZU5ldyk7XG4gICAgICAgIGhvc3QgPSAodk5ld05vZGUgfHwgdkN1cnJlbnQpIGFzIFZpcnR1YWxWTm9kZTtcbiAgICAgIH0gZWxzZSBpZiAoIWhhc2hlc0FyZUVxdWFsIHx8ICFqc3hOb2RlLmtleSkge1xuICAgICAgICBpbnNlcnROZXdDb21wb25lbnQoaG9zdCwgY29tcG9uZW50UVJMLCBqc3hQcm9wcyk7XG4gICAgICAgIGhvc3QgPSB2TmV3Tm9kZSBhcyBWaXJ0dWFsVk5vZGU7XG4gICAgICAgIHNob3VsZFJlbmRlciA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBkZWxldGUgdGhlIGtleSBmcm9tIHRoZSBzaWRlIGJ1ZmZlciBpZiBpdCBpcyB0aGUgc2FtZSBjb21wb25lbnRcbiAgICAgICAgZGVsZXRlRnJvbVNpZGVCdWZmZXIobnVsbCwgbG9va3VwS2V5KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGhvc3QpIHtcbiAgICAgICAgbGV0IHZOb2RlUHJvcHMgPSAoaG9zdCBhcyBWaXJ0dWFsVk5vZGUpLmdldFByb3A8YW55PihcbiAgICAgICAgICBFTEVNRU5UX1BST1BTLFxuICAgICAgICAgIGNvbnRhaW5lci4kZ2V0T2JqZWN0QnlJZCRcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IHByb3BzQXJlRGlmZmVyZW50ID0gZmFsc2U7XG4gICAgICAgIGlmICghc2hvdWxkUmVuZGVyKSB7XG4gICAgICAgICAgcHJvcHNBcmVEaWZmZXJlbnQgPVxuICAgICAgICAgICAgcHJvcHNEaWZmZXIoXG4gICAgICAgICAgICAgIChqc3hQcm9wcyBhcyBQcm9wc1Byb3h5KVtfQ09OU1RfUFJPUFNdLFxuICAgICAgICAgICAgICAodk5vZGVQcm9wcyBhcyBQcm9wc1Byb3h5KT8uW19DT05TVF9QUk9QU11cbiAgICAgICAgICAgICkgfHxcbiAgICAgICAgICAgIHByb3BzRGlmZmVyKFxuICAgICAgICAgICAgICAoanN4UHJvcHMgYXMgUHJvcHNQcm94eSlbX1ZBUl9QUk9QU10sXG4gICAgICAgICAgICAgICh2Tm9kZVByb3BzIGFzIFByb3BzUHJveHkpPy5bX1ZBUl9QUk9QU11cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgc2hvdWxkUmVuZGVyID0gc2hvdWxkUmVuZGVyIHx8IHByb3BzQXJlRGlmZmVyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNob3VsZFJlbmRlcikge1xuICAgICAgICAgIGlmIChwcm9wc0FyZURpZmZlcmVudCkge1xuICAgICAgICAgICAgaWYgKHZOb2RlUHJvcHMpIHtcbiAgICAgICAgICAgICAgLy8gUmV1c2UgdGhlIHNhbWUgcHJvcHMgaW5zdGFuY2UsIHFybHMgY2FuIHVzZSB0aGUgY3VycmVudCBwcm9wcyBpbnN0YW5jZVxuICAgICAgICAgICAgICAvLyBhcyBhIGNhcHR1cmUgcmVmLCBzbyB3ZSBjYW4ndCBjaGFuZ2UgaXQuXG4gICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gZG8gdGhpcyBkaXJlY3RseSwgYmVjYXVzZSBub3JtYWxseSB3ZSB3b3VsZCBzdWJzY3JpYmUgdG8gdGhlIHNpZ25hbHNcbiAgICAgICAgICAgICAgLy8gaWYgYW55IHNpZ25hbCBpcyB0aGVyZS5cbiAgICAgICAgICAgICAgdk5vZGVQcm9wc1tfQ09OU1RfUFJPUFNdID0gKGpzeFByb3BzIGFzIFByb3BzUHJveHkpW19DT05TVF9QUk9QU107XG4gICAgICAgICAgICAgIHZOb2RlUHJvcHNbX1ZBUl9QUk9QU10gPSAoanN4UHJvcHMgYXMgUHJvcHNQcm94eSlbX1ZBUl9QUk9QU107XG4gICAgICAgICAgICAgIHZOb2RlUHJvcHNbX09XTkVSXSA9IChqc3hQcm9wcyBhcyBQcm9wc1Byb3h5KVtfT1dORVJdO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChqc3hQcm9wcykge1xuICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBwcm9wcyBpbnN0YW5jZSwgY3JlYXRlIGEgbmV3IG9uZS5cbiAgICAgICAgICAgICAgLy8gV2UgY2FuIGRvIHRoaXMgYmVjYXVzZSB3ZSBhcmUgbm90IHVzaW5nIHRoZSBwcm9wcyBpbnN0YW5jZSBmb3IgYW55dGhpbmcgZWxzZS5cbiAgICAgICAgICAgICAgKGhvc3QgYXMgVmlydHVhbFZOb2RlKS5zZXRQcm9wKEVMRU1FTlRfUFJPUFMsIGpzeFByb3BzKTtcbiAgICAgICAgICAgICAgdk5vZGVQcm9wcyA9IGpzeFByb3BzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBBc3NpZ24gdGhlIG5ldyBRUkwgaW5zdGFuY2UgdG8gdGhlIGhvc3QuXG4gICAgICAgICAgLy8gVW5mb3J0dW5hdGVseSBpdCBpcyBjcmVhdGVkIGV2ZXJ5IHRpbWUsIHNvbWV0aGluZyB0byBmaXggaW4gdGhlIG9wdGltaXplci5cbiAgICAgICAgICAoaG9zdCBhcyBWaXJ0dWFsVk5vZGUpLnNldFByb3AoT25SZW5kZXJQcm9wLCBjb21wb25lbnRRUkwpO1xuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogTWFyayBob3N0IGFzIG5vdCBkZWxldGVkLiBUaGUgaG9zdCBjb3VsZCBoYXZlIGJlZW4gbWFya2VkIGFzIGRlbGV0ZWQgaWYgaXQgdGhlcmUgd2FzIGFcbiAgICAgICAgICAgKiBjbGVhbnVwIHJ1bi4gTm93IHdlIGZvdW5kIGl0IGFuZCB3YW50IHRvIHJldXNlIGl0LCBzbyB3ZSBuZWVkIHRvIG1hcmsgaXQgYXMgbm90XG4gICAgICAgICAgICogZGVsZXRlZC5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICAoaG9zdCBhcyBWaXJ0dWFsVk5vZGUpLmZsYWdzICY9IH5WTm9kZUZsYWdzLkRlbGV0ZWQ7XG4gICAgICAgICAgY29udGFpbmVyLiRzY2hlZHVsZXIkKENob3JlVHlwZS5DT01QT05FTlQsIGhvc3QsIGNvbXBvbmVudFFSTCwgdk5vZGVQcm9wcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRlc2NlbmRDb250ZW50VG9Qcm9qZWN0KGpzeE5vZGUuY2hpbGRyZW4sIGhvc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBsb29rdXBLZXkgPSBqc3hOb2RlLmtleTtcbiAgICAgIGNvbnN0IHZOb2RlTG9va3VwS2V5ID0gZ2V0S2V5KGhvc3QpO1xuICAgICAgY29uc3QgbG9va3VwS2V5c0FyZUVxdWFsID0gbG9va3VwS2V5ID09PSB2Tm9kZUxvb2t1cEtleTtcbiAgICAgIGNvbnN0IHZOb2RlQ29tcG9uZW50SGFzaCA9IGdldENvbXBvbmVudEhhc2goaG9zdCwgY29udGFpbmVyLiRnZXRPYmplY3RCeUlkJCk7XG4gICAgICBjb25zdCBpc0lubGluZUNvbXBvbmVudCA9IHZOb2RlQ29tcG9uZW50SGFzaCA9PSBudWxsO1xuXG4gICAgICBpZiAoKGhvc3QgJiYgIWlzSW5saW5lQ29tcG9uZW50KSB8fCBsb29rdXBLZXkgPT0gbnVsbCkge1xuICAgICAgICBpbnNlcnROZXdJbmxpbmVDb21wb25lbnQoKTtcbiAgICAgICAgaG9zdCA9IHZOZXdOb2RlIGFzIFZpcnR1YWxWTm9kZTtcbiAgICAgIH0gZWxzZSBpZiAoIWxvb2t1cEtleXNBcmVFcXVhbCkge1xuICAgICAgICBjb25zdCBjcmVhdGVOZXcgPSAoKSA9PiB7XG4gICAgICAgICAgLy8gV2UgZGlkIG5vdCBmaW5kIHRoZSBpbmxpbmUgY29tcG9uZW50LCBjcmVhdGUgaXQuXG4gICAgICAgICAgaW5zZXJ0TmV3SW5saW5lQ29tcG9uZW50KCk7XG4gICAgICAgIH07XG4gICAgICAgIG1vdmVPckNyZWF0ZUtleWVkTm9kZShudWxsLCBsb29rdXBLZXksIGxvb2t1cEtleSwgdlBhcmVudCBhcyBWaXJ0dWFsVk5vZGUsIGNyZWF0ZU5ldyk7XG4gICAgICAgIGhvc3QgPSAodk5ld05vZGUgfHwgdkN1cnJlbnQpIGFzIFZpcnR1YWxWTm9kZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGRlbGV0ZSB0aGUga2V5IGZyb20gdGhlIHNpZGUgYnVmZmVyIGlmIGl0IGlzIHRoZSBzYW1lIGNvbXBvbmVudFxuICAgICAgICBkZWxldGVGcm9tU2lkZUJ1ZmZlcihudWxsLCBsb29rdXBLZXkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaG9zdCkge1xuICAgICAgICBsZXQgY29tcG9uZW50SG9zdDogVk5vZGUgfCBudWxsID0gaG9zdDtcbiAgICAgICAgLy8gRmluZCB0aGUgY2xvc2VzdCBjb21wb25lbnQgaG9zdCB3aGljaCBoYXMgYE9uUmVuZGVyYCBwcm9wLiBUaGlzIGlzIG5lZWQgZm9yIHN1YnNjcmlwdGlvbnMgY29udGV4dC5cbiAgICAgICAgd2hpbGUgKFxuICAgICAgICAgIGNvbXBvbmVudEhvc3QgJiZcbiAgICAgICAgICAodm5vZGVfaXNWaXJ0dWFsVk5vZGUoY29tcG9uZW50SG9zdClcbiAgICAgICAgICAgID8gKGNvbXBvbmVudEhvc3QgYXMgVmlydHVhbFZOb2RlKS5nZXRQcm9wPE9uUmVuZGVyRm48YW55PiB8IG51bGw+KFxuICAgICAgICAgICAgICAgIE9uUmVuZGVyUHJvcCxcbiAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICkgPT09IG51bGxcbiAgICAgICAgICAgIDogdHJ1ZSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29tcG9uZW50SG9zdCA9IGNvbXBvbmVudEhvc3QucGFyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QganN4T3V0cHV0ID0gZXhlY3V0ZUNvbXBvbmVudChcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgaG9zdCxcbiAgICAgICAgICAoY29tcG9uZW50SG9zdCB8fCBjb250YWluZXIucm9vdFZOb2RlKSBhcyBIb3N0RWxlbWVudCxcbiAgICAgICAgICBjb21wb25lbnQgYXMgT25SZW5kZXJGbjx1bmtub3duPixcbiAgICAgICAgICBqc3hOb2RlLnByb3BzXG4gICAgICAgICk7XG5cbiAgICAgICAgYXN5bmNRdWV1ZS5wdXNoKGpzeE91dHB1dCwgaG9zdCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5zZXJ0TmV3Q29tcG9uZW50KFxuICAgIGhvc3Q6IFZOb2RlIHwgbnVsbCxcbiAgICBjb21wb25lbnRRUkw6IFFSTEludGVybmFsPE9uUmVuZGVyRm48YW55Pj4sXG4gICAganN4UHJvcHM6IFByb3BzXG4gICkge1xuICAgIGlmIChob3N0KSB7XG4gICAgICBjbGVhckFsbEVmZmVjdHMoY29udGFpbmVyLCBob3N0KTtcbiAgICB9XG4gICAgdm5vZGVfaW5zZXJ0QmVmb3JlKFxuICAgICAgam91cm5hbCxcbiAgICAgIHZQYXJlbnQgYXMgVmlydHVhbFZOb2RlLFxuICAgICAgKHZOZXdOb2RlID0gdm5vZGVfbmV3VmlydHVhbCgpKSxcbiAgICAgIHZDdXJyZW50ICYmIGdldEluc2VydEJlZm9yZSgpXG4gICAgKTtcbiAgICBjb25zdCBqc3hOb2RlID0ganN4VmFsdWUgYXMgSlNYTm9kZUludGVybmFsO1xuICAgIGlzRGV2ICYmICh2TmV3Tm9kZSBhcyBWaXJ0dWFsVk5vZGUpLnNldFByb3AoREVCVUdfVFlQRSwgVmlydHVhbFR5cGUuQ29tcG9uZW50KTtcbiAgICBjb250YWluZXIuc2V0SG9zdFByb3Aodk5ld05vZGUsIE9uUmVuZGVyUHJvcCwgY29tcG9uZW50UVJMKTtcbiAgICBjb250YWluZXIuc2V0SG9zdFByb3Aodk5ld05vZGUsIEVMRU1FTlRfUFJPUFMsIGpzeFByb3BzKTtcbiAgICBjb250YWluZXIuc2V0SG9zdFByb3Aodk5ld05vZGUsIEVMRU1FTlRfS0VZLCBqc3hOb2RlLmtleSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbnNlcnROZXdJbmxpbmVDb21wb25lbnQoKSB7XG4gICAgdm5vZGVfaW5zZXJ0QmVmb3JlKFxuICAgICAgam91cm5hbCxcbiAgICAgIHZQYXJlbnQgYXMgVmlydHVhbFZOb2RlLFxuICAgICAgKHZOZXdOb2RlID0gdm5vZGVfbmV3VmlydHVhbCgpKSxcbiAgICAgIHZDdXJyZW50ICYmIGdldEluc2VydEJlZm9yZSgpXG4gICAgKTtcbiAgICBjb25zdCBqc3hOb2RlID0ganN4VmFsdWUgYXMgSlNYTm9kZUludGVybmFsO1xuICAgIGlzRGV2ICYmICh2TmV3Tm9kZSBhcyBWaXJ0dWFsVk5vZGUpLnNldFByb3AoREVCVUdfVFlQRSwgVmlydHVhbFR5cGUuSW5saW5lQ29tcG9uZW50KTtcbiAgICAodk5ld05vZGUgYXMgVmlydHVhbFZOb2RlKS5zZXRQcm9wKEVMRU1FTlRfUFJPUFMsIGpzeE5vZGUucHJvcHMpO1xuICAgIGlmIChqc3hOb2RlLmtleSkge1xuICAgICAgKHZOZXdOb2RlIGFzIFZpcnR1YWxWTm9kZSkuc2V0UHJvcChFTEVNRU5UX0tFWSwganN4Tm9kZS5rZXkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGV4cGVjdFRleHQodGV4dDogc3RyaW5nKSB7XG4gICAgaWYgKHZDdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICBjb25zdCB0eXBlID0gdm5vZGVfZ2V0VHlwZSh2Q3VycmVudCk7XG4gICAgICBpZiAodHlwZSA9PT0gMyAvKiBUZXh0ICovKSB7XG4gICAgICAgIGlmICh0ZXh0ICE9PSB2bm9kZV9nZXRUZXh0KHZDdXJyZW50IGFzIFRleHRWTm9kZSkpIHtcbiAgICAgICAgICB2bm9kZV9zZXRUZXh0KGpvdXJuYWwsIHZDdXJyZW50IGFzIFRleHRWTm9kZSwgdGV4dCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgdm5vZGVfaW5zZXJ0QmVmb3JlKFxuICAgICAgam91cm5hbCxcbiAgICAgIHZQYXJlbnQgYXMgVmlydHVhbFZOb2RlLFxuICAgICAgKHZOZXdOb2RlID0gdm5vZGVfbmV3VGV4dChjb250YWluZXIuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCksIHRleHQpKSxcbiAgICAgIHZDdXJyZW50XG4gICAgKTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUga2V5IGZyb20gdGhlIFZOb2RlLlxuICpcbiAqIEBwYXJhbSB2Tm9kZSAtIFZOb2RlIHRvIHJldHJpZXZlIHRoZSBrZXkgZnJvbVxuICogQHJldHVybnMgS2V5XG4gKi9cbmZ1bmN0aW9uIGdldEtleSh2Tm9kZTogVk5vZGUgfCBudWxsKTogc3RyaW5nIHwgbnVsbCB7XG4gIGlmICh2Tm9kZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuICh2Tm9kZSBhcyBWaXJ0dWFsVk5vZGUpLmdldFByb3A8c3RyaW5nPihFTEVNRU5UX0tFWSwgbnVsbCk7XG59XG5cbi8qKlxuICogUmV0cmlldmUgdGhlIGNvbXBvbmVudCBoYXNoIGZyb20gdGhlIFZOb2RlLlxuICpcbiAqIEBwYXJhbSB2Tm9kZSAtIFZOb2RlIHRvIHJldHJpZXZlIHRoZSBrZXkgZnJvbVxuICogQHBhcmFtIGdldE9iamVjdCAtIEZ1bmN0aW9uIHRvIHJldHJpZXZlIHRoZSBvYmplY3QgYnkgaWQgZm9yIFFDb21wb25lbnQgUVJMXG4gKiBAcmV0dXJucyBIYXNoXG4gKi9cbmZ1bmN0aW9uIGdldENvbXBvbmVudEhhc2godk5vZGU6IFZOb2RlIHwgbnVsbCwgZ2V0T2JqZWN0OiAoaWQ6IHN0cmluZykgPT4gYW55KTogc3RyaW5nIHwgbnVsbCB7XG4gIGlmICh2Tm9kZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgcXJsID0gKHZOb2RlIGFzIFZpcnR1YWxWTm9kZSkuZ2V0UHJvcDxRUkxJbnRlcm5hbD4oT25SZW5kZXJQcm9wLCBnZXRPYmplY3QpO1xuICByZXR1cm4gcXJsID8gcXJsLiRoYXNoJCA6IG51bGw7XG59XG5cbi8qKlxuICogTWFya2VyIGNsYXNzIGZvciBKU1ggcHJvamVjdGlvbi5cbiAqXG4gKiBBc3N1bWUgeW91IGhhdmUgY29tcG9uZW50IGxpa2Ugc29cbiAqXG4gKiBgYGBcbiAqIDxTb21lQ29tcG9uZW50PlxuICogICBzb21lLXRleHRcbiAqICAgPHNwYW4gcTpzbG90PVwibmFtZVwiPnNvbWUgbW9yZSB0ZXh0PC9zcGFuPlxuICogICBtb3JlLXRleHRcbiAqIDwvU29tZUNvbXBvbmVudD5cbiAqIGBgYFxuICpcbiAqIEJlZm9yZSB0aGUgYDxTb21lQ29tcGV0ZW50Lz5gIGlzIHByb2Nlc3NlZCBpdHMgY2hpbGRyZW4gYXJlIHRyYW5zZm9ybWVkIGludG86XG4gKlxuICogYGBgXG4gKiAgIDxQcm9qZWN0aW9uIHE6c2xvdD1cIlwiPlxuICogICAgIHNvbWUtdGV4dFxuICogICAgIG1vcmUtdGV4dFxuICogICA8L1Byb2plY3Rpb24+XG4gKiAgIDxQcm9qZWN0aW9uIHE6c2xvdD1cIm5hbWVcIj5cbiAqICAgICA8c3BhbiBxOnNsb3Q9XCJuYW1lXCI+c29tZSBtb3JlIHRleHQ8L3NwYW4+XG4gKiAgIDwvUHJvamVjdGlvbj5cbiAqIGBgYFxuICovXG5mdW5jdGlvbiBQcm9qZWN0aW9uKCkge31cblxuZnVuY3Rpb24gcHJvcHNEaWZmZXIoXG4gIHNyYzogUmVjb3JkPHN0cmluZywgYW55PiB8IG51bGwgfCB1bmRlZmluZWQsXG4gIGRzdDogUmVjb3JkPHN0cmluZywgYW55PiB8IG51bGwgfCB1bmRlZmluZWRcbik6IGJvb2xlYW4ge1xuICBjb25zdCBzcmNFbXB0eSA9IGlzUHJvcHNFbXB0eShzcmMpO1xuICBjb25zdCBkc3RFbXB0eSA9IGlzUHJvcHNFbXB0eShkc3QpO1xuICBpZiAoc3JjRW1wdHkgJiYgZHN0RW1wdHkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHNyY0VtcHR5IHx8IGRzdEVtcHR5KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBjb25zdCBzcmNLZXlzID0gT2JqZWN0LmtleXMoc3JjISk7XG4gIGNvbnN0IGRzdEtleXMgPSBPYmplY3Qua2V5cyhkc3QhKTtcblxuICBsZXQgc3JjTGVuID0gc3JjS2V5cy5sZW5ndGg7XG4gIGxldCBkc3RMZW4gPSBkc3RLZXlzLmxlbmd0aDtcblxuICBpZiAoJ2NoaWxkcmVuJyBpbiBzcmMhKSB7XG4gICAgc3JjTGVuLS07XG4gIH1cbiAgaWYgKFFCYWNrUmVmcyBpbiBzcmMhKSB7XG4gICAgc3JjTGVuLS07XG4gIH1cbiAgaWYgKCdjaGlsZHJlbicgaW4gZHN0ISkge1xuICAgIGRzdExlbi0tO1xuICB9XG4gIGlmIChRQmFja1JlZnMgaW4gZHN0ISkge1xuICAgIGRzdExlbi0tO1xuICB9XG5cbiAgaWYgKHNyY0xlbiAhPT0gZHN0TGVuKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmb3IgKGNvbnN0IGtleSBvZiBzcmNLZXlzKSB7XG4gICAgaWYgKGtleSA9PT0gJ2NoaWxkcmVuJyB8fCBrZXkgPT09IFFCYWNrUmVmcykge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRzdCwga2V5KSB8fCBzcmMhW2tleV0gIT09IGRzdCFba2V5XSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc1Byb3BzRW1wdHkocHJvcHM6IFJlY29yZDxzdHJpbmcsIGFueT4gfCBudWxsIHwgdW5kZWZpbmVkKTogYm9vbGVhbiB7XG4gIGlmICghcHJvcHMpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gT2JqZWN0LmtleXMocHJvcHMpLmxlbmd0aCA9PT0gMDtcbn1cblxuLyoqXG4gKiBJZiB2bm9kZSBpcyByZW1vdmVkLCBpdCBpcyBuZWNlc3NhcnkgdG8gcmVsZWFzZSBhbGwgc3Vic2NyaXB0aW9ucyBhc3NvY2lhdGVkIHdpdGggaXQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIHRyYXZlcnNlIHRoZSB2bm9kZSB0cmVlIGluIGRlcHRoLWZpcnN0IG9yZGVyIGFuZCByZWxlYXNlIGFsbCBzdWJzY3JpcHRpb25zLlxuICpcbiAqIFRoZSBmdW5jdGlvbiB0YWtlcyBpbnRvIGFjY291bnQ6XG4gKlxuICogLSBQcm9qZWN0aW9uIG5vZGVzIGJ5IG5vdCByZWN1cnNpbmcgaW50byB0aGVtLlxuICogLSBDb21wb25lbnQgbm9kZXMgYnkgcmVjdXJzaW5nIGludG8gdGhlIGNvbXBvbmVudCBjb250ZW50IG5vZGVzICh3aGljaCBtYXkgYmUgcHJvamVjdGVkKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFudXAoY29udGFpbmVyOiBDbGllbnRDb250YWluZXIsIHZOb2RlOiBWTm9kZSkge1xuICBsZXQgdkN1cnNvcjogVk5vZGUgfCBudWxsID0gdk5vZGU7XG4gIC8vIERlcHRoIGZpcnN0IHRyYXZlcnNhbFxuICBpZiAodm5vZGVfaXNUZXh0Vk5vZGUodk5vZGUpKSB7XG4gICAgbWFya1ZOb2RlQXNEZWxldGVkKHZDdXJzb3IpO1xuICAgIC8vIFRleHQgbm9kZXMgZG9uJ3QgaGF2ZSBzdWJzY3JpcHRpb25zIG9yIGNoaWxkcmVuO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgdlBhcmVudDogVk5vZGUgfCBudWxsID0gbnVsbDtcbiAgZG8ge1xuICAgIGNvbnN0IHR5cGUgPSB2Q3Vyc29yLmZsYWdzO1xuICAgIGlmICh0eXBlICYgVk5vZGVGbGFncy5FTEVNRU5UX09SX1ZJUlRVQUxfTUFTSykge1xuICAgICAgY2xlYXJBbGxFZmZlY3RzKGNvbnRhaW5lciwgdkN1cnNvcik7XG4gICAgICBtYXJrVk5vZGVBc0RlbGV0ZWQodkN1cnNvcik7XG4gICAgICAvLyBPbmx5IGVsZW1lbnRzIGFuZCB2aXJ0dWFsIG5vZGVzIG5lZWQgdG8gYmUgdHJhdmVyc2VkIGZvciBjaGlsZHJlblxuICAgICAgaWYgKHR5cGUgJiBWTm9kZUZsYWdzLlZpcnR1YWwpIHtcbiAgICAgICAgY29uc3Qgc2VxID0gY29udGFpbmVyLmdldEhvc3RQcm9wPEFycmF5PGFueT4+KHZDdXJzb3IgYXMgVmlydHVhbFZOb2RlLCBFTEVNRU5UX1NFUSk7XG4gICAgICAgIGlmIChzZXEpIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgb2JqID0gc2VxW2ldO1xuICAgICAgICAgICAgaWYgKGlzVGFzayhvYmopKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHRhc2sgPSBvYmo7XG4gICAgICAgICAgICAgIGNsZWFyQWxsRWZmZWN0cyhjb250YWluZXIsIHRhc2spO1xuICAgICAgICAgICAgICBpZiAodGFzay4kZmxhZ3MkICYgVGFza0ZsYWdzLlZJU0lCTEVfVEFTSykge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci4kc2NoZWR1bGVyJChDaG9yZVR5cGUuQ0xFQU5VUF9WSVNJQkxFLCB0YXNrKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbGVhbnVwVGFzayh0YXNrKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBpc0NvbXBvbmVudCA9XG4gICAgICAgIHR5cGUgJiBWTm9kZUZsYWdzLlZpcnR1YWwgJiZcbiAgICAgICAgKHZDdXJzb3IgYXMgVmlydHVhbFZOb2RlKS5nZXRQcm9wPE9uUmVuZGVyRm48YW55PiB8IG51bGw+KE9uUmVuZGVyUHJvcCwgbnVsbCkgIT09IG51bGw7XG4gICAgICBpZiAoaXNDb21wb25lbnQpIHtcbiAgICAgICAgLy8gU1BFQ0lBTCBDQVNFOiBJZiB3ZSBhcmUgYSBjb21wb25lbnQsIHdlIG5lZWQgdG8gZGVzY2VuZCBpbnRvIHRoZSBwcm9qZWN0ZWQgY29udGVudCBhbmQgcmVsZWFzZSB0aGUgY29udGVudC5cbiAgICAgICAgY29uc3QgYXR0cnMgPSB2bm9kZV9nZXRQcm9wcyh2Q3Vyc29yIGFzIFZpcnR1YWxWTm9kZSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpID0gaSArIDIpIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBhdHRyc1tpXSBhcyBzdHJpbmc7XG4gICAgICAgICAgaWYgKGlzU2xvdFByb3Aoa2V5KSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhdHRyc1tpICsgMV07XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgYXR0cnNbaSArIDFdID0gbnVsbDsgLy8gcHJldmVudCBpbmZpbml0ZSBsb29wXG4gICAgICAgICAgICAgIGNvbnN0IHByb2plY3Rpb24gPVxuICAgICAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgID8gdm5vZGVfbG9jYXRlKGNvbnRhaW5lci5yb290Vk5vZGUsIHZhbHVlKVxuICAgICAgICAgICAgICAgICAgOiAodmFsdWUgYXMgdW5rbm93biBhcyBWTm9kZSk7XG4gICAgICAgICAgICAgIGxldCBwcm9qZWN0aW9uQ2hpbGQgPSB2bm9kZV9nZXRGaXJzdENoaWxkKHByb2plY3Rpb24pO1xuICAgICAgICAgICAgICB3aGlsZSAocHJvamVjdGlvbkNoaWxkKSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cChjb250YWluZXIsIHByb2plY3Rpb25DaGlsZCk7XG4gICAgICAgICAgICAgICAgcHJvamVjdGlvbkNoaWxkID0gcHJvamVjdGlvbkNoaWxkLm5leHRTaWJsaW5nIGFzIFZOb2RlIHwgbnVsbDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNsZWFudXBTdGFsZVVuY2xhaW1lZFByb2plY3Rpb24oY29udGFpbmVyLiRqb3VybmFsJCwgcHJvamVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGlzUHJvamVjdGlvbiA9IHZub2RlX2lzUHJvamVjdGlvbih2Q3Vyc29yKTtcbiAgICAgIC8vIERlc2NlbmQgaW50byBjaGlsZHJlblxuICAgICAgaWYgKCFpc1Byb2plY3Rpb24pIHtcbiAgICAgICAgLy8gT25seSBpZiBpdCBpcyBub3QgYSBwcm9qZWN0aW9uXG4gICAgICAgIGNvbnN0IHZGaXJzdENoaWxkID0gdm5vZGVfZ2V0Rmlyc3RDaGlsZCh2Q3Vyc29yKTtcbiAgICAgICAgaWYgKHZGaXJzdENoaWxkKSB7XG4gICAgICAgICAgdkN1cnNvciA9IHZGaXJzdENoaWxkO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHZDdXJzb3IgPT09IHZOb2RlKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBpdCBpcyBhIHByb2plY3Rpb24gYW5kIHdlIGFyZSBhdCB0aGUgcm9vdCwgdGhlbiB3ZSBzaG91bGQgb25seSB3YWxrIHRoZSBjaGlsZHJlbiB0b1xuICAgICAgICAgKiBtYXRlcmlhbGl6ZSB0aGUgcHJvamVjdGlvbiBjb250ZW50LiBUaGlzIGlzIGJlY2F1c2Ugd2UgY291bGQgaGF2ZSByZWZlcmVuY2VzIGluIHRoZSB2bm9kZVxuICAgICAgICAgKiByZWZzIG1hcCB3aGljaCBuZWVkIHRvIGJlIG1hdGVyaWFsaXplZCBiZWZvcmUgY2xlYW51cC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHZGaXJzdENoaWxkID0gdm5vZGVfZ2V0Rmlyc3RDaGlsZCh2Q3Vyc29yKTtcbiAgICAgICAgaWYgKHZGaXJzdENoaWxkKSB7XG4gICAgICAgICAgdm5vZGVfd2Fsa1ZOb2RlKHZGaXJzdENoaWxkLCAodk5vZGUpID0+IHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSW5zdGVhZCBvZiBhbiBJRCwgd2Ugc3RvcmUgYSBkaXJlY3QgcmVmZXJlbmNlIHRvIHRoZSBWTm9kZS4gVGhpcyBpcyBuZWNlc3NhcnkgdG9cbiAgICAgICAgICAgICAqIGxvY2F0ZSB0aGUgc2xvdCdzIHBhcmVudCBpbiBhIGRldGFjaGVkIHN1YnRyZWUsIGFzIHRoZSBJRCB3b3VsZCBiZWNvbWUgaW52YWxpZC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHZOb2RlLmZsYWdzICYgVk5vZGVGbGFncy5WaXJ0dWFsKSB7XG4gICAgICAgICAgICAgIC8vIFRoZSBRU2xvdFBhcmVudCBpcyB1c2VkIHRvIGZpbmQgdGhlIHNsb3QgcGFyZW50IGR1cmluZyBzY2hlZHVsaW5nXG4gICAgICAgICAgICAgIHZOb2RlLnNsb3RQYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlICYgVk5vZGVGbGFncy5UZXh0KSB7XG4gICAgICBtYXJrVk5vZGVBc0RlbGV0ZWQodkN1cnNvcik7XG4gICAgfVxuICAgIC8vIE91dCBvZiBjaGlsZHJlblxuICAgIGlmICh2Q3Vyc29yID09PSB2Tm9kZSkge1xuICAgICAgLy8gd2UgYXJlIHdoZXJlIHdlIHN0YXJ0ZWQsIHRoaXMgbWVhbnMgdGhhdCB2Tm9kZSBoYXMgbm8gY2hpbGRyZW4sIHNvIHdlIGFyZSBkb25lLlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBPdXQgb2YgY2hpbGRyZW4sIGdvIHRvIG5leHQgc2libGluZ1xuICAgIGNvbnN0IHZOZXh0U2libGluZyA9IHZDdXJzb3IubmV4dFNpYmxpbmcgYXMgVk5vZGUgfCBudWxsO1xuICAgIGlmICh2TmV4dFNpYmxpbmcpIHtcbiAgICAgIHZDdXJzb3IgPSB2TmV4dFNpYmxpbmc7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBPdXQgb2Ygc2libGluZ3MsIGdvIHRvIHBhcmVudFxuICAgIHZQYXJlbnQgPSB2Q3Vyc29yLnBhcmVudDtcbiAgICB3aGlsZSAodlBhcmVudCkge1xuICAgICAgaWYgKHZQYXJlbnQgPT09IHZOb2RlKSB7XG4gICAgICAgIC8vIFdlIGFyZSBiYWNrIHdoZXJlIHdlIHN0YXJ0ZWQsIHdlIGFyZSBkb25lLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2TmV4dFBhcmVudFNpYmxpbmcgPSB2UGFyZW50Lm5leHRTaWJsaW5nIGFzIFZOb2RlIHwgbnVsbDtcbiAgICAgIGlmICh2TmV4dFBhcmVudFNpYmxpbmcpIHtcbiAgICAgICAgdkN1cnNvciA9IHZOZXh0UGFyZW50U2libGluZztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB2UGFyZW50ID0gdlBhcmVudC5wYXJlbnQ7XG4gICAgfVxuICAgIGlmICh2UGFyZW50ID09IG51bGwpIHtcbiAgICAgIC8vIFdlIGFyZSBkb25lLlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSB3aGlsZSAodHJ1ZSBhcyBib29sZWFuKTtcbn1cblxuZnVuY3Rpb24gY2xlYW51cFN0YWxlVW5jbGFpbWVkUHJvamVjdGlvbihqb3VybmFsOiBWTm9kZUpvdXJuYWwsIHByb2plY3Rpb246IFZOb2RlKSB7XG4gIC8vIHdlIGFyZSByZW1vdmluZyBhIG5vZGUgd2hlcmUgdGhlIHByb2plY3Rpb24gd291bGQgZ28gYWZ0ZXIgc2xvdCByZW5kZXIuXG4gIC8vIFRoaXMgaXMgbm90IG5lZWRlZCwgc28gd2UgbmVlZCB0byBjbGVhbnVwIHN0aWxsIHVuY2xhaW1lZCBwcm9qZWN0aW9uXG4gIGNvbnN0IHByb2plY3Rpb25QYXJlbnQgPSBwcm9qZWN0aW9uLnBhcmVudDtcbiAgaWYgKHByb2plY3Rpb25QYXJlbnQpIHtcbiAgICBjb25zdCBwcm9qZWN0aW9uUGFyZW50VHlwZSA9IHByb2plY3Rpb25QYXJlbnQuZmxhZ3M7XG4gICAgaWYgKFxuICAgICAgcHJvamVjdGlvblBhcmVudFR5cGUgJiBWTm9kZUZsYWdzLkVsZW1lbnQgJiZcbiAgICAgIHZub2RlX2dldEVsZW1lbnROYW1lKHByb2plY3Rpb25QYXJlbnQgYXMgRWxlbWVudFZOb2RlKSA9PT0gUVRlbXBsYXRlXG4gICAgKSB7XG4gICAgICAvLyBpZiBwYXJlbnQgaXMgdGhlIHE6dGVtcGxhdGUgZWxlbWVudCB0aGVuIHByb2plY3Rpb24gaXMgc3RpbGwgdW5jbGFpbWVkIC0gcmVtb3ZlIGl0XG4gICAgICB2bm9kZV9yZW1vdmUoam91cm5hbCwgcHJvamVjdGlvblBhcmVudCBhcyBFbGVtZW50Vk5vZGUgfCBWaXJ0dWFsVk5vZGUsIHByb2plY3Rpb24sIHRydWUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBtYXJrVk5vZGVBc0RlbGV0ZWQodkN1cnNvcjogVk5vZGUpIHtcbiAgLyoqXG4gICAqIE1hcmtzIHZDdXJzb3IgYXMgZGVsZXRlZC4gV2UgbmVlZCB0byBkbyB0aGlzIHRvIHByZXZlbnQgY2hvcmVzIGZyb20gcnVubmluZyBhZnRlciB0aGUgdm5vZGUgaXNcbiAgICogcmVtb3ZlZC4gKGZvciBleGFtcGxlIHNpZ25hbCBzdWJzY3JpcHRpb25zKVxuICAgKi9cblxuICB2Q3Vyc29yLmZsYWdzIHw9IFZOb2RlRmxhZ3MuRGVsZXRlZDtcbn1cblxuLyoqXG4gKiBUaGlzIG1hcmtzIHRoZSBwcm9wZXJ0eSBhcyBpbW11dGFibGUuIEl0IGlzIG5lZWRlZCBmb3IgdGhlIFFSTHMgc28gdGhhdCBRd2lrTG9hZGVyIGNhbiBnZXQgYSBob2xkXG4gKiBvZiB0aGVtLiBUaGlzIGNoYXJhY3RlciBtdXN0IGJlIGA6YCBzbyB0aGF0IHRoZSBgdm5vZGVfZ2V0QXR0cmAgY2FuIGlnbm9yZSB0aGVtLlxuICovXG5leHBvcnQgY29uc3QgSEFORExFUl9QUkVGSVggPSAnOic7XG5sZXQgY291bnQgPSAwO1xuIl19","import { vnode_getProjectionParentOrParent, vnode_isDescendantOf, vnode_isVNode, } from '../client/vnode';\nimport { Task } from '../use/use-task';\nimport { ELEMENT_SEQ } from './utils/markers';\nimport { isNumber } from './utils/types';\n/**\n * Rules for determining if a chore is blocked by another chore. Some chores can block other chores.\n * They cannot run until the blocking chore has completed.\n *\n * The match function is used to determine if the blocked chore is blocked by the blocking chore.\n * The match function is called with the blocked chore, the blocking chore, and the container.\n */\nconst VISIBLE_BLOCKING_RULES = [\n    // NODE_DIFF blocks VISIBLE on same host,\n    // if the blocked chore is a child of the blocking chore\n    // or the blocked chore is a sibling of the blocking chore\n    {\n        blockedType: 16 /* ChoreType.VISIBLE */,\n        blockingType: 4 /* ChoreType.NODE_DIFF */,\n        match: (blocked, blocking) => isDescendant(blocked, blocking) || isDescendant(blocking, blocked),\n    },\n    // COMPONENT blocks VISIBLE on same host\n    // if the blocked chore is a child of the blocking chore\n    // or the blocked chore is a sibling of the blocking chore\n    {\n        blockedType: 16 /* ChoreType.VISIBLE */,\n        blockingType: 6 /* ChoreType.COMPONENT */,\n        match: (blocked, blocking) => isDescendant(blocked, blocking) || isDescendant(blocking, blocked),\n    },\n];\nconst BLOCKING_RULES = [\n    // QRL_RESOLVE blocks RUN_QRL, TASK, VISIBLE on same host\n    {\n        blockedType: 2 /* ChoreType.RUN_QRL */,\n        blockingType: 1 /* ChoreType.QRL_RESOLVE */,\n        match: (blocked, blocking) => {\n            const blockedQrl = blocked.$target$;\n            const blockingQrl = blocking.$target$;\n            return isSameHost(blocked, blocking) && isSameQrl(blockedQrl, blockingQrl);\n        },\n    },\n    {\n        blockedType: 3 /* ChoreType.TASK */,\n        blockingType: 1 /* ChoreType.QRL_RESOLVE */,\n        match: (blocked, blocking) => {\n            const blockedTask = blocked.$payload$;\n            const blockingQrl = blocking.$target$;\n            return isSameHost(blocked, blocking) && isSameQrl(blockedTask.$qrl$, blockingQrl);\n        },\n    },\n    {\n        blockedType: 16 /* ChoreType.VISIBLE */,\n        blockingType: 1 /* ChoreType.QRL_RESOLVE */,\n        match: (blocked, blocking) => {\n            const blockedTask = blocked.$payload$;\n            const blockingQrl = blocking.$target$;\n            return isSameHost(blocked, blocking) && isSameQrl(blockedTask.$qrl$, blockingQrl);\n        },\n    },\n    // COMPONENT blocks NODE_DIFF, NODE_PROP on same host\n    {\n        blockedType: 4 /* ChoreType.NODE_DIFF */,\n        blockingType: 6 /* ChoreType.COMPONENT */,\n        match: (blocked, blocking) => blocked.$host$ === blocking.$host$,\n    },\n    {\n        blockedType: 5 /* ChoreType.NODE_PROP */,\n        blockingType: 6 /* ChoreType.COMPONENT */,\n        match: (blocked, blocking) => blocked.$host$ === blocking.$host$,\n    },\n    ...VISIBLE_BLOCKING_RULES,\n    // TASK blocks subsequent TASKs in the same component\n    {\n        blockedType: 3 /* ChoreType.TASK */,\n        blockingType: 3 /* ChoreType.TASK */,\n        match: (blocked, blocking, container) => {\n            if (blocked.$host$ !== blocking.$host$) {\n                return false;\n            }\n            const blockedIdx = blocked.$idx$;\n            if (!isNumber(blockedIdx) || blockedIdx <= 0) {\n                return false;\n            }\n            const previousTask = findPreviousTaskInComponent(blocked.$host$, blockedIdx, container);\n            return previousTask === blocking.$payload$;\n        },\n    },\n];\nfunction isDescendant(descendantChore, ancestorChore) {\n    const descendantHost = descendantChore.$host$;\n    const ancestorHost = ancestorChore.$host$;\n    if (!vnode_isVNode(descendantHost) || !vnode_isVNode(ancestorHost)) {\n        return false;\n    }\n    return vnode_isDescendantOf(descendantHost, ancestorHost);\n}\nfunction isSameHost(a, b) {\n    return a.$host$ === b.$host$;\n}\nfunction isSameQrl(a, b) {\n    return a.$symbol$ === b.$symbol$;\n}\nfunction findAncestorBlockingChore(chore, type) {\n    const host = chore.$host$;\n    if (!vnode_isVNode(host)) {\n        return null;\n    }\n    const isNormalQueue = type === 0 /* ChoreSetType.CHORES */;\n    // Walk up the ancestor tree and check the map\n    let current = host;\n    current = vnode_getProjectionParentOrParent(current);\n    while (current) {\n        const blockingChores = isNormalQueue ? current.chores : current.blockedChores;\n        if (blockingChores) {\n            for (const blockingChore of blockingChores) {\n                if (blockingChore.$type$ < 16 /* ChoreType.VISIBLE */ &&\n                    blockingChore.$type$ !== 3 /* ChoreType.TASK */ &&\n                    blockingChore.$type$ !== 1 /* ChoreType.QRL_RESOLVE */ &&\n                    blockingChore.$type$ !== 2 /* ChoreType.RUN_QRL */) {\n                    return blockingChore;\n                }\n            }\n        }\n        current = vnode_getProjectionParentOrParent(current);\n    }\n    return null;\n}\nexport function findBlockingChore(chore, choreQueue, blockedChores, runningChores, container) {\n    const blockingChoreInChoreQueue = findAncestorBlockingChore(chore, 0 /* ChoreSetType.CHORES */);\n    if (blockingChoreInChoreQueue) {\n        return blockingChoreInChoreQueue;\n    }\n    const blockingChoreInBlockedChores = findAncestorBlockingChore(chore, 1 /* ChoreSetType.BLOCKED_CHORES */);\n    if (blockingChoreInBlockedChores) {\n        return blockingChoreInBlockedChores;\n    }\n    for (const rule of BLOCKING_RULES) {\n        if (chore.$type$ !== rule.blockedType) {\n            continue;\n        }\n        // Check in choreQueue\n        // TODO(perf): better to iterate in reverse order?\n        for (const candidate of choreQueue) {\n            if (candidate.$type$ === rule.blockingType && rule.match(chore, candidate, container)) {\n                return candidate;\n            }\n        }\n        // Check in blockedChores\n        for (const candidate of blockedChores) {\n            if (candidate.$type$ === rule.blockingType && rule.match(chore, candidate, container)) {\n                return candidate;\n            }\n        }\n        // Check in runningChores\n        for (const candidate of runningChores) {\n            if (candidate.$type$ === rule.blockingType && rule.match(chore, candidate, container)) {\n                return candidate;\n            }\n        }\n    }\n    return null;\n}\nfunction findPreviousTaskInComponent(host, currentTaskIdx, container) {\n    const elementSeq = container.getHostProp(host, ELEMENT_SEQ);\n    if (!elementSeq || elementSeq.length <= currentTaskIdx) {\n        return null;\n    }\n    for (let i = currentTaskIdx - 1; i >= 0; i--) {\n        const candidate = elementSeq[i];\n        if (candidate instanceof Task && candidate.$flags$ & 2 /* TaskFlags.TASK */) {\n            return candidate;\n        }\n    }\n    return null;\n}\nexport function findBlockingChoreForVisible(chore, runningChores, container) {\n    for (const rule of VISIBLE_BLOCKING_RULES) {\n        if (chore.$type$ !== rule.blockedType) {\n            continue;\n        }\n        for (const candidate of runningChores) {\n            if (candidate.$type$ === rule.blockingType && rule.match(chore, candidate, container)) {\n                return candidate;\n            }\n        }\n    }\n    return null;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NoZWR1bGVyLXJ1bGVzLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC9zY2hlZHVsZXItcnVsZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLGlDQUFpQyxFQUNqQyxvQkFBb0IsRUFDcEIsYUFBYSxHQUNkLE1BQU0saUJBQWlCLENBQUM7QUFDekIsT0FBTyxFQUFFLElBQUksRUFBYSxNQUFNLGlCQUFpQixDQUFDO0FBS2xELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUM5QyxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBZXpDOzs7Ozs7R0FNRztBQUVILE1BQU0sc0JBQXNCLEdBQW1CO0lBQzdDLHlDQUF5QztJQUN6Qyx3REFBd0Q7SUFDeEQsMERBQTBEO0lBQzFEO1FBQ0UsV0FBVyw0QkFBbUI7UUFDOUIsWUFBWSw2QkFBcUI7UUFDakMsS0FBSyxFQUFFLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQzNCLFlBQVksQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLElBQUksWUFBWSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUM7S0FDckU7SUFDRCx3Q0FBd0M7SUFDeEMsd0RBQXdEO0lBQ3hELDBEQUEwRDtJQUMxRDtRQUNFLFdBQVcsNEJBQW1CO1FBQzlCLFlBQVksNkJBQXFCO1FBQ2pDLEtBQUssRUFBRSxDQUFDLE9BQU8sRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUMzQixZQUFZLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxJQUFJLFlBQVksQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDO0tBQ3JFO0NBQ0YsQ0FBQztBQUVGLE1BQU0sY0FBYyxHQUFtQjtJQUNyQyx5REFBeUQ7SUFDekQ7UUFDRSxXQUFXLDJCQUFtQjtRQUM5QixZQUFZLCtCQUF1QjtRQUNuQyxLQUFLLEVBQUUsQ0FBQyxPQUFPLEVBQUUs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TSxTQUFTLElBQUksYUFBYSxFQUFFLENBQUM7WUFDdEMsSUFBSSxTQUFTLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxZQUFZLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLFNBQVMsQ0FBQyxFQUFFLENBQUM7Z0JBQ3RGLE9BQU8sU0FBUyxDQUFDO1lBQ25CLENBQUM7UUFDSCxDQUFDO0lBQ0gsQ0FBQztJQUNELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHZub2RlX2dldFByb2plY3Rpb25QYXJlbnRPclBhcmVudCxcbiAgdm5vZGVfaXNEZXNjZW5kYW50T2YsXG4gIHZub2RlX2lzVk5vZGUsXG59IGZyb20gJy4uL2NsaWVudC92bm9kZSc7XG5pbXBvcnQgeyBUYXNrLCBUYXNrRmxhZ3MgfSBmcm9tICcuLi91c2UvdXNlLXRhc2snO1xuaW1wb3J0IHR5cGUgeyBRUkxJbnRlcm5hbCB9IGZyb20gJy4vcXJsL3FybC1jbGFzcyc7XG5pbXBvcnQgdHlwZSB7IENob3JlIH0gZnJvbSAnLi9zY2hlZHVsZXInO1xuaW1wb3J0IHR5cGUgeyBDb250YWluZXIsIEhvc3RFbGVtZW50IH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBDaG9yZVR5cGUgfSBmcm9tICcuL3V0aWwtY2hvcmUtdHlwZSc7XG5pbXBvcnQgeyBFTEVNRU5UX1NFUSB9IGZyb20gJy4vdXRpbHMvbWFya2Vycyc7XG5pbXBvcnQgeyBpc051bWJlciB9IGZyb20gJy4vdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBWTm9kZSB9IGZyb20gJy4uL2NsaWVudC92bm9kZS1pbXBsJztcbmltcG9ydCB0eXBlIHsgQ2hvcmVBcnJheSB9IGZyb20gJy4uL2NsaWVudC9jaG9yZS1hcnJheSc7XG5cbnR5cGUgQmxvY2tpbmdSdWxlID0ge1xuICBibG9ja2VkVHlwZTogQ2hvcmVUeXBlO1xuICBibG9ja2luZ1R5cGU6IENob3JlVHlwZTtcbiAgbWF0Y2g6IChibG9ja2VkOiBDaG9yZSwgYmxvY2tpbmc6IENob3JlLCBjb250YWluZXI6IENvbnRhaW5lcikgPT4gYm9vbGVhbjtcbn07XG5cbmNvbnN0IGVudW0gQ2hvcmVTZXRUeXBlIHtcbiAgQ0hPUkVTLFxuICBCTE9DS0VEX0NIT1JFUyxcbn1cblxuLyoqXG4gKiBSdWxlcyBmb3IgZGV0ZXJtaW5pbmcgaWYgYSBjaG9yZSBpcyBibG9ja2VkIGJ5IGFub3RoZXIgY2hvcmUuIFNvbWUgY2hvcmVzIGNhbiBibG9jayBvdGhlciBjaG9yZXMuXG4gKiBUaGV5IGNhbm5vdCBydW4gdW50aWwgdGhlIGJsb2NraW5nIGNob3JlIGhhcyBjb21wbGV0ZWQuXG4gKlxuICogVGhlIG1hdGNoIGZ1bmN0aW9uIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIHRoZSBibG9ja2VkIGNob3JlIGlzIGJsb2NrZWQgYnkgdGhlIGJsb2NraW5nIGNob3JlLlxuICogVGhlIG1hdGNoIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIHRoZSBibG9ja2VkIGNob3JlLCB0aGUgYmxvY2tpbmcgY2hvcmUsIGFuZCB0aGUgY29udGFpbmVyLlxuICovXG5cbmNvbnN0IFZJU0lCTEVfQkxPQ0tJTkdfUlVMRVM6IEJsb2NraW5nUnVsZVtdID0gW1xuICAvLyBOT0RFX0RJRkYgYmxvY2tzIFZJU0lCTEUgb24gc2FtZSBob3N0LFxuICAvLyBpZiB0aGUgYmxvY2tlZCBjaG9yZSBpcyBhIGNoaWxkIG9mIHRoZSBibG9ja2luZyBjaG9yZVxuICAvLyBvciB0aGUgYmxvY2tlZCBjaG9yZSBpcyBhIHNpYmxpbmcgb2YgdGhlIGJsb2NraW5nIGNob3JlXG4gIHtcbiAgICBibG9ja2VkVHlwZTogQ2hvcmVUeXBlLlZJU0lCTEUsXG4gICAgYmxvY2tpbmdUeXBlOiBDaG9yZVR5cGUuTk9ERV9ESUZGLFxuICAgIG1hdGNoOiAoYmxvY2tlZCwgYmxvY2tpbmcpID0+XG4gICAgICBpc0Rlc2NlbmRhbnQoYmxvY2tlZCwgYmxvY2tpbmcpIHx8IGlzRGVzY2VuZGFudChibG9ja2luZywgYmxvY2tlZCksXG4gIH0sXG4gIC8vIENPTVBPTkVOVCBibG9ja3MgVklTSUJMRSBvbiBzYW1lIGhvc3RcbiAgLy8gaWYgdGhlIGJsb2NrZWQgY2hvcmUgaXMgYSBjaGlsZCBvZiB0aGUgYmxvY2tpbmcgY2hvcmVcbiAgLy8gb3IgdGhlIGJsb2NrZWQgY2hvcmUgaXMgYSBzaWJsaW5nIG9mIHRoZSBibG9ja2luZyBjaG9yZVxuICB7XG4gICAgYmxvY2tlZFR5cGU6IENob3JlVHlwZS5WSVNJQkxFLFxuICAgIGJsb2NraW5nVHlwZTogQ2hvcmVUeXBlLkNPTVBPTkVOVCxcbiAgICBtYXRjaDogKGJsb2NrZWQsIGJsb2NraW5nKSA9PlxuICAgICAgaXNEZXNjZW5kYW50KGJsb2NrZWQsIGJsb2NraW5nKSB8fCBpc0Rlc2NlbmRhbnQoYmxvY2tpbmcsIGJsb2NrZWQpLFxuICB9LFxuXTtcblxuY29uc3QgQkxPQ0tJTkdfUlVMRVM6IEJsb2NraW5nUnVsZVtdID0gW1xuICAvLyBRUkxfUkVTT0xWRSBibG9ja3MgUlVOX1FSTCwgVEFTSywgVklTSUJMRSBvbiBzYW1lIGhvc3RcbiAge1xuICAgIGJsb2NrZWRUeXBlOiBDaG9yZVR5cGUuUlVOX1FSTCxcbiAgICBibG9ja2luZ1R5cGU6IENob3JlVHlwZS5RUkxfUkVTT0xWRSxcbiAgICBtYXRjaDogKGJsb2NrZWQsIGJsb2NraW5nKSA9PiB7XG4gICAgICBjb25zdCBibG9ja2VkUXJsID0gYmxvY2tlZC4kdGFyZ2V0JCBhcyBRUkxJbnRlcm5hbDx1bmtub3duPjtcbiAgICAgIGNvbnN0IGJsb2NraW5nUXJsID0gYmxvY2tpbmcuJHRhcmdldCQgYXMgUVJMSW50ZXJuYWw8dW5rbm93bj47XG4gICAgICByZXR1cm4gaXNTYW1lSG9zdChibG9ja2VkLCBibG9ja2luZykgJiYgaXNTYW1lUXJsKGJsb2NrZWRRcmwsIGJsb2NraW5nUXJsKTtcbiAgICB9LFxuICB9LFxuICB7XG4gICAgYmxvY2tlZFR5cGU6IENob3JlVHlwZS5UQVNLLFxuICAgIGJsb2NraW5nVHlwZTogQ2hvcmVUeXBlLlFSTF9SRVNPTFZFLFxuICAgIG1hdGNoOiAoYmxvY2tlZCwgYmxvY2tpbmcpID0+IHtcbiAgICAgIGNvbnN0IGJsb2NrZWRUYXNrID0gYmxvY2tlZC4kcGF5bG9hZCQgYXMgVGFzaztcbiAgICAgIGNvbnN0IGJsb2NraW5nUXJsID0gYmxvY2tpbmcuJHRhcmdldCQgYXMgUVJMSW50ZXJuYWw8dW5rbm93bj47XG4gICAgICByZXR1cm4gaXNTYW1lSG9zdChibG9ja2VkLCBibG9ja2luZykgJiYgaXNTYW1lUXJsKGJsb2NrZWRUYXNrLiRxcmwkLCBibG9ja2luZ1FybCk7XG4gICAgfSxcbiAgfSxcbiAge1xuICAgIGJsb2NrZWRUeXBlOiBDaG9yZVR5cGUuVklTSUJMRSxcbiAgICBibG9ja2luZ1R5cGU6IENob3JlVHlwZS5RUkxfUkVTT0xWRSxcbiAgICBtYXRjaDogKGJsb2NrZWQsIGJsb2NraW5nKSA9PiB7XG4gICAgICBjb25zdCBibG9ja2VkVGFzayA9IGJsb2NrZWQuJHBheWxvYWQkIGFzIFRhc2s7XG4gICAgICBjb25zdCBibG9ja2luZ1FybCA9IGJsb2NraW5nLiR0YXJnZXQkIGFzIFFSTEludGVybmFsPHVua25vd24+O1xuICAgICAgcmV0dXJuIGlzU2FtZUhvc3QoYmxvY2tlZCwgYmxvY2tpbmcpICYmIGlzU2FtZVFybChibG9ja2VkVGFzay4kcXJsJCwgYmxvY2tpbmdRcmwpO1xuICAgIH0sXG4gIH0sXG4gIC8vIENPTVBPTkVOVCBibG9ja3MgTk9ERV9ESUZGLCBOT0RFX1BST1Agb24gc2FtZSBob3N0XG4gIHtcbiAgICBibG9ja2VkVHlwZTogQ2hvcmVUeXBlLk5PREVfRElGRixcbiAgICBibG9ja2luZ1R5cGU6IENob3JlVHlwZS5DT01QT05FTlQsXG4gICAgbWF0Y2g6IChibG9ja2VkLCBibG9ja2luZykgPT4gYmxvY2tlZC4kaG9zdCQgPT09IGJsb2NraW5nLiRob3N0JCxcbiAgfSxcbiAge1xuICAgIGJsb2NrZWRUeXBlOiBDaG9yZVR5cGUuTk9ERV9QUk9QLFxuICAgIGJsb2NraW5nVHlwZTogQ2hvcmVUeXBlLkNPTVBPTkVOVCxcbiAgICBtYXRjaDogKGJsb2NrZWQsIGJsb2NraW5nKSA9PiBibG9ja2VkLiRob3N0JCA9PT0gYmxvY2tpbmcuJGhvc3QkLFxuICB9LFxuICAuLi5WSVNJQkxFX0JMT0NLSU5HX1JVTEVTLFxuICAvLyBUQVNLIGJsb2NrcyBzdWJzZXF1ZW50IFRBU0tzIGluIHRoZSBzYW1lIGNvbXBvbmVudFxuICB7XG4gICAgYmxvY2tlZFR5cGU6IENob3JlVHlwZS5UQVNLLFxuICAgIGJsb2NraW5nVHlwZTogQ2hvcmVUeXBlLlRBU0ssXG4gICAgbWF0Y2g6IChibG9ja2VkLCBibG9ja2luZywgY29udGFpbmVyKSA9PiB7XG4gICAgICBpZiAoYmxvY2tlZC4kaG9zdCQgIT09IGJsb2NraW5nLiRob3N0JCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGJsb2NrZWRJZHggPSBibG9ja2VkLiRpZHgkIGFzIG51bWJlcjtcbiAgICAgIGlmICghaXNOdW1iZXIoYmxvY2tlZElkeCkgfHwgYmxvY2tlZElkeCA8PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByZXZpb3VzVGFzayA9IGZpbmRQcmV2aW91c1Rhc2tJbkNvbXBvbmVudChibG9ja2VkLiRob3N0JCwgYmxvY2tlZElkeCwgY29udGFpbmVyKTtcbiAgICAgIHJldHVybiBwcmV2aW91c1Rhc2sgPT09IGJsb2NraW5nLiRwYXlsb2FkJDtcbiAgICB9LFxuICB9LFxuXTtcblxuZnVuY3Rpb24gaXNEZXNjZW5kYW50KGRlc2NlbmRhbnRDaG9yZTogQ2hvcmUsIGFuY2VzdG9yQ2hvcmU6IENob3JlKTogYm9vbGVhbiB7XG4gIGNvbnN0IGRlc2NlbmRhbnRIb3N0ID0gZGVzY2VuZGFudENob3JlLiRob3N0JDtcbiAgY29uc3QgYW5jZXN0b3JIb3N0ID0gYW5jZXN0b3JDaG9yZS4kaG9zdCQ7XG4gIGlmICghdm5vZGVfaXNWTm9kZShkZXNjZW5kYW50SG9zdCkgfHwgIXZub2RlX2lzVk5vZGUoYW5jZXN0b3JIb3N0KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdm5vZGVfaXNEZXNjZW5kYW50T2YoZGVzY2VuZGFudEhvc3QsIGFuY2VzdG9ySG9zdCk7XG59XG5cbmZ1bmN0aW9uIGlzU2FtZUhvc3QoYTogQ2hvcmUsIGI6IENob3JlKTogYm9vbGVhbiB7XG4gIHJldHVybiBhLiRob3N0JCA9PT0gYi4kaG9zdCQ7XG59XG5cbmZ1bmN0aW9uIGlzU2FtZVFybChhOiBRUkxJbnRlcm5hbDx1bmtub3duPiwgYjogUVJMSW50ZXJuYWw8dW5rbm93bj4pOiBib29sZWFuIHtcbiAgcmV0dXJuIGEuJHN5bWJvbCQgPT09IGIuJHN5bWJvbCQ7XG59XG5cbmZ1bmN0aW9uIGZpbmRBbmNlc3RvckJsb2NraW5nQ2hvcmUoY2hvcmU6IENob3JlLCB0eXBlOiBDaG9yZVNldFR5cGUpOiBDaG9yZSB8IG51bGwge1xuICBjb25zdCBob3N0ID0gY2hvcmUuJGhvc3QkO1xuICBpZiAoIXZub2RlX2lzVk5vZGUoaG9zdCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBpc05vcm1hbFF1ZXVlID0gdHlwZSA9PT0gQ2hvcmVTZXRUeXBlLkNIT1JFUztcbiAgLy8gV2FsayB1cCB0aGUgYW5jZXN0b3IgdHJlZSBhbmQgY2hlY2sgdGhlIG1hcFxuICBsZXQgY3VycmVudDogVk5vZGUgfCBudWxsID0gaG9zdDtcbiAgY3VycmVudCA9IHZub2RlX2dldFByb2plY3Rpb25QYXJlbnRPclBhcmVudChjdXJyZW50KTtcbiAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICBjb25zdCBibG9ja2luZ0Nob3JlcyA9IGlzTm9ybWFsUXVldWUgPyBjdXJyZW50LmNob3JlcyA6IGN1cnJlbnQuYmxvY2tlZENob3JlcztcbiAgICBpZiAoYmxvY2tpbmdDaG9yZXMpIHtcbiAgICAgIGZvciAoY29uc3QgYmxvY2tpbmdDaG9yZSBvZiBibG9ja2luZ0Nob3Jlcykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgYmxvY2tpbmdDaG9yZS4kdHlwZSQgPCBDaG9yZVR5cGUuVklTSUJMRSAmJlxuICAgICAgICAgIGJsb2NraW5nQ2hvcmUuJHR5cGUkICE9PSBDaG9yZVR5cGUuVEFTSyAmJlxuICAgICAgICAgIGJsb2NraW5nQ2hvcmUuJHR5cGUkICE9PSBDaG9yZVR5cGUuUVJMX1JFU09MVkUgJiZcbiAgICAgICAgICBibG9ja2luZ0Nob3JlLiR0eXBlJCAhPT0gQ2hvcmVUeXBlLlJVTl9RUkxcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGJsb2NraW5nQ2hvcmU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY3VycmVudCA9IHZub2RlX2dldFByb2plY3Rpb25QYXJlbnRPclBhcmVudChjdXJyZW50KTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRCbG9ja2luZ0Nob3JlKFxuICBjaG9yZTogQ2hvcmUsXG4gIGNob3JlUXVldWU6IENob3JlQXJyYXksXG4gIGJsb2NrZWRDaG9yZXM6IFNldDxDaG9yZT4sXG4gIHJ1bm5pbmdDaG9yZXM6IFNldDxDaG9yZT4sXG4gIGNvbnRhaW5lcjogQ29udGFpbmVyXG4pOiBDaG9yZSB8IG51bGwge1xuICBjb25zdCBibG9ja2luZ0Nob3JlSW5DaG9yZVF1ZXVlID0gZmluZEFuY2VzdG9yQmxvY2tpbmdDaG9yZShjaG9yZSwgQ2hvcmVTZXRUeXBlLkNIT1JFUyk7XG4gIGlmIChibG9ja2luZ0Nob3JlSW5DaG9yZVF1ZXVlKSB7XG4gICAgcmV0dXJuIGJsb2NraW5nQ2hvcmVJbkNob3JlUXVldWU7XG4gIH1cbiAgY29uc3QgYmxvY2tpbmdDaG9yZUluQmxvY2tlZENob3JlcyA9IGZpbmRBbmNlc3RvckJsb2NraW5nQ2hvcmUoXG4gICAgY2hvcmUsXG4gICAgQ2hvcmVTZXRUeXBlLkJMT0NLRURfQ0hPUkVTXG4gICk7XG4gIGlmIChibG9ja2luZ0Nob3JlSW5CbG9ja2VkQ2hvcmVzKSB7XG4gICAgcmV0dXJuIGJsb2NraW5nQ2hvcmVJbkJsb2NrZWRDaG9yZXM7XG4gIH1cblxuICBmb3IgKGNvbnN0IHJ1bGUgb2YgQkxPQ0tJTkdfUlVMRVMpIHtcbiAgICBpZiAoY2hvcmUuJHR5cGUkICE9PSBydWxlLmJsb2NrZWRUeXBlKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpbiBjaG9yZVF1ZXVlXG4gICAgLy8gVE9ETyhwZXJmKTogYmV0dGVyIHRvIGl0ZXJhdGUgaW4gcmV2ZXJzZSBvcmRlcj9cbiAgICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiBjaG9yZVF1ZXVlKSB7XG4gICAgICBpZiAoY2FuZGlkYXRlLiR0eXBlJCA9PT0gcnVsZS5ibG9ja2luZ1R5cGUgJiYgcnVsZS5tYXRjaChjaG9yZSwgY2FuZGlkYXRlLCBjb250YWluZXIpKSB7XG4gICAgICAgIHJldHVybiBjYW5kaWRhdGU7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIENoZWNrIGluIGJsb2NrZWRDaG9yZXNcbiAgICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiBibG9ja2VkQ2hvcmVzKSB7XG4gICAgICBpZiAoY2FuZGlkYXRlLiR0eXBlJCA9PT0gcnVsZS5ibG9ja2luZ1R5cGUgJiYgcnVsZS5tYXRjaChjaG9yZSwgY2FuZGlkYXRlLCBjb250YWluZXIpKSB7XG4gICAgICAgIHJldHVybiBjYW5kaWRhdGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaW4gcnVubmluZ0Nob3Jlc1xuICAgIGZvciAoY29uc3QgY2FuZGlkYXRlIG9mIHJ1bm5pbmdDaG9yZXMpIHtcbiAgICAgIGlmIChjYW5kaWRhdGUuJHR5cGUkID09PSBydWxlLmJsb2NraW5nVHlwZSAmJiBydWxlLm1hdGNoKGNob3JlLCBjYW5kaWRhdGUsIGNvbnRhaW5lcikpIHtcbiAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGZpbmRQcmV2aW91c1Rhc2tJbkNvbXBvbmVudChcbiAgaG9zdDogSG9zdEVsZW1lbnQsXG4gIGN1cnJlbnRUYXNrSWR4OiBudW1iZXIsXG4gIGNvbnRhaW5lcjogQ29udGFpbmVyXG4pOiBUYXNrIHwgbnVsbCB7XG4gIGNvbnN0IGVsZW1lbnRTZXEgPSBjb250YWluZXIuZ2V0SG9zdFByb3A8dW5rbm93bltdIHwgbnVsbD4oaG9zdCwgRUxFTUVOVF9TRVEpO1xuICBpZiAoIWVsZW1lbnRTZXEgfHwgZWxlbWVudFNlcS5sZW5ndGggPD0gY3VycmVudFRhc2tJZHgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSBjdXJyZW50VGFza0lkeCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgY29uc3QgY2FuZGlkYXRlID0gZWxlbWVudFNlcVtpXTtcbiAgICBpZiAoY2FuZGlkYXRlIGluc3RhbmNlb2YgVGFzayAmJiBjYW5kaWRhdGUuJGZsYWdzJCAmIFRhc2tGbGFncy5UQVNLKSB7XG4gICAgICByZXR1cm4gY2FuZGlkYXRlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRCbG9ja2luZ0Nob3JlRm9yVmlzaWJsZShcbiAgY2hvcmU6IENob3JlLFxuICBydW5uaW5nQ2hvcmVzOiBTZXQ8Q2hvcmU+LFxuICBjb250YWluZXI6IENvbnRhaW5lclxuKTogQ2hvcmUgfCBudWxsIHtcbiAgZm9yIChjb25zdCBydWxlIG9mIFZJU0lCTEVfQkxPQ0tJTkdfUlVMRVMpIHtcbiAgICBpZiAoY2hvcmUuJHR5cGUkICE9PSBydWxlLmJsb2NrZWRUeXBlKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiBydW5uaW5nQ2hvcmVzKSB7XG4gICAgICBpZiAoY2FuZGlkYXRlLiR0eXBlJCA9PT0gcnVsZS5ibG9ja2luZ1R5cGUgJiYgcnVsZS5tYXRjaChjaG9yZSwgY2FuZGlkYXRlLCBjb250YWluZXIpKSB7XG4gICAgICAgIHJldHVybiBjYW5kaWRhdGU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuIl19","// This can't be in platform.ts because it uses MessageChannel which cannot post messages with functions\n// TODO: move this to platform.ts somehow\nexport const createNextTick = (fn) => {\n    let nextTick;\n    // according to the https://developer.mozilla.org/en-US/docs/Web/API/Window/setImmediate#notes\n    if (typeof setImmediate === 'function') {\n        // setImmediate is the fastest way to schedule a task, but works only in node.js\n        nextTick = () => {\n            setImmediate(fn);\n        };\n    }\n    else if (typeof MessageChannel !== 'undefined') {\n        const channel = new MessageChannel();\n        channel.port1.onmessage = () => {\n            fn();\n        };\n        nextTick = () => {\n            channel.port2.postMessage(null);\n        };\n    }\n    else {\n        // setTimeout is a fallback, creates 4ms delay\n        nextTick = () => {\n            setTimeout(fn);\n        };\n    }\n    return nextTick;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmV4dC10aWNrLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC9wbGF0Zm9ybS9uZXh0LXRpY2sudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsd0dBQXdHO0FBQ3hHLHlDQUF5QztBQUN6QyxNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsQ0FBQyxFQUFjLEVBQUUsRUFBRTtJQUMvQyxJQUFJLFFBQW9CLENBQUM7SUFDekIsOEZBQThGO0lBQzlGLElBQUksT0FBTyxZQUFZLEtBQUssVUFBVSxFQUFFLENBQUM7UUFDdkMsZ0ZBQWdGO1FBQ2hGLFFBQVEsR0FBRyxHQUFHLEVBQUU7WUFDZCxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDbkIsQ0FBQyxDQUFDO0lBQ0osQ0FBQztTQUFNLElBQUksT0FBTyxjQUFjLEtBQUssV0FBVyxFQUFFLENBQUM7UUFDakQsTUFBTSxPQUFPLEdBQUcsSUFBSSxjQUFjLEVBQUUsQ0FBQztRQUNyQyxPQUFPLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxHQUFHLEVBQUU7WUFDN0IsRUFBRSxFQUFFLENBQUM7UUFDUCxDQUFDLENBQUM7UUFDRixRQUFRLEdBQUcsR0FBRyxFQUFFO1lBQ2QsT0FBTyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbEMsQ0FBQyxDQUFDO0lBQ0osQ0FBQztTQUFNLENBQUM7UUFDTiw4Q0FBOEM7UUFDOUMsUUFBUSxHQUFHLEdBQUcsRUFBRTtZQUNkLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNqQixDQUFDLENBQUM7SUFDSixDQUFDO0lBRUQsT0FBTyxRQUFRLENBQUM7QUFDbEIsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhpcyBjYW4ndCBiZSBpbiBwbGF0Zm9ybS50cyBiZWNhdXNlIGl0IHVzZXMgTWVzc2FnZUNoYW5uZWwgd2hpY2ggY2Fubm90IHBvc3QgbWVzc2FnZXMgd2l0aCBmdW5jdGlvbnNcbi8vIFRPRE86IG1vdmUgdGhpcyB0byBwbGF0Zm9ybS50cyBzb21laG93XG5leHBvcnQgY29uc3QgY3JlYXRlTmV4dFRpY2sgPSAoZm46ICgpID0+IHZvaWQpID0+IHtcbiAgbGV0IG5leHRUaWNrOiAoKSA9PiB2b2lkO1xuICAvLyBhY2NvcmRpbmcgdG8gdGhlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaW5kb3cvc2V0SW1tZWRpYXRlI25vdGVzXG4gIGlmICh0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gc2V0SW1tZWRpYXRlIGlzIHRoZSBmYXN0ZXN0IHdheSB0byBzY2hlZHVsZSBhIHRhc2ssIGJ1dCB3b3JrcyBvbmx5IGluIG5vZGUuanNcbiAgICBuZXh0VGljayA9ICgpID0+IHtcbiAgICAgIHNldEltbWVkaWF0ZShmbik7XG4gICAgfTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgTWVzc2FnZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc3QgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gKCkgPT4ge1xuICAgICAgZm4oKTtcbiAgICB9O1xuICAgIG5leHRUaWNrID0gKCkgPT4ge1xuICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZShudWxsKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIC8vIHNldFRpbWVvdXQgaXMgYSBmYWxsYmFjaywgY3JlYXRlcyA0bXMgZGVsYXlcbiAgICBuZXh0VGljayA9ICgpID0+IHtcbiAgICAgIHNldFRpbWVvdXQoZm4pO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gbmV4dFRpY2s7XG59O1xuIl19","/// These global variables are used to avoid creating new arrays for each call to `vnode_documentPosition`.\nconst aVNodePath = [];\nconst bVNodePath = [];\n/**\n * Compare two VNodes and determine their document position relative to each other.\n *\n * @param a VNode to compare\n * @param b VNode to compare\n * @returns -1 if `a` is before `b`, 0 if `a` is the same as `b`, 1 if `a` is after `b`.\n */\nexport const vnode_documentPosition = (a, b) => {\n    if (a === b) {\n        return 0;\n    }\n    let aDepth = -1;\n    let bDepth = -1;\n    while (a) {\n        const vNode = (aVNodePath[++aDepth] = a);\n        a = (vNode.parent || a.slotParent);\n    }\n    while (b) {\n        const vNode = (bVNodePath[++bDepth] = b);\n        b = (vNode.parent || b.slotParent);\n    }\n    while (aDepth >= 0 && bDepth >= 0) {\n        a = aVNodePath[aDepth];\n        b = bVNodePath[bDepth];\n        if (a === b) {\n            // if the nodes are the same, we need to check the next level.\n            aDepth--;\n            bDepth--;\n        }\n        else {\n            // We found a difference so we need to scan nodes at this level.\n            let cursor = b;\n            do {\n                cursor = cursor.nextSibling;\n                if (cursor === a) {\n                    return 1;\n                }\n            } while (cursor);\n            cursor = b;\n            do {\n                cursor = cursor.previousSibling;\n                if (cursor === a) {\n                    return -1;\n                }\n            } while (cursor);\n            if (b.slotParent) {\n                // The \"b\" node is a projection, so we need to set it after \"a\" node,\n                // because the \"a\" node could be a context provider.\n                return -1;\n            }\n            // The node is not in the list of siblings, that means it must be disconnected.\n            return 1;\n        }\n    }\n    return aDepth < bDepth ? -1 : 1;\n};\n/// These global variables are used to avoid creating new arrays for each call to `ssrNodeDocumentPosition`.\nconst aSsrNodePath = [];\nconst bSsrNodePath = [];\n/**\n * Compare two SSR nodes and determine their document position relative to each other. Compares only\n * position between parent and child.\n *\n * @param a SSR node to compare\n * @param b SSR node to compare\n * @returns -1 if `a` is before `b`, 0 if `a` is the same as `b`, 1 if `a` is after `b`.\n */\nexport const ssrNodeDocumentPosition = (a, b) => {\n    if (a === b) {\n        return 0;\n    }\n    let aDepth = -1;\n    let bDepth = -1;\n    while (a) {\n        const ssrNode = (aSsrNodePath[++aDepth] = a);\n        a = ssrNode.parentComponent;\n    }\n    while (b) {\n        const ssrNode = (bSsrNodePath[++bDepth] = b);\n        b = ssrNode.parentComponent;\n    }\n    while (aDepth >= 0 && bDepth >= 0) {\n        a = aSsrNodePath[aDepth];\n        b = bSsrNodePath[bDepth];\n        if (a === b) {\n            // if the nodes are the same, we need to check the next level.\n            aDepth--;\n            bDepth--;\n        }\n        else {\n            return 1;\n        }\n    }\n    return aDepth < bDepth ? -1 : 1;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NoZWR1bGVyLWRvY3VtZW50LXBvc2l0aW9uLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC9zY2hlZHVsZXItZG9jdW1lbnQtcG9zaXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0EsMkdBQTJHO0FBQzNHLE1BQU0sVUFBVSxHQUFZLEVBQUUsQ0FBQztBQUMvQixNQUFNLFVBQVUsR0FBWSxFQUFFLENBQUM7QUFDL0I7Ozs7OztHQU1HO0FBQ0gsTUFBTSxDQUFDLE1BQU0sc0JBQXNCLEdBQUcsQ0FBQyxDQUFRLEVBQUUsQ0FBUSxFQUFjLEVBQUU7SUFDdkUsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7UUFDWixPQUFPLENBQUMsQ0FBQztJQUNYLENBQUM7SUFFRCxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNoQixJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNoQixPQUFPLENBQUMsRUFBRSxDQUFDO1FBQ1QsTUFBTSxLQUFLLEdBQUcsQ0FBQyxVQUFVLENBQUMsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN6QyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxVQUFVLENBQUUsQ0FBQztJQUN0QyxDQUFDO0lBQ0QsT0FBTyxDQUFDLEVBQUUsQ0FBQztRQUNULE1BQU0sS0FBSyxHQUFHLENBQUMsVUFBVSxDQUFDLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDekMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUMsVUFBVSxDQUFFLENBQUM7SUFDdEMsQ0FBQztJQUVELE9BQU8sTUFBTSxJQUFJLENBQUMsSUFBSSxNQUFNLElBQUksQ0FBQyxFQUFFLENBQUM7UUFDbEMsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQVUsQ0FBQztRQUNoQyxDQUFDLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBVSxDQUFDO1FBQ2hDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQ1osOERBQThEO1lBQzlELE1BQU0sRUFBRSxDQUFDO1lBQ1QsTUFBTSxFQUFFLENBQUM7UUFDWCxDQUFDO2FBQU0sQ0FBQztZQUNOLGdFQUFnRTtZQUNoRSxJQUFJLE1BQU0sR0FBNkIsQ0FBQyxDQUFDO1lBQ3pDLEdBQUcsQ0FBQztnQkFDRixNQUFNLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQztnQkFDNUIsSUFBSSxNQUFNLEtBQUssQ0FBQyxFQUFFLENBQUM7b0JBQ2pCLE9BQU8sQ0FBQyxDQUFDO2dCQUNYLENBQUM7WUFDSCxDQUFDLFFBQVEsTUFBTSxFQUFFO1lBQ2pCLE1BQU0sR0FBRyxDQUFDLENBQUM7WUFDWCxHQUFHLENBQUM7Z0JBQ0YsTUFBTSxHQUFHLE1BQU0sQ0FBQyxlQUFlLENBQUM7Z0JBQ2hDLElBQUksTUFBTSxLQUFLLENBQUMsRUFBRSxDQUFDO29CQUNqQixPQUFPLENBQUMsQ0FBQyxDQUFDO2dCQUNaLENBQUM7WUFDSCxDQUFDLFFBQVEsTUFBTSxFQUFFO1lBQ2pCLElBQUksQ0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFDO2dCQUNqQixxRUFBcUU7Z0JBQ3JFLG9EQUFvRDtnQkFDcEQsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUNaLENBQUM7WUFDRCwrRUFBK0U7WUFDL0UsT0FBTyxDQUFDLENBQUM7UUFDWCxDQUFDO0lBQ0gsQ0FBQztJQUNELE9BQU8sTUFBTSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNsQyxDQUFDLENBQUM7QUFFRiw0R0FBNEc7QUFDNUcsTUFBTSxZQUFZLEdBQWUsRUFBRSxDQUFDO0FBQ3BDLE1BQU0sWUFBWSxHQUFlLEVBQUUsQ0FBQztBQUNwQzs7Ozs7OztHQU9HO0FBQ0gsTUFBTSxDQUFDLE1BQU0sdUJBQXVCLEdBQUcsQ0FBQyxDQUFXLEVBQUUsQ0FBVyxFQUFjLEVBQUU7SUFDOUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7UUFDWixPQUFPLENBQUMsQ0FBQztJQUNYLENBQUM7SUFFRCxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNoQixJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNoQixPQUFPLENBQUMsRUFBRSxDQUFDO1FBQ1QsTUFBTSxPQUFPLEdBQUcsQ0FBQyxZQUFZLENBQUMsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM3QyxDQUFDLEdBQUcsT0FBTyxDQUFDLGVBQWdCLENBQUM7SUFDL0IsQ0FBQztJQUNELE9BQU8sQ0FBQyxFQUFFLENBQUM7UUFDVCxNQUFNLE9BQU8sR0FBRyxDQUFDLFlBQVksQ0FBQyxFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzdDLENBQUMsR0FBRyxPQUFPLENBQUMsZUFBZ0IsQ0FBQztJQUMvQixDQUFDO0lBRUQsT0FBTyxNQUFNLElBQUksQ0FBQyxJQUFJLE1BQU0sSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUNsQyxDQUFDLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBYSxDQUFDO1FBQ3JDLENBQUMsR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFhLENBQUM7UUFDckMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDWiw4REFBOEQ7WUFDOUQsTUFBTSxFQUFFLENBQUM7WUFDVCxNQUFNLEVBQUUsQ0FBQztRQUNYLENBQUM7YUFBTSxDQUFDO1lBQ04sT0FBTyxDQUFDLENBQUM7UUFDWCxDQUFDO0lBQ0gsQ0FBQztJQUNELE9BQU8sTUFBTSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNsQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFZOb2RlIH0gZnJvbSAnLi4vY2xpZW50L3Zub2RlLWltcGwnO1xuaW1wb3J0IHR5cGUgeyBJU3NyTm9kZSB9IGZyb20gJy4uL3Nzci9zc3ItdHlwZXMnO1xuXG4vLy8gVGhlc2UgZ2xvYmFsIHZhcmlhYmxlcyBhcmUgdXNlZCB0byBhdm9pZCBjcmVhdGluZyBuZXcgYXJyYXlzIGZvciBlYWNoIGNhbGwgdG8gYHZub2RlX2RvY3VtZW50UG9zaXRpb25gLlxuY29uc3QgYVZOb2RlUGF0aDogVk5vZGVbXSA9IFtdO1xuY29uc3QgYlZOb2RlUGF0aDogVk5vZGVbXSA9IFtdO1xuLyoqXG4gKiBDb21wYXJlIHR3byBWTm9kZXMgYW5kIGRldGVybWluZSB0aGVpciBkb2N1bWVudCBwb3NpdGlvbiByZWxhdGl2ZSB0byBlYWNoIG90aGVyLlxuICpcbiAqIEBwYXJhbSBhIFZOb2RlIHRvIGNvbXBhcmVcbiAqIEBwYXJhbSBiIFZOb2RlIHRvIGNvbXBhcmVcbiAqIEByZXR1cm5zIC0xIGlmIGBhYCBpcyBiZWZvcmUgYGJgLCAwIGlmIGBhYCBpcyB0aGUgc2FtZSBhcyBgYmAsIDEgaWYgYGFgIGlzIGFmdGVyIGBiYC5cbiAqL1xuZXhwb3J0IGNvbnN0IHZub2RlX2RvY3VtZW50UG9zaXRpb24gPSAoYTogVk5vZGUsIGI6IFZOb2RlKTogLTEgfCAwIHwgMSA9PiB7XG4gIGlmIChhID09PSBiKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBsZXQgYURlcHRoID0gLTE7XG4gIGxldCBiRGVwdGggPSAtMTtcbiAgd2hpbGUgKGEpIHtcbiAgICBjb25zdCB2Tm9kZSA9IChhVk5vZGVQYXRoWysrYURlcHRoXSA9IGEpO1xuICAgIGEgPSAodk5vZGUucGFyZW50IHx8IGEuc2xvdFBhcmVudCkhO1xuICB9XG4gIHdoaWxlIChiKSB7XG4gICAgY29uc3Qgdk5vZGUgPSAoYlZOb2RlUGF0aFsrK2JEZXB0aF0gPSBiKTtcbiAgICBiID0gKHZOb2RlLnBhcmVudCB8fCBiLnNsb3RQYXJlbnQpITtcbiAgfVxuXG4gIHdoaWxlIChhRGVwdGggPj0gMCAmJiBiRGVwdGggPj0gMCkge1xuICAgIGEgPSBhVk5vZGVQYXRoW2FEZXB0aF0gYXMgVk5vZGU7XG4gICAgYiA9IGJWTm9kZVBhdGhbYkRlcHRoXSBhcyBWTm9kZTtcbiAgICBpZiAoYSA9PT0gYikge1xuICAgICAgLy8gaWYgdGhlIG5vZGVzIGFyZSB0aGUgc2FtZSwgd2UgbmVlZCB0byBjaGVjayB0aGUgbmV4dCBsZXZlbC5cbiAgICAgIGFEZXB0aC0tO1xuICAgICAgYkRlcHRoLS07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFdlIGZvdW5kIGEgZGlmZmVyZW5jZSBzbyB3ZSBuZWVkIHRvIHNjYW4gbm9kZXMgYXQgdGhpcyBsZXZlbC5cbiAgICAgIGxldCBjdXJzb3I6IFZOb2RlIHwgbnVsbCB8IHVuZGVmaW5lZCA9IGI7XG4gICAgICBkbyB7XG4gICAgICAgIGN1cnNvciA9IGN1cnNvci5uZXh0U2libGluZztcbiAgICAgICAgaWYgKGN1cnNvciA9PT0gYSkge1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChjdXJzb3IpO1xuICAgICAgY3Vyc29yID0gYjtcbiAgICAgIGRvIHtcbiAgICAgICAgY3Vyc29yID0gY3Vyc29yLnByZXZpb3VzU2libGluZztcbiAgICAgICAgaWYgKGN1cnNvciA9PT0gYSkge1xuICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAoY3Vyc29yKTtcbiAgICAgIGlmIChiLnNsb3RQYXJlbnQpIHtcbiAgICAgICAgLy8gVGhlIFwiYlwiIG5vZGUgaXMgYSBwcm9qZWN0aW9uLCBzbyB3ZSBuZWVkIHRvIHNldCBpdCBhZnRlciBcImFcIiBub2RlLFxuICAgICAgICAvLyBiZWNhdXNlIHRoZSBcImFcIiBub2RlIGNvdWxkIGJlIGEgY29udGV4dCBwcm92aWRlci5cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgLy8gVGhlIG5vZGUgaXMgbm90IGluIHRoZSBsaXN0IG9mIHNpYmxpbmdzLCB0aGF0IG1lYW5zIGl0IG11c3QgYmUgZGlzY29ubmVjdGVkLlxuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICB9XG4gIHJldHVybiBhRGVwdGggPCBiRGVwdGggPyAtMSA6IDE7XG59O1xuXG4vLy8gVGhlc2UgZ2xvYmFsIHZhcmlhYmxlcyBhcmUgdXNlZCB0byBhdm9pZCBjcmVhdGluZyBuZXcgYXJyYXlzIGZvciBlYWNoIGNhbGwgdG8gYHNzck5vZGVEb2N1bWVudFBvc2l0aW9uYC5cbmNvbnN0IGFTc3JOb2RlUGF0aDogSVNzck5vZGVbXSA9IFtdO1xuY29uc3QgYlNzck5vZGVQYXRoOiBJU3NyTm9kZVtdID0gW107XG4vKipcbiAqIENvbXBhcmUgdHdvIFNTUiBub2RlcyBhbmQgZGV0ZXJtaW5lIHRoZWlyIGRvY3VtZW50IHBvc2l0aW9uIHJlbGF0aXZlIHRvIGVhY2ggb3RoZXIuIENvbXBhcmVzIG9ubHlcbiAqIHBvc2l0aW9uIGJldHdlZW4gcGFyZW50IGFuZCBjaGlsZC5cbiAqXG4gKiBAcGFyYW0gYSBTU1Igbm9kZSB0byBjb21wYXJlXG4gKiBAcGFyYW0gYiBTU1Igbm9kZSB0byBjb21wYXJlXG4gKiBAcmV0dXJucyAtMSBpZiBgYWAgaXMgYmVmb3JlIGBiYCwgMCBpZiBgYWAgaXMgdGhlIHNhbWUgYXMgYGJgLCAxIGlmIGBhYCBpcyBhZnRlciBgYmAuXG4gKi9cbmV4cG9ydCBjb25zdCBzc3JOb2RlRG9jdW1lbnRQb3NpdGlvbiA9IChhOiBJU3NyTm9kZSwgYjogSVNzck5vZGUpOiAtMSB8IDAgfCAxID0+IHtcbiAgaWYgKGEgPT09IGIpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGxldCBhRGVwdGggPSAtMTtcbiAgbGV0IGJEZXB0aCA9IC0xO1xuICB3aGlsZSAoYSkge1xuICAgIGNvbnN0IHNzck5vZGUgPSAoYVNzck5vZGVQYXRoWysrYURlcHRoXSA9IGEpO1xuICAgIGEgPSBzc3JOb2RlLnBhcmVudENvbXBvbmVudCE7XG4gIH1cbiAgd2hpbGUgKGIpIHtcbiAgICBjb25zdCBzc3JOb2RlID0gKGJTc3JOb2RlUGF0aFsrK2JEZXB0aF0gPSBiKTtcbiAgICBiID0gc3NyTm9kZS5wYXJlbnRDb21wb25lbnQhO1xuICB9XG5cbiAgd2hpbGUgKGFEZXB0aCA+PSAwICYmIGJEZXB0aCA+PSAwKSB7XG4gICAgYSA9IGFTc3JOb2RlUGF0aFthRGVwdGhdIGFzIElTc3JOb2RlO1xuICAgIGIgPSBiU3NyTm9kZVBhdGhbYkRlcHRoXSBhcyBJU3NyTm9kZTtcbiAgICBpZiAoYSA9PT0gYikge1xuICAgICAgLy8gaWYgdGhlIG5vZGVzIGFyZSB0aGUgc2FtZSwgd2UgbmVlZCB0byBjaGVjayB0aGUgbmV4dCBsZXZlbC5cbiAgICAgIGFEZXB0aC0tO1xuICAgICAgYkRlcHRoLS07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYURlcHRoIDwgYkRlcHRoID8gLTEgOiAxO1xufTtcbiJdfQ==","import { AsyncComputedSignalImpl } from '../reactive-primitives/impl/async-computed-signal-impl';\nimport { StoreHandler } from '../reactive-primitives/impl/store';\nimport { assertFalse } from '../shared/error/assert';\nimport { isQrl } from '../shared/qrl/qrl-utils';\nimport { ssrNodeDocumentPosition, vnode_documentPosition, } from '../shared/scheduler-document-position';\nimport { vnode_isVNode } from './vnode';\nexport class ChoreArray extends Array {\n    add(value) {\n        /// We need to ensure that the `queue` is sorted by priority.\n        /// 1. Find a place where to insert into.\n        const idx = sortedFindIndex(this, value);\n        if (idx < 0) {\n            /// 2. Insert the chore into the queue.\n            this.splice(~idx, 0, value);\n            return idx;\n        }\n        const existing = this[idx];\n        /**\n         * When a derived signal is updated we need to run vnode_diff. However the signal can update\n         * multiple times during component execution. For this reason it is necessary for us to update\n         * the chore with the latest result of the signal.\n         */\n        if (existing.$payload$ !== value.$payload$) {\n            existing.$payload$ = value.$payload$;\n        }\n        return idx;\n    }\n    delete(value) {\n        const idx = this.indexOf(value);\n        if (idx >= 0) {\n            this.splice(idx, 1);\n        }\n        return idx;\n    }\n}\nexport function sortedFindIndex(sortedArray, value) {\n    /// We need to ensure that the `queue` is sorted by priority.\n    /// 1. Find a place where to insert into.\n    let bottom = 0;\n    let top = sortedArray.length;\n    while (bottom < top) {\n        const middle = bottom + ((top - bottom) >> 1);\n        const midChore = sortedArray[middle];\n        const comp = choreComparator(value, midChore);\n        if (comp < 0) {\n            top = middle;\n        }\n        else if (comp > 0) {\n            bottom = middle + 1;\n        }\n        else {\n            // We already have the host in the queue.\n            return middle;\n        }\n    }\n    return ~bottom;\n}\n/**\n * Compares two chores to determine their execution order in the scheduler's queue.\n *\n * @param a - The first chore to compare\n * @param b - The second chore to compare\n * @returns A number indicating the relative order of the chores. A negative number means `a` runs\n *   before `b`.\n */\nexport function choreComparator(a, b) {\n    const macroTypeDiff = (a.$type$ & 240 /* ChoreType.MACRO */) - (b.$type$ & 240 /* ChoreType.MACRO */);\n    if (macroTypeDiff !== 0) {\n        return macroTypeDiff;\n    }\n    const aHost = a.$host$;\n    const bHost = b.$host$;\n    if (aHost !== bHost && aHost !== null && bHost !== null) {\n        if (vnode_isVNode(aHost) && vnode_isVNode(bHost)) {\n            // we are running on the client.\n            const hostDiff = vnode_documentPosition(aHost, bHost);\n            if (hostDiff !== 0) {\n                return hostDiff;\n            }\n        }\n        else {\n            assertFalse(vnode_isVNode(aHost), 'expected aHost to be SSRNode but it is a VNode');\n            assertFalse(vnode_isVNode(bHost), 'expected bHost to be SSRNode but it is a VNode');\n            const hostDiff = ssrNodeDocumentPosition(aHost, bHost);\n            if (hostDiff !== 0) {\n                return hostDiff;\n            }\n        }\n    }\n    const microTypeDiff = (a.$type$ & 15 /* ChoreType.MICRO */) - (b.$type$ & 15 /* ChoreType.MICRO */);\n    if (microTypeDiff !== 0) {\n        return microTypeDiff;\n    }\n    // types are the same\n    const idxDiff = toNumber(a.$idx$) - toNumber(b.$idx$);\n    if (idxDiff !== 0) {\n        return idxDiff;\n    }\n    // If the host is the same (or missing), and the type is the same,  we need to compare the target.\n    if (a.$target$ !== b.$target$) {\n        if (isQrl(a.$target$) && isQrl(b.$target$) && a.$target$.$hash$ === b.$target$.$hash$) {\n            return 0;\n        }\n        // 1 means that we are going to process chores as FIFO\n        return 1;\n    }\n    // ensure that the effect chores are scheduled for the same target\n    // TODO: can we do this better?\n    if (a.$type$ === 7 /* ChoreType.RECOMPUTE_AND_SCHEDULE_EFFECTS */ &&\n        b.$type$ === 7 /* ChoreType.RECOMPUTE_AND_SCHEDULE_EFFECTS */ &&\n        ((a.$target$ instanceof StoreHandler && b.$target$ instanceof StoreHandler) ||\n            (a.$target$ instanceof AsyncComputedSignalImpl &&\n                b.$target$ instanceof AsyncComputedSignalImpl)) &&\n        a.$payload$ !== b.$payload$) {\n        return 1;\n    }\n    // The chores are the same and will run only once\n    return 0;\n}\nfunction toNumber(value) {\n    return typeof value === 'number' ? value : -1;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hvcmUtYXJyYXkuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvY2xpZW50L2Nob3JlLWFycmF5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLHdEQUF3RCxDQUFDO0FBQ2pHLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxtQ0FBbUMsQ0FBQztBQUNqRSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDckQsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBRWhELE9BQU8sRUFDTCx1QkFBdUIsRUFDdkIsc0JBQXNCLEdBQ3ZCLE1BQU0sdUNBQXVDLENBQUM7QUFHL0MsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUV4QyxNQUFNLE9BQU8sVUFBVyxTQUFRLEtBQVk7SUFDMUMsR0FBRyxDQUFDLEtBQVk7UUFDZCw2REFBNkQ7UUFDN0QseUNBQXlDO1FBQ3pDLE1BQU0sR0FBRyxHQUFHLGVBQWUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFFekMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDWix1Q0FBdUM7WUFDdkMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDNUIsT0FBTyxHQUFHLENBQUM7UUFDYixDQUFDO1FBRUQsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzNCOzs7O1dBSUc7UUFDSCxJQUFJLFFBQVEsQ0FBQyxTQUFTLEtBQUssS0FBSyxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQzNDLFFBQVEsQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQztRQUN2QyxDQUFDO1FBQ0QsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDO0lBRUQsTUFBTSxDQUFDLEtBQVk7UUFDakIsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNoQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUNiLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3RCLENBQUM7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7Q0FDRjtBQUVELE1BQU0sVUFBVSxlQUFlLENBQUMsV0FBb0IsRUFBRSxLQUFZO0lBQ2hFLDZEQUE2RDtJQUM3RCx5Q0FBeUM7SUFDekMsSUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQ2YsSUFBSSxHQUFHLEdBQUcsV0FBVyxDQUFDLE1BQU0sQ0FBQztJQUM3QixPQUFPLE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQztRQUNwQixNQUFNLE1BQU0sR0FBRyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUM5QyxNQUFNLFFBQVEsR0FBRyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDckMsTUFBTSxJQUFJLEdBQUcsZUFBZSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FBQztRQUM5QyxJQUFJLElBQUksR0FBRyxDQUFDLEVBQUUsQ0FBQztZQUNiLEdBQUcsR0FBRyxNQUFNLENBQUM7UUFDZixDQUFDO2FBQU0sSUFBSSxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDcEIsTUFBTSxHQUFHLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDdEIsQ0FBQzthQUFNLENBQUM7WUFDTix5Q0FBeUM7WUFDekMsT0FBTyxNQUFNLENBQUM7UUFDaEIsQ0FBQztJQUNILENBQUM7SUFDRCxPQUFPLENBQUMsTUFBTSxDQUFDO0FBQ2pCLENBQUM7QUFFRDs7Ozs7OztHQU9HO0FBQ0gsTUFBTSxVQUFVLGVBQWUsQ0FBQyxDQUFRLEVBQUUsQ0FBUTtJQUNoRCxNQUFNLGFBQWEsR0FBRyxDQUFDLENBQUMsQ0FBQyxNQUFNLDRCQUFrQixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSw0QkFBa0IsQ0FBQyxDQUFDO0lBQ2xGLElBQUksYUFBYSxLQUFLLENBQUMsRUFBRSxDQUFDO1FBQ3hCLE9BQU8sYUFBYSxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxNQUFNLEtBQUssR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDO0lBQ3ZCLE1BQU0sS0FBSyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUM7SUFFdkIsSUFBSSxLQUFLLEtBQUssS0FBSyxJQUFJLEtBQUssS0FBSyxJQUFJLElBQUksS0FBSyxLQUFLLElBQUksRUFBRSxDQUFDO1FBQ3hELElBQUksYUFBYSxDQUFDLEtBQUssQ0FBQyxJQUFJLGFBQWEsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQ2pELGdDQUFnQztZQUNoQyxNQUFNLFFBQVEsR0FBRyxzQkFBc0IsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDdEQsSUFBSSxRQUFRLEtBQUssQ0FBQyxFQUFFLENBQUM7Z0JBQ25CLE9BQU8sUUFBUSxDQUFDO1lBQ2xCLENBQUM7UUFDSCxDQUFDO2FBQU0sQ0FBQztZQUNOLFdBQVcsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLEVBQUUsZ0RBQWdELENBQUMsQ0FBQztZQUNwRixXQUFXLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxFQUFFLGdEQUFnRCxDQUFDLENBQUM7WUFDcEYsTUFBTSxRQUFRLEdBQUcsdUJBQXVCLENBQUMsS0FBaUIsRUFBRSxLQUFpQixDQUFDLENBQUM7WUFDL0UsSUFBSSxRQUFRLEtBQUssQ0FBQyxFQUFFLENBQUM7Z0JBQ25CLE9BQU8sUUFBUSxDQUFDO1lBQ2xCLENBQUM7UUFDSCxDQUFDO0lBQ0gsQ0FBQztJQUVELE1BQU0sYUFBYSxHQUFHLENBQUMsQ0FBQyxDQUFDLE1BQU0sMkJBQWtCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxNQUFNLDJCQUFrQixDQUFDLENBQUM7SUFDbEYsSUFBSSxhQUFhLEtBQUssQ0FBQyxFQUFFLENBQUM7UUFDeEIsT0FBTyxhQUFhLENBQUM7SUFDdkIsQ0FBQztJQUNELHFCQUFxQjtJQUVyQixNQUFNLE9BQU8sR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdEQsSUFBSSxPQUFPLEtBQUssQ0FBQyxFQUFFLENBQUM7UUFDbEIsT0FBTyxPQUFPLENBQUM7SUFDakIsQ0FBQztJQUVELGtHQUFrRztJQUNsRyxJQUFJLENBQUMsQ0FBQyxRQUFRLEtBQUssQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQzlCLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7WUFDdEYsT0FBTyxDQUFDLENBQUM7UUFDWCxDQUFDO1FBQ0Qsc0RBQXNEO1FBQ3RELE9BQU8sQ0FBQyxDQUFDO0lBQ1gsQ0FBQztJQUVELGtFQUFrRTtJQUNsRSwrQkFBK0I7SUFDL0IsSUFDRSxDQUFDLENBQUMsTUFBTSxxREFBNkM7UUFDckQsQ0FBQyxDQUFDLE1BQU0scURBQTZDO1FBQ3JELENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxZQUFZLFlBQVksSUFBSSxDQUFDLENBQUMsUUFBUSxZQUFZLFlBQVksQ0FBQztZQUN6RSxDQUFDLENBQUMsQ0FBQyxRQUFRLFlBQVksdUJBQXVCO2dCQUM1QyxDQUFDLENBQUMsUUFBUSxZQUFZLHVCQUF1QixDQUFDLENBQUM7UUFDbkQsQ0FBQyxDQUFDLFNBQVMsS0FBSyxDQUFDLENBQUMsU0FBUyxFQUMzQixDQUFDO1FBQ0QsT0FBTyxDQUFDLENBQUM7SUFDWCxDQUFDO0lBRUQsaURBQWlEO0lBQ2pELE9BQU8sQ0FBQyxDQUFDO0FBQ1gsQ0FBQztBQUVELFNBQVMsUUFBUSxDQUFDLEtBQXNCO0lBQ3RDLE9BQU8sT0FBTyxLQUFLLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2hELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBc3luY0NvbXB1dGVkU2lnbmFsSW1wbCB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvaW1wbC9hc3luYy1jb21wdXRlZC1zaWduYWwtaW1wbCc7XG5pbXBvcnQgeyBTdG9yZUhhbmRsZXIgfSBmcm9tICcuLi9yZWFjdGl2ZS1wcmltaXRpdmVzL2ltcGwvc3RvcmUnO1xuaW1wb3J0IHsgYXNzZXJ0RmFsc2UgfSBmcm9tICcuLi9zaGFyZWQvZXJyb3IvYXNzZXJ0JztcbmltcG9ydCB7IGlzUXJsIH0gZnJvbSAnLi4vc2hhcmVkL3FybC9xcmwtdXRpbHMnO1xuaW1wb3J0IHR5cGUgeyBDaG9yZSB9IGZyb20gJy4uL3NoYXJlZC9zY2hlZHVsZXInO1xuaW1wb3J0IHtcbiAgc3NyTm9kZURvY3VtZW50UG9zaXRpb24sXG4gIHZub2RlX2RvY3VtZW50UG9zaXRpb24sXG59IGZyb20gJy4uL3NoYXJlZC9zY2hlZHVsZXItZG9jdW1lbnQtcG9zaXRpb24nO1xuaW1wb3J0IHsgQ2hvcmVUeXBlIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWwtY2hvcmUtdHlwZSc7XG5pbXBvcnQgdHlwZSB7IElTc3JOb2RlIH0gZnJvbSAnLi4vc3NyL3Nzci10eXBlcyc7XG5pbXBvcnQgeyB2bm9kZV9pc1ZOb2RlIH0gZnJvbSAnLi92bm9kZSc7XG5cbmV4cG9ydCBjbGFzcyBDaG9yZUFycmF5IGV4dGVuZHMgQXJyYXk8Q2hvcmU+IHtcbiAgYWRkKHZhbHVlOiBDaG9yZSk6IG51bWJlciB7XG4gICAgLy8vIFdlIG5lZWQgdG8gZW5zdXJlIHRoYXQgdGhlIGBxdWV1ZWAgaXMgc29ydGVkIGJ5IHByaW9yaXR5LlxuICAgIC8vLyAxLiBGaW5kIGEgcGxhY2Ugd2hlcmUgdG8gaW5zZXJ0IGludG8uXG4gICAgY29uc3QgaWR4ID0gc29ydGVkRmluZEluZGV4KHRoaXMsIHZhbHVlKTtcblxuICAgIGlmIChpZHggPCAwKSB7XG4gICAgICAvLy8gMi4gSW5zZXJ0IHRoZSBjaG9yZSBpbnRvIHRoZSBxdWV1ZS5cbiAgICAgIHRoaXMuc3BsaWNlKH5pZHgsIDAsIHZhbHVlKTtcbiAgICAgIHJldHVybiBpZHg7XG4gICAgfVxuXG4gICAgY29uc3QgZXhpc3RpbmcgPSB0aGlzW2lkeF07XG4gICAgLyoqXG4gICAgICogV2hlbiBhIGRlcml2ZWQgc2lnbmFsIGlzIHVwZGF0ZWQgd2UgbmVlZCB0byBydW4gdm5vZGVfZGlmZi4gSG93ZXZlciB0aGUgc2lnbmFsIGNhbiB1cGRhdGVcbiAgICAgKiBtdWx0aXBsZSB0aW1lcyBkdXJpbmcgY29tcG9uZW50IGV4ZWN1dGlvbi4gRm9yIHRoaXMgcmVhc29uIGl0IGlzIG5lY2Vzc2FyeSBmb3IgdXMgdG8gdXBkYXRlXG4gICAgICogdGhlIGNob3JlIHdpdGggdGhlIGxhdGVzdCByZXN1bHQgb2YgdGhlIHNpZ25hbC5cbiAgICAgKi9cbiAgICBpZiAoZXhpc3RpbmcuJHBheWxvYWQkICE9PSB2YWx1ZS4kcGF5bG9hZCQpIHtcbiAgICAgIGV4aXN0aW5nLiRwYXlsb2FkJCA9IHZhbHVlLiRwYXlsb2FkJDtcbiAgICB9XG4gICAgcmV0dXJuIGlkeDtcbiAgfVxuXG4gIGRlbGV0ZSh2YWx1ZTogQ2hvcmUpIHtcbiAgICBjb25zdCBpZHggPSB0aGlzLmluZGV4T2YodmFsdWUpO1xuICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgdGhpcy5zcGxpY2UoaWR4LCAxKTtcbiAgICB9XG4gICAgcmV0dXJuIGlkeDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc29ydGVkRmluZEluZGV4KHNvcnRlZEFycmF5OiBDaG9yZVtdLCB2YWx1ZTogQ2hvcmUpOiBudW1iZXIge1xuICAvLy8gV2UgbmVlZCB0byBlbnN1cmUgdGhhdCB0aGUgYHF1ZXVlYCBpcyBzb3J0ZWQgYnkgcHJpb3JpdHkuXG4gIC8vLyAxLiBGaW5kIGEgcGxhY2Ugd2hlcmUgdG8gaW5zZXJ0IGludG8uXG4gIGxldCBib3R0b20gPSAwO1xuICBsZXQgdG9wID0gc29ydGVkQXJyYXkubGVuZ3RoO1xuICB3aGlsZSAoYm90dG9tIDwgdG9wKSB7XG4gICAgY29uc3QgbWlkZGxlID0gYm90dG9tICsgKCh0b3AgLSBib3R0b20pID4+IDEpO1xuICAgIGNvbnN0IG1pZENob3JlID0gc29ydGVkQXJyYXlbbWlkZGxlXTtcbiAgICBjb25zdCBjb21wID0gY2hvcmVDb21wYXJhdG9yKHZhbHVlLCBtaWRDaG9yZSk7XG4gICAgaWYgKGNvbXAgPCAwKSB7XG4gICAgICB0b3AgPSBtaWRkbGU7XG4gICAgfSBlbHNlIGlmIChjb21wID4gMCkge1xuICAgICAgYm90dG9tID0gbWlkZGxlICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gV2UgYWxyZWFkeSBoYXZlIHRoZSBob3N0IGluIHRoZSBxdWV1ZS5cbiAgICAgIHJldHVybiBtaWRkbGU7XG4gICAgfVxuICB9XG4gIHJldHVybiB+Ym90dG9tO1xufVxuXG4vKipcbiAqIENvbXBhcmVzIHR3byBjaG9yZXMgdG8gZGV0ZXJtaW5lIHRoZWlyIGV4ZWN1dGlvbiBvcmRlciBpbiB0aGUgc2NoZWR1bGVyJ3MgcXVldWUuXG4gKlxuICogQHBhcmFtIGEgLSBUaGUgZmlyc3QgY2hvcmUgdG8gY29tcGFyZVxuICogQHBhcmFtIGIgLSBUaGUgc2Vjb25kIGNob3JlIHRvIGNvbXBhcmVcbiAqIEByZXR1cm5zIEEgbnVtYmVyIGluZGljYXRpbmcgdGhlIHJlbGF0aXZlIG9yZGVyIG9mIHRoZSBjaG9yZXMuIEEgbmVnYXRpdmUgbnVtYmVyIG1lYW5zIGBhYCBydW5zXG4gKiAgIGJlZm9yZSBgYmAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaG9yZUNvbXBhcmF0b3IoYTogQ2hvcmUsIGI6IENob3JlKTogbnVtYmVyIHtcbiAgY29uc3QgbWFjcm9UeXBlRGlmZiA9IChhLiR0eXBlJCAmIENob3JlVHlwZS5NQUNSTykgLSAoYi4kdHlwZSQgJiBDaG9yZVR5cGUuTUFDUk8pO1xuICBpZiAobWFjcm9UeXBlRGlmZiAhPT0gMCkge1xuICAgIHJldHVybiBtYWNyb1R5cGVEaWZmO1xuICB9XG5cbiAgY29uc3QgYUhvc3QgPSBhLiRob3N0JDtcbiAgY29uc3QgYkhvc3QgPSBiLiRob3N0JDtcblxuICBpZiAoYUhvc3QgIT09IGJIb3N0ICYmIGFIb3N0ICE9PSBudWxsICYmIGJIb3N0ICE9PSBudWxsKSB7XG4gICAgaWYgKHZub2RlX2lzVk5vZGUoYUhvc3QpICYmIHZub2RlX2lzVk5vZGUoYkhvc3QpKSB7XG4gICAgICAvLyB3ZSBhcmUgcnVubmluZyBvbiB0aGUgY2xpZW50LlxuICAgICAgY29uc3QgaG9zdERpZmYgPSB2bm9kZV9kb2N1bWVudFBvc2l0aW9uKGFIb3N0LCBiSG9zdCk7XG4gICAgICBpZiAoaG9zdERpZmYgIT09IDApIHtcbiAgICAgICAgcmV0dXJuIGhvc3REaWZmO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnRGYWxzZSh2bm9kZV9pc1ZOb2RlKGFIb3N0KSwgJ2V4cGVjdGVkIGFIb3N0IHRvIGJlIFNTUk5vZGUgYnV0IGl0IGlzIGEgVk5vZGUnKTtcbiAgICAgIGFzc2VydEZhbHNlKHZub2RlX2lzVk5vZGUoYkhvc3QpLCAnZXhwZWN0ZWQgYkhvc3QgdG8gYmUgU1NSTm9kZSBidXQgaXQgaXMgYSBWTm9kZScpO1xuICAgICAgY29uc3QgaG9zdERpZmYgPSBzc3JOb2RlRG9jdW1lbnRQb3NpdGlvbihhSG9zdCBhcyBJU3NyTm9kZSwgYkhvc3QgYXMgSVNzck5vZGUpO1xuICAgICAgaWYgKGhvc3REaWZmICE9PSAwKSB7XG4gICAgICAgIHJldHVybiBob3N0RGlmZjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCBtaWNyb1R5cGVEaWZmID0gKGEuJHR5cGUkICYgQ2hvcmVUeXBlLk1JQ1JPKSAtIChiLiR0eXBlJCAmIENob3JlVHlwZS5NSUNSTyk7XG4gIGlmIChtaWNyb1R5cGVEaWZmICE9PSAwKSB7XG4gICAgcmV0dXJuIG1pY3JvVHlwZURpZmY7XG4gIH1cbiAgLy8gdHlwZXMgYXJlIHRoZSBzYW1lXG5cbiAgY29uc3QgaWR4RGlmZiA9IHRvTnVtYmVyKGEuJGlkeCQpIC0gdG9OdW1iZXIoYi4kaWR4JCk7XG4gIGlmIChpZHhEaWZmICE9PSAwKSB7XG4gICAgcmV0dXJuIGlkeERpZmY7XG4gIH1cblxuICAvLyBJZiB0aGUgaG9zdCBpcyB0aGUgc2FtZSAob3IgbWlzc2luZyksIGFuZCB0aGUgdHlwZSBpcyB0aGUgc2FtZSwgIHdlIG5lZWQgdG8gY29tcGFyZSB0aGUgdGFyZ2V0LlxuICBpZiAoYS4kdGFyZ2V0JCAhPT0gYi4kdGFyZ2V0JCkge1xuICAgIGlmIChpc1FybChhLiR0YXJnZXQkKSAmJiBpc1FybChiLiR0YXJnZXQkKSAmJiBhLiR0YXJnZXQkLiRoYXNoJCA9PT0gYi4kdGFyZ2V0JC4kaGFzaCQpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICAvLyAxIG1lYW5zIHRoYXQgd2UgYXJlIGdvaW5nIHRvIHByb2Nlc3MgY2hvcmVzIGFzIEZJRk9cbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIC8vIGVuc3VyZSB0aGF0IHRoZSBlZmZlY3QgY2hvcmVzIGFyZSBzY2hlZHVsZWQgZm9yIHRoZSBzYW1lIHRhcmdldFxuICAvLyBUT0RPOiBjYW4gd2UgZG8gdGhpcyBiZXR0ZXI/XG4gIGlmIChcbiAgICBhLiR0eXBlJCA9PT0gQ2hvcmVUeXBlLlJFQ09NUFVURV9BTkRfU0NIRURVTEVfRUZGRUNUUyAmJlxuICAgIGIuJHR5cGUkID09PSBDaG9yZVR5cGUuUkVDT01QVVRFX0FORF9TQ0hFRFVMRV9FRkZFQ1RTICYmXG4gICAgKChhLiR0YXJnZXQkIGluc3RhbmNlb2YgU3RvcmVIYW5kbGVyICYmIGIuJHRhcmdldCQgaW5zdGFuY2VvZiBTdG9yZUhhbmRsZXIpIHx8XG4gICAgICAoYS4kdGFyZ2V0JCBpbnN0YW5jZW9mIEFzeW5jQ29tcHV0ZWRTaWduYWxJbXBsICYmXG4gICAgICAgIGIuJHRhcmdldCQgaW5zdGFuY2VvZiBBc3luY0NvbXB1dGVkU2lnbmFsSW1wbCkpICYmXG4gICAgYS4kcGF5bG9hZCQgIT09IGIuJHBheWxvYWQkXG4gICkge1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgLy8gVGhlIGNob3JlcyBhcmUgdGhlIHNhbWUgYW5kIHdpbGwgcnVuIG9ubHkgb25jZVxuICByZXR1cm4gMDtcbn1cblxuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWU6IG51bWJlciB8IHN0cmluZyk6IG51bWJlciB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInID8gdmFsdWUgOiAtMTtcbn1cbiJdfQ==","/**\n * Scheduler is responsible for running application code in predictable order.\n *\n * ## What is a Chore?\n *\n * A Chore is a unit of work that needs to be done. It can be:\n *\n * - Task / Resource\n * - Visible Task\n * - Component\n * - Computed\n * - Node Diff\n *\n * ## Order of execution\n *\n * - Parent component chores should run before child component chores.\n * - Visible Tasks should run after journal flush (visible tasks often read DOM layout.)\n *\n * ## Example\n *\n * ```typescript\n * const Child = component$(() => {\n *   useTask$(() => {\n *     console.log('Child task');\n *   });\n *   useVisibleTask$(() => {\n *     console.log('Child visible-task');\n *   });\n *   console.log('Child render');\n *   return <div>Child</div>;\n * });\n *\n * const Parent = component$(() => {\n *   const count = useSignal(0);\n *   useTask$(() => {\n *     console.log('Parent task', count.value);\n *   });\n *   useVisibleTask$(() => {\n *     console.log('Parent visible-task', count.value);\n *     count.value++;\n *   });\n *   console.log('Parent render', count.value);\n *   return <Child/>;\n * });\n * ```\n *\n * ## In the above example, the order of execution is:\n *\n * 1. Parent task 0\n * 2. Parent render 0\n * 3. Child task 0\n * 4. Child render 0\n * 5. Journal flush\n * 6. Parent visible-task 0\n * 7. Parent render 1\n * 8. Journal flush\n * 9. Child visible-task\n *\n * If at any point a new chore is scheduled it will insert itself into the correct order.\n *\n * ## Implementation\n *\n * Chores are kept in a sorted array. When a new chore is scheduled it is inserted into the correct\n * location. Processing of the chores always starts from the beginning of the array. This ensures\n * that parent chores are processed before child chores.\n *\n * ## Sorting\n *\n * Chores are sorted in three levels:\n *\n * - Macro: beforeJournalFlush, journalFlush, afterJournalFlush\n * - Component: depth first order of components\n * - Micro: order of chores within a component.\n *\n * Example of sorting:\n *\n * - Tasks are beforeJournalFlush, than depth first on component and finally in declaration order\n *   within component.\n * - Visible Tasks are sorted afterJournalFlush, than depth first on component and finally in\n *   declaration order within component.\n */\nimport { vnode_isVNode } from '../client/vnode';\nimport { vnode_diff } from '../client/vnode-diff';\nimport { ComputedSignalImpl } from '../reactive-primitives/impl/computed-signal-impl';\nimport { WrappedSignalImpl } from '../reactive-primitives/impl/wrapped-signal-impl';\nimport { isSignal } from '../reactive-primitives/signal.public';\nimport { scheduleEffects } from '../reactive-primitives/utils';\nimport { runResource } from '../use/use-resource';\nimport { cleanupTask, runTask, } from '../use/use-task';\nimport { executeComponent } from './component-execution';\nimport { isServerPlatform } from './platform/platform';\nimport { QScopedStyle } from './utils/markers';\nimport { isPromise, maybeThen, retryOnPromise, safeCall } from './utils/promises';\nimport { addComponentStylePrefix } from './utils/scoped-styles';\nimport { serializeAttribute } from './utils/styles';\nimport { invoke, newInvokeContext } from '../use/use-core';\nimport { findBlockingChore, findBlockingChoreForVisible } from './scheduler-rules';\nimport { createNextTick } from './platform/next-tick';\nimport { AsyncComputedSignalImpl } from '../reactive-primitives/impl/async-computed-signal-impl';\nimport { isSsrNode } from '../reactive-primitives/subscriber';\nimport { logWarn } from './utils/log';\nimport { ChoreArray, choreComparator } from '../client/chore-array';\n// Turn this on to get debug output of what the scheduler is doing.\nconst DEBUG = false;\nvar ChoreState;\n(function (ChoreState) {\n    ChoreState[ChoreState[\"NONE\"] = 0] = \"NONE\";\n    ChoreState[ChoreState[\"RUNNING\"] = 1] = \"RUNNING\";\n    ChoreState[ChoreState[\"FAILED\"] = 2] = \"FAILED\";\n    ChoreState[ChoreState[\"DONE\"] = 3] = \"DONE\";\n})(ChoreState || (ChoreState = {}));\nexport const getChorePromise = (chore) => chore.$state$ === ChoreState.NONE\n    ? (chore.$returnValue$ ||= new Promise((resolve, reject) => {\n        chore.$resolve$ = resolve;\n        chore.$reject$ = reject;\n    }))\n    : chore.$returnValue$;\nexport const createScheduler = (container, journalFlush, choreQueue, blockedChores, runningChores) => {\n    let drainChore = null;\n    let drainScheduled = false;\n    let isDraining = false;\n    let isJournalFlushRunning = false;\n    let flushBudgetStart = 0;\n    let currentTime = performance.now();\n    const nextTick = createNextTick(drainChoreQueue);\n    let flushTimerId = null;\n    function drainInNextTick() {\n        if (!drainScheduled) {\n            drainScheduled = true;\n            nextTick();\n        }\n    }\n    // Drain for ~16.67ms, then apply journal flush for ~16.67ms, then repeat\n    // We divide by 60 because we want to run at 60fps\n    const FREQUENCY_MS = Math.floor(1000 / 60);\n    return schedule;\n    ///// IMPLEMENTATION /////\n    function schedule(type, hostOrTask = null, targetOrQrl = null, payload = null) {\n        if (type === 255 /* ChoreType.WAIT_FOR_QUEUE */ && drainChore) {\n            return drainChore;\n        }\n        const isTask = type === 3 /* ChoreType.TASK */ || type === 16 /* ChoreType.VISIBLE */ || type === 32 /* ChoreType.CLEANUP_VISIBLE */;\n        if (isTask) {\n            hostOrTask.$flags$ |= 8 /* TaskFlags.DIRTY */;\n        }\n        const chore = {\n            $type$: type,\n            $idx$: isTask\n                ? hostOrTask.$index$\n                : typeof targetOrQrl === 'string'\n                    ? targetOrQrl\n                    : 0,\n            $host$: isTask ? hostOrTask.$el$ : hostOrTask,\n            $target$: targetOrQrl,\n            $payload$: isTask ? hostOrTask : payload,\n            $state$: ChoreState.NONE,\n            $blockedChores$: null,\n            $startTime$: undefined,\n            $endTime$: undefined,\n            $resolve$: undefined,\n            $reject$: undefined,\n            $returnValue$: null,\n        };\n        if (type === 255 /* ChoreType.WAIT_FOR_QUEUE */) {\n            getChorePromise(chore);\n            drainChore = chore;\n            drainInNextTick();\n            return chore;\n        }\n        const isServer = isServerPlatform();\n        const isClientOnly = type === 4 /* ChoreType.NODE_DIFF */ || type === 1 /* ChoreType.QRL_RESOLVE */;\n        if (isServer && isClientOnly) {\n            DEBUG &&\n                debugTrace(`skip client chore ${debugChoreTypeToString(type)}`, chore, choreQueue, blockedChores);\n            // Mark skipped client-only chores as completed on the server\n            finishChore(chore, undefined);\n            return chore;\n        }\n        if (isServer && chore.$host$ && isSsrNode(chore.$host$)) {\n            const isUpdatable = !!(chore.$host$.flags & 1 /* SsrNodeFlags.Updatable */);\n            if (!isUpdatable) {\n                if (\n                // backpatching exceptions:\n                // - node prop is allowed because it is used to update the node property\n                // - recompute and schedule effects because it triggers effects (so node prop too)\n                chore.$type$ !== 5 /* ChoreType.NODE_PROP */ &&\n                    chore.$type$ !== 7 /* ChoreType.RECOMPUTE_AND_SCHEDULE_EFFECTS */) {\n                    // We are running on the server.\n                    // On server we can't schedule task for a different host!\n                    // Server is SSR, and therefore scheduling for anything but the current host\n                    // implies that things need to be re-run and that is not supported because of streaming.\n                    const warningMessage = `A '${choreTypeToName(chore.$type$)}' chore was scheduled on a host element that has already been streamed to the client.\nThis can lead to inconsistencies between Server-Side Rendering (SSR) and Client-Side Rendering (CSR).\n\nProblematic chore:\n  - Type: ${choreTypeToName(chore.$type$)}\n  - Host: ${chore.$host$.toString()}\n  - Nearest element location: ${chore.$host$.currentFile}\n\nThis is often caused by modifying a signal in an already rendered component during SSR.`;\n                    logWarn(warningMessage);\n                    DEBUG &&\n                        debugTrace('schedule.SKIPPED host is not updatable', chore, choreQueue, blockedChores);\n                    return chore;\n                }\n            }\n        }\n        const shouldBlock = chore.$type$ !== 1 /* ChoreType.QRL_RESOLVE */ && chore.$type$ !== 2 /* ChoreType.RUN_QRL */;\n        if (shouldBlock) {\n            const blockingChore = findBlockingChore(chore, choreQueue, blockedChores, runningChores, container);\n            if (blockingChore) {\n                addBlockedChore(chore, blockingChore, blockedChores);\n                return chore;\n            }\n            const runningChore = getRunningChore(chore);\n            if (runningChore) {\n                addBlockedChore(chore, runningChore, blockedChores);\n                return chore;\n            }\n        }\n        addChore(chore, choreQueue);\n        DEBUG && debugTrace('schedule', chore, choreQueue, blockedChores);\n        const runImmediately = (isServer && type === 6 /* ChoreType.COMPONENT */) || type === 2 /* ChoreType.RUN_QRL */;\n        if (runImmediately && !isDraining) {\n            immediateDrain();\n        }\n        else {\n            drainInNextTick();\n        }\n        return chore;\n    }\n    function immediateDrain() {\n        drainScheduled = true;\n        drainChoreQueue();\n    }\n    ////////////////////////////////////////////////////////////////////////////////\n    // Drain queue helpers\n    ////////////////////////////////////////////////////////////////////////////////\n    function cancelFlushTimer() {\n        if (flushTimerId != null) {\n            clearTimeout(flushTimerId);\n            flushTimerId = null;\n        }\n    }\n    function scheduleFlushTimer() {\n        const isServer = isServerPlatform();\n        // Never schedule timers on the server\n        if (isServer) {\n            return;\n        }\n        // Ignore if a timer is already scheduled\n        if (flushTimerId != null) {\n            return;\n        }\n        const now = performance.now();\n        const elapsed = now - flushBudgetStart;\n        const delay = Math.max(0, FREQUENCY_MS - elapsed);\n        // Deadline already reached, flush now\n        if (delay === 0) {\n            if (!isDraining) {\n                applyJournalFlush();\n            }\n            return;\n        }\n        flushTimerId = setTimeout(() => {\n            flushTimerId = null;\n            applyJournalFlush();\n        }, delay);\n    }\n    function applyJournalFlush() {\n        if (!isJournalFlushRunning) {\n            // prevent multiple journal flushes from running at the same time\n            isJournalFlushRunning = true;\n            journalFlush();\n            isJournalFlushRunning = false;\n            flushBudgetStart = performance.now();\n            cancelFlushTimer();\n            DEBUG && debugTrace('journalFlush.DONE', null, choreQueue, blockedChores);\n        }\n    }\n    function shouldApplyJournalFlush(isServer) {\n        return !isServer && currentTime - flushBudgetStart >= FREQUENCY_MS;\n    }\n    function drainChoreQueue() {\n        const isServer = isServerPlatform();\n        drainScheduled = false;\n        if (isDraining) {\n            return;\n        }\n        // early return if the queue is empty\n        if (!choreQueue.length) {\n            applyJournalFlush();\n            if (drainChore && !runningChores.size) {\n                // resolve drainChore only if there are no running chores, because\n                // we are sure that we are done\n                drainChore.$resolve$(null);\n                drainChore = null;\n            }\n            return;\n        }\n        isDraining = true;\n        flushBudgetStart = performance.now();\n        cancelFlushTimer();\n        const maybeFinishDrain = () => {\n            if (choreQueue.length) {\n                drainInNextTick();\n                return false;\n            }\n            if (drainChore && runningChores.size) {\n                if (shouldApplyJournalFlush(isServer)) {\n                    // apply journal flush even if we are not finished draining the queue\n                    applyJournalFlush();\n                }\n                return false;\n            }\n            currentChore = null;\n            applyJournalFlush();\n            drainChore?.$resolve$(null);\n            drainChore = null;\n            DEBUG && debugTrace('drain.DONE', drainChore, choreQueue, blockedChores);\n            return true;\n        };\n        const scheduleBlockedChoresAndDrainIfNeeded = (chore) => {\n            let blockedChoresScheduled = false;\n            if (chore.$blockedChores$) {\n                for (const blockedChore of chore.$blockedChores$) {\n                    const blockingChore = findBlockingChore(blockedChore, choreQueue, blockedChores, runningChores, container);\n                    if (blockingChore) {\n                        // Chore is still blocked, move it to the new blocking chore's list\n                        // Note: chore is already in blockedChores Set and vnode.blockedChores,\n                        // so we only add to the new blocking chore's list\n                        (blockingChore.$blockedChores$ ||= new ChoreArray()).add(blockedChore);\n                    }\n                    else {\n                        blockedChores.delete(blockedChore);\n                        if (vnode_isVNode(blockedChore.$host$)) {\n                            blockedChore.$host$.blockedChores?.delete(blockedChore);\n                        }\n                        addChore(blockedChore, choreQueue);\n                        DEBUG && debugTrace('schedule.UNBLOCKED', blockedChore, choreQueue, blockedChores);\n                        blockedChoresScheduled = true;\n                    }\n                }\n                chore.$blockedChores$ = null;\n            }\n            if (blockedChoresScheduled && !isDraining) {\n                drainInNextTick();\n            }\n        };\n        let currentChore = null;\n        try {\n            while (choreQueue.length) {\n                currentTime = performance.now();\n                const chore = (currentChore = choreQueue.shift());\n                if (chore.$state$ !== ChoreState.NONE) {\n                    continue;\n                }\n                if (vNodeAlreadyDeleted(chore) &&\n                    // we need to process cleanup tasks for deleted nodes\n                    chore.$type$ !== 32 /* ChoreType.CLEANUP_VISIBLE */) {\n                    // skip deleted chore\n                    DEBUG && debugTrace('skip chore', chore, choreQueue, blockedChores);\n                    if (vnode_isVNode(chore.$host$)) {\n                        chore.$host$.chores?.delete(chore);\n                    }\n                    continue;\n                }\n                if (chore.$type$ === 16 /* ChoreType.VISIBLE */) {\n                    // ensure that the journal flush is applied before the visible chore is executed\n                    // so that the visible chore can see the latest DOM changes\n                    applyJournalFlush();\n                    const blockingChore = findBlockingChoreForVisible(chore, runningChores, container);\n                    if (blockingChore && blockingChore.$state$ === ChoreState.RUNNING) {\n                        addBlockedChore(chore, blockingChore, blockedChores);\n                        continue;\n                    }\n                }\n                // Note that this never throws\n                chore.$startTime$ = performance.now();\n                const result = executeChore(chore, isServer);\n                chore.$returnValue$ = result;\n                if (isPromise(result)) {\n                    runningChores.add(chore);\n                    chore.$state$ = ChoreState.RUNNING;\n                    result\n                        .then((value) => {\n                        finishChore(chore, value);\n                    })\n                        .catch((e) => {\n                        if (chore.$state$ !== ChoreState.RUNNING) {\n                            // we already handled an error but maybe it's a different one so we log it\n                            console.error(e);\n                            return;\n                        }\n                        handleError(chore, e);\n                    })\n                        .finally(() => {\n                        runningChores.delete(chore);\n                        // Note that we ignore failed chores so the app keeps working\n                        // TODO decide if this is ok and document it\n                        scheduleBlockedChoresAndDrainIfNeeded(chore);\n                        // If drainChore is not null, we are waiting for it to finish.\n                        // If there are no running chores, we can finish the drain.\n                        let finished = false;\n                        if (drainChore && !runningChores.size) {\n                            finished = maybeFinishDrain();\n                        }\n                        if (!finished && !isDraining) {\n                            scheduleFlushTimer();\n                        }\n                    });\n                }\n                else {\n                    finishChore(chore, result);\n                    scheduleBlockedChoresAndDrainIfNeeded(chore);\n                }\n                if (shouldApplyJournalFlush(isServer)) {\n                    applyJournalFlush();\n                    drainInNextTick();\n                    return;\n                }\n            }\n        }\n        catch (e) {\n            handleError(currentChore, e);\n            scheduleBlockedChoresAndDrainIfNeeded(currentChore);\n        }\n        finally {\n            isDraining = false;\n            maybeFinishDrain();\n        }\n    }\n    function finishChore(chore, value) {\n        chore.$endTime$ = performance.now();\n        chore.$state$ = ChoreState.DONE;\n        chore.$returnValue$ = value;\n        chore.$resolve$?.(value);\n        if (vnode_isVNode(chore.$host$)) {\n            chore.$host$.chores?.delete(chore);\n        }\n        DEBUG && debugTrace('execute.DONE', chore, choreQueue, blockedChores);\n    }\n    function handleError(chore, e) {\n        chore.$endTime$ = performance.now();\n        chore.$state$ = ChoreState.FAILED;\n        DEBUG && debugTrace('execute.ERROR', chore, choreQueue, blockedChores);\n        // If we used the result as promise, this won't exist\n        chore.$reject$?.(e);\n        container.handleError(e, chore.$host$);\n    }\n    function executeChore(chore, isServer) {\n        const host = chore.$host$;\n        DEBUG && debugTrace('execute', chore, choreQueue, blockedChores);\n        let returnValue;\n        switch (chore.$type$) {\n            case 6 /* ChoreType.COMPONENT */:\n                {\n                    returnValue = safeCall(() => executeComponent(container, host, host, chore.$target$, chore.$payload$), (jsx) => {\n                        if (isServer) {\n                            return jsx;\n                        }\n                        else {\n                            const styleScopedId = container.getHostProp(host, QScopedStyle);\n                            return retryOnPromise(() => vnode_diff(container, jsx, host, addComponentStylePrefix(styleScopedId)));\n                        }\n                    }, (err) => {\n                        handleError(chore, err);\n                    });\n                }\n                break;\n            case 2 /* ChoreType.RUN_QRL */:\n                {\n                    const fn = chore.$target$.getFn();\n                    returnValue = retryOnPromise(() => fn(...chore.$payload$));\n                }\n                break;\n            case 3 /* ChoreType.TASK */:\n            case 16 /* ChoreType.VISIBLE */:\n                {\n                    const payload = chore.$payload$;\n                    if (payload.$flags$ & 4 /* TaskFlags.RESOURCE */) {\n                        returnValue = runResource(payload, container, host);\n                    }\n                    else {\n                        returnValue = runTask(payload, container, host);\n                    }\n                }\n                break;\n            case 32 /* ChoreType.CLEANUP_VISIBLE */:\n                {\n                    const task = chore.$payload$;\n                    cleanupTask(task);\n                }\n                break;\n            case 4 /* ChoreType.NODE_DIFF */:\n                {\n                    const parentVirtualNode = chore.$target$;\n                    let jsx = chore.$payload$;\n                    if (isSignal(jsx)) {\n                        jsx = jsx.value;\n                    }\n                    returnValue = retryOnPromise(() => vnode_diff(container, jsx, parentVirtualNode, null));\n                }\n                break;\n            case 5 /* ChoreType.NODE_PROP */:\n                {\n                    const virtualNode = chore.$host$;\n                    const payload = chore.$payload$;\n                    let value = payload.$value$;\n                    if (isSignal(value)) {\n                        value = value.value;\n                    }\n                    const isConst = payload.$isConst$;\n                    const journal = container.$journal$;\n                    const property = chore.$idx$;\n                    const serializedValue = serializeAttribute(property, value, payload.$scopedStyleIdPrefix$);\n                    if (isServer) {\n                        container.addBackpatchEntry(chore.$host$.id, property, serializedValue);\n                        returnValue = null;\n                    }\n                    else {\n                        if (isConst) {\n                            const element = virtualNode.element;\n                            journal.push(2 /* VNodeJournalOpCode.SetAttribute */, element, property, serializedValue);\n                        }\n                        else {\n                            virtualNode.setAttr(property, serializedValue, journal);\n                        }\n                        returnValue = undefined;\n                    }\n                }\n                break;\n            case 1 /* ChoreType.QRL_RESOLVE */: {\n                {\n                    const target = chore.$target$;\n                    returnValue = (!target.resolved ? target.resolve() : null);\n                }\n                break;\n            }\n            case 7 /* ChoreType.RECOMPUTE_AND_SCHEDULE_EFFECTS */: {\n                {\n                    const target = chore.$target$;\n                    const effects = chore.$payload$;\n                    if (!effects?.size) {\n                        break;\n                    }\n                    let shouldCompute = target instanceof ComputedSignalImpl || target instanceof WrappedSignalImpl;\n                    // for .error and .loading effects\n                    if (target instanceof AsyncComputedSignalImpl && effects !== target.$effects$) {\n                        shouldCompute = false;\n                    }\n                    if (shouldCompute) {\n                        const ctx = newInvokeContext();\n                        ctx.$container$ = container;\n                        // needed for computed signals and throwing QRLs\n                        returnValue = maybeThen(retryOnPromise(() => invoke.call(target, ctx, target.$computeIfNeeded$)), () => {\n                            if (target.$flags$ & 2 /* SignalFlags.RUN_EFFECTS */) {\n                                target.$flags$ &= ~2 /* SignalFlags.RUN_EFFECTS */;\n                                return retryOnPromise(() => scheduleEffects(container, target, effects));\n                            }\n                        });\n                    }\n                    else {\n                        returnValue = retryOnPromise(() => {\n                            scheduleEffects(container, target, effects);\n                        });\n                    }\n                }\n                break;\n            }\n        }\n        return returnValue;\n    }\n    function getRunningChore(chore) {\n        if (runningChores.size) {\n            // 1.1. Check if the chore is already running.\n            for (const runningChore of runningChores) {\n                const comp = choreComparator(chore, runningChore);\n                if (comp === 0) {\n                    return runningChore;\n                }\n            }\n        }\n        return null;\n    }\n};\nfunction vNodeAlreadyDeleted(chore) {\n    return !!(chore.$host$ && vnode_isVNode(chore.$host$) && chore.$host$.flags & 32 /* VNodeFlags.Deleted */);\n}\nexport function addBlockedChore(blockedChore, blockingChore, blockedChores) {\n    DEBUG &&\n        debugTrace(`blocked chore by ${debugChoreToString(blockingChore)}`, blockedChore, undefined, blockedChores);\n    (blockingChore.$blockedChores$ ||= new ChoreArray()).add(blockedChore);\n    blockedChores.add(blockedChore);\n    if (vnode_isVNode(blockedChore.$host$)) {\n        (blockedChore.$host$.blockedChores ||= new ChoreArray()).add(blockedChore);\n    }\n}\nexport function addChore(chore, choreArray) {\n    const idx = choreArray.add(chore);\n    if (idx < 0 && vnode_isVNode(chore.$host$)) {\n        (chore.$host$.chores ||= new ChoreArray()).add(chore);\n    }\n}\nfunction choreTypeToName(type) {\n    return ({\n        [1 /* ChoreType.QRL_RESOLVE */]: 'Resolve QRL',\n        [2 /* ChoreType.RUN_QRL */]: 'Run QRL',\n        [3 /* ChoreType.TASK */]: 'Task',\n        [4 /* ChoreType.NODE_DIFF */]: 'Changes diffing',\n        [5 /* ChoreType.NODE_PROP */]: 'Updating node property',\n        [6 /* ChoreType.COMPONENT */]: 'Component',\n        [7 /* ChoreType.RECOMPUTE_AND_SCHEDULE_EFFECTS */]: 'Signal recompute',\n        [16 /* ChoreType.VISIBLE */]: 'Visible',\n        [32 /* ChoreType.CLEANUP_VISIBLE */]: 'Cleanup visible',\n        [255 /* ChoreType.WAIT_FOR_QUEUE */]: 'Wait for queue',\n    }[type] || 'Unknown: ' + type);\n}\nfunction debugChoreTypeToString(type) {\n    return ({\n        [1 /* ChoreType.QRL_RESOLVE */]: 'QRL_RESOLVE',\n        [2 /* ChoreType.RUN_QRL */]: 'RUN_QRL',\n        [3 /* ChoreType.TASK */]: 'TASK',\n        [4 /* ChoreType.NODE_DIFF */]: 'NODE_DIFF',\n        [5 /* ChoreType.NODE_PROP */]: 'NODE_PROP',\n        [6 /* ChoreType.COMPONENT */]: 'COMPONENT',\n        [7 /* ChoreType.RECOMPUTE_AND_SCHEDULE_EFFECTS */]: 'RECOMPUTE_SIGNAL',\n        [16 /* ChoreType.VISIBLE */]: 'VISIBLE',\n        [32 /* ChoreType.CLEANUP_VISIBLE */]: 'CLEANUP_VISIBLE',\n        [255 /* ChoreType.WAIT_FOR_QUEUE */]: 'WAIT_FOR_QUEUE',\n    }[type] || 'UNKNOWN: ' + type);\n}\nfunction debugChoreToString(chore) {\n    const type = debugChoreTypeToString(chore.$type$);\n    const state = chore.$state$ ? `[${ChoreState[chore.$state$]}] ` : '';\n    const host = String(chore.$host$).replaceAll(/\\n.*/gim, '');\n    const qrlTarget = chore.$target$?.$symbol$;\n    return `${state}Chore(${type} ${chore.$type$ === 1 /* ChoreType.QRL_RESOLVE */ || chore.$type$ === 2 /* ChoreType.RUN_QRL */ ? qrlTarget : host} ${chore.$idx$})`;\n}\nfunction debugTrace(action, arg, queue, blockedChores) {\n    const lines = [];\n    // Header\n    lines.push(`Scheduler: ${action}`);\n    // Argument section\n    if (arg) {\n        lines.push('');\n        if (arg && '$type$' in arg) {\n            const chore = arg;\n            const type = debugChoreTypeToString(chore.$type$);\n            const host = String(chore.$host$).replaceAll(/\\n.*/gim, '');\n            const qrlTarget = chore.$target$?.$symbol$;\n            const targetOrHost = chore.$type$ === 1 /* ChoreType.QRL_RESOLVE */ || chore.$type$ === 2 /* ChoreType.RUN_QRL */\n                ? qrlTarget\n                : host;\n            lines.push(`🎯 Current Chore:`);\n            lines.push(`  Type: ${type}`);\n            lines.push(`  Host: ${targetOrHost}`);\n            // Show execution time if available\n            if (chore.$startTime$ && chore.$endTime$) {\n                const executionTime = chore.$endTime$ - chore.$startTime$;\n                lines.push(`  Time: ${executionTime.toFixed(2)}ms`);\n            }\n            else if (chore.$startTime$) {\n                const elapsedTime = performance.now() - chore.$startTime$;\n                lines.push(`  Time: ${elapsedTime.toFixed(2)}ms (running)`);\n            }\n            // Show blocked chores for this chore\n            if (chore.$blockedChores$ && chore.$blockedChores$.length > 0) {\n                lines.push(`  ⛔ Blocked Chores:`);\n                chore.$blockedChores$.forEach((blockedChore, index) => {\n                    const blockedType = debugChoreTypeToString(blockedChore.$type$);\n                    const blockedTarget = String(blockedChore.$host$).replaceAll(/\\n.*/gim, '');\n                    lines.push(`    ${index + 1}. ${blockedType} ${blockedTarget} ${blockedChore.$idx$}`);\n                });\n            }\n        }\n        else {\n            lines.push(`📝 Argument: ${String(arg).replaceAll(/\\n.*/gim, '')}`);\n        }\n    }\n    // Queue section\n    if (queue && queue.length > 0) {\n        lines.push('');\n        lines.push(`📋 Queue (${queue.length} items):`);\n        for (let i = 0; i < queue.length; i++) {\n            const chore = queue[i];\n            const isActive = chore === arg;\n            const activeMarker = isActive ? `▶ ` : '  ';\n            const type = debugChoreTypeToString(chore.$type$);\n            const state = chore.$state$ ? `[${ChoreState[chore.$state$]}]` : '';\n            const host = String(chore.$host$).replaceAll(/\\n.*/gim, '');\n            const qrlTarget = chore.$target$?.$symbol$;\n            const target = chore.$type$ === 1 /* ChoreType.QRL_RESOLVE */ || chore.$type$ === 2 /* ChoreType.RUN_QRL */\n                ? qrlTarget\n                : host;\n            const line = `${activeMarker}${state} ${type} ${target} ${chore.$idx$}`;\n            lines.push(line);\n        }\n    }\n    // Blocked chores section\n    if (blockedChores && blockedChores.size > 0) {\n        lines.push('');\n        lines.push(`🚫 Blocked Chores (${blockedChores.size} items):`);\n        Array.from(blockedChores).forEach((chore, index) => {\n            const type = debugChoreTypeToString(chore.$type$);\n            const host = String(chore.$host$).replaceAll(/\\n.*/gim, '');\n            const qrlTarget = chore.$target$?.$symbol$;\n            const target = chore.$type$ === 1 /* ChoreType.QRL_RESOLVE */ || chore.$type$ === 2 /* ChoreType.RUN_QRL */\n                ? qrlTarget\n                : host;\n            lines.push(`  ${index + 1}. ${type} ${target} ${chore.$idx$}`);\n        });\n    }\n    // Footer\n    lines.push('');\n    lines.push('─'.repeat(60));\n    // eslint-disable-next-line no-console\n    console.log(lines.join('\\n') + '\\n');\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NoZWR1bGVyLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC9zY2hlZHVsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBZ0ZHO0FBSUgsT0FBTyxFQUFzQixhQUFhLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNwRSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDbEQsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sa0RBQWtELENBQUM7QUFDdEYsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0saURBQWlELENBQUM7QUFDcEYsT0FBTyxFQUFFLFFBQVEsRUFBZSxNQUFNLHNDQUFzQyxDQUFDO0FBUzdFLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUUvRCxPQUFPLEVBQUUsV0FBVyxFQUEyQixNQUFNLHFCQUFxQixDQUFDO0FBQzNFLE9BQU8sRUFHTCxXQUFXLEVBQ1gsT0FBTyxHQUdSLE1BQU0saUJBQWlCLENBQUM7QUFDekIsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFJekQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFJdkQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLGNBQWMsRUFBRSxRQUFRLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNsRixPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUNoRSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUVwRCxPQUFPLEVBQUUsTUFBTSxF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QUMsQ0FBQyxVQUFVLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQzVELE1BQU0sU0FBUyxHQUFJLEtBQUssQ0FBQyxRQUE2QixFQUFFLFFBQVEsQ0FBQztZQUNqRSxNQUFNLE1BQU0sR0FDVixLQUFLLENBQUMsTUFBTSxrQ0FBMEIsSUFBSSxLQUFLLENBQUMsTUFBTSw4QkFBc0I7Z0JBQzFFLENBQUMsQ0FBQyxTQUFTO2dCQUNYLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFFWCxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssS0FBSyxHQUFHLENBQUMsS0FBSyxJQUFJLElBQUksTUFBTSxJQUFJLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBQ2pFLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELFNBQVM7SUFDVCxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ2YsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFFM0Isc0NBQXNDO0lBQ3RDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztBQUN2QyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTY2hlZHVsZXIgaXMgcmVzcG9uc2libGUgZm9yIHJ1bm5pbmcgYXBwbGljYXRpb24gY29kZSBpbiBwcmVkaWN0YWJsZSBvcmRlci5cbiAqXG4gKiAjIyBXaGF0IGlzIGEgQ2hvcmU/XG4gKlxuICogQSBDaG9yZSBpcyBhIHVuaXQgb2Ygd29yayB0aGF0IG5lZWRzIHRvIGJlIGRvbmUuIEl0IGNhbiBiZTpcbiAqXG4gKiAtIFRhc2sgLyBSZXNvdXJjZVxuICogLSBWaXNpYmxlIFRhc2tcbiAqIC0gQ29tcG9uZW50XG4gKiAtIENvbXB1dGVkXG4gKiAtIE5vZGUgRGlmZlxuICpcbiAqICMjIE9yZGVyIG9mIGV4ZWN1dGlvblxuICpcbiAqIC0gUGFyZW50IGNvbXBvbmVudCBjaG9yZXMgc2hvdWxkIHJ1biBiZWZvcmUgY2hpbGQgY29tcG9uZW50IGNob3Jlcy5cbiAqIC0gVmlzaWJsZSBUYXNrcyBzaG91bGQgcnVuIGFmdGVyIGpvdXJuYWwgZmx1c2ggKHZpc2libGUgdGFza3Mgb2Z0ZW4gcmVhZCBET00gbGF5b3V0LilcbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogY29uc3QgQ2hpbGQgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlVGFzayQoKCkgPT4ge1xuICogICAgIGNvbnNvbGUubG9nKCdDaGlsZCB0YXNrJyk7XG4gKiAgIH0pO1xuICogICB1c2VWaXNpYmxlVGFzayQoKCkgPT4ge1xuICogICAgIGNvbnNvbGUubG9nKCdDaGlsZCB2aXNpYmxlLXRhc2snKTtcbiAqICAgfSk7XG4gKiAgIGNvbnNvbGUubG9nKCdDaGlsZCByZW5kZXInKTtcbiAqICAgcmV0dXJuIDxkaXY+Q2hpbGQ8L2Rpdj47XG4gKiB9KTtcbiAqXG4gKiBjb25zdCBQYXJlbnQgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3QgY291bnQgPSB1c2VTaWduYWwoMCk7XG4gKiAgIHVzZVRhc2skKCgpID0+IHtcbiAqICAgICBjb25zb2xlLmxvZygnUGFyZW50IHRhc2snLCBjb3VudC52YWx1ZSk7XG4gKiAgIH0pO1xuICogICB1c2VWaXNpYmxlVGFzayQoKCkgPT4ge1xuICogICAgIGNvbnNvbGUubG9nKCdQYXJlbnQgdmlzaWJsZS10YXNrJywgY291bnQudmFsdWUpO1xuICogICAgIGNvdW50LnZhbHVlKys7XG4gKiAgIH0pO1xuICogICBjb25zb2xlLmxvZygnUGFyZW50IHJlbmRlcicsIGNvdW50LnZhbHVlKTtcbiAqICAgcmV0dXJuIDxDaGlsZC8+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiAjIyBJbiB0aGUgYWJvdmUgZXhhbXBsZSwgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiBpczpcbiAqXG4gKiAxLiBQYXJlbnQgdGFzayAwXG4gKiAyLiBQYXJlbnQgcmVuZGVyIDBcbiAqIDMuIENoaWxkIHRhc2sgMFxuICogNC4gQ2hpbGQgcmVuZGVyIDBcbiAqIDUuIEpvdXJuYWwgZmx1c2hcbiAqIDYuIFBhcmVudCB2aXNpYmxlLXRhc2sgMFxuICogNy4gUGFyZW50IHJlbmRlciAxXG4gKiA4LiBKb3VybmFsIGZsdXNoXG4gKiA5LiBDaGlsZCB2aXNpYmxlLXRhc2tcbiAqXG4gKiBJZiBhdCBhbnkgcG9pbnQgYSBuZXcgY2hvcmUgaXMgc2NoZWR1bGVkIGl0IHdpbGwgaW5zZXJ0IGl0c2VsZiBpbnRvIHRoZSBjb3JyZWN0IG9yZGVyLlxuICpcbiAqICMjIEltcGxlbWVudGF0aW9uXG4gKlxuICogQ2hvcmVzIGFyZSBrZXB0IGluIGEgc29ydGVkIGFycmF5LiBXaGVuIGEgbmV3IGNob3JlIGlzIHNjaGVkdWxlZCBpdCBpcyBpbnNlcnRlZCBpbnRvIHRoZSBjb3JyZWN0XG4gKiBsb2NhdGlvbi4gUHJvY2Vzc2luZyBvZiB0aGUgY2hvcmVzIGFsd2F5cyBzdGFydHMgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheS4gVGhpcyBlbnN1cmVzXG4gKiB0aGF0IHBhcmVudCBjaG9yZXMgYXJlIHByb2Nlc3NlZCBiZWZvcmUgY2hpbGQgY2hvcmVzLlxuICpcbiAqICMjIFNvcnRpbmdcbiAqXG4gKiBDaG9yZXMgYXJlIHNvcnRlZCBpbiB0aHJlZSBsZXZlbHM6XG4gKlxuICogLSBNYWNybzogYmVmb3JlSm91cm5hbEZsdXNoLCBqb3VybmFsRmx1c2gsIGFmdGVySm91cm5hbEZsdXNoXG4gKiAtIENvbXBvbmVudDogZGVwdGggZmlyc3Qgb3JkZXIgb2YgY29tcG9uZW50c1xuICogLSBNaWNybzogb3JkZXIgb2YgY2hvcmVzIHdpdGhpbiBhIGNvbXBvbmVudC5cbiAqXG4gKiBFeGFtcGxlIG9mIHNvcnRpbmc6XG4gKlxuICogLSBUYXNrcyBhcmUgYmVmb3JlSm91cm5hbEZsdXNoLCB0aGFuIGRlcHRoIGZpcnN0IG9uIGNvbXBvbmVudCBhbmQgZmluYWxseSBpbiBkZWNsYXJhdGlvbiBvcmRlclxuICogICB3aXRoaW4gY29tcG9uZW50LlxuICogLSBWaXNpYmxlIFRhc2tzIGFyZSBzb3J0ZWQgYWZ0ZXJKb3VybmFsRmx1c2gsIHRoYW4gZGVwdGggZmlyc3Qgb24gY29tcG9uZW50IGFuZCBmaW5hbGx5IGluXG4gKiAgIGRlY2xhcmF0aW9uIG9yZGVyIHdpdGhpbiBjb21wb25lbnQuXG4gKi9cblxuaW1wb3J0IHsgdHlwZSBEb21Db250YWluZXIgfSBmcm9tICcuLi9jbGllbnQvZG9tLWNvbnRhaW5lcic7XG5pbXBvcnQgeyBWTm9kZUZsYWdzLCB0eXBlIENsaWVudENvbnRhaW5lciB9IGZyb20gJy4uL2NsaWVudC90eXBlcyc7XG5pbXBvcnQgeyBWTm9kZUpvdXJuYWxPcENvZGUsIHZub2RlX2lzVk5vZGUgfSBmcm9tICcuLi9jbGllbnQvdm5vZGUnO1xuaW1wb3J0IHsgdm5vZGVfZGlmZiB9IGZyb20gJy4uL2NsaWVudC92bm9kZS1kaWZmJztcbmltcG9ydCB7IENvbXB1dGVkU2lnbmFsSW1wbCB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvaW1wbC9jb21wdXRlZC1zaWduYWwtaW1wbCc7XG5pbXBvcnQgeyBXcmFwcGVkU2lnbmFsSW1wbCB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvaW1wbC93cmFwcGVkLXNpZ25hbC1pbXBsJztcbmltcG9ydCB7IGlzU2lnbmFsLCB0eXBlIFNpZ25hbCB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvc2lnbmFsLnB1YmxpYyc7XG5pbXBvcnQgdHlwZSB7IE5vZGVQcm9wUGF5bG9hZCB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvc3Vic2NyaXB0aW9uLWRhdGEnO1xuaW1wb3J0IHtcbiAgU2lnbmFsRmxhZ3MsXG4gIHR5cGUgQXN5bmNDb21wdXRlUVJMLFxuICB0eXBlIENvbXB1dGVRUkwsXG4gIHR5cGUgRWZmZWN0U3Vic2NyaXB0aW9uLFxuICB0eXBlIFN0b3JlVGFyZ2V0LFxufSBmcm9tICcuLi9yZWFjdGl2ZS1wcmltaXRpdmVzL3R5cGVzJztcbmltcG9ydCB7IHNjaGVkdWxlRWZmZWN0cyB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvdXRpbHMnO1xuaW1wb3J0IHsgdHlwZSBJU3NyTm9kZSwgdHlwZSBTU1JDb250YWluZXIgfSBmcm9tICcuLi9zc3Ivc3NyLXR5cGVzJztcbmltcG9ydCB7IHJ1blJlc291cmNlLCB0eXBlIFJlc291cmNlRGVzY3JpcHRvciB9IGZyb20gJy4uL3VzZS91c2UtcmVzb3VyY2UnO1xuaW1wb3J0IHtcbiAgVGFzayxcbiAgVGFza0ZsYWdzLFxuICBjbGVhbnVwVGFzayxcbiAgcnVuVGFzayxcbiAgdHlwZSBEZXNjcmlwdG9yQmFzZSxcbiAgdHlwZSBUYXNrRm4sXG59IGZyb20gJy4uL3VzZS91c2UtdGFzayc7XG5pbXBvcnQgeyBleGVjdXRlQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnQtZXhlY3V0aW9uJztcbmltcG9ydCB0eXBlIHsgT25SZW5kZXJGbiB9IGZyb20gJy4vY29tcG9uZW50LnB1YmxpYyc7XG5pbXBvcnQgdHlwZSB7IFByb3BzIH0gZnJvbSAnLi9qc3gvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHR5cGUgeyBKU1hPdXRwdXQgfSBmcm9tICcuL2pzeC90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgeyBpc1NlcnZlclBsYXRmb3JtIH0gZnJvbSAnLi9wbGF0Zm9ybS9wbGF0Zm9ybSc7XG5pbXBvcnQgeyB0eXBlIFFSTEludGVybmFsIH0gZnJvbSAnLi9xcmwvcXJsLWNsYXNzJztcbmltcG9ydCB7IFNzck5vZGVGbGFncywgdHlwZSBDb250YWluZXIsIHR5cGUgSG9zdEVsZW1lbnQgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IENob3JlVHlwZSB9IGZyb20gJy4vdXRpbC1jaG9yZS10eXBlJztcbmltcG9ydCB7IFFTY29wZWRTdHlsZSB9IGZyb20gJy4vdXRpbHMvbWFya2Vycyc7XG5pbXBvcnQgeyBpc1Byb21pc2UsIG1heWJlVGhlbiwgcmV0cnlPblByb21pc2UsIHNhZmVDYWxsIH0gZnJvbSAnLi91dGlscy9wcm9taXNlcyc7XG5pbXBvcnQgeyBhZGRDb21wb25lbnRTdHlsZVByZWZpeCB9IGZyb20gJy4vdXRpbHMvc2NvcGVkLXN0eWxlcyc7XG5pbXBvcnQgeyBzZXJpYWxpemVBdHRyaWJ1dGUgfSBmcm9tICcuL3V0aWxzL3N0eWxlcyc7XG5pbXBvcnQgeyB0eXBlIFZhbHVlT3JQcm9taXNlIH0gZnJvbSAnLi91dGlscy90eXBlcyc7XG5pbXBvcnQgeyBpbnZva2UsIG5ld0ludm9rZUNvbnRleHQgfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgZmluZEJsb2NraW5nQ2hvcmUsIGZpbmRCbG9ja2luZ0Nob3JlRm9yVmlzaWJsZSB9IGZyb20gJy4vc2NoZWR1bGVyLXJ1bGVzJztcbmltcG9ydCB7IGNyZWF0ZU5leHRUaWNrIH0gZnJvbSAnLi9wbGF0Zm9ybS9uZXh0LXRpY2snO1xuaW1wb3J0IHsgQXN5bmNDb21wdXRlZFNpZ25hbEltcGwgfSBmcm9tICcuLi9yZWFjdGl2ZS1wcmltaXRpdmVzL2ltcGwvYXN5bmMtY29tcHV0ZWQtc2lnbmFsLWltcGwnO1xuaW1wb3J0IHsgaXNTc3JOb2RlIH0gZnJvbSAnLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy9zdWJzY3JpYmVyJztcbmltcG9ydCB7IGxvZ1dhcm4gfSBmcm9tICcuL3V0aWxzL2xvZyc7XG5pbXBvcnQgdHlwZSB7IEVsZW1lbnRWTm9kZSwgVmlydHVhbFZOb2RlIH0gZnJvbSAnLi4vY2xpZW50L3Zub2RlLWltcGwnO1xuaW1wb3J0IHsgQ2hvcmVBcnJheSwgY2hvcmVDb21wYXJhdG9yIH0gZnJvbSAnLi4vY2xpZW50L2Nob3JlLWFycmF5JztcblxuLy8gVHVybiB0aGlzIG9uIHRvIGdldCBkZWJ1ZyBvdXRwdXQgb2Ygd2hhdCB0aGUgc2NoZWR1bGVyIGlzIGRvaW5nLlxuY29uc3QgREVCVUc6IGJvb2xlYW4gPSBmYWxzZTtcblxuZW51bSBDaG9yZVN0YXRlIHtcbiAgTk9ORSA9IDAsXG4gIFJVTk5JTkcgPSAxLFxuICBGQUlMRUQgPSAyLFxuICBET05FID0gMyxcbn1cblxudHlwZSBDaG9yZVJldHVyblZhbHVlPFQgZXh0ZW5kcyBDaG9yZVR5cGUgPSBDaG9yZVR5cGU+ID0gVCBleHRlbmRzXG4gIHwgQ2hvcmVUeXBlLlJFQ09NUFVURV9BTkRfU0NIRURVTEVfRUZGRUNUU1xuICB8IENob3JlVHlwZS5XQUlUX0ZPUl9RVUVVRVxuICB8IENob3JlVHlwZS5OT0RFX1BST1BcbiAgPyB2b2lkXG4gIDogVCBleHRlbmRzIENob3JlVHlwZS5OT0RFX0RJRkYgfCBDaG9yZVR5cGUuQ09NUE9ORU5UXG4gICAgPyBKU1hPdXRwdXRcbiAgICA6IHVua25vd247XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hvcmU8VCBleHRlbmRzIENob3JlVHlwZSA9IENob3JlVHlwZT4ge1xuICAkdHlwZSQ6IFQ7XG4gICRpZHgkOiBudW1iZXIgfCBzdHJpbmc7XG4gICRob3N0JDogSG9zdEVsZW1lbnQ7XG4gICR0YXJnZXQkOiBDaG9yZVRhcmdldCB8IG51bGw7XG4gICRwYXlsb2FkJDogdW5rbm93bjtcbiAgJHN0YXRlJDogQ2hvcmVTdGF0ZTtcbiAgJGJsb2NrZWRDaG9yZXMkOiBDaG9yZUFycmF5IHwgbnVsbDtcbiAgJHN0YXJ0VGltZSQ6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgJGVuZFRpbWUkOiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgJHJlc29sdmUkOiAoKHZhbHVlOiBhbnkpID0+IHZvaWQpIHwgdW5kZWZpbmVkO1xuICAkcmVqZWN0JDogKChyZWFzb24/OiBhbnkpID0+IHZvaWQpIHwgdW5kZWZpbmVkO1xuICAkcmV0dXJuVmFsdWUkOiBWYWx1ZU9yUHJvbWlzZTxDaG9yZVJldHVyblZhbHVlPFQ+Pjtcbn1cblxuZXhwb3J0IHR5cGUgU2NoZWR1bGVyID0gUmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlU2NoZWR1bGVyPjtcblxudHlwZSBDaG9yZVRhcmdldCA9XG4gIHwgSG9zdEVsZW1lbnRcbiAgfCBRUkxJbnRlcm5hbDwoLi4uYXJnczogdW5rbm93bltdKSA9PiB1bmtub3duPlxuICB8IFNpZ25hbFxuICB8IFN0b3JlVGFyZ2V0O1xuXG5leHBvcnQgY29uc3QgZ2V0Q2hvcmVQcm9taXNlID0gPFQgZXh0ZW5kcyBDaG9yZVR5cGU+KGNob3JlOiBDaG9yZTxUPikgPT5cbiAgY2hvcmUuJHN0YXRlJCA9PT0gQ2hvcmVTdGF0ZS5OT05FXG4gICAgPyAoY2hvcmUuJHJldHVyblZhbHVlJCB8fD0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjaG9yZS4kcmVzb2x2ZSQgPSByZXNvbHZlO1xuICAgICAgICBjaG9yZS4kcmVqZWN0JCA9IHJlamVjdDtcbiAgICAgIH0pKVxuICAgIDogY2hvcmUuJHJldHVyblZhbHVlJDtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVNjaGVkdWxlciA9IChcbiAgY29udGFpbmVyOiBDb250YWluZXIsXG4gIGpvdXJuYWxGbHVzaDogKCkgPT4gdm9pZCxcbiAgY2hvcmVRdWV1ZTogQ2hvcmVBcnJheSxcbiAgYmxvY2tlZENob3JlczogU2V0PENob3JlPixcbiAgcnVubmluZ0Nob3JlczogU2V0PENob3JlPlxuKSA9PiB7XG4gIGxldCBkcmFpbkNob3JlOiBDaG9yZTxDaG9yZVR5cGUuV0FJVF9GT1JfUVVFVUU+IHwgbnVsbCA9IG51bGw7XG4gIGxldCBkcmFpblNjaGVkdWxlZCA9IGZhbHNlO1xuICBsZXQgaXNEcmFpbmluZyA9IGZhbHNlO1xuICBsZXQgaXNKb3VybmFsRmx1c2hSdW5uaW5nID0gZmFsc2U7XG4gIGxldCBmbHVzaEJ1ZGdldFN0YXJ0ID0gMDtcbiAgbGV0IGN1cnJlbnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gIGNvbnN0IG5leHRUaWNrID0gY3JlYXRlTmV4dFRpY2soZHJhaW5DaG9yZVF1ZXVlKTtcbiAgbGV0IGZsdXNoVGltZXJJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gZHJhaW5Jbk5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5TY2hlZHVsZWQpIHtcbiAgICAgIGRyYWluU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgIG5leHRUaWNrKCk7XG4gICAgfVxuICB9XG4gIC8vIERyYWluIGZvciB+MTYuNjdtcywgdGhlbiBhcHBseSBqb3VybmFsIGZsdXNoIGZvciB+MTYuNjdtcywgdGhlbiByZXBlYXRcbiAgLy8gV2UgZGl2aWRlIGJ5IDYwIGJlY2F1c2Ugd2Ugd2FudCB0byBydW4gYXQgNjBmcHNcbiAgY29uc3QgRlJFUVVFTkNZX01TID0gTWF0aC5mbG9vcigxMDAwIC8gNjApO1xuXG4gIHJldHVybiBzY2hlZHVsZTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIGZ1bmN0aW9uIHNjaGVkdWxlKFxuICAgIHR5cGU6IENob3JlVHlwZS5RUkxfUkVTT0xWRSxcbiAgICBpZ25vcmU6IG51bGwsXG4gICAgdGFyZ2V0OiBDb21wdXRlUVJMPGFueT4gfCBBc3luY0NvbXB1dGVRUkw8YW55PlxuICApOiBDaG9yZTxDaG9yZVR5cGUuUVJMX1JFU09MVkU+O1xuICBmdW5jdGlvbiBzY2hlZHVsZSh0eXBlOiBDaG9yZVR5cGUuV0FJVF9GT1JfUVVFVUUpOiBDaG9yZTxDaG9yZVR5cGUuV0FJVF9GT1JfUVVFVUU+O1xuICAvKipcbiAgICogU2NoZWR1bGUgcmVuZGVyaW5nIG9mIGEgY29tcG9uZW50LlxuICAgKlxuICAgKiBAcGFyYW0gdHlwZVxuICAgKiBAcGFyYW0gaG9zdCAtIEhvc3QgZWxlbWVudCB3aGVyZSB0aGUgY29tcG9uZW50IGlzIGJlaW5nIHJlbmRlcmVkLlxuICAgKiBAcGFyYW0gdGFyZ2V0XG4gICAqL1xuICBmdW5jdGlvbiBzY2hlZHVsZShcbiAgICB0eXBlOiBDaG9yZVR5cGUuUkVDT01QVVRFX0FORF9TQ0hFRFVMRV9FRkZFQ1RTLFxuICAgIGhvc3Q6IEhvc3RFbGVtZW50IHwgbnVsbCxcbiAgICB0YXJnZXQ6IFNpZ25hbDx1bmtub3duPiB8IFN0b3JlVGFyZ2V0LFxuICAgIGVmZmVjdHM6IFNldDxFZmZlY3RTdWJzY3JpcHRpb24+IHwgbnVsbFxuICApOiBDaG9yZTxDaG9yZVR5cGUuUkVDT01QVVRFX0FORF9TQ0hFRFVMRV9FRkZFQ1RTPjtcbiAgZnVuY3Rpb24gc2NoZWR1bGUoXG4gICAgdHlwZTogQ2hvcmVUeXBlLlRBU0sgfCBDaG9yZVR5cGUuVklTSUJMRSxcbiAgICB0YXNrOiBUYXNrXG4gICk6IENob3JlPENob3JlVHlwZS5UQVNLIHwgQ2hvcmVUeXBlLlZJU0lCTEU+O1xuICBmdW5jdGlvbiBzY2hlZHVsZShcbiAgICB0eXBlOiBDaG9yZVR5cGUuUlVOX1FSTCxcbiAgICBob3N0OiBIb3N0RWxlbWVudCxcbiAgICB0YXJnZXQ6IFFSTEludGVybmFsPCguLi5hcmdzOiB1bmtub3duW10pID0+IHVua25vd24+LFxuICAgIGFyZ3M6IHVua25vd25bXVxuICApOiBDaG9yZTxDaG9yZVR5cGUuUlVOX1FSTD47XG4gIGZ1bmN0aW9uIHNjaGVkdWxlKFxuICAgIHR5cGU6IENob3JlVHlwZS5DT01QT05FTlQsXG4gICAgaG9zdDogSG9zdEVsZW1lbnQsXG4gICAgcXJsOiBRUkxJbnRlcm5hbDxPblJlbmRlckZuPHVua25vd24+PixcbiAgICBwcm9wczogUHJvcHMgfCBudWxsXG4gICk6IENob3JlPENob3JlVHlwZS5DT01QT05FTlQ+O1xuICBmdW5jdGlvbiBzY2hlZHVsZShcbiAgICB0eXBlOiBDaG9yZVR5cGUuTk9ERV9ESUZGLFxuICAgIGhvc3Q6IEhvc3RFbGVtZW50LFxuICAgIHRhcmdldDogSG9zdEVsZW1lbnQsXG4gICAgdmFsdWU6IEpTWE91dHB1dCB8IFNpZ25hbFxuICApOiBDaG9yZTxDaG9yZVR5cGUuTk9ERV9ESUZGPjtcbiAgZnVuY3Rpb24gc2NoZWR1bGUoXG4gICAgdHlwZTogQ2hvcmVUeXBlLk5PREVfUFJPUCxcbiAgICBob3N0OiBIb3N0RWxlbWVudCxcbiAgICBwcm9wOiBzdHJpbmcsXG4gICAgdmFsdWU6IGFueVxuICApOiBDaG9yZTxDaG9yZVR5cGUuTk9ERV9QUk9QPjtcbiAgZnVuY3Rpb24gc2NoZWR1bGUodHlwZTogQ2hvcmVUeXBlLkNMRUFOVVBfVklTSUJMRSwgdGFzazogVGFzayk6IENob3JlPENob3JlVHlwZS5DTEVBTlVQX1ZJU0lCTEU+O1xuICAvLy8vLyBJTVBMRU1FTlRBVElPTiAvLy8vL1xuICBmdW5jdGlvbiBzY2hlZHVsZTxUIGV4dGVuZHMgQ2hvcmVUeXBlPihcbiAgICB0eXBlOiBULFxuICAgIGhvc3RPclRhc2s6IEhvc3RFbGVtZW50IHwgVGFzayB8IG51bGwgPSBudWxsLFxuICAgIHRhcmdldE9yUXJsOiBDaG9yZVRhcmdldCB8IHN0cmluZyB8IG51bGwgPSBudWxsLFxuICAgIHBheWxvYWQ6IGFueSA9IG51bGxcbiAgKTogQ2hvcmU8VD4gfCBudWxsIHtcbiAgICBpZiAodHlwZSA9PT0gQ2hvcmVUeXBlLldBSVRfRk9SX1FVRVVFICYmIGRyYWluQ2hvcmUpIHtcbiAgICAgIHJldHVybiBkcmFpbkNob3JlIGFzIENob3JlPFQ+O1xuICAgIH1cblxuICAgIGNvbnN0IGlzVGFzayA9XG4gICAgICB0eXBlID09PSBDaG9yZVR5cGUuVEFTSyB8fCB0eXBlID09PSBDaG9yZVR5cGUuVklTSUJMRSB8fCB0eXBlID09PSBDaG9yZVR5cGUuQ0xFQU5VUF9WSVNJQkxFO1xuXG4gICAgaWYgKGlzVGFzaykge1xuICAgICAgKGhvc3RPclRhc2sgYXMgVGFzaykuJGZsYWdzJCB8PSBUYXNrRmxhZ3MuRElSVFk7XG4gICAgfVxuICAgIGNvbnN0IGNob3JlOiBDaG9yZTxUPiA9IHtcbiAgICAgICR0eXBlJDogdHlwZSxcbiAgICAgICRpZHgkOiBpc1Rhc2tcbiAgICAgICAgPyAoaG9zdE9yVGFzayBhcyBUYXNrKS4kaW5kZXgkXG4gICAgICAgIDogdHlwZW9mIHRhcmdldE9yUXJsID09PSAnc3RyaW5nJ1xuICAgICAgICAgID8gdGFyZ2V0T3JRcmxcbiAgICAgICAgICA6IDAsXG4gICAgICAkaG9zdCQ6IGlzVGFzayA/IChob3N0T3JUYXNrIGFzIFRhc2spLiRlbCQgOiAoaG9zdE9yVGFzayBhcyBIb3N0RWxlbWVudCksXG4gICAgICAkdGFyZ2V0JDogdGFyZ2V0T3JRcmwgYXMgQ2hvcmVUYXJnZXQgfCBudWxsLFxuICAgICAgJHBheWxvYWQkOiBpc1Rhc2sgPyBob3N0T3JUYXNrIDogcGF5bG9hZCxcbiAgICAgICRzdGF0ZSQ6IENob3JlU3RhdGUuTk9ORSxcbiAgICAgICRibG9ja2VkQ2hvcmVzJDogbnVsbCxcbiAgICAgICRzdGFydFRpbWUkOiB1bmRlZmluZWQsXG4gICAgICAkZW5kVGltZSQ6IHVuZGVmaW5lZCxcbiAgICAgICRyZXNvbHZlJDogdW5kZWZpbmVkLFxuICAgICAgJHJlamVjdCQ6IHVuZGVmaW5lZCxcbiAgICAgICRyZXR1cm5WYWx1ZSQ6IG51bGwhLFxuICAgIH07XG5cbiAgICBpZiAodHlwZSA9PT0gQ2hvcmVUeXBlLldBSVRfRk9SX1FVRVVFKSB7XG4gICAgICBnZXRDaG9yZVByb21pc2UoY2hvcmUpO1xuICAgICAgZHJhaW5DaG9yZSA9IGNob3JlIGFzIENob3JlPENob3JlVHlwZS5XQUlUX0ZPUl9RVUVVRT47XG4gICAgICBkcmFpbkluTmV4dFRpY2soKTtcbiAgICAgIHJldHVybiBjaG9yZTtcbiAgICB9XG5cbiAgICBjb25zdCBpc1NlcnZlciA9IGlzU2VydmVyUGxhdGZvcm0oKTtcbiAgICBjb25zdCBpc0NsaWVudE9ubHkgPSB0eXBlID09PSBDaG9yZVR5cGUuTk9ERV9ESUZGIHx8IHR5cGUgPT09IENob3JlVHlwZS5RUkxfUkVTT0xWRTtcbiAgICBpZiAoaXNTZXJ2ZXIgJiYgaXNDbGllbnRPbmx5KSB7XG4gICAgICBERUJVRyAmJlxuICAgICAgICBkZWJ1Z1RyYWNlKFxuICAgICAgICAgIGBza2lwIGNsaWVudCBjaG9yZSAke2RlYnVnQ2hvcmVUeXBlVG9TdHJpbmcodHlwZSl9YCxcbiAgICAgICAgICBjaG9yZSxcbiAgICAgICAgICBjaG9yZVF1ZXVlLFxuICAgICAgICAgIGJsb2NrZWRDaG9yZXNcbiAgICAgICAgKTtcbiAgICAgIC8vIE1hcmsgc2tpcHBlZCBjbGllbnQtb25seSBjaG9yZXMgYXMgY29tcGxldGVkIG9uIHRoZSBzZXJ2ZXJcbiAgICAgIGZpbmlzaENob3JlKGNob3JlLCB1bmRlZmluZWQpO1xuICAgICAgcmV0dXJuIGNob3JlO1xuICAgIH1cblxuICAgIGlmIChpc1NlcnZlciAmJiBjaG9yZS4kaG9zdCQgJiYgaXNTc3JOb2RlKGNob3JlLiRob3N0JCkpIHtcbiAgICAgIGNvbnN0IGlzVXBkYXRhYmxlID0gISEoY2hvcmUuJGhvc3QkLmZsYWdzICYgU3NyTm9kZUZsYWdzLlVwZGF0YWJsZSk7XG5cbiAgICAgIGlmICghaXNVcGRhdGFibGUpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIC8vIGJhY2twYXRjaGluZyBleGNlcHRpb25zOlxuICAgICAgICAgIC8vIC0gbm9kZSBwcm9wIGlzIGFsbG93ZWQgYmVjYXVzZSBpdCBpcyB1c2VkIHRvIHVwZGF0ZSB0aGUgbm9kZSBwcm9wZXJ0eVxuICAgICAgICAgIC8vIC0gcmVjb21wdXRlIGFuZCBzY2hlZHVsZSBlZmZlY3RzIGJlY2F1c2UgaXQgdHJpZ2dlcnMgZWZmZWN0cyAoc28gbm9kZSBwcm9wIHRvbylcbiAgICAgICAgICBjaG9yZS4kdHlwZSQgIT09IENob3JlVHlwZS5OT0RFX1BST1AgJiZcbiAgICAgICAgICBjaG9yZS4kdHlwZSQgIT09IENob3JlVHlwZS5SRUNPTVBVVEVfQU5EX1NDSEVEVUxFX0VGRkVDVFNcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gV2UgYXJlIHJ1bm5pbmcgb24gdGhlIHNlcnZlci5cbiAgICAgICAgICAvLyBPbiBzZXJ2ZXIgd2UgY2FuJ3Qgc2NoZWR1bGUgdGFzayBmb3IgYSBkaWZmZXJlbnQgaG9zdCFcbiAgICAgICAgICAvLyBTZXJ2ZXIgaXMgU1NSLCBhbmQgdGhlcmVmb3JlIHNjaGVkdWxpbmcgZm9yIGFueXRoaW5nIGJ1dCB0aGUgY3VycmVudCBob3N0XG4gICAgICAgICAgLy8gaW1wbGllcyB0aGF0IHRoaW5ncyBuZWVkIHRvIGJlIHJlLXJ1biBhbmQgdGhhdCBpcyBub3Qgc3VwcG9ydGVkIGJlY2F1c2Ugb2Ygc3RyZWFtaW5nLlxuICAgICAgICAgIGNvbnN0IHdhcm5pbmdNZXNzYWdlID0gYEEgJyR7Y2hvcmVUeXBlVG9OYW1lKFxuICAgICAgICAgICAgY2hvcmUuJHR5cGUkXG4gICAgICAgICAgKX0nIGNob3JlIHdhcyBzY2hlZHVsZWQgb24gYSBob3N0IGVsZW1lbnQgdGhhdCBoYXMgYWxyZWFkeSBiZWVuIHN0cmVhbWVkIHRvIHRoZSBjbGllbnQuXG5UaGlzIGNhbiBsZWFkIHRvIGluY29uc2lzdGVuY2llcyBiZXR3ZWVuIFNlcnZlci1TaWRlIFJlbmRlcmluZyAoU1NSKSBhbmQgQ2xpZW50LVNpZGUgUmVuZGVyaW5nIChDU1IpLlxuXG5Qcm9ibGVtYXRpYyBjaG9yZTpcbiAgLSBUeXBlOiAke2Nob3JlVHlwZVRvTmFtZShjaG9yZS4kdHlwZSQpfVxuICAtIEhvc3Q6ICR7Y2hvcmUuJGhvc3QkLnRvU3RyaW5nKCl9XG4gIC0gTmVhcmVzdCBlbGVtZW50IGxvY2F0aW9uOiAke2Nob3JlLiRob3N0JC5jdXJyZW50RmlsZX1cblxuVGhpcyBpcyBvZnRlbiBjYXVzZWQgYnkgbW9kaWZ5aW5nIGEgc2lnbmFsIGluIGFuIGFscmVhZHkgcmVuZGVyZWQgY29tcG9uZW50IGR1cmluZyBTU1IuYDtcbiAgICAgICAgICBsb2dXYXJuKHdhcm5pbmdNZXNzYWdlKTtcbiAgICAgICAgICBERUJVRyAmJlxuICAgICAgICAgICAgZGVidWdUcmFjZSgnc2NoZWR1bGUuU0tJUFBFRCBob3N0IGlzIG5vdCB1cGRhdGFibGUnLCBjaG9yZSwgY2hvcmVRdWV1ZSwgYmxvY2tlZENob3Jlcyk7XG4gICAgICAgICAgcmV0dXJuIGNob3JlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgc2hvdWxkQmxvY2sgPVxuICAgICAgY2hvcmUuJHR5cGUkICE9PSBDaG9yZVR5cGUuUVJMX1JFU09MVkUgJiYgY2hvcmUuJHR5cGUkICE9PSBDaG9yZVR5cGUuUlVOX1FSTDtcblxuICAgIGlmIChzaG91bGRCbG9jaykge1xuICAgICAgY29uc3QgYmxvY2tpbmdDaG9yZSA9IGZpbmRCbG9ja2luZ0Nob3JlKFxuICAgICAgICBjaG9yZSxcbiAgICAgICAgY2hvcmVRdWV1ZSxcbiAgICAgICAgYmxvY2tlZENob3JlcyxcbiAgICAgICAgcnVubmluZ0Nob3JlcyxcbiAgICAgICAgY29udGFpbmVyXG4gICAgICApO1xuICAgICAgaWYgKGJsb2NraW5nQ2hvcmUpIHtcbiAgICAgICAgYWRkQmxvY2tlZENob3JlKGNob3JlLCBibG9ja2luZ0Nob3JlLCBibG9ja2VkQ2hvcmVzKTtcbiAgICAgICAgcmV0dXJuIGNob3JlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBydW5uaW5nQ2hvcmUgPSBnZXRSdW5uaW5nQ2hvcmUoY2hvcmUpO1xuICAgICAgaWYgKHJ1bm5pbmdDaG9yZSkge1xuICAgICAgICBhZGRCbG9ja2VkQ2hvcmUoY2hvcmUsIHJ1bm5pbmdDaG9yZSwgYmxvY2tlZENob3Jlcyk7XG4gICAgICAgIHJldHVybiBjaG9yZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRDaG9yZShjaG9yZSwgY2hvcmVRdWV1ZSk7XG4gICAgREVCVUcgJiYgZGVidWdUcmFjZSgnc2NoZWR1bGUnLCBjaG9yZSwgY2hvcmVRdWV1ZSwgYmxvY2tlZENob3Jlcyk7XG5cbiAgICBjb25zdCBydW5JbW1lZGlhdGVseSA9IChpc1NlcnZlciAmJiB0eXBlID09PSBDaG9yZVR5cGUuQ09NUE9ORU5UKSB8fCB0eXBlID09PSBDaG9yZVR5cGUuUlVOX1FSTDtcblxuICAgIGlmIChydW5JbW1lZGlhdGVseSAmJiAhaXNEcmFpbmluZykge1xuICAgICAgaW1tZWRpYXRlRHJhaW4oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZHJhaW5Jbk5leHRUaWNrKCk7XG4gICAgfVxuICAgIHJldHVybiBjaG9yZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGltbWVkaWF0ZURyYWluKCkge1xuICAgIGRyYWluU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICBkcmFpbkNob3JlUXVldWUoKTtcbiAgfVxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIERyYWluIHF1ZXVlIGhlbHBlcnNcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICBmdW5jdGlvbiBjYW5jZWxGbHVzaFRpbWVyKCkge1xuICAgIGlmIChmbHVzaFRpbWVySWQgIT0gbnVsbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KGZsdXNoVGltZXJJZCk7XG4gICAgICBmbHVzaFRpbWVySWQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNjaGVkdWxlRmx1c2hUaW1lcigpOiB2b2lkIHtcbiAgICBjb25zdCBpc1NlcnZlciA9IGlzU2VydmVyUGxhdGZvcm0oKTtcbiAgICAvLyBOZXZlciBzY2hlZHVsZSB0aW1lcnMgb24gdGhlIHNlcnZlclxuICAgIGlmIChpc1NlcnZlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBJZ25vcmUgaWYgYSB0aW1lciBpcyBhbHJlYWR5IHNjaGVkdWxlZFxuICAgIGlmIChmbHVzaFRpbWVySWQgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGNvbnN0IGVsYXBzZWQgPSBub3cgLSBmbHVzaEJ1ZGdldFN0YXJ0O1xuICAgIGNvbnN0IGRlbGF5ID0gTWF0aC5tYXgoMCwgRlJFUVVFTkNZX01TIC0gZWxhcHNlZCk7XG4gICAgLy8gRGVhZGxpbmUgYWxyZWFkeSByZWFjaGVkLCBmbHVzaCBub3dcbiAgICBpZiAoZGVsYXkgPT09IDApIHtcbiAgICAgIGlmICghaXNEcmFpbmluZykge1xuICAgICAgICBhcHBseUpvdXJuYWxGbHVzaCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZsdXNoVGltZXJJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZmx1c2hUaW1lcklkID0gbnVsbDtcblxuICAgICAgYXBwbHlKb3VybmFsRmx1c2goKTtcbiAgICB9LCBkZWxheSkgYXMgdW5rbm93biBhcyBudW1iZXI7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBseUpvdXJuYWxGbHVzaCgpIHtcbiAgICBpZiAoIWlzSm91cm5hbEZsdXNoUnVubmluZykge1xuICAgICAgLy8gcHJldmVudCBtdWx0aXBsZSBqb3VybmFsIGZsdXNoZXMgZnJvbSBydW5uaW5nIGF0IHRoZSBzYW1lIHRpbWVcbiAgICAgIGlzSm91cm5hbEZsdXNoUnVubmluZyA9IHRydWU7XG4gICAgICBqb3VybmFsRmx1c2goKTtcbiAgICAgIGlzSm91cm5hbEZsdXNoUnVubmluZyA9IGZhbHNlO1xuICAgICAgZmx1c2hCdWRnZXRTdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY2FuY2VsRmx1c2hUaW1lcigpO1xuICAgICAgREVCVUcgJiYgZGVidWdUcmFjZSgnam91cm5hbEZsdXNoLkRPTkUnLCBudWxsLCBjaG9yZVF1ZXVlLCBibG9ja2VkQ2hvcmVzKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzaG91bGRBcHBseUpvdXJuYWxGbHVzaChpc1NlcnZlcjogYm9vbGVhbikge1xuICAgIHJldHVybiAhaXNTZXJ2ZXIgJiYgY3VycmVudFRpbWUgLSBmbHVzaEJ1ZGdldFN0YXJ0ID49IEZSRVFVRU5DWV9NUztcbiAgfVxuXG4gIGZ1bmN0aW9uIGRyYWluQ2hvcmVRdWV1ZSgpOiB2b2lkIHtcbiAgICBjb25zdCBpc1NlcnZlciA9IGlzU2VydmVyUGxhdGZvcm0oKTtcbiAgICBkcmFpblNjaGVkdWxlZCA9IGZhbHNlO1xuICAgIGlmIChpc0RyYWluaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGVhcmx5IHJldHVybiBpZiB0aGUgcXVldWUgaXMgZW1wdHlcbiAgICBpZiAoIWNob3JlUXVldWUubGVuZ3RoKSB7XG4gICAgICBhcHBseUpvdXJuYWxGbHVzaCgpO1xuICAgICAgaWYgKGRyYWluQ2hvcmUgJiYgIXJ1bm5pbmdDaG9yZXMuc2l6ZSkge1xuICAgICAgICAvLyByZXNvbHZlIGRyYWluQ2hvcmUgb25seSBpZiB0aGVyZSBhcmUgbm8gcnVubmluZyBjaG9yZXMsIGJlY2F1c2VcbiAgICAgICAgLy8gd2UgYXJlIHN1cmUgdGhhdCB3ZSBhcmUgZG9uZVxuICAgICAgICBkcmFpbkNob3JlLiRyZXNvbHZlJCEobnVsbCk7XG4gICAgICAgIGRyYWluQ2hvcmUgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpc0RyYWluaW5nID0gdHJ1ZTtcbiAgICBmbHVzaEJ1ZGdldFN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY2FuY2VsRmx1c2hUaW1lcigpO1xuXG4gICAgY29uc3QgbWF5YmVGaW5pc2hEcmFpbiA9ICgpID0+IHtcbiAgICAgIGlmIChjaG9yZVF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpbkluTmV4dFRpY2soKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGRyYWluQ2hvcmUgJiYgcnVubmluZ0Nob3Jlcy5zaXplKSB7XG4gICAgICAgIGlmIChzaG91bGRBcHBseUpvdXJuYWxGbHVzaChpc1NlcnZlcikpIHtcbiAgICAgICAgICAvLyBhcHBseSBqb3VybmFsIGZsdXNoIGV2ZW4gaWYgd2UgYXJlIG5vdCBmaW5pc2hlZCBkcmFpbmluZyB0aGUgcXVldWVcbiAgICAgICAgICBhcHBseUpvdXJuYWxGbHVzaCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRDaG9yZSA9IG51bGw7XG4gICAgICBhcHBseUpvdXJuYWxGbHVzaCgpO1xuICAgICAgZHJhaW5DaG9yZT8uJHJlc29sdmUkIShudWxsKTtcbiAgICAgIGRyYWluQ2hvcmUgPSBudWxsO1xuICAgICAgREVCVUcgJiYgZGVidWdUcmFjZSgnZHJhaW4uRE9ORScsIGRyYWluQ2hvcmUsIGNob3JlUXVldWUsIGJsb2NrZWRDaG9yZXMpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIGNvbnN0IHNjaGVkdWxlQmxvY2tlZENob3Jlc0FuZERyYWluSWZOZWVkZWQgPSAoY2hvcmU6IENob3JlKSA9PiB7XG4gICAgICBsZXQgYmxvY2tlZENob3Jlc1NjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgaWYgKGNob3JlLiRibG9ja2VkQ2hvcmVzJCkge1xuICAgICAgICBmb3IgKGNvbnN0IGJsb2NrZWRDaG9yZSBvZiBjaG9yZS4kYmxvY2tlZENob3JlcyQpIHtcbiAgICAgICAgICBjb25zdCBibG9ja2luZ0Nob3JlID0gZmluZEJsb2NraW5nQ2hvcmUoXG4gICAgICAgICAgICBibG9ja2VkQ2hvcmUsXG4gICAgICAgICAgICBjaG9yZVF1ZXVlLFxuICAgICAgICAgICAgYmxvY2tlZENob3JlcyxcbiAgICAgICAgICAgIHJ1bm5pbmdDaG9yZXMsXG4gICAgICAgICAgICBjb250YWluZXJcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChibG9ja2luZ0Nob3JlKSB7XG4gICAgICAgICAgICAvLyBDaG9yZSBpcyBzdGlsbCBibG9ja2VkLCBtb3ZlIGl0IHRvIHRoZSBuZXcgYmxvY2tpbmcgY2hvcmUncyBsaXN0XG4gICAgICAgICAgICAvLyBOb3RlOiBjaG9yZSBpcyBhbHJlYWR5IGluIGJsb2NrZWRDaG9yZXMgU2V0IGFuZCB2bm9kZS5ibG9ja2VkQ2hvcmVzLFxuICAgICAgICAgICAgLy8gc28gd2Ugb25seSBhZGQgdG8gdGhlIG5ldyBibG9ja2luZyBjaG9yZSdzIGxpc3RcbiAgICAgICAgICAgIChibG9ja2luZ0Nob3JlLiRibG9ja2VkQ2hvcmVzJCB8fD0gbmV3IENob3JlQXJyYXkoKSkuYWRkKGJsb2NrZWRDaG9yZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJsb2NrZWRDaG9yZXMuZGVsZXRlKGJsb2NrZWRDaG9yZSk7XG4gICAgICAgICAgICBpZiAodm5vZGVfaXNWTm9kZShibG9ja2VkQ2hvcmUuJGhvc3QkKSkge1xuICAgICAgICAgICAgICBibG9ja2VkQ2hvcmUuJGhvc3QkLmJsb2NrZWRDaG9yZXM/LmRlbGV0ZShibG9ja2VkQ2hvcmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkQ2hvcmUoYmxvY2tlZENob3JlLCBjaG9yZVF1ZXVlKTtcbiAgICAgICAgICAgIERFQlVHICYmIGRlYnVnVHJhY2UoJ3NjaGVkdWxlLlVOQkxPQ0tFRCcsIGJsb2NrZWRDaG9yZSwgY2hvcmVRdWV1ZSwgYmxvY2tlZENob3Jlcyk7XG4gICAgICAgICAgICBibG9ja2VkQ2hvcmVzU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2hvcmUuJGJsb2NrZWRDaG9yZXMkID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChibG9ja2VkQ2hvcmVzU2NoZWR1bGVkICYmICFpc0RyYWluaW5nKSB7XG4gICAgICAgIGRyYWluSW5OZXh0VGljaygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsZXQgY3VycmVudENob3JlOiBDaG9yZSB8IG51bGwgPSBudWxsO1xuXG4gICAgdHJ5IHtcbiAgICAgIHdoaWxlIChjaG9yZVF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBjdXJyZW50VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBjb25zdCBjaG9yZSA9IChjdXJyZW50Q2hvcmUgPSBjaG9yZVF1ZXVlLnNoaWZ0KCkhKTtcbiAgICAgICAgaWYgKGNob3JlLiRzdGF0ZSQgIT09IENob3JlU3RhdGUuTk9ORSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHZOb2RlQWxyZWFkeURlbGV0ZWQoY2hvcmUpICYmXG4gICAgICAgICAgLy8gd2UgbmVlZCB0byBwcm9jZXNzIGNsZWFudXAgdGFza3MgZm9yIGRlbGV0ZWQgbm9kZXNcbiAgICAgICAgICBjaG9yZS4kdHlwZSQgIT09IENob3JlVHlwZS5DTEVBTlVQX1ZJU0lCTEVcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gc2tpcCBkZWxldGVkIGNob3JlXG4gICAgICAgICAgREVCVUcgJiYgZGVidWdUcmFjZSgnc2tpcCBjaG9yZScsIGNob3JlLCBjaG9yZVF1ZXVlLCBibG9ja2VkQ2hvcmVzKTtcbiAgICAgICAgICBpZiAodm5vZGVfaXNWTm9kZShjaG9yZS4kaG9zdCQpKSB7XG4gICAgICAgICAgICBjaG9yZS4kaG9zdCQuY2hvcmVzPy5kZWxldGUoY2hvcmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaG9yZS4kdHlwZSQgPT09IENob3JlVHlwZS5WSVNJQkxFKSB7XG4gICAgICAgICAgLy8gZW5zdXJlIHRoYXQgdGhlIGpvdXJuYWwgZmx1c2ggaXMgYXBwbGllZCBiZWZvcmUgdGhlIHZpc2libGUgY2hvcmUgaXMgZXhlY3V0ZWRcbiAgICAgICAgICAvLyBzbyB0aGF0IHRoZSB2aXNpYmxlIGNob3JlIGNhbiBzZWUgdGhlIGxhdGVzdCBET00gY2hhbmdlc1xuICAgICAgICAgIGFwcGx5Sm91cm5hbEZsdXNoKCk7XG4gICAgICAgICAgY29uc3QgYmxvY2tpbmdDaG9yZSA9IGZpbmRCbG9ja2luZ0Nob3JlRm9yVmlzaWJsZShjaG9yZSwgcnVubmluZ0Nob3JlcywgY29udGFpbmVyKTtcbiAgICAgICAgICBpZiAoYmxvY2tpbmdDaG9yZSAmJiBibG9ja2luZ0Nob3JlLiRzdGF0ZSQgPT09IENob3JlU3RhdGUuUlVOTklORykge1xuICAgICAgICAgICAgYWRkQmxvY2tlZENob3JlKGNob3JlLCBibG9ja2luZ0Nob3JlLCBibG9ja2VkQ2hvcmVzKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdGUgdGhhdCB0aGlzIG5ldmVyIHRocm93c1xuICAgICAgICBjaG9yZS4kc3RhcnRUaW1lJCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBleGVjdXRlQ2hvcmUoY2hvcmUsIGlzU2VydmVyKTtcbiAgICAgICAgY2hvcmUuJHJldHVyblZhbHVlJCA9IHJlc3VsdDtcbiAgICAgICAgaWYgKGlzUHJvbWlzZShyZXN1bHQpKSB7XG4gICAgICAgICAgcnVubmluZ0Nob3Jlcy5hZGQoY2hvcmUpO1xuICAgICAgICAgIGNob3JlLiRzdGF0ZSQgPSBDaG9yZVN0YXRlLlJVTk5JTkc7XG5cbiAgICAgICAgICByZXN1bHRcbiAgICAgICAgICAgIC50aGVuKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICBmaW5pc2hDaG9yZShjaG9yZSwgdmFsdWUpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoY2hvcmUuJHN0YXRlJCAhPT0gQ2hvcmVTdGF0ZS5SVU5OSU5HKSB7XG4gICAgICAgICAgICAgICAgLy8gd2UgYWxyZWFkeSBoYW5kbGVkIGFuIGVycm9yIGJ1dCBtYXliZSBpdCdzIGEgZGlmZmVyZW50IG9uZSBzbyB3ZSBsb2cgaXRcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBoYW5kbGVFcnJvcihjaG9yZSwgZSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgICBydW5uaW5nQ2hvcmVzLmRlbGV0ZShjaG9yZSk7XG4gICAgICAgICAgICAgIC8vIE5vdGUgdGhhdCB3ZSBpZ25vcmUgZmFpbGVkIGNob3JlcyBzbyB0aGUgYXBwIGtlZXBzIHdvcmtpbmdcbiAgICAgICAgICAgICAgLy8gVE9ETyBkZWNpZGUgaWYgdGhpcyBpcyBvayBhbmQgZG9jdW1lbnQgaXRcbiAgICAgICAgICAgICAgc2NoZWR1bGVCbG9ja2VkQ2hvcmVzQW5kRHJhaW5JZk5lZWRlZChjaG9yZSk7XG4gICAgICAgICAgICAgIC8vIElmIGRyYWluQ2hvcmUgaXMgbm90IG51bGwsIHdlIGFyZSB3YWl0aW5nIGZvciBpdCB0byBmaW5pc2guXG4gICAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBubyBydW5uaW5nIGNob3Jlcywgd2UgY2FuIGZpbmlzaCB0aGUgZHJhaW4uXG4gICAgICAgICAgICAgIGxldCBmaW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICBpZiAoZHJhaW5DaG9yZSAmJiAhcnVubmluZ0Nob3Jlcy5zaXplKSB7XG4gICAgICAgICAgICAgICAgZmluaXNoZWQgPSBtYXliZUZpbmlzaERyYWluKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCFmaW5pc2hlZCAmJiAhaXNEcmFpbmluZykge1xuICAgICAgICAgICAgICAgIHNjaGVkdWxlRmx1c2hUaW1lcigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmaW5pc2hDaG9yZShjaG9yZSwgcmVzdWx0KTtcbiAgICAgICAgICBzY2hlZHVsZUJsb2NrZWRDaG9yZXNBbmREcmFpbklmTmVlZGVkKGNob3JlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaG91bGRBcHBseUpvdXJuYWxGbHVzaChpc1NlcnZlcikpIHtcbiAgICAgICAgICBhcHBseUpvdXJuYWxGbHVzaCgpO1xuICAgICAgICAgIGRyYWluSW5OZXh0VGljaygpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGhhbmRsZUVycm9yKGN1cnJlbnRDaG9yZSEsIGUpO1xuICAgICAgc2NoZWR1bGVCbG9ja2VkQ2hvcmVzQW5kRHJhaW5JZk5lZWRlZChjdXJyZW50Q2hvcmUhKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaXNEcmFpbmluZyA9IGZhbHNlO1xuICAgICAgbWF5YmVGaW5pc2hEcmFpbigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaENob3JlKGNob3JlOiBDaG9yZSwgdmFsdWU6IGFueSkge1xuICAgIGNob3JlLiRlbmRUaW1lJCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGNob3JlLiRzdGF0ZSQgPSBDaG9yZVN0YXRlLkRPTkU7XG4gICAgY2hvcmUuJHJldHVyblZhbHVlJCA9IHZhbHVlO1xuICAgIGNob3JlLiRyZXNvbHZlJD8uKHZhbHVlKTtcbiAgICBpZiAodm5vZGVfaXNWTm9kZShjaG9yZS4kaG9zdCQpKSB7XG4gICAgICBjaG9yZS4kaG9zdCQuY2hvcmVzPy5kZWxldGUoY2hvcmUpO1xuICAgIH1cbiAgICBERUJVRyAmJiBkZWJ1Z1RyYWNlKCdleGVjdXRlLkRPTkUnLCBjaG9yZSwgY2hvcmVRdWV1ZSwgYmxvY2tlZENob3Jlcyk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVFcnJvcihjaG9yZTogQ2hvcmUsIGU6IGFueSkge1xuICAgIGNob3JlLiRlbmRUaW1lJCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGNob3JlLiRzdGF0ZSQgPSBDaG9yZVN0YXRlLkZBSUxFRDtcbiAgICBERUJVRyAmJiBkZWJ1Z1RyYWNlKCdleGVjdXRlLkVSUk9SJywgY2hvcmUsIGNob3JlUXVldWUsIGJsb2NrZWRDaG9yZXMpO1xuICAgIC8vIElmIHdlIHVzZWQgdGhlIHJlc3VsdCBhcyBwcm9taXNlLCB0aGlzIHdvbid0IGV4aXN0XG4gICAgY2hvcmUuJHJlamVjdCQ/LihlKTtcbiAgICBjb250YWluZXIuaGFuZGxlRXJyb3IoZSwgY2hvcmUuJGhvc3QkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4ZWN1dGVDaG9yZTxUIGV4dGVuZHMgQ2hvcmVUeXBlPihcbiAgICBjaG9yZTogQ2hvcmU8VD4sXG4gICAgaXNTZXJ2ZXI6IGJvb2xlYW5cbiAgKTogVmFsdWVPclByb21pc2U8Q2hvcmVSZXR1cm5WYWx1ZTxUPj4ge1xuICAgIGNvbnN0IGhvc3QgPSBjaG9yZS4kaG9zdCQ7XG4gICAgREVCVUcgJiYgZGVidWdUcmFjZSgnZXhlY3V0ZScsIGNob3JlLCBjaG9yZVF1ZXVlLCBibG9ja2VkQ2hvcmVzKTtcbiAgICBsZXQgcmV0dXJuVmFsdWU6IFZhbHVlT3JQcm9taXNlPENob3JlUmV0dXJuVmFsdWU8Q2hvcmVUeXBlPj47XG4gICAgc3dpdGNoIChjaG9yZS4kdHlwZSQpIHtcbiAgICAgIGNhc2UgQ2hvcmVUeXBlLkNPTVBPTkVOVDpcbiAgICAgICAge1xuICAgICAgICAgIHJldHVyblZhbHVlID0gc2FmZUNhbGwoXG4gICAgICAgICAgICAoKSA9PlxuICAgICAgICAgICAgICBleGVjdXRlQ29tcG9uZW50KFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBob3N0LFxuICAgICAgICAgICAgICAgIGhvc3QsXG4gICAgICAgICAgICAgICAgY2hvcmUuJHRhcmdldCQgYXMgUVJMSW50ZXJuYWw8T25SZW5kZXJGbjx1bmtub3duPj4sXG4gICAgICAgICAgICAgICAgY2hvcmUuJHBheWxvYWQkIGFzIFByb3BzIHwgbnVsbFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKGpzeCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoaXNTZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ganN4O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlU2NvcGVkSWQgPSBjb250YWluZXIuZ2V0SG9zdFByb3A8c3RyaW5nPihob3N0LCBRU2NvcGVkU3R5bGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXRyeU9uUHJvbWlzZSgoKSA9PlxuICAgICAgICAgICAgICAgICAgdm5vZGVfZGlmZihcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyIGFzIENsaWVudENvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgICAganN4LFxuICAgICAgICAgICAgICAgICAgICBob3N0IGFzIFZpcnR1YWxWTm9kZSxcbiAgICAgICAgICAgICAgICAgICAgYWRkQ29tcG9uZW50U3R5bGVQcmVmaXgoc3R5bGVTY29wZWRJZClcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGVycjogYW55KSA9PiB7XG4gICAgICAgICAgICAgIGhhbmRsZUVycm9yKGNob3JlLCBlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICkgYXMgVmFsdWVPclByb21pc2U8Q2hvcmVSZXR1cm5WYWx1ZTxDaG9yZVR5cGUuQ09NUE9ORU5UPj47XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENob3JlVHlwZS5SVU5fUVJMOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3QgZm4gPSAoY2hvcmUuJHRhcmdldCQgYXMgUVJMSW50ZXJuYWw8KC4uLmFyZ3M6IHVua25vd25bXSkgPT4gdW5rbm93bj4pLmdldEZuKCk7XG4gICAgICAgICAgcmV0dXJuVmFsdWUgPSByZXRyeU9uUHJvbWlzZSgoKSA9PlxuICAgICAgICAgICAgZm4oLi4uKGNob3JlLiRwYXlsb2FkJCBhcyB1bmtub3duW10pKVxuICAgICAgICAgICkgYXMgVmFsdWVPclByb21pc2U8Q2hvcmVSZXR1cm5WYWx1ZTxDaG9yZVR5cGUuUlVOX1FSTD4+O1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDaG9yZVR5cGUuVEFTSzpcbiAgICAgIGNhc2UgQ2hvcmVUeXBlLlZJU0lCTEU6XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0gY2hvcmUuJHBheWxvYWQkIGFzIERlc2NyaXB0b3JCYXNlO1xuICAgICAgICAgIGlmIChwYXlsb2FkLiRmbGFncyQgJiBUYXNrRmxhZ3MuUkVTT1VSQ0UpIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlID0gcnVuUmVzb3VyY2UoXG4gICAgICAgICAgICAgIHBheWxvYWQgYXMgUmVzb3VyY2VEZXNjcmlwdG9yPFRhc2tGbj4sXG4gICAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgICAgaG9zdFxuICAgICAgICAgICAgKSBhcyBWYWx1ZU9yUHJvbWlzZTxDaG9yZVJldHVyblZhbHVlPENob3JlVHlwZS5UQVNLPj47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlID0gcnVuVGFzayhcbiAgICAgICAgICAgICAgcGF5bG9hZCBhcyBUYXNrPFRhc2tGbiwgVGFza0ZuPixcbiAgICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgICBob3N0XG4gICAgICAgICAgICApIGFzIFZhbHVlT3JQcm9taXNlPENob3JlUmV0dXJuVmFsdWU8Q2hvcmVUeXBlLlRBU0s+PjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENob3JlVHlwZS5DTEVBTlVQX1ZJU0lCTEU6XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCB0YXNrID0gY2hvcmUuJHBheWxvYWQkIGFzIFRhc2s8VGFza0ZuLCBUYXNrRm4+O1xuICAgICAgICAgIGNsZWFudXBUYXNrKHRhc2spO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDaG9yZVR5cGUuTk9ERV9ESUZGOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3QgcGFyZW50VmlydHVhbE5vZGUgPSBjaG9yZS4kdGFyZ2V0JCBhcyBWaXJ0dWFsVk5vZGU7XG4gICAgICAgICAgbGV0IGpzeCA9IGNob3JlLiRwYXlsb2FkJCBhcyBKU1hPdXRwdXQ7XG4gICAgICAgICAgaWYgKGlzU2lnbmFsKGpzeCkpIHtcbiAgICAgICAgICAgIGpzeCA9IGpzeC52YWx1ZSBhcyBhbnk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVyblZhbHVlID0gcmV0cnlPblByb21pc2UoKCkgPT5cbiAgICAgICAgICAgIHZub2RlX2RpZmYoY29udGFpbmVyIGFzIERvbUNvbnRhaW5lciwganN4LCBwYXJlbnRWaXJ0dWFsTm9kZSwgbnVsbClcbiAgICAgICAgICApIGFzIFZhbHVlT3JQcm9taXNlPENob3JlUmV0dXJuVmFsdWU8Q2hvcmVUeXBlLk5PREVfRElGRj4+O1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDaG9yZVR5cGUuTk9ERV9QUk9QOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3QgdmlydHVhbE5vZGUgPSBjaG9yZS4kaG9zdCQgYXMgdW5rbm93biBhcyBFbGVtZW50Vk5vZGU7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGNob3JlLiRwYXlsb2FkJCBhcyBOb2RlUHJvcFBheWxvYWQ7XG4gICAgICAgICAgbGV0IHZhbHVlOiBTaWduYWw8YW55PiB8IHN0cmluZyA9IHBheWxvYWQuJHZhbHVlJDtcbiAgICAgICAgICBpZiAoaXNTaWduYWwodmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnZhbHVlIGFzIGFueTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgaXNDb25zdCA9IHBheWxvYWQuJGlzQ29uc3QkO1xuICAgICAgICAgIGNvbnN0IGpvdXJuYWwgPSAoY29udGFpbmVyIGFzIERvbUNvbnRhaW5lcikuJGpvdXJuYWwkO1xuICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0gY2hvcmUuJGlkeCQgYXMgc3RyaW5nO1xuICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRWYWx1ZSA9IHNlcmlhbGl6ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgIHByb3BlcnR5LFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBwYXlsb2FkLiRzY29wZWRTdHlsZUlkUHJlZml4JFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGlzU2VydmVyKSB7XG4gICAgICAgICAgICAoY29udGFpbmVyIGFzIFNTUkNvbnRhaW5lcikuYWRkQmFja3BhdGNoRW50cnkoXG4gICAgICAgICAgICAgIChjaG9yZS4kaG9zdCQgYXMgSVNzck5vZGUpLmlkLFxuICAgICAgICAgICAgICBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgc2VyaWFsaXplZFZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoaXNDb25zdCkge1xuICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdmlydHVhbE5vZGUuZWxlbWVudDtcbiAgICAgICAgICAgICAgam91cm5hbC5wdXNoKFZOb2RlSm91cm5hbE9wQ29kZS5TZXRBdHRyaWJ1dGUsIGVsZW1lbnQsIHByb3BlcnR5LCBzZXJpYWxpemVkVmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmlydHVhbE5vZGUuc2V0QXR0cihwcm9wZXJ0eSwgc2VyaWFsaXplZFZhbHVlLCBqb3VybmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVyblZhbHVlID0gdW5kZWZpbmVkIGFzIFZhbHVlT3JQcm9taXNlPENob3JlUmV0dXJuVmFsdWU8Q2hvcmVUeXBlLk5PREVfUFJPUD4+O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ2hvcmVUeXBlLlFSTF9SRVNPTFZFOiB7XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCB0YXJnZXQgPSBjaG9yZS4kdGFyZ2V0JCBhcyBRUkxJbnRlcm5hbDxhbnk+O1xuICAgICAgICAgIHJldHVyblZhbHVlID0gKCF0YXJnZXQucmVzb2x2ZWQgPyB0YXJnZXQucmVzb2x2ZSgpIDogbnVsbCkgYXMgVmFsdWVPclByb21pc2U8XG4gICAgICAgICAgICBDaG9yZVJldHVyblZhbHVlPENob3JlVHlwZS5RUkxfUkVTT0xWRT5cbiAgICAgICAgICA+O1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBDaG9yZVR5cGUuUkVDT01QVVRFX0FORF9TQ0hFRFVMRV9FRkZFQ1RTOiB7XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCB0YXJnZXQgPSBjaG9yZS4kdGFyZ2V0JCBhcyBDb21wdXRlZFNpZ25hbEltcGw8dW5rbm93bj4gfCBXcmFwcGVkU2lnbmFsSW1wbDx1bmtub3duPjtcblxuICAgICAgICAgIGNvbnN0IGVmZmVjdHMgPSBjaG9yZS4kcGF5bG9hZCQgYXMgU2V0PEVmZmVjdFN1YnNjcmlwdGlvbj47XG4gICAgICAgICAgaWYgKCFlZmZlY3RzPy5zaXplKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgc2hvdWxkQ29tcHV0ZSA9XG4gICAgICAgICAgICB0YXJnZXQgaW5zdGFuY2VvZiBDb21wdXRlZFNpZ25hbEltcGwgfHwgdGFyZ2V0IGluc3RhbmNlb2YgV3JhcHBlZFNpZ25hbEltcGw7XG5cbiAgICAgICAgICAvLyBmb3IgLmVycm9yIGFuZCAubG9hZGluZyBlZmZlY3RzXG4gICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIEFzeW5jQ29tcHV0ZWRTaWduYWxJbXBsICYmIGVmZmVjdHMgIT09IHRhcmdldC4kZWZmZWN0cyQpIHtcbiAgICAgICAgICAgIHNob3VsZENvbXB1dGUgPSBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2hvdWxkQ29tcHV0ZSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gbmV3SW52b2tlQ29udGV4dCgpO1xuICAgICAgICAgICAgY3R4LiRjb250YWluZXIkID0gY29udGFpbmVyO1xuICAgICAgICAgICAgLy8gbmVlZGVkIGZvciBjb21wdXRlZCBzaWduYWxzIGFuZCB0aHJvd2luZyBRUkxzXG4gICAgICAgICAgICByZXR1cm5WYWx1ZSA9IG1heWJlVGhlbihcbiAgICAgICAgICAgICAgcmV0cnlPblByb21pc2UoKCkgPT5cbiAgICAgICAgICAgICAgICBpbnZva2UuY2FsbCh0YXJnZXQsIGN0eCwgKHRhcmdldCBhcyBDb21wdXRlZFNpZ25hbEltcGw8dW5rbm93bj4pLiRjb21wdXRlSWZOZWVkZWQkKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCh0YXJnZXQgYXMgQ29tcHV0ZWRTaWduYWxJbXBsPHVua25vd24+KS4kZmxhZ3MkICYgU2lnbmFsRmxhZ3MuUlVOX0VGRkVDVFMpIHtcbiAgICAgICAgICAgICAgICAgICh0YXJnZXQgYXMgQ29tcHV0ZWRTaWduYWxJbXBsPHVua25vd24+KS4kZmxhZ3MkICY9IH5TaWduYWxGbGFncy5SVU5fRUZGRUNUUztcbiAgICAgICAgICAgICAgICAgIHJldHVybiByZXRyeU9uUHJvbWlzZSgoKSA9PiBzY2hlZHVsZUVmZmVjdHMoY29udGFpbmVyLCB0YXJnZXQsIGVmZmVjdHMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICkgYXMgVmFsdWVPclByb21pc2U8Q2hvcmVSZXR1cm5WYWx1ZTxDaG9yZVR5cGUuUkVDT01QVVRFX0FORF9TQ0hFRFVMRV9FRkZFQ1RTPj47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlID0gcmV0cnlPblByb21pc2UoKCkgPT4ge1xuICAgICAgICAgICAgICBzY2hlZHVsZUVmZmVjdHMoY29udGFpbmVyLCB0YXJnZXQsIGVmZmVjdHMpO1xuICAgICAgICAgICAgfSkgYXMgVmFsdWVPclByb21pc2U8Q2hvcmVSZXR1cm5WYWx1ZTxDaG9yZVR5cGUuUkVDT01QVVRFX0FORF9TQ0hFRFVMRV9FRkZFQ1RTPj47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0dXJuVmFsdWUgYXMgYW55O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UnVubmluZ0Nob3JlKGNob3JlOiBDaG9yZSk6IENob3JlIHwgbnVsbCB7XG4gICAgaWYgKHJ1bm5pbmdDaG9yZXMuc2l6ZSkge1xuICAgICAgLy8gMS4xLiBDaGVjayBpZiB0aGUgY2hvcmUgaXMgYWxyZWFkeSBydW5uaW5nLlxuICAgICAgZm9yIChjb25zdCBydW5uaW5nQ2hvcmUgb2YgcnVubmluZ0Nob3Jlcykge1xuICAgICAgICBjb25zdCBjb21wID0gY2hvcmVDb21wYXJhdG9yKGNob3JlLCBydW5uaW5nQ2hvcmUpO1xuICAgICAgICBpZiAoY29tcCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBydW5uaW5nQ2hvcmU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHZOb2RlQWxyZWFkeURlbGV0ZWQoY2hvcmU6IENob3JlKTogYm9vbGVhbiB7XG4gIHJldHVybiAhIShjaG9yZS4kaG9zdCQgJiYgdm5vZGVfaXNWTm9kZShjaG9yZS4kaG9zdCQpICYmIGNob3JlLiRob3N0JC5mbGFncyAmIFZOb2RlRmxhZ3MuRGVsZXRlZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRCbG9ja2VkQ2hvcmUoXG4gIGJsb2NrZWRDaG9yZTogQ2hvcmUsXG4gIGJsb2NraW5nQ2hvcmU6IENob3JlLFxuICBibG9ja2VkQ2hvcmVzOiBTZXQ8Q2hvcmU+XG4pIHtcbiAgREVCVUcgJiZcbiAgICBkZWJ1Z1RyYWNlKFxuICAgICAgYGJsb2NrZWQgY2hvcmUgYnkgJHtkZWJ1Z0Nob3JlVG9TdHJpbmcoYmxvY2tpbmdDaG9yZSl9YCxcbiAgICAgIGJsb2NrZWRDaG9yZSxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIGJsb2NrZWRDaG9yZXNcbiAgICApO1xuICAoYmxvY2tpbmdDaG9yZS4kYmxvY2tlZENob3JlcyQgfHw9IG5ldyBDaG9yZUFycmF5KCkpLmFkZChibG9ja2VkQ2hvcmUpO1xuICBibG9ja2VkQ2hvcmVzLmFkZChibG9ja2VkQ2hvcmUpO1xuICBpZiAodm5vZGVfaXNWTm9kZShibG9ja2VkQ2hvcmUuJGhvc3QkKSkge1xuICAgIChibG9ja2VkQ2hvcmUuJGhvc3QkLmJsb2NrZWRDaG9yZXMgfHw9IG5ldyBDaG9yZUFycmF5KCkpLmFkZChibG9ja2VkQ2hvcmUpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRDaG9yZShjaG9yZTogQ2hvcmUsIGNob3JlQXJyYXk6IENob3JlQXJyYXkpIHtcbiAgY29uc3QgaWR4ID0gY2hvcmVBcnJheS5hZGQoY2hvcmUpO1xuICBpZiAoaWR4IDwgMCAmJiB2bm9kZV9pc1ZOb2RlKGNob3JlLiRob3N0JCkpIHtcbiAgICAoY2hvcmUuJGhvc3QkLmNob3JlcyB8fD0gbmV3IENob3JlQXJyYXkoKSkuYWRkKGNob3JlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjaG9yZVR5cGVUb05hbWUodHlwZTogQ2hvcmVUeXBlKTogc3RyaW5nIHtcbiAgcmV0dXJuIChcbiAgICAoXG4gICAgICB7XG4gICAgICAgIFtDaG9yZVR5cGUuUVJMX1JFU09MVkVdOiAnUmVzb2x2ZSBRUkwnLFxuICAgICAgICBbQ2hvcmVUeXBlLlJVTl9RUkxdOiAnUnVuIFFSTCcsXG4gICAgICAgIFtDaG9yZVR5cGUuVEFTS106ICdUYXNrJyxcbiAgICAgICAgW0Nob3JlVHlwZS5OT0RFX0RJRkZdOiAnQ2hhbmdlcyBkaWZmaW5nJyxcbiAgICAgICAgW0Nob3JlVHlwZS5OT0RFX1BST1BdOiAnVXBkYXRpbmcgbm9kZSBwcm9wZXJ0eScsXG4gICAgICAgIFtDaG9yZVR5cGUuQ09NUE9ORU5UXTogJ0NvbXBvbmVudCcsXG4gICAgICAgIFtDaG9yZVR5cGUuUkVDT01QVVRFX0FORF9TQ0hFRFVMRV9FRkZFQ1RTXTogJ1NpZ25hbCByZWNvbXB1dGUnLFxuICAgICAgICBbQ2hvcmVUeXBlLlZJU0lCTEVdOiAnVmlzaWJsZScsXG4gICAgICAgIFtDaG9yZVR5cGUuQ0xFQU5VUF9WSVNJQkxFXTogJ0NsZWFudXAgdmlzaWJsZScsXG4gICAgICAgIFtDaG9yZVR5cGUuV0FJVF9GT1JfUVVFVUVdOiAnV2FpdCBmb3IgcXVldWUnLFxuICAgICAgfSBhcyBSZWNvcmQ8Q2hvcmVUeXBlLCBzdHJpbmc+XG4gICAgKVt0eXBlXSB8fCAnVW5rbm93bjogJyArIHR5cGVcbiAgKTtcbn1cblxuZnVuY3Rpb24gZGVidWdDaG9yZVR5cGVUb1N0cmluZyh0eXBlOiBDaG9yZVR5cGUpOiBzdHJpbmcge1xuICByZXR1cm4gKFxuICAgIChcbiAgICAgIHtcbiAgICAgICAgW0Nob3JlVHlwZS5RUkxfUkVTT0xWRV06ICdRUkxfUkVTT0xWRScsXG4gICAgICAgIFtDaG9yZVR5cGUuUlVOX1FSTF06ICdSVU5fUVJMJyxcbiAgICAgICAgW0Nob3JlVHlwZS5UQVNLXTogJ1RBU0snLFxuICAgICAgICBbQ2hvcmVUeXBlLk5PREVfRElGRl06ICdOT0RFX0RJRkYnLFxuICAgICAgICBbQ2hvcmVUeXBlLk5PREVfUFJPUF06ICdOT0RFX1BST1AnLFxuICAgICAgICBbQ2hvcmVUeXBlLkNPTVBPTkVOVF06ICdDT01QT05FTlQnLFxuICAgICAgICBbQ2hvcmVUeXBlLlJFQ09NUFVURV9BTkRfU0NIRURVTEVfRUZGRUNUU106ICdSRUNPTVBVVEVfU0lHTkFMJyxcbiAgICAgICAgW0Nob3JlVHlwZS5WSVNJQkxFXTogJ1ZJU0lCTEUnLFxuICAgICAgICBbQ2hvcmVUeXBlLkNMRUFOVVBfVklTSUJMRV06ICdDTEVBTlVQX1ZJU0lCTEUnLFxuICAgICAgICBbQ2hvcmVUeXBlLldBSVRfRk9SX1FVRVVFXTogJ1dBSVRfRk9SX1FVRVVFJyxcbiAgICAgIH0gYXMgUmVjb3JkPENob3JlVHlwZSwgc3RyaW5nPlxuICAgIClbdHlwZV0gfHwgJ1VOS05PV046ICcgKyB0eXBlXG4gICk7XG59XG5cbmZ1bmN0aW9uIGRlYnVnQ2hvcmVUb1N0cmluZyhjaG9yZTogQ2hvcmUpOiBzdHJpbmcge1xuICBjb25zdCB0eXBlID0gZGVidWdDaG9yZVR5cGVUb1N0cmluZyhjaG9yZS4kdHlwZSQpO1xuICBjb25zdCBzdGF0ZSA9IGNob3JlLiRzdGF0ZSQgPyBgWyR7Q2hvcmVTdGF0ZVtjaG9yZS4kc3RhdGUkXX1dIGAgOiAnJztcbiAgY29uc3QgaG9zdCA9IFN0cmluZyhjaG9yZS4kaG9zdCQpLnJlcGxhY2VBbGwoL1xcbi4qL2dpbSwgJycpO1xuICBjb25zdCBxcmxUYXJnZXQgPSAoY2hvcmUuJHRhcmdldCQgYXMgUVJMSW50ZXJuYWw8YW55Pik/LiRzeW1ib2wkO1xuICByZXR1cm4gYCR7c3RhdGV9Q2hvcmUoJHt0eXBlfSAke2Nob3JlLiR0eXBlJCA9PT0gQ2hvcmVUeXBlLlFSTF9SRVNPTFZFIHx8IGNob3JlLiR0eXBlJCA9PT0gQ2hvcmVUeXBlLlJVTl9RUkwgPyBxcmxUYXJnZXQgOiBob3N0fSAke2Nob3JlLiRpZHgkfSlgO1xufVxuXG5mdW5jdGlvbiBkZWJ1Z1RyYWNlKFxuICBhY3Rpb246IHN0cmluZyxcbiAgYXJnPzogYW55IHwgbnVsbCxcbiAgcXVldWU/OiBDaG9yZUFycmF5LFxuICBibG9ja2VkQ2hvcmVzPzogU2V0PENob3JlPlxuKSB7XG4gIGNvbnN0IGxpbmVzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIC8vIEhlYWRlclxuICBsaW5lcy5wdXNoKGBTY2hlZHVsZXI6ICR7YWN0aW9ufWApO1xuXG4gIC8vIEFyZ3VtZW50IHNlY3Rpb25cbiAgaWYgKGFyZykge1xuICAgIGxpbmVzLnB1c2goJycpO1xuICAgIGlmIChhcmcgJiYgJyR0eXBlJCcgaW4gYXJnKSB7XG4gICAgICBjb25zdCBjaG9yZSA9IGFyZyBhcyBDaG9yZTtcbiAgICAgIGNvbnN0IHR5cGUgPSBkZWJ1Z0Nob3JlVHlwZVRvU3RyaW5nKGNob3JlLiR0eXBlJCk7XG4gICAgICBjb25zdCBob3N0ID0gU3RyaW5nKGNob3JlLiRob3N0JCkucmVwbGFjZUFsbCgvXFxuLiovZ2ltLCAnJyk7XG4gICAgICBjb25zdCBxcmxUYXJnZXQgPSAoY2hvcmUuJHRhcmdldCQgYXMgUVJMSW50ZXJuYWw8YW55Pik/LiRzeW1ib2wkO1xuICAgICAgY29uc3QgdGFyZ2V0T3JIb3N0ID1cbiAgICAgICAgY2hvcmUuJHR5cGUkID09PSBDaG9yZVR5cGUuUVJMX1JFU09MVkUgfHwgY2hvcmUuJHR5cGUkID09PSBDaG9yZVR5cGUuUlVOX1FSTFxuICAgICAgICAgID8gcXJsVGFyZ2V0XG4gICAgICAgICAgOiBob3N0O1xuXG4gICAgICBsaW5lcy5wdXNoKGDwn46vIEN1cnJlbnQgQ2hvcmU6YCk7XG4gICAgICBsaW5lcy5wdXNoKGAgIFR5cGU6ICR7dHlwZX1gKTtcbiAgICAgIGxpbmVzLnB1c2goYCAgSG9zdDogJHt0YXJnZXRPckhvc3R9YCk7XG5cbiAgICAgIC8vIFNob3cgZXhlY3V0aW9uIHRpbWUgaWYgYXZhaWxhYmxlXG4gICAgICBpZiAoY2hvcmUuJHN0YXJ0VGltZSQgJiYgY2hvcmUuJGVuZFRpbWUkKSB7XG4gICAgICAgIGNvbnN0IGV4ZWN1dGlvblRpbWUgPSBjaG9yZS4kZW5kVGltZSQgLSBjaG9yZS4kc3RhcnRUaW1lJDtcbiAgICAgICAgbGluZXMucHVzaChgICBUaW1lOiAke2V4ZWN1dGlvblRpbWUudG9GaXhlZCgyKX1tc2ApO1xuICAgICAgfSBlbHNlIGlmIChjaG9yZS4kc3RhcnRUaW1lJCkge1xuICAgICAgICBjb25zdCBlbGFwc2VkVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gY2hvcmUuJHN0YXJ0VGltZSQ7XG4gICAgICAgIGxpbmVzLnB1c2goYCAgVGltZTogJHtlbGFwc2VkVGltZS50b0ZpeGVkKDIpfW1zIChydW5uaW5nKWApO1xuICAgICAgfVxuXG4gICAgICAvLyBTaG93IGJsb2NrZWQgY2hvcmVzIGZvciB0aGlzIGNob3JlXG4gICAgICBpZiAoY2hvcmUuJGJsb2NrZWRDaG9yZXMkICYmIGNob3JlLiRibG9ja2VkQ2hvcmVzJC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxpbmVzLnB1c2goYCAg4puUIEJsb2NrZWQgQ2hvcmVzOmApO1xuICAgICAgICBjaG9yZS4kYmxvY2tlZENob3JlcyQuZm9yRWFjaCgoYmxvY2tlZENob3JlLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGJsb2NrZWRUeXBlID0gZGVidWdDaG9yZVR5cGVUb1N0cmluZyhibG9ja2VkQ2hvcmUuJHR5cGUkKTtcbiAgICAgICAgICBjb25zdCBibG9ja2VkVGFyZ2V0ID0gU3RyaW5nKGJsb2NrZWRDaG9yZS4kaG9zdCQpLnJlcGxhY2VBbGwoL1xcbi4qL2dpbSwgJycpO1xuICAgICAgICAgIGxpbmVzLnB1c2goYCAgICAke2luZGV4ICsgMX0uICR7YmxvY2tlZFR5cGV9ICR7YmxvY2tlZFRhcmdldH0gJHtibG9ja2VkQ2hvcmUuJGlkeCR9YCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsaW5lcy5wdXNoKGDwn5OdIEFyZ3VtZW50OiAke1N0cmluZyhhcmcpLnJlcGxhY2VBbGwoL1xcbi4qL2dpbSwgJycpfWApO1xuICAgIH1cbiAgfVxuXG4gIC8vIFF1ZXVlIHNlY3Rpb25cbiAgaWYgKHF1ZXVlICYmIHF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICBsaW5lcy5wdXNoKCcnKTtcbiAgICBsaW5lcy5wdXNoKGDwn5OLIFF1ZXVlICgke3F1ZXVlLmxlbmd0aH0gaXRlbXMpOmApO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2hvcmUgPSBxdWV1ZVtpXTtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gY2hvcmUgPT09IGFyZztcbiAgICAgIGNvbnN0IGFjdGl2ZU1hcmtlciA9IGlzQWN0aXZlID8gYOKWtiBgIDogJyAgJztcbiAgICAgIGNvbnN0IHR5cGUgPSBkZWJ1Z0Nob3JlVHlwZVRvU3RyaW5nKGNob3JlLiR0eXBlJCk7XG4gICAgICBjb25zdCBzdGF0ZSA9IGNob3JlLiRzdGF0ZSQgPyBgWyR7Q2hvcmVTdGF0ZVtjaG9yZS4kc3RhdGUkXX1dYCA6ICcnO1xuICAgICAgY29uc3QgaG9zdCA9IFN0cmluZyhjaG9yZS4kaG9zdCQpLnJlcGxhY2VBbGwoL1xcbi4qL2dpbSwgJycpO1xuICAgICAgY29uc3QgcXJsVGFyZ2V0ID0gKGNob3JlLiR0YXJnZXQkIGFzIFFSTEludGVybmFsPGFueT4pPy4kc3ltYm9sJDtcbiAgICAgIGNvbnN0IHRhcmdldCA9XG4gICAgICAgIGNob3JlLiR0eXBlJCA9PT0gQ2hvcmVUeXBlLlFSTF9SRVNPTFZFIHx8IGNob3JlLiR0eXBlJCA9PT0gQ2hvcmVUeXBlLlJVTl9RUkxcbiAgICAgICAgICA/IHFybFRhcmdldFxuICAgICAgICAgIDogaG9zdDtcbiAgICAgIGNvbnN0IGxpbmUgPSBgJHthY3RpdmVNYXJrZXJ9JHtzdGF0ZX0gJHt0eXBlfSAke3RhcmdldH0gJHtjaG9yZS4kaWR4JH1gO1xuICAgICAgbGluZXMucHVzaChsaW5lKTtcbiAgICB9XG4gIH1cblxuICAvLyBCbG9ja2VkIGNob3JlcyBzZWN0aW9uXG4gIGlmIChibG9ja2VkQ2hvcmVzICYmIGJsb2NrZWRDaG9yZXMuc2l6ZSA+IDApIHtcbiAgICBsaW5lcy5wdXNoKCcnKTtcbiAgICBsaW5lcy5wdXNoKGDwn5qrIEJsb2NrZWQgQ2hvcmVzICgke2Jsb2NrZWRDaG9yZXMuc2l6ZX0gaXRlbXMpOmApO1xuXG4gICAgQXJyYXkuZnJvbShibG9ja2VkQ2hvcmVzKS5mb3JFYWNoKChjaG9yZSwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSBkZWJ1Z0Nob3JlVHlwZVRvU3RyaW5nKGNob3JlLiR0eXBlJCk7XG4gICAgICBjb25zdCBob3N0ID0gU3RyaW5nKGNob3JlLiRob3N0JCkucmVwbGFjZUFsbCgvXFxuLiovZ2ltLCAnJyk7XG4gICAgICBjb25zdCBxcmxUYXJnZXQgPSAoY2hvcmUuJHRhcmdldCQgYXMgUVJMSW50ZXJuYWw8YW55Pik/LiRzeW1ib2wkO1xuICAgICAgY29uc3QgdGFyZ2V0ID1cbiAgICAgICAgY2hvcmUuJHR5cGUkID09PSBDaG9yZVR5cGUuUVJMX1JFU09MVkUgfHwgY2hvcmUuJHR5cGUkID09PSBDaG9yZVR5cGUuUlVOX1FSTFxuICAgICAgICAgID8gcXJsVGFyZ2V0XG4gICAgICAgICAgOiBob3N0O1xuXG4gICAgICBsaW5lcy5wdXNoKGAgICR7aW5kZXggKyAxfS4gJHt0eXBlfSAke3RhcmdldH0gJHtjaG9yZS4kaWR4JH1gKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEZvb3RlclxuICBsaW5lcy5wdXNoKCcnKTtcbiAgbGluZXMucHVzaCgn4pSAJy5yZXBlYXQoNjApKTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICBjb25zb2xlLmxvZyhsaW5lcy5qb2luKCdcXG4nKSArICdcXG4nKTtcbn1cbiJdfQ==","import { qError } from '../shared/error/error';\nimport { getChorePromise } from '../shared/scheduler';\nimport { getInvokeContext } from '../use/use-core';\nimport { useLexicalScope } from '../use/use-lexical-scope.public';\nimport { getDomContainer } from './dom-container';\n/**\n * This is called by qwik-loader to run a QRL. It has to be synchronous.\n *\n * @internal\n */\nexport const _run = (...args) => {\n    // This will already check container\n    const [runQrl] = useLexicalScope();\n    const context = getInvokeContext();\n    const hostElement = context.$hostElement$;\n    if (!hostElement) {\n        // silently ignore if there is no host element, the element might have been removed\n        return;\n    }\n    const container = getDomContainer(context.$element$);\n    const scheduler = container.$scheduler$;\n    if (!scheduler) {\n        throw qError(1 /* QError.schedulerNotFound */);\n    }\n    // We don't return anything, the scheduler is in charge now\n    const chore = scheduler(2 /* ChoreType.RUN_QRL */, hostElement, runQrl, args);\n    return getChorePromise(chore);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicnVuLXFybC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9jbGllbnQvcnVuLXFybC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQVUsTUFBTSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFFdkQsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBR3RELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUNsRSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFbEQ7Ozs7R0FJRztBQUNILE1BQU0sQ0FBQyxNQUFNLElBQUksR0FBRyxDQUFDLEdBQUcsSUFBZSxFQUEyQixFQUFFO0lBQ2xFLG9DQUFvQztJQUNwQyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsZUFBZSxFQUFrRCxDQUFDO0lBQ25GLE1BQU0sT0FBTyxHQUFHLGdCQUFnQixFQUFFLENBQUM7SUFDbkMsTUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQztJQUUxQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDakIsbUZBQW1GO1FBQ25GLE9BQU87SUFDVCxDQUFDO0lBRUQsTUFBTSxTQUFTLEdBQUcsZUFBZSxDQUFDLE9BQU8sQ0FBQyxTQUFVLENBQUMsQ0FBQztJQUV0RCxNQUFNLFNBQVMsR0FBRyxTQUFTLENBQUMsV0FBVyxDQUFDO0lBQ3hDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNmLE1BQU0sTUFBTSxrQ0FBMEIsQ0FBQztJQUN6QyxDQUFDO0lBRUQsMkRBQTJEO0lBQzNELE1BQU0sS0FBSyxHQUFHLFNBQVMsNEJBQW9CLFdBQVcsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDdEUsT0FBTyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDaEMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUUVycm9yLCBxRXJyb3IgfSBmcm9tICcuLi9zaGFyZWQvZXJyb3IvZXJyb3InO1xuaW1wb3J0IHR5cGUgeyBRUkxJbnRlcm5hbCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsLWNsYXNzJztcbmltcG9ydCB7IGdldENob3JlUHJvbWlzZSB9IGZyb20gJy4uL3NoYXJlZC9zY2hlZHVsZXInO1xuaW1wb3J0IHsgQ2hvcmVUeXBlIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWwtY2hvcmUtdHlwZSc7XG5pbXBvcnQgdHlwZSB7IFZhbHVlT3JQcm9taXNlIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL3R5cGVzJztcbmltcG9ydCB7IGdldEludm9rZUNvbnRleHQgfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgdXNlTGV4aWNhbFNjb3BlIH0gZnJvbSAnLi4vdXNlL3VzZS1sZXhpY2FsLXNjb3BlLnB1YmxpYyc7XG5pbXBvcnQgeyBnZXREb21Db250YWluZXIgfSBmcm9tICcuL2RvbS1jb250YWluZXInO1xuXG4vKipcbiAqIFRoaXMgaXMgY2FsbGVkIGJ5IHF3aWstbG9hZGVyIHRvIHJ1biBhIFFSTC4gSXQgaGFzIHRvIGJlIHN5bmNocm9ub3VzLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgX3J1biA9ICguLi5hcmdzOiB1bmtub3duW10pOiBWYWx1ZU9yUHJvbWlzZTx1bmtub3duPiA9PiB7XG4gIC8vIFRoaXMgd2lsbCBhbHJlYWR5IGNoZWNrIGNvbnRhaW5lclxuICBjb25zdCBbcnVuUXJsXSA9IHVzZUxleGljYWxTY29wZTxbUVJMSW50ZXJuYWw8KC4uLmFyZ3M6IHVua25vd25bXSkgPT4gdW5rbm93bj5dPigpO1xuICBjb25zdCBjb250ZXh0ID0gZ2V0SW52b2tlQ29udGV4dCgpO1xuICBjb25zdCBob3N0RWxlbWVudCA9IGNvbnRleHQuJGhvc3RFbGVtZW50JDtcblxuICBpZiAoIWhvc3RFbGVtZW50KSB7XG4gICAgLy8gc2lsZW50bHkgaWdub3JlIGlmIHRoZXJlIGlzIG5vIGhvc3QgZWxlbWVudCwgdGhlIGVsZW1lbnQgbWlnaHQgaGF2ZSBiZWVuIHJlbW92ZWRcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjb250YWluZXIgPSBnZXREb21Db250YWluZXIoY29udGV4dC4kZWxlbWVudCQhKTtcblxuICBjb25zdCBzY2hlZHVsZXIgPSBjb250YWluZXIuJHNjaGVkdWxlciQ7XG4gIGlmICghc2NoZWR1bGVyKSB7XG4gICAgdGhyb3cgcUVycm9yKFFFcnJvci5zY2hlZHVsZXJOb3RGb3VuZCk7XG4gIH1cblxuICAvLyBXZSBkb24ndCByZXR1cm4gYW55dGhpbmcsIHRoZSBzY2hlZHVsZXIgaXMgaW4gY2hhcmdlIG5vd1xuICBjb25zdCBjaG9yZSA9IHNjaGVkdWxlcihDaG9yZVR5cGUuUlVOX1FSTCwgaG9zdEVsZW1lbnQsIHJ1blFybCwgYXJncyk7XG4gIHJldHVybiBnZXRDaG9yZVByb21pc2UoY2hvcmUpO1xufTtcbiJdfQ==","/** @file Shared types */\n/** @internal */\nexport function isStringifiable(value) {\n    return (value === null ||\n        typeof value === 'string' ||\n        typeof value === 'number' ||\n        typeof value === 'boolean');\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hhcmVkLXR5cGVzLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC10eXBlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSx5QkFBeUI7QUFLekIsZ0JBQWdCO0FBQ2hCLE1BQU0sVUFBVSxlQUFlLENBQUMsS0FBYztJQUM1QyxPQUFPLENBQ0wsS0FBSyxLQUFLLElBQUk7UUFDZCxPQUFPLEtBQUssS0FBSyxRQUFRO1FBQ3pCLE9BQU8sS0FBSyxLQUFLLFFBQVE7UUFDekIsT0FBTyxLQUFLLEtBQUssU0FBUyxDQUMzQixDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAZmlsZSBTaGFyZWQgdHlwZXMgKi9cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IHR5cGUgU3RyaW5naWZpYWJsZSA9IHN0cmluZyB8IGJvb2xlYW4gfCBudW1iZXIgfCBudWxsO1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmdpZmlhYmxlKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgU3RyaW5naWZpYWJsZSB7XG4gIHJldHVybiAoXG4gICAgdmFsdWUgPT09IG51bGwgfHxcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8XG4gICAgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nXG4gICk7XG59XG4iXX0=","import { WrappedSignalImpl } from '../../reactive-primitives/impl/wrapped-signal-impl';\n/** @internal */\nexport const _fnSignal = (fn, args, fnStr) => {\n    return new WrappedSignalImpl(null, fn, args, fnStr || null);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5saW5lZC1mbi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvcXJsL2lubGluZWQtZm4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sb0RBQW9ELENBQUM7QUFFdkYsZ0JBQWdCO0FBQ2hCLE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxDQUN2QixFQUFLLEVBQ0wsSUFBbUIsRUFDbkIsS0FBYyxFQUNkLEVBQUU7SUFDRixPQUFPLElBQUksaUJBQWlCLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsS0FBSyxJQUFJLElBQUksQ0FBQyxDQUFDO0FBQzlELENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFdyYXBwZWRTaWduYWxJbXBsIH0gZnJvbSAnLi4vLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy9pbXBsL3dyYXBwZWQtc2lnbmFsLWltcGwnO1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgX2ZuU2lnbmFsID0gPFQgZXh0ZW5kcyAoLi4uYXJnczogYW55KSA9PiBhbnk+KFxuICBmbjogVCxcbiAgYXJnczogUGFyYW1ldGVyczxUPixcbiAgZm5TdHI/OiBzdHJpbmdcbikgPT4ge1xuICByZXR1cm4gbmV3IFdyYXBwZWRTaWduYWxJbXBsKG51bGwsIGZuLCBhcmdzLCBmblN0ciB8fCBudWxsKTtcbn07XG4iXX0=","import { isDev } from '@qwik.dev/core/build';\nimport { vnode_isVNode } from '../../client/vnode';\nimport { _EFFECT_BACK_REF } from '../../internal';\nimport { AsyncComputedSignalImpl } from '../../reactive-primitives/impl/async-computed-signal-impl';\nimport { ComputedSignalImpl } from '../../reactive-primitives/impl/computed-signal-impl';\nimport { SerializerSignalImpl } from '../../reactive-primitives/impl/serializer-signal-impl';\nimport { SignalImpl } from '../../reactive-primitives/impl/signal-impl';\nimport { getStoreHandler, getStoreTarget, isStore } from '../../reactive-primitives/impl/store';\nimport { WrappedSignalImpl } from '../../reactive-primitives/impl/wrapped-signal-impl';\nimport { SubscriptionData } from '../../reactive-primitives/subscription-data';\nimport { NEEDS_COMPUTATION, STORE_ALL_PROPS, } from '../../reactive-primitives/types';\nimport { isSerializerObj } from '../../reactive-primitives/utils';\nimport { Task } from '../../use/use-task';\nimport { isQwikComponent, SERIALIZABLE_STATE } from '../component.public';\nimport { qError } from '../error/error';\nimport { isJSXNode } from '../jsx/jsx-node';\nimport { Fragment } from '../jsx/jsx-runtime';\nimport { isPropsProxy } from '../jsx/props-proxy';\nimport { Slot } from '../jsx/slot.public';\nimport { isQrl, isSyncQrl } from '../qrl/qrl-utils';\nimport { _OWNER, _UNINITIALIZED } from '../utils/constants';\nimport { EMPTY_ARRAY, EMPTY_OBJ } from '../utils/flyweight';\nimport { ELEMENT_ID, ELEMENT_PROPS, QBackRefs } from '../utils/markers';\nimport { isPromise } from '../utils/promises';\nimport { fastSkipSerialize, SerializerSymbol } from './verify';\nimport { qrlToString } from './qrl-to-string';\nimport { BackRef } from './serialization-context';\n/**\n * Format:\n *\n * - This encodes the $roots$ array.\n * - The output is a string of comma separated JSON values.\n * - Even values are always numbers, specifying the type of the next value.\n * - Odd values are numbers, strings (JSON stringified with `</` escaping) or arrays (same format).\n * - Therefore root indexes need to be doubled to get the actual index.\n */\nexport async function serialize(serializationContext) {\n    const { $writer$, $isSsrNode$, $isDomRef$, $storeProxyMap$, $addRoot$, $promoteToRoot$, getSeenRef, $markSeen$, } = serializationContext;\n    let rootIdx = 0;\n    const forwardRefs = [];\n    let forwardRefsId = 0;\n    const promises = new Set();\n    const preloadQrls = new Set();\n    const s11nWeakRefs = new Map();\n    let parent;\n    const qrlMap = new Map();\n    /** Helper to output an array */\n    const outputArray = (value, keepNulls, writeFn) => {\n        $writer$.write('[');\n        let separator = false;\n        let length;\n        if (keepNulls) {\n            length = value.length;\n        }\n        else {\n            length = value.length - 1;\n            while (length >= 0 && value[length] === null) {\n                length--;\n            }\n            length++;\n        }\n        for (let i = 0; i < length; i++) {\n            if (separator) {\n                $writer$.write(',');\n            }\n            else {\n                separator = true;\n            }\n            writeFn(value[i], i);\n        }\n        $writer$.write(']');\n    };\n    /** Output a type,value pair. If the value is an array, it calls writeValue on each item. */\n    const output = (type, value, keepNulls) => {\n        $writer$.write(`${type},`);\n        if (typeof value === 'number') {\n            $writer$.write(value.toString());\n        }\n        else if (typeof value === 'string') {\n            const s = JSON.stringify(value);\n            let angleBracketIdx = -1;\n            let lastIdx = 0;\n            while ((angleBracketIdx = s.indexOf('</', lastIdx)) !== -1) {\n                $writer$.write(s.slice(lastIdx, angleBracketIdx));\n                $writer$.write('<\\\\/');\n                lastIdx = angleBracketIdx + 2;\n            }\n            $writer$.write(lastIdx === 0 ? s : s.slice(lastIdx));\n        }\n        else {\n            outputArray(value, keepNulls, (valueItem, idx) => {\n                writeValue(valueItem, idx);\n            });\n        }\n    };\n    const addPreloadQrl = (qrl) => {\n        if (!isSyncQrl(qrl)) {\n            preloadQrls.add(qrl);\n            serializationContext.$addRoot$(qrl);\n        }\n    };\n    const getSeenRefOrOutput = (value, index, keepWeak) => {\n        let seen = getSeenRef(value);\n        const forwardRefIdx = !keepWeak && s11nWeakRefs.get(value);\n        if (!seen) {\n            if (keepWeak) {\n                // we're testing a weakref, so don't mark it as seen yet\n                return true;\n            }\n            // Maybe it's a weakref and that should count as seen\n            if (typeof forwardRefIdx === 'number') {\n                // Yes, no longer a weakref\n                seen = $addRoot$(value, true);\n            }\n            else {\n                return $markSeen$(value, parent, index);\n            }\n        }\n        // Now that we saw it a second time, make sure it's a root\n        if (seen.$parent$) {\n            // Note, this means it was output before so we always need a backref\n            // Special case: we're a root so instead of adding a backref, we replace ourself\n            if (!parent) {\n                $promoteToRoot$(seen, index);\n                value = serializationContext.$roots$[index];\n            }\n            else {\n                $promoteToRoot$(seen);\n            }\n        }\n        // Check if there was a weakref to us\n        if (typeof forwardRefIdx === 'number') {\n            forwardRefs[forwardRefIdx] = seen.$index$;\n            s11nWeakRefs.delete(value);\n        }\n        // Now we know it's a root and we should output a RootRef\n        const rootIdx = value instanceof BackRef ? value.$path$ : seen.$index$;\n        // But make sure we do output ourselves\n        if (!parent && rootIdx === index) {\n            return seen;\n        }\n        output(1 /* TypeIds.RootRef */, rootIdx);\n    };\n    // First check for scalars, then do objects with seen checks\n    // Make sure to only get the SeenRef once, it's expensive\n    const writeValue = (value, index) => {\n        if (fastSkipSerialize(value)) {\n            output(3 /* TypeIds.Constant */, 0 /* Constants.Undefined */);\n        }\n        else {\n            switch (typeof value) {\n                case 'undefined':\n                    output(3 /* TypeIds.Constant */, 0 /* Constants.Undefined */);\n                    break;\n                case 'boolean':\n                    output(3 /* TypeIds.Constant */, value ? 2 /* Constants.True */ : 3 /* Constants.False */);\n                    break;\n                case 'number':\n                    if (Number.isNaN(value)) {\n                        output(3 /* TypeIds.Constant */, 12 /* Constants.NaN */);\n                    }\n                    else if (!Number.isFinite(value)) {\n                        output(3 /* TypeIds.Constant */, value < 0 ? 14 /* Constants.NegativeInfinity */ : 13 /* Constants.PositiveInfinity */);\n                    }\n                    else if (value === Number.MAX_SAFE_INTEGER) {\n                        output(3 /* TypeIds.Constant */, 15 /* Constants.MaxSafeInt */);\n                    }\n                    else if (value === Number.MAX_SAFE_INTEGER - 1) {\n                        output(3 /* TypeIds.Constant */, 16 /* Constants.AlmostMaxSafeInt */);\n                    }\n                    else if (value === Number.MIN_SAFE_INTEGER) {\n                        output(3 /* TypeIds.Constant */, 17 /* Constants.MinSafeInt */);\n                    }\n                    else {\n                        output(0 /* TypeIds.Plain */, value);\n                    }\n                    break;\n                case 'string':\n                    if (value.length === 0) {\n                        output(3 /* TypeIds.Constant */, 4 /* Constants.EmptyString */);\n                    }\n                    else {\n                        // If the string is short, we output directly\n                        // Very short strings add overhead to tracking\n                        if (value.length < 4 || getSeenRefOrOutput(value, index)) {\n                            output(0 /* TypeIds.Plain */, value);\n                        }\n                    }\n                    break;\n                case 'bigint':\n                    if ((value < 10000 && value > -1000) || getSeenRefOrOutput(value, index)) {\n                        output(11 /* TypeIds.BigInt */, value.toString());\n                    }\n                    break;\n                case 'symbol':\n                    if (value === NEEDS_COMPUTATION) {\n                        output(3 /* TypeIds.Constant */, 7 /* Constants.NEEDS_COMPUTATION */);\n                    }\n                    else if (value === STORE_ALL_PROPS) {\n                        output(3 /* TypeIds.Constant */, 8 /* Constants.STORE_ALL_PROPS */);\n                    }\n                    else if (value === _UNINITIALIZED) {\n                        output(3 /* TypeIds.Constant */, 9 /* Constants.UNINITIALIZED */);\n                    }\n                    break;\n                case 'function':\n                    if (value === Slot) {\n                        output(3 /* TypeIds.Constant */, 10 /* Constants.Slot */);\n                    }\n                    else if (value === Fragment) {\n                        output(3 /* TypeIds.Constant */, 11 /* Constants.Fragment */);\n                    }\n                    else if (isQrl(value)) {\n                        if (getSeenRefOrOutput(value, index)) {\n                            const [chunk, symbol, captureIds] = qrlToString(serializationContext, value, true);\n                            let data;\n                            let type;\n                            if (chunk !== '') {\n                                // not a sync QRL, replace all parts with string references\n                                data = `${$addRoot$(chunk)} ${$addRoot$(symbol)}${captureIds ? ' ' + captureIds.join(' ') : ''}`;\n                                // Since we map QRLs to strings, we need to keep track of this secondary mapping\n                                const existing = qrlMap.get(data);\n                                if (existing) {\n                                    // We encountered the same QRL again, make it a root\n                                    const ref = $addRoot$(existing);\n                                    output(1 /* TypeIds.RootRef */, ref);\n                                    return;\n                                }\n                                else {\n                                    qrlMap.set(data, value);\n                                }\n                                type = preloadQrls.has(value) ? 20 /* TypeIds.PreloadQRL */ : 19 /* TypeIds.QRL */;\n                            }\n                            else {\n                                data = Number(symbol);\n                                type = 19 /* TypeIds.QRL */;\n                            }\n                            output(type, data);\n                        }\n                    }\n                    else if (isQwikComponent(value)) {\n                        const [qrl] = value[SERIALIZABLE_STATE];\n                        serializationContext.$renderSymbols$.add(qrl.$symbol$);\n                        output(23 /* TypeIds.Component */, [qrl]);\n                    }\n                    else {\n                        throw qError(34 /* QError.serializeErrorCannotSerializeFunction */, [value.toString()]);\n                    }\n                    break;\n                case 'object':\n                    if (value === EMPTY_ARRAY) {\n                        output(3 /* TypeIds.Constant */, 5 /* Constants.EMPTY_ARRAY */);\n                    }\n                    else if (value === EMPTY_OBJ) {\n                        output(3 /* TypeIds.Constant */, 6 /* Constants.EMPTY_OBJ */);\n                    }\n                    else if (value === null) {\n                        output(3 /* TypeIds.Constant */, 1 /* Constants.Null */);\n                    }\n                    else if (value instanceof BackRef) {\n                        output(1 /* TypeIds.RootRef */, value.$path$);\n                    }\n                    else {\n                        const newSeenRef = getSeenRefOrOutput(value, index);\n                        if (newSeenRef) {\n                            const oldParent = parent;\n                            parent = newSeenRef;\n                            // separate function for readability\n                            writeObjectValue(value);\n                            parent = oldParent;\n                        }\n                    }\n                    break;\n                default:\n                    throw qError(20 /* QError.serializeErrorUnknownType */, [typeof value]);\n            }\n        }\n    };\n    const writeObjectValue = (value) => {\n        if (isPropsProxy(value)) {\n            const owner = value[_OWNER];\n            output(32 /* TypeIds.PropsProxy */, [_serializationWeakRef(owner), owner.varProps, owner.constProps]);\n        }\n        else if (value instanceof SubscriptionData) {\n            output(33 /* TypeIds.SubscriptionData */, [value.data.$scopedStyleIdPrefix$, value.data.$isConst$]);\n        }\n        else if (isStore(value)) {\n            if (isResource(value)) {\n                // let render know about the resource\n                serializationContext.$resources$.add(value);\n                // TODO the effects include the resource return which has duplicate data\n                const forwardRefId = resolvePromise(value.value, $addRoot$, (resolved, resolvedValue) => {\n                    return new PromiseResult(22 /* TypeIds.Resource */, resolved, resolvedValue, getStoreHandler(value).$effects$);\n                });\n                output(2 /* TypeIds.ForwardRef */, forwardRefId);\n            }\n            else {\n                const storeHandler = getStoreHandler(value);\n                const storeTarget = getStoreTarget(value);\n                const flags = storeHandler.$flags$;\n                const effects = storeHandler.$effects$;\n                // We need to retain the nested stores too, they won't be found from the target\n                const innerStores = [];\n                for (const prop in storeTarget) {\n                    const propValue = storeTarget[prop];\n                    const innerStore = $storeProxyMap$.get(propValue);\n                    if (innerStore) {\n                        innerStores.push(innerStore);\n                    }\n                }\n                const out = [storeTarget, flags, effects, ...innerStores];\n                while (out[out.length - 1] == null) {\n                    out.pop();\n                }\n                output(29 /* TypeIds.Store */, out);\n            }\n        }\n        else if (isSerializerObj(value)) {\n            const result = value[SerializerSymbol](value);\n            if (isPromise(result)) {\n                const forwardRef = resolvePromise(result, $addRoot$, (resolved, resolvedValue) => {\n                    return new PromiseResult(28 /* TypeIds.SerializerSignal */, resolved, resolvedValue, null, null);\n                });\n                output(2 /* TypeIds.ForwardRef */, forwardRef);\n            }\n            else {\n                // We replace ourselves with this value\n                const index = parent.$index$;\n                parent = parent.$parent$;\n                writeValue(result, index);\n            }\n        }\n        else if (isObjectLiteral(value)) {\n            if (Array.isArray(value)) {\n                output(4 /* TypeIds.Array */, value);\n            }\n            else {\n                const out = [];\n                for (const key in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, key)) {\n                        const subVal = value[key];\n                        if (!fastSkipSerialize(subVal)) {\n                            out.push(key, subVal);\n                        }\n                    }\n                }\n                output(5 /* TypeIds.Object */, out.length ? out : 0);\n            }\n        }\n        else if ($isDomRef$(value)) {\n            value.$ssrNode$.vnodeData[0] |= 16 /* VNodeDataFlag.SERIALIZE */;\n            output(10 /* TypeIds.RefVNode */, value.$ssrNode$.id);\n        }\n        else if (value instanceof SignalImpl) {\n            if (value instanceof SerializerSignalImpl) {\n                addPreloadQrl(value.$computeQrl$);\n                const forwardRefId = resolvePromise(getCustomSerializerPromise(value, value.$untrackedValue$), $addRoot$, (resolved, resolvedValue) => {\n                    return new PromiseResult(28 /* TypeIds.SerializerSignal */, resolved, resolvedValue, value.$effects$, value.$computeQrl$);\n                });\n                output(2 /* TypeIds.ForwardRef */, forwardRefId);\n                return;\n            }\n            if (value instanceof WrappedSignalImpl) {\n                output(25 /* TypeIds.WrappedSignal */, [\n                    ...serializeWrappingFn(serializationContext, value),\n                    filterEffectBackRefs(value[_EFFECT_BACK_REF]),\n                    value.$flags$,\n                    value.$hostElement$,\n                    ...(value.$effects$ || []),\n                ]);\n            }\n            else if (value instanceof ComputedSignalImpl) {\n                let v = value.$untrackedValue$;\n                const shouldAlwaysSerialize = value.$flags$ & 32 /* SerializationSignalFlags.SERIALIZATION_STRATEGY_ALWAYS */;\n                const shouldNeverSerialize = value.$flags$ & 16 /* SerializationSignalFlags.SERIALIZATION_STRATEGY_NEVER */;\n                const isInvalid = value.$flags$ & 1 /* SignalFlags.INVALID */;\n                const isSkippable = fastSkipSerialize(value.$untrackedValue$);\n                if (shouldAlwaysSerialize) {\n                    v = value.$untrackedValue$;\n                }\n                else if (shouldNeverSerialize) {\n                    v = NEEDS_COMPUTATION;\n                }\n                else if (isInvalid || isSkippable) {\n                    v = NEEDS_COMPUTATION;\n                }\n                addPreloadQrl(value.$computeQrl$);\n                const out = [value.$computeQrl$, value.$effects$];\n                const isAsync = value instanceof AsyncComputedSignalImpl;\n                if (isAsync) {\n                    out.push(value.$loadingEffects$, value.$errorEffects$, value.$untrackedLoading$, value.$untrackedError$);\n                }\n                if (v !== NEEDS_COMPUTATION) {\n                    out.push(v);\n                }\n                output(isAsync ? 27 /* TypeIds.AsyncComputedSignal */ : 26 /* TypeIds.ComputedSignal */, out);\n            }\n            else {\n                output(24 /* TypeIds.Signal */, [value.$untrackedValue$, ...(value.$effects$ || [])]);\n            }\n        }\n        else if (value instanceof URL) {\n            output(6 /* TypeIds.URL */, value.href);\n        }\n        else if (value instanceof Date) {\n            output(7 /* TypeIds.Date */, Number.isNaN(value.valueOf()) ? '' : value.valueOf());\n        }\n        else if (value instanceof RegExp) {\n            output(8 /* TypeIds.Regex */, value.toString());\n        }\n        else if (value instanceof Error) {\n            const out = [value.message];\n            // flatten gives us the right output\n            out.push(...Object.entries(value).flat());\n            /// In production we don't want to leak the stack trace.\n            if (isDev) {\n                out.push('stack', value.stack);\n            }\n            output(14 /* TypeIds.Error */, out);\n        }\n        else if ($isSsrNode$(value)) {\n            const rootIndex = $addRoot$(value);\n            serializationContext.$setProp$(value, ELEMENT_ID, String(rootIndex));\n            // we need to output before the vnode overwrites its values\n            output(9 /* TypeIds.VNode */, value.id);\n            const vNodeData = value.vnodeData;\n            if (vNodeData) {\n                discoverValuesForVNodeData(vNodeData, (vNodeDataValue) => $addRoot$(vNodeDataValue));\n                vNodeData[0] |= 16 /* VNodeDataFlag.SERIALIZE */;\n            }\n            if (value.children) {\n                // can be static, but we need to save vnode data structure + discover the back refs\n                for (const child of value.children) {\n                    const childVNodeData = child.vnodeData;\n                    if (childVNodeData) {\n                        // add all back refs to the roots\n                        for (const value of childVNodeData) {\n                            if (isSsrAttrs(value)) {\n                                const backRefKeyIndex = value.findIndex((v) => v === QBackRefs);\n                                if (backRefKeyIndex !== -1) {\n                                    $addRoot$(value[backRefKeyIndex + 1]);\n                                }\n                            }\n                        }\n                        childVNodeData[0] |= 16 /* VNodeDataFlag.SERIALIZE */;\n                    }\n                }\n            }\n        }\n        else if (typeof FormData !== 'undefined' && value instanceof FormData) {\n            // FormData is generally used only once so don't bother with references\n            const array = [];\n            value.forEach((value, key) => {\n                if (typeof value === 'string') {\n                    array.push(key, value);\n                }\n                else {\n                    array.push(key, value.name);\n                }\n            });\n            output(30 /* TypeIds.FormData */, array);\n        }\n        else if (value instanceof URLSearchParams) {\n            output(12 /* TypeIds.URLSearchParams */, value.toString());\n        }\n        else if (value instanceof Set) {\n            output(16 /* TypeIds.Set */, [...value.values()]);\n        }\n        else if (value instanceof Map) {\n            const combined = [];\n            for (const [k, v] of value.entries()) {\n                combined.push(k, v);\n            }\n            output(17 /* TypeIds.Map */, combined);\n        }\n        else if (isJSXNode(value)) {\n            const out = [\n                value.type,\n                value.key,\n                value.varProps,\n                value.constProps,\n                value.children,\n                value.toSort || null,\n            ];\n            while (out[out.length - 1] == null) {\n                out.pop();\n            }\n            output(31 /* TypeIds.JSXNode */, out);\n        }\n        else if (value instanceof Task) {\n            const out = [\n                value.$qrl$,\n                value.$flags$,\n                value.$index$,\n                value.$el$,\n                value[_EFFECT_BACK_REF],\n                value.$state$,\n            ];\n            while (out[out.length - 1] == null) {\n                out.pop();\n            }\n            output(21 /* TypeIds.Task */, out);\n        }\n        else if (isPromise(value)) {\n            const forwardRefId = resolvePromise(value, $addRoot$, (resolved, resolvedValue) => {\n                return new PromiseResult(15 /* TypeIds.Promise */, resolved, resolvedValue);\n            });\n            output(2 /* TypeIds.ForwardRef */, forwardRefId);\n        }\n        else if (value instanceof PromiseResult) {\n            if (value.$type$ === 22 /* TypeIds.Resource */) {\n                output(22 /* TypeIds.Resource */, [value.$resolved$, value.$value$, value.$effects$]);\n            }\n            else if (value.$type$ === 28 /* TypeIds.SerializerSignal */) {\n                if (value.$qrl$) {\n                    output(28 /* TypeIds.SerializerSignal */, [value.$qrl$, value.$effects$, value.$value$]);\n                }\n                else if (value.$resolved$) {\n                    // We replace ourselves with this value\n                    const index = parent.$index$;\n                    parent = parent.$parent$;\n                    writeValue(value.$value$, index);\n                }\n                else {\n                    console.error(value.$value$);\n                    throw qError(33 /* QError.serializerSymbolRejectedPromise */);\n                }\n            }\n            else {\n                output(15 /* TypeIds.Promise */, [value.$resolved$, value.$value$]);\n            }\n        }\n        else if (value instanceof Uint8Array) {\n            let buf = '';\n            for (const c of value) {\n                buf += String.fromCharCode(c);\n            }\n            const out = btoa(buf).replace(/=+$/, '');\n            output(18 /* TypeIds.Uint8Array */, out);\n        }\n        else if (value instanceof SerializationWeakRef) {\n            const obj = value.$obj$;\n            // This will return a fake SeenRef if it's not been seen before\n            if (getSeenRefOrOutput(obj, parent.$index$, true)) {\n                let forwardRefId = s11nWeakRefs.get(obj);\n                if (forwardRefId === undefined) {\n                    forwardRefId = forwardRefsId++;\n                    s11nWeakRefs.set(obj, forwardRefId);\n                    forwardRefs[forwardRefId] = -1;\n                }\n                output(2 /* TypeIds.ForwardRef */, forwardRefId);\n            }\n        }\n        else if (vnode_isVNode(value)) {\n            output(3 /* TypeIds.Constant */, 0 /* Constants.Undefined */);\n        }\n        else {\n            throw qError(20 /* QError.serializeErrorUnknownType */, [typeof value]);\n        }\n    };\n    function resolvePromise(promise, $addRoot$, classCreator) {\n        const forwardRefId = forwardRefsId++;\n        promise\n            .then((resolvedValue) => {\n            promises.delete(promise);\n            forwardRefs[forwardRefId] = $addRoot$(classCreator(true, resolvedValue));\n        })\n            .catch((err) => {\n            promises.delete(promise);\n            forwardRefs[forwardRefId] = $addRoot$(classCreator(false, err));\n        });\n        promises.add(promise);\n        return forwardRefId;\n    }\n    const outputRoots = async () => {\n        $writer$.write('[');\n        const { $roots$ } = serializationContext;\n        while (rootIdx < $roots$.length || promises.size) {\n            if (rootIdx !== 0) {\n                $writer$.write(',');\n            }\n            let separator = false;\n            for (; rootIdx < $roots$.length; rootIdx++) {\n                if (separator) {\n                    $writer$.write(',');\n                }\n                else {\n                    separator = true;\n                }\n                writeValue($roots$[rootIdx], rootIdx);\n            }\n            if (promises.size) {\n                try {\n                    await Promise.race(promises);\n                }\n                catch {\n                    // ignore rejections, they will be serialized as rejected promises\n                }\n            }\n        }\n        if (forwardRefs.length) {\n            let lastIdx = forwardRefs.length - 1;\n            while (lastIdx >= 0 && forwardRefs[lastIdx] === -1) {\n                lastIdx--;\n            }\n            if (lastIdx >= 0) {\n                $writer$.write(',');\n                $writer$.write(13 /* TypeIds.ForwardRefs */ + ',');\n                const out = lastIdx === forwardRefs.length - 1 ? forwardRefs : forwardRefs.slice(0, lastIdx + 1);\n                // We could also implement RLE of -1 values\n                outputArray(out, true, (value) => {\n                    $writer$.write(String(value));\n                });\n            }\n        }\n        $writer$.write(']');\n    };\n    await outputRoots();\n}\nexport class PromiseResult {\n    $type$;\n    $resolved$;\n    $value$;\n    $effects$;\n    $qrl$;\n    constructor($type$, $resolved$, $value$, $effects$ = null, $qrl$ = null) {\n        this.$type$ = $type$;\n        this.$resolved$ = $resolved$;\n        this.$value$ = $value$;\n        this.$effects$ = $effects$;\n        this.$qrl$ = $qrl$;\n    }\n}\nfunction getCustomSerializerPromise(signal, value) {\n    return new Promise((resolve) => {\n        signal.$computeQrl$.resolve().then((arg) => {\n            let data;\n            if (arg.serialize) {\n                data = arg.serialize(value);\n            }\n            else if (SerializerSymbol in value) {\n                data = value[SerializerSymbol](value);\n            }\n            if (data === undefined) {\n                data = NEEDS_COMPUTATION;\n            }\n            resolve(data);\n        });\n    });\n}\nconst discoverValuesForVNodeData = (vnodeData, callback) => {\n    for (const value of vnodeData) {\n        if (isSsrAttrs(value)) {\n            for (let i = 1; i < value.length; i += 2) {\n                const keyValue = value[i - 1];\n                const attrValue = value[i];\n                if (attrValue == null ||\n                    typeof attrValue === 'string' ||\n                    // skip empty props\n                    (keyValue === ELEMENT_PROPS &&\n                        Object.keys(attrValue).length === 0)) {\n                    continue;\n                }\n                callback(attrValue);\n            }\n        }\n    }\n};\nconst isSsrAttrs = (value) => Array.isArray(value) && value.length > 0;\n/**\n * When serializing the object we need check if it is URL, RegExp, Map, Set, etc. This is time\n * consuming. So if we could know that this is a basic object literal we could skip the check, and\n * only run the checks for objects which are not object literals.\n *\n * So this function is here for performance to short circuit many checks later.\n *\n * @param obj\n */\nfunction isObjectLiteral(obj) {\n    // We are an object literal if:\n    // - we are a direct instance of object OR\n    // - we are an array\n    // In all other cases it is a subclass which requires more checks.\n    const prototype = Object.getPrototypeOf(obj);\n    return prototype == null || prototype === Object.prototype || prototype === Array.prototype;\n}\nfunction isResource(value) {\n    return '__brand' in value && value.__brand === 'resource';\n}\nfunction serializeWrappingFn(serializationContext, value) {\n    // if value is an object then we need to wrap this in ()\n    if (value.$funcStr$ && value.$funcStr$[0] === '{') {\n        value.$funcStr$ = `(${value.$funcStr$})`;\n    }\n    const syncFnId = serializationContext.$addSyncFn$(value.$funcStr$, value.$args$.length, value.$func$);\n    return [syncFnId, value.$args$];\n}\nfunction filterEffectBackRefs(effectBackRef) {\n    let effectBackRefToSerialize = null;\n    if (effectBackRef) {\n        for (const [effectProp, effect] of effectBackRef) {\n            if (effect[2 /* EffectSubscriptionProp.BACK_REF */]) {\n                effectBackRefToSerialize ||= new Map();\n                effectBackRefToSerialize.set(effectProp, effect);\n            }\n        }\n    }\n    return effectBackRefToSerialize;\n}\nclass SerializationWeakRef {\n    $obj$;\n    constructor($obj$) {\n        this.$obj$ = $obj$;\n    }\n}\n/** @internal */\nexport const _serializationWeakRef = (obj) => new SerializationWeakRef(obj);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyaWFsaXplLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC9zZXJkZXMvc2VyaWFsaXplLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUc3QyxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDbkQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDbEQsT0FBTyxFQUFFLHVCQUF1QixFQUFFLE1BQU0sMkRBQTJELENBQUM7QUFDcEcsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0scURBQXFELENBQUM7QUFDekYsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sdURBQXVELENBQUM7QUFDN0YsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLDRDQUE0QyxDQUFDO0FBQ3hFLE9BQU8sRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLE9BQU8sRUFBRSxNQUFNLHNDQUFzQyxDQUFDO0FBQ2hHLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLG9EQUFvRCxDQUFDO0FBQ3ZGLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLDZDQUE2QyxDQUFDO0FBQy9FLE9BQU8sRUFFTCxpQkFBaUIsRUFHakIsZUFBZSxHQUdoQixNQUFNLGlDQUFpQyxDQUFDO0FBQ3pDLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUdsRSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDMUMsT0FBTyxFQUFFLGVBQWUsRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQzFFLE9BQU8sRUFBRSxNQUFNLEVBQVUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNoRCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDNUMsT0FBTyxFQUFF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QUMsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ2xELEtBQUssQ0FBQyxTQUFTLEdBQUcsSUFBSSxLQUFLLENBQUMsU0FBUyxHQUFHLENBQUM7SUFDM0MsQ0FBQztJQUNELE1BQU0sUUFBUSxHQUFHLG9CQUFvQixDQUFDLFdBQVcsQ0FDL0MsS0FBSyxDQUFDLFNBQVMsRUFDZixLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFDbkIsS0FBSyxDQUFDLE1BQU0sQ0FDYixDQUFDO0lBQ0YsT0FBTyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsTUFBTSxDQUFVLENBQUM7QUFDM0MsQ0FBQztBQUVELFNBQVMsb0JBQW9CLENBQUMsYUFBcUQ7SUFDakYsSUFBSSx3QkFBd0IsR0FBMkMsSUFBSSxDQUFDO0lBQzVFLElBQUksYUFBYSxFQUFFLENBQUM7UUFDbEIsS0FBSyxNQUFNLENBQUMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxJQUFJLGFBQWEsRUFBRSxDQUFDO1lBQ2pELElBQUksTUFBTSx5Q0FBaUMsRUFBRSxDQUFDO2dCQUM1Qyx3QkFBd0IsS0FBSyxJQUFJLEdBQUcsRUFBOEIsQ0FBQztnQkFDbkUsd0JBQXdCLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBRSxNQUFNLENBQUMsQ0FBQztZQUNuRCxDQUFDO1FBQ0gsQ0FBQztJQUNILENBQUM7SUFDRCxPQUFPLHdCQUF3QixDQUFDO0FBQ2xDLENBQUM7QUFFRCxNQUFNLG9CQUFvQjtJQUNMO0lBQW5CLFlBQW1CLEtBQWM7UUFBZCxVQUFLLEdBQUwsS0FBSyxDQUFTO0lBQUcsQ0FBQztDQUN0QztBQUVELGdCQUFnQjtBQUNoQixNQUFNLENBQUMsTUFBTSxxQkFBcUIsR0FBRyxDQUFDLEdBQVksRUFBRSxFQUFFLENBQUMsSUFBSSxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzRGV2IH0gZnJvbSAnQHF3aWsuZGV2L2NvcmUvYnVpbGQnO1xuaW1wb3J0IHsgVk5vZGVEYXRhRmxhZyB9IGZyb20gJ3BhY2thZ2VzL3F3aWsvc3JjL3NlcnZlci90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IFZOb2RlRGF0YSB9IGZyb20gJ3BhY2thZ2VzL3F3aWsvc3JjL3NlcnZlci92bm9kZS1kYXRhJztcbmltcG9ydCB7IHZub2RlX2lzVk5vZGUgfSBmcm9tICcuLi8uLi9jbGllbnQvdm5vZGUnO1xuaW1wb3J0IHsgX0VGRkVDVF9CQUNLX1JFRiB9IGZyb20gJy4uLy4uL2ludGVybmFsJztcbmltcG9ydCB7IEFzeW5jQ29tcHV0ZWRTaWduYWxJbXBsIH0gZnJvbSAnLi4vLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy9pbXBsL2FzeW5jLWNvbXB1dGVkLXNpZ25hbC1pbXBsJztcbmltcG9ydCB7IENvbXB1dGVkU2lnbmFsSW1wbCB9IGZyb20gJy4uLy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvaW1wbC9jb21wdXRlZC1zaWduYWwtaW1wbCc7XG5pbXBvcnQgeyBTZXJpYWxpemVyU2lnbmFsSW1wbCB9IGZyb20gJy4uLy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvaW1wbC9zZXJpYWxpemVyLXNpZ25hbC1pbXBsJztcbmltcG9ydCB7IFNpZ25hbEltcGwgfSBmcm9tICcuLi8uLi9yZWFjdGl2ZS1wcmltaXRpdmVzL2ltcGwvc2lnbmFsLWltcGwnO1xuaW1wb3J0IHsgZ2V0U3RvcmVIYW5kbGVyLCBnZXRTdG9yZVRhcmdldCwgaXNTdG9yZSB9IGZyb20gJy4uLy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvaW1wbC9zdG9yZSc7XG5pbXBvcnQgeyBXcmFwcGVkU2lnbmFsSW1wbCB9IGZyb20gJy4uLy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvaW1wbC93cmFwcGVkLXNpZ25hbC1pbXBsJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbkRhdGEgfSBmcm9tICcuLi8uLi9yZWFjdGl2ZS1wcmltaXRpdmVzL3N1YnNjcmlwdGlvbi1kYXRhJztcbmltcG9ydCB7XG4gIEVmZmVjdFN1YnNjcmlwdGlvblByb3AsXG4gIE5FRURTX0NPTVBVVEFUSU9OLFxuICBTZXJpYWxpemF0aW9uU2lnbmFsRmxhZ3MsXG4gIFNpZ25hbEZsYWdzLFxuICBTVE9SRV9BTExfUFJPUFMsXG4gIHR5cGUgRWZmZWN0U3Vic2NyaXB0aW9uLFxuICB0eXBlIFNlcmlhbGl6ZXJBcmcsXG59IGZyb20gJy4uLy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvdHlwZXMnO1xuaW1wb3J0IHsgaXNTZXJpYWxpemVyT2JqIH0gZnJvbSAnLi4vLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy91dGlscyc7XG5pbXBvcnQgdHlwZSB7IFNzckF0dHJzIH0gZnJvbSAnLi4vLi4vc3NyL3Nzci10eXBlcyc7XG5pbXBvcnQgdHlwZSB7IFJlc291cmNlUmV0dXJuSW50ZXJuYWwgfSBmcm9tICcuLi8uLi91c2UvdXNlLXJlc291cmNlJztcbmltcG9ydCB7IFRhc2sgfSBmcm9tICcuLi8uLi91c2UvdXNlLXRhc2snO1xuaW1wb3J0IHsgaXNRd2lrQ29tcG9uZW50LCBTRVJJQUxJWkFCTEVfU1RBVEUgfSBmcm9tICcuLi9jb21wb25lbnQucHVibGljJztcbmltcG9ydCB7IHFFcnJvciwgUUVycm9yIH0gZnJvbSAnLi4vZXJyb3IvZXJyb3InO1xuaW1wb3J0IHsgaXNKU1hOb2RlIH0gZnJvbSAnLi4vanN4L2pzeC1ub2RlJztcbmltcG9ydCB7IEZyYWdtZW50IH0gZnJvbSAnLi4vanN4L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IGlzUHJvcHNQcm94eSB9IGZyb20gJy4uL2pzeC9wcm9wcy1wcm94eSc7XG5pbXBvcnQgeyBTbG90IH0gZnJvbSAnLi4vanN4L3Nsb3QucHVibGljJztcbmltcG9ydCB0eXBlIHsgUVJMSW50ZXJuYWwgfSBmcm9tICcuLi9xcmwvcXJsLWNsYXNzJztcbmltcG9ydCB7IGlzUXJsLCBpc1N5bmNRcmwgfSBmcm9tICcuLi9xcmwvcXJsLXV0aWxzJztcbmltcG9ydCB7IF9PV05FUiwgX1VOSU5JVElBTElaRUQgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHsgRU1QVFlfQVJSQVksIEVNUFRZX09CSiB9IGZyb20gJy4uL3V0aWxzL2ZseXdlaWdodCc7XG5pbXBvcnQgeyBFTEVNRU5UX0lELCBFTEVNRU5UX1BST1BTLCBRQmFja1JlZnMgfSBmcm9tICcuLi91dGlscy9tYXJrZXJzJztcbmltcG9ydCB7IGlzUHJvbWlzZSB9IGZyb20gJy4uL3V0aWxzL3Byb21pc2VzJztcbmltcG9ydCB7IGZhc3RTa2lwU2VyaWFsaXplLCBTZXJpYWxpemVyU3ltYm9sIH0gZnJvbSAnLi92ZXJpZnknO1xuaW1wb3J0IHsgQ29uc3RhbnRzLCBUeXBlSWRzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgcXJsVG9TdHJpbmcgfSBmcm9tICcuL3FybC10by1zdHJpbmcnO1xuaW1wb3J0IHsgQmFja1JlZiwgdHlwZSBTZWVuUmVmLCB0eXBlIFNlcmlhbGl6YXRpb25Db250ZXh0IH0gZnJvbSAnLi9zZXJpYWxpemF0aW9uLWNvbnRleHQnO1xuXG4vKipcbiAqIEZvcm1hdDpcbiAqXG4gKiAtIFRoaXMgZW5jb2RlcyB0aGUgJHJvb3RzJCBhcnJheS5cbiAqIC0gVGhlIG91dHB1dCBpcyBhIHN0cmluZyBvZiBjb21tYSBzZXBhcmF0ZWQgSlNPTiB2YWx1ZXMuXG4gKiAtIEV2ZW4gdmFsdWVzIGFyZSBhbHdheXMgbnVtYmVycywgc3BlY2lmeWluZyB0aGUgdHlwZSBvZiB0aGUgbmV4dCB2YWx1ZS5cbiAqIC0gT2RkIHZhbHVlcyBhcmUgbnVtYmVycywgc3RyaW5ncyAoSlNPTiBzdHJpbmdpZmllZCB3aXRoIGA8L2AgZXNjYXBpbmcpIG9yIGFycmF5cyAoc2FtZSBmb3JtYXQpLlxuICogLSBUaGVyZWZvcmUgcm9vdCBpbmRleGVzIG5lZWQgdG8gYmUgZG91YmxlZCB0byBnZXQgdGhlIGFjdHVhbCBpbmRleC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlcmlhbGl6ZShzZXJpYWxpemF0aW9uQ29udGV4dDogU2VyaWFsaXphdGlvbkNvbnRleHQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3Qge1xuICAgICR3cml0ZXIkLFxuICAgICRpc1Nzck5vZGUkLFxuICAgICRpc0RvbVJlZiQsXG4gICAgJHN0b3JlUHJveHlNYXAkLFxuICAgICRhZGRSb290JCxcbiAgICAkcHJvbW90ZVRvUm9vdCQsXG4gICAgZ2V0U2VlblJlZixcbiAgICAkbWFya1NlZW4kLFxuICB9ID0gc2VyaWFsaXphdGlvbkNvbnRleHQ7XG4gIGxldCByb290SWR4ID0gMDtcbiAgY29uc3QgZm9yd2FyZFJlZnM6IG51bWJlcltdID0gW107XG4gIGxldCBmb3J3YXJkUmVmc0lkID0gMDtcbiAgY29uc3QgcHJvbWlzZXM6IFNldDxQcm9taXNlPHVua25vd24+PiA9IG5ldyBTZXQoKTtcbiAgY29uc3QgcHJlbG9hZFFybHMgPSBuZXcgU2V0PFFSTEludGVybmFsPigpO1xuICBjb25zdCBzMTFuV2Vha1JlZnMgPSBuZXcgTWFwPHVua25vd24sIG51bWJlcj4oKTtcbiAgbGV0IHBhcmVudDogU2VlblJlZiB8IHVuZGVmaW5lZDtcbiAgY29uc3QgcXJsTWFwID0gbmV3IE1hcDxzdHJpbmcsIFFSTEludGVybmFsPigpO1xuXG4gIC8qKiBIZWxwZXIgdG8gb3V0cHV0IGFuIGFycmF5ICovXG4gIGNvbnN0IG91dHB1dEFycmF5ID0gKFxuICAgIHZhbHVlOiB1bmtub3duW10sXG4gICAga2VlcE51bGxzOiBib29sZWFuLFxuICAgIHdyaXRlRm46ICh2YWx1ZTogdW5rbm93biwgaWR4OiBudW1iZXIpID0+IHZvaWRcbiAgKSA9PiB7XG4gICAgJHdyaXRlciQud3JpdGUoJ1snKTtcbiAgICBsZXQgc2VwYXJhdG9yID0gZmFsc2U7XG4gICAgbGV0IGxlbmd0aDtcbiAgICBpZiAoa2VlcE51bGxzKSB7XG4gICAgICBsZW5ndGggPSB2YWx1ZS5sZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxlbmd0aCA9IHZhbHVlLmxlbmd0aCAtIDE7XG4gICAgICB3aGlsZSAobGVuZ3RoID49IDAgJiYgdmFsdWVbbGVuZ3RoXSA9PT0gbnVsbCkge1xuICAgICAgICBsZW5ndGgtLTtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCsrO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoc2VwYXJhdG9yKSB7XG4gICAgICAgICR3cml0ZXIkLndyaXRlKCcsJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXBhcmF0b3IgPSB0cnVlO1xuICAgICAgfVxuICAgICAgd3JpdGVGbih2YWx1ZVtpXSwgaSk7XG4gICAgfVxuICAgICR3cml0ZXIkLndyaXRlKCddJyk7XG4gIH07XG5cbiAgLyoqIE91dHB1dCBhIHR5cGUsdmFsdWUgcGFpci4gSWYgdGhlIHZhbHVlIGlzIGFuIGFycmF5LCBpdCBjYWxscyB3cml0ZVZhbHVlIG9uIGVhY2ggaXRlbS4gKi9cbiAgY29uc3Qgb3V0cHV0ID0gKHR5cGU6IG51bWJlciwgdmFsdWU6IG51bWJlciB8IHN0cmluZyB8IGFueVtdLCBrZWVwTnVsbHM/OiBib29sZWFuKSA9PiB7XG4gICAgJHdyaXRlciQud3JpdGUoYCR7dHlwZX0sYCk7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICR3cml0ZXIkLndyaXRlKHZhbHVlLnRvU3RyaW5nKCkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgY29uc3QgcyA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgIGxldCBhbmdsZUJyYWNrZXRJZHg6IG51bWJlciA9IC0xO1xuICAgICAgbGV0IGxhc3RJZHggPSAwO1xuICAgICAgd2hpbGUgKChhbmdsZUJyYWNrZXRJZHggPSBzLmluZGV4T2YoJzwvJywgbGFzdElkeCkpICE9PSAtMSkge1xuICAgICAgICAkd3JpdGVyJC53cml0ZShzLnNsaWNlKGxhc3RJZHgsIGFuZ2xlQnJhY2tldElkeCkpO1xuICAgICAgICAkd3JpdGVyJC53cml0ZSgnPFxcXFwvJyk7XG4gICAgICAgIGxhc3RJZHggPSBhbmdsZUJyYWNrZXRJZHggKyAyO1xuICAgICAgfVxuICAgICAgJHdyaXRlciQud3JpdGUobGFzdElkeCA9PT0gMCA/IHMgOiBzLnNsaWNlKGxhc3RJZHgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0cHV0QXJyYXkodmFsdWUsIGtlZXBOdWxscyEsICh2YWx1ZUl0ZW0sIGlkeCkgPT4ge1xuICAgICAgICB3cml0ZVZhbHVlKHZhbHVlSXRlbSwgaWR4KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBhZGRQcmVsb2FkUXJsID0gKHFybDogUVJMSW50ZXJuYWwpID0+IHtcbiAgICBpZiAoIWlzU3luY1FybChxcmwpKSB7XG4gICAgICBwcmVsb2FkUXJscy5hZGQocXJsKTtcbiAgICAgIHNlcmlhbGl6YXRpb25Db250ZXh0LiRhZGRSb290JChxcmwpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBnZXRTZWVuUmVmT3JPdXRwdXQgPSAoXG4gICAgdmFsdWU6IHVua25vd24sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBrZWVwV2Vhaz86IGJvb2xlYW5cbiAgKTogU2VlblJlZiB8IHVuZGVmaW5lZCA9PiB7XG4gICAgbGV0IHNlZW4gPSBnZXRTZWVuUmVmKHZhbHVlKTtcblxuICAgIGNvbnN0IGZvcndhcmRSZWZJZHggPSAha2VlcFdlYWsgJiYgczExbldlYWtSZWZzLmdldCh2YWx1ZSk7XG5cbiAgICBpZiAoIXNlZW4pIHtcbiAgICAgIGlmIChrZWVwV2Vhaykge1xuICAgICAgICAvLyB3ZSdyZSB0ZXN0aW5nIGEgd2Vha3JlZiwgc28gZG9uJ3QgbWFyayBpdCBhcyBzZWVuIHlldFxuICAgICAgICByZXR1cm4gdHJ1ZSBhcyB1bmtub3duIGFzIFNlZW5SZWY7XG4gICAgICB9XG4gICAgICAvLyBNYXliZSBpdCdzIGEgd2Vha3JlZiBhbmQgdGhhdCBzaG91bGQgY291bnQgYXMgc2VlblxuICAgICAgaWYgKHR5cGVvZiBmb3J3YXJkUmVmSWR4ID09PSAnbnVtYmVyJykge1xuICAgICAgICAvLyBZZXMsIG5vIGxvbmdlciBhIHdlYWtyZWZcbiAgICAgICAgc2VlbiA9ICRhZGRSb290JCh2YWx1ZSwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJG1hcmtTZWVuJCh2YWx1ZSwgcGFyZW50LCBpbmRleCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTm93IHRoYXQgd2Ugc2F3IGl0IGEgc2Vjb25kIHRpbWUsIG1ha2Ugc3VyZSBpdCdzIGEgcm9vdFxuICAgIGlmIChzZWVuLiRwYXJlbnQkKSB7XG4gICAgICAvLyBOb3RlLCB0aGlzIG1lYW5zIGl0IHdhcyBvdXRwdXQgYmVmb3JlIHNvIHdlIGFsd2F5cyBuZWVkIGEgYmFja3JlZlxuICAgICAgLy8gU3BlY2lhbCBjYXNlOiB3ZSdyZSBhIHJvb3Qgc28gaW5zdGVhZCBvZiBhZGRpbmcgYSBiYWNrcmVmLCB3ZSByZXBsYWNlIG91cnNlbGZcbiAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICRwcm9tb3RlVG9Sb290JChzZWVuLCBpbmRleCk7XG4gICAgICAgIHZhbHVlID0gc2VyaWFsaXphdGlvbkNvbnRleHQuJHJvb3RzJFtpbmRleF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkcHJvbW90ZVRvUm9vdCQoc2Vlbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgdGhlcmUgd2FzIGEgd2Vha3JlZiB0byB1c1xuICAgIGlmICh0eXBlb2YgZm9yd2FyZFJlZklkeCA9PT0gJ251bWJlcicpIHtcbiAgICAgIGZvcndhcmRSZWZzW2ZvcndhcmRSZWZJZHhdID0gc2Vlbi4kaW5kZXgkO1xuICAgICAgczExbldlYWtSZWZzLmRlbGV0ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGtub3cgaXQncyBhIHJvb3QgYW5kIHdlIHNob3VsZCBvdXRwdXQgYSBSb290UmVmXG4gICAgY29uc3Qgcm9vdElkeCA9IHZhbHVlIGluc3RhbmNlb2YgQmFja1JlZiA/IHZhbHVlLiRwYXRoJCA6IHNlZW4uJGluZGV4JDtcblxuICAgIC8vIEJ1dCBtYWtlIHN1cmUgd2UgZG8gb3V0cHV0IG91cnNlbHZlc1xuICAgIGlmICghcGFyZW50ICYmIHJvb3RJZHggPT09IGluZGV4KSB7XG4gICAgICByZXR1cm4gc2VlbjtcbiAgICB9XG4gICAgb3V0cHV0KFR5cGVJZHMuUm9vdFJlZiwgcm9vdElkeCk7XG4gIH07XG5cbiAgLy8gRmlyc3QgY2hlY2sgZm9yIHNjYWxhcnMsIHRoZW4gZG8gb2JqZWN0cyB3aXRoIHNlZW4gY2hlY2tzXG4gIC8vIE1ha2Ugc3VyZSB0byBvbmx5IGdldCB0aGUgU2VlblJlZiBvbmNlLCBpdCdzIGV4cGVuc2l2ZVxuICBjb25zdCB3cml0ZVZhbHVlID0gKHZhbHVlOiB1bmtub3duLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKGZhc3RTa2lwU2VyaWFsaXplKHZhbHVlKSkge1xuICAgICAgb3V0cHV0KFR5cGVJZHMuQ29uc3RhbnQsIENvbnN0YW50cy5VbmRlZmluZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICAgIG91dHB1dChUeXBlSWRzLkNvbnN0YW50LCBDb25zdGFudHMuVW5kZWZpbmVkKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgb3V0cHV0KFR5cGVJZHMuQ29uc3RhbnQsIHZhbHVlID8gQ29uc3RhbnRzLlRydWUgOiBDb25zdGFudHMuRmFsc2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4odmFsdWUpKSB7XG4gICAgICAgICAgICBvdXRwdXQoVHlwZUlkcy5Db25zdGFudCwgQ29uc3RhbnRzLk5hTik7XG4gICAgICAgICAgfSBlbHNlIGlmICghTnVtYmVyLmlzRmluaXRlKHZhbHVlKSkge1xuICAgICAgICAgICAgb3V0cHV0KFxuICAgICAgICAgICAgICBUeXBlSWRzLkNvbnN0YW50LFxuICAgICAgICAgICAgICB2YWx1ZSA8IDAgPyBDb25zdGFudHMuTmVnYXRpdmVJbmZpbml0eSA6IENvbnN0YW50cy5Qb3NpdGl2ZUluZmluaXR5XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgICAgICBvdXRwdXQoVHlwZUlkcy5Db25zdGFudCwgQ29uc3RhbnRzLk1heFNhZmVJbnQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIC0gMSkge1xuICAgICAgICAgICAgb3V0cHV0KFR5cGVJZHMuQ29uc3RhbnQsIENvbnN0YW50cy5BbG1vc3RNYXhTYWZlSW50KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUikge1xuICAgICAgICAgICAgb3V0cHV0KFR5cGVJZHMuQ29uc3RhbnQsIENvbnN0YW50cy5NaW5TYWZlSW50KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0cHV0KFR5cGVJZHMuUGxhaW4sIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgb3V0cHV0KFR5cGVJZHMuQ29uc3RhbnQsIENvbnN0YW50cy5FbXB0eVN0cmluZyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBzdHJpbmcgaXMgc2hvcnQsIHdlIG91dHB1dCBkaXJlY3RseVxuICAgICAgICAgICAgLy8gVmVyeSBzaG9ydCBzdHJpbmdzIGFkZCBvdmVyaGVhZCB0byB0cmFja2luZ1xuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA8IDQgfHwgZ2V0U2VlblJlZk9yT3V0cHV0KHZhbHVlLCBpbmRleCkpIHtcbiAgICAgICAgICAgICAgb3V0cHV0KFR5cGVJZHMuUGxhaW4sIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2JpZ2ludCc6XG4gICAgICAgICAgaWYgKCh2YWx1ZSA8IDEwMDAwICYmIHZhbHVlID4gLTEwMDApIHx8IGdldFNlZW5SZWZPck91dHB1dCh2YWx1ZSwgaW5kZXgpKSB7XG4gICAgICAgICAgICBvdXRwdXQoVHlwZUlkcy5CaWdJbnQsIHZhbHVlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc3ltYm9sJzpcbiAgICAgICAgICBpZiAodmFsdWUgPT09IE5FRURTX0NPTVBVVEFUSU9OKSB7XG4gICAgICAgICAgICBvdXRwdXQoVHlwZUlkcy5Db25zdGFudCwgQ29uc3RhbnRzLk5FRURTX0NPTVBVVEFUSU9OKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBTVE9SRV9BTExfUFJPUFMpIHtcbiAgICAgICAgICAgIG91dHB1dChUeXBlSWRzLkNvbnN0YW50LCBDb25zdGFudHMuU1RPUkVfQUxMX1BST1BTKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBfVU5JTklUSUFMSVpFRCkge1xuICAgICAgICAgICAgb3V0cHV0KFR5cGVJZHMuQ29uc3RhbnQsIENvbnN0YW50cy5VTklOSVRJQUxJWkVEKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICBpZiAodmFsdWUgPT09IFNsb3QpIHtcbiAgICAgICAgICAgIG91dHB1dChUeXBlSWRzLkNvbnN0YW50LCBDb25zdGFudHMuU2xvdCk7XG4gICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gRnJhZ21lbnQpIHtcbiAgICAgICAgICAgIG91dHB1dChUeXBlSWRzLkNvbnN0YW50LCBDb25zdGFudHMuRnJhZ21lbnQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNRcmwodmFsdWUpKSB7XG4gICAgICAgICAgICBpZiAoZ2V0U2VlblJlZk9yT3V0cHV0KHZhbHVlLCBpbmRleCkpIHtcbiAgICAgICAgICAgICAgY29uc3QgW2NodW5rLCBzeW1ib2wsIGNhcHR1cmVJZHNdID0gcXJsVG9TdHJpbmcoc2VyaWFsaXphdGlvbkNvbnRleHQsIHZhbHVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgbGV0IGRhdGE6IHN0cmluZyB8IG51bWJlcjtcbiAgICAgICAgICAgICAgbGV0IHR5cGU6IFR5cGVJZHM7XG4gICAgICAgICAgICAgIGlmIChjaHVuayAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAvLyBub3QgYSBzeW5jIFFSTCwgcmVwbGFjZSBhbGwgcGFydHMgd2l0aCBzdHJpbmcgcmVmZXJlbmNlc1xuICAgICAgICAgICAgICAgIGRhdGEgPSBgJHskYWRkUm9vdCQoY2h1bmspfSAkeyRhZGRSb290JChzeW1ib2wpfSR7Y2FwdHVyZUlkcyA/ICcgJyArIGNhcHR1cmVJZHMuam9pbignICcpIDogJyd9YDtcbiAgICAgICAgICAgICAgICAvLyBTaW5jZSB3ZSBtYXAgUVJMcyB0byBzdHJpbmdzLCB3ZSBuZWVkIHRvIGtlZXAgdHJhY2sgb2YgdGhpcyBzZWNvbmRhcnkgbWFwcGluZ1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gcXJsTWFwLmdldChkYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFdlIGVuY291bnRlcmVkIHRoZSBzYW1lIFFSTCBhZ2FpbiwgbWFrZSBpdCBhIHJvb3RcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZiA9ICRhZGRSb290JChleGlzdGluZyk7XG4gICAgICAgICAgICAgICAgICBvdXRwdXQoVHlwZUlkcy5Sb290UmVmLCByZWYpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBxcmxNYXAuc2V0KGRhdGEsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHlwZSA9IHByZWxvYWRRcmxzLmhhcyh2YWx1ZSkgPyBUeXBlSWRzLlByZWxvYWRRUkwgOiBUeXBlSWRzLlFSTDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gTnVtYmVyKHN5bWJvbCk7XG4gICAgICAgICAgICAgICAgdHlwZSA9IFR5cGVJZHMuUVJMO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgb3V0cHV0KHR5cGUsIGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNRd2lrQ29tcG9uZW50KHZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3QgW3FybF06IFtRUkxJbnRlcm5hbF0gPSAodmFsdWUgYXMgYW55KVtTRVJJQUxJWkFCTEVfU1RBVEVdO1xuICAgICAgICAgICAgc2VyaWFsaXphdGlvbkNvbnRleHQuJHJlbmRlclN5bWJvbHMkLmFkZChxcmwuJHN5bWJvbCQpO1xuICAgICAgICAgICAgb3V0cHV0KFR5cGVJZHMuQ29tcG9uZW50LCBbcXJsXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IHFFcnJvcihRRXJyb3Iuc2VyaWFsaXplRXJyb3JDYW5ub3RTZXJpYWxpemVGdW5jdGlvbiwgW3ZhbHVlLnRvU3RyaW5nKCldKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgaWYgKHZhbHVlID09PSBFTVBUWV9BUlJBWSkge1xuICAgICAgICAgICAgb3V0cHV0KFR5cGVJZHMuQ29uc3RhbnQsIENvbnN0YW50cy5FTVBUWV9BUlJBWSk7XG4gICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gRU1QVFlfT0JKKSB7XG4gICAgICAgICAgICBvdXRwdXQoVHlwZUlkcy5Db25zdGFudCwgQ29uc3RhbnRzLkVNUFRZX09CSik7XG4gICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgb3V0cHV0KFR5cGVJZHMuQ29uc3RhbnQsIENvbnN0YW50cy5OdWxsKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgQmFja1JlZikge1xuICAgICAgICAgICAgb3V0cHV0KFR5cGVJZHMuUm9vdFJlZiwgdmFsdWUuJHBhdGgkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbmV3U2VlblJlZiA9IGdldFNlZW5SZWZPck91dHB1dCh2YWx1ZSwgaW5kZXgpO1xuICAgICAgICAgICAgaWYgKG5ld1NlZW5SZWYpIHtcbiAgICAgICAgICAgICAgY29uc3Qgb2xkUGFyZW50ID0gcGFyZW50O1xuICAgICAgICAgICAgICBwYXJlbnQgPSBuZXdTZWVuUmVmO1xuICAgICAgICAgICAgICAvLyBzZXBhcmF0ZSBmdW5jdGlvbiBmb3IgcmVhZGFiaWxpdHlcbiAgICAgICAgICAgICAgd3JpdGVPYmplY3RWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgIHBhcmVudCA9IG9sZFBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgcUVycm9yKFFFcnJvci5zZXJpYWxpemVFcnJvclVua25vd25UeXBlLCBbdHlwZW9mIHZhbHVlXSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHdyaXRlT2JqZWN0VmFsdWUgPSAodmFsdWU6IHt9KSA9PiB7XG4gICAgaWYgKGlzUHJvcHNQcm94eSh2YWx1ZSkpIHtcbiAgICAgIGNvbnN0IG93bmVyID0gdmFsdWVbX09XTkVSXTtcbiAgICAgIG91dHB1dChUeXBlSWRzLlByb3BzUHJveHksIFtfc2VyaWFsaXphdGlvbldlYWtSZWYob3duZXIpLCBvd25lci52YXJQcm9wcywgb3duZXIuY29uc3RQcm9wc10pO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb25EYXRhKSB7XG4gICAgICBvdXRwdXQoVHlwZUlkcy5TdWJzY3JpcHRpb25EYXRhLCBbdmFsdWUuZGF0YS4kc2NvcGVkU3R5bGVJZFByZWZpeCQsIHZhbHVlLmRhdGEuJGlzQ29uc3QkXSk7XG4gICAgfSBlbHNlIGlmIChpc1N0b3JlKHZhbHVlKSkge1xuICAgICAgaWYgKGlzUmVzb3VyY2UodmFsdWUpKSB7XG4gICAgICAgIC8vIGxldCByZW5kZXIga25vdyBhYm91dCB0aGUgcmVzb3VyY2VcbiAgICAgICAgc2VyaWFsaXphdGlvbkNvbnRleHQuJHJlc291cmNlcyQuYWRkKHZhbHVlKTtcbiAgICAgICAgLy8gVE9ETyB0aGUgZWZmZWN0cyBpbmNsdWRlIHRoZSByZXNvdXJjZSByZXR1cm4gd2hpY2ggaGFzIGR1cGxpY2F0ZSBkYXRhXG4gICAgICAgIGNvbnN0IGZvcndhcmRSZWZJZCA9IHJlc29sdmVQcm9taXNlKHZhbHVlLnZhbHVlLCAkYWRkUm9vdCQsIChyZXNvbHZlZCwgcmVzb2x2ZWRWYWx1ZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZVJlc3VsdChcbiAgICAgICAgICAgIFR5cGVJZHMuUmVzb3VyY2UsXG4gICAgICAgICAgICByZXNvbHZlZCxcbiAgICAgICAgICAgIHJlc29sdmVkVmFsdWUsXG4gICAgICAgICAgICBnZXRTdG9yZUhhbmRsZXIodmFsdWUpIS4kZWZmZWN0cyRcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgICAgb3V0cHV0KFR5cGVJZHMuRm9yd2FyZFJlZiwgZm9yd2FyZFJlZklkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHN0b3JlSGFuZGxlciA9IGdldFN0b3JlSGFuZGxlcih2YWx1ZSkhO1xuICAgICAgICBjb25zdCBzdG9yZVRhcmdldCA9IGdldFN0b3JlVGFyZ2V0KHZhbHVlKTtcbiAgICAgICAgY29uc3QgZmxhZ3MgPSBzdG9yZUhhbmRsZXIuJGZsYWdzJDtcbiAgICAgICAgY29uc3QgZWZmZWN0cyA9IHN0b3JlSGFuZGxlci4kZWZmZWN0cyQ7XG5cbiAgICAgICAgLy8gV2UgbmVlZCB0byByZXRhaW4gdGhlIG5lc3RlZCBzdG9yZXMgdG9vLCB0aGV5IHdvbid0IGJlIGZvdW5kIGZyb20gdGhlIHRhcmdldFxuICAgICAgICBjb25zdCBpbm5lclN0b3JlcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHByb3AgaW4gc3RvcmVUYXJnZXQpIHtcbiAgICAgICAgICBjb25zdCBwcm9wVmFsdWUgPSAoc3RvcmVUYXJnZXQgYXMgYW55KVtwcm9wXTtcbiAgICAgICAgICBjb25zdCBpbm5lclN0b3JlID0gJHN0b3JlUHJveHlNYXAkLmdldChwcm9wVmFsdWUpO1xuICAgICAgICAgIGlmIChpbm5lclN0b3JlKSB7XG4gICAgICAgICAgICBpbm5lclN0b3Jlcy5wdXNoKGlubmVyU3RvcmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG91dCA9IFtzdG9yZVRhcmdldCwgZmxhZ3MsIGVmZmVjdHMsIC4uLmlubmVyU3RvcmVzXTtcbiAgICAgICAgd2hpbGUgKG91dFtvdXQubGVuZ3RoIC0gMV0gPT0gbnVsbCkge1xuICAgICAgICAgIG91dC5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgICBvdXRwdXQoVHlwZUlkcy5TdG9yZSwgb3V0KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzU2VyaWFsaXplck9iaih2YWx1ZSkpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbHVlW1NlcmlhbGl6ZXJTeW1ib2xdKHZhbHVlKTtcbiAgICAgIGlmIChpc1Byb21pc2UocmVzdWx0KSkge1xuICAgICAgICBjb25zdCBmb3J3YXJkUmVmID0gcmVzb2x2ZVByb21pc2UocmVzdWx0LCAkYWRkUm9vdCQsIChyZXNvbHZlZCwgcmVzb2x2ZWRWYWx1ZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZVJlc3VsdChUeXBlSWRzLlNlcmlhbGl6ZXJTaWduYWwsIHJlc29sdmVkLCByZXNvbHZlZFZhbHVlLCBudWxsLCBudWxsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG91dHB1dChUeXBlSWRzLkZvcndhcmRSZWYsIGZvcndhcmRSZWYpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gV2UgcmVwbGFjZSBvdXJzZWx2ZXMgd2l0aCB0aGlzIHZhbHVlXG4gICAgICAgIGNvbnN0IGluZGV4ID0gcGFyZW50IS4kaW5kZXgkO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQhLiRwYXJlbnQkITtcbiAgICAgICAgd3JpdGVWYWx1ZShyZXN1bHQsIGluZGV4KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0TGl0ZXJhbCh2YWx1ZSkpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBvdXRwdXQoVHlwZUlkcy5BcnJheSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgb3V0OiBhbnlbXSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZSkge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1YlZhbCA9ICh2YWx1ZSBhcyBhbnkpW2tleV07XG4gICAgICAgICAgICBpZiAoIWZhc3RTa2lwU2VyaWFsaXplKHN1YlZhbCkpIHtcbiAgICAgICAgICAgICAgb3V0LnB1c2goa2V5LCBzdWJWYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvdXRwdXQoVHlwZUlkcy5PYmplY3QsIG91dC5sZW5ndGggPyBvdXQgOiAwKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCRpc0RvbVJlZiQodmFsdWUpKSB7XG4gICAgICB2YWx1ZS4kc3NyTm9kZSQudm5vZGVEYXRhWzBdIHw9IFZOb2RlRGF0YUZsYWcuU0VSSUFMSVpFO1xuICAgICAgb3V0cHV0KFR5cGVJZHMuUmVmVk5vZGUsIHZhbHVlLiRzc3JOb2RlJC5pZCk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFNpZ25hbEltcGwpIHtcbiAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFNlcmlhbGl6ZXJTaWduYWxJbXBsKSB7XG4gICAgICAgIGFkZFByZWxvYWRRcmwodmFsdWUuJGNvbXB1dGVRcmwkKTtcbiAgICAgICAgY29uc3QgZm9yd2FyZFJlZklkID0gcmVzb2x2ZVByb21pc2UoXG4gICAgICAgICAgZ2V0Q3VzdG9tU2VyaWFsaXplclByb21pc2UodmFsdWUsIHZhbHVlLiR1bnRyYWNrZWRWYWx1ZSQpLFxuICAgICAgICAgICRhZGRSb290JCxcbiAgICAgICAgICAocmVzb2x2ZWQsIHJlc29sdmVkVmFsdWUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZVJlc3VsdChcbiAgICAgICAgICAgICAgVHlwZUlkcy5TZXJpYWxpemVyU2lnbmFsLFxuICAgICAgICAgICAgICByZXNvbHZlZCxcbiAgICAgICAgICAgICAgcmVzb2x2ZWRWYWx1ZSxcbiAgICAgICAgICAgICAgdmFsdWUuJGVmZmVjdHMkLFxuICAgICAgICAgICAgICB2YWx1ZS4kY29tcHV0ZVFybCRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICBvdXRwdXQoVHlwZUlkcy5Gb3J3YXJkUmVmLCBmb3J3YXJkUmVmSWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFdyYXBwZWRTaWduYWxJbXBsKSB7XG4gICAgICAgIG91dHB1dChUeXBlSWRzLldyYXBwZWRTaWduYWwsIFtcbiAgICAgICAgICAuLi5zZXJpYWxpemVXcmFwcGluZ0ZuKHNlcmlhbGl6YXRpb25Db250ZXh0LCB2YWx1ZSksXG4gICAgICAgICAgZmlsdGVyRWZmZWN0QmFja1JlZnModmFsdWVbX0VGRkVDVF9CQUNLX1JFRl0pLFxuICAgICAgICAgIHZhbHVlLiRmbGFncyQsXG4gICAgICAgICAgdmFsdWUuJGhvc3RFbGVtZW50JCxcbiAgICAgICAgICAuLi4odmFsdWUuJGVmZmVjdHMkIHx8IFtdKSxcbiAgICAgICAgXSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgQ29tcHV0ZWRTaWduYWxJbXBsKSB7XG4gICAgICAgIGxldCB2ID0gdmFsdWUuJHVudHJhY2tlZFZhbHVlJDtcbiAgICAgICAgY29uc3Qgc2hvdWxkQWx3YXlzU2VyaWFsaXplID1cbiAgICAgICAgICB2YWx1ZS4kZmxhZ3MkICYgU2VyaWFsaXphdGlvblNpZ25hbEZsYWdzLlNFUklBTElaQVRJT05fU1RSQVRFR1lfQUxXQVlTO1xuICAgICAgICBjb25zdCBzaG91bGROZXZlclNlcmlhbGl6ZSA9XG4gICAgICAgICAgdmFsdWUuJGZsYWdzJCAmIFNlcmlhbGl6YXRpb25TaWduYWxGbGFncy5TRVJJQUxJWkFUSU9OX1NUUkFURUdZX05FVkVSO1xuICAgICAgICBjb25zdCBpc0ludmFsaWQgPSB2YWx1ZS4kZmxhZ3MkICYgU2lnbmFsRmxhZ3MuSU5WQUxJRDtcbiAgICAgICAgY29uc3QgaXNTa2lwcGFibGUgPSBmYXN0U2tpcFNlcmlhbGl6ZSh2YWx1ZS4kdW50cmFja2VkVmFsdWUkKTtcblxuICAgICAgICBpZiAoc2hvdWxkQWx3YXlzU2VyaWFsaXplKSB7XG4gICAgICAgICAgdiA9IHZhbHVlLiR1bnRyYWNrZWRWYWx1ZSQ7XG4gICAgICAgIH0gZWxzZSBpZiAoc2hvdWxkTmV2ZXJTZXJpYWxpemUpIHtcbiAgICAgICAgICB2ID0gTkVFRFNfQ09NUFVUQVRJT047XG4gICAgICAgIH0gZWxzZSBpZiAoaXNJbnZhbGlkIHx8IGlzU2tpcHBhYmxlKSB7XG4gICAgICAgICAgdiA9IE5FRURTX0NPTVBVVEFUSU9OO1xuICAgICAgICB9XG4gICAgICAgIGFkZFByZWxvYWRRcmwodmFsdWUuJGNvbXB1dGVRcmwkKTtcblxuICAgICAgICBjb25zdCBvdXQ6IHVua25vd25bXSA9IFt2YWx1ZS4kY29tcHV0ZVFybCQsIHZhbHVlLiRlZmZlY3RzJF07XG4gICAgICAgIGNvbnN0IGlzQXN5bmMgPSB2YWx1ZSBpbnN0YW5jZW9mIEFzeW5jQ29tcHV0ZWRTaWduYWxJbXBsO1xuICAgICAgICBpZiAoaXNBc3luYykge1xuICAgICAgICAgIG91dC5wdXNoKFxuICAgICAgICAgICAgdmFsdWUuJGxvYWRpbmdFZmZlY3RzJCxcbiAgICAgICAgICAgIHZhbHVlLiRlcnJvckVmZmVjdHMkLFxuICAgICAgICAgICAgdmFsdWUuJHVudHJhY2tlZExvYWRpbmckLFxuICAgICAgICAgICAgdmFsdWUuJHVudHJhY2tlZEVycm9yJFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodiAhPT0gTkVFRFNfQ09NUFVUQVRJT04pIHtcbiAgICAgICAgICBvdXQucHVzaCh2KTtcbiAgICAgICAgfVxuICAgICAgICBvdXRwdXQoaXNBc3luYyA/IFR5cGVJZHMuQXN5bmNDb21wdXRlZFNpZ25hbCA6IFR5cGVJZHMuQ29tcHV0ZWRTaWduYWwsIG91dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXRwdXQoVHlwZUlkcy5TaWduYWwsIFt2YWx1ZS4kdW50cmFja2VkVmFsdWUkLCAuLi4odmFsdWUuJGVmZmVjdHMkIHx8IFtdKV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBVUkwpIHtcbiAgICAgIG91dHB1dChUeXBlSWRzLlVSTCwgdmFsdWUuaHJlZik7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgIG91dHB1dChUeXBlSWRzLkRhdGUsIE51bWJlci5pc05hTih2YWx1ZS52YWx1ZU9mKCkpID8gJycgOiB2YWx1ZS52YWx1ZU9mKCkpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgIG91dHB1dChUeXBlSWRzLlJlZ2V4LCB2YWx1ZS50b1N0cmluZygpKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGNvbnN0IG91dDogYW55W10gPSBbdmFsdWUubWVzc2FnZV07XG4gICAgICAvLyBmbGF0dGVuIGdpdmVzIHVzIHRoZSByaWdodCBvdXRwdXRcbiAgICAgIG91dC5wdXNoKC4uLk9iamVjdC5lbnRyaWVzKHZhbHVlKS5mbGF0KCkpO1xuICAgICAgLy8vIEluIHByb2R1Y3Rpb24gd2UgZG9uJ3Qgd2FudCB0byBsZWFrIHRoZSBzdGFjayB0cmFjZS5cbiAgICAgIGlmIChpc0Rldikge1xuICAgICAgICBvdXQucHVzaCgnc3RhY2snLCB2YWx1ZS5zdGFjayk7XG4gICAgICB9XG4gICAgICBvdXRwdXQoVHlwZUlkcy5FcnJvciwgb3V0KTtcbiAgICB9IGVsc2UgaWYgKCRpc1Nzck5vZGUkKHZhbHVlKSkge1xuICAgICAgY29uc3Qgcm9vdEluZGV4ID0gJGFkZFJvb3QkKHZhbHVlKTtcbiAgICAgIHNlcmlhbGl6YXRpb25Db250ZXh0LiRzZXRQcm9wJCh2YWx1ZSwgRUxFTUVOVF9JRCwgU3RyaW5nKHJvb3RJbmRleCkpO1xuICAgICAgLy8gd2UgbmVlZCB0byBvdXRwdXQgYmVmb3JlIHRoZSB2bm9kZSBvdmVyd3JpdGVzIGl0cyB2YWx1ZXNcbiAgICAgIG91dHB1dChUeXBlSWRzLlZOb2RlLCB2YWx1ZS5pZCk7XG4gICAgICBjb25zdCB2Tm9kZURhdGEgPSB2YWx1ZS52bm9kZURhdGE7XG4gICAgICBpZiAodk5vZGVEYXRhKSB7XG4gICAgICAgIGRpc2NvdmVyVmFsdWVzRm9yVk5vZGVEYXRhKHZOb2RlRGF0YSwgKHZOb2RlRGF0YVZhbHVlKSA9PiAkYWRkUm9vdCQodk5vZGVEYXRhVmFsdWUpKTtcbiAgICAgICAgdk5vZGVEYXRhWzBdIHw9IFZOb2RlRGF0YUZsYWcuU0VSSUFMSVpFO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlLmNoaWxkcmVuKSB7XG4gICAgICAgIC8vIGNhbiBiZSBzdGF0aWMsIGJ1dCB3ZSBuZWVkIHRvIHNhdmUgdm5vZGUgZGF0YSBzdHJ1Y3R1cmUgKyBkaXNjb3ZlciB0aGUgYmFjayByZWZzXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdmFsdWUuY2hpbGRyZW4pIHtcbiAgICAgICAgICBjb25zdCBjaGlsZFZOb2RlRGF0YSA9IGNoaWxkLnZub2RlRGF0YTtcbiAgICAgICAgICBpZiAoY2hpbGRWTm9kZURhdGEpIHtcbiAgICAgICAgICAgIC8vIGFkZCBhbGwgYmFjayByZWZzIHRvIHRoZSByb290c1xuICAgICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBjaGlsZFZOb2RlRGF0YSkge1xuICAgICAgICAgICAgICBpZiAoaXNTc3JBdHRycyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiYWNrUmVmS2V5SW5kZXggPSB2YWx1ZS5maW5kSW5kZXgoKHYpID0+IHYgPT09IFFCYWNrUmVmcyk7XG4gICAgICAgICAgICAgICAgaWYgKGJhY2tSZWZLZXlJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICRhZGRSb290JCh2YWx1ZVtiYWNrUmVmS2V5SW5kZXggKyAxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGlsZFZOb2RlRGF0YVswXSB8PSBWTm9kZURhdGFGbGFnLlNFUklBTElaRTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBGb3JtRGF0YSAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgaW5zdGFuY2VvZiBGb3JtRGF0YSkge1xuICAgICAgLy8gRm9ybURhdGEgaXMgZ2VuZXJhbGx5IHVzZWQgb25seSBvbmNlIHNvIGRvbid0IGJvdGhlciB3aXRoIHJlZmVyZW5jZXNcbiAgICAgIGNvbnN0IGFycmF5OiBzdHJpbmdbXSA9IFtdO1xuICAgICAgdmFsdWUuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGFycmF5LnB1c2goa2V5LCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXJyYXkucHVzaChrZXksIHZhbHVlLm5hbWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG91dHB1dChUeXBlSWRzLkZvcm1EYXRhLCBhcnJheSk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcykge1xuICAgICAgb3V0cHV0KFR5cGVJZHMuVVJMU2VhcmNoUGFyYW1zLCB2YWx1ZS50b1N0cmluZygpKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICBvdXRwdXQoVHlwZUlkcy5TZXQsIFsuLi52YWx1ZS52YWx1ZXMoKV0pO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgIGNvbnN0IGNvbWJpbmVkID0gW107XG4gICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiB2YWx1ZS5lbnRyaWVzKCkpIHtcbiAgICAgICAgY29tYmluZWQucHVzaChrLCB2KTtcbiAgICAgIH1cbiAgICAgIG91dHB1dChUeXBlSWRzLk1hcCwgY29tYmluZWQpO1xuICAgIH0gZWxzZSBpZiAoaXNKU1hOb2RlKHZhbHVlKSkge1xuICAgICAgY29uc3Qgb3V0ID0gW1xuICAgICAgICB2YWx1ZS50eXBlLFxuICAgICAgICB2YWx1ZS5rZXksXG4gICAgICAgIHZhbHVlLnZhclByb3BzLFxuICAgICAgICB2YWx1ZS5jb25zdFByb3BzLFxuICAgICAgICB2YWx1ZS5jaGlsZHJlbixcbiAgICAgICAgdmFsdWUudG9Tb3J0IHx8IG51bGwsXG4gICAgICBdO1xuICAgICAgd2hpbGUgKG91dFtvdXQubGVuZ3RoIC0gMV0gPT0gbnVsbCkge1xuICAgICAgICBvdXQucG9wKCk7XG4gICAgICB9XG4gICAgICBvdXRwdXQoVHlwZUlkcy5KU1hOb2RlLCBvdXQpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBUYXNrKSB7XG4gICAgICBjb25zdCBvdXQ6IHVua25vd25bXSA9IFtcbiAgICAgICAgdmFsdWUuJHFybCQsXG4gICAgICAgIHZhbHVlLiRmbGFncyQsXG4gICAgICAgIHZhbHVlLiRpbmRleCQsXG4gICAgICAgIHZhbHVlLiRlbCQsXG4gICAgICAgIHZhbHVlW19FRkZFQ1RfQkFDS19SRUZdLFxuICAgICAgICB2YWx1ZS4kc3RhdGUkLFxuICAgICAgXTtcbiAgICAgIHdoaWxlIChvdXRbb3V0Lmxlbmd0aCAtIDFdID09IG51bGwpIHtcbiAgICAgICAgb3V0LnBvcCgpO1xuICAgICAgfVxuICAgICAgb3V0cHV0KFR5cGVJZHMuVGFzaywgb3V0KTtcbiAgICB9IGVsc2UgaWYgKGlzUHJvbWlzZSh2YWx1ZSkpIHtcbiAgICAgIGNvbnN0IGZvcndhcmRSZWZJZCA9IHJlc29sdmVQcm9taXNlKHZhbHVlLCAkYWRkUm9vdCQsIChyZXNvbHZlZCwgcmVzb2x2ZWRWYWx1ZSkgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2VSZXN1bHQoVHlwZUlkcy5Qcm9taXNlLCByZXNvbHZlZCwgcmVzb2x2ZWRWYWx1ZSk7XG4gICAgICB9KTtcbiAgICAgIG91dHB1dChUeXBlSWRzLkZvcndhcmRSZWYsIGZvcndhcmRSZWZJZCk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2VSZXN1bHQpIHtcbiAgICAgIGlmICh2YWx1ZS4kdHlwZSQgPT09IFR5cGVJZHMuUmVzb3VyY2UpIHtcbiAgICAgICAgb3V0cHV0KFR5cGVJZHMuUmVzb3VyY2UsIFt2YWx1ZS4kcmVzb2x2ZWQkLCB2YWx1ZS4kdmFsdWUkLCB2YWx1ZS4kZWZmZWN0cyRdKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUuJHR5cGUkID09PSBUeXBlSWRzLlNlcmlhbGl6ZXJTaWduYWwpIHtcbiAgICAgICAgaWYgKHZhbHVlLiRxcmwkKSB7XG4gICAgICAgICAgb3V0cHV0KFR5cGVJZHMuU2VyaWFsaXplclNpZ25hbCwgW3ZhbHVlLiRxcmwkLCB2YWx1ZS4kZWZmZWN0cyQsIHZhbHVlLiR2YWx1ZSRdKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZS4kcmVzb2x2ZWQkKSB7XG4gICAgICAgICAgLy8gV2UgcmVwbGFjZSBvdXJzZWx2ZXMgd2l0aCB0aGlzIHZhbHVlXG4gICAgICAgICAgY29uc3QgaW5kZXggPSBwYXJlbnQhLiRpbmRleCQ7XG4gICAgICAgICAgcGFyZW50ID0gcGFyZW50IS4kcGFyZW50JCE7XG4gICAgICAgICAgd3JpdGVWYWx1ZSh2YWx1ZS4kdmFsdWUkLCBpbmRleCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcih2YWx1ZS4kdmFsdWUkKTtcbiAgICAgICAgICB0aHJvdyBxRXJyb3IoUUVycm9yLnNlcmlhbGl6ZXJTeW1ib2xSZWplY3RlZFByb21pc2UpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXRwdXQoVHlwZUlkcy5Qcm9taXNlLCBbdmFsdWUuJHJlc29sdmVkJCwgdmFsdWUuJHZhbHVlJF0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICBsZXQgYnVmID0gJyc7XG4gICAgICBmb3IgKGNvbnN0IGMgb2YgdmFsdWUpIHtcbiAgICAgICAgYnVmICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYyk7XG4gICAgICB9XG4gICAgICBjb25zdCBvdXQgPSBidG9hKGJ1ZikucmVwbGFjZSgvPSskLywgJycpO1xuICAgICAgb3V0cHV0KFR5cGVJZHMuVWludDhBcnJheSwgb3V0KTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgU2VyaWFsaXphdGlvbldlYWtSZWYpIHtcbiAgICAgIGNvbnN0IG9iaiA9IHZhbHVlLiRvYmokO1xuICAgICAgLy8gVGhpcyB3aWxsIHJldHVybiBhIGZha2UgU2VlblJlZiBpZiBpdCdzIG5vdCBiZWVuIHNlZW4gYmVmb3JlXG4gICAgICBpZiAoZ2V0U2VlblJlZk9yT3V0cHV0KG9iaiwgcGFyZW50IS4kaW5kZXgkLCB0cnVlKSkge1xuICAgICAgICBsZXQgZm9yd2FyZFJlZklkID0gczExbldlYWtSZWZzLmdldChvYmopO1xuICAgICAgICBpZiAoZm9yd2FyZFJlZklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBmb3J3YXJkUmVmSWQgPSBmb3J3YXJkUmVmc0lkKys7XG4gICAgICAgICAgczExbldlYWtSZWZzLnNldChvYmosIGZvcndhcmRSZWZJZCk7XG4gICAgICAgICAgZm9yd2FyZFJlZnNbZm9yd2FyZFJlZklkXSA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIG91dHB1dChUeXBlSWRzLkZvcndhcmRSZWYsIGZvcndhcmRSZWZJZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2bm9kZV9pc1ZOb2RlKHZhbHVlKSkge1xuICAgICAgb3V0cHV0KFR5cGVJZHMuQ29uc3RhbnQsIENvbnN0YW50cy5VbmRlZmluZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBxRXJyb3IoUUVycm9yLnNlcmlhbGl6ZUVycm9yVW5rbm93blR5cGUsIFt0eXBlb2YgdmFsdWVdKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UoXG4gICAgcHJvbWlzZTogUHJvbWlzZTx1bmtub3duPixcbiAgICAkYWRkUm9vdCQ6IChvYmo6IHVua25vd24pID0+IG51bWJlcixcbiAgICBjbGFzc0NyZWF0b3I6IChyZXNvbHZlZDogYm9vbGVhbiwgcmVzb2x2ZWRWYWx1ZTogdW5rbm93bikgPT4gUHJvbWlzZVJlc3VsdFxuICApIHtcbiAgICBjb25zdCBmb3J3YXJkUmVmSWQgPSBmb3J3YXJkUmVmc0lkKys7XG4gICAgcHJvbWlzZVxuICAgICAgLnRoZW4oKHJlc29sdmVkVmFsdWUpID0+IHtcbiAgICAgICAgcHJvbWlzZXMuZGVsZXRlKHByb21pc2UpO1xuICAgICAgICBmb3J3YXJkUmVmc1tmb3J3YXJkUmVmSWRdID0gJGFkZFJvb3QkKGNsYXNzQ3JlYXRvcih0cnVlLCByZXNvbHZlZFZhbHVlKSkgYXMgbnVtYmVyO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHByb21pc2VzLmRlbGV0ZShwcm9taXNlKTtcbiAgICAgICAgZm9yd2FyZFJlZnNbZm9yd2FyZFJlZklkXSA9ICRhZGRSb290JChjbGFzc0NyZWF0b3IoZmFsc2UsIGVycikpIGFzIG51bWJlcjtcbiAgICAgIH0pO1xuXG4gICAgcHJvbWlzZXMuYWRkKHByb21pc2UpO1xuXG4gICAgcmV0dXJuIGZvcndhcmRSZWZJZDtcbiAgfVxuXG4gIGNvbnN0IG91dHB1dFJvb3RzID0gYXN5bmMgKCkgPT4ge1xuICAgICR3cml0ZXIkLndyaXRlKCdbJyk7XG4gICAgY29uc3QgeyAkcm9vdHMkIH0gPSBzZXJpYWxpemF0aW9uQ29udGV4dDtcbiAgICB3aGlsZSAocm9vdElkeCA8ICRyb290cyQubGVuZ3RoIHx8IHByb21pc2VzLnNpemUpIHtcbiAgICAgIGlmIChyb290SWR4ICE9PSAwKSB7XG4gICAgICAgICR3cml0ZXIkLndyaXRlKCcsJyk7XG4gICAgICB9XG5cbiAgICAgIGxldCBzZXBhcmF0b3IgPSBmYWxzZTtcbiAgICAgIGZvciAoOyByb290SWR4IDwgJHJvb3RzJC5sZW5ndGg7IHJvb3RJZHgrKykge1xuICAgICAgICBpZiAoc2VwYXJhdG9yKSB7XG4gICAgICAgICAgJHdyaXRlciQud3JpdGUoJywnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXBhcmF0b3IgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHdyaXRlVmFsdWUoJHJvb3RzJFtyb290SWR4XSwgcm9vdElkeCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9taXNlcy5zaXplKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgUHJvbWlzZS5yYWNlKHByb21pc2VzKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgLy8gaWdub3JlIHJlamVjdGlvbnMsIHRoZXkgd2lsbCBiZSBzZXJpYWxpemVkIGFzIHJlamVjdGVkIHByb21pc2VzXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZm9yd2FyZFJlZnMubGVuZ3RoKSB7XG4gICAgICBsZXQgbGFzdElkeCA9IGZvcndhcmRSZWZzLmxlbmd0aCAtIDE7XG4gICAgICB3aGlsZSAobGFzdElkeCA+PSAwICYmIGZvcndhcmRSZWZzW2xhc3RJZHhdID09PSAtMSkge1xuICAgICAgICBsYXN0SWR4LS07XG4gICAgICB9XG4gICAgICBpZiAobGFzdElkeCA+PSAwKSB7XG4gICAgICAgICR3cml0ZXIkLndyaXRlKCcsJyk7XG4gICAgICAgICR3cml0ZXIkLndyaXRlKFR5cGVJZHMuRm9yd2FyZFJlZnMgKyAnLCcpO1xuICAgICAgICBjb25zdCBvdXQgPVxuICAgICAgICAgIGxhc3RJZHggPT09IGZvcndhcmRSZWZzLmxlbmd0aCAtIDEgPyBmb3J3YXJkUmVmcyA6IGZvcndhcmRSZWZzLnNsaWNlKDAsIGxhc3RJZHggKyAxKTtcbiAgICAgICAgLy8gV2UgY291bGQgYWxzbyBpbXBsZW1lbnQgUkxFIG9mIC0xIHZhbHVlc1xuICAgICAgICBvdXRwdXRBcnJheShvdXQsIHRydWUsICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICR3cml0ZXIkLndyaXRlKFN0cmluZyh2YWx1ZSkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkd3JpdGVyJC53cml0ZSgnXScpO1xuICB9O1xuXG4gIGF3YWl0IG91dHB1dFJvb3RzKCk7XG59XG5leHBvcnQgY2xhc3MgUHJvbWlzZVJlc3VsdCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyAkdHlwZSQ6IG51bWJlcixcbiAgICBwdWJsaWMgJHJlc29sdmVkJDogYm9vbGVhbixcbiAgICBwdWJsaWMgJHZhbHVlJDogdW5rbm93bixcbiAgICBwdWJsaWMgJGVmZmVjdHMkOlxuICAgICAgfCBNYXA8c3RyaW5nIHwgc3ltYm9sLCBTZXQ8RWZmZWN0U3Vic2NyaXB0aW9uPj5cbiAgICAgIHwgU2V0PEVmZmVjdFN1YnNjcmlwdGlvbj5cbiAgICAgIHwgbnVsbCA9IG51bGwsXG4gICAgcHVibGljICRxcmwkOiBRUkxJbnRlcm5hbCB8IG51bGwgPSBudWxsXG4gICkge31cbn1cbmZ1bmN0aW9uIGdldEN1c3RvbVNlcmlhbGl6ZXJQcm9taXNlPFQsIFM+KHNpZ25hbDogU2VyaWFsaXplclNpZ25hbEltcGw8VCwgUz4sIHZhbHVlOiBhbnkpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgKHNpZ25hbC4kY29tcHV0ZVFybCQgYXMgUVJMSW50ZXJuYWw8U2VyaWFsaXplckFyZzxULCBTPj4pLnJlc29sdmUoKS50aGVuKChhcmcpID0+IHtcbiAgICAgIGxldCBkYXRhO1xuICAgICAgaWYgKChhcmcgYXMgYW55KS5zZXJpYWxpemUpIHtcbiAgICAgICAgZGF0YSA9IChhcmcgYXMgYW55KS5zZXJpYWxpemUodmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChTZXJpYWxpemVyU3ltYm9sIGluIHZhbHVlKSB7XG4gICAgICAgIGRhdGEgPSAodmFsdWUgYXMgYW55KVtTZXJpYWxpemVyU3ltYm9sXSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRhdGEgPSBORUVEU19DT01QVVRBVElPTjtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5jb25zdCBkaXNjb3ZlclZhbHVlc0ZvclZOb2RlRGF0YSA9ICh2bm9kZURhdGE6IFZOb2RlRGF0YSwgY2FsbGJhY2s6ICh2YWx1ZTogdW5rbm93bikgPT4gdm9pZCkgPT4ge1xuICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZub2RlRGF0YSkge1xuICAgIGlmIChpc1NzckF0dHJzKHZhbHVlKSkge1xuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB2YWx1ZS5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICBjb25zdCBrZXlWYWx1ZSA9IHZhbHVlW2kgLSAxXTtcbiAgICAgICAgY29uc3QgYXR0clZhbHVlID0gdmFsdWVbaV07XG4gICAgICAgIGlmIChcbiAgICAgICAgICBhdHRyVmFsdWUgPT0gbnVsbCB8fFxuICAgICAgICAgIHR5cGVvZiBhdHRyVmFsdWUgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgLy8gc2tpcCBlbXB0eSBwcm9wc1xuICAgICAgICAgIChrZXlWYWx1ZSA9PT0gRUxFTUVOVF9QUk9QUyAmJlxuICAgICAgICAgICAgT2JqZWN0LmtleXMoYXR0clZhbHVlIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KS5sZW5ndGggPT09IDApXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKGF0dHJWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCBpc1NzckF0dHJzID0gKHZhbHVlOiBudW1iZXIgfCBTc3JBdHRycyk6IHZhbHVlIGlzIFNzckF0dHJzID0+XG4gIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA+IDA7XG5cbi8qKlxuICogV2hlbiBzZXJpYWxpemluZyB0aGUgb2JqZWN0IHdlIG5lZWQgY2hlY2sgaWYgaXQgaXMgVVJMLCBSZWdFeHAsIE1hcCwgU2V0LCBldGMuIFRoaXMgaXMgdGltZVxuICogY29uc3VtaW5nLiBTbyBpZiB3ZSBjb3VsZCBrbm93IHRoYXQgdGhpcyBpcyBhIGJhc2ljIG9iamVjdCBsaXRlcmFsIHdlIGNvdWxkIHNraXAgdGhlIGNoZWNrLCBhbmRcbiAqIG9ubHkgcnVuIHRoZSBjaGVja3MgZm9yIG9iamVjdHMgd2hpY2ggYXJlIG5vdCBvYmplY3QgbGl0ZXJhbHMuXG4gKlxuICogU28gdGhpcyBmdW5jdGlvbiBpcyBoZXJlIGZvciBwZXJmb3JtYW5jZSB0byBzaG9ydCBjaXJjdWl0IG1hbnkgY2hlY2tzIGxhdGVyLlxuICpcbiAqIEBwYXJhbSBvYmpcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaXRlcmFsKG9iajogdW5rbm93bik6IG9iaiBpcyBvYmplY3Qge1xuICAvLyBXZSBhcmUgYW4gb2JqZWN0IGxpdGVyYWwgaWY6XG4gIC8vIC0gd2UgYXJlIGEgZGlyZWN0IGluc3RhbmNlIG9mIG9iamVjdCBPUlxuICAvLyAtIHdlIGFyZSBhbiBhcnJheVxuICAvLyBJbiBhbGwgb3RoZXIgY2FzZXMgaXQgaXMgYSBzdWJjbGFzcyB3aGljaCByZXF1aXJlcyBtb3JlIGNoZWNrcy5cbiAgY29uc3QgcHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaik7XG4gIHJldHVybiBwcm90b3R5cGUgPT0gbnVsbCB8fCBwcm90b3R5cGUgPT09IE9iamVjdC5wcm90b3R5cGUgfHwgcHJvdG90eXBlID09PSBBcnJheS5wcm90b3R5cGU7XG59XG5cbmZ1bmN0aW9uIGlzUmVzb3VyY2U8VCA9IHVua25vd24+KHZhbHVlOiBvYmplY3QpOiB2YWx1ZSBpcyBSZXNvdXJjZVJldHVybkludGVybmFsPFQ+IHtcbiAgcmV0dXJuICdfX2JyYW5kJyBpbiB2YWx1ZSAmJiB2YWx1ZS5fX2JyYW5kID09PSAncmVzb3VyY2UnO1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVXcmFwcGluZ0ZuKFxuICBzZXJpYWxpemF0aW9uQ29udGV4dDogU2VyaWFsaXphdGlvbkNvbnRleHQsXG4gIHZhbHVlOiBXcmFwcGVkU2lnbmFsSW1wbDxhbnk+XG4pIHtcbiAgLy8gaWYgdmFsdWUgaXMgYW4gb2JqZWN0IHRoZW4gd2UgbmVlZCB0byB3cmFwIHRoaXMgaW4gKClcbiAgaWYgKHZhbHVlLiRmdW5jU3RyJCAmJiB2YWx1ZS4kZnVuY1N0ciRbMF0gPT09ICd7Jykge1xuICAgIHZhbHVlLiRmdW5jU3RyJCA9IGAoJHt2YWx1ZS4kZnVuY1N0ciR9KWA7XG4gIH1cbiAgY29uc3Qgc3luY0ZuSWQgPSBzZXJpYWxpemF0aW9uQ29udGV4dC4kYWRkU3luY0ZuJChcbiAgICB2YWx1ZS4kZnVuY1N0ciQsXG4gICAgdmFsdWUuJGFyZ3MkLmxlbmd0aCxcbiAgICB2YWx1ZS4kZnVuYyRcbiAgKTtcbiAgcmV0dXJuIFtzeW5jRm5JZCwgdmFsdWUuJGFyZ3MkXSBhcyBjb25zdDtcbn1cblxuZnVuY3Rpb24gZmlsdGVyRWZmZWN0QmFja1JlZnMoZWZmZWN0QmFja1JlZjogTWFwPHN0cmluZywgRWZmZWN0U3Vic2NyaXB0aW9uPiB8IG51bGwpIHtcbiAgbGV0IGVmZmVjdEJhY2tSZWZUb1NlcmlhbGl6ZTogTWFwPHN0cmluZywgRWZmZWN0U3Vic2NyaXB0aW9uPiB8IG51bGwgPSBudWxsO1xuICBpZiAoZWZmZWN0QmFja1JlZikge1xuICAgIGZvciAoY29uc3QgW2VmZmVjdFByb3AsIGVmZmVjdF0gb2YgZWZmZWN0QmFja1JlZikge1xuICAgICAgaWYgKGVmZmVjdFtFZmZlY3RTdWJzY3JpcHRpb25Qcm9wLkJBQ0tfUkVGXSkge1xuICAgICAgICBlZmZlY3RCYWNrUmVmVG9TZXJpYWxpemUgfHw9IG5ldyBNYXA8c3RyaW5nLCBFZmZlY3RTdWJzY3JpcHRpb24+KCk7XG4gICAgICAgIGVmZmVjdEJhY2tSZWZUb1NlcmlhbGl6ZS5zZXQoZWZmZWN0UHJvcCwgZWZmZWN0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVmZmVjdEJhY2tSZWZUb1NlcmlhbGl6ZTtcbn1cblxuY2xhc3MgU2VyaWFsaXphdGlvbldlYWtSZWYge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgJG9iaiQ6IHVua25vd24pIHt9XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBfc2VyaWFsaXphdGlvbldlYWtSZWYgPSAob2JqOiB1bmtub3duKSA9PiBuZXcgU2VyaWFsaXphdGlvbldlYWtSZWYob2JqKTtcbiJdfQ==","import { serialize } from './serialize';\nexport let isDomRef = (obj) => false;\n/**\n * A back reference to a previously serialized object. Before deserialization, all backrefs are\n * swapped with their original locations.\n */\nexport class BackRef {\n    $path$;\n    constructor(\n    /** The path from root to the original object */\n    $path$) {\n        this.$path$ = $path$;\n    }\n}\nexport const createSerializationContext = (\n/**\n * Node constructor, for instanceof checks.\n *\n * A node constructor can be null. For example on the client we can't serialize DOM nodes as\n * server will not know what to do with them.\n */\nNodeConstructor, \n/** DomRef constructor, for instanceof checks. */\nDomRefConstructor, symbolToChunkResolver, getProp, setProp, storeProxyMap, writer) => {\n    if (!writer) {\n        const buffer = [];\n        writer = {\n            write: (text) => buffer.push(text),\n            toString: () => buffer.join(''),\n        };\n    }\n    const seenObjsMap = new Map();\n    const syncFnMap = new Map();\n    const syncFns = [];\n    const roots = [];\n    const getSeenRef = (obj) => seenObjsMap.get(obj);\n    const $markSeen$ = (obj, parent, index) => {\n        const ref = { $index$: index, $parent$: parent };\n        seenObjsMap.set(obj, ref);\n        return ref;\n    };\n    /**\n     * Returns a path string representing the path from roots through all parents to the object.\n     * Format: \"3 2 0\" where each number is the index within its parent, from root to leaf.\n     */\n    const $getObjectPath$ = (ref) => {\n        // Traverse up through parent references to build a path\n        const path = [];\n        while (ref.$parent$) {\n            path.unshift(ref.$index$);\n            ref = ref.$parent$;\n        }\n        // Now we are at root, but it could be a backref\n        path.unshift(ref.$index$);\n        return path.join(' ');\n    };\n    const $promoteToRoot$ = (ref, index) => {\n        const path = $getObjectPath$(ref);\n        if (index === undefined) {\n            index = roots.length;\n        }\n        roots[index] = new BackRef(path);\n        ref.$parent$ = null;\n        ref.$index$ = index;\n    };\n    const $addRoot$ = ((obj, returnRef) => {\n        let seen = seenObjsMap.get(obj);\n        let index;\n        if (!seen) {\n            index = roots.length;\n            seen = {\n                $index$: index,\n                // TODO benchmark with and without $parent$\n                // $parent$: undefined\n            };\n            seenObjsMap.set(obj, seen);\n            roots.push(obj);\n        }\n        else {\n            if (seen.$parent$) {\n                $promoteToRoot$(seen);\n            }\n            index = seen.$index$;\n        }\n        return returnRef ? seen : index;\n    });\n    const isSsrNode = (NodeConstructor ? (obj) => obj instanceof NodeConstructor : (() => false));\n    isDomRef = (DomRefConstructor ? (obj) => obj instanceof DomRefConstructor : (() => false));\n    return {\n        async $serialize$() {\n            return await serialize(this);\n        },\n        $isSsrNode$: isSsrNode,\n        $isDomRef$: isDomRef,\n        $symbolToChunkResolver$: symbolToChunkResolver,\n        getSeenRef,\n        $roots$: roots,\n        $markSeen$,\n        $hasRootId$: (obj) => {\n            const id = seenObjsMap.get(obj);\n            return id && (id.$parent$ ? undefined : id.$index$);\n        },\n        $promoteToRoot$,\n        $addRoot$,\n        $syncFns$: syncFns,\n        $addSyncFn$: (funcStr, argCount, fn) => {\n            const isFullFn = funcStr == null;\n            if (isFullFn) {\n                funcStr = fn.serialized || fn.toString();\n            }\n            let id = syncFnMap.get(funcStr);\n            if (id === undefined) {\n                id = syncFns.length;\n                syncFnMap.set(funcStr, id);\n                if (isFullFn) {\n                    syncFns.push(funcStr);\n                }\n                else {\n                    let code = '(';\n                    for (let i = 0; i < argCount; i++) {\n                        code += (i == 0 ? 'p' : ',p') + i;\n                    }\n                    syncFns.push((code += ')=>' + funcStr));\n                }\n            }\n            return id;\n        },\n        $writer$: writer,\n        $eventQrls$: new Set(),\n        $eventNames$: new Set(),\n        $resources$: new Set(),\n        $renderSymbols$: new Set(),\n        $storeProxyMap$: storeProxyMap,\n        $getProp$: getProp,\n        $setProp$: setProp,\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyaWFsaXphdGlvbi1jb250ZXh0LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC9zZXJkZXMvc2VyaWFsaXphdGlvbi1jb250ZXh0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFtQnhDLE1BQU0sQ0FBQyxJQUFJLFFBQVEsR0FBRyxDQUFDLEdBQVksRUFBaUIsRUFBRSxDQUFDLEtBQUssQ0FBQztBQUU3RDs7O0dBR0c7QUFDSCxNQUFNLE9BQU8sT0FBTztJQUdUO0lBRlQ7SUFDRSxnREFBZ0Q7SUFDekMsTUFBYztRQUFkLFdBQU0sR0FBTixNQUFNLENBQVE7SUFDcEIsQ0FBQztDQUNMO0FBNERELE1BQU0sQ0FBQyxNQUFNLDBCQUEwQixHQUFHO0FBQ3hDOzs7OztHQUtHO0FBQ0gsZUFFUTtBQUNSLGlEQUFpRDtBQUNqRCxpQkFFUSxFQUNSLHFCQUE0QyxFQUM1QyxPQUF3QyxFQUN4QyxPQUFxRCxFQUNyRCxhQUE0QixFQUM1QixNQUFxQixFQUNDLEVBQUU7SUFDeEIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ1osTUFBTSxNQUFNLEdBQWEsRUFBRSxDQUFDO1FBQzVCLE1BQU0sR0FBRztZQUNQLEtBQUssRUFBRSxDQUFDLElBQVksRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7WUFDMUMsUUFBUSxFQUFFLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1NBQ2hCLENBQUM7SUFDcEIsQ0FBQztJQUNELE1BQU0sV0FBVyxHQUFHLElBQUksR0FBRyxFQUFvQixDQUFDO0lBQ2hELE1BQU0sU0FBUyxHQUFHLElBQUksR0FBRyxFQUFrQixDQUFDO0lBQzVDLE1BQU0sT0FBTyxHQUFhLEVBQUUsQ0FBQztJQUM3QixNQUFNLEtBQUssR0FBYyxFQUFF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O29CQUNiLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBUSxDQUFDLENBQUM7Z0JBQ3pCLENBQUM7cUJBQU0sQ0FBQztvQkFDTixJQUFJLElBQUksR0FBRyxHQUFHLENBQUM7b0JBQ2YsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFFBQVEsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO3dCQUNsQyxJQUFJLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDcEMsQ0FBQztvQkFDRCxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDO2dCQUMxQyxDQUFDO1lBQ0gsQ0FBQztZQUNELE9BQU8sRUFBRSxDQUFDO1FBQ1osQ0FBQztRQUNELFFBQVEsRUFBRSxNQUFNO1FBQ2hCLFdBQVcsRUFBRSxJQUFJLEdBQUcsRUFBTztRQUMzQixZQUFZLEVBQUUsSUFBSSxHQUFHLEVBQVU7UUFDL0IsV0FBVyxFQUFFLElBQUksR0FBRyxFQUFtQztRQUN2RCxlQUFlLEVBQUUsSUFBSSxHQUFHLEVBQVU7UUFDbEMsZUFBZSxFQUFFLGFBQWE7UUFDOUIsU0FBUyxFQUFFLE9BQU87UUFDbEIsU0FBUyxFQUFFLE9BQU87S0FDbkIsQ0FBQztBQUNKLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgVk5vZGVEYXRhIH0gZnJvbSAnLi4vLi4vLi4vc2VydmVyL3Zub2RlLWRhdGEnO1xuaW1wb3J0IHR5cGUgeyBfRUZGRUNUX0JBQ0tfUkVGIH0gZnJvbSAnLi4vLi4vaW50ZXJuYWwnO1xuaW1wb3J0IHR5cGUgeyBFZmZlY3RQcm9wZXJ0eSwgRWZmZWN0U3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IElTc3JOb2RlLCBTdHJlYW1Xcml0ZXIsIFN5bWJvbFRvQ2h1bmtSZXNvbHZlciB9IGZyb20gJy4uLy4uL3Nzci9zc3ItdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBSZXNvdXJjZVJldHVybkludGVybmFsIH0gZnJvbSAnLi4vLi4vdXNlL3VzZS1yZXNvdXJjZSc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4uL3FybC9xcmwucHVibGljJztcbmltcG9ydCB0eXBlIHsgT2JqVG9Qcm94eU1hcCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IHNlcmlhbGl6ZSB9IGZyb20gJy4vc2VyaWFsaXplJztcblxuLyoqIEEgc2VsZWN0aW9uIG9mIGF0dHJpYnV0ZXMgb2YgdGhlIHJlYWwgdGhpbmcgKi9cbnR5cGUgU3NyTm9kZSA9IHtcbiAgaWQ6IHN0cmluZztcbiAgY2hpbGRyZW46IElTc3JOb2RlW10gfCBudWxsO1xuICB2bm9kZURhdGE6IFZOb2RlRGF0YTtcbiAgW19FRkZFQ1RfQkFDS19SRUZdOiBNYXA8RWZmZWN0UHJvcGVydHkgfCBzdHJpbmcsIEVmZmVjdFN1YnNjcmlwdGlvbj4gfCBudWxsO1xufTtcbnR5cGUgRG9tUmVmID0ge1xuICAkc3NyTm9kZSQ6IFNzck5vZGU7XG59O1xuXG4vKiogU3RvcmVzIHRoZSBsb2NhdGlvbiBvZiBhbiBvYmplY3QuIElmIG5vIHBhcmVudCwgaXQncyBhIHJvb3QuICovXG5leHBvcnQgdHlwZSBTZWVuUmVmID0ge1xuICAkaW5kZXgkOiBudW1iZXI7XG4gICRwYXJlbnQkPzogU2VlblJlZiB8IG51bGw7XG59O1xuXG5leHBvcnQgbGV0IGlzRG9tUmVmID0gKG9iajogdW5rbm93bik6IG9iaiBpcyBEb21SZWYgPT4gZmFsc2U7XG5cbi8qKlxuICogQSBiYWNrIHJlZmVyZW5jZSB0byBhIHByZXZpb3VzbHkgc2VyaWFsaXplZCBvYmplY3QuIEJlZm9yZSBkZXNlcmlhbGl6YXRpb24sIGFsbCBiYWNrcmVmcyBhcmVcbiAqIHN3YXBwZWQgd2l0aCB0aGVpciBvcmlnaW5hbCBsb2NhdGlvbnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYWNrUmVmIHtcbiAgY29uc3RydWN0b3IoXG4gICAgLyoqIFRoZSBwYXRoIGZyb20gcm9vdCB0byB0aGUgb3JpZ2luYWwgb2JqZWN0ICovXG4gICAgcHVibGljICRwYXRoJDogc3RyaW5nXG4gICkge31cbn1cblxuaW50ZXJmYWNlIEFkZFJvb3RGbiB7XG4gIChvYmo6IHVua25vd24sIHJldHVyblJlZj86IG5ldmVyKTogbnVtYmVyO1xuICAob2JqOiB1bmtub3duLCByZXR1cm5SZWY6IHRydWUpOiBTZWVuUmVmO1xufVxuZXhwb3J0IGludGVyZmFjZSBTZXJpYWxpemF0aW9uQ29udGV4dCB7XG4gICRzZXJpYWxpemUkOiAoKSA9PiB2b2lkO1xuXG4gICRzeW1ib2xUb0NodW5rUmVzb2x2ZXIkOiBTeW1ib2xUb0NodW5rUmVzb2x2ZXI7XG5cbiAgLyoqXG4gICAqIE1hcCBmcm9tIG9iamVjdCB0byBwYXJlbnQgYW5kIGluZGV4IHJlZmVyZW5jZS5cbiAgICpcbiAgICogSWYgb2JqZWN0IGlzIGZvdW5kIGluIGBvYmpNYXBgIHdpbGwgcmV0dXJuIHRoZSBwYXJlbnQgcmVmZXJlbmNlIGFuZCBpbmRleCBwYXRoLlxuICAgKlxuICAgKiBgb2JqTWFwYCByZXR1cm46XG4gICAqXG4gICAqIC0gYHsgcGFyZW50LCBpbmRleCB9YCAtIFRoZSBwYXJlbnQgb2JqZWN0IGFuZCB0aGUgaW5kZXggd2l0aGluIHRoYXQgcGFyZW50LlxuICAgKiAtIGB1bmRlZmluZWRgIC0gT2JqZWN0IGhhcyBub3QgYmVlbiBzZWVuIHlldC5cbiAgICovXG4gIGdldFNlZW5SZWY6IChvYmo6IHVua25vd24pID0+IFNlZW5SZWYgfCB1bmRlZmluZWQ7XG5cbiAgLyoqIFJldHVybnMgdGhlIHJvb3QgaW5kZXggb2YgdGhlIG9iamVjdCwgaWYgaXQgaXMgYSByb290LiBPdGhlcndpc2UgcmV0dXJucyB1bmRlZmluZWQuICovXG4gICRoYXNSb290SWQkOiAob2JqOiB1bmtub3duKSA9PiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFJvb3Qgb2JqZWN0cyB3aGljaCBuZWVkIHRvIGJlIHNlcmlhbGl6ZWQuXG4gICAqXG4gICAqIFJvb3RzIGFyZSBlbnRyeSBwb2ludHMgaW50byB0aGUgb2JqZWN0IGdyYXBoLiBUeXBpY2FsbHkgdGhlIHJvb3RzIGFyZSBoZWxkIGJ5IHRoZSBsaXN0ZW5lcnMuXG4gICAqXG4gICAqIFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSByb290IG9iamVjdC5cbiAgICovXG4gICRhZGRSb290JDogQWRkUm9vdEZuO1xuXG4gIC8qKiBNYXJrIGFuIG9iamVjdCBhcyBzZWVuIGR1cmluZyBzZXJpYWxpemF0aW9uLiBUaGlzIGlzIHVzZWQgdG8gaGFuZGxlIGJhY2tyZWZlcmVuY2VzIGFuZCBjeWNsZXMgKi9cbiAgJG1hcmtTZWVuJDogKG9iajogdW5rbm93biwgcGFyZW50OiBTZWVuUmVmIHwgdW5kZWZpbmVkLCBpbmRleDogbnVtYmVyKSA9PiBTZWVuUmVmO1xuXG4gICRyb290cyQ6IHVua25vd25bXTtcblxuICAkcHJvbW90ZVRvUm9vdCQ6IChyZWY6IFNlZW5SZWYsIGluZGV4PzogbnVtYmVyKSA9PiB2b2lkO1xuXG4gICRhZGRTeW5jRm4kKCRmdW5jU3RyJDogc3RyaW5nIHwgbnVsbCwgYXJnc0NvdW50OiBudW1iZXIsIGZuOiBGdW5jdGlvbik6IG51bWJlcjtcblxuICAkaXNTc3JOb2RlJDogKG9iajogdW5rbm93bikgPT4gb2JqIGlzIFNzck5vZGU7XG4gICRpc0RvbVJlZiQ6IChvYmo6IHVua25vd24pID0+IG9iaiBpcyBEb21SZWY7XG5cbiAgJHdyaXRlciQ6IFN0cmVhbVdyaXRlcjtcbiAgJHN5bmNGbnMkOiBzdHJpbmdbXTtcblxuICAkZXZlbnRRcmxzJDogU2V0PFFSTD47XG4gICRldmVudE5hbWVzJDogU2V0PHN0cmluZz47XG4gICRyZXNvdXJjZXMkOiBTZXQ8UmVzb3VyY2VSZXR1cm5JbnRlcm5hbDx1bmtub3duPj47XG4gICRyZW5kZXJTeW1ib2xzJDogU2V0PHN0cmluZz47XG4gICRzdG9yZVByb3h5TWFwJDogT2JqVG9Qcm94eU1hcDtcblxuICAkZ2V0UHJvcCQ6IChvYmo6IGFueSwgcHJvcDogc3RyaW5nKSA9PiBhbnk7XG4gICRzZXRQcm9wJDogKG9iajogYW55LCBwcm9wOiBzdHJpbmcsIHZhbHVlOiBhbnkpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVTZXJpYWxpemF0aW9uQ29udGV4dCA9IChcbiAgLyoqXG4gICAqIE5vZGUgY29uc3RydWN0b3IsIGZvciBpbnN0YW5jZW9mIGNoZWNrcy5cbiAgICpcbiAgICogQSBub2RlIGNvbnN0cnVjdG9yIGNhbiBiZSBudWxsLiBGb3IgZXhhbXBsZSBvbiB0aGUgY2xpZW50IHdlIGNhbid0IHNlcmlhbGl6ZSBET00gbm9kZXMgYXNcbiAgICogc2VydmVyIHdpbGwgbm90IGtub3cgd2hhdCB0byBkbyB3aXRoIHRoZW0uXG4gICAqL1xuICBOb2RlQ29uc3RydWN0b3I6IHtcbiAgICBuZXcgKC4uLnJlc3Q6IGFueVtdKTogeyBfX2JyYW5kX186ICdTc3JOb2RlJyB9O1xuICB9IHwgbnVsbCxcbiAgLyoqIERvbVJlZiBjb25zdHJ1Y3RvciwgZm9yIGluc3RhbmNlb2YgY2hlY2tzLiAqL1xuICBEb21SZWZDb25zdHJ1Y3Rvcjoge1xuICAgIG5ldyAoLi4ucmVzdDogYW55W10pOiB7IF9fYnJhbmRfXzogJ0RvbVJlZicgfTtcbiAgfSB8IG51bGwsXG4gIHN5bWJvbFRvQ2h1bmtSZXNvbHZlcjogU3ltYm9sVG9DaHVua1Jlc29sdmVyLFxuICBnZXRQcm9wOiAob2JqOiBhbnksIHByb3A6IHN0cmluZykgPT4gYW55LFxuICBzZXRQcm9wOiAob2JqOiBhbnksIHByb3A6IHN0cmluZywgdmFsdWU6IGFueSkgPT4gdm9pZCxcbiAgc3RvcmVQcm94eU1hcDogT2JqVG9Qcm94eU1hcCxcbiAgd3JpdGVyPzogU3RyZWFtV3JpdGVyXG4pOiBTZXJpYWxpemF0aW9uQ29udGV4dCA9PiB7XG4gIGlmICghd3JpdGVyKSB7XG4gICAgY29uc3QgYnVmZmVyOiBzdHJpbmdbXSA9IFtdO1xuICAgIHdyaXRlciA9IHtcbiAgICAgIHdyaXRlOiAodGV4dDogc3RyaW5nKSA9PiBidWZmZXIucHVzaCh0ZXh0KSxcbiAgICAgIHRvU3RyaW5nOiAoKSA9PiBidWZmZXIuam9pbignJyksXG4gICAgfSBhcyBTdHJlYW1Xcml0ZXI7XG4gIH1cbiAgY29uc3Qgc2Vlbk9ianNNYXAgPSBuZXcgTWFwPHVua25vd24sIFNlZW5SZWY+KCk7XG4gIGNvbnN0IHN5bmNGbk1hcCA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XG4gIGNvbnN0IHN5bmNGbnM6IHN0cmluZ1tdID0gW107XG4gIGNvbnN0IHJvb3RzOiB1bmtub3duW10gPSBbXTtcblxuICBjb25zdCBnZXRTZWVuUmVmID0gKG9iajogdW5rbm93bikgPT4gc2Vlbk9ianNNYXAuZ2V0KG9iaik7XG4gIGNvbnN0ICRtYXJrU2VlbiQgPSAob2JqOiB1bmtub3duLCBwYXJlbnQ6IFNlZW5SZWYgfCB1bmRlZmluZWQsIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICBjb25zdCByZWYgPSB7ICRpbmRleCQ6IGluZGV4LCAkcGFyZW50JDogcGFyZW50IH07XG4gICAgc2Vlbk9ianNNYXAuc2V0KG9iaiwgcmVmKTtcbiAgICByZXR1cm4gcmVmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcGF0aCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBwYXRoIGZyb20gcm9vdHMgdGhyb3VnaCBhbGwgcGFyZW50cyB0byB0aGUgb2JqZWN0LlxuICAgKiBGb3JtYXQ6IFwiMyAyIDBcIiB3aGVyZSBlYWNoIG51bWJlciBpcyB0aGUgaW5kZXggd2l0aGluIGl0cyBwYXJlbnQsIGZyb20gcm9vdCB0byBsZWFmLlxuICAgKi9cbiAgY29uc3QgJGdldE9iamVjdFBhdGgkID0gKHJlZjogU2VlblJlZikgPT4ge1xuICAgIC8vIFRyYXZlcnNlIHVwIHRocm91Z2ggcGFyZW50IHJlZmVyZW5jZXMgdG8gYnVpbGQgYSBwYXRoXG4gICAgY29uc3QgcGF0aCA9IFtdO1xuICAgIHdoaWxlIChyZWYuJHBhcmVudCQpIHtcbiAgICAgIHBhdGgudW5zaGlmdChyZWYuJGluZGV4JCk7XG4gICAgICByZWYgPSByZWYuJHBhcmVudCQ7XG4gICAgfVxuICAgIC8vIE5vdyB3ZSBhcmUgYXQgcm9vdCwgYnV0IGl0IGNvdWxkIGJlIGEgYmFja3JlZlxuICAgIHBhdGgudW5zaGlmdChyZWYuJGluZGV4JCk7XG5cbiAgICByZXR1cm4gcGF0aC5qb2luKCcgJyk7XG4gIH07XG5cbiAgY29uc3QgJHByb21vdGVUb1Jvb3QkID0gKHJlZjogU2VlblJlZiwgaW5kZXg/OiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBwYXRoID0gJGdldE9iamVjdFBhdGgkKHJlZikgYXMgc3RyaW5nO1xuICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpbmRleCA9IHJvb3RzLmxlbmd0aDtcbiAgICB9XG4gICAgcm9vdHNbaW5kZXhdID0gbmV3IEJhY2tSZWYocGF0aCk7XG4gICAgcmVmLiRwYXJlbnQkID0gbnVsbDtcbiAgICByZWYuJGluZGV4JCA9IGluZGV4O1xuICB9O1xuXG4gIGNvbnN0ICRhZGRSb290JCA9ICgob2JqOiBhbnksIHJldHVyblJlZj86IGJvb2xlYW4pID0+IHtcbiAgICBsZXQgc2VlbiA9IHNlZW5PYmpzTWFwLmdldChvYmopO1xuICAgIGxldCBpbmRleDogbnVtYmVyO1xuXG4gICAgaWYgKCFzZWVuKSB7XG4gICAgICBpbmRleCA9IHJvb3RzLmxlbmd0aDtcbiAgICAgIHNlZW4gPSB7XG4gICAgICAgICRpbmRleCQ6IGluZGV4LFxuICAgICAgICAvLyBUT0RPIGJlbmNobWFyayB3aXRoIGFuZCB3aXRob3V0ICRwYXJlbnQkXG4gICAgICAgIC8vICRwYXJlbnQkOiB1bmRlZmluZWRcbiAgICAgIH07XG4gICAgICBzZWVuT2Jqc01hcC5zZXQob2JqLCBzZWVuKTtcbiAgICAgIHJvb3RzLnB1c2gob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHNlZW4uJHBhcmVudCQpIHtcbiAgICAgICAgJHByb21vdGVUb1Jvb3QkKHNlZW4pO1xuICAgICAgfVxuICAgICAgaW5kZXggPSBzZWVuLiRpbmRleCQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldHVyblJlZiA/IHNlZW4gOiBpbmRleDtcbiAgfSkgYXMgQWRkUm9vdEZuO1xuXG4gIGNvbnN0IGlzU3NyTm9kZSA9IChcbiAgICBOb2RlQ29uc3RydWN0b3IgPyAob2JqKSA9PiBvYmogaW5zdGFuY2VvZiBOb2RlQ29uc3RydWN0b3IgOiAoKCgpID0+IGZhbHNlKSBhcyBhbnkpXG4gICkgYXMgKG9iajogdW5rbm93bikgPT4gb2JqIGlzIFNzck5vZGU7XG5cbiAgaXNEb21SZWYgPSAoXG4gICAgRG9tUmVmQ29uc3RydWN0b3IgPyAob2JqKSA9PiBvYmogaW5zdGFuY2VvZiBEb21SZWZDb25zdHJ1Y3RvciA6ICgoKCkgPT4gZmFsc2UpIGFzIGFueSlcbiAgKSBhcyAob2JqOiB1bmtub3duKSA9PiBvYmogaXMgRG9tUmVmO1xuXG4gIHJldHVybiB7XG4gICAgYXN5bmMgJHNlcmlhbGl6ZSQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICByZXR1cm4gYXdhaXQgc2VyaWFsaXplKHRoaXMpO1xuICAgIH0sXG4gICAgJGlzU3NyTm9kZSQ6IGlzU3NyTm9kZSxcbiAgICAkaXNEb21SZWYkOiBpc0RvbVJlZixcbiAgICAkc3ltYm9sVG9DaHVua1Jlc29sdmVyJDogc3ltYm9sVG9DaHVua1Jlc29sdmVyLFxuICAgIGdldFNlZW5SZWYsXG4gICAgJHJvb3RzJDogcm9vdHMsXG4gICAgJG1hcmtTZWVuJCxcbiAgICAkaGFzUm9vdElkJDogKG9iajogYW55KSA9PiB7XG4gICAgICBjb25zdCBpZCA9IHNlZW5PYmpzTWFwLmdldChvYmopO1xuICAgICAgcmV0dXJuIGlkICYmIChpZC4kcGFyZW50JCA/IHVuZGVmaW5lZCA6IGlkLiRpbmRleCQpO1xuICAgIH0sXG4gICAgJHByb21vdGVUb1Jvb3QkLFxuICAgICRhZGRSb290JCxcbiAgICAkc3luY0ZucyQ6IHN5bmNGbnMsXG4gICAgJGFkZFN5bmNGbiQ6IChmdW5jU3RyOiBzdHJpbmcgfCBudWxsLCBhcmdDb3VudDogbnVtYmVyLCBmbjogRnVuY3Rpb24pID0+IHtcbiAgICAgIGNvbnN0IGlzRnVsbEZuID0gZnVuY1N0ciA9PSBudWxsO1xuICAgICAgaWYgKGlzRnVsbEZuKSB7XG4gICAgICAgIGZ1bmNTdHIgPSAoKGZuIGFzIGFueSkuc2VyaWFsaXplZCBhcyBzdHJpbmcpIHx8IGZuLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICBsZXQgaWQgPSBzeW5jRm5NYXAuZ2V0KGZ1bmNTdHIhKTtcbiAgICAgIGlmIChpZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlkID0gc3luY0Zucy5sZW5ndGg7XG4gICAgICAgIHN5bmNGbk1hcC5zZXQoZnVuY1N0ciEsIGlkKTtcbiAgICAgICAgaWYgKGlzRnVsbEZuKSB7XG4gICAgICAgICAgc3luY0Zucy5wdXNoKGZ1bmNTdHIhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgY29kZSA9ICcoJztcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvZGUgKz0gKGkgPT0gMCA/ICdwJyA6ICcscCcpICsgaTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3luY0Zucy5wdXNoKChjb2RlICs9ICcpPT4nICsgZnVuY1N0cikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaWQ7XG4gICAgfSxcbiAgICAkd3JpdGVyJDogd3JpdGVyLFxuICAgICRldmVudFFybHMkOiBuZXcgU2V0PFFSTD4oKSxcbiAgICAkZXZlbnROYW1lcyQ6IG5ldyBTZXQ8c3RyaW5nPigpLFxuICAgICRyZXNvdXJjZXMkOiBuZXcgU2V0PFJlc291cmNlUmV0dXJuSW50ZXJuYWw8dW5rbm93bj4+KCksXG4gICAgJHJlbmRlclN5bWJvbHMkOiBuZXcgU2V0PHN0cmluZz4oKSxcbiAgICAkc3RvcmVQcm94eU1hcCQ6IHN0b3JlUHJveHlNYXAsXG4gICAgJGdldFByb3AkOiBnZXRQcm9wLFxuICAgICRzZXRQcm9wJDogc2V0UHJvcCxcbiAgfTtcbn07XG4iXX0=","import { trackSignalAndAssignHost } from '../use/use-core';\nimport { version } from '../version';\nimport { createScheduler } from './scheduler';\nimport { createSerializationContext, } from './serdes/serialization-context';\nimport { ChoreArray } from '../client/chore-array';\n/** @internal */\nexport class _SharedContainer {\n    $version$;\n    $scheduler$;\n    $storeProxyMap$;\n    /// Current language locale\n    $locale$;\n    /// Retrieve Object from paused serialized state.\n    $getObjectById$;\n    $serverData$;\n    $currentUniqueId$ = 0;\n    $instanceHash$ = null;\n    $buildBase$ = null;\n    $flushEpoch$ = 0;\n    constructor(journalFlush, serverData, locale) {\n        this.$serverData$ = serverData;\n        this.$locale$ = locale;\n        this.$version$ = version;\n        this.$storeProxyMap$ = new WeakMap();\n        this.$getObjectById$ = (_id) => {\n            throw Error('Not implemented');\n        };\n        const choreQueue = new ChoreArray();\n        const blockedChores = new Set();\n        const runningChores = new Set();\n        this.$scheduler$ = createScheduler(this, journalFlush, choreQueue, blockedChores, runningChores);\n    }\n    trackSignalValue(signal, subscriber, property, data) {\n        return trackSignalAndAssignHost(signal, subscriber, property, this, data);\n    }\n    serializationCtxFactory(NodeConstructor, DomRefConstructor, symbolToChunkResolver, writer) {\n        return createSerializationContext(NodeConstructor, DomRefConstructor, symbolToChunkResolver, this.getHostProp.bind(this), this.setHostProp.bind(this), this.$storeProxyMap$, writer);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hhcmVkLWNvbnRhaW5lci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvc2hhcmVkLWNvbnRhaW5lci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMzRCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBSXJDLE9BQU8sRUFBRSxlQUFlLEVBQXlCLE1BQU0sYUFBYSxDQUFDO0FBQ3JFLE9BQU8sRUFDTCwwQkFBMEIsR0FFM0IsTUFBTSxnQ0FBZ0MsQ0FBQztBQUV4QyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFFbkQsZ0JBQWdCO0FBQ2hCLE1BQU0sT0FBZ0IsZ0JBQWdCO0lBQzNCLFNBQVMsQ0FBUztJQUNsQixXQUFXLENBQVk7SUFDdkIsZUFBZSxDQUFnQjtJQUN4QywyQkFBMkI7SUFDbEIsUUFBUSxDQUFTO0lBQzFCLGlEQUFpRDtJQUN4QyxlQUFlLENBQStCO0lBQ3ZELFlBQVksQ0FBc0I7SUFDbEMsaUJBQWlCLEdBQUcsQ0FBQyxDQUFDO0lBQ3RCLGNBQWMsR0FBa0IsSUFBSSxDQUFDO0lBQ3JDLFdBQVcsR0FBa0IsSUFBSSxDQUFDO0lBQ2xDLFlBQVksR0FBVyxDQUFDLENBQUM7SUFFekIsWUFBWSxZQUF3QixFQUFFLFVBQStCLEVBQUUsTUFBYztRQUNuRixJQUFJLENBQUMsWUFBWSxHQUFHLFVBQVUsQ0FBQztRQUMvQixJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQztRQUN2QixJQUFJLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQztRQUN6QixJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksT0FBTyxFQUFFLENBQUM7UUFDckMsSUFBSSxDQUFDLGVBQWUsR0FBRyxDQUFDLEdBQW9CLEVBQUUsRUFBRTtZQUM5QyxNQUFNLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQ2pDLENBQUMsQ0FBQztRQUVGLE1BQU0sVUFBVSxHQUFHLElBQUksVUFBVSxFQUFFLENBQUM7UUFDcEMsTUFBTSxhQUFhLEdBQUcsSUFBSSxHQUFHLEVBQVMsQ0FBQztRQUN2QyxNQUFNLGFBQWEsR0FBRyxJQUFJLEdBQUcsRUFBUyxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxXQUFXLEdBQUcsZUFBZSxDQUNoQyxJQUFJLEVBQ0osWUFBWSxFQUNaLFVBQVUsRUFDVixhQUFhLEVBQ2IsYUFBYSxDQUNkLENBQUM7SUFDSixDQUFDO0lBRUQsZ0JBQWdCLENBQ2QsTUFBYyxFQUNkLFVBQXVCLEVBQ3ZCLFFBQWdCLEVBQ2hCLElBQXNCO1FBRXRCLE9BQU8sd0JBQXdCLENBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzVFLENBQUM7SUFFRCx1QkFBdUIsQ0FDckIsZUFFUSxFQUNSLGlCQUVRLEVBQ1IscUJBQTRDLEVBQzVDLE1BQXFCO1FBRXJCLE9BQU8sMEJBQTBCLENBQy9CLGVBQWUsRUFDZixpQkFBaUIsRUFDakIscUJBQXFCLEVBQ3JCLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUMzQixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFDM0IsSUFBSSxDQUFDLGVBQWUsRUFDcEIsTUFBTSxDQUNQLENBQUM7SUFDSixDQUFDO0NBZUYiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IENvbnRleHRJZCB9IGZyb20gJy4uL3VzZS91c2UtY29udGV4dCc7XG5pbXBvcnQgeyB0cmFja1NpZ25hbEFuZEFzc2lnbkhvc3QgfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJy4uL3ZlcnNpb24nO1xuaW1wb3J0IHR5cGUgeyBTdWJzY3JpcHRpb25EYXRhIH0gZnJvbSAnLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy9zdWJzY3JpcHRpb24tZGF0YSc7XG5pbXBvcnQgdHlwZSB7IFNpZ25hbCB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvc2lnbmFsLnB1YmxpYyc7XG5pbXBvcnQgdHlwZSB7IFN0cmVhbVdyaXRlciwgU3ltYm9sVG9DaHVua1Jlc29sdmVyIH0gZnJvbSAnLi4vc3NyL3Nzci10eXBlcyc7XG5pbXBvcnQgeyBjcmVhdGVTY2hlZHVsZXIsIFNjaGVkdWxlciwgdHlwZSBDaG9yZSB9IGZyb20gJy4vc2NoZWR1bGVyJztcbmltcG9ydCB7XG4gIGNyZWF0ZVNlcmlhbGl6YXRpb25Db250ZXh0LFxuICB0eXBlIFNlcmlhbGl6YXRpb25Db250ZXh0LFxufSBmcm9tICcuL3NlcmRlcy9zZXJpYWxpemF0aW9uLWNvbnRleHQnO1xuaW1wb3J0IHR5cGUgeyBDb250YWluZXIsIEhvc3RFbGVtZW50LCBPYmpUb1Byb3h5TWFwIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBDaG9yZUFycmF5IH0gZnJvbSAnLi4vY2xpZW50L2Nob3JlLWFycmF5JztcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIF9TaGFyZWRDb250YWluZXIgaW1wbGVtZW50cyBDb250YWluZXIge1xuICByZWFkb25seSAkdmVyc2lvbiQ6IHN0cmluZztcbiAgcmVhZG9ubHkgJHNjaGVkdWxlciQ6IFNjaGVkdWxlcjtcbiAgcmVhZG9ubHkgJHN0b3JlUHJveHlNYXAkOiBPYmpUb1Byb3h5TWFwO1xuICAvLy8gQ3VycmVudCBsYW5ndWFnZSBsb2NhbGVcbiAgcmVhZG9ubHkgJGxvY2FsZSQ6IHN0cmluZztcbiAgLy8vIFJldHJpZXZlIE9iamVjdCBmcm9tIHBhdXNlZCBzZXJpYWxpemVkIHN0YXRlLlxuICByZWFkb25seSAkZ2V0T2JqZWN0QnlJZCQ6IChpZDogbnVtYmVyIHwgc3RyaW5nKSA9PiBhbnk7XG4gICRzZXJ2ZXJEYXRhJDogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgJGN1cnJlbnRVbmlxdWVJZCQgPSAwO1xuICAkaW5zdGFuY2VIYXNoJDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICRidWlsZEJhc2UkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgJGZsdXNoRXBvY2gkOiBudW1iZXIgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKGpvdXJuYWxGbHVzaDogKCkgPT4gdm9pZCwgc2VydmVyRGF0YTogUmVjb3JkPHN0cmluZywgYW55PiwgbG9jYWxlOiBzdHJpbmcpIHtcbiAgICB0aGlzLiRzZXJ2ZXJEYXRhJCA9IHNlcnZlckRhdGE7XG4gICAgdGhpcy4kbG9jYWxlJCA9IGxvY2FsZTtcbiAgICB0aGlzLiR2ZXJzaW9uJCA9IHZlcnNpb247XG4gICAgdGhpcy4kc3RvcmVQcm94eU1hcCQgPSBuZXcgV2Vha01hcCgpO1xuICAgIHRoaXMuJGdldE9iamVjdEJ5SWQkID0gKF9pZDogbnVtYmVyIHwgc3RyaW5nKSA9PiB7XG4gICAgICB0aHJvdyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNob3JlUXVldWUgPSBuZXcgQ2hvcmVBcnJheSgpO1xuICAgIGNvbnN0IGJsb2NrZWRDaG9yZXMgPSBuZXcgU2V0PENob3JlPigpO1xuICAgIGNvbnN0IHJ1bm5pbmdDaG9yZXMgPSBuZXcgU2V0PENob3JlPigpO1xuICAgIHRoaXMuJHNjaGVkdWxlciQgPSBjcmVhdGVTY2hlZHVsZXIoXG4gICAgICB0aGlzLFxuICAgICAgam91cm5hbEZsdXNoLFxuICAgICAgY2hvcmVRdWV1ZSxcbiAgICAgIGJsb2NrZWRDaG9yZXMsXG4gICAgICBydW5uaW5nQ2hvcmVzXG4gICAgKTtcbiAgfVxuXG4gIHRyYWNrU2lnbmFsVmFsdWU8VD4oXG4gICAgc2lnbmFsOiBTaWduYWwsXG4gICAgc3Vic2NyaWJlcjogSG9zdEVsZW1lbnQsXG4gICAgcHJvcGVydHk6IHN0cmluZyxcbiAgICBkYXRhOiBTdWJzY3JpcHRpb25EYXRhXG4gICk6IFQge1xuICAgIHJldHVybiB0cmFja1NpZ25hbEFuZEFzc2lnbkhvc3Qoc2lnbmFsLCBzdWJzY3JpYmVyLCBwcm9wZXJ0eSwgdGhpcywgZGF0YSk7XG4gIH1cblxuICBzZXJpYWxpemF0aW9uQ3R4RmFjdG9yeShcbiAgICBOb2RlQ29uc3RydWN0b3I6IHtcbiAgICAgIG5ldyAoLi4ucmVzdDogYW55W10pOiB7IF9fYnJhbmRfXzogJ1Nzck5vZGUnIH07XG4gICAgfSB8IG51bGwsXG4gICAgRG9tUmVmQ29uc3RydWN0b3I6IHtcbiAgICAgIG5ldyAoLi4ucmVzdDogYW55W10pOiB7IF9fYnJhbmRfXzogJ0RvbVJlZicgfTtcbiAgICB9IHwgbnVsbCxcbiAgICBzeW1ib2xUb0NodW5rUmVzb2x2ZXI6IFN5bWJvbFRvQ2h1bmtSZXNvbHZlcixcbiAgICB3cml0ZXI/OiBTdHJlYW1Xcml0ZXJcbiAgKTogU2VyaWFsaXphdGlvbkNvbnRleHQge1xuICAgIHJldHVybiBjcmVhdGVTZXJpYWxpemF0aW9uQ29udGV4dChcbiAgICAgIE5vZGVDb25zdHJ1Y3RvcixcbiAgICAgIERvbVJlZkNvbnN0cnVjdG9yLFxuICAgICAgc3ltYm9sVG9DaHVua1Jlc29sdmVyLFxuICAgICAgdGhpcy5nZXRIb3N0UHJvcC5iaW5kKHRoaXMpLFxuICAgICAgdGhpcy5zZXRIb3N0UHJvcC5iaW5kKHRoaXMpLFxuICAgICAgdGhpcy4kc3RvcmVQcm94eU1hcCQsXG4gICAgICB3cml0ZXJcbiAgICApO1xuICB9XG5cbiAgYWJzdHJhY3QgZW5zdXJlUHJvamVjdGlvblJlc29sdmVkKGhvc3Q6IEhvc3RFbGVtZW50KTogdm9pZDtcbiAgYWJzdHJhY3QgaGFuZGxlRXJyb3IoZXJyOiBhbnksICRob3N0JDogSG9zdEVsZW1lbnQgfCBudWxsKTogdm9pZDtcbiAgYWJzdHJhY3QgZ2V0UGFyZW50SG9zdChob3N0OiBIb3N0RWxlbWVudCk6IEhvc3RFbGVtZW50IHwgbnVsbDtcbiAgYWJzdHJhY3Qgc2V0Q29udGV4dDxUPihob3N0OiBIb3N0RWxlbWVudCwgY29udGV4dDogQ29udGV4dElkPFQ+LCB2YWx1ZTogVCk6IHZvaWQ7XG4gIGFic3RyYWN0IHJlc29sdmVDb250ZXh0PFQ+KGhvc3Q6IEhvc3RFbGVtZW50LCBjb250ZXh0SWQ6IENvbnRleHRJZDxUPik6IFQgfCB1bmRlZmluZWQ7XG4gIGFic3RyYWN0IHNldEhvc3RQcm9wPFQ+KGhvc3Q6IEhvc3RFbGVtZW50LCBuYW1lOiBzdHJpbmcsIHZhbHVlOiBUKTogdm9pZDtcbiAgYWJzdHJhY3QgZ2V0SG9zdFByb3A8VD4oaG9zdDogSG9zdEVsZW1lbnQsIG5hbWU6IHN0cmluZyk6IFQgfCBudWxsO1xuICBhYnN0cmFjdCAkYXBwZW5kU3R5bGUkKFxuICAgIGNvbnRlbnQ6IHN0cmluZyxcbiAgICBzdHlsZUlkOiBzdHJpbmcsXG4gICAgaG9zdDogSG9zdEVsZW1lbnQsXG4gICAgc2NvcGVkOiBib29sZWFuXG4gICk6IHZvaWQ7XG59XG4iXX0=","export function isAsyncGenerator(value) {\n    return !!value[Symbol.asyncIterator];\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXN5bmMtZ2VuZXJhdG9yLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC91dGlscy9hc3luYy1nZW5lcmF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxVQUFVLGdCQUFnQixDQUFDLEtBQWE7SUFDNUMsT0FBTyxDQUFDLENBQUUsS0FBd0IsQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDM0QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpc0FzeW5jR2VuZXJhdG9yKHZhbHVlOiBvYmplY3QpOiB2YWx1ZSBpcyBBc3luY0dlbmVyYXRvciB7XG4gIHJldHVybiAhISh2YWx1ZSBhcyBBc3luY0dlbmVyYXRvcilbU3ltYm9sLmFzeW5jSXRlcmF0b3JdO1xufVxuIl19","import { SERIALIZABLE_STATE } from '../shared/component.public';\nimport { ELEMENT_KEY, ELEMENT_PROPS, OnRenderProp } from '../shared/utils/markers';\nimport { executeComponent } from '../shared/component-execution';\nimport { getChorePromise } from '../shared/scheduler';\nexport const applyInlineComponent = (ssr, componentHost, inlineComponentFunction, jsx) => {\n    const host = ssr.getOrCreateLastNode();\n    return executeComponent(ssr, host, componentHost, inlineComponentFunction, jsx.props);\n};\nexport const applyQwikComponentBody = (ssr, jsx, component) => {\n    const host = ssr.getOrCreateLastNode();\n    const [componentQrl] = component[SERIALIZABLE_STATE];\n    const srcProps = jsx.props;\n    if (srcProps && srcProps.children) {\n        delete srcProps.children;\n    }\n    host.setProp(OnRenderProp, componentQrl);\n    host.setProp(ELEMENT_PROPS, srcProps);\n    if (jsx.key !== null) {\n        host.setProp(ELEMENT_KEY, jsx.key);\n    }\n    const componentChore = ssr.$scheduler$(6 /* ChoreType.COMPONENT */, host, componentQrl, srcProps);\n    return getChorePromise(componentChore);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3NyLXJlbmRlci1jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc3NyL3Nzci1yZW5kZXItY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxrQkFBa0IsRUFBbUMsTUFBTSw0QkFBNEIsQ0FBQztBQUVqRyxPQUFPLEVBQUUsV0FBVyxFQUFFLGFBQWEsRUFBRSxZQUFZLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUVuRixPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUlqRSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFFdEQsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQUcsQ0FDbEMsR0FBaUIsRUFDakIsYUFBOEIsRUFDOUIsdUJBQXdDLEVBQ3hDLEdBQVksRUFDWixFQUFFO0lBQ0YsTUFBTSxJQUFJLEdBQUcsR0FBRyxDQUFDLG1CQUFtQixFQUFFLENBQUM7SUFDdkMsT0FBTyxnQkFBZ0IsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLGFBQWEsRUFBRSx1QkFBdUIsRUFBRSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDeEYsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sc0JBQXNCLEdBQUcsQ0FDcEMsR0FBaUIsRUFDakIsR0FBWSxFQUNaLFNBQW9CLEVBQ08sRUFBRTtJQUM3QixNQUFNLElBQUksR0FBRyxHQUFHLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztJQUN2QyxNQUFNLENBQUMsWUFBWSxDQUFDLEdBQUksU0FBaUIsQ0FBQyxrQkFBa0IsQ0FBbUMsQ0FBQztJQUNoRyxNQUFNLFFBQVEsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDO0lBQzNCLElBQUksUUFBUSxJQUFJLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNsQyxPQUFPLFFBQVEsQ0FBQyxRQUFRLENBQUM7SUFDM0IsQ0FBQztJQUNELElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQ3pDLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ3RDLElBQUksR0FBRyxDQUFDLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQztRQUNyQixJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUNELE1BQU0sY0FBYyxHQUFHLEdBQUcsQ0FBQyxXQUFXLDhCQUFzQixJQUFJLEVBQUUsWUFBWSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzFGLE9BQU8sZUFBZSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQ3pDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgSlNYTm9kZSB9IGZyb20gJ0Bxd2lrLmRldi9jb3JlJztcbmltcG9ydCB7IFNFUklBTElaQUJMRV9TVEFURSwgdHlwZSBDb21wb25lbnQsIHR5cGUgT25SZW5kZXJGbiB9IGZyb20gJy4uL3NoYXJlZC9jb21wb25lbnQucHVibGljJztcbmltcG9ydCB0eXBlIHsgUVJMSW50ZXJuYWwgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC1jbGFzcyc7XG5pbXBvcnQgeyBFTEVNRU5UX0tFWSwgRUxFTUVOVF9QUk9QUywgT25SZW5kZXJQcm9wIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL21hcmtlcnMnO1xuaW1wb3J0IHsgdHlwZSBJU3NyTm9kZSwgdHlwZSBTU1JDb250YWluZXIgfSBmcm9tICcuL3Nzci10eXBlcyc7XG5pbXBvcnQgeyBleGVjdXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vc2hhcmVkL2NvbXBvbmVudC1leGVjdXRpb24nO1xuaW1wb3J0IHR5cGUgeyBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uL3NoYXJlZC91dGlscy90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IEpTWE91dHB1dCB9IGZyb20gJy4uL3NoYXJlZC9qc3gvdHlwZXMvanN4LW5vZGUnO1xuaW1wb3J0IHsgQ2hvcmVUeXBlIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWwtY2hvcmUtdHlwZSc7XG5pbXBvcnQgeyBnZXRDaG9yZVByb21pc2UgfSBmcm9tICcuLi9zaGFyZWQvc2NoZWR1bGVyJztcblxuZXhwb3J0IGNvbnN0IGFwcGx5SW5saW5lQ29tcG9uZW50ID0gKFxuICBzc3I6IFNTUkNvbnRhaW5lcixcbiAgY29tcG9uZW50SG9zdDogSVNzck5vZGUgfCBudWxsLFxuICBpbmxpbmVDb21wb25lbnRGdW5jdGlvbjogT25SZW5kZXJGbjxhbnk+LFxuICBqc3g6IEpTWE5vZGVcbikgPT4ge1xuICBjb25zdCBob3N0ID0gc3NyLmdldE9yQ3JlYXRlTGFzdE5vZGUoKTtcbiAgcmV0dXJuIGV4ZWN1dGVDb21wb25lbnQoc3NyLCBob3N0LCBjb21wb25lbnRIb3N0LCBpbmxpbmVDb21wb25lbnRGdW5jdGlvbiwganN4LnByb3BzKTtcbn07XG5cbmV4cG9ydCBjb25zdCBhcHBseVF3aWtDb21wb25lbnRCb2R5ID0gKFxuICBzc3I6IFNTUkNvbnRhaW5lcixcbiAganN4OiBKU1hOb2RlLFxuICBjb21wb25lbnQ6IENvbXBvbmVudFxuKTogVmFsdWVPclByb21pc2U8SlNYT3V0cHV0PiA9PiB7XG4gIGNvbnN0IGhvc3QgPSBzc3IuZ2V0T3JDcmVhdGVMYXN0Tm9kZSgpO1xuICBjb25zdCBbY29tcG9uZW50UXJsXSA9IChjb21wb25lbnQgYXMgYW55KVtTRVJJQUxJWkFCTEVfU1RBVEVdIGFzIFtRUkxJbnRlcm5hbDxPblJlbmRlckZuPGFueT4+XTtcbiAgY29uc3Qgc3JjUHJvcHMgPSBqc3gucHJvcHM7XG4gIGlmIChzcmNQcm9wcyAmJiBzcmNQcm9wcy5jaGlsZHJlbikge1xuICAgIGRlbGV0ZSBzcmNQcm9wcy5jaGlsZHJlbjtcbiAgfVxuICBob3N0LnNldFByb3AoT25SZW5kZXJQcm9wLCBjb21wb25lbnRRcmwpO1xuICBob3N0LnNldFByb3AoRUxFTUVOVF9QUk9QUywgc3JjUHJvcHMpO1xuICBpZiAoanN4LmtleSAhPT0gbnVsbCkge1xuICAgIGhvc3Quc2V0UHJvcChFTEVNRU5UX0tFWSwganN4LmtleSk7XG4gIH1cbiAgY29uc3QgY29tcG9uZW50Q2hvcmUgPSBzc3IuJHNjaGVkdWxlciQoQ2hvcmVUeXBlLkNPTVBPTkVOVCwgaG9zdCwgY29tcG9uZW50UXJsLCBzcmNQcm9wcyk7XG4gIHJldHVybiBnZXRDaG9yZVByb21pc2UoY29tcG9uZW50Q2hvcmUpO1xufTtcbiJdfQ==","import { isDev } from '@qwik.dev/core/build';\nimport { _run } from '../client/run-qrl';\nimport { WrappedSignalImpl } from '../reactive-primitives/impl/wrapped-signal-impl';\nimport { isSignal } from '../reactive-primitives/utils';\nimport { isQwikComponent } from '../shared/component.public';\nimport { Fragment } from '../shared/jsx/jsx-runtime';\nimport { directGetPropsProxyProp } from '../shared/jsx/props-proxy';\nimport { Slot } from '../shared/jsx/slot.public';\nimport { SSRComment, SSRRaw, SSRStream } from '../shared/jsx/utils.public';\nimport { createQRL } from '../shared/qrl/qrl-class';\nimport { isQrl } from '../shared/qrl/qrl-utils';\nimport { qrlToString } from '../shared/serdes/index';\nimport { DEBUG_TYPE } from '../shared/types';\nimport { isAsyncGenerator } from '../shared/utils/async-generator';\nimport { getEventDataFromHtmlAttribute, isHtmlAttributeAnEventName, isPreventDefault, } from '../shared/utils/event-names';\nimport { EMPTY_ARRAY } from '../shared/utils/flyweight';\nimport { getFileLocationFromJsx } from '../shared/utils/jsx-filename';\nimport { ELEMENT_KEY, FLUSH_COMMENT, QDefaultSlot, QScopedStyle, QSlot, QSlotParent, qwikInspectorAttr, } from '../shared/utils/markers';\nimport { isPromise, retryOnPromise } from '../shared/utils/promises';\nimport { qInspector } from '../shared/utils/qdev';\nimport { addComponentStylePrefix, isClassAttr } from '../shared/utils/scoped-styles';\nimport { serializeAttribute } from '../shared/utils/styles';\nimport { isFunction } from '../shared/utils/types';\nimport { trackSignalAndAssignHost } from '../use/use-core';\nimport { applyInlineComponent, applyQwikComponentBody } from './ssr-render-component';\nclass ParentComponentData {\n    $scopedStyle$;\n    $componentFrame$;\n    constructor($scopedStyle$, $componentFrame$) {\n        this.$scopedStyle$ = $scopedStyle$;\n        this.$componentFrame$ = $componentFrame$;\n    }\n}\nclass MaybeAsyncSignal {\n}\n/** @internal */\nexport async function _walkJSX(ssr, value, options) {\n    const stack = [value];\n    const enqueue = (value) => stack.push(value);\n    const drain = async () => {\n        while (stack.length) {\n            const value = stack.pop();\n            if (value instanceof ParentComponentData) {\n                options.currentStyleScoped = value.$scopedStyle$;\n                options.parentComponentFrame = value.$componentFrame$;\n                continue;\n            }\n            else if (value === MaybeAsyncSignal) {\n                // It could be an async signal, but it is not resolved yet, we need to wait for it.\n                // We could do that in the processJSXNode,\n                // but it will mean that we need to await it there, and it will return a promise.\n                // We probably want to avoid creating a promise for all jsx nodes.\n                const trackFn = stack.pop();\n                await retryOnPromise(() => stack.push(trackFn()));\n                continue;\n            }\n            else if (typeof value === 'function') {\n                if (value === Promise) {\n                    stack.push(await stack.pop());\n                    continue;\n                }\n                await value.apply(ssr);\n                continue;\n            }\n            processJSXNode(ssr, enqueue, value, {\n                styleScoped: options.currentStyleScoped,\n                parentComponentFrame: options.parentComponentFrame,\n            });\n        }\n    };\n    await drain();\n}\nfunction processJSXNode(ssr, enqueue, value, options) {\n    // console.log('processJSXNode', value);\n    if (value === null || value === undefined) {\n        ssr.textNode('');\n    }\n    else if (typeof value === 'boolean') {\n        ssr.textNode('');\n    }\n    else if (typeof value === 'number') {\n        ssr.textNode(String(value));\n    }\n    else if (typeof value === 'string') {\n        ssr.textNode(value);\n    }\n    else if (typeof value === 'object') {\n        if (Array.isArray(value)) {\n            for (let i = value.length - 1; i >= 0; i--) {\n                enqueue(value[i]);\n            }\n        }\n        else if (isSignal(value)) {\n            ssr.openFragment(isDev ? [DEBUG_TYPE, \"S\" /* VirtualType.WrappedSignal */] : EMPTY_ARRAY);\n            const signalNode = ssr.getOrCreateLastNode();\n            const unwrappedSignal = value instanceof WrappedSignalImpl ? value.$unwrapIfSignal$() : value;\n            enqueue(ssr.closeFragment);\n            enqueue(() => trackSignalAndAssignHost(unwrappedSignal, signalNode, \".\" /* EffectProperty.VNODE */, ssr));\n            enqueue(MaybeAsyncSignal);\n        }\n        else if (isPromise(value)) {\n            ssr.openFragment(isDev ? [DEBUG_TYPE, \"A\" /* VirtualType.Awaited */] : EMPTY_ARRAY);\n            enqueue(ssr.closeFragment);\n            enqueue(value);\n            enqueue(Promise);\n            enqueue(() => ssr.commentNode(FLUSH_COMMENT));\n        }\n        else if (isAsyncGenerator(value)) {\n            enqueue(async () => {\n                for await (const chunk of value) {\n                    await _walkJSX(ssr, chunk, {\n                        currentStyleScoped: options.styleScoped,\n                        parentComponentFrame: options.parentComponentFrame,\n                    });\n                    ssr.commentNode(FLUSH_COMMENT);\n                }\n            });\n        }\n        else {\n            const jsx = value;\n            const type = jsx.type;\n            // Below, JSXChildren allows functions and regexes, but we assume the dev only uses those as appropriate.\n            if (typeof type === 'string') {\n                appendClassIfScopedStyleExists(jsx, options.styleScoped);\n                let qwikInspectorAttrValue = null;\n                if (isDev && jsx.dev && jsx.type !== 'head') {\n                    qwikInspectorAttrValue = getFileLocationFromJsx(jsx.dev);\n                    if (qInspector) {\n                        appendQwikInspectorAttribute(jsx, qwikInspectorAttrValue);\n                    }\n                }\n                const innerHTML = ssr.openElement(type, varPropsToSsrAttrs(jsx.varProps, jsx.constProps, {\n                    serializationCtx: ssr.serializationCtx,\n                    styleScopedId: options.styleScoped,\n                    key: jsx.key,\n                    toSort: jsx.toSort,\n                }), constPropsToSsrAttrs(jsx.constProps, jsx.varProps, {\n                    serializationCtx: ssr.serializationCtx,\n                    styleScopedId: options.styleScoped,\n                }), qwikInspectorAttrValue);\n                if (innerHTML) {\n                    ssr.htmlNode(innerHTML);\n                }\n                enqueue(ssr.closeElement);\n                if (type === 'head') {\n                    ssr.emitQwikLoaderAtTopIfNeeded();\n                    ssr.emitPreloaderPre();\n                    enqueue(ssr.additionalHeadNodes);\n                }\n                else if (type === 'body') {\n                    enqueue(ssr.additionalBodyNodes);\n                }\n                else if (!ssr.isHtml && !ssr._didAddQwikLoader) {\n                    ssr.emitQwikLoaderAtTopIfNeeded();\n                    ssr.emitPreloaderPre();\n                    ssr._didAddQwikLoader = true;\n                }\n                const children = jsx.children;\n                children != null && enqueue(children);\n            }\n            else if (isFunction(type)) {\n                if (type === Fragment) {\n                    let attrs = jsx.key != null ? [ELEMENT_KEY, jsx.key] : EMPTY_ARRAY;\n                    if (isDev) {\n                        attrs = [DEBUG_TYPE, \"F\" /* VirtualType.Fragment */, ...attrs]; // Add debug info.\n                    }\n                    ssr.openFragment(attrs);\n                    enqueue(ssr.closeFragment);\n                    // In theory we could get functions or regexes, but we assume all is well\n                    const children = jsx.children;\n                    children != null && enqueue(children);\n                }\n                else if (type === Slot) {\n                    const componentFrame = options.parentComponentFrame || ssr.unclaimedProjectionComponentFrameQueue.shift();\n                    if (componentFrame) {\n                        const compId = componentFrame.componentNode.id || '';\n                        const projectionAttrs = isDev ? [DEBUG_TYPE, \"P\" /* VirtualType.Projection */] : [];\n                        projectionAttrs.push(QSlotParent, compId);\n                        ssr.openProjection(projectionAttrs);\n                        const host = componentFrame.componentNode;\n                        const node = ssr.getOrCreateLastNode();\n                        const slotName = getSlotName(host, jsx, ssr);\n                        projectionAttrs.push(QSlot, slotName);\n                        enqueue(new ParentComponentData(options.styleScoped, options.parentComponentFrame));\n                        enqueue(ssr.closeProjection);\n                        const slotDefaultChildren = jsx.children || null;\n                        const slotChildren = componentFrame.consumeChildrenForSlot(node, slotName) || slotDefaultChildren;\n                        if (slotDefaultChildren && slotChildren !== slotDefaultChildren) {\n                            ssr.addUnclaimedProjection(componentFrame, QDefaultSlot, slotDefaultChildren);\n                        }\n                        enqueue(slotChildren);\n                        enqueue(new ParentComponentData(componentFrame.projectionScopedStyle, componentFrame.projectionComponentFrame));\n                    }\n                    else {\n                        // Even thought we are not projecting we still need to leave a marker for the slot.\n                        ssr.openFragment(isDev ? [DEBUG_TYPE, \"P\" /* VirtualType.Projection */] : EMPTY_ARRAY);\n                        ssr.closeFragment();\n                    }\n                }\n                else if (type === SSRComment) {\n                    ssr.commentNode(directGetPropsProxyProp(jsx, 'data') || '');\n                }\n                else if (type === SSRStream) {\n                    ssr.commentNode(FLUSH_COMMENT);\n                    const generator = jsx.children;\n                    let value;\n                    if (isFunction(generator)) {\n                        value = generator({\n                            async write(chunk) {\n                                await _walkJSX(ssr, chunk, {\n                                    currentStyleScoped: options.styleScoped,\n                                    parentComponentFrame: options.parentComponentFrame,\n                                });\n                                ssr.commentNode(FLUSH_COMMENT);\n                            },\n                        });\n                    }\n                    else {\n                        value = generator;\n                    }\n                    enqueue(value);\n                    isPromise(value) && enqueue(Promise);\n                }\n                else if (type === SSRRaw) {\n                    ssr.htmlNode(directGetPropsProxyProp(jsx, 'data'));\n                }\n                else if (isQwikComponent(type)) {\n                    // prod: use new instance of an array for props, we always modify props for a component\n                    ssr.openComponent(isDev ? [DEBUG_TYPE, \"C\" /* VirtualType.Component */] : []);\n                    const host = ssr.getOrCreateLastNode();\n                    const componentFrame = ssr.getParentComponentFrame();\n                    componentFrame.distributeChildrenIntoSlots(jsx.children, options.styleScoped, options.parentComponentFrame);\n                    const jsxOutput = applyQwikComponentBody(ssr, jsx, type);\n                    const compStyleComponentId = addComponentStylePrefix(host.getProp(QScopedStyle));\n                    enqueue(new ParentComponentData(options.styleScoped, options.parentComponentFrame));\n                    enqueue(ssr.closeComponent);\n                    enqueue(jsxOutput);\n                    isPromise(jsxOutput) && enqueue(Promise);\n                    enqueue(new ParentComponentData(compStyleComponentId, componentFrame));\n                }\n                else {\n                    const inlineComponentProps = [ELEMENT_KEY, jsx.key];\n                    ssr.openFragment(isDev\n                        ? [DEBUG_TYPE, \"I\" /* VirtualType.InlineComponent */, ...inlineComponentProps]\n                        : inlineComponentProps);\n                    enqueue(ssr.closeFragment);\n                    const component = ssr.getComponentFrame(0);\n                    const jsxOutput = applyInlineComponent(ssr, component && component.componentNode, type, jsx);\n                    enqueue(jsxOutput);\n                    isPromise(jsxOutput) && enqueue(Promise);\n                }\n            }\n        }\n    }\n}\nexport function varPropsToSsrAttrs(varProps, constProps, options) {\n    return toSsrAttrs(varProps, options);\n}\nexport function constPropsToSsrAttrs(constProps, varProps, options) {\n    return toSsrAttrs(constProps, options);\n}\nexport function toSsrAttrs(record, options) {\n    if (record == null) {\n        return null;\n    }\n    const ssrAttrs = [];\n    const handleProp = (key, value) => {\n        if (value == null) {\n            return;\n        }\n        if (isHtmlAttributeAnEventName(key)) {\n            const eventValue = setEvent(options.serializationCtx, key, value);\n            if (eventValue) {\n                ssrAttrs.push(key, eventValue);\n            }\n            return;\n        }\n        if (isSignal(value)) {\n            // write signal as is. We will track this signal inside `writeAttrs`\n            if (isClassAttr(key)) {\n                // additionally append styleScopedId for class attr\n                ssrAttrs.push(key, [value, options.styleScopedId]);\n            }\n            else {\n                ssrAttrs.push(key, value);\n            }\n            return;\n        }\n        if (isPreventDefault(key)) {\n            addPreventDefaultEventToSerializationContext(options.serializationCtx, key);\n        }\n        value = serializeAttribute(key, value, options.styleScopedId);\n        ssrAttrs.push(key, value);\n    };\n    if (options.toSort) {\n        const keys = Object.keys(record).sort();\n        for (const key of keys) {\n            handleProp(key, record[key]);\n        }\n    }\n    else {\n        for (const key in record) {\n            handleProp(key, record[key]);\n        }\n    }\n    if (options.key != null) {\n        ssrAttrs.push(ELEMENT_KEY, options.key);\n    }\n    return ssrAttrs;\n}\nfunction setEvent(serializationCtx, key, rawValue) {\n    let value = null;\n    const qrls = rawValue;\n    const appendToValue = (valueToAppend) => {\n        value = (value == null ? '' : value + '\\n') + valueToAppend;\n    };\n    const getQrlString = (qrl) => {\n        /**\n         * If there are captures we need to schedule so everything is executed in the right order + qrls\n         * are resolved.\n         *\n         * For internal qrls (starting with `_`) we assume that they do the right thing.\n         */\n        if (!qrl.$symbol$.startsWith('_') && (qrl.$captureRef$ || qrl.$capture$)) {\n            qrl = createQRL(null, '_run', _run, null, null, [qrl]);\n        }\n        return qrlToString(serializationCtx, qrl);\n    };\n    if (Array.isArray(qrls)) {\n        for (let i = 0; i <= qrls.length; i++) {\n            const qrl = qrls[i];\n            if (isQrl(qrl)) {\n                appendToValue(getQrlString(qrl));\n                addQwikEventToSerializationContext(serializationCtx, key, qrl);\n            }\n            else if (qrl != null) {\n                // nested arrays etc.\n                const nestedValue = setEvent(serializationCtx, key, qrl);\n                if (nestedValue) {\n                    appendToValue(nestedValue);\n                }\n            }\n        }\n    }\n    else if (isQrl(qrls)) {\n        value = getQrlString(qrls);\n        addQwikEventToSerializationContext(serializationCtx, key, qrls);\n    }\n    return value;\n}\nfunction addQwikEventToSerializationContext(serializationCtx, key, qrl) {\n    // TODO extract window/document too so qwikloader can precisely listen\n    const data = getEventDataFromHtmlAttribute(key);\n    if (data) {\n        const eventName = data[1];\n        serializationCtx.$eventNames$.add(eventName);\n        serializationCtx.$eventQrls$.add(qrl);\n    }\n}\nfunction addPreventDefaultEventToSerializationContext(serializationCtx, key) {\n    // skip first 15 chars, this is length of the `preventdefault:`\n    const eventName = key.substring(15);\n    if (eventName) {\n        serializationCtx.$eventNames$.add(eventName);\n    }\n}\nfunction getSlotName(host, jsx, ssr) {\n    const constProps = jsx.constProps;\n    if (constProps && typeof constProps == 'object' && 'name' in constProps) {\n        const constValue = constProps.name;\n        if (constValue instanceof WrappedSignalImpl) {\n            return trackSignalAndAssignHost(constValue, host, \":\" /* EffectProperty.COMPONENT */, ssr);\n        }\n    }\n    return directGetPropsProxyProp(jsx, 'name') || QDefaultSlot;\n}\nfunction appendQwikInspectorAttribute(jsx, qwikInspectorAttrValue) {\n    if (qwikInspectorAttrValue && (!jsx.constProps || !(qwikInspectorAttr in jsx.constProps))) {\n        (jsx.constProps ||= {})[qwikInspectorAttr] = qwikInspectorAttrValue;\n    }\n}\n// append class attribute if styleScopedId exists and there is no class attribute\nfunction appendClassIfScopedStyleExists(jsx, styleScoped) {\n    const classAttributeExists = directGetPropsProxyProp(jsx, 'class') != null;\n    if (!classAttributeExists && styleScoped) {\n        if (!jsx.constProps) {\n            jsx.constProps = {};\n        }\n        jsx.constProps['class'] = '';\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3NyLXJlbmRlci1qc3guanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc3NyL3Nzci1yZW5kZXItanN4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUM3QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDekMsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0saURBQWlELENBQUM7QUFFcEYsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBQ3hELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUM3RCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDckQsT0FBTyxFQUFFLHVCQUF1QixFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDcEUsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBR2pELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBMEIsTUFBTSw0QkFBNEIsQ0FBQztBQUNuRyxPQUFPLEVBQUUsU0FBUyxFQUFvQixNQUFNLHlCQUF5QixDQUFDO0FBQ3RFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUVoRCxPQUFPLEVBQUUsV0FBVyxFQUE2QixNQUFNLHdCQUF3QixDQUFDO0FBQ2hGLE9BQU8sRUFBRSxVQUFVLEVBQWUsTUFBTSxpQkFBaUIsQ0FBQztBQUMxRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUNuRSxPQUFPLEVBQ0wsNkJBQTZCLEVBQzdCLDBCQUEwQixFQUMxQixnQkFBZ0IsR0FDakIsTUFBTSw2QkFBNkIsQ0FBQztBQUNyQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDeEQsT0FBTyxFQUFF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QyxvQkFBb0IsSUFBSSxXQUFXLEVBQUUsQ0FBQztRQUN6QyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQ3BCLEdBQUcsQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO1FBQ3RCLENBQUM7UUFDRCxHQUFHLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUMvQixDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzRGV2IH0gZnJvbSAnQHF3aWsuZGV2L2NvcmUvYnVpbGQnO1xuaW1wb3J0IHsgX3J1biB9IGZyb20gJy4uL2NsaWVudC9ydW4tcXJsJztcbmltcG9ydCB7IFdyYXBwZWRTaWduYWxJbXBsIH0gZnJvbSAnLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy9pbXBsL3dyYXBwZWQtc2lnbmFsLWltcGwnO1xuaW1wb3J0IHsgRWZmZWN0UHJvcGVydHkgfSBmcm9tICcuLi9yZWFjdGl2ZS1wcmltaXRpdmVzL3R5cGVzJztcbmltcG9ydCB7IGlzU2lnbmFsIH0gZnJvbSAnLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy91dGlscyc7XG5pbXBvcnQgeyBpc1F3aWtDb21wb25lbnQgfSBmcm9tICcuLi9zaGFyZWQvY29tcG9uZW50LnB1YmxpYyc7XG5pbXBvcnQgeyBGcmFnbWVudCB9IGZyb20gJy4uL3NoYXJlZC9qc3gvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgZGlyZWN0R2V0UHJvcHNQcm94eVByb3AgfSBmcm9tICcuLi9zaGFyZWQvanN4L3Byb3BzLXByb3h5JztcbmltcG9ydCB7IFNsb3QgfSBmcm9tICcuLi9zaGFyZWQvanN4L3Nsb3QucHVibGljJztcbmltcG9ydCB0eXBlIHsgSlNYTm9kZUludGVybmFsLCBKU1hPdXRwdXQgfSBmcm9tICcuLi9zaGFyZWQvanN4L3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB0eXBlIHsgSlNYQ2hpbGRyZW4gfSBmcm9tICcuLi9zaGFyZWQvanN4L3R5cGVzL2pzeC1xd2lrLWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgU1NSQ29tbWVudCwgU1NSUmF3LCBTU1JTdHJlYW0sIHR5cGUgU1NSU3RyZWFtQ2hpbGRyZW4gfSBmcm9tICcuLi9zaGFyZWQvanN4L3V0aWxzLnB1YmxpYyc7XG5pbXBvcnQgeyBjcmVhdGVRUkwsIHR5cGUgUVJMSW50ZXJuYWwgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC1jbGFzcyc7XG5pbXBvcnQgeyBpc1FybCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsLXV0aWxzJztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi4vc2hhcmVkL3FybC9xcmwucHVibGljJztcbmltcG9ydCB7IHFybFRvU3RyaW5nLCB0eXBlIFNlcmlhbGl6YXRpb25Db250ZXh0IH0gZnJvbSAnLi4vc2hhcmVkL3NlcmRlcy9pbmRleCc7XG5pbXBvcnQgeyBERUJVR19UWVBFLCBWaXJ0dWFsVHlwZSB9IGZyb20gJy4uL3NoYXJlZC90eXBlcyc7XG5pbXBvcnQgeyBpc0FzeW5jR2VuZXJhdG9yIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL2FzeW5jLWdlbmVyYXRvcic7XG5pbXBvcnQge1xuICBnZXRFdmVudERhdGFGcm9tSHRtbEF0dHJpYnV0ZSxcbiAgaXNIdG1sQXR0cmlidXRlQW5FdmVudE5hbWUsXG4gIGlzUHJldmVudERlZmF1bHQsXG59IGZyb20gJy4uL3NoYXJlZC91dGlscy9ldmVudC1uYW1lcyc7XG5pbXBvcnQgeyBFTVBUWV9BUlJBWSB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9mbHl3ZWlnaHQnO1xuaW1wb3J0IHsgZ2V0RmlsZUxvY2F0aW9uRnJvbUpzeCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9qc3gtZmlsZW5hbWUnO1xuaW1wb3J0IHtcbiAgRUxFTUVOVF9LRVksXG4gIEZMVVNIX0NPTU1FTlQsXG4gIFFEZWZhdWx0U2xvdCxcbiAgUVNjb3BlZFN0eWxlLFxuICBRU2xvdCxcbiAgUVNsb3RQYXJlbnQsXG4gIHF3aWtJbnNwZWN0b3JBdHRyLFxufSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvbWFya2Vycyc7XG5pbXBvcnQgeyBpc1Byb21pc2UsIHJldHJ5T25Qcm9taXNlIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL3Byb21pc2VzJztcbmltcG9ydCB7IHFJbnNwZWN0b3IgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvcWRldic7XG5pbXBvcnQgeyBhZGRDb21wb25lbnRTdHlsZVByZWZpeCwgaXNDbGFzc0F0dHIgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvc2NvcGVkLXN0eWxlcyc7XG5pbXBvcnQgeyBzZXJpYWxpemVBdHRyaWJ1dGUgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvc3R5bGVzJztcbmltcG9ydCB7IGlzRnVuY3Rpb24sIHR5cGUgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHsgdHJhY2tTaWduYWxBbmRBc3NpZ25Ib3N0IH0gZnJvbSAnLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB7IGFwcGx5SW5saW5lQ29tcG9uZW50LCBhcHBseVF3aWtDb21wb25lbnRCb2R5IH0gZnJvbSAnLi9zc3ItcmVuZGVyLWNvbXBvbmVudCc7XG5pbXBvcnQgdHlwZSB7IElTc3JDb21wb25lbnRGcmFtZSwgSVNzck5vZGUsIFNTUkNvbnRhaW5lciwgU3NyQXR0cnMgfSBmcm9tICcuL3Nzci10eXBlcyc7XG5cbmNsYXNzIFBhcmVudENvbXBvbmVudERhdGEge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgJHNjb3BlZFN0eWxlJDogc3RyaW5nIHwgbnVsbCxcbiAgICBwdWJsaWMgJGNvbXBvbmVudEZyYW1lJDogSVNzckNvbXBvbmVudEZyYW1lIHwgbnVsbFxuICApIHt9XG59XG5jbGFzcyBNYXliZUFzeW5jU2lnbmFsIHt9XG5cbnR5cGUgU3RhY2tGbiA9ICgpID0+IFZhbHVlT3JQcm9taXNlPHZvaWQ+O1xudHlwZSBTdGFja1ZhbHVlID0gVmFsdWVPclByb21pc2U8XG4gIHwgSlNYT3V0cHV0XG4gIHwgU3RhY2tGblxuICB8IFByb21pc2U8SlNYT3V0cHV0PlxuICB8IHR5cGVvZiBQcm9taXNlXG4gIHwgUGFyZW50Q29tcG9uZW50RGF0YVxuICB8IEFzeW5jR2VuZXJhdG9yXG4gIHwgdHlwZW9mIE1heWJlQXN5bmNTaWduYWxcbj47XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfd2Fsa0pTWChcbiAgc3NyOiBTU1JDb250YWluZXIsXG4gIHZhbHVlOiBKU1hPdXRwdXQsXG4gIG9wdGlvbnM6IHtcbiAgICBjdXJyZW50U3R5bGVTY29wZWQ6IHN0cmluZyB8IG51bGw7XG4gICAgcGFyZW50Q29tcG9uZW50RnJhbWU6IElTc3JDb21wb25lbnRGcmFtZSB8IG51bGw7XG4gIH1cbik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBzdGFjazogU3RhY2tWYWx1ZVtdID0gW3ZhbHVlXTtcbiAgY29uc3QgZW5xdWV1ZSA9ICh2YWx1ZTogU3RhY2tWYWx1ZSkgPT4gc3RhY2sucHVzaCh2YWx1ZSk7XG4gIGNvbnN0IGRyYWluID0gYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIHdoaWxlIChzdGFjay5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gc3RhY2sucG9wKCk7XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBQYXJlbnRDb21wb25lbnREYXRhKSB7XG4gICAgICAgIG9wdGlvbnMuY3VycmVudFN0eWxlU2NvcGVkID0gdmFsdWUuJHNjb3BlZFN0eWxlJDtcbiAgICAgICAgb3B0aW9ucy5wYXJlbnRDb21wb25lbnRGcmFtZSA9IHZhbHVlLiRjb21wb25lbnRGcmFtZSQ7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gTWF5YmVBc3luY1NpZ25hbCkge1xuICAgICAgICAvLyBJdCBjb3VsZCBiZSBhbiBhc3luYyBzaWduYWwsIGJ1dCBpdCBpcyBub3QgcmVzb2x2ZWQgeWV0LCB3ZSBuZWVkIHRvIHdhaXQgZm9yIGl0LlxuICAgICAgICAvLyBXZSBjb3VsZCBkbyB0aGF0IGluIHRoZSBwcm9jZXNzSlNYTm9kZSxcbiAgICAgICAgLy8gYnV0IGl0IHdpbGwgbWVhbiB0aGF0IHdlIG5lZWQgdG8gYXdhaXQgaXQgdGhlcmUsIGFuZCBpdCB3aWxsIHJldHVybiBhIHByb21pc2UuXG4gICAgICAgIC8vIFdlIHByb2JhYmx5IHdhbnQgdG8gYXZvaWQgY3JlYXRpbmcgYSBwcm9taXNlIGZvciBhbGwganN4IG5vZGVzLlxuICAgICAgICBjb25zdCB0cmFja0ZuID0gc3RhY2sucG9wKCkgYXMgKCkgPT4gU3RhY2tWYWx1ZTtcbiAgICAgICAgYXdhaXQgcmV0cnlPblByb21pc2UoKCkgPT4gc3RhY2sucHVzaCh0cmFja0ZuKCkpKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpZiAodmFsdWUgPT09IFByb21pc2UpIHtcbiAgICAgICAgICBzdGFjay5wdXNoKGF3YWl0IChzdGFjay5wb3AoKSBhcyBQcm9taXNlPEpTWE91dHB1dD4pKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCAodmFsdWUgYXMgU3RhY2tGbikuYXBwbHkoc3NyKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBwcm9jZXNzSlNYTm9kZShzc3IsIGVucXVldWUsIHZhbHVlIGFzIEpTWE91dHB1dCwge1xuICAgICAgICBzdHlsZVNjb3BlZDogb3B0aW9ucy5jdXJyZW50U3R5bGVTY29wZWQsXG4gICAgICAgIHBhcmVudENvbXBvbmVudEZyYW1lOiBvcHRpb25zLnBhcmVudENvbXBvbmVudEZyYW1lLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICBhd2FpdCBkcmFpbigpO1xufVxuXG5mdW5jdGlvbiBwcm9jZXNzSlNYTm9kZShcbiAgc3NyOiBTU1JDb250YWluZXIsXG4gIGVucXVldWU6ICh2YWx1ZTogU3RhY2tWYWx1ZSkgPT4gdm9pZCxcbiAgdmFsdWU6IEpTWE91dHB1dCxcbiAgb3B0aW9uczoge1xuICAgIHN0eWxlU2NvcGVkOiBzdHJpbmcgfCBudWxsO1xuICAgIHBhcmVudENvbXBvbmVudEZyYW1lOiBJU3NyQ29tcG9uZW50RnJhbWUgfCBudWxsO1xuICB9XG4pIHtcbiAgLy8gY29uc29sZS5sb2coJ3Byb2Nlc3NKU1hOb2RlJywgdmFsdWUpO1xuICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHNzci50ZXh0Tm9kZSgnJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICBzc3IudGV4dE5vZGUoJycpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICBzc3IudGV4dE5vZGUoU3RyaW5nKHZhbHVlKSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHNzci50ZXh0Tm9kZSh2YWx1ZSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgZm9yIChsZXQgaSA9IHZhbHVlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGVucXVldWUodmFsdWVbaV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNTaWduYWwodmFsdWUpKSB7XG4gICAgICBzc3Iub3BlbkZyYWdtZW50KGlzRGV2ID8gW0RFQlVHX1RZUEUsIFZpcnR1YWxUeXBlLldyYXBwZWRTaWduYWxdIDogRU1QVFlfQVJSQVkpO1xuICAgICAgY29uc3Qgc2lnbmFsTm9kZSA9IHNzci5nZXRPckNyZWF0ZUxhc3ROb2RlKCk7XG4gICAgICBjb25zdCB1bndyYXBwZWRTaWduYWwgPSB2YWx1ZSBpbnN0YW5jZW9mIFdyYXBwZWRTaWduYWxJbXBsID8gdmFsdWUuJHVud3JhcElmU2lnbmFsJCgpIDogdmFsdWU7XG4gICAgICBlbnF1ZXVlKHNzci5jbG9zZUZyYWdtZW50KTtcbiAgICAgIGVucXVldWUoKCkgPT5cbiAgICAgICAgdHJhY2tTaWduYWxBbmRBc3NpZ25Ib3N0KHVud3JhcHBlZFNpZ25hbCwgc2lnbmFsTm9kZSwgRWZmZWN0UHJvcGVydHkuVk5PREUsIHNzcilcbiAgICAgICk7XG4gICAgICBlbnF1ZXVlKE1heWJlQXN5bmNTaWduYWwpO1xuICAgIH0gZWxzZSBpZiAoaXNQcm9taXNlKHZhbHVlKSkge1xuICAgICAgc3NyLm9wZW5GcmFnbWVudChpc0RldiA/IFtERUJVR19UWVBFLCBWaXJ0dWFsVHlwZS5Bd2FpdGVkXSA6IEVNUFRZX0FSUkFZKTtcbiAgICAgIGVucXVldWUoc3NyLmNsb3NlRnJhZ21lbnQpO1xuICAgICAgZW5xdWV1ZSh2YWx1ZSk7XG4gICAgICBlbnF1ZXVlKFByb21pc2UpO1xuICAgICAgZW5xdWV1ZSgoKSA9PiBzc3IuY29tbWVudE5vZGUoRkxVU0hfQ09NTUVOVCkpO1xuICAgIH0gZWxzZSBpZiAoaXNBc3luY0dlbmVyYXRvcih2YWx1ZSkpIHtcbiAgICAgIGVucXVldWUoYXN5bmMgKCkgPT4ge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHZhbHVlKSB7XG4gICAgICAgICAgYXdhaXQgX3dhbGtKU1goc3NyLCBjaHVuayBhcyBKU1hPdXRwdXQsIHtcbiAgICAgICAgICAgIGN1cnJlbnRTdHlsZVNjb3BlZDogb3B0aW9ucy5zdHlsZVNjb3BlZCxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudEZyYW1lOiBvcHRpb25zLnBhcmVudENvbXBvbmVudEZyYW1lLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNzci5jb21tZW50Tm9kZShGTFVTSF9DT01NRU5UKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGpzeCA9IHZhbHVlIGFzIEpTWE5vZGVJbnRlcm5hbDtcbiAgICAgIGNvbnN0IHR5cGUgPSBqc3gudHlwZTtcbiAgICAgIC8vIEJlbG93LCBKU1hDaGlsZHJlbiBhbGxvd3MgZnVuY3Rpb25zIGFuZCByZWdleGVzLCBidXQgd2UgYXNzdW1lIHRoZSBkZXYgb25seSB1c2VzIHRob3NlIGFzIGFwcHJvcHJpYXRlLlxuICAgICAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICBhcHBlbmRDbGFzc0lmU2NvcGVkU3R5bGVFeGlzdHMoanN4LCBvcHRpb25zLnN0eWxlU2NvcGVkKTtcbiAgICAgICAgbGV0IHF3aWtJbnNwZWN0b3JBdHRyVmFsdWU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgICAgICBpZiAoaXNEZXYgJiYganN4LmRldiAmJiBqc3gudHlwZSAhPT0gJ2hlYWQnKSB7XG4gICAgICAgICAgcXdpa0luc3BlY3RvckF0dHJWYWx1ZSA9IGdldEZpbGVMb2NhdGlvbkZyb21Kc3goanN4LmRldik7XG4gICAgICAgICAgaWYgKHFJbnNwZWN0b3IpIHtcbiAgICAgICAgICAgIGFwcGVuZFF3aWtJbnNwZWN0b3JBdHRyaWJ1dGUoanN4LCBxd2lrSW5zcGVjdG9yQXR0clZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbm5lckhUTUwgPSBzc3Iub3BlbkVsZW1lbnQoXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICB2YXJQcm9wc1RvU3NyQXR0cnMoanN4LnZhclByb3BzLCBqc3guY29uc3RQcm9wcywge1xuICAgICAgICAgICAgc2VyaWFsaXphdGlvbkN0eDogc3NyLnNlcmlhbGl6YXRpb25DdHgsXG4gICAgICAgICAgICBzdHlsZVNjb3BlZElkOiBvcHRpb25zLnN0eWxlU2NvcGVkLFxuICAgICAgICAgICAga2V5OiBqc3gua2V5LFxuICAgICAgICAgICAgdG9Tb3J0OiBqc3gudG9Tb3J0LFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGNvbnN0UHJvcHNUb1NzckF0dHJzKGpzeC5jb25zdFByb3BzLCBqc3gudmFyUHJvcHMsIHtcbiAgICAgICAgICAgIHNlcmlhbGl6YXRpb25DdHg6IHNzci5zZXJpYWxpemF0aW9uQ3R4LFxuICAgICAgICAgICAgc3R5bGVTY29wZWRJZDogb3B0aW9ucy5zdHlsZVNjb3BlZCxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBxd2lrSW5zcGVjdG9yQXR0clZhbHVlXG4gICAgICAgICk7XG4gICAgICAgIGlmIChpbm5lckhUTUwpIHtcbiAgICAgICAgICBzc3IuaHRtbE5vZGUoaW5uZXJIVE1MKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVucXVldWUoc3NyLmNsb3NlRWxlbWVudCk7XG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICdoZWFkJykge1xuICAgICAgICAgIHNzci5lbWl0UXdpa0xvYWRlckF0VG9wSWZOZWVkZWQoKTtcbiAgICAgICAgICBzc3IuZW1pdFByZWxvYWRlclByZSgpO1xuICAgICAgICAgIGVucXVldWUoc3NyLmFkZGl0aW9uYWxIZWFkTm9kZXMpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdib2R5Jykge1xuICAgICAgICAgIGVucXVldWUoc3NyLmFkZGl0aW9uYWxCb2R5Tm9kZXMpO1xuICAgICAgICB9IGVsc2UgaWYgKCFzc3IuaXNIdG1sICYmICEoc3NyIGFzIGFueSkuX2RpZEFkZFF3aWtMb2FkZXIpIHtcbiAgICAgICAgICBzc3IuZW1pdFF3aWtMb2FkZXJBdFRvcElmTmVlZGVkKCk7XG4gICAgICAgICAgc3NyLmVtaXRQcmVsb2FkZXJQcmUoKTtcbiAgICAgICAgICAoc3NyIGFzIGFueSkuX2RpZEFkZFF3aWtMb2FkZXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBqc3guY2hpbGRyZW4gYXMgSlNYT3V0cHV0O1xuICAgICAgICBjaGlsZHJlbiAhPSBudWxsICYmIGVucXVldWUoY2hpbGRyZW4pO1xuICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHR5cGUpKSB7XG4gICAgICAgIGlmICh0eXBlID09PSBGcmFnbWVudCkge1xuICAgICAgICAgIGxldCBhdHRycyA9IGpzeC5rZXkgIT0gbnVsbCA/IFtFTEVNRU5UX0tFWSwganN4LmtleV0gOiBFTVBUWV9BUlJBWTtcbiAgICAgICAgICBpZiAoaXNEZXYpIHtcbiAgICAgICAgICAgIGF0dHJzID0gW0RFQlVHX1RZUEUsIFZpcnR1YWxUeXBlLkZyYWdtZW50LCAuLi5hdHRyc107IC8vIEFkZCBkZWJ1ZyBpbmZvLlxuICAgICAgICAgIH1cbiAgICAgICAgICBzc3Iub3BlbkZyYWdtZW50KGF0dHJzKTtcbiAgICAgICAgICBlbnF1ZXVlKHNzci5jbG9zZUZyYWdtZW50KTtcbiAgICAgICAgICAvLyBJbiB0aGVvcnkgd2UgY291bGQgZ2V0IGZ1bmN0aW9ucyBvciByZWdleGVzLCBidXQgd2UgYXNzdW1lIGFsbCBpcyB3ZWxsXG4gICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBqc3guY2hpbGRyZW4gYXMgSlNYT3V0cHV0O1xuICAgICAgICAgIGNoaWxkcmVuICE9IG51bGwgJiYgZW5xdWV1ZShjaGlsZHJlbik7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gU2xvdCkge1xuICAgICAgICAgIGNvbnN0IGNvbXBvbmVudEZyYW1lID1cbiAgICAgICAgICAgIG9wdGlvbnMucGFyZW50Q29tcG9uZW50RnJhbWUgfHwgc3NyLnVuY2xhaW1lZFByb2plY3Rpb25Db21wb25lbnRGcmFtZVF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgaWYgKGNvbXBvbmVudEZyYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wSWQgPSBjb21wb25lbnRGcmFtZS5jb21wb25lbnROb2RlLmlkIHx8ICcnO1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdGlvbkF0dHJzID0gaXNEZXYgPyBbREVCVUdfVFlQRSwgVmlydHVhbFR5cGUuUHJvamVjdGlvbl0gOiBbXTtcbiAgICAgICAgICAgIHByb2plY3Rpb25BdHRycy5wdXNoKFFTbG90UGFyZW50LCBjb21wSWQpO1xuICAgICAgICAgICAgc3NyLm9wZW5Qcm9qZWN0aW9uKHByb2plY3Rpb25BdHRycyk7XG4gICAgICAgICAgICBjb25zdCBob3N0ID0gY29tcG9uZW50RnJhbWUuY29tcG9uZW50Tm9kZTtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBzc3IuZ2V0T3JDcmVhdGVMYXN0Tm9kZSgpO1xuICAgICAgICAgICAgY29uc3Qgc2xvdE5hbWUgPSBnZXRTbG90TmFtZShob3N0LCBqc3gsIHNzcik7XG4gICAgICAgICAgICBwcm9qZWN0aW9uQXR0cnMucHVzaChRU2xvdCwgc2xvdE5hbWUpO1xuXG4gICAgICAgICAgICBlbnF1ZXVlKG5ldyBQYXJlbnRDb21wb25lbnREYXRhKG9wdGlvbnMuc3R5bGVTY29wZWQsIG9wdGlvbnMucGFyZW50Q29tcG9uZW50RnJhbWUpKTtcbiAgICAgICAgICAgIGVucXVldWUoc3NyLmNsb3NlUHJvamVjdGlvbik7XG4gICAgICAgICAgICBjb25zdCBzbG90RGVmYXVsdENoaWxkcmVuOiBKU1hDaGlsZHJlbiB8IG51bGwgPSBqc3guY2hpbGRyZW4gfHwgbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IHNsb3RDaGlsZHJlbiA9XG4gICAgICAgICAgICAgIGNvbXBvbmVudEZyYW1lLmNvbnN1bWVDaGlsZHJlbkZvclNsb3Qobm9kZSwgc2xvdE5hbWUpIHx8IHNsb3REZWZhdWx0Q2hpbGRyZW47XG4gICAgICAgICAgICBpZiAoc2xvdERlZmF1bHRDaGlsZHJlbiAmJiBzbG90Q2hpbGRyZW4gIT09IHNsb3REZWZhdWx0Q2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgc3NyLmFkZFVuY2xhaW1lZFByb2plY3Rpb24oY29tcG9uZW50RnJhbWUsIFFEZWZhdWx0U2xvdCwgc2xvdERlZmF1bHRDaGlsZHJlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbnF1ZXVlKHNsb3RDaGlsZHJlbiBhcyBKU1hPdXRwdXQpO1xuICAgICAgICAgICAgZW5xdWV1ZShcbiAgICAgICAgICAgICAgbmV3IFBhcmVudENvbXBvbmVudERhdGEoXG4gICAgICAgICAgICAgICAgY29tcG9uZW50RnJhbWUucHJvamVjdGlvblNjb3BlZFN0eWxlLFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudEZyYW1lLnByb2plY3Rpb25Db21wb25lbnRGcmFtZVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBFdmVuIHRob3VnaHQgd2UgYXJlIG5vdCBwcm9qZWN0aW5nIHdlIHN0aWxsIG5lZWQgdG8gbGVhdmUgYSBtYXJrZXIgZm9yIHRoZSBzbG90LlxuICAgICAgICAgICAgc3NyLm9wZW5GcmFnbWVudChpc0RldiA/IFtERUJVR19UWVBFLCBWaXJ0dWFsVHlwZS5Qcm9qZWN0aW9uXSA6IEVNUFRZX0FSUkFZKTtcbiAgICAgICAgICAgIHNzci5jbG9zZUZyYWdtZW50KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFNTUkNvbW1lbnQpIHtcbiAgICAgICAgICBzc3IuY29tbWVudE5vZGUoZGlyZWN0R2V0UHJvcHNQcm94eVByb3AoanN4LCAnZGF0YScpIHx8ICcnKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBTU1JTdHJlYW0pIHtcbiAgICAgICAgICBzc3IuY29tbWVudE5vZGUoRkxVU0hfQ09NTUVOVCk7XG4gICAgICAgICAgY29uc3QgZ2VuZXJhdG9yID0ganN4LmNoaWxkcmVuIGFzIFNTUlN0cmVhbUNoaWxkcmVuO1xuICAgICAgICAgIGxldCB2YWx1ZTogQXN5bmNHZW5lcmF0b3IgfCBQcm9taXNlPHZvaWQ+O1xuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGdlbmVyYXRvcikpIHtcbiAgICAgICAgICAgIHZhbHVlID0gZ2VuZXJhdG9yKHtcbiAgICAgICAgICAgICAgYXN5bmMgd3JpdGUoY2h1bmspIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBfd2Fsa0pTWChzc3IsIGNodW5rLCB7XG4gICAgICAgICAgICAgICAgICBjdXJyZW50U3R5bGVTY29wZWQ6IG9wdGlvbnMuc3R5bGVTY29wZWQsXG4gICAgICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnRGcmFtZTogb3B0aW9ucy5wYXJlbnRDb21wb25lbnRGcmFtZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzc3IuY29tbWVudE5vZGUoRkxVU0hfQ09NTUVOVCk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSBnZW5lcmF0b3I7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZW5xdWV1ZSh2YWx1ZSBhcyBTdGFja1ZhbHVlKTtcbiAgICAgICAgICBpc1Byb21pc2UodmFsdWUpICYmIGVucXVldWUoUHJvbWlzZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gU1NSUmF3KSB7XG4gICAgICAgICAgc3NyLmh0bWxOb2RlKGRpcmVjdEdldFByb3BzUHJveHlQcm9wKGpzeCwgJ2RhdGEnKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNRd2lrQ29tcG9uZW50KHR5cGUpKSB7XG4gICAgICAgICAgLy8gcHJvZDogdXNlIG5ldyBpbnN0YW5jZSBvZiBhbiBhcnJheSBmb3IgcHJvcHMsIHdlIGFsd2F5cyBtb2RpZnkgcHJvcHMgZm9yIGEgY29tcG9uZW50XG4gICAgICAgICAgc3NyLm9wZW5Db21wb25lbnQoaXNEZXYgPyBbREVCVUdfVFlQRSwgVmlydHVhbFR5cGUuQ29tcG9uZW50XSA6IFtdKTtcbiAgICAgICAgICBjb25zdCBob3N0ID0gc3NyLmdldE9yQ3JlYXRlTGFzdE5vZGUoKTtcbiAgICAgICAgICBjb25zdCBjb21wb25lbnRGcmFtZSA9IHNzci5nZXRQYXJlbnRDb21wb25lbnRGcmFtZSgpITtcbiAgICAgICAgICBjb21wb25lbnRGcmFtZSEuZGlzdHJpYnV0ZUNoaWxkcmVuSW50b1Nsb3RzKFxuICAgICAgICAgICAganN4LmNoaWxkcmVuLFxuICAgICAgICAgICAgb3B0aW9ucy5zdHlsZVNjb3BlZCxcbiAgICAgICAgICAgIG9wdGlvbnMucGFyZW50Q29tcG9uZW50RnJhbWVcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY29uc3QganN4T3V0cHV0ID0gYXBwbHlRd2lrQ29tcG9uZW50Qm9keShzc3IsIGpzeCwgdHlwZSk7XG4gICAgICAgICAgY29uc3QgY29tcFN0eWxlQ29tcG9uZW50SWQgPSBhZGRDb21wb25lbnRTdHlsZVByZWZpeChob3N0LmdldFByb3AoUVNjb3BlZFN0eWxlKSk7XG4gICAgICAgICAgZW5xdWV1ZShuZXcgUGFyZW50Q29tcG9uZW50RGF0YShvcHRpb25zLnN0eWxlU2NvcGVkLCBvcHRpb25zLnBhcmVudENvbXBvbmVudEZyYW1lKSk7XG4gICAgICAgICAgZW5xdWV1ZShzc3IuY2xvc2VDb21wb25lbnQpO1xuICAgICAgICAgIGVucXVldWUoanN4T3V0cHV0KTtcbiAgICAgICAgICBpc1Byb21pc2UoanN4T3V0cHV0KSAmJiBlbnF1ZXVlKFByb21pc2UpO1xuICAgICAgICAgIGVucXVldWUobmV3IFBhcmVudENvbXBvbmVudERhdGEoY29tcFN0eWxlQ29tcG9uZW50SWQsIGNvbXBvbmVudEZyYW1lKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaW5saW5lQ29tcG9uZW50UHJvcHMgPSBbRUxFTUVOVF9LRVksIGpzeC5rZXldO1xuICAgICAgICAgIHNzci5vcGVuRnJhZ21lbnQoXG4gICAgICAgICAgICBpc0RldlxuICAgICAgICAgICAgICA/IFtERUJVR19UWVBFLCBWaXJ0dWFsVHlwZS5JbmxpbmVDb21wb25lbnQsIC4uLmlubGluZUNvbXBvbmVudFByb3BzXVxuICAgICAgICAgICAgICA6IGlubGluZUNvbXBvbmVudFByb3BzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBlbnF1ZXVlKHNzci5jbG9zZUZyYWdtZW50KTtcbiAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBzc3IuZ2V0Q29tcG9uZW50RnJhbWUoMCk7XG4gICAgICAgICAgY29uc3QganN4T3V0cHV0ID0gYXBwbHlJbmxpbmVDb21wb25lbnQoXG4gICAgICAgICAgICBzc3IsXG4gICAgICAgICAgICBjb21wb25lbnQgJiYgY29tcG9uZW50LmNvbXBvbmVudE5vZGUsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAganN4XG4gICAgICAgICAgKTtcbiAgICAgICAgICBlbnF1ZXVlKGpzeE91dHB1dCk7XG4gICAgICAgICAgaXNQcm9taXNlKGpzeE91dHB1dCkgJiYgZW5xdWV1ZShQcm9taXNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5pbnRlcmZhY2UgU3NyQXR0cnNPcHRpb25zIHtcbiAgc2VyaWFsaXphdGlvbkN0eDogU2VyaWFsaXphdGlvbkNvbnRleHQ7XG4gIHN0eWxlU2NvcGVkSWQ6IHN0cmluZyB8IG51bGw7XG4gIGtleT86IHN0cmluZyB8IG51bGw7XG4gIHRvU29ydD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YXJQcm9wc1RvU3NyQXR0cnMoXG4gIHZhclByb3BzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgY29uc3RQcm9wczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCBudWxsLFxuICBvcHRpb25zOiBTc3JBdHRyc09wdGlvbnNcbik6IFNzckF0dHJzIHwgbnVsbCB7XG4gIHJldHVybiB0b1NzckF0dHJzKHZhclByb3BzLCBvcHRpb25zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnN0UHJvcHNUb1NzckF0dHJzKFxuICBjb25zdFByb3BzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IG51bGwsXG4gIHZhclByb3BzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgb3B0aW9uczogU3NyQXR0cnNPcHRpb25zXG4pOiBTc3JBdHRycyB8IG51bGwge1xuICByZXR1cm4gdG9Tc3JBdHRycyhjb25zdFByb3BzLCBvcHRpb25zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvU3NyQXR0cnMoXG4gIHJlY29yZDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCBudWxsIHwgdW5kZWZpbmVkLFxuICBvcHRpb25zOiBTc3JBdHRyc09wdGlvbnNcbik6IFNzckF0dHJzIHwgbnVsbCB7XG4gIGlmIChyZWNvcmQgPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IHNzckF0dHJzOiBTc3JBdHRycyA9IFtdO1xuICBjb25zdCBoYW5kbGVQcm9wID0gKGtleTogc3RyaW5nLCB2YWx1ZTogdW5rbm93bikgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0h0bWxBdHRyaWJ1dGVBbkV2ZW50TmFtZShrZXkpKSB7XG4gICAgICBjb25zdCBldmVudFZhbHVlID0gc2V0RXZlbnQob3B0aW9ucy5zZXJpYWxpemF0aW9uQ3R4LCBrZXksIHZhbHVlKTtcbiAgICAgIGlmIChldmVudFZhbHVlKSB7XG4gICAgICAgIHNzckF0dHJzLnB1c2goa2V5LCBldmVudFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNTaWduYWwodmFsdWUpKSB7XG4gICAgICAvLyB3cml0ZSBzaWduYWwgYXMgaXMuIFdlIHdpbGwgdHJhY2sgdGhpcyBzaWduYWwgaW5zaWRlIGB3cml0ZUF0dHJzYFxuICAgICAgaWYgKGlzQ2xhc3NBdHRyKGtleSkpIHtcbiAgICAgICAgLy8gYWRkaXRpb25hbGx5IGFwcGVuZCBzdHlsZVNjb3BlZElkIGZvciBjbGFzcyBhdHRyXG4gICAgICAgIHNzckF0dHJzLnB1c2goa2V5LCBbdmFsdWUsIG9wdGlvbnMuc3R5bGVTY29wZWRJZF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3NyQXR0cnMucHVzaChrZXksIHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpc1ByZXZlbnREZWZhdWx0KGtleSkpIHtcbiAgICAgIGFkZFByZXZlbnREZWZhdWx0RXZlbnRUb1NlcmlhbGl6YXRpb25Db250ZXh0KG9wdGlvbnMuc2VyaWFsaXphdGlvbkN0eCwga2V5KTtcbiAgICB9XG5cbiAgICB2YWx1ZSA9IHNlcmlhbGl6ZUF0dHJpYnV0ZShrZXksIHZhbHVlLCBvcHRpb25zLnN0eWxlU2NvcGVkSWQpO1xuXG4gICAgc3NyQXR0cnMucHVzaChrZXksIHZhbHVlIGFzIHN0cmluZyk7XG4gIH07XG4gIGlmIChvcHRpb25zLnRvU29ydCkge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhyZWNvcmQpLnNvcnQoKTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICBoYW5kbGVQcm9wKGtleSwgcmVjb3JkW2tleV0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiByZWNvcmQpIHtcbiAgICAgIGhhbmRsZVByb3Aoa2V5LCByZWNvcmRba2V5XSk7XG4gICAgfVxuICB9XG4gIGlmIChvcHRpb25zLmtleSAhPSBudWxsKSB7XG4gICAgc3NyQXR0cnMucHVzaChFTEVNRU5UX0tFWSwgb3B0aW9ucy5rZXkpO1xuICB9XG4gIHJldHVybiBzc3JBdHRycztcbn1cblxuZnVuY3Rpb24gc2V0RXZlbnQoXG4gIHNlcmlhbGl6YXRpb25DdHg6IFNlcmlhbGl6YXRpb25Db250ZXh0LFxuICBrZXk6IHN0cmluZyxcbiAgcmF3VmFsdWU6IHVua25vd25cbik6IHN0cmluZyB8IG51bGwge1xuICBsZXQgdmFsdWU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBjb25zdCBxcmxzID0gcmF3VmFsdWU7XG5cbiAgY29uc3QgYXBwZW5kVG9WYWx1ZSA9ICh2YWx1ZVRvQXBwZW5kOiBzdHJpbmcpID0+IHtcbiAgICB2YWx1ZSA9ICh2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZSArICdcXG4nKSArIHZhbHVlVG9BcHBlbmQ7XG4gIH07XG4gIGNvbnN0IGdldFFybFN0cmluZyA9IChxcmw6IFFSTEludGVybmFsPHVua25vd24+KSA9PiB7XG4gICAgLyoqXG4gICAgICogSWYgdGhlcmUgYXJlIGNhcHR1cmVzIHdlIG5lZWQgdG8gc2NoZWR1bGUgc28gZXZlcnl0aGluZyBpcyBleGVjdXRlZCBpbiB0aGUgcmlnaHQgb3JkZXIgKyBxcmxzXG4gICAgICogYXJlIHJlc29sdmVkLlxuICAgICAqXG4gICAgICogRm9yIGludGVybmFsIHFybHMgKHN0YXJ0aW5nIHdpdGggYF9gKSB3ZSBhc3N1bWUgdGhhdCB0aGV5IGRvIHRoZSByaWdodCB0aGluZy5cbiAgICAgKi9cbiAgICBpZiAoIXFybC4kc3ltYm9sJC5zdGFydHNXaXRoKCdfJykgJiYgKHFybC4kY2FwdHVyZVJlZiQgfHwgcXJsLiRjYXB0dXJlJCkpIHtcbiAgICAgIHFybCA9IGNyZWF0ZVFSTChudWxsLCAnX3J1bicsIF9ydW4sIG51bGwsIG51bGwsIFtxcmxdKTtcbiAgICB9XG4gICAgcmV0dXJuIHFybFRvU3RyaW5nKHNlcmlhbGl6YXRpb25DdHgsIHFybCk7XG4gIH07XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkocXJscykpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBxcmxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBxcmw6IHVua25vd24gPSBxcmxzW2ldO1xuICAgICAgaWYgKGlzUXJsKHFybCkpIHtcbiAgICAgICAgYXBwZW5kVG9WYWx1ZShnZXRRcmxTdHJpbmcocXJsKSk7XG4gICAgICAgIGFkZFF3aWtFdmVudFRvU2VyaWFsaXphdGlvbkNvbnRleHQoc2VyaWFsaXphdGlvbkN0eCwga2V5LCBxcmwpO1xuICAgICAgfSBlbHNlIGlmIChxcmwgIT0gbnVsbCkge1xuICAgICAgICAvLyBuZXN0ZWQgYXJyYXlzIGV0Yy5cbiAgICAgICAgY29uc3QgbmVzdGVkVmFsdWUgPSBzZXRFdmVudChzZXJpYWxpemF0aW9uQ3R4LCBrZXksIHFybCk7XG4gICAgICAgIGlmIChuZXN0ZWRWYWx1ZSkge1xuICAgICAgICAgIGFwcGVuZFRvVmFsdWUobmVzdGVkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzUXJsKHFybHMpKSB7XG4gICAgdmFsdWUgPSBnZXRRcmxTdHJpbmcocXJscyk7XG4gICAgYWRkUXdpa0V2ZW50VG9TZXJpYWxpemF0aW9uQ29udGV4dChzZXJpYWxpemF0aW9uQ3R4LCBrZXksIHFybHMpO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBhZGRRd2lrRXZlbnRUb1NlcmlhbGl6YXRpb25Db250ZXh0KFxuICBzZXJpYWxpemF0aW9uQ3R4OiBTZXJpYWxpemF0aW9uQ29udGV4dCxcbiAga2V5OiBzdHJpbmcsXG4gIHFybDogUVJMXG4pIHtcbiAgLy8gVE9ETyBleHRyYWN0IHdpbmRvdy9kb2N1bWVudCB0b28gc28gcXdpa2xvYWRlciBjYW4gcHJlY2lzZWx5IGxpc3RlblxuICBjb25zdCBkYXRhID0gZ2V0RXZlbnREYXRhRnJvbUh0bWxBdHRyaWJ1dGUoa2V5KTtcbiAgaWYgKGRhdGEpIHtcbiAgICBjb25zdCBldmVudE5hbWUgPSBkYXRhWzFdO1xuICAgIHNlcmlhbGl6YXRpb25DdHguJGV2ZW50TmFtZXMkLmFkZChldmVudE5hbWUpO1xuICAgIHNlcmlhbGl6YXRpb25DdHguJGV2ZW50UXJscyQuYWRkKHFybCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYWRkUHJldmVudERlZmF1bHRFdmVudFRvU2VyaWFsaXphdGlvbkNvbnRleHQoXG4gIHNlcmlhbGl6YXRpb25DdHg6IFNlcmlhbGl6YXRpb25Db250ZXh0LFxuICBrZXk6IHN0cmluZ1xuKSB7XG4gIC8vIHNraXAgZmlyc3QgMTUgY2hhcnMsIHRoaXMgaXMgbGVuZ3RoIG9mIHRoZSBgcHJldmVudGRlZmF1bHQ6YFxuICBjb25zdCBldmVudE5hbWUgPSBrZXkuc3Vic3RyaW5nKDE1KTtcbiAgaWYgKGV2ZW50TmFtZSkge1xuICAgIHNlcmlhbGl6YXRpb25DdHguJGV2ZW50TmFtZXMkLmFkZChldmVudE5hbWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFNsb3ROYW1lKGhvc3Q6IElTc3JOb2RlLCBqc3g6IEpTWE5vZGVJbnRlcm5hbCwgc3NyOiBTU1JDb250YWluZXIpOiBzdHJpbmcge1xuICBjb25zdCBjb25zdFByb3BzID0ganN4LmNvbnN0UHJvcHM7XG4gIGlmIChjb25zdFByb3BzICYmIHR5cGVvZiBjb25zdFByb3BzID09ICdvYmplY3QnICYmICduYW1lJyBpbiBjb25zdFByb3BzKSB7XG4gICAgY29uc3QgY29uc3RWYWx1ZSA9IGNvbnN0UHJvcHMubmFtZTtcbiAgICBpZiAoY29uc3RWYWx1ZSBpbnN0YW5jZW9mIFdyYXBwZWRTaWduYWxJbXBsKSB7XG4gICAgICByZXR1cm4gdHJhY2tTaWduYWxBbmRBc3NpZ25Ib3N0KGNvbnN0VmFsdWUsIGhvc3QsIEVmZmVjdFByb3BlcnR5LkNPTVBPTkVOVCwgc3NyKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRpcmVjdEdldFByb3BzUHJveHlQcm9wKGpzeCwgJ25hbWUnKSB8fCBRRGVmYXVsdFNsb3Q7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZFF3aWtJbnNwZWN0b3JBdHRyaWJ1dGUoanN4OiBKU1hOb2RlSW50ZXJuYWwsIHF3aWtJbnNwZWN0b3JBdHRyVmFsdWU6IHN0cmluZyB8IG51bGwpIHtcbiAgaWYgKHF3aWtJbnNwZWN0b3JBdHRyVmFsdWUgJiYgKCFqc3guY29uc3RQcm9wcyB8fCAhKHF3aWtJbnNwZWN0b3JBdHRyIGluIGpzeC5jb25zdFByb3BzKSkpIHtcbiAgICAoanN4LmNvbnN0UHJvcHMgfHw9IHt9KVtxd2lrSW5zcGVjdG9yQXR0cl0gPSBxd2lrSW5zcGVjdG9yQXR0clZhbHVlO1xuICB9XG59XG5cbi8vIGFwcGVuZCBjbGFzcyBhdHRyaWJ1dGUgaWYgc3R5bGVTY29wZWRJZCBleGlzdHMgYW5kIHRoZXJlIGlzIG5vIGNsYXNzIGF0dHJpYnV0ZVxuZnVuY3Rpb24gYXBwZW5kQ2xhc3NJZlNjb3BlZFN0eWxlRXhpc3RzKGpzeDogSlNYTm9kZUludGVybmFsLCBzdHlsZVNjb3BlZDogc3RyaW5nIHwgbnVsbCkge1xuICBjb25zdCBjbGFzc0F0dHJpYnV0ZUV4aXN0cyA9IGRpcmVjdEdldFByb3BzUHJveHlQcm9wKGpzeCwgJ2NsYXNzJykgIT0gbnVsbDtcbiAgaWYgKCFjbGFzc0F0dHJpYnV0ZUV4aXN0cyAmJiBzdHlsZVNjb3BlZCkge1xuICAgIGlmICghanN4LmNvbnN0UHJvcHMpIHtcbiAgICAgIGpzeC5jb25zdFByb3BzID0ge307XG4gICAgfVxuICAgIGpzeC5jb25zdFByb3BzWydjbGFzcyddID0gJyc7XG4gIH1cbn1cbiJdfQ==","import { _EFFECT_BACK_REF } from '../../internal';\nimport { getStoreHandler, unwrapStore } from '../../reactive-primitives/impl/store';\nimport { NEEDS_COMPUTATION, } from '../../reactive-primitives/types';\nimport { SERIALIZABLE_STATE } from '../component.public';\nimport { qError } from '../error/error';\nimport { Fragment } from '../jsx/jsx-runtime';\nimport { JSXNodeImpl } from '../jsx/jsx-node';\nimport { _OWNER, _UNINITIALIZED } from '../utils/constants';\nimport { allocate, pendingStoreTargets } from './allocate';\nimport { needsInflation } from './deser-proxy';\nimport { resolvers } from './allocate';\nimport { vnode_getFirstChild, vnode_getText, vnode_isTextVNode, vnode_isVNode, } from '../../client/vnode';\nimport { isString } from '../utils/types';\nexport const inflate = (container, target, typeId, data) => {\n    if (typeId === 0 /* TypeIds.Plain */) {\n        // Already processed\n        return;\n    }\n    // Restore the complex data, special case for Array\n    if (typeId !== 4 /* TypeIds.Array */ && Array.isArray(data)) {\n        data = _eagerDeserializeArray(container, data);\n    }\n    switch (typeId) {\n        case 4 /* TypeIds.Array */:\n            // Arrays are special, we need to fill the array in place\n            _eagerDeserializeArray(container, data, target);\n            break;\n        case 5 /* TypeIds.Object */:\n            if (data === 0) {\n                // Special case, was an empty object\n                break;\n            }\n            for (let i = 0; i < data.length; i += 2) {\n                const key = data[i];\n                const value = data[i + 1];\n                target[key] = value;\n            }\n            break;\n        case 19 /* TypeIds.QRL */:\n        case 20 /* TypeIds.PreloadQRL */:\n            _inflateQRL(container, target);\n            if (typeId === 20 /* TypeIds.PreloadQRL */) {\n                target.resolve();\n            }\n            break;\n        case 21 /* TypeIds.Task */:\n            const task = target;\n            const v = data;\n            task.$qrl$ = v[0];\n            task.$flags$ = v[1];\n            task.$index$ = v[2];\n            task.$el$ = v[3];\n            task[_EFFECT_BACK_REF] = v[4];\n            task.$state$ = v[5];\n            break;\n        case 22 /* TypeIds.Resource */:\n            const [resolved, result, effects] = data;\n            const resource = target;\n            if (resolved) {\n                resource.value = Promise.resolve(result);\n                resource._resolved = result;\n                resource._state = 'resolved';\n            }\n            else {\n                resource.value = Promise.reject(result);\n                resource._error = result;\n                resource._state = 'rejected';\n            }\n            getStoreHandler(target).$effects$ = effects;\n            break;\n        case 23 /* TypeIds.Component */:\n            target[SERIALIZABLE_STATE][0] = data[0];\n            break;\n        case 29 /* TypeIds.Store */: {\n            // Inflate the store target\n            const store = unwrapStore(target);\n            const storeTarget = pendingStoreTargets.get(store);\n            if (storeTarget) {\n                pendingStoreTargets.delete(store);\n                inflate(container, store, storeTarget.t, storeTarget.v);\n            }\n            /**\n             * Note that we don't do anything with the innerstores we added during serialization, because\n             * they are already inflated in the deserialize of the data, above.\n             */\n            const [, flags, effects] = data;\n            const storeHandler = getStoreHandler(target);\n            storeHandler.$flags$ = flags;\n            storeHandler.$effects$ = effects;\n            break;\n        }\n        case 24 /* TypeIds.Signal */: {\n            const signal = target;\n            const d = data;\n            signal.$untrackedValue$ = d[0];\n            signal.$effects$ = new Set(d.slice(1));\n            break;\n        }\n        case 25 /* TypeIds.WrappedSignal */: {\n            const signal = target;\n            const d = data;\n            signal.$func$ = container.getSyncFn(d[0]);\n            signal.$args$ = d[1];\n            signal[_EFFECT_BACK_REF] = d[2];\n            signal.$untrackedValue$ = NEEDS_COMPUTATION;\n            signal.$flags$ = d[3];\n            signal.$flags$ |= 1 /* SignalFlags.INVALID */;\n            signal.$hostElement$ = d[4];\n            signal.$effects$ = new Set(d.slice(5));\n            inflateWrappedSignalValue(signal);\n            break;\n        }\n        case 27 /* TypeIds.AsyncComputedSignal */: {\n            const asyncComputed = target;\n            const d = data;\n            asyncComputed.$computeQrl$ = d[0];\n            asyncComputed.$effects$ = new Set(d[1]);\n            asyncComputed.$loadingEffects$ = new Set(d[2]);\n            asyncComputed.$errorEffects$ = new Set(d[3]);\n            asyncComputed.$untrackedLoading$ = d[4];\n            asyncComputed.$untrackedError$ = d[5] || null;\n            const hasValue = d.length > 6;\n            if (hasValue) {\n                asyncComputed.$untrackedValue$ = d[6];\n            }\n            asyncComputed.$flags$ |= 1 /* SignalFlags.INVALID */;\n            break;\n        }\n        // Inflating a SerializerSignal is the same as inflating a ComputedSignal\n        case 28 /* TypeIds.SerializerSignal */:\n        case 26 /* TypeIds.ComputedSignal */: {\n            const computed = target;\n            const d = data;\n            computed.$computeQrl$ = d[0];\n            computed.$effects$ = new Set(d[1]);\n            const hasValue = d.length > 2;\n            if (hasValue) {\n                computed.$untrackedValue$ = d[2];\n                // The serialized signal is always invalid so it can recreate the custom object\n                if (typeId === 28 /* TypeIds.SerializerSignal */) {\n                    computed.$flags$ |= 1 /* SignalFlags.INVALID */;\n                }\n            }\n            else {\n                computed.$flags$ |= 1 /* SignalFlags.INVALID */;\n                /**\n                 * If we try to compute value and the qrl is not resolved, then system throws an error with\n                 * qrl promise. To prevent that we should early resolve computed qrl while computed\n                 * deserialization. This also prevents anything from firing while computed qrls load,\n                 * because of scheduler\n                 */\n                // try to download qrl in this tick\n                computed.$computeQrl$.resolve();\n                container.$scheduler$(1 /* ChoreType.QRL_RESOLVE */, null, computed.$computeQrl$);\n            }\n            break;\n        }\n        case 14 /* TypeIds.Error */: {\n            const d = data;\n            target.message = d[0];\n            for (let i = 1; i < d.length; i += 2) {\n                target[d[i]] = d[i + 1];\n            }\n            break;\n        }\n        case 30 /* TypeIds.FormData */: {\n            const formData = target;\n            const d = data;\n            for (let i = 0; i < d.length; i++) {\n                formData.append(d[i++], d[i]);\n            }\n            break;\n        }\n        case 31 /* TypeIds.JSXNode */: {\n            const jsx = target;\n            const [type, key, varProps, constProps, children, toSort] = data;\n            jsx.type = type;\n            jsx.key = key;\n            jsx.varProps = varProps;\n            jsx.constProps = constProps || null;\n            jsx.children = children;\n            jsx.toSort = !!toSort;\n            break;\n        }\n        case 16 /* TypeIds.Set */: {\n            const set = target;\n            const d = data;\n            for (let i = 0; i < d.length; i++) {\n                set.add(d[i]);\n            }\n            break;\n        }\n        case 17 /* TypeIds.Map */: {\n            const map = target;\n            const d = data;\n            for (let i = 0; i < d.length; i++) {\n                map.set(d[i++], d[i]);\n            }\n            break;\n        }\n        case 15 /* TypeIds.Promise */: {\n            const promise = target;\n            const [resolved, result] = data;\n            const [resolve, reject] = resolvers.get(promise);\n            if (resolved) {\n                resolve(result);\n            }\n            else {\n                reject(result);\n            }\n            break;\n        }\n        case 18 /* TypeIds.Uint8Array */:\n            const bytes = target;\n            const buf = atob(data);\n            let i = 0;\n            for (const s of buf) {\n                bytes[i++] = s.charCodeAt(0);\n            }\n            break;\n        case 32 /* TypeIds.PropsProxy */:\n            const propsProxy = target;\n            const d = data;\n            let owner = d[0];\n            if (owner === _UNINITIALIZED) {\n                owner = new JSXNodeImpl(Fragment, d[1], d[2]);\n                owner._proxy = propsProxy;\n            }\n            propsProxy[_OWNER] = owner;\n            break;\n        case 33 /* TypeIds.SubscriptionData */: {\n            const effectData = target;\n            effectData.data.$scopedStyleIdPrefix$ = data[0];\n            effectData.data.$isConst$ = data[1];\n            break;\n        }\n        default:\n            throw qError(16 /* QError.serializeErrorNotImplemented */, [typeId]);\n    }\n}; /**\n * Restores an array eagerly. If you need it lazily, use `deserializeData(container, TypeIds.Array,\n * array)` instead\n */\nexport const _eagerDeserializeArray = (container, data, output = Array(data.length / 2)) => {\n    for (let i = 0; i < data.length; i += 2) {\n        output[i / 2] = deserializeData(container, data[i], data[i + 1]);\n    }\n    return output;\n};\nexport function _inflateQRL(container, qrl) {\n    if (qrl.$captureRef$) {\n        // early return if capture references are already set and qrl is already inflated\n        return qrl;\n    }\n    const captureIds = qrl.$capture$;\n    qrl.$captureRef$ = captureIds ? captureIds.map((id) => container.$getObjectById$(id)) : null;\n    // clear serialized capture references\n    qrl.$capture$ = null;\n    if (container.element) {\n        qrl.$setContainer$(container.element);\n    }\n    return qrl;\n}\nexport function deserializeData(container, typeId, value) {\n    if (typeId === 0 /* TypeIds.Plain */) {\n        return value;\n    }\n    const propValue = allocate(container, typeId, value);\n    if (needsInflation(typeId)) {\n        inflate(container, propValue, typeId, value);\n    }\n    return propValue;\n}\nexport function inflateWrappedSignalValue(signal) {\n    if (signal.$hostElement$ !== null && vnode_isVNode(signal.$hostElement$)) {\n        const hostVNode = signal.$hostElement$;\n        const effects = signal.$effects$;\n        let hasAttrValue = false;\n        if (effects) {\n            // Find string keys (attribute names) in the effect back refs\n            for (const [_, key] of effects) {\n                if (isString(key)) {\n                    // This is an attribute name, try to read its value\n                    const attrValue = hostVNode.getAttr(key);\n                    if (attrValue !== null) {\n                        signal.$untrackedValue$ = attrValue;\n                        hasAttrValue = true;\n                        break; // Take first non-null attribute value\n                    }\n                }\n            }\n        }\n        if (!hasAttrValue) {\n            // If no attribute value found, check if this is a text content signal\n            const firstChild = vnode_getFirstChild(hostVNode);\n            if (firstChild &&\n                hostVNode.firstChild === hostVNode.lastChild &&\n                vnode_isTextVNode(firstChild)) {\n                signal.$untrackedValue$ = vnode_getText(firstChild);\n            }\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5mbGF0ZS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvc2VyZGVzL2luZmxhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFJbEQsT0FBTyxFQUFFLGVBQWUsRUFBRSxXQUFXLEVBQUUsTUFBTSxzQ0FBc0MsQ0FBQztBQUdwRixPQUFPLEVBRUwsaUJBQWlCLEdBTWxCLE1BQU0saUNBQWlDLENBQUM7QUFHekMsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDekQsT0FBTyxFQUFFLE1BQU0sRUFBVSxNQUFNLGdCQUFnQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxRQUFRLEVBQVMsTUFBTSxvQkFBb0IsQ0FBQztBQUVyRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFJOUMsT0FBTyxFQUFnQixNQUFNLEVBQUUsY0FBYyxFQUFjLE1BQU0sb0JBQW9CLENBQUM7QUFDdEYsT0FBTyxFQUFFLFFBQVEsRUFBRSxtQkFBbUIsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUMzRCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQy9DLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFFdkMsT0FBTyxFQUNMLG1CQUFtQixFQUNuQixhQUFhLEVBQ2IsaUJBQWlCLEVBQ2pCLGFBQWEsR0FDZCxNQUFNLG9CQUFvQixDQUFDO0FBRTVCLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUUxQyxNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsQ0FDckIsU0FBK0IsRUFDL0IsTUFBZSxFQUNmLE1BQWUsRUFDZixJQUFhLEVBQ1AsRUFBRTtJQUNSLElBQUksTUFBTSwwQkFBa0IsRUFBRSxDQUFDO1FBQzdCLG9CQUFvQjtRQUNwQixP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Q0FBQztRQUVELElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztZQUNsQixzRUFBc0U7WUFDdEUsTUFBTSxVQUFVLEdBQUcsbUJBQW1CLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDbEQsSUFDRSxVQUFVO2dCQUNWLFNBQVMsQ0FBQyxVQUFVLEtBQUssU0FBUyxDQUFDLFNBQVM7Z0JBQzVDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxFQUM3QixDQUFDO2dCQUNELE1BQU0sQ0FBQyxnQkFBZ0IsR0FBRyxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDdEQsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgRG9tQ29udGFpbmVyIH0gZnJvbSAnLi4vLi4vY2xpZW50L2RvbS1jb250YWluZXInO1xuaW1wb3J0IHsgX0VGRkVDVF9CQUNLX1JFRiB9IGZyb20gJy4uLy4uL2ludGVybmFsJztcbmltcG9ydCB0eXBlIHsgQXN5bmNDb21wdXRlZFNpZ25hbEltcGwgfSBmcm9tICcuLi8uLi9yZWFjdGl2ZS1wcmltaXRpdmVzL2ltcGwvYXN5bmMtY29tcHV0ZWQtc2lnbmFsLWltcGwnO1xuaW1wb3J0IHR5cGUgeyBDb21wdXRlZFNpZ25hbEltcGwgfSBmcm9tICcuLi8uLi9yZWFjdGl2ZS1wcmltaXRpdmVzL2ltcGwvY29tcHV0ZWQtc2lnbmFsLWltcGwnO1xuaW1wb3J0IHR5cGUgeyBTaWduYWxJbXBsIH0gZnJvbSAnLi4vLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy9pbXBsL3NpZ25hbC1pbXBsJztcbmltcG9ydCB7IGdldFN0b3JlSGFuZGxlciwgdW53cmFwU3RvcmUgfSBmcm9tICcuLi8uLi9yZWFjdGl2ZS1wcmltaXRpdmVzL2ltcGwvc3RvcmUnO1xuaW1wb3J0IHR5cGUgeyBXcmFwcGVkU2lnbmFsSW1wbCB9IGZyb20gJy4uLy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvaW1wbC93cmFwcGVkLXNpZ25hbC1pbXBsJztcbmltcG9ydCB0eXBlIHsgU3Vic2NyaXB0aW9uRGF0YSB9IGZyb20gJy4uLy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvc3Vic2NyaXB0aW9uLWRhdGEnO1xuaW1wb3J0IHtcbiAgRWZmZWN0UHJvcGVydHksXG4gIE5FRURTX0NPTVBVVEFUSU9OLFxuICBTaWduYWxGbGFncyxcbiAgdHlwZSBBbGxTaWduYWxGbGFncyxcbiAgdHlwZSBBc3luY0NvbXB1dGVRUkwsXG4gIHR5cGUgRWZmZWN0U3Vic2NyaXB0aW9uLFxuICB0eXBlIFN0b3JlRmxhZ3MsXG59IGZyb20gJy4uLy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBSZXNvdXJjZVJldHVybkludGVybmFsIH0gZnJvbSAnLi4vLi4vdXNlL3VzZS1yZXNvdXJjZSc7XG5pbXBvcnQgdHlwZSB7IFRhc2sgfSBmcm9tICcuLi8uLi91c2UvdXNlLXRhc2snO1xuaW1wb3J0IHsgU0VSSUFMSVpBQkxFX1NUQVRFIH0gZnJvbSAnLi4vY29tcG9uZW50LnB1YmxpYyc7XG5pbXBvcnQgeyBxRXJyb3IsIFFFcnJvciB9IGZyb20gJy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IEZyYWdtZW50LCBQcm9wcyB9IGZyb20gJy4uL2pzeC9qc3gtcnVudGltZSc7XG5pbXBvcnQgeyBQcm9wc1Byb3h5IH0gZnJvbSAnLi4vanN4L3Byb3BzLXByb3h5JztcbmltcG9ydCB7IEpTWE5vZGVJbXBsIH0gZnJvbSAnLi4vanN4L2pzeC1ub2RlJztcbmltcG9ydCB0eXBlIHsgUVJMSW50ZXJuYWwgfSBmcm9tICcuLi9xcmwvcXJsLWNsYXNzJztcbmltcG9ydCB0eXBlIHsgRGVzZXJpYWxpemVDb250YWluZXIsIEhvc3RFbGVtZW50IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgQ2hvcmVUeXBlIH0gZnJvbSAnLi4vdXRpbC1jaG9yZS10eXBlJztcbmltcG9ydCB7IF9DT05TVF9QUk9QUywgX09XTkVSLCBfVU5JTklUSUFMSVpFRCwgX1ZBUl9QUk9QUyB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBhbGxvY2F0ZSwgcGVuZGluZ1N0b3JlVGFyZ2V0cyB9IGZyb20gJy4vYWxsb2NhdGUnO1xuaW1wb3J0IHsgbmVlZHNJbmZsYXRpb24gfSBmcm9tICcuL2Rlc2VyLXByb3h5JztcbmltcG9ydCB7IHJlc29sdmVycyB9IGZyb20gJy4vYWxsb2NhdGUnO1xuaW1wb3J0IHsgVHlwZUlkcyB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7XG4gIHZub2RlX2dldEZpcnN0Q2hpbGQsXG4gIHZub2RlX2dldFRleHQsXG4gIHZub2RlX2lzVGV4dFZOb2RlLFxuICB2bm9kZV9pc1ZOb2RlLFxufSBmcm9tICcuLi8uLi9jbGllbnQvdm5vZGUnO1xuaW1wb3J0IHR5cGUgeyBWaXJ0dWFsVk5vZGUgfSBmcm9tICcuLi8uLi9jbGllbnQvdm5vZGUtaW1wbCc7XG5pbXBvcnQgeyBpc1N0cmluZyB9IGZyb20gJy4uL3V0aWxzL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IGluZmxhdGUgPSAoXG4gIGNvbnRhaW5lcjogRGVzZXJpYWxpemVDb250YWluZXIsXG4gIHRhcmdldDogdW5rbm93bixcbiAgdHlwZUlkOiBUeXBlSWRzLFxuICBkYXRhOiB1bmtub3duXG4pOiB2b2lkID0+IHtcbiAgaWYgKHR5cGVJZCA9PT0gVHlwZUlkcy5QbGFpbikge1xuICAgIC8vIEFscmVhZHkgcHJvY2Vzc2VkXG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIFJlc3RvcmUgdGhlIGNvbXBsZXggZGF0YSwgc3BlY2lhbCBjYXNlIGZvciBBcnJheVxuICBpZiAodHlwZUlkICE9PSBUeXBlSWRzLkFycmF5ICYmIEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICBkYXRhID0gX2VhZ2VyRGVzZXJpYWxpemVBcnJheShjb250YWluZXIsIGRhdGEpO1xuICB9XG4gIHN3aXRjaCAodHlwZUlkKSB7XG4gICAgY2FzZSBUeXBlSWRzLkFycmF5OlxuICAgICAgLy8gQXJyYXlzIGFyZSBzcGVjaWFsLCB3ZSBuZWVkIHRvIGZpbGwgdGhlIGFycmF5IGluIHBsYWNlXG4gICAgICBfZWFnZXJEZXNlcmlhbGl6ZUFycmF5KGNvbnRhaW5lciwgZGF0YSBhcyB1bmtub3duW10sIHRhcmdldCBhcyB1bmtub3duW10pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBUeXBlSWRzLk9iamVjdDpcbiAgICAgIGlmIChkYXRhID09PSAwKSB7XG4gICAgICAgIC8vIFNwZWNpYWwgY2FzZSwgd2FzIGFuIGVtcHR5IG9iamVjdFxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgKGRhdGEgYXMgYW55W10pLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IChkYXRhIGFzIHN0cmluZ1tdKVtpXTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSAoZGF0YSBhcyB1bmtub3duW10pW2kgKyAxXTtcbiAgICAgICAgKHRhcmdldCBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBUeXBlSWRzLlFSTDpcbiAgICBjYXNlIFR5cGVJZHMuUHJlbG9hZFFSTDpcbiAgICAgIF9pbmZsYXRlUVJMKGNvbnRhaW5lciwgdGFyZ2V0IGFzIFFSTEludGVybmFsPGFueT4pO1xuICAgICAgaWYgKHR5cGVJZCA9PT0gVHlwZUlkcy5QcmVsb2FkUVJMKSB7XG4gICAgICAgICh0YXJnZXQgYXMgUVJMSW50ZXJuYWw8YW55PikucmVzb2x2ZSgpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBUeXBlSWRzLlRhc2s6XG4gICAgICBjb25zdCB0YXNrID0gdGFyZ2V0IGFzIFRhc2s7XG4gICAgICBjb25zdCB2ID0gZGF0YSBhcyBhbnlbXTtcbiAgICAgIHRhc2suJHFybCQgPSB2WzBdO1xuICAgICAgdGFzay4kZmxhZ3MkID0gdlsxXTtcbiAgICAgIHRhc2suJGluZGV4JCA9IHZbMl07XG4gICAgICB0YXNrLiRlbCQgPSB2WzNdIGFzIEhvc3RFbGVtZW50O1xuICAgICAgdGFza1tfRUZGRUNUX0JBQ0tfUkVGXSA9IHZbNF0gYXMgTWFwPEVmZmVjdFByb3BlcnR5IHwgc3RyaW5nLCBFZmZlY3RTdWJzY3JpcHRpb24+IHwgbnVsbDtcbiAgICAgIHRhc2suJHN0YXRlJCA9IHZbNV07XG4gICAgICBicmVhaztcbiAgICBjYXNlIFR5cGVJZHMuUmVzb3VyY2U6XG4gICAgICBjb25zdCBbcmVzb2x2ZWQsIHJlc3VsdCwgZWZmZWN0c10gPSBkYXRhIGFzIFtib29sZWFuLCB1bmtub3duLCBhbnldO1xuICAgICAgY29uc3QgcmVzb3VyY2UgPSB0YXJnZXQgYXMgUmVzb3VyY2VSZXR1cm5JbnRlcm5hbDx1bmtub3duPjtcbiAgICAgIGlmIChyZXNvbHZlZCkge1xuICAgICAgICByZXNvdXJjZS52YWx1ZSA9IFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICByZXNvdXJjZS5fcmVzb2x2ZWQgPSByZXN1bHQ7XG4gICAgICAgIHJlc291cmNlLl9zdGF0ZSA9ICdyZXNvbHZlZCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvdXJjZS52YWx1ZSA9IFByb21pc2UucmVqZWN0KHJlc3VsdCk7XG4gICAgICAgIHJlc291cmNlLl9lcnJvciA9IHJlc3VsdCBhcyBFcnJvcjtcbiAgICAgICAgcmVzb3VyY2UuX3N0YXRlID0gJ3JlamVjdGVkJztcbiAgICAgIH1cbiAgICAgIGdldFN0b3JlSGFuZGxlcih0YXJnZXQgYXMgb2JqZWN0KSEuJGVmZmVjdHMkID0gZWZmZWN0cztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgVHlwZUlkcy5Db21wb25lbnQ6XG4gICAgICAodGFyZ2V0IGFzIGFueSlbU0VSSUFMSVpBQkxFX1NUQVRFXVswXSA9IChkYXRhIGFzIGFueVtdKVswXTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgVHlwZUlkcy5TdG9yZToge1xuICAgICAgLy8gSW5mbGF0ZSB0aGUgc3RvcmUgdGFyZ2V0XG4gICAgICBjb25zdCBzdG9yZSA9IHVud3JhcFN0b3JlKHRhcmdldCkgYXMgb2JqZWN0O1xuICAgICAgY29uc3Qgc3RvcmVUYXJnZXQgPSBwZW5kaW5nU3RvcmVUYXJnZXRzLmdldChzdG9yZSk7XG4gICAgICBpZiAoc3RvcmVUYXJnZXQpIHtcbiAgICAgICAgcGVuZGluZ1N0b3JlVGFyZ2V0cy5kZWxldGUoc3RvcmUpO1xuICAgICAgICBpbmZsYXRlKGNvbnRhaW5lciwgc3RvcmUsIHN0b3JlVGFyZ2V0LnQsIHN0b3JlVGFyZ2V0LnYpO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBOb3RlIHRoYXQgd2UgZG9uJ3QgZG8gYW55dGhpbmcgd2l0aCB0aGUgaW5uZXJzdG9yZXMgd2UgYWRkZWQgZHVyaW5nIHNlcmlhbGl6YXRpb24sIGJlY2F1c2VcbiAgICAgICAqIHRoZXkgYXJlIGFscmVhZHkgaW5mbGF0ZWQgaW4gdGhlIGRlc2VyaWFsaXplIG9mIHRoZSBkYXRhLCBhYm92ZS5cbiAgICAgICAqL1xuICAgICAgY29uc3QgWywgZmxhZ3MsIGVmZmVjdHNdID0gZGF0YSBhcyB1bmtub3duW107XG4gICAgICBjb25zdCBzdG9yZUhhbmRsZXIgPSBnZXRTdG9yZUhhbmRsZXIodGFyZ2V0IGFzIG9iamVjdCkhO1xuICAgICAgc3RvcmVIYW5kbGVyLiRmbGFncyQgPSBmbGFncyBhcyBTdG9yZUZsYWdzO1xuICAgICAgc3RvcmVIYW5kbGVyLiRlZmZlY3RzJCA9IGVmZmVjdHMgYXMgYW55O1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgVHlwZUlkcy5TaWduYWw6IHtcbiAgICAgIGNvbnN0IHNpZ25hbCA9IHRhcmdldCBhcyBTaWduYWxJbXBsPHVua25vd24+O1xuICAgICAgY29uc3QgZCA9IGRhdGEgYXMgW3Vua25vd24sIC4uLkVmZmVjdFN1YnNjcmlwdGlvbltdXTtcbiAgICAgIHNpZ25hbC4kdW50cmFja2VkVmFsdWUkID0gZFswXTtcbiAgICAgIHNpZ25hbC4kZWZmZWN0cyQgPSBuZXcgU2V0KGQuc2xpY2UoMSkgYXMgRWZmZWN0U3Vic2NyaXB0aW9uW10pO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgVHlwZUlkcy5XcmFwcGVkU2lnbmFsOiB7XG4gICAgICBjb25zdCBzaWduYWwgPSB0YXJnZXQgYXMgV3JhcHBlZFNpZ25hbEltcGw8dW5rbm93bj47XG4gICAgICBjb25zdCBkID0gZGF0YSBhcyBbXG4gICAgICAgIG51bWJlcixcbiAgICAgICAgdW5rbm93bltdLFxuICAgICAgICBNYXA8RWZmZWN0UHJvcGVydHkgfCBzdHJpbmcsIEVmZmVjdFN1YnNjcmlwdGlvbj4gfCBudWxsLFxuICAgICAgICBBbGxTaWduYWxGbGFncyxcbiAgICAgICAgSG9zdEVsZW1lbnQsXG4gICAgICAgIC4uLkVmZmVjdFN1YnNjcmlwdGlvbltdLFxuICAgICAgXTtcbiAgICAgIHNpZ25hbC4kZnVuYyQgPSBjb250YWluZXIuZ2V0U3luY0ZuKGRbMF0pO1xuICAgICAgc2lnbmFsLiRhcmdzJCA9IGRbMV07XG4gICAgICBzaWduYWxbX0VGRkVDVF9CQUNLX1JFRl0gPSBkWzJdO1xuICAgICAgc2lnbmFsLiR1bnRyYWNrZWRWYWx1ZSQgPSBORUVEU19DT01QVVRBVElPTjtcbiAgICAgIHNpZ25hbC4kZmxhZ3MkID0gZFszXTtcbiAgICAgIHNpZ25hbC4kZmxhZ3MkIHw9IFNpZ25hbEZsYWdzLklOVkFMSUQ7XG4gICAgICBzaWduYWwuJGhvc3RFbGVtZW50JCA9IGRbNF07XG4gICAgICBzaWduYWwuJGVmZmVjdHMkID0gbmV3IFNldChkLnNsaWNlKDUpIGFzIEVmZmVjdFN1YnNjcmlwdGlvbltdKTtcblxuICAgICAgaW5mbGF0ZVdyYXBwZWRTaWduYWxWYWx1ZShzaWduYWwpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgVHlwZUlkcy5Bc3luY0NvbXB1dGVkU2lnbmFsOiB7XG4gICAgICBjb25zdCBhc3luY0NvbXB1dGVkID0gdGFyZ2V0IGFzIEFzeW5jQ29tcHV0ZWRTaWduYWxJbXBsPHVua25vd24+O1xuICAgICAgY29uc3QgZCA9IGRhdGEgYXMgW1xuICAgICAgICBBc3luY0NvbXB1dGVRUkw8dW5rbm93bj4sXG4gICAgICAgIEFycmF5PEVmZmVjdFN1YnNjcmlwdGlvbj4gfCBudWxsLFxuICAgICAgICBBcnJheTxFZmZlY3RTdWJzY3JpcHRpb24+IHwgbnVsbCxcbiAgICAgICAgQXJyYXk8RWZmZWN0U3Vic2NyaXB0aW9uPiB8IG51bGwsXG4gICAgICAgIGJvb2xlYW4sXG4gICAgICAgIEVycm9yLFxuICAgICAgICB1bmtub3duPyxcbiAgICAgIF07XG4gICAgICBhc3luY0NvbXB1dGVkLiRjb21wdXRlUXJsJCA9IGRbMF07XG4gICAgICBhc3luY0NvbXB1dGVkLiRlZmZlY3RzJCA9IG5ldyBTZXQoZFsxXSk7XG4gICAgICBhc3luY0NvbXB1dGVkLiRsb2FkaW5nRWZmZWN0cyQgPSBuZXcgU2V0KGRbMl0pO1xuICAgICAgYXN5bmNDb21wdXRlZC4kZXJyb3JFZmZlY3RzJCA9IG5ldyBTZXQoZFszXSk7XG4gICAgICBhc3luY0NvbXB1dGVkLiR1bnRyYWNrZWRMb2FkaW5nJCA9IGRbNF07XG4gICAgICBhc3luY0NvbXB1dGVkLiR1bnRyYWNrZWRFcnJvciQgPSBkWzVdIHx8IG51bGw7XG4gICAgICBjb25zdCBoYXNWYWx1ZSA9IGQubGVuZ3RoID4gNjtcbiAgICAgIGlmIChoYXNWYWx1ZSkge1xuICAgICAgICBhc3luY0NvbXB1dGVkLiR1bnRyYWNrZWRWYWx1ZSQgPSBkWzZdO1xuICAgICAgfVxuICAgICAgYXN5bmNDb21wdXRlZC4kZmxhZ3MkIHw9IFNpZ25hbEZsYWdzLklOVkFMSUQ7XG5cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBJbmZsYXRpbmcgYSBTZXJpYWxpemVyU2lnbmFsIGlzIHRoZSBzYW1lIGFzIGluZmxhdGluZyBhIENvbXB1dGVkU2lnbmFsXG4gICAgY2FzZSBUeXBlSWRzLlNlcmlhbGl6ZXJTaWduYWw6XG4gICAgY2FzZSBUeXBlSWRzLkNvbXB1dGVkU2lnbmFsOiB7XG4gICAgICBjb25zdCBjb21wdXRlZCA9IHRhcmdldCBhcyBDb21wdXRlZFNpZ25hbEltcGw8dW5rbm93bj47XG4gICAgICBjb25zdCBkID0gZGF0YSBhcyBbUVJMSW50ZXJuYWw8KCkgPT4ge30+LCBFZmZlY3RTdWJzY3JpcHRpb25bXSB8IG51bGwsIHVua25vd24/XTtcbiAgICAgIGNvbXB1dGVkLiRjb21wdXRlUXJsJCA9IGRbMF07XG4gICAgICBjb21wdXRlZC4kZWZmZWN0cyQgPSBuZXcgU2V0KGRbMV0pO1xuICAgICAgY29uc3QgaGFzVmFsdWUgPSBkLmxlbmd0aCA+IDI7XG4gICAgICBpZiAoaGFzVmFsdWUpIHtcbiAgICAgICAgY29tcHV0ZWQuJHVudHJhY2tlZFZhbHVlJCA9IGRbMl07XG4gICAgICAgIC8vIFRoZSBzZXJpYWxpemVkIHNpZ25hbCBpcyBhbHdheXMgaW52YWxpZCBzbyBpdCBjYW4gcmVjcmVhdGUgdGhlIGN1c3RvbSBvYmplY3RcbiAgICAgICAgaWYgKHR5cGVJZCA9PT0gVHlwZUlkcy5TZXJpYWxpemVyU2lnbmFsKSB7XG4gICAgICAgICAgY29tcHV0ZWQuJGZsYWdzJCB8PSBTaWduYWxGbGFncy5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wdXRlZC4kZmxhZ3MkIHw9IFNpZ25hbEZsYWdzLklOVkFMSUQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB3ZSB0cnkgdG8gY29tcHV0ZSB2YWx1ZSBhbmQgdGhlIHFybCBpcyBub3QgcmVzb2x2ZWQsIHRoZW4gc3lzdGVtIHRocm93cyBhbiBlcnJvciB3aXRoXG4gICAgICAgICAqIHFybCBwcm9taXNlLiBUbyBwcmV2ZW50IHRoYXQgd2Ugc2hvdWxkIGVhcmx5IHJlc29sdmUgY29tcHV0ZWQgcXJsIHdoaWxlIGNvbXB1dGVkXG4gICAgICAgICAqIGRlc2VyaWFsaXphdGlvbi4gVGhpcyBhbHNvIHByZXZlbnRzIGFueXRoaW5nIGZyb20gZmlyaW5nIHdoaWxlIGNvbXB1dGVkIHFybHMgbG9hZCxcbiAgICAgICAgICogYmVjYXVzZSBvZiBzY2hlZHVsZXJcbiAgICAgICAgICovXG4gICAgICAgIC8vIHRyeSB0byBkb3dubG9hZCBxcmwgaW4gdGhpcyB0aWNrXG4gICAgICAgIGNvbXB1dGVkLiRjb21wdXRlUXJsJC5yZXNvbHZlKCk7XG4gICAgICAgIChjb250YWluZXIgYXMgRG9tQ29udGFpbmVyKS4kc2NoZWR1bGVyJChDaG9yZVR5cGUuUVJMX1JFU09MVkUsIG51bGwsIGNvbXB1dGVkLiRjb21wdXRlUXJsJCk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBUeXBlSWRzLkVycm9yOiB7XG4gICAgICBjb25zdCBkID0gZGF0YSBhcyBzdHJpbmdbXTtcbiAgICAgICh0YXJnZXQgYXMgRXJyb3IpLm1lc3NhZ2UgPSBkWzBdIGFzIHN0cmluZztcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgZC5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAodGFyZ2V0IGFzIGFueSlbZFtpXV0gPSBkW2kgKyAxXTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIFR5cGVJZHMuRm9ybURhdGE6IHtcbiAgICAgIGNvbnN0IGZvcm1EYXRhID0gdGFyZ2V0IGFzIEZvcm1EYXRhO1xuICAgICAgY29uc3QgZCA9IGRhdGEgYXMgYW55W107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKGRbaSsrXSwgZFtpXSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBUeXBlSWRzLkpTWE5vZGU6IHtcbiAgICAgIGNvbnN0IGpzeCA9IHRhcmdldCBhcyBKU1hOb2RlSW1wbDx1bmtub3duPjtcbiAgICAgIGNvbnN0IFt0eXBlLCBrZXksIHZhclByb3BzLCBjb25zdFByb3BzLCBjaGlsZHJlbiwgdG9Tb3J0XSA9IGRhdGEgYXMgYW55W107XG4gICAgICBqc3gudHlwZSA9IHR5cGU7XG4gICAgICBqc3gua2V5ID0ga2V5O1xuICAgICAganN4LnZhclByb3BzID0gdmFyUHJvcHM7XG4gICAgICBqc3guY29uc3RQcm9wcyA9IGNvbnN0UHJvcHMgfHwgbnVsbDtcbiAgICAgIGpzeC5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAganN4LnRvU29ydCA9ICEhdG9Tb3J0O1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgVHlwZUlkcy5TZXQ6IHtcbiAgICAgIGNvbnN0IHNldCA9IHRhcmdldCBhcyBTZXQ8dW5rbm93bj47XG4gICAgICBjb25zdCBkID0gZGF0YSBhcyBhbnlbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZC5sZW5ndGg7IGkrKykge1xuICAgICAgICBzZXQuYWRkKGRbaV0pO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgVHlwZUlkcy5NYXA6IHtcbiAgICAgIGNvbnN0IG1hcCA9IHRhcmdldCBhcyBNYXA8dW5rbm93biwgdW5rbm93bj47XG4gICAgICBjb25zdCBkID0gZGF0YSBhcyBhbnlbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZC5sZW5ndGg7IGkrKykge1xuICAgICAgICBtYXAuc2V0KGRbaSsrXSwgZFtpXSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBUeXBlSWRzLlByb21pc2U6IHtcbiAgICAgIGNvbnN0IHByb21pc2UgPSB0YXJnZXQgYXMgUHJvbWlzZTx1bmtub3duPjtcbiAgICAgIGNvbnN0IFtyZXNvbHZlZCwgcmVzdWx0XSA9IGRhdGEgYXMgW2Jvb2xlYW4sIHVua25vd25dO1xuICAgICAgY29uc3QgW3Jlc29sdmUsIHJlamVjdF0gPSByZXNvbHZlcnMuZ2V0KHByb21pc2UpITtcbiAgICAgIGlmIChyZXNvbHZlZCkge1xuICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWplY3QocmVzdWx0KTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIFR5cGVJZHMuVWludDhBcnJheTpcbiAgICAgIGNvbnN0IGJ5dGVzID0gdGFyZ2V0IGFzIFVpbnQ4QXJyYXk7XG4gICAgICBjb25zdCBidWYgPSBhdG9iKGRhdGEgYXMgc3RyaW5nKTtcbiAgICAgIGxldCBpID0gMDtcbiAgICAgIGZvciAoY29uc3QgcyBvZiBidWYpIHtcbiAgICAgICAgYnl0ZXNbaSsrXSA9IHMuY2hhckNvZGVBdCgwKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgVHlwZUlkcy5Qcm9wc1Byb3h5OlxuICAgICAgY29uc3QgcHJvcHNQcm94eSA9IHRhcmdldCBhcyBQcm9wc1Byb3h5O1xuICAgICAgY29uc3QgZCA9IGRhdGEgYXMgW0pTWE5vZGVJbXBsIHwgdHlwZW9mIF9VTklOSVRJQUxJWkVELCBQcm9wcywgUHJvcHMgfCBudWxsXTtcbiAgICAgIGxldCBvd25lciA9IGRbMF07XG4gICAgICBpZiAob3duZXIgPT09IF9VTklOSVRJQUxJWkVEKSB7XG4gICAgICAgIG93bmVyID0gbmV3IEpTWE5vZGVJbXBsKEZyYWdtZW50LCBkWzFdLCBkWzJdKTtcbiAgICAgICAgb3duZXIuX3Byb3h5ID0gcHJvcHNQcm94eTtcbiAgICAgIH1cbiAgICAgIHByb3BzUHJveHlbX09XTkVSXSA9IG93bmVyO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBUeXBlSWRzLlN1YnNjcmlwdGlvbkRhdGE6IHtcbiAgICAgIGNvbnN0IGVmZmVjdERhdGEgPSB0YXJnZXQgYXMgU3Vic2NyaXB0aW9uRGF0YTtcbiAgICAgIGVmZmVjdERhdGEuZGF0YS4kc2NvcGVkU3R5bGVJZFByZWZpeCQgPSAoZGF0YSBhcyBhbnlbXSlbMF07XG4gICAgICBlZmZlY3REYXRhLmRhdGEuJGlzQ29uc3QkID0gKGRhdGEgYXMgYW55W10pWzFdO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBxRXJyb3IoUUVycm9yLnNlcmlhbGl6ZUVycm9yTm90SW1wbGVtZW50ZWQsIFt0eXBlSWRdKTtcbiAgfVxufTsgLyoqXG4gKiBSZXN0b3JlcyBhbiBhcnJheSBlYWdlcmx5LiBJZiB5b3UgbmVlZCBpdCBsYXppbHksIHVzZSBgZGVzZXJpYWxpemVEYXRhKGNvbnRhaW5lciwgVHlwZUlkcy5BcnJheSxcbiAqIGFycmF5KWAgaW5zdGVhZFxuICovXG5cbmV4cG9ydCBjb25zdCBfZWFnZXJEZXNlcmlhbGl6ZUFycmF5ID0gKFxuICBjb250YWluZXI6IERlc2VyaWFsaXplQ29udGFpbmVyLFxuICBkYXRhOiB1bmtub3duW10sXG4gIG91dHB1dDogdW5rbm93bltdID0gQXJyYXkoZGF0YS5sZW5ndGggLyAyKVxuKTogdW5rbm93bltdID0+IHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgb3V0cHV0W2kgLyAyXSA9IGRlc2VyaWFsaXplRGF0YShjb250YWluZXIsIGRhdGFbaV0gYXMgVHlwZUlkcywgZGF0YVtpICsgMV0pO1xuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIF9pbmZsYXRlUVJMKGNvbnRhaW5lcjogRGVzZXJpYWxpemVDb250YWluZXIsIHFybDogUVJMSW50ZXJuYWw8YW55Pikge1xuICBpZiAocXJsLiRjYXB0dXJlUmVmJCkge1xuICAgIC8vIGVhcmx5IHJldHVybiBpZiBjYXB0dXJlIHJlZmVyZW5jZXMgYXJlIGFscmVhZHkgc2V0IGFuZCBxcmwgaXMgYWxyZWFkeSBpbmZsYXRlZFxuICAgIHJldHVybiBxcmw7XG4gIH1cbiAgY29uc3QgY2FwdHVyZUlkcyA9IHFybC4kY2FwdHVyZSQ7XG4gIHFybC4kY2FwdHVyZVJlZiQgPSBjYXB0dXJlSWRzID8gY2FwdHVyZUlkcy5tYXAoKGlkKSA9PiBjb250YWluZXIuJGdldE9iamVjdEJ5SWQkKGlkKSkgOiBudWxsO1xuICAvLyBjbGVhciBzZXJpYWxpemVkIGNhcHR1cmUgcmVmZXJlbmNlc1xuICBxcmwuJGNhcHR1cmUkID0gbnVsbDtcbiAgaWYgKGNvbnRhaW5lci5lbGVtZW50KSB7XG4gICAgcXJsLiRzZXRDb250YWluZXIkKGNvbnRhaW5lci5lbGVtZW50KTtcbiAgfVxuICByZXR1cm4gcXJsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlc2VyaWFsaXplRGF0YShjb250YWluZXI6IERlc2VyaWFsaXplQ29udGFpbmVyLCB0eXBlSWQ6IG51bWJlciwgdmFsdWU6IHVua25vd24pIHtcbiAgaWYgKHR5cGVJZCA9PT0gVHlwZUlkcy5QbGFpbikge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBjb25zdCBwcm9wVmFsdWUgPSBhbGxvY2F0ZShjb250YWluZXIsIHR5cGVJZCwgdmFsdWUpO1xuICBpZiAobmVlZHNJbmZsYXRpb24odHlwZUlkKSkge1xuICAgIGluZmxhdGUoY29udGFpbmVyLCBwcm9wVmFsdWUsIHR5cGVJZCwgdmFsdWUpO1xuICB9XG4gIHJldHVybiBwcm9wVmFsdWU7XG59XG5leHBvcnQgZnVuY3Rpb24gaW5mbGF0ZVdyYXBwZWRTaWduYWxWYWx1ZShzaWduYWw6IFdyYXBwZWRTaWduYWxJbXBsPHVua25vd24+KSB7XG4gIGlmIChzaWduYWwuJGhvc3RFbGVtZW50JCAhPT0gbnVsbCAmJiB2bm9kZV9pc1ZOb2RlKHNpZ25hbC4kaG9zdEVsZW1lbnQkKSkge1xuICAgIGNvbnN0IGhvc3RWTm9kZSA9IHNpZ25hbC4kaG9zdEVsZW1lbnQkIGFzIFZpcnR1YWxWTm9kZTtcbiAgICBjb25zdCBlZmZlY3RzID0gc2lnbmFsLiRlZmZlY3RzJDtcbiAgICBsZXQgaGFzQXR0clZhbHVlID0gZmFsc2U7XG4gICAgaWYgKGVmZmVjdHMpIHtcbiAgICAgIC8vIEZpbmQgc3RyaW5nIGtleXMgKGF0dHJpYnV0ZSBuYW1lcykgaW4gdGhlIGVmZmVjdCBiYWNrIHJlZnNcbiAgICAgIGZvciAoY29uc3QgW18sIGtleV0gb2YgZWZmZWN0cykge1xuICAgICAgICBpZiAoaXNTdHJpbmcoa2V5KSkge1xuICAgICAgICAgIC8vIFRoaXMgaXMgYW4gYXR0cmlidXRlIG5hbWUsIHRyeSB0byByZWFkIGl0cyB2YWx1ZVxuICAgICAgICAgIGNvbnN0IGF0dHJWYWx1ZSA9IGhvc3RWTm9kZS5nZXRBdHRyKGtleSk7XG4gICAgICAgICAgaWYgKGF0dHJWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc2lnbmFsLiR1bnRyYWNrZWRWYWx1ZSQgPSBhdHRyVmFsdWU7XG4gICAgICAgICAgICBoYXNBdHRyVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7IC8vIFRha2UgZmlyc3Qgbm9uLW51bGwgYXR0cmlidXRlIHZhbHVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFoYXNBdHRyVmFsdWUpIHtcbiAgICAgIC8vIElmIG5vIGF0dHJpYnV0ZSB2YWx1ZSBmb3VuZCwgY2hlY2sgaWYgdGhpcyBpcyBhIHRleHQgY29udGVudCBzaWduYWxcbiAgICAgIGNvbnN0IGZpcnN0Q2hpbGQgPSB2bm9kZV9nZXRGaXJzdENoaWxkKGhvc3RWTm9kZSk7XG4gICAgICBpZiAoXG4gICAgICAgIGZpcnN0Q2hpbGQgJiZcbiAgICAgICAgaG9zdFZOb2RlLmZpcnN0Q2hpbGQgPT09IGhvc3RWTm9kZS5sYXN0Q2hpbGQgJiZcbiAgICAgICAgdm5vZGVfaXNUZXh0Vk5vZGUoZmlyc3RDaGlsZClcbiAgICAgICkge1xuICAgICAgICBzaWduYWwuJHVudHJhY2tlZFZhbHVlJCA9IHZub2RlX2dldFRleHQoZmlyc3RDaGlsZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXX0=","import { vnode_isVNode } from '../../client/vnode';\nimport { isObject } from '../utils/types';\nimport { allocate } from './allocate';\nimport { inflate } from './inflate';\n/** Arrays/Objects are special-cased so their identifiers is a single digit. */\nexport const needsInflation = (typeId) => typeId >= 14 /* TypeIds.Error */ || typeId === 4 /* TypeIds.Array */ || typeId === 5 /* TypeIds.Object */;\nconst deserializedProxyMap = new WeakMap();\nexport const isDeserializerProxy = (value) => {\n    return isObject(value) && SERIALIZER_PROXY_UNWRAP in value;\n};\nexport const SERIALIZER_PROXY_UNWRAP = Symbol('UNWRAP');\n/** Call this on the serialized root state */\nexport const wrapDeserializerProxy = (container, data) => {\n    if (!Array.isArray(data) || // must be an array\n        vnode_isVNode(data) || // and not a VNode or Slot\n        isDeserializerProxy(data) // and not already wrapped\n    ) {\n        return data;\n    }\n    let proxy = deserializedProxyMap.get(data);\n    if (!proxy) {\n        const target = Array(data.length / 2).fill(undefined);\n        proxy = new Proxy(target, new DeserializationHandler(container, data));\n        deserializedProxyMap.set(data, proxy);\n    }\n    return proxy;\n};\nclass DeserializationHandler {\n    $container$;\n    $data$;\n    $length$;\n    constructor($container$, $data$) {\n        this.$container$ = $container$;\n        this.$data$ = $data$;\n        this.$length$ = this.$data$.length / 2;\n    }\n    get(target, property, receiver) {\n        if (property === SERIALIZER_PROXY_UNWRAP) {\n            // Note that this will only be partially filled in\n            return target;\n        }\n        const i = typeof property === 'number'\n            ? property\n            : typeof property === 'string'\n                ? parseInt(property, 10)\n                : NaN;\n        if (Number.isNaN(i) || i < 0 || i >= this.$length$) {\n            return Reflect.get(target, property, receiver);\n        }\n        // The serialized data is an array with 2 values for each item\n        const idx = i * 2;\n        const typeId = this.$data$[idx];\n        const value = this.$data$[idx + 1];\n        if (typeId === 0 /* TypeIds.Plain */) {\n            // The value is already cached\n            return value;\n        }\n        const container = this.$container$;\n        const propValue = allocate(container, typeId, value);\n        Reflect.set(target, property, propValue);\n        this.$data$[idx] = 0 /* TypeIds.Plain */;\n        this.$data$[idx + 1] = propValue;\n        /** We stored the reference, so now we can inflate, allowing cycles */\n        if (needsInflation(typeId)) {\n            inflate(container, propValue, typeId, value);\n        }\n        return propValue;\n    }\n    has(target, property) {\n        if (property === SERIALIZER_PROXY_UNWRAP) {\n            return true;\n        }\n        return Object.prototype.hasOwnProperty.call(target, property);\n    }\n    set(target, property, value, receiver) {\n        if (property === SERIALIZER_PROXY_UNWRAP) {\n            return false;\n        }\n        const out = Reflect.set(target, property, value, receiver);\n        const i = typeof property === 'number' ? property : parseInt(property, 10);\n        if (Number.isNaN(i) || i < 0 || i >= this.$data$.length / 2) {\n            return out;\n        }\n        const idx = i * 2;\n        this.$data$[idx] = 0 /* TypeIds.Plain */;\n        this.$data$[idx + 1] = value;\n        return true;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVzZXItcHJveHkuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL3NlcmRlcy9kZXNlci1wcm94eS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDbkQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzFDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDdEMsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUVwQywrRUFBK0U7QUFDL0UsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLENBQUMsTUFBZSxFQUFFLEVBQUUsQ0FDaEQsTUFBTSwwQkFBaUIsSUFBSSxNQUFNLDBCQUFrQixJQUFJLE1BQU0sMkJBQW1CLENBQUM7QUFDbkYsTUFBTSxvQkFBb0IsR0FBRyxJQUFJLE9BQU8sRUFBcUIsQ0FBQztBQUc5RCxNQUFNLENBQUMsTUFBTSxtQkFBbUIsR0FBRyxDQUFDLEtBQWMsRUFBOEIsRUFBRTtJQUNoRixPQUFPLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSx1QkFBdUIsSUFBSSxLQUFLLENBQUM7QUFDN0QsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sdUJBQXVCLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ3hELDZDQUE2QztBQUM3QyxNQUFNLENBQUMsTUFBTSxxQkFBcUIsR0FBRyxDQUFDLFNBQXVCLEVBQUUsSUFBYSxFQUFhLEVBQUU7SUFDekYsSUFDRSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksbUJBQW1CO1FBQzNDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSwwQkFBMEI7UUFDakQsbUJBQW1CLENBQUMsSUFBSSxDQUFDLENBQUMsMEJBQTBCO01BQ3BELENBQUM7UUFDRCxPQUFPLElBQVcs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LEVBQUUsQ0FBQztZQUN6QyxPQUFPLElBQUksQ0FBQztRQUNkLENBQUM7UUFDRCxPQUFPLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDaEUsQ0FBQztJQUVELEdBQUcsQ0FBQyxNQUFjLEVBQUUsUUFBcUIsRUFBRSxLQUFVLEVBQUUsUUFBZ0I7UUFDckUsSUFBSSxRQUFRLEtBQUssdUJBQXVCLEVBQUUsQ0FBQztZQUN6QyxPQUFPLEtBQUssQ0FBQztRQUNmLENBQUM7UUFDRCxNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQzNELE1BQU0sQ0FBQyxHQUFHLE9BQU8sUUFBUSxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBa0IsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNyRixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDNUQsT0FBTyxHQUFHLENBQUM7UUFDYixDQUFDO1FBQ0QsTUFBTSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNsQixJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyx3QkFBZ0IsQ0FBQztRQUNqQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7UUFDN0IsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUeXBlSWRzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHR5cGUgeyBEb21Db250YWluZXIgfSBmcm9tICcuLi8uLi9jbGllbnQvZG9tLWNvbnRhaW5lcic7XG5pbXBvcnQgeyB2bm9kZV9pc1ZOb2RlIH0gZnJvbSAnLi4vLi4vY2xpZW50L3Zub2RlJztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi4vdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHsgYWxsb2NhdGUgfSBmcm9tICcuL2FsbG9jYXRlJztcbmltcG9ydCB7IGluZmxhdGUgfSBmcm9tICcuL2luZmxhdGUnO1xuXG4vKiogQXJyYXlzL09iamVjdHMgYXJlIHNwZWNpYWwtY2FzZWQgc28gdGhlaXIgaWRlbnRpZmllcnMgaXMgYSBzaW5nbGUgZGlnaXQuICovXG5leHBvcnQgY29uc3QgbmVlZHNJbmZsYXRpb24gPSAodHlwZUlkOiBUeXBlSWRzKSA9PlxuICB0eXBlSWQgPj0gVHlwZUlkcy5FcnJvciB8fCB0eXBlSWQgPT09IFR5cGVJZHMuQXJyYXkgfHwgdHlwZUlkID09PSBUeXBlSWRzLk9iamVjdDtcbmNvbnN0IGRlc2VyaWFsaXplZFByb3h5TWFwID0gbmV3IFdlYWtNYXA8b2JqZWN0LCB1bmtub3duW10+KCk7XG50eXBlIERlc2VyaWFsaXplclByb3h5PFQgZXh0ZW5kcyBvYmplY3QgPSBvYmplY3Q+ID0gVCAmIHsgW1NFUklBTElaRVJfUFJPWFlfVU5XUkFQXTogb2JqZWN0IH07XG5cbmV4cG9ydCBjb25zdCBpc0Rlc2VyaWFsaXplclByb3h5ID0gKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgRGVzZXJpYWxpemVyUHJveHkgPT4ge1xuICByZXR1cm4gaXNPYmplY3QodmFsdWUpICYmIFNFUklBTElaRVJfUFJPWFlfVU5XUkFQIGluIHZhbHVlO1xufTtcblxuZXhwb3J0IGNvbnN0IFNFUklBTElaRVJfUFJPWFlfVU5XUkFQID0gU3ltYm9sKCdVTldSQVAnKTtcbi8qKiBDYWxsIHRoaXMgb24gdGhlIHNlcmlhbGl6ZWQgcm9vdCBzdGF0ZSAqL1xuZXhwb3J0IGNvbnN0IHdyYXBEZXNlcmlhbGl6ZXJQcm94eSA9IChjb250YWluZXI6IERvbUNvbnRhaW5lciwgZGF0YTogdW5rbm93bik6IHVua25vd25bXSA9PiB7XG4gIGlmIChcbiAgICAhQXJyYXkuaXNBcnJheShkYXRhKSB8fCAvLyBtdXN0IGJlIGFuIGFycmF5XG4gICAgdm5vZGVfaXNWTm9kZShkYXRhKSB8fCAvLyBhbmQgbm90IGEgVk5vZGUgb3IgU2xvdFxuICAgIGlzRGVzZXJpYWxpemVyUHJveHkoZGF0YSkgLy8gYW5kIG5vdCBhbHJlYWR5IHdyYXBwZWRcbiAgKSB7XG4gICAgcmV0dXJuIGRhdGEgYXMgYW55O1xuICB9XG4gIGxldCBwcm94eSA9IGRlc2VyaWFsaXplZFByb3h5TWFwLmdldChkYXRhKTtcbiAgaWYgKCFwcm94eSkge1xuICAgIGNvbnN0IHRhcmdldCA9IEFycmF5KGRhdGEubGVuZ3RoIC8gMikuZmlsbCh1bmRlZmluZWQpO1xuICAgIHByb3h5ID0gbmV3IFByb3h5KHRhcmdldCwgbmV3IERlc2VyaWFsaXphdGlvbkhhbmRsZXIoY29udGFpbmVyLCBkYXRhKSkgYXMgdW5rbm93bltdO1xuICAgIGRlc2VyaWFsaXplZFByb3h5TWFwLnNldChkYXRhLCBwcm94eSk7XG4gIH1cbiAgcmV0dXJuIHByb3h5O1xufTtcbmNsYXNzIERlc2VyaWFsaXphdGlvbkhhbmRsZXIgaW1wbGVtZW50cyBQcm94eUhhbmRsZXI8b2JqZWN0PiB7XG4gIHB1YmxpYyAkbGVuZ3RoJDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyAkY29udGFpbmVyJDogRG9tQ29udGFpbmVyLFxuICAgIHB1YmxpYyAkZGF0YSQ6IHVua25vd25bXVxuICApIHtcbiAgICB0aGlzLiRsZW5ndGgkID0gdGhpcy4kZGF0YSQubGVuZ3RoIC8gMjtcbiAgfVxuXG4gIGdldCh0YXJnZXQ6IHVua25vd25bXSwgcHJvcGVydHk6IFByb3BlcnR5S2V5LCByZWNlaXZlcjogb2JqZWN0KSB7XG4gICAgaWYgKHByb3BlcnR5ID09PSBTRVJJQUxJWkVSX1BST1hZX1VOV1JBUCkge1xuICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgd2lsbCBvbmx5IGJlIHBhcnRpYWxseSBmaWxsZWQgaW5cbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIGNvbnN0IGkgPVxuICAgICAgdHlwZW9mIHByb3BlcnR5ID09PSAnbnVtYmVyJ1xuICAgICAgICA/IHByb3BlcnR5XG4gICAgICAgIDogdHlwZW9mIHByb3BlcnR5ID09PSAnc3RyaW5nJ1xuICAgICAgICAgID8gcGFyc2VJbnQocHJvcGVydHkgYXMgc3RyaW5nLCAxMClcbiAgICAgICAgICA6IE5hTjtcbiAgICBpZiAoTnVtYmVyLmlzTmFOKGkpIHx8IGkgPCAwIHx8IGkgPj0gdGhpcy4kbGVuZ3RoJCkge1xuICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKTtcbiAgICB9XG4gICAgLy8gVGhlIHNlcmlhbGl6ZWQgZGF0YSBpcyBhbiBhcnJheSB3aXRoIDIgdmFsdWVzIGZvciBlYWNoIGl0ZW1cbiAgICBjb25zdCBpZHggPSBpICogMjtcbiAgICBjb25zdCB0eXBlSWQgPSB0aGlzLiRkYXRhJFtpZHhdIGFzIG51bWJlcjtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuJGRhdGEkW2lkeCArIDFdO1xuICAgIGlmICh0eXBlSWQgPT09IFR5cGVJZHMuUGxhaW4pIHtcbiAgICAgIC8vIFRoZSB2YWx1ZSBpcyBhbHJlYWR5IGNhY2hlZFxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuJGNvbnRhaW5lciQ7XG4gICAgY29uc3QgcHJvcFZhbHVlID0gYWxsb2NhdGUoY29udGFpbmVyLCB0eXBlSWQsIHZhbHVlKTtcblxuICAgIFJlZmxlY3Quc2V0KHRhcmdldCwgcHJvcGVydHksIHByb3BWYWx1ZSk7XG4gICAgdGhpcy4kZGF0YSRbaWR4XSA9IFR5cGVJZHMuUGxhaW47XG4gICAgdGhpcy4kZGF0YSRbaWR4ICsgMV0gPSBwcm9wVmFsdWU7XG5cbiAgICAvKiogV2Ugc3RvcmVkIHRoZSByZWZlcmVuY2UsIHNvIG5vdyB3ZSBjYW4gaW5mbGF0ZSwgYWxsb3dpbmcgY3ljbGVzICovXG4gICAgaWYgKG5lZWRzSW5mbGF0aW9uKHR5cGVJZCkpIHtcbiAgICAgIGluZmxhdGUoY29udGFpbmVyLCBwcm9wVmFsdWUsIHR5cGVJZCwgdmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9wVmFsdWU7XG4gIH1cblxuICBoYXModGFyZ2V0OiBvYmplY3QsIHByb3BlcnR5OiBQcm9wZXJ0eUtleSkge1xuICAgIGlmIChwcm9wZXJ0eSA9PT0gU0VSSUFMSVpFUl9QUk9YWV9VTldSQVApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwgcHJvcGVydHkpO1xuICB9XG5cbiAgc2V0KHRhcmdldDogb2JqZWN0LCBwcm9wZXJ0eTogUHJvcGVydHlLZXksIHZhbHVlOiBhbnksIHJlY2VpdmVyOiBvYmplY3QpIHtcbiAgICBpZiAocHJvcGVydHkgPT09IFNFUklBTElaRVJfUFJPWFlfVU5XUkFQKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IG91dCA9IFJlZmxlY3Quc2V0KHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCByZWNlaXZlcik7XG4gICAgY29uc3QgaSA9IHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ251bWJlcicgPyBwcm9wZXJ0eSA6IHBhcnNlSW50KHByb3BlcnR5IGFzIHN0cmluZywgMTApO1xuICAgIGlmIChOdW1iZXIuaXNOYU4oaSkgfHwgaSA8IDAgfHwgaSA+PSB0aGlzLiRkYXRhJC5sZW5ndGggLyAyKSB7XG4gICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICBjb25zdCBpZHggPSBpICogMjtcbiAgICB0aGlzLiRkYXRhJFtpZHhdID0gVHlwZUlkcy5QbGFpbjtcbiAgICB0aGlzLiRkYXRhJFtpZHggKyAxXSA9IHZhbHVlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG4iXX0=","// NOTE: we want to move this function to qwikloader, and therefore this function should not have any external dependencies\nimport { VNodeDataChar, VNodeDataSeparator } from '../shared/vnode-data-types';\n/**\n * Process the VNodeData script tags and store the VNodeData in the VNodeDataMap.\n *\n * The end result of this function is that each DOM element has the associated `VNodeData` attached\n * to it, to be used later `VNode` materialization. The \"attachment\" is done through the\n * `VNodeDataMap`.\n *\n * Run this function on startup to process the `<script type=\"qwik/vnode\">` tags. The data in the\n * tags needs to be parsed and attached to the DOM elements. (We do this through `VNodeDataMap`)\n * `VNodeDataMap` is then used to lazily materialize the VNodes.\n *\n * Only one invocation of this function is needed per document/browser session.\n *\n * Below is an example of the kinds of constructs which need to be handled when dealing with\n * VNodeData deserialization.\n *\n * ```\n * <html q:container=\"paused\">\n *   <body>\n *     <div q:container=\"paused\">\n *       <script type=\"qwik/vnode\">...</script>\n *     </div>\n *     <div q:container=\"html\">...</div>\n *     before\n *     <!--q:container=ABC-->\n *     ...\n *     <!--/q:container-->\n *     after\n *     <!--q:ignore=FOO-->\n *     ...\n *        <!--q:container-island=BAR-->\n *        <div>some interactive island</div>\n *        <!--/q:container-island-->\n *     ...\n *     <!--/q:ignore-->\n *     <textarea q:container=\"text\">...</textarea>\n *     <script type=\"qwik/vnode\">...</script>\n *   </body>\n * </html>\n * ```\n *\n * Each `qwik/vnode` script assumes that the elements are numbered in depth first order. For this\n * reason, whenever the `processVNodeData` comes across a `q:container` it must ignore its\n * children.\n *\n * IMPLEMENTATION:\n *\n * - Stack to keep track of the current `q:container` being processed.\n * - Attach all `qwik/vnode` scripts (not the data contain within them) to the `q:container` element.\n * - Walk the tree and process each `q:container` element.\n */\nexport function processVNodeData(document) {\n    const Q_CONTAINER = 'q:container';\n    const Q_CONTAINER_END = '/' + Q_CONTAINER;\n    const Q_PROPS_SEPARATOR = ':';\n    const Q_SHADOW_ROOT = 'q:shadowroot';\n    const Q_IGNORE = 'q:ignore';\n    const Q_IGNORE_END = '/' + Q_IGNORE;\n    const Q_CONTAINER_ISLAND = 'q:container-island';\n    const Q_CONTAINER_ISLAND_END = '/' + Q_CONTAINER_ISLAND;\n    const qDocument = document;\n    const vNodeDataMap = qDocument.qVNodeData || (qDocument.qVNodeData = new WeakMap());\n    const prototype = document.body;\n    const getter = (prototype, name) => {\n        let getter;\n        while (prototype && !(getter = Object.getOwnPropertyDescriptor(prototype, name)?.get)) {\n            prototype = Object.getPrototypeOf(prototype);\n        }\n        return (getter ||\n            function () {\n                return this[name];\n            });\n    };\n    const getAttribute = prototype.getAttribute;\n    const hasAttribute = prototype.hasAttribute;\n    const getNodeType = getter(prototype, 'nodeType');\n    // Process all of the `qwik/vnode` script tags by attaching them to the corresponding containers.\n    const attachVnodeDataAndRefs = (element) => {\n        Array.from(element.querySelectorAll('script[type=\"qwik/vnode\"]')).forEach((script) => {\n            script.setAttribute('type', 'x-qwik/vnode');\n            const qContainerElement = script.closest('[q\\\\:container]');\n            qContainerElement.qVnodeData = script.textContent;\n            qContainerElement.qVNodeRefs = new Map();\n        });\n        element.querySelectorAll('[q\\\\:shadowroot]').forEach((parent) => {\n            const shadowRoot = parent.shadowRoot;\n            shadowRoot && attachVnodeDataAndRefs(shadowRoot);\n        });\n    };\n    attachVnodeDataAndRefs(document);\n    /**\n     * Looks up which type of node this is in a monomorphic way which should be faster.\n     *\n     * See: https://mhevery.github.io/perf-tests/DOM-megamorphic.html\n     */\n    const getFastNodeType = (node) => {\n        const nodeType = getNodeType.call(node);\n        if (nodeType === 1 /* Node.ELEMENT_NODE */) {\n            const qContainer = getAttribute.call(node, Q_CONTAINER);\n            if (qContainer === null) {\n                if (hasAttribute.call(node, Q_SHADOW_ROOT)) {\n                    return 6 /* NodeType.ELEMENT_SHADOW_ROOT_WRAPPER */;\n                }\n                const isQElement = hasAttribute.call(node, Q_PROPS_SEPARATOR);\n                return isQElement ? 2 /* NodeType.ELEMENT */ : 0 /* NodeType.OTHER */;\n            }\n            else {\n                return 3 /* NodeType.ELEMENT_CONTAINER */;\n            }\n        }\n        else if (nodeType === 8 /* Node.COMMENT_NODE */) {\n            const nodeValue = node.nodeValue || ''; // nodeValue is monomorphic so it does not need fast path\n            if (nodeValue.startsWith(Q_CONTAINER_ISLAND)) {\n                return 65 /* NodeType.COMMENT_ISLAND_START */;\n            }\n            else if (nodeValue.startsWith(Q_IGNORE)) {\n                return 16 /* NodeType.COMMENT_IGNORE_START */;\n            }\n            else if (nodeValue.startsWith(Q_CONTAINER)) {\n                return 9 /* NodeType.COMMENT_SKIP_START */;\n            }\n            else if (nodeValue.startsWith(Q_CONTAINER_ISLAND_END)) {\n                return 64 /* NodeType.COMMENT_ISLAND_END */;\n            }\n            else if (nodeValue.startsWith(Q_IGNORE_END)) {\n                return 32 /* NodeType.COMMENT_IGNORE_END */;\n            }\n            else if (nodeValue.startsWith(Q_CONTAINER_END)) {\n                return 8 /* NodeType.COMMENT_SKIP_END */;\n            }\n        }\n        return 0 /* NodeType.OTHER */;\n    };\n    const isSeparator = (ch) => \n    /* `!` */ VNodeDataSeparator.ADVANCE_1 <= ch && ch <= VNodeDataSeparator.ADVANCE_8192; /* `.` */\n    /**\n     * Given the `vData` string, `start` index, and `end` index, find the end of the VNodeData\n     * section.\n     */\n    const findVDataSectionEnd = (vData, start, end) => {\n        let depth = 0;\n        while (true) {\n            // look for the end of VNodeData\n            if (start < end) {\n                const ch = vData.charCodeAt(start);\n                if (depth === 0 && isSeparator(ch)) {\n                    break;\n                }\n                else {\n                    if (ch === VNodeDataChar.OPEN) {\n                        depth++;\n                    }\n                    else if (ch === VNodeDataChar.CLOSE) {\n                        depth--;\n                    }\n                    start++;\n                }\n            }\n            else {\n                break;\n            }\n        }\n        return start;\n    };\n    const nextSibling = (node) => {\n        // eslint-disable-next-line no-empty\n        while (node && (node = node.nextSibling) && getFastNodeType(node) === 0 /* NodeType.OTHER */) { }\n        return node;\n    };\n    /**\n     * Process the container\n     *\n     * @param walker TreeWalker\n     * @param containerNode The root of container element\n     * @param exitNode The node which represents the last node and we should exit.\n     * @param qVNodeRefs Place to store the VNodeRefs\n     */\n    const walkContainer = (walker, containerNode, node, exitNode, vData, qVNodeRefs, prefix) => {\n        const vData_length = vData.length;\n        /// Stores the current element index as the TreeWalker traverses the DOM.\n        let elementIdx = 0;\n        /// Stores the current VNode index as derived from the VNodeData script tag.\n        let vNodeElementIndex = -1;\n        let vData_start = 0;\n        let vData_end = 0;\n        let ch = 0;\n        let needsToStoreRef = -1;\n        let nextNode = null;\n        /** Computes number of elements which need to be skipped to get to the next VNodeData section. */\n        const howManyElementsToSkip = () => {\n            let elementsToSkip = 0;\n            while (isSeparator((ch = vData.charCodeAt(vData_start)))) {\n                // Keep consuming the separators and incrementing the vNodeIndex\n                // console.log('ADVANCE', vNodeElementIndex, ch, ch - 33);\n                elementsToSkip += 1 << (ch - VNodeDataSeparator.ADVANCE_1);\n                vData_start++;\n                if (vData_start >= vData_length) {\n                    // we reached the end of the vNodeData stop.\n                    break;\n                }\n            }\n            return elementsToSkip;\n        };\n        do {\n            if (node === exitNode) {\n                return;\n            }\n            nextNode = null;\n            const nodeType = node == containerNode ? 2 /* NodeType.ELEMENT */ : getFastNodeType(node);\n            if (nodeType === 3 /* NodeType.ELEMENT_CONTAINER */) {\n                // If we are in a container, we need to skip the children.\n                const container = node;\n                let cursor = node;\n                while (cursor && !(nextNode = nextSibling(cursor))) {\n                    cursor = cursor.parentNode;\n                }\n                // console.log('EXIT', nextNode?.outerHTML);\n                walkContainer(walker, container, node, nextNode, container.qVnodeData || '', container.qVNodeRefs, prefix + '  ');\n            }\n            else if (nodeType === 16 /* NodeType.COMMENT_IGNORE_START */) {\n                let islandNode = node;\n                do {\n                    islandNode = walker.nextNode();\n                    if (!islandNode) {\n                        throw new Error(`Island inside <!--${node?.nodeValue}--> not found!`);\n                    }\n                } while (getFastNodeType(islandNode) !== 65 /* NodeType.COMMENT_ISLAND_START */);\n                nextNode = null;\n            }\n            else if (nodeType === 64 /* NodeType.COMMENT_ISLAND_END */) {\n                nextNode = node;\n                do {\n                    nextNode = walker.nextNode();\n                    if (!nextNode) {\n                        throw new Error(`Ignore block not closed!`);\n                    }\n                } while (getFastNodeType(nextNode) !== 32 /* NodeType.COMMENT_IGNORE_END */);\n                nextNode = null;\n            }\n            else if (nodeType === 9 /* NodeType.COMMENT_SKIP_START */) {\n                // If we are in a container, we need to skip the children.\n                nextNode = node;\n                do {\n                    nextNode = nextSibling(nextNode);\n                    if (!nextNode) {\n                        throw new Error(`<!--${node?.nodeValue}--> not closed!`);\n                    }\n                } while (getFastNodeType(nextNode) !== 8 /* NodeType.COMMENT_SKIP_END */);\n                // console.log('EXIT', nextNode?.outerHTML);\n                walkContainer(walker, node, node, nextNode, '', null, prefix + '  ');\n            }\n            else if (nodeType === 6 /* NodeType.ELEMENT_SHADOW_ROOT_WRAPPER */) {\n                // If we are in a shadow root, we need to get the shadow root element.\n                nextNode = nextSibling(node);\n                const shadowRootContainer = node;\n                const shadowRoot = shadowRootContainer?.shadowRoot;\n                if (shadowRoot) {\n                    walkContainer(\n                    // we need to create a new walker for the shadow root\n                    document.createTreeWalker(shadowRoot, 0x1 /* NodeFilter.SHOW_ELEMENT  */ | 0x80 /*  NodeFilter.SHOW_COMMENT */), null, shadowRoot, null, '', null, prefix + '  ');\n                }\n            }\n            if ((nodeType & 2 /* NodeType.ELEMENT */) === 2 /* NodeType.ELEMENT */) {\n                if (vNodeElementIndex < elementIdx) {\n                    // VNodeData needs to catch up with the elementIdx\n                    if (vNodeElementIndex === -1) {\n                        vNodeElementIndex = 0;\n                    }\n                    vData_start = vData_end;\n                    if (vData_start < vData_length) {\n                        vNodeElementIndex += howManyElementsToSkip();\n                        const shouldStoreRef = ch === VNodeDataSeparator.REFERENCE;\n                        if (shouldStoreRef) {\n                            // if we need to store the ref handle it here.\n                            needsToStoreRef = vNodeElementIndex;\n                            vData_start++;\n                            if (vData_start < vData_length) {\n                                ch = vData.charCodeAt(vData_end);\n                            }\n                            else {\n                                // assume separator on end.\n                                ch = VNodeDataSeparator.ADVANCE_1;\n                            }\n                        }\n                        vData_end = findVDataSectionEnd(vData, vData_start, vData_length);\n                    }\n                    else {\n                        vNodeElementIndex = Number.MAX_SAFE_INTEGER;\n                    }\n                }\n                // console.log(\n                //   prefix,\n                //   'ELEMENT',\n                //   nodeType,\n                //   elementIdx,\n                //   vNodeElementIndex,\n                //   (node as any).outerHTML,\n                //   elementIdx === vNodeElementIndex ? vData.substring(vData_start, vData_end) : ''\n                // );\n                if (elementIdx === vNodeElementIndex) {\n                    if (needsToStoreRef === elementIdx) {\n                        qVNodeRefs.set(elementIdx, node);\n                    }\n                    const instructions = vData.substring(vData_start, vData_end);\n                    vNodeDataMap.set(node, instructions);\n                }\n                elementIdx++;\n            }\n        } while ((node = nextNode || walker.nextNode()));\n    };\n    // Walk the tree and process each `q:container` element.\n    const walker = document.createTreeWalker(document, 0x1 /* NodeFilter.SHOW_ELEMENT  */ | 0x80 /*  NodeFilter.SHOW_COMMENT */);\n    walkContainer(walker, null, walker.firstChild(), null, '', null, '');\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvY2Vzcy12bm9kZS1kYXRhLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2NsaWVudC9wcm9jZXNzLXZub2RlLWRhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMkhBQTJIO0FBQzNILE9BQU8sRUFBRSxhQUFhLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUkvRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FrREc7QUFDSCxNQUFNLFVBQVUsZ0JBQWdCLENBQUMsUUFBa0I7SUFDakQsTUFBTSxXQUFXLEdBQUcsYUFBYSxDQUFDO0lBQ2xDLE1BQU0sZUFBZSxHQUFHLEdBQUcsR0FBRyxXQUFXLENBQUM7SUFDMUMsTUFBTSxpQkFBaUIsR0FBRyxHQUFHLENBQUM7SUFDOUIsTUFBTSxhQUFhLEdBQUcsY0FBYyxDQUFDO0lBQ3JDLE1BQU0sUUFBUSxHQUFHLFVBQVUsQ0FBQztJQUM1QixNQUFNLFlBQVksR0FBRyxHQUFHLEdBQUcsUUFBUSxDQUFDO0lBQ3BDLE1BQU0sa0JBQWtCLEdBQUcsb0JBQW9CLENBQUM7SUFDaEQsTUFBTSxzQkFBc0IsR0FBRyxHQUFHLEdBQUcsa0JBQWtCLENBQUM7SUFDeEQsTUFBTSxTQUFTLEdBQUcsUUFBcUIsQ0FBQztJQUN4QyxNQUFNLFlBQVksR0FDaEIsU0FBUyxDQUFDLFVBQVUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEdBQUcsSUFBSSxPQUFPLEVBQW1CLENBQUMsQ0FBQztJQUNsRixNQUFNLFNBQVMsR0FBUSxRQUFRLENBQUMsSUFBSSxDQUFDO0lBQ3JDLE1BQU0sTUFBTSxHQUFHLENBQUMsU0FBYyxFQUFFLElBQVksRUFBRSxFQUFFO1FBQzlDLElBQUksTUFBVyxDQUFDO1FBQ2hCLE9BQU8sU0FBUyxJQUFJLENBQUMsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLHdCQUF3QixDQUFD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QkFBOEIsR0FBRyxJQUFJLENBQUMsOEJBQThCLENBQ3pFLENBQUM7SUFFRixhQUFhLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxNQUFNLENBQUMsVUFBVSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxJQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDeEUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIE5PVEU6IHdlIHdhbnQgdG8gbW92ZSB0aGlzIGZ1bmN0aW9uIHRvIHF3aWtsb2FkZXIsIGFuZCB0aGVyZWZvcmUgdGhpcyBmdW5jdGlvbiBzaG91bGQgbm90IGhhdmUgYW55IGV4dGVybmFsIGRlcGVuZGVuY2llc1xuaW1wb3J0IHsgVk5vZGVEYXRhQ2hhciwgVk5vZGVEYXRhU2VwYXJhdG9yIH0gZnJvbSAnLi4vc2hhcmVkL3Zub2RlLWRhdGEtdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBDb250YWluZXJFbGVtZW50LCBRRG9jdW1lbnQgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgRWxlbWVudFZOb2RlIH0gZnJvbSAnLi92bm9kZS1pbXBsJztcblxuLyoqXG4gKiBQcm9jZXNzIHRoZSBWTm9kZURhdGEgc2NyaXB0IHRhZ3MgYW5kIHN0b3JlIHRoZSBWTm9kZURhdGEgaW4gdGhlIFZOb2RlRGF0YU1hcC5cbiAqXG4gKiBUaGUgZW5kIHJlc3VsdCBvZiB0aGlzIGZ1bmN0aW9uIGlzIHRoYXQgZWFjaCBET00gZWxlbWVudCBoYXMgdGhlIGFzc29jaWF0ZWQgYFZOb2RlRGF0YWAgYXR0YWNoZWRcbiAqIHRvIGl0LCB0byBiZSB1c2VkIGxhdGVyIGBWTm9kZWAgbWF0ZXJpYWxpemF0aW9uLiBUaGUgXCJhdHRhY2htZW50XCIgaXMgZG9uZSB0aHJvdWdoIHRoZVxuICogYFZOb2RlRGF0YU1hcGAuXG4gKlxuICogUnVuIHRoaXMgZnVuY3Rpb24gb24gc3RhcnR1cCB0byBwcm9jZXNzIHRoZSBgPHNjcmlwdCB0eXBlPVwicXdpay92bm9kZVwiPmAgdGFncy4gVGhlIGRhdGEgaW4gdGhlXG4gKiB0YWdzIG5lZWRzIHRvIGJlIHBhcnNlZCBhbmQgYXR0YWNoZWQgdG8gdGhlIERPTSBlbGVtZW50cy4gKFdlIGRvIHRoaXMgdGhyb3VnaCBgVk5vZGVEYXRhTWFwYClcbiAqIGBWTm9kZURhdGFNYXBgIGlzIHRoZW4gdXNlZCB0byBsYXppbHkgbWF0ZXJpYWxpemUgdGhlIFZOb2Rlcy5cbiAqXG4gKiBPbmx5IG9uZSBpbnZvY2F0aW9uIG9mIHRoaXMgZnVuY3Rpb24gaXMgbmVlZGVkIHBlciBkb2N1bWVudC9icm93c2VyIHNlc3Npb24uXG4gKlxuICogQmVsb3cgaXMgYW4gZXhhbXBsZSBvZiB0aGUga2luZHMgb2YgY29uc3RydWN0cyB3aGljaCBuZWVkIHRvIGJlIGhhbmRsZWQgd2hlbiBkZWFsaW5nIHdpdGhcbiAqIFZOb2RlRGF0YSBkZXNlcmlhbGl6YXRpb24uXG4gKlxuICogYGBgXG4gKiA8aHRtbCBxOmNvbnRhaW5lcj1cInBhdXNlZFwiPlxuICogICA8Ym9keT5cbiAqICAgICA8ZGl2IHE6Y29udGFpbmVyPVwicGF1c2VkXCI+XG4gKiAgICAgICA8c2NyaXB0IHR5cGU9XCJxd2lrL3Zub2RlXCI+Li4uPC9zY3JpcHQ+XG4gKiAgICAgPC9kaXY+XG4gKiAgICAgPGRpdiBxOmNvbnRhaW5lcj1cImh0bWxcIj4uLi48L2Rpdj5cbiAqICAgICBiZWZvcmVcbiAqICAgICA8IS0tcTpjb250YWluZXI9QUJDLS0+XG4gKiAgICAgLi4uXG4gKiAgICAgPCEtLS9xOmNvbnRhaW5lci0tPlxuICogICAgIGFmdGVyXG4gKiAgICAgPCEtLXE6aWdub3JlPUZPTy0tPlxuICogICAgIC4uLlxuICogICAgICAgIDwhLS1xOmNvbnRhaW5lci1pc2xhbmQ9QkFSLS0+XG4gKiAgICAgICAgPGRpdj5zb21lIGludGVyYWN0aXZlIGlzbGFuZDwvZGl2PlxuICogICAgICAgIDwhLS0vcTpjb250YWluZXItaXNsYW5kLS0+XG4gKiAgICAgLi4uXG4gKiAgICAgPCEtLS9xOmlnbm9yZS0tPlxuICogICAgIDx0ZXh0YXJlYSBxOmNvbnRhaW5lcj1cInRleHRcIj4uLi48L3RleHRhcmVhPlxuICogICAgIDxzY3JpcHQgdHlwZT1cInF3aWsvdm5vZGVcIj4uLi48L3NjcmlwdD5cbiAqICAgPC9ib2R5PlxuICogPC9odG1sPlxuICogYGBgXG4gKlxuICogRWFjaCBgcXdpay92bm9kZWAgc2NyaXB0IGFzc3VtZXMgdGhhdCB0aGUgZWxlbWVudHMgYXJlIG51bWJlcmVkIGluIGRlcHRoIGZpcnN0IG9yZGVyLiBGb3IgdGhpc1xuICogcmVhc29uLCB3aGVuZXZlciB0aGUgYHByb2Nlc3NWTm9kZURhdGFgIGNvbWVzIGFjcm9zcyBhIGBxOmNvbnRhaW5lcmAgaXQgbXVzdCBpZ25vcmUgaXRzXG4gKiBjaGlsZHJlbi5cbiAqXG4gKiBJTVBMRU1FTlRBVElPTjpcbiAqXG4gKiAtIFN0YWNrIHRvIGtlZXAgdHJhY2sgb2YgdGhlIGN1cnJlbnQgYHE6Y29udGFpbmVyYCBiZWluZyBwcm9jZXNzZWQuXG4gKiAtIEF0dGFjaCBhbGwgYHF3aWsvdm5vZGVgIHNjcmlwdHMgKG5vdCB0aGUgZGF0YSBjb250YWluIHdpdGhpbiB0aGVtKSB0byB0aGUgYHE6Y29udGFpbmVyYCBlbGVtZW50LlxuICogLSBXYWxrIHRoZSB0cmVlIGFuZCBwcm9jZXNzIGVhY2ggYHE6Y29udGFpbmVyYCBlbGVtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc1ZOb2RlRGF0YShkb2N1bWVudDogRG9jdW1lbnQpIHtcbiAgY29uc3QgUV9DT05UQUlORVIgPSAncTpjb250YWluZXInO1xuICBjb25zdCBRX0NPTlRBSU5FUl9FTkQgPSAnLycgKyBRX0NPTlRBSU5FUjtcbiAgY29uc3QgUV9QUk9QU19TRVBBUkFUT1IgPSAnOic7XG4gIGNvbnN0IFFfU0hBRE9XX1JPT1QgPSAncTpzaGFkb3dyb290JztcbiAgY29uc3QgUV9JR05PUkUgPSAncTppZ25vcmUnO1xuICBjb25zdCBRX0lHTk9SRV9FTkQgPSAnLycgKyBRX0lHTk9SRTtcbiAgY29uc3QgUV9DT05UQUlORVJfSVNMQU5EID0gJ3E6Y29udGFpbmVyLWlzbGFuZCc7XG4gIGNvbnN0IFFfQ09OVEFJTkVSX0lTTEFORF9FTkQgPSAnLycgKyBRX0NPTlRBSU5FUl9JU0xBTkQ7XG4gIGNvbnN0IHFEb2N1bWVudCA9IGRvY3VtZW50IGFzIFFEb2N1bWVudDtcbiAgY29uc3Qgdk5vZGVEYXRhTWFwID1cbiAgICBxRG9jdW1lbnQucVZOb2RlRGF0YSB8fCAocURvY3VtZW50LnFWTm9kZURhdGEgPSBuZXcgV2Vha01hcDxFbGVtZW50LCBzdHJpbmc+KCkpO1xuICBjb25zdCBwcm90b3R5cGU6IGFueSA9IGRvY3VtZW50LmJvZHk7XG4gIGNvbnN0IGdldHRlciA9IChwcm90b3R5cGU6IGFueSwgbmFtZTogc3RyaW5nKSA9PiB7XG4gICAgbGV0IGdldHRlcjogYW55O1xuICAgIHdoaWxlIChwcm90b3R5cGUgJiYgIShnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByb3RvdHlwZSwgbmFtZSk/LmdldCkpIHtcbiAgICAgIHByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90b3R5cGUpO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgZ2V0dGVyIHx8XG4gICAgICBmdW5jdGlvbiAodGhpczogYW55KSB7XG4gICAgICAgIHJldHVybiB0aGlzW25hbWVdO1xuICAgICAgfVxuICAgICk7XG4gIH07XG4gIGNvbnN0IGdldEF0dHJpYnV0ZSA9IHByb3RvdHlwZS5nZXRBdHRyaWJ1dGUgYXMgKHRoaXM6IE5vZGUsIG5hbWU6IHN0cmluZykgPT4gc3RyaW5nIHwgbnVsbDtcbiAgY29uc3QgaGFzQXR0cmlidXRlID0gcHJvdG90eXBlLmhhc0F0dHJpYnV0ZSBhcyAodGhpczogTm9kZSwgbmFtZTogc3RyaW5nKSA9PiBib29sZWFuO1xuICBjb25zdCBnZXROb2RlVHlwZSA9IGdldHRlcihwcm90b3R5cGUsICdub2RlVHlwZScpIGFzICh0aGlzOiBOb2RlKSA9PiBudW1iZXI7XG5cbiAgLy8gUHJvY2VzcyBhbGwgb2YgdGhlIGBxd2lrL3Zub2RlYCBzY3JpcHQgdGFncyBieSBhdHRhY2hpbmcgdGhlbSB0byB0aGUgY29ycmVzcG9uZGluZyBjb250YWluZXJzLlxuICBjb25zdCBhdHRhY2hWbm9kZURhdGFBbmRSZWZzID0gKGVsZW1lbnQ6IERvY3VtZW50IHwgU2hhZG93Um9vdCkgPT4ge1xuICAgIEFycmF5LmZyb20oZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzY3JpcHRbdHlwZT1cInF3aWsvdm5vZGVcIl0nKSkuZm9yRWFjaCgoc2NyaXB0KSA9PiB7XG4gICAgICBzY3JpcHQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3gtcXdpay92bm9kZScpO1xuICAgICAgY29uc3QgcUNvbnRhaW5lckVsZW1lbnQgPSBzY3JpcHQuY2xvc2VzdCgnW3FcXFxcOmNvbnRhaW5lcl0nKSBhcyBDb250YWluZXJFbGVtZW50IHwgbnVsbDtcbiAgICAgIHFDb250YWluZXJFbGVtZW50IS5xVm5vZGVEYXRhID0gc2NyaXB0LnRleHRDb250ZW50ITtcbiAgICAgIHFDb250YWluZXJFbGVtZW50IS5xVk5vZGVSZWZzID0gbmV3IE1hcDxudW1iZXIsIEVsZW1lbnQgfCBFbGVtZW50Vk5vZGU+KCk7XG4gICAgfSk7XG4gICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbcVxcXFw6c2hhZG93cm9vdF0nKS5mb3JFYWNoKChwYXJlbnQpID0+IHtcbiAgICAgIGNvbnN0IHNoYWRvd1Jvb3QgPSBwYXJlbnQuc2hhZG93Um9vdDtcbiAgICAgIHNoYWRvd1Jvb3QgJiYgYXR0YWNoVm5vZGVEYXRhQW5kUmVmcyhzaGFkb3dSb290KTtcbiAgICB9KTtcbiAgfTtcbiAgYXR0YWNoVm5vZGVEYXRhQW5kUmVmcyhkb2N1bWVudCk7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBGdW5jdGlvbnMgdG8gY29uc3VtZSB0aGUgdHJlZS5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIGNvbnN0IGVudW0gTm9kZVR5cGUge1xuICAgIENPTlRBSU5FUl9NQVNLIC8qICoqKioqKioqKioqKioqKioqICovID0gMGIwMDAwMDAxLFxuICAgIEVMRU1FTlQgLyogKioqKioqKioqKioqKioqKioqKioqKioqICovID0gMGIwMDAwMDEwLCAvLyByZWd1bGFyIGVsZW1lbnRcbiAgICBFTEVNRU5UX0NPTlRBSU5FUiAvKiAqKioqKioqKioqKioqKiAqLyA9IDBiMDAwMDAxMSwgLy8gY29udGFpbmVyIGVsZW1lbnQgbmVlZCB0byBkZXNjZW5kIGludG8gaXRcbiAgICBFTEVNRU5UX1NIQURPV19ST09UX1dSQVBQRVIgLyogKioqKiAqLyA9IDBiMDAwMDExMCwgLy8gc2hhZG93IHJvb3Qgd3JhcHBlciBlbGVtZW50IHdpdGggcTpzaGFkb3dyb290IGF0dHJpYnV0ZVxuICAgIENPTU1FTlRfU0tJUF9TVEFSVCAvKiAqKioqKioqKioqKioqICovID0gMGIwMDAxMDAxLCAvLyBDb21tZW50IGJ1dCBza2lwIHRoZSBjb250ZW50IHVudGlsIENPTU1FTlRfU0tJUF9FTkRcbiAgICBDT01NRU5UX1NLSVBfRU5EIC8qICoqKioqKioqKioqKioqKiAqLyA9IDBiMDAwMTAwMCwgLy8gQ29tbWVudCBlbmRcbiAgICBDT01NRU5UX0lHTk9SRV9TVEFSVCAvKiAqKioqKioqKioqKiAqLyA9IDBiMDAxMDAwMCwgLy8gQ29tbWVudCBpZ25vcmUsIGRlc2NlbmQgaW50byBjaGlsZHJlbiBhbmQgc2tpcCB0aGUgY29udGVudCB1bnRpbCBDT01NRU5UX0lTTEFORF9TVEFSVFxuICAgIENPTU1FTlRfSUdOT1JFX0VORCAvKiAqKioqKioqKioqKioqICovID0gMGIwMTAwMDAwLCAvLyBDb21tZW50IGlnbm9yZSBlbmRcbiAgICBDT01NRU5UX0lTTEFORF9TVEFSVCAvKiAqKioqKioqKioqKiAqLyA9IDBiMTAwMDAwMSwgLy8gQ29tbWVudCBpc2xhbmQsIGNvdW50IGVsZW1lbnRzIGZvciBwYXJlbnQgY29udGFpbmVyIHVudGlsIENPTU1FTlRfSVNMQU5EX0VORFxuICAgIENPTU1FTlRfSVNMQU5EX0VORCAvKiAqKioqKioqKioqKioqICovID0gMGIxMDAwMDAwLCAvLyBDb21tZW50IGlzbGFuZCBlbmRcbiAgICBPVEhFUiAvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKiAqLyA9IDBiMDAwMDAwMCxcbiAgfVxuXG4gIC8qKlxuICAgKiBMb29rcyB1cCB3aGljaCB0eXBlIG9mIG5vZGUgdGhpcyBpcyBpbiBhIG1vbm9tb3JwaGljIHdheSB3aGljaCBzaG91bGQgYmUgZmFzdGVyLlxuICAgKlxuICAgKiBTZWU6IGh0dHBzOi8vbWhldmVyeS5naXRodWIuaW8vcGVyZi10ZXN0cy9ET00tbWVnYW1vcnBoaWMuaHRtbFxuICAgKi9cbiAgY29uc3QgZ2V0RmFzdE5vZGVUeXBlID0gKG5vZGU6IE5vZGUpOiBOb2RlVHlwZSA9PiB7XG4gICAgY29uc3Qgbm9kZVR5cGUgPSBnZXROb2RlVHlwZS5jYWxsKG5vZGUpO1xuICAgIGlmIChub2RlVHlwZSA9PT0gMSAvKiBOb2RlLkVMRU1FTlRfTk9ERSAqLykge1xuICAgICAgY29uc3QgcUNvbnRhaW5lciA9IGdldEF0dHJpYnV0ZS5jYWxsKG5vZGUsIFFfQ09OVEFJTkVSKTtcbiAgICAgIGlmIChxQ29udGFpbmVyID09PSBudWxsKSB7XG4gICAgICAgIGlmIChoYXNBdHRyaWJ1dGUuY2FsbChub2RlLCBRX1NIQURPV19ST09UKSkge1xuICAgICAgICAgIHJldHVybiBOb2RlVHlwZS5FTEVNRU5UX1NIQURPV19ST09UX1dSQVBQRVI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNRRWxlbWVudCA9IGhhc0F0dHJpYnV0ZS5jYWxsKG5vZGUsIFFfUFJPUFNfU0VQQVJBVE9SKTtcbiAgICAgICAgcmV0dXJuIGlzUUVsZW1lbnQgPyBOb2RlVHlwZS5FTEVNRU5UIDogTm9kZVR5cGUuT1RIRVI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gTm9kZVR5cGUuRUxFTUVOVF9DT05UQUlORVI7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChub2RlVHlwZSA9PT0gOCAvKiBOb2RlLkNPTU1FTlRfTk9ERSAqLykge1xuICAgICAgY29uc3Qgbm9kZVZhbHVlID0gbm9kZS5ub2RlVmFsdWUgfHwgJyc7IC8vIG5vZGVWYWx1ZSBpcyBtb25vbW9ycGhpYyBzbyBpdCBkb2VzIG5vdCBuZWVkIGZhc3QgcGF0aFxuICAgICAgaWYgKG5vZGVWYWx1ZS5zdGFydHNXaXRoKFFfQ09OVEFJTkVSX0lTTEFORCkpIHtcbiAgICAgICAgcmV0dXJuIE5vZGVUeXBlLkNPTU1FTlRfSVNMQU5EX1NUQVJUO1xuICAgICAgfSBlbHNlIGlmIChub2RlVmFsdWUuc3RhcnRzV2l0aChRX0lHTk9SRSkpIHtcbiAgICAgICAgcmV0dXJuIE5vZGVUeXBlLkNPTU1FTlRfSUdOT1JFX1NUQVJUO1xuICAgICAgfSBlbHNlIGlmIChub2RlVmFsdWUuc3RhcnRzV2l0aChRX0NPTlRBSU5FUikpIHtcbiAgICAgICAgcmV0dXJuIE5vZGVUeXBlLkNPTU1FTlRfU0tJUF9TVEFSVDtcbiAgICAgIH0gZWxzZSBpZiAobm9kZVZhbHVlLnN0YXJ0c1dpdGgoUV9DT05UQUlORVJfSVNMQU5EX0VORCkpIHtcbiAgICAgICAgcmV0dXJuIE5vZGVUeXBlLkNPTU1FTlRfSVNMQU5EX0VORDtcbiAgICAgIH0gZWxzZSBpZiAobm9kZVZhbHVlLnN0YXJ0c1dpdGgoUV9JR05PUkVfRU5EKSkge1xuICAgICAgICByZXR1cm4gTm9kZVR5cGUuQ09NTUVOVF9JR05PUkVfRU5EO1xuICAgICAgfSBlbHNlIGlmIChub2RlVmFsdWUuc3RhcnRzV2l0aChRX0NPTlRBSU5FUl9FTkQpKSB7XG4gICAgICAgIHJldHVybiBOb2RlVHlwZS5DT01NRU5UX1NLSVBfRU5EO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gTm9kZVR5cGUuT1RIRVI7XG4gIH07XG5cbiAgY29uc3QgaXNTZXBhcmF0b3IgPSAoY2g6IG51bWJlcikgPT5cbiAgICAvKiBgIWAgKi8gVk5vZGVEYXRhU2VwYXJhdG9yLkFEVkFOQ0VfMSA8PSBjaCAmJiBjaCA8PSBWTm9kZURhdGFTZXBhcmF0b3IuQURWQU5DRV84MTkyOyAvKiBgLmAgKi9cbiAgLyoqXG4gICAqIEdpdmVuIHRoZSBgdkRhdGFgIHN0cmluZywgYHN0YXJ0YCBpbmRleCwgYW5kIGBlbmRgIGluZGV4LCBmaW5kIHRoZSBlbmQgb2YgdGhlIFZOb2RlRGF0YVxuICAgKiBzZWN0aW9uLlxuICAgKi9cbiAgY29uc3QgZmluZFZEYXRhU2VjdGlvbkVuZCA9ICh2RGF0YTogc3RyaW5nLCBzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcik6IG51bWJlciA9PiB7XG4gICAgbGV0IGRlcHRoID0gMDtcbiAgICB3aGlsZSAodHJ1ZSBhcyBib29sZWFuKSB7XG4gICAgICAvLyBsb29rIGZvciB0aGUgZW5kIG9mIFZOb2RlRGF0YVxuICAgICAgaWYgKHN0YXJ0IDwgZW5kKSB7XG4gICAgICAgIGNvbnN0IGNoID0gdkRhdGEuY2hhckNvZGVBdChzdGFydCk7XG4gICAgICAgIGlmIChkZXB0aCA9PT0gMCAmJiBpc1NlcGFyYXRvcihjaCkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoY2ggPT09IFZOb2RlRGF0YUNoYXIuT1BFTikge1xuICAgICAgICAgICAgZGVwdGgrKztcbiAgICAgICAgICB9IGVsc2UgaWYgKGNoID09PSBWTm9kZURhdGFDaGFyLkNMT1NFKSB7XG4gICAgICAgICAgICBkZXB0aC0tO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdGFydCsrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0YXJ0O1xuICB9O1xuXG4gIGNvbnN0IG5leHRTaWJsaW5nID0gKG5vZGU6IE5vZGUgfCBudWxsKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgd2hpbGUgKG5vZGUgJiYgKG5vZGUgPSBub2RlLm5leHRTaWJsaW5nKSAmJiBnZXRGYXN0Tm9kZVR5cGUobm9kZSkgPT09IE5vZGVUeXBlLk9USEVSKSB7fVxuICAgIHJldHVybiBub2RlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQcm9jZXNzIHRoZSBjb250YWluZXJcbiAgICpcbiAgICogQHBhcmFtIHdhbGtlciBUcmVlV2Fsa2VyXG4gICAqIEBwYXJhbSBjb250YWluZXJOb2RlIFRoZSByb290IG9mIGNvbnRhaW5lciBlbGVtZW50XG4gICAqIEBwYXJhbSBleGl0Tm9kZSBUaGUgbm9kZSB3aGljaCByZXByZXNlbnRzIHRoZSBsYXN0IG5vZGUgYW5kIHdlIHNob3VsZCBleGl0LlxuICAgKiBAcGFyYW0gcVZOb2RlUmVmcyBQbGFjZSB0byBzdG9yZSB0aGUgVk5vZGVSZWZzXG4gICAqL1xuICBjb25zdCB3YWxrQ29udGFpbmVyID0gKFxuICAgIHdhbGtlcjogVHJlZVdhbGtlcixcbiAgICBjb250YWluZXJOb2RlOiBOb2RlIHwgbnVsbCxcbiAgICBub2RlOiBOb2RlIHwgbnVsbCxcbiAgICBleGl0Tm9kZTogTm9kZSB8IG51bGwsXG4gICAgdkRhdGE6IHN0cmluZyxcbiAgICBxVk5vZGVSZWZzOiBNYXA8bnVtYmVyLCBFbGVtZW50IHwgRWxlbWVudFZOb2RlPixcbiAgICBwcmVmaXg6IHN0cmluZ1xuICApID0+IHtcbiAgICBjb25zdCB2RGF0YV9sZW5ndGggPSB2RGF0YS5sZW5ndGg7XG4gICAgLy8vIFN0b3JlcyB0aGUgY3VycmVudCBlbGVtZW50IGluZGV4IGFzIHRoZSBUcmVlV2Fsa2VyIHRyYXZlcnNlcyB0aGUgRE9NLlxuICAgIGxldCBlbGVtZW50SWR4ID0gMDtcbiAgICAvLy8gU3RvcmVzIHRoZSBjdXJyZW50IFZOb2RlIGluZGV4IGFzIGRlcml2ZWQgZnJvbSB0aGUgVk5vZGVEYXRhIHNjcmlwdCB0YWcuXG4gICAgbGV0IHZOb2RlRWxlbWVudEluZGV4ID0gLTE7XG4gICAgbGV0IHZEYXRhX3N0YXJ0ID0gMDtcbiAgICBsZXQgdkRhdGFfZW5kID0gMDtcbiAgICBsZXQgY2ggPSAwO1xuICAgIGxldCBuZWVkc1RvU3RvcmVSZWYgPSAtMTtcbiAgICBsZXQgbmV4dE5vZGU6IE5vZGUgfCBudWxsID0gbnVsbDtcblxuICAgIC8qKiBDb21wdXRlcyBudW1iZXIgb2YgZWxlbWVudHMgd2hpY2ggbmVlZCB0byBiZSBza2lwcGVkIHRvIGdldCB0byB0aGUgbmV4dCBWTm9kZURhdGEgc2VjdGlvbi4gKi9cbiAgICBjb25zdCBob3dNYW55RWxlbWVudHNUb1NraXAgPSAoKSA9PiB7XG4gICAgICBsZXQgZWxlbWVudHNUb1NraXAgPSAwO1xuICAgICAgd2hpbGUgKGlzU2VwYXJhdG9yKChjaCA9IHZEYXRhLmNoYXJDb2RlQXQodkRhdGFfc3RhcnQpKSkpIHtcbiAgICAgICAgLy8gS2VlcCBjb25zdW1pbmcgdGhlIHNlcGFyYXRvcnMgYW5kIGluY3JlbWVudGluZyB0aGUgdk5vZGVJbmRleFxuICAgICAgICAvLyBjb25zb2xlLmxvZygnQURWQU5DRScsIHZOb2RlRWxlbWVudEluZGV4LCBjaCwgY2ggLSAzMyk7XG4gICAgICAgIGVsZW1lbnRzVG9Ta2lwICs9IDEgPDwgKGNoIC0gVk5vZGVEYXRhU2VwYXJhdG9yLkFEVkFOQ0VfMSk7XG4gICAgICAgIHZEYXRhX3N0YXJ0Kys7XG4gICAgICAgIGlmICh2RGF0YV9zdGFydCA+PSB2RGF0YV9sZW5ndGgpIHtcbiAgICAgICAgICAvLyB3ZSByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIHZOb2RlRGF0YSBzdG9wLlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZWxlbWVudHNUb1NraXA7XG4gICAgfTtcblxuICAgIGRvIHtcbiAgICAgIGlmIChub2RlID09PSBleGl0Tm9kZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBuZXh0Tm9kZSA9IG51bGw7XG4gICAgICBjb25zdCBub2RlVHlwZSA9IG5vZGUgPT0gY29udGFpbmVyTm9kZSA/IE5vZGVUeXBlLkVMRU1FTlQgOiBnZXRGYXN0Tm9kZVR5cGUobm9kZSEpO1xuICAgICAgaWYgKG5vZGVUeXBlID09PSBOb2RlVHlwZS5FTEVNRU5UX0NPTlRBSU5FUikge1xuICAgICAgICAvLyBJZiB3ZSBhcmUgaW4gYSBjb250YWluZXIsIHdlIG5lZWQgdG8gc2tpcCB0aGUgY2hpbGRyZW4uXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IG5vZGUgYXMgQ29udGFpbmVyRWxlbWVudDtcbiAgICAgICAgbGV0IGN1cnNvciA9IG5vZGU7XG4gICAgICAgIHdoaWxlIChjdXJzb3IgJiYgIShuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKGN1cnNvcikpKSB7XG4gICAgICAgICAgY3Vyc29yID0gY3Vyc29yIS5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdFWElUJywgbmV4dE5vZGU/Lm91dGVySFRNTCk7XG4gICAgICAgIHdhbGtDb250YWluZXIoXG4gICAgICAgICAgd2Fsa2VyLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBub2RlLFxuICAgICAgICAgIG5leHROb2RlLFxuICAgICAgICAgIGNvbnRhaW5lci5xVm5vZGVEYXRhIHx8ICcnLFxuICAgICAgICAgIGNvbnRhaW5lci5xVk5vZGVSZWZzISxcbiAgICAgICAgICBwcmVmaXggKyAnICAnXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKG5vZGVUeXBlID09PSBOb2RlVHlwZS5DT01NRU5UX0lHTk9SRV9TVEFSVCkge1xuICAgICAgICBsZXQgaXNsYW5kTm9kZSA9IG5vZGU7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBpc2xhbmROb2RlID0gd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgICAgaWYgKCFpc2xhbmROb2RlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYElzbGFuZCBpbnNpZGUgPCEtLSR7bm9kZT8ubm9kZVZhbHVlfS0tPiBub3QgZm91bmQhYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChnZXRGYXN0Tm9kZVR5cGUoaXNsYW5kTm9kZSkgIT09IE5vZGVUeXBlLkNPTU1FTlRfSVNMQU5EX1NUQVJUKTtcbiAgICAgICAgbmV4dE5vZGUgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmIChub2RlVHlwZSA9PT0gTm9kZVR5cGUuQ09NTUVOVF9JU0xBTkRfRU5EKSB7XG4gICAgICAgIG5leHROb2RlID0gbm9kZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIG5leHROb2RlID0gd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgICAgaWYgKCFuZXh0Tm9kZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJZ25vcmUgYmxvY2sgbm90IGNsb3NlZCFgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGdldEZhc3ROb2RlVHlwZShuZXh0Tm9kZSkgIT09IE5vZGVUeXBlLkNPTU1FTlRfSUdOT1JFX0VORCk7XG4gICAgICAgIG5leHROb2RlID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAobm9kZVR5cGUgPT09IE5vZGVUeXBlLkNPTU1FTlRfU0tJUF9TVEFSVCkge1xuICAgICAgICAvLyBJZiB3ZSBhcmUgaW4gYSBjb250YWluZXIsIHdlIG5lZWQgdG8gc2tpcCB0aGUgY2hpbGRyZW4uXG4gICAgICAgIG5leHROb2RlID0gbm9kZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobmV4dE5vZGUpO1xuICAgICAgICAgIGlmICghbmV4dE5vZGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgPCEtLSR7bm9kZT8ubm9kZVZhbHVlfS0tPiBub3QgY2xvc2VkIWApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoZ2V0RmFzdE5vZGVUeXBlKG5leHROb2RlKSAhPT0gTm9kZVR5cGUuQ09NTUVOVF9TS0lQX0VORCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdFWElUJywgbmV4dE5vZGU/Lm91dGVySFRNTCk7XG4gICAgICAgIHdhbGtDb250YWluZXIod2Fsa2VyLCBub2RlLCBub2RlLCBuZXh0Tm9kZSwgJycsIG51bGwhLCBwcmVmaXggKyAnICAnKTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZVR5cGUgPT09IE5vZGVUeXBlLkVMRU1FTlRfU0hBRE9XX1JPT1RfV1JBUFBFUikge1xuICAgICAgICAvLyBJZiB3ZSBhcmUgaW4gYSBzaGFkb3cgcm9vdCwgd2UgbmVlZCB0byBnZXQgdGhlIHNoYWRvdyByb290IGVsZW1lbnQuXG4gICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgIGNvbnN0IHNoYWRvd1Jvb3RDb250YWluZXIgPSBub2RlIGFzIEVsZW1lbnQgfCBudWxsO1xuICAgICAgICBjb25zdCBzaGFkb3dSb290ID0gc2hhZG93Um9vdENvbnRhaW5lcj8uc2hhZG93Um9vdDtcbiAgICAgICAgaWYgKHNoYWRvd1Jvb3QpIHtcbiAgICAgICAgICB3YWxrQ29udGFpbmVyKFxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBjcmVhdGUgYSBuZXcgd2Fsa2VyIGZvciB0aGUgc2hhZG93IHJvb3RcbiAgICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoXG4gICAgICAgICAgICAgIHNoYWRvd1Jvb3QsXG4gICAgICAgICAgICAgIDB4MSAvKiBOb2RlRmlsdGVyLlNIT1dfRUxFTUVOVCAgKi8gfCAweDgwIC8qICBOb2RlRmlsdGVyLlNIT1dfQ09NTUVOVCAqL1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBzaGFkb3dSb290LFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgbnVsbCEsXG4gICAgICAgICAgICBwcmVmaXggKyAnICAnXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoKG5vZGVUeXBlICYgTm9kZVR5cGUuRUxFTUVOVCkgPT09IE5vZGVUeXBlLkVMRU1FTlQpIHtcbiAgICAgICAgaWYgKHZOb2RlRWxlbWVudEluZGV4IDwgZWxlbWVudElkeCkge1xuICAgICAgICAgIC8vIFZOb2RlRGF0YSBuZWVkcyB0byBjYXRjaCB1cCB3aXRoIHRoZSBlbGVtZW50SWR4XG4gICAgICAgICAgaWYgKHZOb2RlRWxlbWVudEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdk5vZGVFbGVtZW50SW5kZXggPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2RGF0YV9zdGFydCA9IHZEYXRhX2VuZDtcbiAgICAgICAgICBpZiAodkRhdGFfc3RhcnQgPCB2RGF0YV9sZW5ndGgpIHtcbiAgICAgICAgICAgIHZOb2RlRWxlbWVudEluZGV4ICs9IGhvd01hbnlFbGVtZW50c1RvU2tpcCgpO1xuICAgICAgICAgICAgY29uc3Qgc2hvdWxkU3RvcmVSZWYgPSBjaCA9PT0gVk5vZGVEYXRhU2VwYXJhdG9yLlJFRkVSRU5DRTtcbiAgICAgICAgICAgIGlmIChzaG91bGRTdG9yZVJlZikge1xuICAgICAgICAgICAgICAvLyBpZiB3ZSBuZWVkIHRvIHN0b3JlIHRoZSByZWYgaGFuZGxlIGl0IGhlcmUuXG4gICAgICAgICAgICAgIG5lZWRzVG9TdG9yZVJlZiA9IHZOb2RlRWxlbWVudEluZGV4O1xuICAgICAgICAgICAgICB2RGF0YV9zdGFydCsrO1xuICAgICAgICAgICAgICBpZiAodkRhdGFfc3RhcnQgPCB2RGF0YV9sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjaCA9IHZEYXRhLmNoYXJDb2RlQXQodkRhdGFfZW5kKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBhc3N1bWUgc2VwYXJhdG9yIG9uIGVuZC5cbiAgICAgICAgICAgICAgICBjaCA9IFZOb2RlRGF0YVNlcGFyYXRvci5BRFZBTkNFXzE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZEYXRhX2VuZCA9IGZpbmRWRGF0YVNlY3Rpb25FbmQodkRhdGEsIHZEYXRhX3N0YXJ0LCB2RGF0YV9sZW5ndGgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2Tm9kZUVsZW1lbnRJbmRleCA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcbiAgICAgICAgLy8gICBwcmVmaXgsXG4gICAgICAgIC8vICAgJ0VMRU1FTlQnLFxuICAgICAgICAvLyAgIG5vZGVUeXBlLFxuICAgICAgICAvLyAgIGVsZW1lbnRJZHgsXG4gICAgICAgIC8vICAgdk5vZGVFbGVtZW50SW5kZXgsXG4gICAgICAgIC8vICAgKG5vZGUgYXMgYW55KS5vdXRlckhUTUwsXG4gICAgICAgIC8vICAgZWxlbWVudElkeCA9PT0gdk5vZGVFbGVtZW50SW5kZXggPyB2RGF0YS5zdWJzdHJpbmcodkRhdGFfc3RhcnQsIHZEYXRhX2VuZCkgOiAnJ1xuICAgICAgICAvLyApO1xuICAgICAgICBpZiAoZWxlbWVudElkeCA9PT0gdk5vZGVFbGVtZW50SW5kZXgpIHtcbiAgICAgICAgICBpZiAobmVlZHNUb1N0b3JlUmVmID09PSBlbGVtZW50SWR4KSB7XG4gICAgICAgICAgICBxVk5vZGVSZWZzLnNldChlbGVtZW50SWR4LCBub2RlIGFzIEVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBpbnN0cnVjdGlvbnMgPSB2RGF0YS5zdWJzdHJpbmcodkRhdGFfc3RhcnQsIHZEYXRhX2VuZCk7XG4gICAgICAgICAgdk5vZGVEYXRhTWFwLnNldChub2RlIGFzIEVsZW1lbnQsIGluc3RydWN0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudElkeCsrO1xuICAgICAgfVxuICAgIH0gd2hpbGUgKChub2RlID0gbmV4dE5vZGUgfHwgd2Fsa2VyLm5leHROb2RlKCkpKTtcbiAgfTtcblxuICAvLyBXYWxrIHRoZSB0cmVlIGFuZCBwcm9jZXNzIGVhY2ggYHE6Y29udGFpbmVyYCBlbGVtZW50LlxuICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKFxuICAgIGRvY3VtZW50LFxuICAgIDB4MSAvKiBOb2RlRmlsdGVyLlNIT1dfRUxFTUVOVCAgKi8gfCAweDgwIC8qICBOb2RlRmlsdGVyLlNIT1dfQ09NTUVOVCAqL1xuICApO1xuXG4gIHdhbGtDb250YWluZXIod2Fsa2VyLCBudWxsLCB3YWxrZXIuZmlyc3RDaGlsZCgpLCBudWxsLCAnJywgbnVsbCEsICcnKTtcbn1cbiJdfQ==","/** @file Public APIs for the SSR */\nimport { assertTrue } from '../shared/error/assert';\nimport { qError } from '../shared/error/error';\nimport { ERROR_CONTEXT, isRecoverable } from '../shared/error/error-handling';\nimport { wrapDeserializerProxy } from '../shared/serdes/deser-proxy';\nimport { _inflateQRL, getObjectById, parseQRL, preprocessState } from '../shared/serdes/index';\nimport { _SharedContainer } from '../shared/shared-container';\nimport { EMPTY_ARRAY } from '../shared/utils/flyweight';\nimport { ELEMENT_PROPS, ELEMENT_SEQ, ELEMENT_SEQ_IDX, OnRenderProp, QBackRefs, QBaseAttr, QContainerAttr, QContainerSelector, QCtxAttr, QInstanceAttr, QLocaleAttr, QManifestHashAttr, QScopedStyle, QStyle, QStyleSelector, Q_PROPS_SEPARATOR, USE_ON_LOCAL_SEQ_IDX, getQFuncs, } from '../shared/utils/markers';\nimport { isSlotProp } from '../shared/utils/prop';\nimport { qDev } from '../shared/utils/qdev';\nimport { convertScopedStyleIdsToArray, convertStyleIdsToString, } from '../shared/utils/scoped-styles';\nimport { processVNodeData } from './process-vnode-data';\nimport { mapArray_get, mapArray_has, mapArray_set } from './util-mapArray';\nimport { vnode_applyJournal, vnode_createErrorDiv, vnode_getDomParent, vnode_getProps, vnode_insertBefore, vnode_isElementVNode, vnode_isVNode, vnode_isVirtualVNode, vnode_locate, vnode_newUnMaterializedElement, } from './vnode';\n/** @public */\nexport function getDomContainer(element) {\n    const qContainerElement = _getQContainerElement(element);\n    if (!qContainerElement) {\n        throw qError(24 /* QError.containerNotFound */);\n    }\n    return getDomContainerFromQContainerElement(qContainerElement);\n}\nexport function getDomContainerFromQContainerElement(qContainerElement) {\n    const qElement = qContainerElement;\n    let container = qElement.qContainer;\n    if (!container) {\n        container = new DomContainer(qElement);\n    }\n    return container;\n}\n/** @internal */\nexport function _getQContainerElement(element) {\n    const qContainerElement = vnode_isVNode(element)\n        ? vnode_getDomParent(element, true)\n        : element;\n    return qContainerElement.closest(QContainerSelector);\n}\nexport const isDomContainer = (container) => {\n    return container instanceof DomContainer;\n};\n/** @internal */\nexport class DomContainer extends _SharedContainer {\n    element;\n    qContainer;\n    qManifestHash;\n    rootVNode;\n    document;\n    $journal$;\n    $rawStateData$;\n    $storeProxyMap$ = new WeakMap();\n    $qFuncs$;\n    $instanceHash$;\n    $forwardRefs$ = null;\n    vNodeLocate = (id) => vnode_locate(this.rootVNode, id);\n    $stateData$;\n    $styleIds$ = null;\n    constructor(element) {\n        super(() => {\n            this.$flushEpoch$++;\n            vnode_applyJournal(this.$journal$);\n        }, {}, element.getAttribute(QLocaleAttr));\n        this.qContainer = element.getAttribute(QContainerAttr);\n        if (!this.qContainer) {\n            throw qError(25 /* QError.elementWithoutContainer */);\n        }\n        this.$journal$ = [\n            3 /* VNodeJournalOpCode.HoistStyles */,\n            element.ownerDocument,\n        ];\n        this.document = element.ownerDocument;\n        this.element = element;\n        this.$buildBase$ = element.getAttribute(QBaseAttr);\n        this.$instanceHash$ = element.getAttribute(QInstanceAttr);\n        this.qManifestHash = element.getAttribute(QManifestHashAttr);\n        this.rootVNode = vnode_newUnMaterializedElement(this.element);\n        this.$rawStateData$ = [];\n        this.$stateData$ = [];\n        const document = this.element.ownerDocument;\n        if (!document.qVNodeData) {\n            processVNodeData(document);\n        }\n        this.$qFuncs$ = getQFuncs(document, this.$instanceHash$) || EMPTY_ARRAY;\n        this.$setServerData$();\n        element.setAttribute(QContainerAttr, \"resumed\" /* QContainerValue.RESUMED */);\n        element.qContainer = this;\n        const qwikStates = element.querySelectorAll('script[type=\"qwik/state\"]');\n        if (qwikStates.length !== 0) {\n            const lastState = qwikStates[qwikStates.length - 1];\n            this.$rawStateData$ = JSON.parse(lastState.textContent);\n            preprocessState(this.$rawStateData$, this);\n            this.$stateData$ = wrapDeserializerProxy(this, this.$rawStateData$);\n        }\n    }\n    $setRawState$(id, vParent) {\n        this.$stateData$[id] = vParent;\n    }\n    parseQRL(qrl) {\n        return _inflateQRL(this, parseQRL(qrl));\n    }\n    handleError(err, host) {\n        if (qDev && host) {\n            if (typeof document !== 'undefined') {\n                const vHost = host;\n                const journal = [];\n                const vHostParent = vHost.parent;\n                const vHostNextSibling = vHost.nextSibling;\n                const vErrorDiv = vnode_createErrorDiv(document, vHost, err, journal);\n                // If the host is an element node, we need to insert the error div into its parent.\n                const insertHost = vnode_isElementVNode(vHost) ? vHostParent || vHost : vHost;\n                // If the host is different then we need to insert errored-host in the same position as the host.\n                const insertBefore = insertHost === vHost ? null : vHostNextSibling;\n                vnode_insertBefore(journal, insertHost, vErrorDiv, insertBefore);\n                vnode_applyJournal(journal);\n            }\n            if (err && err instanceof Error) {\n                if (!('hostElement' in err)) {\n                    err['hostElement'] = String(host);\n                }\n            }\n            if (!isRecoverable(err)) {\n                throw err;\n            }\n        }\n        const errorStore = host && this.resolveContext(host, ERROR_CONTEXT);\n        if (!errorStore) {\n            throw err;\n        }\n        errorStore.error = err;\n    }\n    setContext(host, context, value) {\n        let ctx = this.getHostProp(host, QCtxAttr);\n        if (ctx == null) {\n            this.setHostProp(host, QCtxAttr, (ctx = []));\n        }\n        mapArray_set(ctx, context.id, value, 0, true);\n    }\n    resolveContext(host, contextId) {\n        while (host) {\n            const ctx = this.getHostProp(host, QCtxAttr);\n            if (ctx != null && mapArray_has(ctx, contextId.id, 0)) {\n                return mapArray_get(ctx, contextId.id, 0);\n            }\n            host = this.getParentHost(host);\n        }\n        return undefined;\n    }\n    getParentHost(host) {\n        let vNode = host.parent;\n        while (vNode) {\n            if (vnode_isVirtualVNode(vNode)) {\n                if (vNode.getProp(OnRenderProp, null) !== null) {\n                    return vNode;\n                }\n                vNode =\n                    vNode.parent ||\n                        // If virtual node, than it could be a slot so we need to read its parent.\n                        vNode.slotParent;\n            }\n            else {\n                vNode = vNode.parent;\n            }\n        }\n        return null;\n    }\n    setHostProp(host, name, value) {\n        const vNode = host;\n        vNode.setProp(name, value);\n    }\n    getHostProp(host, name) {\n        const vNode = host;\n        let getObjectById = null;\n        switch (name) {\n            case ELEMENT_SEQ:\n            case ELEMENT_PROPS:\n            case OnRenderProp:\n            case QCtxAttr:\n            case QBackRefs:\n                getObjectById = this.$getObjectById$;\n                break;\n            case ELEMENT_SEQ_IDX:\n            case USE_ON_LOCAL_SEQ_IDX:\n                getObjectById = parseInt;\n                break;\n        }\n        return vNode.getProp(name, getObjectById);\n    }\n    ensureProjectionResolved(vNode) {\n        if ((vNode.flags & 16 /* VNodeFlags.Resolved */) === 0) {\n            vNode.flags |= 16 /* VNodeFlags.Resolved */;\n            const props = vnode_getProps(vNode);\n            for (let i = 0; i < props.length; i = i + 2) {\n                const prop = props[i];\n                if (isSlotProp(prop)) {\n                    const value = props[i + 1];\n                    if (typeof value == 'string') {\n                        const projection = this.vNodeLocate(value);\n                        props[i + 1] = projection;\n                    }\n                }\n            }\n        }\n    }\n    $getObjectById$ = (id) => {\n        return getObjectById(id, this.$stateData$);\n    };\n    getSyncFn(id) {\n        const fn = this.$qFuncs$[id];\n        assertTrue(typeof fn === 'function', 'Invalid reference: ' + id);\n        return fn;\n    }\n    $appendStyle$(content, styleId, host, scoped) {\n        if (scoped) {\n            const scopedStyleIdsString = this.getHostProp(host, QScopedStyle);\n            const scopedStyleIds = new Set(convertScopedStyleIdsToArray(scopedStyleIdsString));\n            scopedStyleIds.add(styleId);\n            this.setHostProp(host, QScopedStyle, convertStyleIdsToString(scopedStyleIds));\n        }\n        if (this.$styleIds$ == null) {\n            this.$styleIds$ = new Set();\n            this.element.querySelectorAll(QStyleSelector).forEach((style) => {\n                this.$styleIds$.add(style.getAttribute(QStyle));\n            });\n        }\n        if (!this.$styleIds$.has(styleId)) {\n            this.$styleIds$.add(styleId);\n            const styleElement = this.document.createElement('style');\n            styleElement.setAttribute(QStyle, styleId);\n            styleElement.textContent = content;\n            this.$journal$.push(6 /* VNodeJournalOpCode.Insert */, this.document.head, null, styleElement);\n        }\n    }\n    // TODO: should be moved to the Qwik Router?\n    /** Set the server data for the Qwik Router. */\n    $setServerData$() {\n        const containerAttributes = {};\n        const attrs = this.element.attributes;\n        if (attrs) {\n            for (let index = 0; index < attrs.length; index++) {\n                const attr = attrs[index];\n                if (attr.name === Q_PROPS_SEPARATOR) {\n                    continue;\n                }\n                containerAttributes[attr.name] = attr.value;\n            }\n        }\n        this.$serverData$ = { containerAttributes };\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9tLWNvbnRhaW5lci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9jbGllbnQvZG9tLWNvbnRhaW5lci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQ0FBb0M7QUFJcEMsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ3BELE9BQU8sRUFBVSxNQUFNLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsYUFBYSxFQUFFLGFBQWEsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBRTlFLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBQ3JFLE9BQU8sRUFBRSxXQUFXLEVBQUUsYUFBYSxFQUFFLFFBQVEsRUFBRSxlQUFlLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUMvRixPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUU5RCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDeEQsT0FBTyxFQUNMLGFBQWEsRUFDYixXQUFXLEVBQ1gsZUFBZSxFQUNmLFlBQVksRUFDWixTQUFTLEVBQ1QsU0FBUyxFQUNULGNBQWMsRUFDZCxrQkFBa0IsRUFDbEIsUUFBUSxFQUNSLGFBQWEsRUFDYixXQUFXLEVBQ1gsaUJBQWlCLEVBQ2pCLFlBQVksRUFDWixNQUFNLEVBQ04sY0FBYyxFQUNkLGlCQUFpQixFQUNqQixvQkFBb0IsRUFDcEIsU0FBUyxHQUNWLE1BQU0seUJBQXlCLENBQUM7QUFDakMsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ2xELE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUM1QyxPQUFPLEVBQ0wsNEJBQTRCLEVBQzVCLHVCQUF1QixHQUN4QixNQUFNLCtCQUErQixDQUFDO0FBRXZDLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFN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QUFDO2dCQUNELG1CQUFtQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1lBQzlDLENBQUM7UUFDSCxDQUFDO1FBQ0QsSUFBSSxDQUFDLFlBQVksR0FBRyxFQUFFLG1CQUFtQixFQUFFLENBQUM7SUFDOUMsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBmaWxlIFB1YmxpYyBBUElzIGZvciB0aGUgU1NSICovXG5cbi8vIEB0cy1leHBlY3QtZXJyb3Igd2UgZG9uJ3QgaGF2ZSB0eXBlcyBmb3IgdGhlIHByZWxvYWRlclxuaW1wb3J0IHsgcCBhcyBwcmVsb2FkIH0gZnJvbSAnQHF3aWsuZGV2L2NvcmUvcHJlbG9hZGVyJztcbmltcG9ydCB7IGFzc2VydFRydWUgfSBmcm9tICcuLi9zaGFyZWQvZXJyb3IvYXNzZXJ0JztcbmltcG9ydCB7IFFFcnJvciwgcUVycm9yIH0gZnJvbSAnLi4vc2hhcmVkL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IEVSUk9SX0NPTlRFWFQsIGlzUmVjb3ZlcmFibGUgfSBmcm9tICcuLi9zaGFyZWQvZXJyb3IvZXJyb3ItaGFuZGxpbmcnO1xuaW1wb3J0IHR5cGUgeyBRUkwgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC5wdWJsaWMnO1xuaW1wb3J0IHsgd3JhcERlc2VyaWFsaXplclByb3h5IH0gZnJvbSAnLi4vc2hhcmVkL3NlcmRlcy9kZXNlci1wcm94eSc7XG5pbXBvcnQgeyBfaW5mbGF0ZVFSTCwgZ2V0T2JqZWN0QnlJZCwgcGFyc2VRUkwsIHByZXByb2Nlc3NTdGF0ZSB9IGZyb20gJy4uL3NoYXJlZC9zZXJkZXMvaW5kZXgnO1xuaW1wb3J0IHsgX1NoYXJlZENvbnRhaW5lciB9IGZyb20gJy4uL3NoYXJlZC9zaGFyZWQtY29udGFpbmVyJztcbmltcG9ydCB7IFFDb250YWluZXJWYWx1ZSwgdHlwZSBIb3N0RWxlbWVudCwgdHlwZSBPYmpUb1Byb3h5TWFwIH0gZnJvbSAnLi4vc2hhcmVkL3R5cGVzJztcbmltcG9ydCB7IEVNUFRZX0FSUkFZIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL2ZseXdlaWdodCc7XG5pbXBvcnQge1xuICBFTEVNRU5UX1BST1BTLFxuICBFTEVNRU5UX1NFUSxcbiAgRUxFTUVOVF9TRVFfSURYLFxuICBPblJlbmRlclByb3AsXG4gIFFCYWNrUmVmcyxcbiAgUUJhc2VBdHRyLFxuICBRQ29udGFpbmVyQXR0cixcbiAgUUNvbnRhaW5lclNlbGVjdG9yLFxuICBRQ3R4QXR0cixcbiAgUUluc3RhbmNlQXR0cixcbiAgUUxvY2FsZUF0dHIsXG4gIFFNYW5pZmVzdEhhc2hBdHRyLFxuICBRU2NvcGVkU3R5bGUsXG4gIFFTdHlsZSxcbiAgUVN0eWxlU2VsZWN0b3IsXG4gIFFfUFJPUFNfU0VQQVJBVE9SLFxuICBVU0VfT05fTE9DQUxfU0VRX0lEWCxcbiAgZ2V0UUZ1bmNzLFxufSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvbWFya2Vycyc7XG5pbXBvcnQgeyBpc1Nsb3RQcm9wIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL3Byb3AnO1xuaW1wb3J0IHsgcURldiB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9xZGV2JztcbmltcG9ydCB7XG4gIGNvbnZlcnRTY29wZWRTdHlsZUlkc1RvQXJyYXksXG4gIGNvbnZlcnRTdHlsZUlkc1RvU3RyaW5nLFxufSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvc2NvcGVkLXN0eWxlcyc7XG5pbXBvcnQgdHlwZSB7IENvbnRleHRJZCB9IGZyb20gJy4uL3VzZS91c2UtY29udGV4dCc7XG5pbXBvcnQgeyBwcm9jZXNzVk5vZGVEYXRhIH0gZnJvbSAnLi9wcm9jZXNzLXZub2RlLWRhdGEnO1xuaW1wb3J0IHtcbiAgVk5vZGVGbGFncyxcbiAgdHlwZSBDb250YWluZXJFbGVtZW50LFxuICB0eXBlIENsaWVudENvbnRhaW5lciBhcyBJQ2xpZW50Q29udGFpbmVyLFxuICB0eXBlIFFEb2N1bWVudCxcbn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBtYXBBcnJheV9nZXQsIG1hcEFycmF5X2hhcywgbWFwQXJyYXlfc2V0IH0gZnJvbSAnLi91dGlsLW1hcEFycmF5JztcbmltcG9ydCB7XG4gIFZOb2RlSm91cm5hbE9wQ29kZSxcbiAgdm5vZGVfYXBwbHlKb3VybmFsLFxuICB2bm9kZV9jcmVhdGVFcnJvckRpdixcbiAgdm5vZGVfZ2V0RG9tUGFyZW50LFxuICB2bm9kZV9nZXRQcm9wcyxcbiAgdm5vZGVfaW5zZXJ0QmVmb3JlLFxuICB2bm9kZV9pc0VsZW1lbnRWTm9kZSxcbiAgdm5vZGVfaXNWTm9kZSxcbiAgdm5vZGVfaXNWaXJ0dWFsVk5vZGUsXG4gIHZub2RlX2xvY2F0ZSxcbiAgdm5vZGVfbmV3VW5NYXRlcmlhbGl6ZWRFbGVtZW50LFxuICB0eXBlIFZOb2RlSm91cm5hbCxcbn0gZnJvbSAnLi92bm9kZSc7XG5pbXBvcnQgdHlwZSB7IEVsZW1lbnRWTm9kZSwgVk5vZGUsIFZpcnR1YWxWTm9kZSB9IGZyb20gJy4vdm5vZGUtaW1wbCc7XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9tQ29udGFpbmVyKGVsZW1lbnQ6IEVsZW1lbnQgfCBWTm9kZSk6IElDbGllbnRDb250YWluZXIge1xuICBjb25zdCBxQ29udGFpbmVyRWxlbWVudCA9IF9nZXRRQ29udGFpbmVyRWxlbWVudChlbGVtZW50KTtcbiAgaWYgKCFxQ29udGFpbmVyRWxlbWVudCkge1xuICAgIHRocm93IHFFcnJvcihRRXJyb3IuY29udGFpbmVyTm90Rm91bmQpO1xuICB9XG4gIHJldHVybiBnZXREb21Db250YWluZXJGcm9tUUNvbnRhaW5lckVsZW1lbnQocUNvbnRhaW5lckVsZW1lbnQhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERvbUNvbnRhaW5lckZyb21RQ29udGFpbmVyRWxlbWVudChxQ29udGFpbmVyRWxlbWVudDogRWxlbWVudCk6IElDbGllbnRDb250YWluZXIge1xuICBjb25zdCBxRWxlbWVudCA9IHFDb250YWluZXJFbGVtZW50IGFzIENvbnRhaW5lckVsZW1lbnQ7XG4gIGxldCBjb250YWluZXIgPSBxRWxlbWVudC5xQ29udGFpbmVyO1xuICBpZiAoIWNvbnRhaW5lcikge1xuICAgIGNvbnRhaW5lciA9IG5ldyBEb21Db250YWluZXIocUVsZW1lbnQpO1xuICB9XG4gIHJldHVybiBjb250YWluZXI7XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBfZ2V0UUNvbnRhaW5lckVsZW1lbnQoZWxlbWVudDogRWxlbWVudCB8IFZOb2RlKTogRWxlbWVudCB8IG51bGwge1xuICBjb25zdCBxQ29udGFpbmVyRWxlbWVudDogRWxlbWVudCB8IG51bGwgPSB2bm9kZV9pc1ZOb2RlKGVsZW1lbnQpXG4gICAgPyAodm5vZGVfZ2V0RG9tUGFyZW50KGVsZW1lbnQsIHRydWUpIGFzIEVsZW1lbnQpXG4gICAgOiBlbGVtZW50O1xuICByZXR1cm4gcUNvbnRhaW5lckVsZW1lbnQuY2xvc2VzdChRQ29udGFpbmVyU2VsZWN0b3IpO1xufVxuXG5leHBvcnQgY29uc3QgaXNEb21Db250YWluZXIgPSAoY29udGFpbmVyOiBhbnkpOiBjb250YWluZXIgaXMgRG9tQ29udGFpbmVyID0+IHtcbiAgcmV0dXJuIGNvbnRhaW5lciBpbnN0YW5jZW9mIERvbUNvbnRhaW5lcjtcbn07XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjbGFzcyBEb21Db250YWluZXIgZXh0ZW5kcyBfU2hhcmVkQ29udGFpbmVyIGltcGxlbWVudHMgSUNsaWVudENvbnRhaW5lciB7XG4gIHB1YmxpYyBlbGVtZW50OiBDb250YWluZXJFbGVtZW50O1xuICBwdWJsaWMgcUNvbnRhaW5lcjogc3RyaW5nO1xuICBwdWJsaWMgcU1hbmlmZXN0SGFzaDogc3RyaW5nO1xuICBwdWJsaWMgcm9vdFZOb2RlOiBFbGVtZW50Vk5vZGU7XG4gIHB1YmxpYyBkb2N1bWVudDogUURvY3VtZW50O1xuICBwdWJsaWMgJGpvdXJuYWwkOiBWTm9kZUpvdXJuYWw7XG4gIHB1YmxpYyAkcmF3U3RhdGVEYXRhJDogdW5rbm93bltdO1xuICBwdWJsaWMgJHN0b3JlUHJveHlNYXAkOiBPYmpUb1Byb3h5TWFwID0gbmV3IFdlYWtNYXAoKTtcbiAgcHVibGljICRxRnVuY3MkOiBBcnJheTwoLi4uYXJnczogdW5rbm93bltdKSA9PiB1bmtub3duPjtcbiAgcHVibGljICRpbnN0YW5jZUhhc2gkOiBzdHJpbmc7XG4gIHB1YmxpYyAkZm9yd2FyZFJlZnMkOiBBcnJheTxudW1iZXI+IHwgbnVsbCA9IG51bGw7XG4gIHB1YmxpYyB2Tm9kZUxvY2F0ZTogKGlkOiBzdHJpbmcgfCBFbGVtZW50KSA9PiBWTm9kZSA9IChpZCkgPT4gdm5vZGVfbG9jYXRlKHRoaXMucm9vdFZOb2RlLCBpZCk7XG5cbiAgcHJpdmF0ZSAkc3RhdGVEYXRhJDogdW5rbm93bltdO1xuICBwcml2YXRlICRzdHlsZUlkcyQ6IFNldDxzdHJpbmc+IHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoZWxlbWVudDogQ29udGFpbmVyRWxlbWVudCkge1xuICAgIHN1cGVyKFxuICAgICAgKCkgPT4ge1xuICAgICAgICB0aGlzLiRmbHVzaEVwb2NoJCsrO1xuICAgICAgICB2bm9kZV9hcHBseUpvdXJuYWwodGhpcy4kam91cm5hbCQpO1xuICAgICAgfSxcbiAgICAgIHt9LFxuICAgICAgZWxlbWVudC5nZXRBdHRyaWJ1dGUoUUxvY2FsZUF0dHIpIVxuICAgICk7XG4gICAgdGhpcy5xQ29udGFpbmVyID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoUUNvbnRhaW5lckF0dHIpITtcbiAgICBpZiAoIXRoaXMucUNvbnRhaW5lcikge1xuICAgICAgdGhyb3cgcUVycm9yKFFFcnJvci5lbGVtZW50V2l0aG91dENvbnRhaW5lcik7XG4gICAgfVxuICAgIHRoaXMuJGpvdXJuYWwkID0gW1xuICAgICAgLy8gVGhlIGZpcnN0IHRpbWUgd2UgcmVuZGVyIHdlIG5lZWQgdG8gaG9pc3QgdGhlIHN0eWxlcy5cbiAgICAgIC8vIChNZWFuaW5nIHdlIG5lZWQgdG8gbW92ZSBhbGwgc3R5bGVzIGZyb20gY29tcG9uZW50IGlubGluZSB0byA8aGVhZD4pXG4gICAgICAvLyBXZSBidWxrIG1vdmUgYWxsIG9mIHRoZSBzdHlsZXMsIGJlY2F1c2UgdGhlIGV4cGVuc2l2ZSBwYXJ0IGlzXG4gICAgICAvLyBmb3IgdGhlIGJyb3dzZXIgdG8gcmVjb21wdXRlIHRoZSBzdHlsZXMsIChub3QgdGhlIGFjdHVhbCBET00gbWFuaXB1bGF0aW9uLilcbiAgICAgIC8vIEJ5IG1vdmluZyBhbGwgb2YgdGhlbSBhdCBvbmNlIHdlIGNhbiBtaW5pbWl6ZSB0aGUgcmVmbG93LlxuICAgICAgVk5vZGVKb3VybmFsT3BDb2RlLkhvaXN0U3R5bGVzLFxuICAgICAgZWxlbWVudC5vd25lckRvY3VtZW50LFxuICAgIF07XG4gICAgdGhpcy5kb2N1bWVudCA9IGVsZW1lbnQub3duZXJEb2N1bWVudCBhcyBRRG9jdW1lbnQ7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLiRidWlsZEJhc2UkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoUUJhc2VBdHRyKSE7XG4gICAgdGhpcy4kaW5zdGFuY2VIYXNoJCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFFJbnN0YW5jZUF0dHIpITtcbiAgICB0aGlzLnFNYW5pZmVzdEhhc2ggPSBlbGVtZW50LmdldEF0dHJpYnV0ZShRTWFuaWZlc3RIYXNoQXR0cikhO1xuICAgIHRoaXMucm9vdFZOb2RlID0gdm5vZGVfbmV3VW5NYXRlcmlhbGl6ZWRFbGVtZW50KHRoaXMuZWxlbWVudCk7XG4gICAgdGhpcy4kcmF3U3RhdGVEYXRhJCA9IFtdO1xuICAgIHRoaXMuJHN0YXRlRGF0YSQgPSBbXTtcbiAgICBjb25zdCBkb2N1bWVudCA9IHRoaXMuZWxlbWVudC5vd25lckRvY3VtZW50IGFzIFFEb2N1bWVudDtcbiAgICBpZiAoIWRvY3VtZW50LnFWTm9kZURhdGEpIHtcbiAgICAgIHByb2Nlc3NWTm9kZURhdGEoZG9jdW1lbnQpO1xuICAgIH1cbiAgICB0aGlzLiRxRnVuY3MkID0gZ2V0UUZ1bmNzKGRvY3VtZW50LCB0aGlzLiRpbnN0YW5jZUhhc2gkKSB8fCBFTVBUWV9BUlJBWTtcbiAgICB0aGlzLiRzZXRTZXJ2ZXJEYXRhJCgpO1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFFDb250YWluZXJBdHRyLCBRQ29udGFpbmVyVmFsdWUuUkVTVU1FRCk7XG4gICAgZWxlbWVudC5xQ29udGFpbmVyID0gdGhpcztcblxuICAgIGNvbnN0IHF3aWtTdGF0ZXMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NjcmlwdFt0eXBlPVwicXdpay9zdGF0ZVwiXScpO1xuICAgIGlmIChxd2lrU3RhdGVzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgY29uc3QgbGFzdFN0YXRlID0gcXdpa1N0YXRlc1txd2lrU3RhdGVzLmxlbmd0aCAtIDFdO1xuICAgICAgdGhpcy4kcmF3U3RhdGVEYXRhJCA9IEpTT04ucGFyc2UobGFzdFN0YXRlLnRleHRDb250ZW50ISk7XG4gICAgICBwcmVwcm9jZXNzU3RhdGUodGhpcy4kcmF3U3RhdGVEYXRhJCwgdGhpcyk7XG4gICAgICB0aGlzLiRzdGF0ZURhdGEkID0gd3JhcERlc2VyaWFsaXplclByb3h5KHRoaXMsIHRoaXMuJHJhd1N0YXRlRGF0YSQpIGFzIHVua25vd25bXTtcbiAgICB9XG4gIH1cblxuICAkc2V0UmF3U3RhdGUkKGlkOiBudW1iZXIsIHZQYXJlbnQ6IEVsZW1lbnRWTm9kZSB8IFZpcnR1YWxWTm9kZSk6IHZvaWQge1xuICAgIHRoaXMuJHN0YXRlRGF0YSRbaWRdID0gdlBhcmVudDtcbiAgfVxuXG4gIHBhcnNlUVJMPFQgPSB1bmtub3duPihxcmw6IHN0cmluZyk6IFFSTDxUPiB7XG4gICAgcmV0dXJuIF9pbmZsYXRlUVJMKHRoaXMsIHBhcnNlUVJMKHFybCkpIGFzIFFSTDxUPjtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKGVycjogYW55LCBob3N0OiBWTm9kZSB8IG51bGwpOiB2b2lkIHtcbiAgICBpZiAocURldiAmJiBob3N0KSB7XG4gICAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCB2SG9zdCA9IGhvc3QgYXMgVmlydHVhbFZOb2RlO1xuICAgICAgICBjb25zdCBqb3VybmFsOiBWTm9kZUpvdXJuYWwgPSBbXTtcbiAgICAgICAgY29uc3Qgdkhvc3RQYXJlbnQgPSB2SG9zdC5wYXJlbnQ7XG4gICAgICAgIGNvbnN0IHZIb3N0TmV4dFNpYmxpbmcgPSB2SG9zdC5uZXh0U2libGluZyBhcyBWTm9kZSB8IG51bGw7XG4gICAgICAgIGNvbnN0IHZFcnJvckRpdiA9IHZub2RlX2NyZWF0ZUVycm9yRGl2KGRvY3VtZW50LCB2SG9zdCwgZXJyLCBqb3VybmFsKTtcbiAgICAgICAgLy8gSWYgdGhlIGhvc3QgaXMgYW4gZWxlbWVudCBub2RlLCB3ZSBuZWVkIHRvIGluc2VydCB0aGUgZXJyb3IgZGl2IGludG8gaXRzIHBhcmVudC5cbiAgICAgICAgY29uc3QgaW5zZXJ0SG9zdCA9IHZub2RlX2lzRWxlbWVudFZOb2RlKHZIb3N0KSA/IHZIb3N0UGFyZW50IHx8IHZIb3N0IDogdkhvc3Q7XG4gICAgICAgIC8vIElmIHRoZSBob3N0IGlzIGRpZmZlcmVudCB0aGVuIHdlIG5lZWQgdG8gaW5zZXJ0IGVycm9yZWQtaG9zdCBpbiB0aGUgc2FtZSBwb3NpdGlvbiBhcyB0aGUgaG9zdC5cbiAgICAgICAgY29uc3QgaW5zZXJ0QmVmb3JlID0gaW5zZXJ0SG9zdCA9PT0gdkhvc3QgPyBudWxsIDogdkhvc3ROZXh0U2libGluZztcbiAgICAgICAgdm5vZGVfaW5zZXJ0QmVmb3JlKGpvdXJuYWwsIGluc2VydEhvc3QsIHZFcnJvckRpdiwgaW5zZXJ0QmVmb3JlKTtcbiAgICAgICAgdm5vZGVfYXBwbHlKb3VybmFsKGpvdXJuYWwpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXJyICYmIGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGlmICghKCdob3N0RWxlbWVudCcgaW4gZXJyKSkge1xuICAgICAgICAgIChlcnIgYXMgYW55KVsnaG9zdEVsZW1lbnQnXSA9IFN0cmluZyhob3N0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFpc1JlY292ZXJhYmxlKGVycikpIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBlcnJvclN0b3JlID0gaG9zdCAmJiB0aGlzLnJlc29sdmVDb250ZXh0KGhvc3QsIEVSUk9SX0NPTlRFWFQpO1xuICAgIGlmICghZXJyb3JTdG9yZSkge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICBlcnJvclN0b3JlLmVycm9yID0gZXJyO1xuICB9XG5cbiAgc2V0Q29udGV4dDxUPihob3N0OiBWTm9kZSwgY29udGV4dDogQ29udGV4dElkPFQ+LCB2YWx1ZTogVCk6IHZvaWQge1xuICAgIGxldCBjdHggPSB0aGlzLmdldEhvc3RQcm9wPEFycmF5PHN0cmluZyB8IHVua25vd24+Pihob3N0LCBRQ3R4QXR0cik7XG4gICAgaWYgKGN0eCA9PSBudWxsKSB7XG4gICAgICB0aGlzLnNldEhvc3RQcm9wKGhvc3QsIFFDdHhBdHRyLCAoY3R4ID0gW10pKTtcbiAgICB9XG4gICAgbWFwQXJyYXlfc2V0KGN0eCwgY29udGV4dC5pZCwgdmFsdWUsIDAsIHRydWUpO1xuICB9XG5cbiAgcmVzb2x2ZUNvbnRleHQ8VD4oaG9zdDogVk5vZGUsIGNvbnRleHRJZDogQ29udGV4dElkPFQ+KTogVCB8IHVuZGVmaW5lZCB7XG4gICAgd2hpbGUgKGhvc3QpIHtcbiAgICAgIGNvbnN0IGN0eCA9IHRoaXMuZ2V0SG9zdFByb3A8QXJyYXk8c3RyaW5nIHwgdW5rbm93bj4+KGhvc3QsIFFDdHhBdHRyKTtcbiAgICAgIGlmIChjdHggIT0gbnVsbCAmJiBtYXBBcnJheV9oYXMoY3R4LCBjb250ZXh0SWQuaWQsIDApKSB7XG4gICAgICAgIHJldHVybiBtYXBBcnJheV9nZXQoY3R4LCBjb250ZXh0SWQuaWQsIDApIGFzIFQ7XG4gICAgICB9XG4gICAgICBob3N0ID0gdGhpcy5nZXRQYXJlbnRIb3N0KGhvc3QpITtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGdldFBhcmVudEhvc3QoaG9zdDogVk5vZGUpOiBWTm9kZSB8IG51bGwge1xuICAgIGxldCB2Tm9kZTogVk5vZGUgfCBudWxsID0gaG9zdC5wYXJlbnQ7XG4gICAgd2hpbGUgKHZOb2RlKSB7XG4gICAgICBpZiAodm5vZGVfaXNWaXJ0dWFsVk5vZGUodk5vZGUpKSB7XG4gICAgICAgIGlmICh2Tm9kZS5nZXRQcm9wKE9uUmVuZGVyUHJvcCwgbnVsbCkgIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gdk5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgdk5vZGUgPVxuICAgICAgICAgIHZOb2RlLnBhcmVudCB8fFxuICAgICAgICAgIC8vIElmIHZpcnR1YWwgbm9kZSwgdGhhbiBpdCBjb3VsZCBiZSBhIHNsb3Qgc28gd2UgbmVlZCB0byByZWFkIGl0cyBwYXJlbnQuXG4gICAgICAgICAgdk5vZGUuc2xvdFBhcmVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZOb2RlID0gdk5vZGUucGFyZW50O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHNldEhvc3RQcm9wPFQ+KGhvc3Q6IEhvc3RFbGVtZW50LCBuYW1lOiBzdHJpbmcsIHZhbHVlOiBUKTogdm9pZCB7XG4gICAgY29uc3Qgdk5vZGU6IFZpcnR1YWxWTm9kZSA9IGhvc3QgYXMgYW55O1xuICAgIHZOb2RlLnNldFByb3AobmFtZSwgdmFsdWUpO1xuICB9XG5cbiAgZ2V0SG9zdFByb3A8VD4oaG9zdDogSG9zdEVsZW1lbnQsIG5hbWU6IHN0cmluZyk6IFQgfCBudWxsIHtcbiAgICBjb25zdCB2Tm9kZTogVmlydHVhbFZOb2RlID0gaG9zdCBhcyBhbnk7XG4gICAgbGV0IGdldE9iamVjdEJ5SWQ6ICgoaWQ6IHN0cmluZykgPT4gYW55KSB8IG51bGwgPSBudWxsO1xuICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgY2FzZSBFTEVNRU5UX1NFUTpcbiAgICAgIGNhc2UgRUxFTUVOVF9QUk9QUzpcbiAgICAgIGNhc2UgT25SZW5kZXJQcm9wOlxuICAgICAgY2FzZSBRQ3R4QXR0cjpcbiAgICAgIGNhc2UgUUJhY2tSZWZzOlxuICAgICAgICBnZXRPYmplY3RCeUlkID0gdGhpcy4kZ2V0T2JqZWN0QnlJZCQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBFTEVNRU5UX1NFUV9JRFg6XG4gICAgICBjYXNlIFVTRV9PTl9MT0NBTF9TRVFfSURYOlxuICAgICAgICBnZXRPYmplY3RCeUlkID0gcGFyc2VJbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdk5vZGUuZ2V0UHJvcChuYW1lLCBnZXRPYmplY3RCeUlkKTtcbiAgfVxuXG4gIGVuc3VyZVByb2plY3Rpb25SZXNvbHZlZCh2Tm9kZTogVmlydHVhbFZOb2RlKTogdm9pZCB7XG4gICAgaWYgKCh2Tm9kZS5mbGFncyAmIFZOb2RlRmxhZ3MuUmVzb2x2ZWQpID09PSAwKSB7XG4gICAgICB2Tm9kZS5mbGFncyB8PSBWTm9kZUZsYWdzLlJlc29sdmVkO1xuICAgICAgY29uc3QgcHJvcHMgPSB2bm9kZV9nZXRQcm9wcyh2Tm9kZSk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSA9IGkgKyAyKSB7XG4gICAgICAgIGNvbnN0IHByb3AgPSBwcm9wc1tpXSBhcyBzdHJpbmc7XG4gICAgICAgIGlmIChpc1Nsb3RQcm9wKHByb3ApKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBwcm9wc1tpICsgMV07XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdGlvbiA9IHRoaXMudk5vZGVMb2NhdGUodmFsdWUpO1xuICAgICAgICAgICAgcHJvcHNbaSArIDFdID0gcHJvamVjdGlvbjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAkZ2V0T2JqZWN0QnlJZCQgPSAoaWQ6IG51bWJlciB8IHN0cmluZyk6IHVua25vd24gPT4ge1xuICAgIHJldHVybiBnZXRPYmplY3RCeUlkKGlkLCB0aGlzLiRzdGF0ZURhdGEkKTtcbiAgfTtcblxuICBnZXRTeW5jRm4oaWQ6IG51bWJlcik6ICguLi5hcmdzOiB1bmtub3duW10pID0+IHVua25vd24ge1xuICAgIGNvbnN0IGZuID0gdGhpcy4kcUZ1bmNzJFtpZF07XG4gICAgYXNzZXJ0VHJ1ZSh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicsICdJbnZhbGlkIHJlZmVyZW5jZTogJyArIGlkKTtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICAkYXBwZW5kU3R5bGUkKGNvbnRlbnQ6IHN0cmluZywgc3R5bGVJZDogc3RyaW5nLCBob3N0OiBWaXJ0dWFsVk5vZGUsIHNjb3BlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmIChzY29wZWQpIHtcbiAgICAgIGNvbnN0IHNjb3BlZFN0eWxlSWRzU3RyaW5nID0gdGhpcy5nZXRIb3N0UHJvcDxzdHJpbmc+KGhvc3QsIFFTY29wZWRTdHlsZSk7XG4gICAgICBjb25zdCBzY29wZWRTdHlsZUlkcyA9IG5ldyBTZXQoY29udmVydFNjb3BlZFN0eWxlSWRzVG9BcnJheShzY29wZWRTdHlsZUlkc1N0cmluZykpO1xuICAgICAgc2NvcGVkU3R5bGVJZHMuYWRkKHN0eWxlSWQpO1xuICAgICAgdGhpcy5zZXRIb3N0UHJvcChob3N0LCBRU2NvcGVkU3R5bGUsIGNvbnZlcnRTdHlsZUlkc1RvU3RyaW5nKHNjb3BlZFN0eWxlSWRzKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuJHN0eWxlSWRzJCA9PSBudWxsKSB7XG4gICAgICB0aGlzLiRzdHlsZUlkcyQgPSBuZXcgU2V0KCk7XG4gICAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChRU3R5bGVTZWxlY3RvcikuZm9yRWFjaCgoc3R5bGUpID0+IHtcbiAgICAgICAgdGhpcy4kc3R5bGVJZHMkIS5hZGQoc3R5bGUuZ2V0QXR0cmlidXRlKFFTdHlsZSkhKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuJHN0eWxlSWRzJC5oYXMoc3R5bGVJZCkpIHtcbiAgICAgIHRoaXMuJHN0eWxlSWRzJC5hZGQoc3R5bGVJZCk7XG4gICAgICBjb25zdCBzdHlsZUVsZW1lbnQgPSB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFFTdHlsZSwgc3R5bGVJZCk7XG4gICAgICBzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSBjb250ZW50O1xuICAgICAgdGhpcy4kam91cm5hbCQucHVzaChWTm9kZUpvdXJuYWxPcENvZGUuSW5zZXJ0LCB0aGlzLmRvY3VtZW50LmhlYWQsIG51bGwsIHN0eWxlRWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgLy8gVE9ETzogc2hvdWxkIGJlIG1vdmVkIHRvIHRoZSBRd2lrIFJvdXRlcj9cbiAgLyoqIFNldCB0aGUgc2VydmVyIGRhdGEgZm9yIHRoZSBRd2lrIFJvdXRlci4gKi9cbiAgcHJpdmF0ZSAkc2V0U2VydmVyRGF0YSQoKTogdm9pZCB7XG4gICAgY29uc3QgY29udGFpbmVyQXR0cmlidXRlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGNvbnN0IGF0dHJzID0gdGhpcy5lbGVtZW50LmF0dHJpYnV0ZXM7XG4gICAgaWYgKGF0dHJzKSB7XG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYXR0cnMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGNvbnN0IGF0dHIgPSBhdHRyc1tpbmRleF07XG4gICAgICAgIGlmIChhdHRyLm5hbWUgPT09IFFfUFJPUFNfU0VQQVJBVE9SKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29udGFpbmVyQXR0cmlidXRlc1thdHRyLm5hbWVdID0gYXR0ci52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy4kc2VydmVyRGF0YSQgPSB7IGNvbnRhaW5lckF0dHJpYnV0ZXMgfTtcbiAgfVxufVxuIl19","import { isDomContainer } from '../client/dom-container';\nimport { pad, qwikDebugToString } from '../debug';\nimport { assertDefined } from '../shared/error/assert';\nimport { isServerPlatform } from '../shared/platform/platform';\nimport { ELEMENT_PROPS, OnRenderProp } from '../shared/utils/markers';\nimport { SerializerSymbol } from '../shared/serdes/verify';\nimport { isObject } from '../shared/utils/types';\nimport { isTask } from '../use/use-task';\nimport { ComputedSignalImpl } from './impl/computed-signal-impl';\nimport { SignalImpl } from './impl/signal-impl';\nimport { SubscriptionData } from './subscription-data';\nconst DEBUG = false;\n// eslint-disable-next-line no-console\nconst log = (...args) => console.log('SIGNAL', ...args.map(qwikDebugToString));\nexport const throwIfQRLNotResolved = (qrl) => {\n    const resolved = qrl.resolved;\n    if (!resolved) {\n        // When we are creating a signal using a use method, we need to ensure\n        // that the computation can be lazy and therefore we need to unsure\n        // that the QRL is resolved.\n        // When we re-create the signal from serialization (we don't create the signal\n        // using useMethod) it is OK to not resolve it until the graph is marked as dirty.\n        throw qrl.resolve();\n    }\n};\n/** @public */\nexport const isSignal = (value) => {\n    return value instanceof SignalImpl;\n};\nexport const ensureContainsSubscription = (array, effectSubscription) => {\n    !array.has(effectSubscription) && array.add(effectSubscription);\n};\n/** Ensure the item is in back refs set */\nexport const ensureContainsBackRef = (array, value) => {\n    array[2 /* EffectSubscriptionProp.BACK_REF */] ||= new Set();\n    !array[2 /* EffectSubscriptionProp.BACK_REF */].has(value) &&\n        array[2 /* EffectSubscriptionProp.BACK_REF */].add(value);\n};\nexport const addQrlToSerializationCtx = (effectSubscriber, container) => {\n    if (!!container && !isDomContainer(container)) {\n        const effect = effectSubscriber[0 /* EffectSubscriptionProp.CONSUMER */];\n        const property = effectSubscriber[1 /* EffectSubscriptionProp.PROPERTY */];\n        let qrl = null;\n        if (isTask(effect)) {\n            qrl = effect.$qrl$;\n        }\n        else if (effect instanceof ComputedSignalImpl) {\n            qrl = effect.$computeQrl$;\n        }\n        else if (property === \":\" /* EffectProperty.COMPONENT */) {\n            qrl = container.getHostProp(effect, OnRenderProp);\n        }\n        if (qrl) {\n            container.serializationCtx.$eventQrls$.add(qrl);\n        }\n    }\n};\nexport const scheduleEffects = (container, signal, effects) => {\n    const isBrowser = !isServerPlatform();\n    if (effects) {\n        const scheduleEffect = (effectSubscription) => {\n            const consumer = effectSubscription[0 /* EffectSubscriptionProp.CONSUMER */];\n            const property = effectSubscription[1 /* EffectSubscriptionProp.PROPERTY */];\n            assertDefined(container, 'Container must be defined.');\n            if (isTask(consumer)) {\n                consumer.$flags$ |= 8 /* TaskFlags.DIRTY */;\n                DEBUG && log('schedule.consumer.task', pad('\\n' + String(consumer), '  '));\n                let choreType = 3 /* ChoreType.TASK */;\n                if (consumer.$flags$ & 1 /* TaskFlags.VISIBLE_TASK */) {\n                    choreType = 16 /* ChoreType.VISIBLE */;\n                }\n                container.$scheduler$(choreType, consumer);\n            }\n            else if (consumer instanceof SignalImpl) {\n                // we don't schedule ComputedSignal/DerivedSignal directly, instead we invalidate it and\n                // and schedule the signals effects (recursively)\n                if (consumer instanceof ComputedSignalImpl) {\n                    // Ensure that the computed signal's QRL is resolved.\n                    // If not resolved schedule it to be resolved.\n                    if (!consumer.$computeQrl$.resolved) {\n                        container.$scheduler$(1 /* ChoreType.QRL_RESOLVE */, null, consumer.$computeQrl$);\n                    }\n                }\n                consumer.invalidate();\n            }\n            else if (property === \":\" /* EffectProperty.COMPONENT */) {\n                const host = consumer;\n                const qrl = container.getHostProp(host, OnRenderProp);\n                assertDefined(qrl, 'Component must have QRL');\n                const props = container.getHostProp(host, ELEMENT_PROPS);\n                container.$scheduler$(6 /* ChoreType.COMPONENT */, host, qrl, props);\n            }\n            else if (property === \".\" /* EffectProperty.VNODE */) {\n                if (isBrowser) {\n                    const host = consumer;\n                    container.$scheduler$(4 /* ChoreType.NODE_DIFF */, host, host, signal);\n                }\n            }\n            else {\n                const host = consumer;\n                const effectData = effectSubscription[3 /* EffectSubscriptionProp.DATA */];\n                if (effectData instanceof SubscriptionData) {\n                    const data = effectData.data;\n                    const payload = {\n                        ...data,\n                        $value$: signal,\n                    };\n                    container.$scheduler$(5 /* ChoreType.NODE_PROP */, host, property, payload);\n                }\n            }\n        };\n        for (const effect of effects) {\n            scheduleEffect(effect);\n        }\n    }\n    DEBUG && log('done scheduling');\n};\n/** @internal */\nexport const isSerializerObj = (obj) => {\n    return isObject(obj) && typeof obj[SerializerSymbol] === 'function';\n};\nexport const getComputedSignalFlags = (serializationStrategy) => {\n    let flags = 1 /* SignalFlags.INVALID */;\n    switch (serializationStrategy) {\n        // TODO: implement this in the future\n        // case 'auto':\n        //   flags |= ComputedSignalFlags.SERIALIZATION_STRATEGY_AUTO;\n        //   break;\n        case 'never':\n            flags |= 16 /* SerializationSignalFlags.SERIALIZATION_STRATEGY_NEVER */;\n            break;\n        case 'always':\n            flags |= 32 /* SerializationSignalFlags.SERIALIZATION_STRATEGY_ALWAYS */;\n            break;\n    }\n    return flags;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVhY3RpdmUtcHJpbWl0aXZlcy91dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDekQsT0FBTyxFQUFFLEdBQUcsRUFBRSxpQkFBaUIsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUVsRCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFFdkQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFLL0QsT0FBTyxFQUFFLGFBQWEsRUFBRSxZQUFZLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUN0RSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUMzRCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFFakQsT0FBTyxFQUFhLE1BQU0sRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQ2pFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUdoRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQXdCLE1BQU0scUJBQXFCLENBQUM7QUFXN0UsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBRXBCLHNDQUFzQztBQUN0QyxNQUFNLEdBQUcsR0FBRyxDQUFDLEdBQUcsSUFBVyxFQUFFLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO0FBRXRGLE1BQU0sQ0FBQyxNQUFNLHFCQUFxQixHQUFHLENBQUMsR0FBUSxFQUFFLEVBQUU7SUFDaEQsTUFBTSxRQUFRLEdBQUcsR0FBRyxDQUFDLFFBQVEs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SyxPQUFPO1lBQ1YsS0FBSyxrRUFBeUQsQ0FBQztZQUMvRCxNQUFNO1FBQ1IsS0FBSyxRQUFRO1lBQ1gsS0FBSyxtRUFBMEQsQ0FBQztZQUNoRSxNQUFNO0lBQ1YsQ0FBQztJQUNELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNEb21Db250YWluZXIgfSBmcm9tICcuLi9jbGllbnQvZG9tLWNvbnRhaW5lcic7XG5pbXBvcnQgeyBwYWQsIHF3aWtEZWJ1Z1RvU3RyaW5nIH0gZnJvbSAnLi4vZGVidWcnO1xuaW1wb3J0IHR5cGUgeyBPblJlbmRlckZuIH0gZnJvbSAnLi4vc2hhcmVkL2NvbXBvbmVudC5wdWJsaWMnO1xuaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCB9IGZyb20gJy4uL3NoYXJlZC9lcnJvci9hc3NlcnQnO1xuaW1wb3J0IHR5cGUgeyBQcm9wcyB9IGZyb20gJy4uL3NoYXJlZC9qc3gvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgaXNTZXJ2ZXJQbGF0Zm9ybSB9IGZyb20gJy4uL3NoYXJlZC9wbGF0Zm9ybS9wbGF0Zm9ybSc7XG5pbXBvcnQgeyB0eXBlIFFSTEludGVybmFsIH0gZnJvbSAnLi4vc2hhcmVkL3FybC9xcmwtY2xhc3MnO1xuaW1wb3J0IHR5cGUgeyBRUkwgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC5wdWJsaWMnO1xuaW1wb3J0IHR5cGUgeyBDb250YWluZXIsIEhvc3RFbGVtZW50LCBTZXJpYWxpemF0aW9uU3RyYXRlZ3kgfSBmcm9tICcuLi9zaGFyZWQvdHlwZXMnO1xuaW1wb3J0IHsgQ2hvcmVUeXBlIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWwtY2hvcmUtdHlwZSc7XG5pbXBvcnQgeyBFTEVNRU5UX1BST1BTLCBPblJlbmRlclByb3AgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvbWFya2Vycyc7XG5pbXBvcnQgeyBTZXJpYWxpemVyU3ltYm9sIH0gZnJvbSAnLi4vc2hhcmVkL3NlcmRlcy92ZXJpZnknO1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBJU3NyTm9kZSwgU1NSQ29udGFpbmVyIH0gZnJvbSAnLi4vc3NyL3Nzci10eXBlcyc7XG5pbXBvcnQgeyBUYXNrRmxhZ3MsIGlzVGFzayB9IGZyb20gJy4uL3VzZS91c2UtdGFzayc7XG5pbXBvcnQgeyBDb21wdXRlZFNpZ25hbEltcGwgfSBmcm9tICcuL2ltcGwvY29tcHV0ZWQtc2lnbmFsLWltcGwnO1xuaW1wb3J0IHsgU2lnbmFsSW1wbCB9IGZyb20gJy4vaW1wbC9zaWduYWwtaW1wbCc7XG5pbXBvcnQgdHlwZSB7IFdyYXBwZWRTaWduYWxJbXBsIH0gZnJvbSAnLi9pbXBsL3dyYXBwZWQtc2lnbmFsLWltcGwnO1xuaW1wb3J0IHR5cGUgeyBTaWduYWwgfSBmcm9tICcuL3NpZ25hbC5wdWJsaWMnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uRGF0YSwgdHlwZSBOb2RlUHJvcFBheWxvYWQgfSBmcm9tICcuL3N1YnNjcmlwdGlvbi1kYXRhJztcbmltcG9ydCB7XG4gIFNlcmlhbGl6YXRpb25TaWduYWxGbGFncyxcbiAgRWZmZWN0UHJvcGVydHksXG4gIEVmZmVjdFN1YnNjcmlwdGlvblByb3AsXG4gIFNpZ25hbEZsYWdzLFxuICB0eXBlIEN1c3RvbVNlcmlhbGl6YWJsZSxcbiAgdHlwZSBFZmZlY3RTdWJzY3JpcHRpb24sXG4gIHR5cGUgU3RvcmVUYXJnZXQsXG59IGZyb20gJy4vdHlwZXMnO1xuXG5jb25zdCBERUJVRyA9IGZhbHNlO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuY29uc3QgbG9nID0gKC4uLmFyZ3M6IGFueVtdKSA9PiBjb25zb2xlLmxvZygnU0lHTkFMJywgLi4uYXJncy5tYXAocXdpa0RlYnVnVG9TdHJpbmcpKTtcblxuZXhwb3J0IGNvbnN0IHRocm93SWZRUkxOb3RSZXNvbHZlZCA9IChxcmw6IFFSTCkgPT4ge1xuICBjb25zdCByZXNvbHZlZCA9IHFybC5yZXNvbHZlZDtcbiAgaWYgKCFyZXNvbHZlZCkge1xuICAgIC8vIFdoZW4gd2UgYXJlIGNyZWF0aW5nIGEgc2lnbmFsIHVzaW5nIGEgdXNlIG1ldGhvZCwgd2UgbmVlZCB0byBlbnN1cmVcbiAgICAvLyB0aGF0IHRoZSBjb21wdXRhdGlvbiBjYW4gYmUgbGF6eSBhbmQgdGhlcmVmb3JlIHdlIG5lZWQgdG8gdW5zdXJlXG4gICAgLy8gdGhhdCB0aGUgUVJMIGlzIHJlc29sdmVkLlxuICAgIC8vIFdoZW4gd2UgcmUtY3JlYXRlIHRoZSBzaWduYWwgZnJvbSBzZXJpYWxpemF0aW9uICh3ZSBkb24ndCBjcmVhdGUgdGhlIHNpZ25hbFxuICAgIC8vIHVzaW5nIHVzZU1ldGhvZCkgaXQgaXMgT0sgdG8gbm90IHJlc29sdmUgaXQgdW50aWwgdGhlIGdyYXBoIGlzIG1hcmtlZCBhcyBkaXJ0eS5cbiAgICB0aHJvdyBxcmwucmVzb2x2ZSgpO1xuICB9XG59O1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGNvbnN0IGlzU2lnbmFsID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBTaWduYWw8dW5rbm93bj4gPT4ge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBTaWduYWxJbXBsO1xufTtcblxuZXhwb3J0IGNvbnN0IGVuc3VyZUNvbnRhaW5zU3Vic2NyaXB0aW9uID0gKFxuICBhcnJheTogU2V0PEVmZmVjdFN1YnNjcmlwdGlvbj4sXG4gIGVmZmVjdFN1YnNjcmlwdGlvbjogRWZmZWN0U3Vic2NyaXB0aW9uXG4pID0+IHtcbiAgIWFycmF5LmhhcyhlZmZlY3RTdWJzY3JpcHRpb24pICYmIGFycmF5LmFkZChlZmZlY3RTdWJzY3JpcHRpb24pO1xufTtcblxuLyoqIEVuc3VyZSB0aGUgaXRlbSBpcyBpbiBiYWNrIHJlZnMgc2V0ICovXG5leHBvcnQgY29uc3QgZW5zdXJlQ29udGFpbnNCYWNrUmVmID0gKGFycmF5OiBFZmZlY3RTdWJzY3JpcHRpb24sIHZhbHVlOiBhbnkpID0+IHtcbiAgYXJyYXlbRWZmZWN0U3Vic2NyaXB0aW9uUHJvcC5CQUNLX1JFRl0gfHw9IG5ldyBTZXQoKTtcbiAgIWFycmF5W0VmZmVjdFN1YnNjcmlwdGlvblByb3AuQkFDS19SRUZdLmhhcyh2YWx1ZSkgJiZcbiAgICBhcnJheVtFZmZlY3RTdWJzY3JpcHRpb25Qcm9wLkJBQ0tfUkVGXS5hZGQodmFsdWUpO1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZFFybFRvU2VyaWFsaXphdGlvbkN0eCA9IChcbiAgZWZmZWN0U3Vic2NyaWJlcjogRWZmZWN0U3Vic2NyaXB0aW9uLFxuICBjb250YWluZXI6IENvbnRhaW5lciB8IG51bGxcbikgPT4ge1xuICBpZiAoISFjb250YWluZXIgJiYgIWlzRG9tQ29udGFpbmVyKGNvbnRhaW5lcikpIHtcbiAgICBjb25zdCBlZmZlY3QgPSBlZmZlY3RTdWJzY3JpYmVyW0VmZmVjdFN1YnNjcmlwdGlvblByb3AuQ09OU1VNRVJdO1xuICAgIGNvbnN0IHByb3BlcnR5ID0gZWZmZWN0U3Vic2NyaWJlcltFZmZlY3RTdWJzY3JpcHRpb25Qcm9wLlBST1BFUlRZXTtcbiAgICBsZXQgcXJsOiBRUkwgfCBudWxsID0gbnVsbDtcbiAgICBpZiAoaXNUYXNrKGVmZmVjdCkpIHtcbiAgICAgIHFybCA9IGVmZmVjdC4kcXJsJDtcbiAgICB9IGVsc2UgaWYgKGVmZmVjdCBpbnN0YW5jZW9mIENvbXB1dGVkU2lnbmFsSW1wbCkge1xuICAgICAgcXJsID0gZWZmZWN0LiRjb21wdXRlUXJsJDtcbiAgICB9IGVsc2UgaWYgKHByb3BlcnR5ID09PSBFZmZlY3RQcm9wZXJ0eS5DT01QT05FTlQpIHtcbiAgICAgIHFybCA9IGNvbnRhaW5lci5nZXRIb3N0UHJvcDxRUkw+KGVmZmVjdCBhcyBJU3NyTm9kZSwgT25SZW5kZXJQcm9wKTtcbiAgICB9XG4gICAgaWYgKHFybCkge1xuICAgICAgKGNvbnRhaW5lciBhcyBTU1JDb250YWluZXIpLnNlcmlhbGl6YXRpb25DdHguJGV2ZW50UXJscyQuYWRkKHFybCk7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgY29uc3Qgc2NoZWR1bGVFZmZlY3RzID0gKFxuICBjb250YWluZXI6IENvbnRhaW5lciB8IG51bGwsXG4gIHNpZ25hbDogU2lnbmFsSW1wbCB8IFN0b3JlVGFyZ2V0LFxuICBlZmZlY3RzOiBTZXQ8RWZmZWN0U3Vic2NyaXB0aW9uPiB8IG51bGxcbikgPT4ge1xuICBjb25zdCBpc0Jyb3dzZXIgPSAhaXNTZXJ2ZXJQbGF0Zm9ybSgpO1xuICBpZiAoZWZmZWN0cykge1xuICAgIGNvbnN0IHNjaGVkdWxlRWZmZWN0ID0gKGVmZmVjdFN1YnNjcmlwdGlvbjogRWZmZWN0U3Vic2NyaXB0aW9uKSA9PiB7XG4gICAgICBjb25zdCBjb25zdW1lciA9IGVmZmVjdFN1YnNjcmlwdGlvbltFZmZlY3RTdWJzY3JpcHRpb25Qcm9wLkNPTlNVTUVSXTtcbiAgICAgIGNvbnN0IHByb3BlcnR5ID0gZWZmZWN0U3Vic2NyaXB0aW9uW0VmZmVjdFN1YnNjcmlwdGlvblByb3AuUFJPUEVSVFldO1xuICAgICAgYXNzZXJ0RGVmaW5lZChjb250YWluZXIsICdDb250YWluZXIgbXVzdCBiZSBkZWZpbmVkLicpO1xuICAgICAgaWYgKGlzVGFzayhjb25zdW1lcikpIHtcbiAgICAgICAgY29uc3VtZXIuJGZsYWdzJCB8PSBUYXNrRmxhZ3MuRElSVFk7XG4gICAgICAgIERFQlVHICYmIGxvZygnc2NoZWR1bGUuY29uc3VtZXIudGFzaycsIHBhZCgnXFxuJyArIFN0cmluZyhjb25zdW1lciksICcgICcpKTtcbiAgICAgICAgbGV0IGNob3JlVHlwZSA9IENob3JlVHlwZS5UQVNLO1xuICAgICAgICBpZiAoY29uc3VtZXIuJGZsYWdzJCAmIFRhc2tGbGFncy5WSVNJQkxFX1RBU0spIHtcbiAgICAgICAgICBjaG9yZVR5cGUgPSBDaG9yZVR5cGUuVklTSUJMRTtcbiAgICAgICAgfVxuICAgICAgICBjb250YWluZXIuJHNjaGVkdWxlciQoY2hvcmVUeXBlLCBjb25zdW1lcik7XG4gICAgICB9IGVsc2UgaWYgKGNvbnN1bWVyIGluc3RhbmNlb2YgU2lnbmFsSW1wbCkge1xuICAgICAgICAvLyB3ZSBkb24ndCBzY2hlZHVsZSBDb21wdXRlZFNpZ25hbC9EZXJpdmVkU2lnbmFsIGRpcmVjdGx5LCBpbnN0ZWFkIHdlIGludmFsaWRhdGUgaXQgYW5kXG4gICAgICAgIC8vIGFuZCBzY2hlZHVsZSB0aGUgc2lnbmFscyBlZmZlY3RzIChyZWN1cnNpdmVseSlcbiAgICAgICAgaWYgKGNvbnN1bWVyIGluc3RhbmNlb2YgQ29tcHV0ZWRTaWduYWxJbXBsKSB7XG4gICAgICAgICAgLy8gRW5zdXJlIHRoYXQgdGhlIGNvbXB1dGVkIHNpZ25hbCdzIFFSTCBpcyByZXNvbHZlZC5cbiAgICAgICAgICAvLyBJZiBub3QgcmVzb2x2ZWQgc2NoZWR1bGUgaXQgdG8gYmUgcmVzb2x2ZWQuXG4gICAgICAgICAgaWYgKCFjb25zdW1lci4kY29tcHV0ZVFybCQucmVzb2x2ZWQpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci4kc2NoZWR1bGVyJChDaG9yZVR5cGUuUVJMX1JFU09MVkUsIG51bGwsIGNvbnN1bWVyLiRjb21wdXRlUXJsJCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgKGNvbnN1bWVyIGFzIENvbXB1dGVkU2lnbmFsSW1wbDx1bmtub3duPiB8IFdyYXBwZWRTaWduYWxJbXBsPHVua25vd24+KS5pbnZhbGlkYXRlKCk7XG4gICAgICB9IGVsc2UgaWYgKHByb3BlcnR5ID09PSBFZmZlY3RQcm9wZXJ0eS5DT01QT05FTlQpIHtcbiAgICAgICAgY29uc3QgaG9zdDogSG9zdEVsZW1lbnQgPSBjb25zdW1lciBhcyBhbnk7XG4gICAgICAgIGNvbnN0IHFybCA9IGNvbnRhaW5lci5nZXRIb3N0UHJvcDxRUkxJbnRlcm5hbDxPblJlbmRlckZuPHVua25vd24+Pj4oaG9zdCwgT25SZW5kZXJQcm9wKTtcbiAgICAgICAgYXNzZXJ0RGVmaW5lZChxcmwsICdDb21wb25lbnQgbXVzdCBoYXZlIFFSTCcpO1xuICAgICAgICBjb25zdCBwcm9wcyA9IGNvbnRhaW5lci5nZXRIb3N0UHJvcDxQcm9wcz4oaG9zdCwgRUxFTUVOVF9QUk9QUyk7XG4gICAgICAgIGNvbnRhaW5lci4kc2NoZWR1bGVyJChDaG9yZVR5cGUuQ09NUE9ORU5ULCBob3N0LCBxcmwsIHByb3BzKTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcGVydHkgPT09IEVmZmVjdFByb3BlcnR5LlZOT0RFKSB7XG4gICAgICAgIGlmIChpc0Jyb3dzZXIpIHtcbiAgICAgICAgICBjb25zdCBob3N0OiBIb3N0RWxlbWVudCA9IGNvbnN1bWVyO1xuICAgICAgICAgIGNvbnRhaW5lci4kc2NoZWR1bGVyJChDaG9yZVR5cGUuTk9ERV9ESUZGLCBob3N0LCBob3N0LCBzaWduYWwgYXMgU2lnbmFsSW1wbCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGhvc3Q6IEhvc3RFbGVtZW50ID0gY29uc3VtZXI7XG4gICAgICAgIGNvbnN0IGVmZmVjdERhdGEgPSBlZmZlY3RTdWJzY3JpcHRpb25bRWZmZWN0U3Vic2NyaXB0aW9uUHJvcC5EQVRBXTtcbiAgICAgICAgaWYgKGVmZmVjdERhdGEgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb25EYXRhKSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGVmZmVjdERhdGEuZGF0YTtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkOiBOb2RlUHJvcFBheWxvYWQgPSB7XG4gICAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgICAgJHZhbHVlJDogc2lnbmFsIGFzIFNpZ25hbEltcGwsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb250YWluZXIuJHNjaGVkdWxlciQoQ2hvcmVUeXBlLk5PREVfUFJPUCwgaG9zdCwgcHJvcGVydHksIHBheWxvYWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IGVmZmVjdCBvZiBlZmZlY3RzKSB7XG4gICAgICBzY2hlZHVsZUVmZmVjdChlZmZlY3QpO1xuICAgIH1cbiAgfVxuXG4gIERFQlVHICYmIGxvZygnZG9uZSBzY2hlZHVsaW5nJyk7XG59O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgaXNTZXJpYWxpemVyT2JqID0gPFQgZXh0ZW5kcyB7IFtTZXJpYWxpemVyU3ltYm9sXTogKG9iajogYW55KSA9PiBhbnkgfSwgUz4oXG4gIG9iajogdW5rbm93blxuKTogb2JqIGlzIEN1c3RvbVNlcmlhbGl6YWJsZTxULCBTPiA9PiB7XG4gIHJldHVybiBpc09iamVjdChvYmopICYmIHR5cGVvZiAob2JqIGFzIGFueSlbU2VyaWFsaXplclN5bWJvbF0gPT09ICdmdW5jdGlvbic7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q29tcHV0ZWRTaWduYWxGbGFncyA9IChcbiAgc2VyaWFsaXphdGlvblN0cmF0ZWd5OiBTZXJpYWxpemF0aW9uU3RyYXRlZ3lcbik6IFNlcmlhbGl6YXRpb25TaWduYWxGbGFncyB8IFNpZ25hbEZsYWdzID0+IHtcbiAgbGV0IGZsYWdzID0gU2lnbmFsRmxhZ3MuSU5WQUxJRDtcbiAgc3dpdGNoIChzZXJpYWxpemF0aW9uU3RyYXRlZ3kpIHtcbiAgICAvLyBUT0RPOiBpbXBsZW1lbnQgdGhpcyBpbiB0aGUgZnV0dXJlXG4gICAgLy8gY2FzZSAnYXV0byc6XG4gICAgLy8gICBmbGFncyB8PSBDb21wdXRlZFNpZ25hbEZsYWdzLlNFUklBTElaQVRJT05fU1RSQVRFR1lfQVVUTztcbiAgICAvLyAgIGJyZWFrO1xuICAgIGNhc2UgJ25ldmVyJzpcbiAgICAgIGZsYWdzIHw9IFNlcmlhbGl6YXRpb25TaWduYWxGbGFncy5TRVJJQUxJWkFUSU9OX1NUUkFURUdZX05FVkVSO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnYWx3YXlzJzpcbiAgICAgIGZsYWdzIHw9IFNlcmlhbGl6YXRpb25TaWduYWxGbGFncy5TRVJJQUxJWkFUSU9OX1NUUkFURUdZX0FMV0FZUztcbiAgICAgIGJyZWFrO1xuICB9XG4gIHJldHVybiBmbGFncztcbn07XG4iXX0=","import { isSignal } from './reactive-primitives/utils';\n// ^ keep this first to avoid circular dependency breaking class extend\nimport { vnode_isVNode } from './client/vnode';\nimport { ComputedSignalImpl } from './reactive-primitives/impl/computed-signal-impl';\nimport { isStore } from './reactive-primitives/impl/store';\nimport { WrappedSignalImpl } from './reactive-primitives/impl/wrapped-signal-impl';\nimport { isJSXNode } from './shared/jsx/jsx-node';\nimport { isQrl } from './shared/qrl/qrl-utils';\nimport { DEBUG_TYPE } from './shared/types';\nimport { isTask } from './use/use-task';\nconst stringifyPath = [];\nexport function qwikDebugToString(value) {\n    if (value === null) {\n        return 'null';\n    }\n    else if (value === undefined) {\n        return 'undefined';\n    }\n    else if (typeof value === 'string') {\n        return '\"' + value + '\"';\n    }\n    else if (typeof value === 'number' || typeof value === 'boolean') {\n        return String(value);\n    }\n    else if (isTask(value)) {\n        return `Task(${qwikDebugToString(value.$qrl$)})`;\n    }\n    else if (isQrl(value)) {\n        return `Qrl(${value.$symbol$})`;\n    }\n    else if (typeof value === 'object' || typeof value === 'function') {\n        if (stringifyPath.includes(value)) {\n            return '*';\n        }\n        if (stringifyPath.length > 10) {\n            // debugger;\n        }\n        try {\n            stringifyPath.push(value);\n            if (Array.isArray(value)) {\n                if (vnode_isVNode(value)) {\n                    return '(' + value.getProp(DEBUG_TYPE, null) + ')';\n                }\n                else {\n                    return value.map(qwikDebugToString);\n                }\n            }\n            else if (isSignal(value)) {\n                if (value instanceof WrappedSignalImpl) {\n                    return 'WrappedSignal';\n                }\n                else if (value instanceof ComputedSignalImpl) {\n                    return 'ComputedSignal';\n                }\n                else {\n                    return 'Signal';\n                }\n            }\n            else if (isStore(value)) {\n                return 'Store';\n            }\n            else if (isJSXNode(value)) {\n                return jsxToString(value);\n            }\n            else if (vnode_isVNode(value)) {\n                return '(' + value.getProp(DEBUG_TYPE, null) + ')';\n            }\n        }\n        finally {\n            stringifyPath.pop();\n        }\n    }\n    return value;\n}\nexport const pad = (text, prefix) => {\n    return String(text)\n        .split('\\n')\n        .map((line, idx) => (idx ? prefix : '') + line)\n        .join('\\n');\n};\nexport const jsxToString = (value) => {\n    if (isJSXNode(value)) {\n        let str = '<' + value.type;\n        if (value.props) {\n            for (const [key, val] of Object.entries(value.props)) {\n                str += ' ' + key + '=' + qwikDebugToString(val);\n            }\n            const children = value.children;\n            if (children != null) {\n                str += '>';\n                if (Array.isArray(children)) {\n                    children.forEach((child) => {\n                        str += jsxToString(child);\n                    });\n                }\n                else {\n                    str += jsxToString(children);\n                }\n                str += '</' + value.type + '>';\n            }\n            else {\n                str += '/>';\n            }\n        }\n        return str;\n    }\n    else {\n        return String(value);\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVidWcuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvZGVidWcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQ3ZELHVFQUF1RTtBQUN2RSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDL0MsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0saURBQWlELENBQUM7QUFDckYsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLGtDQUFrQyxDQUFDO0FBQzNELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGdEQUFnRCxDQUFDO0FBQ25GLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUNsRCxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDL0MsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzVDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUV4QyxNQUFNLGFBQWEsR0FBVSxFQUFFLENBQUM7QUFDaEMsTUFBTSxVQUFVLGlCQUFpQixDQUFDLEtBQVU7SUFDMUMsSUFBSSxLQUFLLEtBQUssSUFBSSxFQUFFLENBQUM7UUFDbkIsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQztTQUFNLElBQUksS0FBSyxLQUFLLFNBQVMsRUFBRSxDQUFDO1FBQy9CLE9BQU8sV0FBVyxDQUFDO0lBQ3JCLENBQUM7U0FBTSxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRSxDQUFDO1FBQ3JDLE9BQU8sR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUM7SUFDM0IsQ0FBQztTQUFNLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxJQUFJLE9BQU8sS0FBSyxLQUFLLFNBQVMsRUFBRSxDQUFDO1FBQ25FLE9BQU8sTUFBTSxDQUFDLEtB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QUssQ0FBQyxJQUFJLENBQUM7UUFDM0IsSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDaEIsS0FBSyxNQUFNLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7Z0JBQ3JELEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNsRCxDQUFDO1lBQ0QsTUFBTSxRQUFRLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQztZQUNoQyxJQUFJLFFBQVEsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDckIsR0FBRyxJQUFJLEdBQUcsQ0FBQztnQkFDWCxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztvQkFDNUIsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFO3dCQUN6QixHQUFHLElBQUksV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUM1QixDQUFDLENBQUMsQ0FBQztnQkFDTCxDQUFDO3FCQUFNLENBQUM7b0JBQ04sR0FBRyxJQUFJLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDL0IsQ0FBQztnQkFDRCxHQUFHLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO1lBQ2pDLENBQUM7aUJBQU0sQ0FBQztnQkFDTixHQUFHLElBQUksSUFBSSxDQUFDO1lBQ2QsQ0FBQztRQUNILENBQUM7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7U0FBTSxDQUFDO1FBQ04sT0FBTyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdkIsQ0FBQztBQUNILENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzU2lnbmFsIH0gZnJvbSAnLi9yZWFjdGl2ZS1wcmltaXRpdmVzL3V0aWxzJztcbi8vIF4ga2VlcCB0aGlzIGZpcnN0IHRvIGF2b2lkIGNpcmN1bGFyIGRlcGVuZGVuY3kgYnJlYWtpbmcgY2xhc3MgZXh0ZW5kXG5pbXBvcnQgeyB2bm9kZV9pc1ZOb2RlIH0gZnJvbSAnLi9jbGllbnQvdm5vZGUnO1xuaW1wb3J0IHsgQ29tcHV0ZWRTaWduYWxJbXBsIH0gZnJvbSAnLi9yZWFjdGl2ZS1wcmltaXRpdmVzL2ltcGwvY29tcHV0ZWQtc2lnbmFsLWltcGwnO1xuaW1wb3J0IHsgaXNTdG9yZSB9IGZyb20gJy4vcmVhY3RpdmUtcHJpbWl0aXZlcy9pbXBsL3N0b3JlJztcbmltcG9ydCB7IFdyYXBwZWRTaWduYWxJbXBsIH0gZnJvbSAnLi9yZWFjdGl2ZS1wcmltaXRpdmVzL2ltcGwvd3JhcHBlZC1zaWduYWwtaW1wbCc7XG5pbXBvcnQgeyBpc0pTWE5vZGUgfSBmcm9tICcuL3NoYXJlZC9qc3gvanN4LW5vZGUnO1xuaW1wb3J0IHsgaXNRcmwgfSBmcm9tICcuL3NoYXJlZC9xcmwvcXJsLXV0aWxzJztcbmltcG9ydCB7IERFQlVHX1RZUEUgfSBmcm9tICcuL3NoYXJlZC90eXBlcyc7XG5pbXBvcnQgeyBpc1Rhc2sgfSBmcm9tICcuL3VzZS91c2UtdGFzayc7XG5cbmNvbnN0IHN0cmluZ2lmeVBhdGg6IGFueVtdID0gW107XG5leHBvcnQgZnVuY3Rpb24gcXdpa0RlYnVnVG9TdHJpbmcodmFsdWU6IGFueSk6IGFueSB7XG4gIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiAnbnVsbCc7XG4gIH0gZWxzZSBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiAndW5kZWZpbmVkJztcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuICdcIicgKyB2YWx1ZSArICdcIic7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICB9IGVsc2UgaWYgKGlzVGFzayh2YWx1ZSkpIHtcbiAgICByZXR1cm4gYFRhc2soJHtxd2lrRGVidWdUb1N0cmluZyh2YWx1ZS4kcXJsJCl9KWA7XG4gIH0gZWxzZSBpZiAoaXNRcmwodmFsdWUpKSB7XG4gICAgcmV0dXJuIGBRcmwoJHt2YWx1ZS4kc3ltYm9sJH0pYDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmIChzdHJpbmdpZnlQYXRoLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgcmV0dXJuICcqJztcbiAgICB9XG4gICAgaWYgKHN0cmluZ2lmeVBhdGgubGVuZ3RoID4gMTApIHtcbiAgICAgIC8vIGRlYnVnZ2VyO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgc3RyaW5naWZ5UGF0aC5wdXNoKHZhbHVlKTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBpZiAodm5vZGVfaXNWTm9kZSh2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gJygnICsgdmFsdWUuZ2V0UHJvcChERUJVR19UWVBFLCBudWxsKSArICcpJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWUubWFwKHF3aWtEZWJ1Z1RvU3RyaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc1NpZ25hbCh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgV3JhcHBlZFNpZ25hbEltcGwpIHtcbiAgICAgICAgICByZXR1cm4gJ1dyYXBwZWRTaWduYWwnO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgQ29tcHV0ZWRTaWduYWxJbXBsKSB7XG4gICAgICAgICAgcmV0dXJuICdDb21wdXRlZFNpZ25hbCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuICdTaWduYWwnO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzU3RvcmUodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAnU3RvcmUnO1xuICAgICAgfSBlbHNlIGlmIChpc0pTWE5vZGUodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBqc3hUb1N0cmluZyh2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHZub2RlX2lzVk5vZGUodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAnKCcgKyB2YWx1ZS5nZXRQcm9wKERFQlVHX1RZUEUsIG51bGwpICsgJyknO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzdHJpbmdpZnlQYXRoLnBvcCgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmV4cG9ydCBjb25zdCBwYWQgPSAodGV4dDogc3RyaW5nLCBwcmVmaXg6IHN0cmluZykgPT4ge1xuICByZXR1cm4gU3RyaW5nKHRleHQpXG4gICAgLnNwbGl0KCdcXG4nKVxuICAgIC5tYXAoKGxpbmUsIGlkeCkgPT4gKGlkeCA/IHByZWZpeCA6ICcnKSArIGxpbmUpXG4gICAgLmpvaW4oJ1xcbicpO1xufTtcblxuZXhwb3J0IGNvbnN0IGpzeFRvU3RyaW5nID0gKHZhbHVlOiBhbnkpOiBzdHJpbmcgPT4ge1xuICBpZiAoaXNKU1hOb2RlKHZhbHVlKSkge1xuICAgIGxldCBzdHIgPSAnPCcgKyB2YWx1ZS50eXBlO1xuICAgIGlmICh2YWx1ZS5wcm9wcykge1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKHZhbHVlLnByb3BzKSkge1xuICAgICAgICBzdHIgKz0gJyAnICsga2V5ICsgJz0nICsgcXdpa0RlYnVnVG9TdHJpbmcodmFsKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gdmFsdWUuY2hpbGRyZW47XG4gICAgICBpZiAoY2hpbGRyZW4gIT0gbnVsbCkge1xuICAgICAgICBzdHIgKz0gJz4nO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgc3RyICs9IGpzeFRvU3RyaW5nKGNoaWxkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHIgKz0ganN4VG9TdHJpbmcoY2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgICAgIHN0ciArPSAnPC8nICsgdmFsdWUudHlwZSArICc+JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ciArPSAnLz4nO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICB9XG59O1xuIl19","import { pad, qwikDebugToString } from '../../debug';\nimport { assertTrue } from '../../shared/error/assert';\nimport { tryGetInvokeContext } from '../../use/use-core';\nimport { isObject, isSerializableObject } from '../../shared/utils/types';\nimport { addQrlToSerializationCtx, ensureContainsBackRef, ensureContainsSubscription, } from '../utils';\nimport { STORE_ALL_PROPS, STORE_HANDLER, STORE_TARGET, } from '../types';\nconst DEBUG = false;\n// eslint-disable-next-line no-console\nconst log = (...args) => console.log('STORE', ...args.map(qwikDebugToString));\nexport const getStoreHandler = (value) => {\n    return value[STORE_HANDLER];\n};\nexport const getStoreTarget = (value) => {\n    return value?.[STORE_TARGET] || null;\n};\n/**\n * Force a store to recompute and schedule effects.\n *\n * @public\n */\nexport const forceStoreEffects = (value, prop) => {\n    const handler = getStoreHandler(value);\n    if (handler) {\n        handler.force(prop);\n    }\n};\n/**\n * @returns True if the store has effects for the given prop\n * @internal\n */\nexport const _hasStoreEffects = (value, prop) => {\n    const handler = getStoreHandler(value);\n    if (handler) {\n        return (handler.$effects$?.get(prop)?.size ?? 0) > 0;\n    }\n    return false;\n};\n/**\n * Get the original object that was wrapped by the store. Useful if you want to clone a store\n * (structuredClone, IndexedDB,...)\n *\n * @public\n */\nexport const unwrapStore = (value) => {\n    return getStoreTarget(value) || value;\n};\n/** @internal */\nexport const isStore = (value) => {\n    return STORE_TARGET in value;\n};\nexport function createStore(container, obj, flags) {\n    return new Proxy(obj, new StoreHandler(flags, container || null));\n}\nexport const getOrCreateStore = (obj, flags, container) => {\n    if (isSerializableObject(obj) && container) {\n        let store = container.$storeProxyMap$.get(obj);\n        if (!store) {\n            store = createStore(container, obj, flags);\n            container.$storeProxyMap$.set(obj, store);\n        }\n        return store;\n    }\n    return obj;\n};\nexport class StoreHandler {\n    $flags$;\n    $container$;\n    $effects$ = null;\n    constructor($flags$, $container$) {\n        this.$flags$ = $flags$;\n        this.$container$ = $container$;\n    }\n    toString() {\n        return '[Store]';\n    }\n    force(prop) {\n        const target = getStoreTarget(this);\n        this.$container$?.$scheduler$(7 /* ChoreType.RECOMPUTE_AND_SCHEDULE_EFFECTS */, null, this, getEffects(target, prop, this.$effects$));\n    }\n    get(target, prop) {\n        // TODO(perf): handle better `slice` calls\n        if (typeof prop === 'symbol') {\n            if (prop === STORE_TARGET) {\n                return target;\n            }\n            if (prop === STORE_HANDLER) {\n                return this;\n            }\n            return target[prop];\n        }\n        const ctx = tryGetInvokeContext();\n        const value = target[prop];\n        if (ctx) {\n            if (this.$container$ === null) {\n                if (!ctx.$container$) {\n                    return value;\n                }\n                // Grab the container now we have access to it\n                this.$container$ = ctx.$container$;\n            }\n            else {\n                assertTrue(!ctx.$container$ || ctx.$container$ === this.$container$, 'Do not use signals across containers');\n            }\n            const effectSubscriber = ctx.$effectSubscriber$;\n            if (effectSubscriber) {\n                addStoreEffect(target, Array.isArray(target) ? STORE_ALL_PROPS : prop, this, effectSubscriber);\n            }\n        }\n        if (prop === 'toString' && value === Object.prototype.toString) {\n            return this.toString;\n        }\n        const flags = this.$flags$;\n        if (flags & 1 /* StoreFlags.RECURSIVE */ &&\n            isObject(value) &&\n            !Object.isFrozen(value) &&\n            !isStore(value) &&\n            !Object.isFrozen(target)) {\n            return getOrCreateStore(value, this.$flags$, this.$container$);\n        }\n        return value;\n    }\n    /** In the case of oldValue and value are the same, the effects are not triggered. */\n    set(target, prop, value) {\n        if (typeof prop === 'symbol') {\n            target[prop] = value;\n            return true;\n        }\n        const newValue = this.$flags$ & 1 /* StoreFlags.RECURSIVE */ ? unwrapStore(value) : value;\n        if (prop in target) {\n            const oldValue = target[prop];\n            if (newValue !== oldValue) {\n                DEBUG && log('Store.set', oldValue, '->', newValue, pad('\\n' + this.toString(), '  '));\n                setNewValueAndTriggerEffects(prop, newValue, target, this);\n            }\n        }\n        else {\n            DEBUG && log('Store.set', 'create property', newValue, pad('\\n' + this.toString(), '  '));\n            setNewValueAndTriggerEffects(prop, newValue, target, this);\n        }\n        return true;\n    }\n    deleteProperty(target, prop) {\n        if (typeof prop != 'string' || !delete target[prop]) {\n            return false;\n        }\n        if (!Array.isArray(target)) {\n            // If the target is an array, we don't need to trigger effects.\n            // Changing the length property will trigger effects.\n            this.$container$?.$scheduler$(7 /* ChoreType.RECOMPUTE_AND_SCHEDULE_EFFECTS */, null, this, getEffects(target, prop, this.$effects$));\n        }\n        return true;\n    }\n    has(target, prop) {\n        if (prop === STORE_TARGET) {\n            return true;\n        }\n        if (typeof prop === 'string') {\n            const ctx = tryGetInvokeContext();\n            if (ctx) {\n                const effectSubscriber = ctx.$effectSubscriber$;\n                if (effectSubscriber) {\n                    addStoreEffect(target, Array.isArray(target) ? STORE_ALL_PROPS : prop, this, effectSubscriber);\n                }\n            }\n        }\n        return Object.prototype.hasOwnProperty.call(target, prop);\n    }\n    ownKeys(target) {\n        const ctx = tryGetInvokeContext();\n        const effectSubscriber = ctx?.$effectSubscriber$;\n        if (effectSubscriber) {\n            addStoreEffect(target, STORE_ALL_PROPS, this, effectSubscriber);\n        }\n        return Reflect.ownKeys(target);\n    }\n    getOwnPropertyDescriptor(target, prop) {\n        const descriptor = Reflect.getOwnPropertyDescriptor(target, prop);\n        if (Array.isArray(target) || typeof prop === 'symbol') {\n            return descriptor;\n        }\n        if (descriptor && !descriptor.configurable) {\n            return descriptor;\n        }\n        return {\n            enumerable: true,\n            configurable: true,\n        };\n    }\n}\nexport function addStoreEffect(target, prop, store, effectSubscription) {\n    const effectsMap = (store.$effects$ ||= new Map());\n    let effects = effectsMap.get(prop);\n    if (!effects) {\n        effects = new Set();\n        effectsMap.set(prop, effects);\n    }\n    // Let's make sure that we have a reference to this effect.\n    // Adding reference is essentially adding a subscription, so if the signal\n    // changes we know who to notify.\n    ensureContainsSubscription(effects, effectSubscription);\n    // But when effect is scheduled in needs to be able to know which signals\n    // to unsubscribe from. So we need to store the reference from the effect back\n    // to this signal.\n    ensureContainsBackRef(effectSubscription, target);\n    addQrlToSerializationCtx(effectSubscription, store.$container$);\n    DEBUG && log('sub', pad('\\n' + store.$effects$?.entries.toString(), '  '));\n}\nfunction setNewValueAndTriggerEffects(prop, value, target, currentStore) {\n    target[prop] = value;\n    const effects = getEffects(target, prop, currentStore.$effects$);\n    if (effects) {\n        currentStore.$container$?.$scheduler$(7 /* ChoreType.RECOMPUTE_AND_SCHEDULE_EFFECTS */, null, currentStore, effects);\n    }\n}\nfunction getEffects(target, prop, storeEffects) {\n    let effectsToTrigger;\n    if (storeEffects) {\n        if (Array.isArray(target)) {\n            for (const effects of storeEffects.values()) {\n                effectsToTrigger ||= new Set();\n                for (const effect of effects) {\n                    effectsToTrigger.add(effect);\n                }\n            }\n        }\n        else {\n            effectsToTrigger = storeEffects.get(prop);\n        }\n    }\n    const storeArrayValue = storeEffects?.get(STORE_ALL_PROPS);\n    if (storeArrayValue) {\n        effectsToTrigger ||= new Set();\n        for (const effect of storeArrayValue) {\n            effectsToTrigger.add(effect);\n        }\n    }\n    return effectsToTrigger || null;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVhY3RpdmUtcHJpbWl0aXZlcy9pbXBsL3N0b3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxHQUFHLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDckQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxRQUFRLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUUxRSxPQUFPLEVBQ0wsd0JBQXdCLEVBQ3hCLHFCQUFxQixFQUNyQiwwQkFBMEIsR0FDM0IsTUFBTSxVQUFVLENBQUM7QUFDbEIsT0FBTyxFQUNMLGVBQWUsRUFDZixhQUFhLEVBQ2IsWUFBWSxHQUliLE1BQU0sVUFBVSxDQUFDO0FBR2xCLE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQztBQUVwQixzQ0FBc0M7QUFDdEMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxHQUFHLElBQVcsRUFBRSxFQUFFLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQztBQUVyRixNQUFNLENBQUMsTUFBTSxlQUFlLEdBQUcsQ0FBQyxLQUFrQixFQUF1QixFQUFFO0lBQ3pFLE9BQU8sS0FBSyxDQUFDLGFBQWEsQ0FBd0IsQ0FBQztBQUNyRCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsQ0FBd0IsS0FBUSxFQUFZLEVBQUU7SUFDMUUsT0FBTyxLQUFLLEVBQUUsQ0FBQyxZQUFZLENBQUMsSUFBSSxJQUFJLENBQUM7QUFDdkMsQ0FBQyxDQUFDO0FBRUY7Ozs7R0FJRztBQUNILE1BQU0sQ0FBQyxNQUFNLGlC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LENBQUMsV0FBVyxFQUFFLFdBQVcsbURBRW5DLElBQUksRUFDSixZQUFZLEVBQ1osT0FBTyxDQUNSLENBQUM7SUFDSixDQUFDO0FBQ0gsQ0FBQztBQUVELFNBQVMsVUFBVSxDQUNqQixNQUFTLEVBQ1QsSUFBcUIsRUFDckIsWUFBa0U7SUFFbEUsSUFBSSxnQkFBcUQsQ0FBQztJQUUxRCxJQUFJLFlBQVksRUFBRSxDQUFDO1FBQ2pCLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO1lBQzFCLEtBQUssTUFBTSxPQUFPLElBQUksWUFBWSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUM7Z0JBQzVDLGdCQUFnQixLQUFLLElBQUksR0FBRyxFQUFFLENBQUM7Z0JBQy9CLEtBQUssTUFBTSxNQUFNLElBQUksT0FBTyxFQUFFLENBQUM7b0JBQzdCLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDL0IsQ0FBQztZQUNILENBQUM7UUFDSCxDQUFDO2FBQU0sQ0FBQztZQUNOLGdCQUFnQixHQUFHLFlBQVksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDNUMsQ0FBQztJQUNILENBQUM7SUFFRCxNQUFNLGVBQWUsR0FBRyxZQUFZLEVBQUUsR0FBRyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQzNELElBQUksZUFBZSxFQUFFLENBQUM7UUFDcEIsZ0JBQWdCLEtBQUssSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUMvQixLQUFLLE1BQU0sTUFBTSxJQUFJLGVBQWUsRUFBRSxDQUFDO1lBQ3JDLGdCQUFpQixDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNoQyxDQUFDO0lBQ0gsQ0FBQztJQUNELE9BQU8sZ0JBQWdCLElBQUksSUFBSSxDQUFDO0FBQ2xDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYWQsIHF3aWtEZWJ1Z1RvU3RyaW5nIH0gZnJvbSAnLi4vLi4vZGVidWcnO1xuaW1wb3J0IHsgYXNzZXJ0VHJ1ZSB9IGZyb20gJy4uLy4uL3NoYXJlZC9lcnJvci9hc3NlcnQnO1xuaW1wb3J0IHsgdHJ5R2V0SW52b2tlQ29udGV4dCB9IGZyb20gJy4uLy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgeyBpc09iamVjdCwgaXNTZXJpYWxpemFibGVPYmplY3QgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBDb250YWluZXIgfSBmcm9tICcuLi8uLi9zaGFyZWQvdHlwZXMnO1xuaW1wb3J0IHtcbiAgYWRkUXJsVG9TZXJpYWxpemF0aW9uQ3R4LFxuICBlbnN1cmVDb250YWluc0JhY2tSZWYsXG4gIGVuc3VyZUNvbnRhaW5zU3Vic2NyaXB0aW9uLFxufSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQge1xuICBTVE9SRV9BTExfUFJPUFMsXG4gIFNUT1JFX0hBTkRMRVIsXG4gIFNUT1JFX1RBUkdFVCxcbiAgU3RvcmVGbGFncyxcbiAgdHlwZSBFZmZlY3RTdWJzY3JpcHRpb24sXG4gIHR5cGUgU3RvcmVUYXJnZXQsXG59IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IENob3JlVHlwZSB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlsLWNob3JlLXR5cGUnO1xuXG5jb25zdCBERUJVRyA9IGZhbHNlO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuY29uc3QgbG9nID0gKC4uLmFyZ3M6IGFueVtdKSA9PiBjb25zb2xlLmxvZygnU1RPUkUnLCAuLi5hcmdzLm1hcChxd2lrRGVidWdUb1N0cmluZykpO1xuXG5leHBvcnQgY29uc3QgZ2V0U3RvcmVIYW5kbGVyID0gKHZhbHVlOiBTdG9yZVRhcmdldCk6IFN0b3JlSGFuZGxlciB8IG51bGwgPT4ge1xuICByZXR1cm4gdmFsdWVbU1RPUkVfSEFORExFUl0gYXMgU3RvcmVIYW5kbGVyIHwgbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTdG9yZVRhcmdldCA9IDxUIGV4dGVuZHMgU3RvcmVUYXJnZXQ+KHZhbHVlOiBUKTogVCB8IG51bGwgPT4ge1xuICByZXR1cm4gdmFsdWU/LltTVE9SRV9UQVJHRVRdIHx8IG51bGw7XG59O1xuXG4vKipcbiAqIEZvcmNlIGEgc3RvcmUgdG8gcmVjb21wdXRlIGFuZCBzY2hlZHVsZSBlZmZlY3RzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGZvcmNlU3RvcmVFZmZlY3RzID0gKHZhbHVlOiBTdG9yZVRhcmdldCwgcHJvcDoga2V5b2YgU3RvcmVUYXJnZXQpOiB2b2lkID0+IHtcbiAgY29uc3QgaGFuZGxlciA9IGdldFN0b3JlSGFuZGxlcih2YWx1ZSk7XG4gIGlmIChoYW5kbGVyKSB7XG4gICAgaGFuZGxlci5mb3JjZShwcm9wKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBzdG9yZSBoYXMgZWZmZWN0cyBmb3IgdGhlIGdpdmVuIHByb3BcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgX2hhc1N0b3JlRWZmZWN0cyA9ICh2YWx1ZTogU3RvcmVUYXJnZXQsIHByb3A6IGtleW9mIFN0b3JlVGFyZ2V0KTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IGhhbmRsZXIgPSBnZXRTdG9yZUhhbmRsZXIodmFsdWUpO1xuICBpZiAoaGFuZGxlcikge1xuICAgIHJldHVybiAoaGFuZGxlci4kZWZmZWN0cyQ/LmdldChwcm9wKT8uc2l6ZSA/PyAwKSA+IDA7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIG9yaWdpbmFsIG9iamVjdCB0aGF0IHdhcyB3cmFwcGVkIGJ5IHRoZSBzdG9yZS4gVXNlZnVsIGlmIHlvdSB3YW50IHRvIGNsb25lIGEgc3RvcmVcbiAqIChzdHJ1Y3R1cmVkQ2xvbmUsIEluZGV4ZWREQiwuLi4pXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgdW53cmFwU3RvcmUgPSA8VD4odmFsdWU6IFQpOiBUID0+IHtcbiAgcmV0dXJuIGdldFN0b3JlVGFyZ2V0PGFueT4odmFsdWUpIHx8IHZhbHVlO1xufTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGlzU3RvcmUgPSAodmFsdWU6IFN0b3JlVGFyZ2V0KTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBTVE9SRV9UQVJHRVQgaW4gdmFsdWU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3RvcmU8VCBleHRlbmRzIG9iamVjdD4oXG4gIGNvbnRhaW5lcjogQ29udGFpbmVyIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgb2JqOiBULFxuICBmbGFnczogU3RvcmVGbGFnc1xuKTogVCB7XG4gIHJldHVybiBuZXcgUHJveHkob2JqLCBuZXcgU3RvcmVIYW5kbGVyKGZsYWdzLCBjb250YWluZXIgfHwgbnVsbCkpIGFzIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBnZXRPckNyZWF0ZVN0b3JlID0gPFQgZXh0ZW5kcyBvYmplY3Q+KFxuICBvYmo6IFQsXG4gIGZsYWdzOiBTdG9yZUZsYWdzLFxuICBjb250YWluZXI6IENvbnRhaW5lciB8IG51bGxcbik6IFQgPT4ge1xuICBpZiAoaXNTZXJpYWxpemFibGVPYmplY3Qob2JqKSAmJiBjb250YWluZXIpIHtcbiAgICBsZXQgc3RvcmU6IFQgfCB1bmRlZmluZWQgPSBjb250YWluZXIuJHN0b3JlUHJveHlNYXAkLmdldChvYmopO1xuICAgIGlmICghc3RvcmUpIHtcbiAgICAgIHN0b3JlID0gY3JlYXRlU3RvcmUoY29udGFpbmVyLCBvYmosIGZsYWdzKTtcbiAgICAgIGNvbnRhaW5lci4kc3RvcmVQcm94eU1hcCQuc2V0KG9iaiwgc3RvcmUpO1xuICAgIH1cbiAgICByZXR1cm4gc3RvcmU7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn07XG5cbmV4cG9ydCBjbGFzcyBTdG9yZUhhbmRsZXIgaW1wbGVtZW50cyBQcm94eUhhbmRsZXI8U3RvcmVUYXJnZXQ+IHtcbiAgJGVmZmVjdHMkOiBudWxsIHwgTWFwPHN0cmluZyB8IHN5bWJvbCwgU2V0PEVmZmVjdFN1YnNjcmlwdGlvbj4+ID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgJGZsYWdzJDogU3RvcmVGbGFncyxcbiAgICBwdWJsaWMgJGNvbnRhaW5lciQ6IENvbnRhaW5lciB8IG51bGxcbiAgKSB7fVxuXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICdbU3RvcmVdJztcbiAgfVxuXG4gIGZvcmNlKHByb3A6IGtleW9mIFN0b3JlVGFyZ2V0KTogdm9pZCB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZ2V0U3RvcmVUYXJnZXQodGhpcykhO1xuICAgIHRoaXMuJGNvbnRhaW5lciQ/LiRzY2hlZHVsZXIkKFxuICAgICAgQ2hvcmVUeXBlLlJFQ09NUFVURV9BTkRfU0NIRURVTEVfRUZGRUNUUyxcbiAgICAgIG51bGwsXG4gICAgICB0aGlzLFxuICAgICAgZ2V0RWZmZWN0cyh0YXJnZXQsIHByb3AsIHRoaXMuJGVmZmVjdHMkKVxuICAgICk7XG4gIH1cblxuICBnZXQodGFyZ2V0OiBTdG9yZVRhcmdldCwgcHJvcDogc3RyaW5nIHwgc3ltYm9sKSB7XG4gICAgLy8gVE9ETyhwZXJmKTogaGFuZGxlIGJldHRlciBgc2xpY2VgIGNhbGxzXG4gICAgaWYgKHR5cGVvZiBwcm9wID09PSAnc3ltYm9sJykge1xuICAgICAgaWYgKHByb3AgPT09IFNUT1JFX1RBUkdFVCkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgfVxuICAgICAgaWYgKHByb3AgPT09IFNUT1JFX0hBTkRMRVIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGFyZ2V0W3Byb3BdO1xuICAgIH1cbiAgICBjb25zdCBjdHggPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gICAgY29uc3QgdmFsdWUgPSB0YXJnZXRbcHJvcF07XG4gICAgaWYgKGN0eCkge1xuICAgICAgaWYgKHRoaXMuJGNvbnRhaW5lciQgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKCFjdHguJGNvbnRhaW5lciQpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR3JhYiB0aGUgY29udGFpbmVyIG5vdyB3ZSBoYXZlIGFjY2VzcyB0byBpdFxuICAgICAgICB0aGlzLiRjb250YWluZXIkID0gY3R4LiRjb250YWluZXIkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXNzZXJ0VHJ1ZShcbiAgICAgICAgICAhY3R4LiRjb250YWluZXIkIHx8IGN0eC4kY29udGFpbmVyJCA9PT0gdGhpcy4kY29udGFpbmVyJCxcbiAgICAgICAgICAnRG8gbm90IHVzZSBzaWduYWxzIGFjcm9zcyBjb250YWluZXJzJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29uc3QgZWZmZWN0U3Vic2NyaWJlciA9IGN0eC4kZWZmZWN0U3Vic2NyaWJlciQ7XG4gICAgICBpZiAoZWZmZWN0U3Vic2NyaWJlcikge1xuICAgICAgICBhZGRTdG9yZUVmZmVjdChcbiAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgQXJyYXkuaXNBcnJheSh0YXJnZXQpID8gU1RPUkVfQUxMX1BST1BTIDogcHJvcCxcbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIGVmZmVjdFN1YnNjcmliZXJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocHJvcCA9PT0gJ3RvU3RyaW5nJyAmJiB2YWx1ZSA9PT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZykge1xuICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmc7XG4gICAgfVxuXG4gICAgY29uc3QgZmxhZ3MgPSB0aGlzLiRmbGFncyQ7XG4gICAgaWYgKFxuICAgICAgZmxhZ3MgJiBTdG9yZUZsYWdzLlJFQ1VSU0lWRSAmJlxuICAgICAgaXNPYmplY3QodmFsdWUpICYmXG4gICAgICAhT2JqZWN0LmlzRnJvemVuKHZhbHVlKSAmJlxuICAgICAgIWlzU3RvcmUodmFsdWUpICYmXG4gICAgICAhT2JqZWN0LmlzRnJvemVuKHRhcmdldClcbiAgICApIHtcbiAgICAgIHJldHVybiBnZXRPckNyZWF0ZVN0b3JlKHZhbHVlLCB0aGlzLiRmbGFncyQsIHRoaXMuJGNvbnRhaW5lciQpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICAvKiogSW4gdGhlIGNhc2Ugb2Ygb2xkVmFsdWUgYW5kIHZhbHVlIGFyZSB0aGUgc2FtZSwgdGhlIGVmZmVjdHMgYXJlIG5vdCB0cmlnZ2VyZWQuICovXG4gIHNldCh0YXJnZXQ6IFN0b3JlVGFyZ2V0LCBwcm9wOiBzdHJpbmcgfCBzeW1ib2wsIHZhbHVlOiBhbnkpOiBib29sZWFuIHtcbiAgICBpZiAodHlwZW9mIHByb3AgPT09ICdzeW1ib2wnKSB7XG4gICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBuZXdWYWx1ZSA9IHRoaXMuJGZsYWdzJCAmIFN0b3JlRmxhZ3MuUkVDVVJTSVZFID8gdW53cmFwU3RvcmUodmFsdWUpIDogdmFsdWU7XG4gICAgaWYgKHByb3AgaW4gdGFyZ2V0KSB7XG4gICAgICBjb25zdCBvbGRWYWx1ZSA9IHRhcmdldFtwcm9wXTtcblxuICAgICAgaWYgKG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSkge1xuICAgICAgICBERUJVRyAmJiBsb2coJ1N0b3JlLnNldCcsIG9sZFZhbHVlLCAnLT4nLCBuZXdWYWx1ZSwgcGFkKCdcXG4nICsgdGhpcy50b1N0cmluZygpLCAnICAnKSk7XG4gICAgICAgIHNldE5ld1ZhbHVlQW5kVHJpZ2dlckVmZmVjdHMocHJvcCwgbmV3VmFsdWUsIHRhcmdldCwgdGhpcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIERFQlVHICYmIGxvZygnU3RvcmUuc2V0JywgJ2NyZWF0ZSBwcm9wZXJ0eScsIG5ld1ZhbHVlLCBwYWQoJ1xcbicgKyB0aGlzLnRvU3RyaW5nKCksICcgICcpKTtcbiAgICAgIHNldE5ld1ZhbHVlQW5kVHJpZ2dlckVmZmVjdHMocHJvcCwgbmV3VmFsdWUsIHRhcmdldCwgdGhpcyk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZGVsZXRlUHJvcGVydHkodGFyZ2V0OiBTdG9yZVRhcmdldCwgcHJvcDogc3RyaW5nIHwgc3ltYm9sKTogYm9vbGVhbiB7XG4gICAgaWYgKHR5cGVvZiBwcm9wICE9ICdzdHJpbmcnIHx8ICFkZWxldGUgdGFyZ2V0W3Byb3BdKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICAvLyBJZiB0aGUgdGFyZ2V0IGlzIGFuIGFycmF5LCB3ZSBkb24ndCBuZWVkIHRvIHRyaWdnZXIgZWZmZWN0cy5cbiAgICAgIC8vIENoYW5naW5nIHRoZSBsZW5ndGggcHJvcGVydHkgd2lsbCB0cmlnZ2VyIGVmZmVjdHMuXG4gICAgICB0aGlzLiRjb250YWluZXIkPy4kc2NoZWR1bGVyJChcbiAgICAgICAgQ2hvcmVUeXBlLlJFQ09NUFVURV9BTkRfU0NIRURVTEVfRUZGRUNUUyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgdGhpcyxcbiAgICAgICAgZ2V0RWZmZWN0cyh0YXJnZXQsIHByb3AsIHRoaXMuJGVmZmVjdHMkKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBoYXModGFyZ2V0OiBTdG9yZVRhcmdldCwgcHJvcDogc3RyaW5nIHwgc3ltYm9sKSB7XG4gICAgaWYgKHByb3AgPT09IFNUT1JFX1RBUkdFVCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnN0IGN0eCA9IHRyeUdldEludm9rZUNvbnRleHQoKTtcbiAgICAgIGlmIChjdHgpIHtcbiAgICAgICAgY29uc3QgZWZmZWN0U3Vic2NyaWJlciA9IGN0eC4kZWZmZWN0U3Vic2NyaWJlciQ7XG4gICAgICAgIGlmIChlZmZlY3RTdWJzY3JpYmVyKSB7XG4gICAgICAgICAgYWRkU3RvcmVFZmZlY3QoXG4gICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICBBcnJheS5pc0FycmF5KHRhcmdldCkgPyBTVE9SRV9BTExfUFJPUFMgOiBwcm9wLFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgIGVmZmVjdFN1YnNjcmliZXJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBwcm9wKTtcbiAgfVxuXG4gIG93bktleXModGFyZ2V0OiBTdG9yZVRhcmdldCk6IEFycmF5TGlrZTxzdHJpbmcgfCBzeW1ib2w+IHtcbiAgICBjb25zdCBjdHggPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gICAgY29uc3QgZWZmZWN0U3Vic2NyaWJlciA9IGN0eD8uJGVmZmVjdFN1YnNjcmliZXIkO1xuICAgIGlmIChlZmZlY3RTdWJzY3JpYmVyKSB7XG4gICAgICBhZGRTdG9yZUVmZmVjdCh0YXJnZXQsIFNUT1JFX0FMTF9QUk9QUywgdGhpcywgZWZmZWN0U3Vic2NyaWJlcik7XG4gICAgfVxuICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcbiAgfVxuXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihcbiAgICB0YXJnZXQ6IFN0b3JlVGFyZ2V0LFxuICAgIHByb3A6IHN0cmluZyB8IHN5bWJvbFxuICApOiBQcm9wZXJ0eURlc2NyaXB0b3IgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGRlc2NyaXB0b3IgPSBSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIHByb3ApO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkgfHwgdHlwZW9mIHByb3AgPT09ICdzeW1ib2wnKSB7XG4gICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICB9XG4gICAgaWYgKGRlc2NyaXB0b3IgJiYgIWRlc2NyaXB0b3IuY29uZmlndXJhYmxlKSB7XG4gICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkU3RvcmVFZmZlY3QoXG4gIHRhcmdldDogU3RvcmVUYXJnZXQsXG4gIHByb3A6IHN0cmluZyB8IHN5bWJvbCxcbiAgc3RvcmU6IFN0b3JlSGFuZGxlcixcbiAgZWZmZWN0U3Vic2NyaXB0aW9uOiBFZmZlY3RTdWJzY3JpcHRpb25cbikge1xuICBjb25zdCBlZmZlY3RzTWFwID0gKHN0b3JlLiRlZmZlY3RzJCB8fD0gbmV3IE1hcCgpKTtcbiAgbGV0IGVmZmVjdHMgPSBlZmZlY3RzTWFwLmdldChwcm9wKTtcbiAgaWYgKCFlZmZlY3RzKSB7XG4gICAgZWZmZWN0cyA9IG5ldyBTZXQoKTtcbiAgICBlZmZlY3RzTWFwLnNldChwcm9wLCBlZmZlY3RzKTtcbiAgfVxuICAvLyBMZXQncyBtYWtlIHN1cmUgdGhhdCB3ZSBoYXZlIGEgcmVmZXJlbmNlIHRvIHRoaXMgZWZmZWN0LlxuICAvLyBBZGRpbmcgcmVmZXJlbmNlIGlzIGVzc2VudGlhbGx5IGFkZGluZyBhIHN1YnNjcmlwdGlvbiwgc28gaWYgdGhlIHNpZ25hbFxuICAvLyBjaGFuZ2VzIHdlIGtub3cgd2hvIHRvIG5vdGlmeS5cbiAgZW5zdXJlQ29udGFpbnNTdWJzY3JpcHRpb24oZWZmZWN0cywgZWZmZWN0U3Vic2NyaXB0aW9uKTtcbiAgLy8gQnV0IHdoZW4gZWZmZWN0IGlzIHNjaGVkdWxlZCBpbiBuZWVkcyB0byBiZSBhYmxlIHRvIGtub3cgd2hpY2ggc2lnbmFsc1xuICAvLyB0byB1bnN1YnNjcmliZSBmcm9tLiBTbyB3ZSBuZWVkIHRvIHN0b3JlIHRoZSByZWZlcmVuY2UgZnJvbSB0aGUgZWZmZWN0IGJhY2tcbiAgLy8gdG8gdGhpcyBzaWduYWwuXG4gIGVuc3VyZUNvbnRhaW5zQmFja1JlZihlZmZlY3RTdWJzY3JpcHRpb24sIHRhcmdldCk7XG4gIGFkZFFybFRvU2VyaWFsaXphdGlvbkN0eChlZmZlY3RTdWJzY3JpcHRpb24sIHN0b3JlLiRjb250YWluZXIkKTtcblxuICBERUJVRyAmJiBsb2coJ3N1YicsIHBhZCgnXFxuJyArIHN0b3JlLiRlZmZlY3RzJD8uZW50cmllcy50b1N0cmluZygpLCAnICAnKSk7XG59XG5cbmZ1bmN0aW9uIHNldE5ld1ZhbHVlQW5kVHJpZ2dlckVmZmVjdHM8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcgfCBzeW1ib2wsIGFueT4+KFxuICBwcm9wOiBzdHJpbmcgfCBzeW1ib2wsXG4gIHZhbHVlOiBhbnksXG4gIHRhcmdldDogVCxcbiAgY3VycmVudFN0b3JlOiBTdG9yZUhhbmRsZXJcbik6IHZvaWQge1xuICAodGFyZ2V0IGFzIGFueSlbcHJvcF0gPSB2YWx1ZTtcbiAgY29uc3QgZWZmZWN0cyA9IGdldEVmZmVjdHModGFyZ2V0LCBwcm9wLCBjdXJyZW50U3RvcmUuJGVmZmVjdHMkKTtcbiAgaWYgKGVmZmVjdHMpIHtcbiAgICBjdXJyZW50U3RvcmUuJGNvbnRhaW5lciQ/LiRzY2hlZHVsZXIkKFxuICAgICAgQ2hvcmVUeXBlLlJFQ09NUFVURV9BTkRfU0NIRURVTEVfRUZGRUNUUyxcbiAgICAgIG51bGwsXG4gICAgICBjdXJyZW50U3RvcmUsXG4gICAgICBlZmZlY3RzXG4gICAgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRFZmZlY3RzPFQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCBhbnk+PihcbiAgdGFyZ2V0OiBULFxuICBwcm9wOiBzdHJpbmcgfCBzeW1ib2wsXG4gIHN0b3JlRWZmZWN0czogTWFwPHN0cmluZyB8IHN5bWJvbCwgU2V0PEVmZmVjdFN1YnNjcmlwdGlvbj4+IHwgbnVsbFxuKSB7XG4gIGxldCBlZmZlY3RzVG9UcmlnZ2VyOiBTZXQ8RWZmZWN0U3Vic2NyaXB0aW9uPiB8IHVuZGVmaW5lZDtcblxuICBpZiAoc3RvcmVFZmZlY3RzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGFyZ2V0KSkge1xuICAgICAgZm9yIChjb25zdCBlZmZlY3RzIG9mIHN0b3JlRWZmZWN0cy52YWx1ZXMoKSkge1xuICAgICAgICBlZmZlY3RzVG9UcmlnZ2VyIHx8PSBuZXcgU2V0KCk7XG4gICAgICAgIGZvciAoY29uc3QgZWZmZWN0IG9mIGVmZmVjdHMpIHtcbiAgICAgICAgICBlZmZlY3RzVG9UcmlnZ2VyLmFkZChlZmZlY3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGVmZmVjdHNUb1RyaWdnZXIgPSBzdG9yZUVmZmVjdHMuZ2V0KHByb3ApO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHN0b3JlQXJyYXlWYWx1ZSA9IHN0b3JlRWZmZWN0cz8uZ2V0KFNUT1JFX0FMTF9QUk9QUyk7XG4gIGlmIChzdG9yZUFycmF5VmFsdWUpIHtcbiAgICBlZmZlY3RzVG9UcmlnZ2VyIHx8PSBuZXcgU2V0KCk7XG4gICAgZm9yIChjb25zdCBlZmZlY3Qgb2Ygc3RvcmVBcnJheVZhbHVlKSB7XG4gICAgICBlZmZlY3RzVG9UcmlnZ2VyIS5hZGQoZWZmZWN0KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVmZmVjdHNUb1RyaWdnZXIgfHwgbnVsbDtcbn1cbiJdfQ==","import { getStoreTarget, isStore } from '../../reactive-primitives/impl/store';\nimport { SubscriptionData } from '../../reactive-primitives/subscription-data';\nimport { NEEDS_COMPUTATION, STORE_ALL_PROPS } from '../../reactive-primitives/types';\nimport { untrack } from '../../use/use-core';\nimport { isTask } from '../../use/use-task';\nimport { isQwikComponent } from '../component.public';\nimport { isJSXNode } from '../jsx/jsx-node';\nimport { isPropsProxy } from '../jsx/props-proxy';\nimport { Slot } from '../jsx/slot.public';\nimport { isQrl } from '../qrl/qrl-utils';\nimport { _UNINITIALIZED } from '../utils/constants';\nimport { isPromise } from '../utils/promises';\nimport { isDomRef } from './serialization-context';\n// Keep last\nimport { Fragment } from '../jsx/jsx-runtime';\nexport const canSerialize = (value, seen = new WeakSet()) => {\n    if (value == null ||\n        typeof value === 'string' ||\n        typeof value === 'number' ||\n        typeof value === 'boolean' ||\n        typeof value === 'bigint') {\n        return true;\n    }\n    else if (typeof value === 'object') {\n        if (seen.has(value)) {\n            return true;\n        }\n        seen.add(value);\n        const proto = Object.getPrototypeOf(value);\n        if (isStore(value)) {\n            value = getStoreTarget(value);\n        }\n        if (proto == Object.prototype) {\n            for (const key in value) {\n                // if the value is a props proxy, then sometimes we could create a component-level subscription,\n                // so we should call untrack here to avoid tracking the value\n                if (!canSerialize(untrack(() => value[key]), seen)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        else if (proto == Array.prototype) {\n            for (let i = 0; i < value.length; i++) {\n                if (!canSerialize(value[i], seen)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        else if (isTask(value)) {\n            return true;\n        }\n        else if (isPropsProxy(value)) {\n            return true;\n        }\n        else if (isPromise(value)) {\n            return true;\n        }\n        else if (isJSXNode(value)) {\n            return true;\n        }\n        else if (value instanceof Error) {\n            return true;\n        }\n        else if (value instanceof URL) {\n            return true;\n        }\n        else if (value instanceof Date) {\n            return true;\n        }\n        else if (value instanceof RegExp) {\n            return true;\n        }\n        else if (value instanceof URLSearchParams) {\n            return true;\n        }\n        else if (value instanceof FormData) {\n            return true;\n        }\n        else if (value instanceof Set) {\n            return true;\n        }\n        else if (value instanceof Map) {\n            return true;\n        }\n        else if (value instanceof Uint8Array) {\n            return true;\n        }\n        else if (value instanceof SubscriptionData) {\n            return true;\n        }\n        else if (isDomRef?.(value)) {\n            return true;\n        }\n    }\n    else if (typeof value === 'function') {\n        if (isQrl(value) || isQwikComponent(value) || value === Slot || value === Fragment) {\n            return true;\n        }\n    }\n    else if (value === _UNINITIALIZED || value === NEEDS_COMPUTATION || value === STORE_ALL_PROPS) {\n        return true;\n    }\n    return false;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FuLXNlcmlhbGl6ZS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvc2VyZGVzL2Nhbi1zZXJpYWxpemUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxPQUFPLEVBQUUsTUFBTSxzQ0FBc0MsQ0FBQztBQUMvRSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSw2Q0FBNkMsQ0FBQztBQUMvRSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsZUFBZSxFQUFFLE1BQU0saUNBQWlDLENBQUM7QUFDckYsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQzdDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUM1QyxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDdEQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzVDLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNsRCxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDMUMsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ3pDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNwRCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDOUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ25ELFlBQVk7QUFDWixPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFFOUMsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLENBQUMsS0FBVSxFQUFFLE9BQXFCLElBQUksT0FBTyxFQUFFLEVBQVcsRUFBRTtJQUN0RixJQUNFLEtBQUssSUFBSSxJQUFJO1FBQ2IsT0FBTyxLQUFL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QUksQ0FBQztRQUNkLENBQUM7YUFBTSxJQUFJLEtBQUssWUFBWSxVQUFVLEVBQUUsQ0FBQztZQUN2QyxPQUFPLElBQUksQ0FBQztRQUNkLENBQUM7YUFBTSxJQUFJLEtBQUssWUFBWSxnQkFBZ0IsRUFBRSxDQUFDO1lBQzdDLE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQzthQUFNLElBQUksUUFBUSxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUM3QixPQUFPLElBQUksQ0FBQztRQUNkLENBQUM7SUFDSCxDQUFDO1NBQU0sSUFBSSxPQUFPLEtBQUssS0FBSyxVQUFVLEVBQUUsQ0FBQztRQUN2QyxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxlQUFlLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxLQUFLLElBQUksSUFBSSxLQUFLLEtBQUssUUFBUSxFQUFFLENBQUM7WUFDbkYsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDO0lBQ0gsQ0FBQztTQUFNLElBQUksS0FBSyxLQUFLLGNBQWMsSUFBSSxLQUFLLEtBQUssaUJBQWlCLElBQUksS0FBSyxLQUFLLGVBQWUsRUFBRSxDQUFDO1FBQ2hHLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUNELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0U3RvcmVUYXJnZXQsIGlzU3RvcmUgfSBmcm9tICcuLi8uLi9yZWFjdGl2ZS1wcmltaXRpdmVzL2ltcGwvc3RvcmUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uRGF0YSB9IGZyb20gJy4uLy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvc3Vic2NyaXB0aW9uLWRhdGEnO1xuaW1wb3J0IHsgTkVFRFNfQ09NUFVUQVRJT04sIFNUT1JFX0FMTF9QUk9QUyB9IGZyb20gJy4uLy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvdHlwZXMnO1xuaW1wb3J0IHsgdW50cmFjayB9IGZyb20gJy4uLy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgeyBpc1Rhc2sgfSBmcm9tICcuLi8uLi91c2UvdXNlLXRhc2snO1xuaW1wb3J0IHsgaXNRd2lrQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50LnB1YmxpYyc7XG5pbXBvcnQgeyBpc0pTWE5vZGUgfSBmcm9tICcuLi9qc3gvanN4LW5vZGUnO1xuaW1wb3J0IHsgaXNQcm9wc1Byb3h5IH0gZnJvbSAnLi4vanN4L3Byb3BzLXByb3h5JztcbmltcG9ydCB7IFNsb3QgfSBmcm9tICcuLi9qc3gvc2xvdC5wdWJsaWMnO1xuaW1wb3J0IHsgaXNRcmwgfSBmcm9tICcuLi9xcmwvcXJsLXV0aWxzJztcbmltcG9ydCB7IF9VTklOSVRJQUxJWkVEIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcbmltcG9ydCB7IGlzUHJvbWlzZSB9IGZyb20gJy4uL3V0aWxzL3Byb21pc2VzJztcbmltcG9ydCB7IGlzRG9tUmVmIH0gZnJvbSAnLi9zZXJpYWxpemF0aW9uLWNvbnRleHQnO1xuLy8gS2VlcCBsYXN0XG5pbXBvcnQgeyBGcmFnbWVudCB9IGZyb20gJy4uL2pzeC9qc3gtcnVudGltZSc7XG5cbmV4cG9ydCBjb25zdCBjYW5TZXJpYWxpemUgPSAodmFsdWU6IGFueSwgc2VlbjogV2Vha1NldDxhbnk+ID0gbmV3IFdlYWtTZXQoKSk6IGJvb2xlYW4gPT4ge1xuICBpZiAoXG4gICAgdmFsdWUgPT0gbnVsbCB8fFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHxcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8XG4gICAgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicgfHxcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdiaWdpbnQnXG4gICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAoc2Vlbi5oYXModmFsdWUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgc2Vlbi5hZGQodmFsdWUpO1xuICAgIGNvbnN0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKTtcbiAgICBpZiAoaXNTdG9yZSh2YWx1ZSkpIHtcbiAgICAgIHZhbHVlID0gZ2V0U3RvcmVUYXJnZXQodmFsdWUpO1xuICAgIH1cbiAgICBpZiAocHJvdG8gPT0gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgLy8gaWYgdGhlIHZhbHVlIGlzIGEgcHJvcHMgcHJveHksIHRoZW4gc29tZXRpbWVzIHdlIGNvdWxkIGNyZWF0ZSBhIGNvbXBvbmVudC1sZXZlbCBzdWJzY3JpcHRpb24sXG4gICAgICAgIC8vIHNvIHdlIHNob3VsZCBjYWxsIHVudHJhY2sgaGVyZSB0byBhdm9pZCB0cmFja2luZyB0aGUgdmFsdWVcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFjYW5TZXJpYWxpemUoXG4gICAgICAgICAgICB1bnRyYWNrKCgpID0+IHZhbHVlW2tleV0pLFxuICAgICAgICAgICAgc2VlblxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHByb3RvID09IEFycmF5LnByb3RvdHlwZSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIWNhblNlcmlhbGl6ZSh2YWx1ZVtpXSwgc2VlbikpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoaXNUYXNrKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmIChpc1Byb3BzUHJveHkodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGlzUHJvbWlzZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoaXNKU1hOb2RlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgVVJMKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEZvcm1EYXRhKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbkRhdGEpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoaXNEb21SZWY/Lih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoaXNRcmwodmFsdWUpIHx8IGlzUXdpa0NvbXBvbmVudCh2YWx1ZSkgfHwgdmFsdWUgPT09IFNsb3QgfHwgdmFsdWUgPT09IEZyYWdtZW50KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodmFsdWUgPT09IF9VTklOSVRJQUxJWkVEIHx8IHZhbHVlID09PSBORUVEU19DT01QVVRBVElPTiB8fCB2YWx1ZSA9PT0gU1RPUkVfQUxMX1BST1BTKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcbiJdfQ==","import { vnode_isVNode, vnode_toString } from '../../client/vnode';\nimport { isObject } from '../utils/types';\nimport { _typeIdNames, _constantNames } from './constants';\nconst circularProofJson = (obj, indent) => {\n    const seen = new WeakSet();\n    return JSON.stringify(obj, (_, value) => {\n        if (isObject(value)) {\n            if (seen.has(value)) {\n                return `[Circular ${value.constructor.name}]`;\n            }\n            seen.add(value);\n        }\n        return value;\n    }, indent);\n};\nconst printRaw = (value, prefix) => {\n    let result = vnode_isVNode(value)\n        ? vnode_toString.call(value, 1, '', true).replaceAll(/\\n.*/gm, '')\n        : typeof value === 'function'\n            ? String(value)\n            : circularProofJson(value, 2);\n    if (result.length > 500) {\n        result = result.slice(0, 500) + '\"...';\n    }\n    result = result.replace(/\\n/g, '\\n' + prefix);\n    return result.includes('\\n') ? (result = `\\n${prefix}${result}`) : result;\n};\nlet hasRaw = false;\n/** @internal */\nexport const _dumpState = (state, color = false, prefix = '', limit = 20) => {\n    const RED = color ? '\\x1b[31m' : '';\n    const RESET = color ? '\\x1b[0m' : '';\n    const isRoot = prefix === '';\n    const out = [];\n    for (let i = 0; i < state.length; i++) {\n        if (limit && i > 2 * limit) {\n            out.push('...');\n            break;\n        }\n        const key = state[i];\n        let value = state[++i];\n        if (key === 0 /* TypeIds.Plain */) {\n            const isRaw = typeof value !== 'number' && typeof value !== 'string';\n            if (isRaw) {\n                hasRaw = true;\n            }\n            const type = `{${isObject(value) ? value.constructor.name : typeof value}}`;\n            out.push(`${RED}${type}${RESET} ${printRaw(value, `${prefix}  `)}`);\n        }\n        else {\n            if (key === 3 /* TypeIds.Constant */) {\n                value = constantToName(value);\n            }\n            else if (typeof value === 'string') {\n                value = JSON.stringify(value);\n                if (value.length > 120) {\n                    value = value.slice(0, 120) + '\"...';\n                }\n            }\n            else if (key === 13 /* TypeIds.ForwardRefs */) {\n                value = '[' + `\\n${prefix}  ${value.join(`\\n${prefix}  `)}\\n${prefix}]`;\n            }\n            else if (Array.isArray(value)) {\n                value = value.length ? `[\\n${_dumpState(value, color, `${prefix}  `)}\\n${prefix}]` : '[]';\n            }\n            out.push(`${RED}${typeIdToName(key)}${RESET} ${value}`);\n        }\n    }\n    const result = out.map((v, i) => `${prefix}${isRoot ? `${i} ` : ''}${v}`).join('\\n');\n    if (isRoot) {\n        const count = hasRaw ? '' : `(${JSON.stringify(state).length} chars)`;\n        hasRaw = false;\n        return `\\n${result}\\n${count}`;\n    }\n    return result;\n};\nexport const typeIdToName = (code) => {\n    return _typeIdNames[code] || `Unknown(${code})`;\n};\nexport const constantToName = (code) => {\n    return _constantNames[code] || `Unknown(${code})`;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHVtcC1zdGF0ZS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvc2VyZGVzL2R1bXAtc3RhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGFBQWEsRUFBRSxjQUFjLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNuRSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDMUMsT0FBTyxFQUEyQixZQUFZLEVBQUUsY0FBYyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBRXBGLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxHQUFZLEVBQUUsTUFBd0IsRUFBRSxFQUFFO0lBQ25FLE1BQU0sSUFBSSxHQUFHLElBQUksT0FBTyxFQUFFLENBQUM7SUFDM0IsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUNuQixHQUFHLEVBQ0gsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDWCxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQ3BCLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO2dCQUNwQixPQUFPLGFBQWEsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJLEdBQUcsQ0FBQztZQUNoRCxDQUFDO1lBQ0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNsQixDQUFDO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDLEVBQ0QsTUFBTSxDQUNQLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixNQUFNLFFBQVEsR0FBRyxDQUFDLEtBQVUsRUFBRSxNQUFjLEVBQUUsRUFBRTtJQUM5QyxJQUFJLE1BQU0sR0FBRyxhQUFhLENBQUMsS0FBSyxDQUFDO1FBQy9CLENBQUMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDLFVB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QVMsQ0FBQztRQUN0RSxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ2YsT0FBTyxLQUFLLE1BQU0sS0FBSyxLQUFLLEVBQUUsQ0FBQztJQUNqQyxDQUFDO0lBQ0QsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLENBQUMsSUFBYSxFQUFFLEVBQUU7SUFDNUMsT0FBTyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksV0FBVyxJQUFJLEdBQUcsQ0FBQztBQUNsRCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsQ0FBQyxJQUFlLEVBQUUsRUFBRTtJQUNoRCxPQUFPLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxXQUFXLElBQUksR0FBRyxDQUFDO0FBQ3BELENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHZub2RlX2lzVk5vZGUsIHZub2RlX3RvU3RyaW5nIH0gZnJvbSAnLi4vLi4vY2xpZW50L3Zub2RlJztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi4vdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHsgdHlwZSBDb25zdGFudHMsIFR5cGVJZHMsIF90eXBlSWROYW1lcywgX2NvbnN0YW50TmFtZXMgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmNvbnN0IGNpcmN1bGFyUHJvb2ZKc29uID0gKG9iajogdW5rbm93biwgaW5kZW50Pzogc3RyaW5nIHwgbnVtYmVyKSA9PiB7XG4gIGNvbnN0IHNlZW4gPSBuZXcgV2Vha1NldCgpO1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoXG4gICAgb2JqLFxuICAgIChfLCB2YWx1ZSkgPT4ge1xuICAgICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICBpZiAoc2Vlbi5oYXModmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGBbQ2lyY3VsYXIgJHt2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lfV1gO1xuICAgICAgICB9XG4gICAgICAgIHNlZW4uYWRkKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIGluZGVudFxuICApO1xufTtcblxuY29uc3QgcHJpbnRSYXcgPSAodmFsdWU6IGFueSwgcHJlZml4OiBzdHJpbmcpID0+IHtcbiAgbGV0IHJlc3VsdCA9IHZub2RlX2lzVk5vZGUodmFsdWUpXG4gICAgPyB2bm9kZV90b1N0cmluZy5jYWxsKHZhbHVlLCAxLCAnJywgdHJ1ZSkucmVwbGFjZUFsbCgvXFxuLiovZ20sICcnKVxuICAgIDogdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nXG4gICAgICA/IFN0cmluZyh2YWx1ZSlcbiAgICAgIDogY2lyY3VsYXJQcm9vZkpzb24odmFsdWUsIDIpO1xuICBpZiAocmVzdWx0Lmxlbmd0aCA+IDUwMCkge1xuICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCA1MDApICsgJ1wiLi4uJztcbiAgfVxuICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSgvXFxuL2csICdcXG4nICsgcHJlZml4KTtcbiAgcmV0dXJuIHJlc3VsdC5pbmNsdWRlcygnXFxuJykgPyAocmVzdWx0ID0gYFxcbiR7cHJlZml4fSR7cmVzdWx0fWApIDogcmVzdWx0O1xufTtcblxubGV0IGhhc1JhdyA9IGZhbHNlO1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgX2R1bXBTdGF0ZSA9IChcbiAgc3RhdGU6IHVua25vd25bXSxcbiAgY29sb3IgPSBmYWxzZSxcbiAgcHJlZml4ID0gJycsXG4gIGxpbWl0OiBudW1iZXIgfCBudWxsID0gMjBcbikgPT4ge1xuICBjb25zdCBSRUQgPSBjb2xvciA/ICdcXHgxYlszMW0nIDogJyc7XG4gIGNvbnN0IFJFU0VUID0gY29sb3IgPyAnXFx4MWJbMG0nIDogJyc7XG4gIGNvbnN0IGlzUm9vdCA9IHByZWZpeCA9PT0gJyc7XG4gIGNvbnN0IG91dDogYW55W10gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChsaW1pdCAmJiBpID4gMiAqIGxpbWl0KSB7XG4gICAgICBvdXQucHVzaCgnLi4uJyk7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY29uc3Qga2V5ID0gc3RhdGVbaV07XG4gICAgbGV0IHZhbHVlID0gc3RhdGVbKytpXTtcbiAgICBpZiAoa2V5ID09PSBUeXBlSWRzLlBsYWluKSB7XG4gICAgICBjb25zdCBpc1JhdyA9IHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicgJiYgdHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJztcbiAgICAgIGlmIChpc1Jhdykge1xuICAgICAgICBoYXNSYXcgPSB0cnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgdHlwZSA9IGB7JHtpc09iamVjdCh2YWx1ZSkgPyB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIDogdHlwZW9mIHZhbHVlfX1gO1xuXG4gICAgICBvdXQucHVzaChgJHtSRUR9JHt0eXBlfSR7UkVTRVR9ICR7cHJpbnRSYXcodmFsdWUsIGAke3ByZWZpeH0gIGApfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoa2V5ID09PSBUeXBlSWRzLkNvbnN0YW50KSB7XG4gICAgICAgIHZhbHVlID0gY29uc3RhbnRUb05hbWUodmFsdWUgYXMgQ29uc3RhbnRzKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgaWYgKCh2YWx1ZSBhcyBzdHJpbmcpLmxlbmd0aCA+IDEyMCkge1xuICAgICAgICAgIHZhbHVlID0gKHZhbHVlIGFzIHN0cmluZykuc2xpY2UoMCwgMTIwKSArICdcIi4uLic7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBUeXBlSWRzLkZvcndhcmRSZWZzKSB7XG4gICAgICAgIHZhbHVlID0gJ1snICsgYFxcbiR7cHJlZml4fSAgJHsodmFsdWUgYXMgbnVtYmVyW10pLmpvaW4oYFxcbiR7cHJlZml4fSAgYCl9XFxuJHtwcmVmaXh9XWA7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUubGVuZ3RoID8gYFtcXG4ke19kdW1wU3RhdGUodmFsdWUsIGNvbG9yLCBgJHtwcmVmaXh9ICBgKX1cXG4ke3ByZWZpeH1dYCA6ICdbXSc7XG4gICAgICB9XG4gICAgICBvdXQucHVzaChgJHtSRUR9JHt0eXBlSWRUb05hbWUoa2V5IGFzIFR5cGVJZHMpfSR7UkVTRVR9ICR7dmFsdWV9YCk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHJlc3VsdCA9IG91dC5tYXAoKHYsIGkpID0+IGAke3ByZWZpeH0ke2lzUm9vdCA/IGAke2l9IGAgOiAnJ30ke3Z9YCkuam9pbignXFxuJyk7XG4gIGlmIChpc1Jvb3QpIHtcbiAgICBjb25zdCBjb3VudCA9IGhhc1JhdyA/ICcnIDogYCgke0pTT04uc3RyaW5naWZ5KHN0YXRlKS5sZW5ndGh9IGNoYXJzKWA7XG4gICAgaGFzUmF3ID0gZmFsc2U7XG4gICAgcmV0dXJuIGBcXG4ke3Jlc3VsdH1cXG4ke2NvdW50fWA7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBjb25zdCB0eXBlSWRUb05hbWUgPSAoY29kZTogVHlwZUlkcykgPT4ge1xuICByZXR1cm4gX3R5cGVJZE5hbWVzW2NvZGVdIHx8IGBVbmtub3duKCR7Y29kZX0pYDtcbn07XG5cbmV4cG9ydCBjb25zdCBjb25zdGFudFRvTmFtZSA9IChjb2RlOiBDb25zdGFudHMpID0+IHtcbiAgcmV0dXJuIF9jb25zdGFudE5hbWVzW2NvZGVdIHx8IGBVbmtub3duKCR7Y29kZX0pYDtcbn07XG4iXX0=","import { isServer } from '@qwik.dev/core/build';\n// @ts-expect-error we don't have types for the preloader\nimport { p as preload } from '@qwik.dev/core/preloader';\n/**\n * Preprocess the state data to:\n *\n * - Replace RootRef with the actual object\n * - Create a map for forward refs\n * - Create an array of indexes for initial QRLs\n *\n * Before:\n *\n * ```\n * 0 Object [\n *   String \"foo\"\n *   Object [\n *     String \"shared\"\n *     Number 1\n *   ]\n * ]\n * 1 Object [\n *   String \"bar\"\n *   RootRef 2\n * ]\n * 2 RootRef \"0 1\"\n * (59 chars)\n * ```\n *\n * After:\n *\n * ```\n * 0 Object [\n *   String \"foo\"\n *   RootRef 2\n * ]\n * 1 Object [\n *   String \"bar\"\n *   RootRef 2\n * ]\n * 2 Object [\n *   String \"shared\"\n *   Number 1\n * ]\n * (55 chars)\n * ```\n *\n * @param data - The state data to preprocess\n * @returns The preprocessed state data\n * @internal\n */\nexport function preprocessState(data, container) {\n    const isRootDeepRef = (type, value) => {\n        return type === 1 /* TypeIds.RootRef */ && typeof value === 'string';\n    };\n    const isForwardRefsMap = (type) => {\n        return type === 13 /* TypeIds.ForwardRefs */;\n    };\n    const isPreloadQrlType = (type) => {\n        return type === 20 /* TypeIds.PreloadQRL */;\n    };\n    const processRootRef = (index) => {\n        const rootRefPath = data[index + 1].split(' ');\n        let object = data;\n        let objectType = 1 /* TypeIds.RootRef */;\n        let typeIndex = 0;\n        let valueIndex = 0;\n        let parent = null;\n        for (let i = 0; i < rootRefPath.length; i++) {\n            parent = object;\n            typeIndex = parseInt(rootRefPath[i], 10) * 2;\n            valueIndex = typeIndex + 1;\n            objectType = object[typeIndex];\n            object = object[valueIndex];\n            if (objectType === 1 /* TypeIds.RootRef */) {\n                const rootRef = object;\n                const rootRefTypeIndex = rootRef * 2;\n                objectType = data[rootRefTypeIndex];\n                object = data[rootRefTypeIndex + 1];\n            }\n        }\n        if (parent) {\n            parent[typeIndex] = 1 /* TypeIds.RootRef */;\n            parent[valueIndex] = index / 2;\n        }\n        data[index] = objectType;\n        data[index + 1] = object;\n    };\n    const toPreload = isServer ? undefined : [];\n    for (let i = 0; i < data.length; i += 2) {\n        if (isRootDeepRef(data[i], data[i + 1])) {\n            processRootRef(i);\n        }\n        else if (isForwardRefsMap(data[i])) {\n            container.$forwardRefs$ = data[i + 1];\n        }\n        else if (!isServer && isPreloadQrlType(data[i])) {\n            // preload QRLs are always serialized as strings with chunk and symbol ids\n            const qrl = data[i + 1];\n            const chunkIdx = Number(qrl.split(' ')[0]);\n            toPreload.push(chunkIdx);\n        }\n    }\n    /**\n     * Preloads QRLs that are defined in the state data as `PreloadQRL`.\n     *\n     * This is done because when computed and custom serializer QRLs are called they need QRL to work.\n     * If the QRL is not resolved at this point, it will be resolved by throwing a promise and\n     * rerunning the whole wrapping function again. We want to avoid that, because it means that the\n     * function can execute twice.\n     *\n     * ```ts\n     * useVisibleTask$(() => {\n     *   runHeavyLogic(); // This will be called again if the QRL of `computedOrCustomSerializer` is not resolved.\n     *   console.log(computedOrCustomSerializer.value); // Throw a promise if QRL not resolved and execute visible task again.\n     * });\n     * ```\n     */\n    if (!isServer) {\n        for (const idx of toPreload) {\n            // we preload the chunk instead of the symbol so it also works in dev\n            const chunkType = data[idx * 2];\n            let chunk;\n            if (chunkType === 0 /* TypeIds.Plain */) {\n                chunk = data[idx * 2 + 1];\n            }\n            else if (chunkType === 1 /* TypeIds.RootRef */) {\n                const refIdx = data[idx * 2 + 1];\n                chunk = data[refIdx * 2 + 1];\n            }\n            else {\n                continue;\n            }\n            preload(chunk, 0.3);\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlcHJvY2Vzcy1zdGF0ZS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvc2VyZGVzL3ByZXByb2Nlc3Mtc3RhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ2hELHlEQUF5RDtBQUN6RCxPQUFPLEVBQUUsQ0FBQyxJQUFJLE9BQU8sRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBSXhEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBOENHO0FBRUgsTUFBTSxVQUFVLGVBQWUsQ0FBQyxJQUFlLEVBQUUsU0FBK0I7SUFDOUUsTUFBTSxhQUFhLEdBQUcsQ0FBQyxJQUFhLEVBQUUsS0FBYyxFQUFFLEVBQUU7UUFDdEQsT0FBTyxJQUFJLDRCQUFvQixJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsQ0FBQztJQUMvRCxDQUFDLENBQUM7SUFFRixNQUFNLGdCQUFnQixHQUFHLENBQUMsSUFBYSxFQUFFLEVBQUU7UUFDekMsT0FBTyxJQUFJLGlDQUF3QixDQUFDO0lBQ3RDLENBQUMsQ0FBQztJQUVGLE1BQU0sZ0JBQWdCLEdBQUcsQ0FBQyxJQUFhLEVBQUUsRUFBRTtRQUN6QyxPQUFPLElBQUksZ0NBQXVCLENBQUM7SUFDckMsQ0FBQyxDQUFDO0lBRUYsTUFBTSxjQUFjLEdBQUcsQ0FBQyxLQUFhLEVBQUUsRUFBRTtRQUN2QyxNQUFNLFdBQVcsR0FBSSxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBWSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMzRCxJQUFJLE1BQU0sR0FBdUIsSUFBSSxDQUFDO1FBQ3RDLElBQUksVUFBVSwwQkFBMkIsQ0FBQztRQUMxQyxJQUFJLFNBQVMsR0FBRyxDQUFDLENBQUM7UUFDbEIsSUFBSSxVQUFVLEdBQUcsQ0FBQyxDQUFDO1FBQ25C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LElBQUksU0FBUyw0QkFBb0IsRUFBRSxDQUFDO2dCQUN6QyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQVcsQ0FBQztnQkFDM0MsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBVyxDQUFDO1lBQ3pDLENBQUM7aUJBQU0sQ0FBQztnQkFDTixTQUFTO1lBQ1gsQ0FBQztZQUNELE9BQU8sQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDdEIsQ0FBQztJQUNILENBQUM7QUFDSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNTZXJ2ZXIgfSBmcm9tICdAcXdpay5kZXYvY29yZS9idWlsZCc7XG4vLyBAdHMtZXhwZWN0LWVycm9yIHdlIGRvbid0IGhhdmUgdHlwZXMgZm9yIHRoZSBwcmVsb2FkZXJcbmltcG9ydCB7IHAgYXMgcHJlbG9hZCB9IGZyb20gJ0Bxd2lrLmRldi9jb3JlL3ByZWxvYWRlcic7XG5pbXBvcnQgdHlwZSB7IERlc2VyaWFsaXplQ29udGFpbmVyIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgVHlwZUlkcyB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuLyoqXG4gKiBQcmVwcm9jZXNzIHRoZSBzdGF0ZSBkYXRhIHRvOlxuICpcbiAqIC0gUmVwbGFjZSBSb290UmVmIHdpdGggdGhlIGFjdHVhbCBvYmplY3RcbiAqIC0gQ3JlYXRlIGEgbWFwIGZvciBmb3J3YXJkIHJlZnNcbiAqIC0gQ3JlYXRlIGFuIGFycmF5IG9mIGluZGV4ZXMgZm9yIGluaXRpYWwgUVJMc1xuICpcbiAqIEJlZm9yZTpcbiAqXG4gKiBgYGBcbiAqIDAgT2JqZWN0IFtcbiAqICAgU3RyaW5nIFwiZm9vXCJcbiAqICAgT2JqZWN0IFtcbiAqICAgICBTdHJpbmcgXCJzaGFyZWRcIlxuICogICAgIE51bWJlciAxXG4gKiAgIF1cbiAqIF1cbiAqIDEgT2JqZWN0IFtcbiAqICAgU3RyaW5nIFwiYmFyXCJcbiAqICAgUm9vdFJlZiAyXG4gKiBdXG4gKiAyIFJvb3RSZWYgXCIwIDFcIlxuICogKDU5IGNoYXJzKVxuICogYGBgXG4gKlxuICogQWZ0ZXI6XG4gKlxuICogYGBgXG4gKiAwIE9iamVjdCBbXG4gKiAgIFN0cmluZyBcImZvb1wiXG4gKiAgIFJvb3RSZWYgMlxuICogXVxuICogMSBPYmplY3QgW1xuICogICBTdHJpbmcgXCJiYXJcIlxuICogICBSb290UmVmIDJcbiAqIF1cbiAqIDIgT2JqZWN0IFtcbiAqICAgU3RyaW5nIFwic2hhcmVkXCJcbiAqICAgTnVtYmVyIDFcbiAqIF1cbiAqICg1NSBjaGFycylcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBkYXRhIC0gVGhlIHN0YXRlIGRhdGEgdG8gcHJlcHJvY2Vzc1xuICogQHJldHVybnMgVGhlIHByZXByb2Nlc3NlZCBzdGF0ZSBkYXRhXG4gKiBAaW50ZXJuYWxcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcHJlcHJvY2Vzc1N0YXRlKGRhdGE6IHVua25vd25bXSwgY29udGFpbmVyOiBEZXNlcmlhbGl6ZUNvbnRhaW5lcikge1xuICBjb25zdCBpc1Jvb3REZWVwUmVmID0gKHR5cGU6IFR5cGVJZHMsIHZhbHVlOiB1bmtub3duKSA9PiB7XG4gICAgcmV0dXJuIHR5cGUgPT09IFR5cGVJZHMuUm9vdFJlZiAmJiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnO1xuICB9O1xuXG4gIGNvbnN0IGlzRm9yd2FyZFJlZnNNYXAgPSAodHlwZTogVHlwZUlkcykgPT4ge1xuICAgIHJldHVybiB0eXBlID09PSBUeXBlSWRzLkZvcndhcmRSZWZzO1xuICB9O1xuXG4gIGNvbnN0IGlzUHJlbG9hZFFybFR5cGUgPSAodHlwZTogVHlwZUlkcykgPT4ge1xuICAgIHJldHVybiB0eXBlID09PSBUeXBlSWRzLlByZWxvYWRRUkw7XG4gIH07XG5cbiAgY29uc3QgcHJvY2Vzc1Jvb3RSZWYgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IHJvb3RSZWZQYXRoID0gKGRhdGFbaW5kZXggKyAxXSBhcyBzdHJpbmcpLnNwbGl0KCcgJyk7XG4gICAgbGV0IG9iamVjdDogdW5rbm93bltdIHwgbnVtYmVyID0gZGF0YTtcbiAgICBsZXQgb2JqZWN0VHlwZTogVHlwZUlkcyA9IFR5cGVJZHMuUm9vdFJlZjtcbiAgICBsZXQgdHlwZUluZGV4ID0gMDtcbiAgICBsZXQgdmFsdWVJbmRleCA9IDA7XG4gICAgbGV0IHBhcmVudDogdW5rbm93bltdIHwgbnVsbCA9IG51bGw7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvb3RSZWZQYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwYXJlbnQgPSBvYmplY3Q7XG5cbiAgICAgIHR5cGVJbmRleCA9IHBhcnNlSW50KHJvb3RSZWZQYXRoW2ldLCAxMCkgKiAyO1xuICAgICAgdmFsdWVJbmRleCA9IHR5cGVJbmRleCArIDE7XG5cbiAgICAgIG9iamVjdFR5cGUgPSBvYmplY3RbdHlwZUluZGV4XSBhcyBUeXBlSWRzO1xuICAgICAgb2JqZWN0ID0gb2JqZWN0W3ZhbHVlSW5kZXhdIGFzIHVua25vd25bXTtcblxuICAgICAgaWYgKG9iamVjdFR5cGUgPT09IFR5cGVJZHMuUm9vdFJlZikge1xuICAgICAgICBjb25zdCByb290UmVmID0gb2JqZWN0IGFzIHVua25vd24gYXMgbnVtYmVyO1xuICAgICAgICBjb25zdCByb290UmVmVHlwZUluZGV4ID0gcm9vdFJlZiAqIDI7XG4gICAgICAgIG9iamVjdFR5cGUgPSBkYXRhW3Jvb3RSZWZUeXBlSW5kZXhdIGFzIFR5cGVJZHM7XG4gICAgICAgIG9iamVjdCA9IGRhdGFbcm9vdFJlZlR5cGVJbmRleCArIDFdIGFzIHVua25vd25bXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocGFyZW50KSB7XG4gICAgICBwYXJlbnRbdHlwZUluZGV4XSA9IFR5cGVJZHMuUm9vdFJlZjtcbiAgICAgIHBhcmVudFt2YWx1ZUluZGV4XSA9IGluZGV4IC8gMjtcbiAgICB9XG4gICAgZGF0YVtpbmRleF0gPSBvYmplY3RUeXBlO1xuICAgIGRhdGFbaW5kZXggKyAxXSA9IG9iamVjdDtcbiAgfTtcblxuICBjb25zdCB0b1ByZWxvYWQ6IG51bWJlcltdIHwgdW5kZWZpbmVkID0gaXNTZXJ2ZXIgPyB1bmRlZmluZWQgOiBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgaWYgKGlzUm9vdERlZXBSZWYoZGF0YVtpXSBhcyBUeXBlSWRzLCBkYXRhW2kgKyAxXSkpIHtcbiAgICAgIHByb2Nlc3NSb290UmVmKGkpO1xuICAgIH0gZWxzZSBpZiAoaXNGb3J3YXJkUmVmc01hcChkYXRhW2ldIGFzIFR5cGVJZHMpKSB7XG4gICAgICBjb250YWluZXIuJGZvcndhcmRSZWZzJCA9IGRhdGFbaSArIDFdIGFzIG51bWJlcltdO1xuICAgIH0gZWxzZSBpZiAoIWlzU2VydmVyICYmIGlzUHJlbG9hZFFybFR5cGUoZGF0YVtpXSBhcyBUeXBlSWRzKSkge1xuICAgICAgLy8gcHJlbG9hZCBRUkxzIGFyZSBhbHdheXMgc2VyaWFsaXplZCBhcyBzdHJpbmdzIHdpdGggY2h1bmsgYW5kIHN5bWJvbCBpZHNcbiAgICAgIGNvbnN0IHFybCA9IGRhdGFbaSArIDFdIGFzIHN0cmluZztcbiAgICAgIGNvbnN0IGNodW5rSWR4ID0gTnVtYmVyKHFybC5zcGxpdCgnICcpWzBdKTtcbiAgICAgIHRvUHJlbG9hZCEucHVzaChjaHVua0lkeCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFByZWxvYWRzIFFSTHMgdGhhdCBhcmUgZGVmaW5lZCBpbiB0aGUgc3RhdGUgZGF0YSBhcyBgUHJlbG9hZFFSTGAuXG4gICAqXG4gICAqIFRoaXMgaXMgZG9uZSBiZWNhdXNlIHdoZW4gY29tcHV0ZWQgYW5kIGN1c3RvbSBzZXJpYWxpemVyIFFSTHMgYXJlIGNhbGxlZCB0aGV5IG5lZWQgUVJMIHRvIHdvcmsuXG4gICAqIElmIHRoZSBRUkwgaXMgbm90IHJlc29sdmVkIGF0IHRoaXMgcG9pbnQsIGl0IHdpbGwgYmUgcmVzb2x2ZWQgYnkgdGhyb3dpbmcgYSBwcm9taXNlIGFuZFxuICAgKiByZXJ1bm5pbmcgdGhlIHdob2xlIHdyYXBwaW5nIGZ1bmN0aW9uIGFnYWluLiBXZSB3YW50IHRvIGF2b2lkIHRoYXQsIGJlY2F1c2UgaXQgbWVhbnMgdGhhdCB0aGVcbiAgICogZnVuY3Rpb24gY2FuIGV4ZWN1dGUgdHdpY2UuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIHVzZVZpc2libGVUYXNrJCgoKSA9PiB7XG4gICAqICAgcnVuSGVhdnlMb2dpYygpOyAvLyBUaGlzIHdpbGwgYmUgY2FsbGVkIGFnYWluIGlmIHRoZSBRUkwgb2YgYGNvbXB1dGVkT3JDdXN0b21TZXJpYWxpemVyYCBpcyBub3QgcmVzb2x2ZWQuXG4gICAqICAgY29uc29sZS5sb2coY29tcHV0ZWRPckN1c3RvbVNlcmlhbGl6ZXIudmFsdWUpOyAvLyBUaHJvdyBhIHByb21pc2UgaWYgUVJMIG5vdCByZXNvbHZlZCBhbmQgZXhlY3V0ZSB2aXNpYmxlIHRhc2sgYWdhaW4uXG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICovXG4gIGlmICghaXNTZXJ2ZXIpIHtcbiAgICBmb3IgKGNvbnN0IGlkeCBvZiB0b1ByZWxvYWQhKSB7XG4gICAgICAvLyB3ZSBwcmVsb2FkIHRoZSBjaHVuayBpbnN0ZWFkIG9mIHRoZSBzeW1ib2wgc28gaXQgYWxzbyB3b3JrcyBpbiBkZXZcbiAgICAgIGNvbnN0IGNodW5rVHlwZSA9IGRhdGFbaWR4ICogMl0gYXMgVHlwZUlkcztcbiAgICAgIGxldCBjaHVuazogc3RyaW5nO1xuICAgICAgaWYgKGNodW5rVHlwZSA9PT0gVHlwZUlkcy5QbGFpbikge1xuICAgICAgICBjaHVuayA9IGRhdGFbaWR4ICogMiArIDFdIGFzIHN0cmluZztcbiAgICAgIH0gZWxzZSBpZiAoY2h1bmtUeXBlID09PSBUeXBlSWRzLlJvb3RSZWYpIHtcbiAgICAgICAgY29uc3QgcmVmSWR4ID0gZGF0YVtpZHggKiAyICsgMV0gYXMgbnVtYmVyO1xuICAgICAgICBjaHVuayA9IGRhdGFbcmVmSWR4ICogMiArIDFdIGFzIHN0cmluZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcHJlbG9hZChjaHVuaywgMC4zKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==","import { createSerializationContext } from './index';\nimport { assertTrue } from '../error/assert';\nimport { isNode, isElement } from '../utils/element';\nimport { wrapDeserializerProxy } from './deser-proxy';\nimport { deserializeData } from './inflate';\nimport { preprocessState } from './preprocess-state';\n/**\n * Serialize data to string using SerializationContext.\n *\n * @param data - Data to serialize\n * @internal\n */\nexport async function _serialize(data) {\n    const serializationContext = createSerializationContext(null, null, () => '', () => '', () => { }, new WeakMap());\n    for (const root of data) {\n        serializationContext.$addRoot$(root);\n    }\n    await serializationContext.$serialize$();\n    return serializationContext.$writer$.toString();\n}\n/**\n * Deserialize data from string to an array of objects.\n *\n * @param rawStateData - Data to deserialize\n * @param element - Container element\n * @internal\n */\nexport function _deserialize(rawStateData, element) {\n    if (rawStateData == null) {\n        return [];\n    }\n    const stateData = JSON.parse(rawStateData);\n    if (!Array.isArray(stateData)) {\n        return [];\n    }\n    let container;\n    if (isNode(element) && isElement(element)) {\n        container = _createDeserializeContainer(stateData, element);\n    }\n    else {\n        container = _createDeserializeContainer(stateData);\n    }\n    const output = [];\n    for (let i = 0; i < stateData.length; i += 2) {\n        output[i / 2] = deserializeData(container, stateData[i], stateData[i + 1]);\n    }\n    return output;\n}\nexport function getObjectById(id, stateData) {\n    if (typeof id === 'string') {\n        id = parseInt(id, 10);\n    }\n    assertTrue(id < stateData.length, `Invalid reference ${id} >= ${stateData.length}`);\n    return stateData[id];\n}\nexport function _createDeserializeContainer(stateData, element) {\n    // eslint-disable-next-line prefer-const\n    let state;\n    const container = {\n        $getObjectById$: (id) => getObjectById(id, state),\n        getSyncFn: (_) => {\n            const fn = () => { };\n            return fn;\n        },\n        $storeProxyMap$: new WeakMap(),\n        element: null,\n        $forwardRefs$: null,\n        $scheduler$: null,\n    };\n    preprocessState(stateData, container);\n    state = wrapDeserializerProxy(container, stateData);\n    container.$state$ = state;\n    if (element) {\n        container.element = element;\n    }\n    return container;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyZGVzLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvc2VyZGVzL3NlcmRlcy5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0sU0FBUyxDQUFDO0FBQ3JELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUU3QyxPQUFPLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ3JELE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN0RCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQzVDLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUVyRDs7Ozs7R0FLRztBQUVILE1BQU0sQ0FBQyxLQUFLLFVBQVUsVUFBVSxDQUFDLElBQWU7SUFDOUMsTUFBTSxvQkFBb0IsR0FBRywwQkFBMEIsQ0FDckQsSUFBSSxFQUNKLElBQUksRUFDSixHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQ1IsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUNSLEdBQUcsRUFBRSxHQUFFLENBQUMsRUFDUixJQUFJLE9BQU8sRUFBWSxDQUN4QixDQUFDO0lBRUYsS0FBSyxNQUFNLElBQUksSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUN4QixvQkFBb0IsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdkMsQ0FBQztJQUNELE1BQU0sb0JBQW9CLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDekMsT0FBTyxvQkFBb0IsQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUM7QUFDbEQsQ0FBQztBQUNEOzs7Ozs7R0FNRztBQUVILE1BQU0sVUFBVSxZQUFZLENBQUMsWUFBMkIsRUFBRSxPQUFpQjtJQUN6RSxJQUFJLFlBQVksSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUN6QixPQUFPLEVBQUUsQ0FBQztJQUNaLENBQUM7SUFDRCxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQzNDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUM7UUFDOUIsT0FBTyxFQUFFLENBQUM7SUFDWixDQUFDO0lBRUQsSUFBSSxTQUEyQyxDQUFDO0lBQ2hELElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLFNBQVMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDO1FBQzFDLFNBQVMsR0FBRywyQkFBMkIsQ0FBQyxTQUFTLEVBQUUsT0FBc0IsQ0FBQyxDQUFDO0lBQzdFLENBQUM7U0FBTSxDQUFDO1FBQ04sU0FBUyxHQUFHLDJCQUEyQixDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUFDRCxNQUFNLE1BQU0sR0FBRyxFQUFFLENBQUM7SUFDbEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQzdDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsZUFBZSxDQUFDLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzdFLENBQUM7SUFDRCxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDO0FBRUQsTUFBTSxVQUFVLGFBQWEsQ0FBQyxFQUFtQixFQUFFLFNBQW9CO0lBQ3JFLElBQUksT0FBTyxFQUFFLEtBQUssUUFBUSxFQUFFLENBQUM7UUFDM0IsRUFBRSxHQUFHLFFBQVEsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDeEIsQ0FBQztJQUNELFVBQVUsQ0FBQyxFQUFFLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxxQkFBcUIsRUFBRSxPQUFPLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0lBQ3BGLE9BQU8sU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3ZCLENBQUM7QUFFRCxNQUFNLFVBQVUsMkJBQTJCLENBQ3pDLFNBQW9CLEVBQ3BCLE9BQXFCO0lBRXJCLHdDQUF3QztJQUN4QyxJQUFJLEtBQWdCLENBQUM7SUFDckIsTUFBTSxTQUFTLEdBQXlCO1FBQ3RDLGVBQWUsRUFBRSxDQUFDLEVBQW1CLEVBQUUsRUFBRSxDQUFDLGFBQWEsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDO1FBQ2xFLFNBQVMsRUFBRSxDQUFDLENBQVMsRUFBRSxFQUFFO1lBQ3ZCLE1BQU0sRUFBRSxHQUFHLEdBQUcsRUFBRSxHQUFFLENBQUMsQ0FBQztZQUNwQixPQUFPLEVBQUUsQ0FBQztRQUNaLENBQUM7UUFDRCxlQUFlLEVBQUUsSUFBSSxPQUFPLEVBQUU7UUFDOUIsT0FBTyxFQUFFLElBQUk7UUFDYixhQUFhLEVBQUUsSUFBSTtRQUNuQixXQUFXLEVBQUUsSUFBSTtLQUNsQixDQUFDO0lBQ0YsZUFBZSxDQUFDLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUN0QyxLQUFLLEdBQUcscUJBQXFCLENBQUMsU0FBZ0IsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUMzRCxTQUFTLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztJQUMxQixJQUFJLE9BQU8sRUFBRSxDQUFDO1FBQ1osU0FBUyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7SUFDOUIsQ0FBQztJQUNELE9BQU8sU0FBUyxDQUFDO0FBQ25CLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVTZXJpYWxpemF0aW9uQ29udGV4dCB9IGZyb20gJy4vaW5kZXgnO1xuaW1wb3J0IHsgYXNzZXJ0VHJ1ZSB9IGZyb20gJy4uL2Vycm9yL2Fzc2VydCc7XG5pbXBvcnQgdHlwZSB7IERlc2VyaWFsaXplQ29udGFpbmVyIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaXNOb2RlLCBpc0VsZW1lbnQgfSBmcm9tICcuLi91dGlscy9lbGVtZW50JztcbmltcG9ydCB7IHdyYXBEZXNlcmlhbGl6ZXJQcm94eSB9IGZyb20gJy4vZGVzZXItcHJveHknO1xuaW1wb3J0IHsgZGVzZXJpYWxpemVEYXRhIH0gZnJvbSAnLi9pbmZsYXRlJztcbmltcG9ydCB7IHByZXByb2Nlc3NTdGF0ZSB9IGZyb20gJy4vcHJlcHJvY2Vzcy1zdGF0ZSc7XG5cbi8qKlxuICogU2VyaWFsaXplIGRhdGEgdG8gc3RyaW5nIHVzaW5nIFNlcmlhbGl6YXRpb25Db250ZXh0LlxuICpcbiAqIEBwYXJhbSBkYXRhIC0gRGF0YSB0byBzZXJpYWxpemVcbiAqIEBpbnRlcm5hbFxuICovXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfc2VyaWFsaXplKGRhdGE6IHVua25vd25bXSk6IFByb21pc2U8c3RyaW5nPiB7XG4gIGNvbnN0IHNlcmlhbGl6YXRpb25Db250ZXh0ID0gY3JlYXRlU2VyaWFsaXphdGlvbkNvbnRleHQoXG4gICAgbnVsbCxcbiAgICBudWxsLFxuICAgICgpID0+ICcnLFxuICAgICgpID0+ICcnLFxuICAgICgpID0+IHt9LFxuICAgIG5ldyBXZWFrTWFwPGFueSwgYW55PigpXG4gICk7XG5cbiAgZm9yIChjb25zdCByb290IG9mIGRhdGEpIHtcbiAgICBzZXJpYWxpemF0aW9uQ29udGV4dC4kYWRkUm9vdCQocm9vdCk7XG4gIH1cbiAgYXdhaXQgc2VyaWFsaXphdGlvbkNvbnRleHQuJHNlcmlhbGl6ZSQoKTtcbiAgcmV0dXJuIHNlcmlhbGl6YXRpb25Db250ZXh0LiR3cml0ZXIkLnRvU3RyaW5nKCk7XG59XG4vKipcbiAqIERlc2VyaWFsaXplIGRhdGEgZnJvbSBzdHJpbmcgdG8gYW4gYXJyYXkgb2Ygb2JqZWN0cy5cbiAqXG4gKiBAcGFyYW0gcmF3U3RhdGVEYXRhIC0gRGF0YSB0byBkZXNlcmlhbGl6ZVxuICogQHBhcmFtIGVsZW1lbnQgLSBDb250YWluZXIgZWxlbWVudFxuICogQGludGVybmFsXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIF9kZXNlcmlhbGl6ZShyYXdTdGF0ZURhdGE6IHN0cmluZyB8IG51bGwsIGVsZW1lbnQ/OiB1bmtub3duKTogdW5rbm93bltdIHtcbiAgaWYgKHJhd1N0YXRlRGF0YSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IHN0YXRlRGF0YSA9IEpTT04ucGFyc2UocmF3U3RhdGVEYXRhKTtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHN0YXRlRGF0YSkpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBsZXQgY29udGFpbmVyOiBEZXNlcmlhbGl6ZUNvbnRhaW5lciB8IHVuZGVmaW5lZDtcbiAgaWYgKGlzTm9kZShlbGVtZW50KSAmJiBpc0VsZW1lbnQoZWxlbWVudCkpIHtcbiAgICBjb250YWluZXIgPSBfY3JlYXRlRGVzZXJpYWxpemVDb250YWluZXIoc3RhdGVEYXRhLCBlbGVtZW50IGFzIEhUTUxFbGVtZW50KTtcbiAgfSBlbHNlIHtcbiAgICBjb250YWluZXIgPSBfY3JlYXRlRGVzZXJpYWxpemVDb250YWluZXIoc3RhdGVEYXRhKTtcbiAgfVxuICBjb25zdCBvdXRwdXQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGF0ZURhdGEubGVuZ3RoOyBpICs9IDIpIHtcbiAgICBvdXRwdXRbaSAvIDJdID0gZGVzZXJpYWxpemVEYXRhKGNvbnRhaW5lciwgc3RhdGVEYXRhW2ldLCBzdGF0ZURhdGFbaSArIDFdKTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0T2JqZWN0QnlJZChpZDogbnVtYmVyIHwgc3RyaW5nLCBzdGF0ZURhdGE6IHVua25vd25bXSk6IHVua25vd24ge1xuICBpZiAodHlwZW9mIGlkID09PSAnc3RyaW5nJykge1xuICAgIGlkID0gcGFyc2VJbnQoaWQsIDEwKTtcbiAgfVxuICBhc3NlcnRUcnVlKGlkIDwgc3RhdGVEYXRhLmxlbmd0aCwgYEludmFsaWQgcmVmZXJlbmNlICR7aWR9ID49ICR7c3RhdGVEYXRhLmxlbmd0aH1gKTtcbiAgcmV0dXJuIHN0YXRlRGF0YVtpZF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfY3JlYXRlRGVzZXJpYWxpemVDb250YWluZXIoXG4gIHN0YXRlRGF0YTogdW5rbm93bltdLFxuICBlbGVtZW50PzogSFRNTEVsZW1lbnRcbik6IERlc2VyaWFsaXplQ29udGFpbmVyIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdFxuICBsZXQgc3RhdGU6IHVua25vd25bXTtcbiAgY29uc3QgY29udGFpbmVyOiBEZXNlcmlhbGl6ZUNvbnRhaW5lciA9IHtcbiAgICAkZ2V0T2JqZWN0QnlJZCQ6IChpZDogbnVtYmVyIHwgc3RyaW5nKSA9PiBnZXRPYmplY3RCeUlkKGlkLCBzdGF0ZSksXG4gICAgZ2V0U3luY0ZuOiAoXzogbnVtYmVyKSA9PiB7XG4gICAgICBjb25zdCBmbiA9ICgpID0+IHt9O1xuICAgICAgcmV0dXJuIGZuO1xuICAgIH0sXG4gICAgJHN0b3JlUHJveHlNYXAkOiBuZXcgV2Vha01hcCgpLFxuICAgIGVsZW1lbnQ6IG51bGwsXG4gICAgJGZvcndhcmRSZWZzJDogbnVsbCxcbiAgICAkc2NoZWR1bGVyJDogbnVsbCxcbiAgfTtcbiAgcHJlcHJvY2Vzc1N0YXRlKHN0YXRlRGF0YSwgY29udGFpbmVyKTtcbiAgc3RhdGUgPSB3cmFwRGVzZXJpYWxpemVyUHJveHkoY29udGFpbmVyIGFzIGFueSwgc3RhdGVEYXRhKTtcbiAgY29udGFpbmVyLiRzdGF0ZSQgPSBzdGF0ZTtcbiAgaWYgKGVsZW1lbnQpIHtcbiAgICBjb250YWluZXIuZWxlbWVudCA9IGVsZW1lbnQ7XG4gIH1cbiAgcmV0dXJuIGNvbnRhaW5lcjtcbn1cbiJdfQ==","import { qError } from '../error/error';\nimport { isNode } from '../utils/element';\nimport { isPromise } from '../utils/promises';\nimport { isArray, isFunction, isObject, isSerializableObject } from '../utils/types';\nimport { canSerialize } from './index';\nimport { isSignal } from '../../reactive-primitives/utils';\nimport { unwrapStore } from '../../reactive-primitives/impl/store';\nimport { untrack } from '../../use/use-core';\n/** @internal */\nexport const verifySerializable = (value, preMessage) => {\n    const seen = new WeakSet();\n    return untrack(() => _verifySerializable(value, seen, '_', preMessage));\n};\nconst _verifySerializable = (value, seen, ctx, preMessage) => {\n    const unwrapped = unwrapStore(value);\n    if (unwrapped == null) {\n        return value;\n    }\n    if (shouldSerialize(unwrapped)) {\n        if (typeof unwrapped === 'object') {\n            if (seen.has(unwrapped)) {\n                return value;\n            }\n            seen.add(unwrapped);\n        }\n        if (isSignal(unwrapped)) {\n            return value;\n        }\n        if (canSerialize(unwrapped)) {\n            return value;\n        }\n        const typeObj = typeof unwrapped;\n        switch (typeObj) {\n            case 'object':\n                if (isPromise(unwrapped)) {\n                    return value;\n                }\n                if (isNode(unwrapped)) {\n                    return value;\n                }\n                if (isArray(unwrapped)) {\n                    let expectIndex = 0;\n                    // Make sure the array has no holes\n                    unwrapped.forEach((v, i) => {\n                        if (i !== expectIndex) {\n                            throw qError(3 /* QError.verifySerializable */, [unwrapped]);\n                        }\n                        _verifySerializable(v, seen, ctx + '[' + i + ']');\n                        expectIndex = i + 1;\n                    });\n                    return value;\n                }\n                if (isSerializableObject(unwrapped)) {\n                    for (const [key, item] of Object.entries(unwrapped)) {\n                        _verifySerializable(item, seen, ctx + '.' + key);\n                    }\n                    return value;\n                }\n                break;\n        }\n        let message;\n        if (preMessage) {\n            message = preMessage;\n        }\n        else {\n            message = 'Value cannot be serialized';\n        }\n        if (ctx !== '_') {\n            message += ` in ${ctx},`;\n        }\n        if (typeObj === 'object') {\n            message += ` because it's an instance of \"${value?.constructor.name}\". You might need to use 'noSerialize()' or use an object literal instead. Check out https://qwik.dev/docs/advanced/dollar/`;\n        }\n        else if (typeObj === 'function') {\n            const fnName = value.name;\n            message += ` because it's a function named \"${fnName}\". You might need to convert it to a QRL using $(fn):\\n\\nconst ${fnName} = $(${String(value)});\\n\\nPlease check out https://qwik.dev/docs/advanced/qrl/ for more information.`;\n        }\n        throw qError(3 /* QError.verifySerializable */, [message]);\n    }\n    return value;\n};\nconst noSerializeSet = /*#__PURE__*/ new WeakSet();\nconst shouldSerialize = (obj) => {\n    if (isObject(obj) || isFunction(obj)) {\n        return !noSerializeSet.has(obj) && !(NoSerializeSymbol in obj);\n    }\n    return true;\n};\nexport const fastSkipSerialize = (obj) => {\n    return (!!obj &&\n        (isObject(obj) || typeof obj === 'function') &&\n        (NoSerializeSymbol in obj || noSerializeSet.has(obj)));\n};\n// <docs markdown=\"../../readme.md#noSerialize\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../../readme.md#noSerialize instead and run `pnpm docs.sync`)\n/**\n * Marks a property on a store as non-serializable.\n *\n * At times it is necessary to store values on a store that are non-serializable. Normally this is a\n * runtime error as Store wants to eagerly report when a non-serializable property is assigned to\n * it.\n *\n * You can use `noSerialize()` to mark a value as non-serializable. The value is persisted in the\n * Store but does not survive serialization. The implication is that when your application is\n * resumed, the value of this object will be `undefined`. You will be responsible for recovering\n * from this.\n *\n * See: [noSerialize Tutorial](http://qwik.dev/tutorial/store/no-serialize)\n *\n * @public\n */\n// </docs>\nexport const noSerialize = (input) => {\n    // only add supported values to the noSerializeSet, prevent console errors\n    if ((isObject(input) && input !== null) || typeof input === 'function') {\n        noSerializeSet.add(input);\n    }\n    return input;\n};\n/**\n * If an object has this property, it will not be serialized. Use this on prototypes to avoid having\n * to call `noSerialize()` on every object.\n *\n * @public\n */\nexport const NoSerializeSymbol = Symbol('noSerialize');\n/**\n * If an object has this property as a function, it will be called with the object and should return\n * a serializable value.\n *\n * This can be used to clean up, integrate with other libraries, etc.\n *\n * The type your object should conform to is:\n *\n * ```ts\n * {\n *   [SerializerSymbol]: (this: YourType, toSerialize: YourType) => YourSerializableType;\n * }\n * ```\n *\n * @public\n */\nexport const SerializerSymbol = Symbol('serialize');\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVyaWZ5LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC9zZXJkZXMvdmVyaWZ5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBVSxNQUFNLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNoRCxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDMUMsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQzlDLE9BQU8sRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3JGLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFDdkMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGlDQUFpQyxDQUFDO0FBQzNELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxzQ0FBc0MsQ0FBQztBQUNuRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFFN0MsZ0JBQWdCO0FBQ2hCLE1BQU0sQ0FBQyxNQUFNLGtCQUFrQixHQUFHLENBQUksS0FBUSxFQUFFLFVBQW1CLEVBQUssRUFBRTtJQUN4RSxNQUFNLElBQUksR0FBRyxJQUFJLE9BQU8sRUFBRSxDQUFDO0lBQzNCLE9BQU8sT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDLG1CQUFtQixDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUM7QUFDMUUsQ0FBQyxDQUFDO0FBRUYsTUFBTSxtQkFBbUIsR0FBRyxDQUMxQixLQUFRLEVBQ1IsSUFBa0IsRUFDbEIsR0FBVyxFQUNYLFVBQW1CLEVBQ2hCLEVBQUU7SUFDTCxNQUFNLFNBQVMsR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDckMsSUFBSSxTQUFTLElBQUksSUFBSSxFQUFFLENBQUM7UUFD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LENBQUM7QUFDdEIsQ0FBQyxDQUFDO0FBRUY7Ozs7O0dBS0c7QUFDSCxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBRyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDdkQ7Ozs7Ozs7Ozs7Ozs7OztHQWVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUUVycm9yLCBxRXJyb3IgfSBmcm9tICcuLi9lcnJvci9lcnJvcic7XG5pbXBvcnQgeyBpc05vZGUgfSBmcm9tICcuLi91dGlscy9lbGVtZW50JztcbmltcG9ydCB7IGlzUHJvbWlzZSB9IGZyb20gJy4uL3V0aWxzL3Byb21pc2VzJztcbmltcG9ydCB7IGlzQXJyYXksIGlzRnVuY3Rpb24sIGlzT2JqZWN0LCBpc1NlcmlhbGl6YWJsZU9iamVjdCB9IGZyb20gJy4uL3V0aWxzL3R5cGVzJztcbmltcG9ydCB7IGNhblNlcmlhbGl6ZSB9IGZyb20gJy4vaW5kZXgnO1xuaW1wb3J0IHsgaXNTaWduYWwgfSBmcm9tICcuLi8uLi9yZWFjdGl2ZS1wcmltaXRpdmVzL3V0aWxzJztcbmltcG9ydCB7IHVud3JhcFN0b3JlIH0gZnJvbSAnLi4vLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy9pbXBsL3N0b3JlJztcbmltcG9ydCB7IHVudHJhY2sgfSBmcm9tICcuLi8uLi91c2UvdXNlLWNvcmUnO1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgdmVyaWZ5U2VyaWFsaXphYmxlID0gPFQ+KHZhbHVlOiBULCBwcmVNZXNzYWdlPzogc3RyaW5nKTogVCA9PiB7XG4gIGNvbnN0IHNlZW4gPSBuZXcgV2Vha1NldCgpO1xuICByZXR1cm4gdW50cmFjaygoKSA9PiBfdmVyaWZ5U2VyaWFsaXphYmxlKHZhbHVlLCBzZWVuLCAnXycsIHByZU1lc3NhZ2UpKTtcbn07XG5cbmNvbnN0IF92ZXJpZnlTZXJpYWxpemFibGUgPSA8VD4oXG4gIHZhbHVlOiBULFxuICBzZWVuOiBXZWFrU2V0PGFueT4sXG4gIGN0eDogc3RyaW5nLFxuICBwcmVNZXNzYWdlPzogc3RyaW5nXG4pOiBUID0+IHtcbiAgY29uc3QgdW53cmFwcGVkID0gdW53cmFwU3RvcmUodmFsdWUpO1xuICBpZiAodW53cmFwcGVkID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKHNob3VsZFNlcmlhbGl6ZSh1bndyYXBwZWQpKSB7XG4gICAgaWYgKHR5cGVvZiB1bndyYXBwZWQgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAoc2Vlbi5oYXModW53cmFwcGVkKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBzZWVuLmFkZCh1bndyYXBwZWQpO1xuICAgIH1cbiAgICBpZiAoaXNTaWduYWwodW53cmFwcGVkKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAoY2FuU2VyaWFsaXplKHVud3JhcHBlZCkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3QgdHlwZU9iaiA9IHR5cGVvZiB1bndyYXBwZWQ7XG4gICAgc3dpdGNoICh0eXBlT2JqKSB7XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBpZiAoaXNQcm9taXNlKHVud3JhcHBlZCkpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTm9kZSh1bndyYXBwZWQpKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FycmF5KHVud3JhcHBlZCkpIHtcbiAgICAgICAgICBsZXQgZXhwZWN0SW5kZXggPSAwO1xuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgYXJyYXkgaGFzIG5vIGhvbGVzXG4gICAgICAgICAgdW53cmFwcGVkLmZvckVhY2goKHYsIGkpID0+IHtcbiAgICAgICAgICAgIGlmIChpICE9PSBleHBlY3RJbmRleCkge1xuICAgICAgICAgICAgICB0aHJvdyBxRXJyb3IoUUVycm9yLnZlcmlmeVNlcmlhbGl6YWJsZSwgW3Vud3JhcHBlZF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3ZlcmlmeVNlcmlhbGl6YWJsZSh2LCBzZWVuLCBjdHggKyAnWycgKyBpICsgJ10nKTtcbiAgICAgICAgICAgIGV4cGVjdEluZGV4ID0gaSArIDE7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1NlcmlhbGl6YWJsZU9iamVjdCh1bndyYXBwZWQpKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBba2V5LCBpdGVtXSBvZiBPYmplY3QuZW50cmllcyh1bndyYXBwZWQpKSB7XG4gICAgICAgICAgICBfdmVyaWZ5U2VyaWFsaXphYmxlKGl0ZW0sIHNlZW4sIGN0eCArICcuJyArIGtleSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgbGV0IG1lc3NhZ2U6IHN0cmluZztcbiAgICBpZiAocHJlTWVzc2FnZSkge1xuICAgICAgbWVzc2FnZSA9IHByZU1lc3NhZ2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UgPSAnVmFsdWUgY2Fubm90IGJlIHNlcmlhbGl6ZWQnO1xuICAgIH1cbiAgICBpZiAoY3R4ICE9PSAnXycpIHtcbiAgICAgIG1lc3NhZ2UgKz0gYCBpbiAke2N0eH0sYDtcbiAgICB9XG4gICAgaWYgKHR5cGVPYmogPT09ICdvYmplY3QnKSB7XG4gICAgICBtZXNzYWdlICs9IGAgYmVjYXVzZSBpdCdzIGFuIGluc3RhbmNlIG9mIFwiJHt2YWx1ZT8uY29uc3RydWN0b3IubmFtZX1cIi4gWW91IG1pZ2h0IG5lZWQgdG8gdXNlICdub1NlcmlhbGl6ZSgpJyBvciB1c2UgYW4gb2JqZWN0IGxpdGVyYWwgaW5zdGVhZC4gQ2hlY2sgb3V0IGh0dHBzOi8vcXdpay5kZXYvZG9jcy9hZHZhbmNlZC9kb2xsYXIvYDtcbiAgICB9IGVsc2UgaWYgKHR5cGVPYmogPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnN0IGZuTmFtZSA9ICh2YWx1ZSBhcyBGdW5jdGlvbikubmFtZTtcbiAgICAgIG1lc3NhZ2UgKz0gYCBiZWNhdXNlIGl0J3MgYSBmdW5jdGlvbiBuYW1lZCBcIiR7Zm5OYW1lfVwiLiBZb3UgbWlnaHQgbmVlZCB0byBjb252ZXJ0IGl0IHRvIGEgUVJMIHVzaW5nICQoZm4pOlxcblxcbmNvbnN0ICR7Zm5OYW1lfSA9ICQoJHtTdHJpbmcoXG4gICAgICAgIHZhbHVlXG4gICAgICApfSk7XFxuXFxuUGxlYXNlIGNoZWNrIG91dCBodHRwczovL3F3aWsuZGV2L2RvY3MvYWR2YW5jZWQvcXJsLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gO1xuICAgIH1cbiAgICB0aHJvdyBxRXJyb3IoUUVycm9yLnZlcmlmeVNlcmlhbGl6YWJsZSwgW21lc3NhZ2VdKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuXG5jb25zdCBub1NlcmlhbGl6ZVNldCA9IC8qI19fUFVSRV9fKi8gbmV3IFdlYWtTZXQ8b2JqZWN0PigpO1xuXG5jb25zdCBzaG91bGRTZXJpYWxpemUgPSAob2JqOiB1bmtub3duKTogYm9vbGVhbiA9PiB7XG4gIGlmIChpc09iamVjdChvYmopIHx8IGlzRnVuY3Rpb24ob2JqKSkge1xuICAgIHJldHVybiAhbm9TZXJpYWxpemVTZXQuaGFzKG9iaikgJiYgIShOb1NlcmlhbGl6ZVN5bWJvbCBpbiBvYmopO1xuICB9XG4gIHJldHVybiB0cnVlO1xufTtcblxuZXhwb3J0IGNvbnN0IGZhc3RTa2lwU2VyaWFsaXplID0gKG9iajogdW5rbm93bik6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gKFxuICAgICEhb2JqICYmXG4gICAgKGlzT2JqZWN0KG9iaikgfHwgdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykgJiZcbiAgICAoTm9TZXJpYWxpemVTeW1ib2wgaW4gb2JqIHx8IG5vU2VyaWFsaXplU2V0LmhhcyhvYmopKVxuICApO1xufTtcblxuLyoqXG4gKiBSZXR1cm5lZCB0eXBlIG9mIHRoZSBgbm9TZXJpYWxpemUoKWAgZnVuY3Rpb24uIEl0IHdpbGwgYmUgVFlQRSBvciB1bmRlZmluZWQuXG4gKlxuICogQHB1YmxpY1xuICogQHNlZSBub1NlcmlhbGl6ZVxuICovXG5leHBvcnQgdHlwZSBOb1NlcmlhbGl6ZTxUPiA9IChUICYgeyBfX25vX3NlcmlhbGl6ZV9fOiB0cnVlIH0pIHwgdW5kZWZpbmVkO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uLy4uL3JlYWRtZS5tZCNub1NlcmlhbGl6ZVwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uLy4uL3JlYWRtZS5tZCNub1NlcmlhbGl6ZSBpbnN0ZWFkIGFuZCBydW4gYHBucG0gZG9jcy5zeW5jYClcbi8qKlxuICogTWFya3MgYSBwcm9wZXJ0eSBvbiBhIHN0b3JlIGFzIG5vbi1zZXJpYWxpemFibGUuXG4gKlxuICogQXQgdGltZXMgaXQgaXMgbmVjZXNzYXJ5IHRvIHN0b3JlIHZhbHVlcyBvbiBhIHN0b3JlIHRoYXQgYXJlIG5vbi1zZXJpYWxpemFibGUuIE5vcm1hbGx5IHRoaXMgaXMgYVxuICogcnVudGltZSBlcnJvciBhcyBTdG9yZSB3YW50cyB0byBlYWdlcmx5IHJlcG9ydCB3aGVuIGEgbm9uLXNlcmlhbGl6YWJsZSBwcm9wZXJ0eSBpcyBhc3NpZ25lZCB0b1xuICogaXQuXG4gKlxuICogWW91IGNhbiB1c2UgYG5vU2VyaWFsaXplKClgIHRvIG1hcmsgYSB2YWx1ZSBhcyBub24tc2VyaWFsaXphYmxlLiBUaGUgdmFsdWUgaXMgcGVyc2lzdGVkIGluIHRoZVxuICogU3RvcmUgYnV0IGRvZXMgbm90IHN1cnZpdmUgc2VyaWFsaXphdGlvbi4gVGhlIGltcGxpY2F0aW9uIGlzIHRoYXQgd2hlbiB5b3VyIGFwcGxpY2F0aW9uIGlzXG4gKiByZXN1bWVkLCB0aGUgdmFsdWUgb2YgdGhpcyBvYmplY3Qgd2lsbCBiZSBgdW5kZWZpbmVkYC4gWW91IHdpbGwgYmUgcmVzcG9uc2libGUgZm9yIHJlY292ZXJpbmdcbiAqIGZyb20gdGhpcy5cbiAqXG4gKiBTZWU6IFtub1NlcmlhbGl6ZSBUdXRvcmlhbF0oaHR0cDovL3F3aWsuZGV2L3R1dG9yaWFsL3N0b3JlL25vLXNlcmlhbGl6ZSlcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBub1NlcmlhbGl6ZSA9IDxUIGV4dGVuZHMgb2JqZWN0IHwgdW5kZWZpbmVkPihpbnB1dDogVCk6IE5vU2VyaWFsaXplPFQ+ID0+IHtcbiAgLy8gb25seSBhZGQgc3VwcG9ydGVkIHZhbHVlcyB0byB0aGUgbm9TZXJpYWxpemVTZXQsIHByZXZlbnQgY29uc29sZSBlcnJvcnNcbiAgaWYgKChpc09iamVjdChpbnB1dCkgJiYgaW5wdXQgIT09IG51bGwpIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG5vU2VyaWFsaXplU2V0LmFkZChpbnB1dCk7XG4gIH1cbiAgcmV0dXJuIGlucHV0IGFzIGFueTtcbn07XG5cbi8qKlxuICogSWYgYW4gb2JqZWN0IGhhcyB0aGlzIHByb3BlcnR5LCBpdCB3aWxsIG5vdCBiZSBzZXJpYWxpemVkLiBVc2UgdGhpcyBvbiBwcm90b3R5cGVzIHRvIGF2b2lkIGhhdmluZ1xuICogdG8gY2FsbCBgbm9TZXJpYWxpemUoKWAgb24gZXZlcnkgb2JqZWN0LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IE5vU2VyaWFsaXplU3ltYm9sID0gU3ltYm9sKCdub1NlcmlhbGl6ZScpO1xuLyoqXG4gKiBJZiBhbiBvYmplY3QgaGFzIHRoaXMgcHJvcGVydHkgYXMgYSBmdW5jdGlvbiwgaXQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgb2JqZWN0IGFuZCBzaG91bGQgcmV0dXJuXG4gKiBhIHNlcmlhbGl6YWJsZSB2YWx1ZS5cbiAqXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGNsZWFuIHVwLCBpbnRlZ3JhdGUgd2l0aCBvdGhlciBsaWJyYXJpZXMsIGV0Yy5cbiAqXG4gKiBUaGUgdHlwZSB5b3VyIG9iamVjdCBzaG91bGQgY29uZm9ybSB0byBpczpcbiAqXG4gKiBgYGB0c1xuICoge1xuICogICBbU2VyaWFsaXplclN5bWJvbF06ICh0aGlzOiBZb3VyVHlwZSwgdG9TZXJpYWxpemU6IFlvdXJUeXBlKSA9PiBZb3VyU2VyaWFsaXphYmxlVHlwZTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IFNlcmlhbGl6ZXJTeW1ib2wgPSBTeW1ib2woJ3NlcmlhbGl6ZScpO1xuIl19","// keep these imports above the rest to prevent circular dep issues\nimport { getPlatform, isServerPlatform } from '../platform/platform';\nimport { verifySerializable } from '../serdes/verify';\n// ^^^ keep these imports above the rest to prevent circular dep issues\nimport { isBrowser } from '@qwik.dev/core/build';\nimport { invoke, newInvokeContext, newInvokeContextFromTuple, tryGetInvokeContext, } from '../../use/use-core';\nimport { assertDefined } from '../error/assert';\nimport { qError } from '../error/error';\nimport { getQFuncs, QInstanceAttr } from '../utils/markers';\nimport { isPromise, maybeThen } from '../utils/promises';\nimport { qDev, qSerialize, qTest, seal } from '../utils/qdev';\nimport { isArray, isFunction } from '../utils/types';\nimport { getSymbolHash } from './qrl-utils';\n// @ts-expect-error we don't have types for the preloader\nimport { p as preload } from '@qwik.dev/core/preloader';\nconst resolvedSymbol = Symbol('resolved');\nexport const createQRL = (chunk, symbol, symbolRef, symbolFn, capture, captureRef) => {\n    if (qDev && qSerialize) {\n        if (captureRef) {\n            for (const item of captureRef) {\n                verifySerializable(item, 'Captured variable in the closure can not be serialized');\n            }\n        }\n    }\n    let _containerEl;\n    const qrl = async function (...args) {\n        const boundedFn = bindFnToContext.call(this, tryGetInvokeContext());\n        const result = await boundedFn(...args);\n        return result;\n    };\n    const setContainer = (el) => {\n        if (!_containerEl) {\n            _containerEl = el;\n        }\n        return _containerEl;\n    };\n    function bindFnToContext(currentCtx, beforeFn) {\n        // Note that we bind the current `this`\n        const bound = (...args) => {\n            if (!qrl.resolved) {\n                return qrl.resolve().then((fn) => {\n                    if (!isFunction(fn)) {\n                        throw qError(5 /* QError.qrlIsNotFunction */);\n                    }\n                    return bound(...args);\n                });\n            }\n            if (beforeFn && beforeFn() === false) {\n                return;\n            }\n            const context = createOrReuseInvocationContext(currentCtx);\n            const prevQrl = context.$qrl$;\n            const prevEvent = context.$event$;\n            // Note that we set the qrl here instead of in wrapFn because\n            // it is possible we're called on a copied qrl\n            context.$qrl$ = qrl;\n            context.$event$ ||= this;\n            try {\n                return invoke.call(this, context, symbolRef, ...args);\n            }\n            finally {\n                context.$qrl$ = prevQrl;\n                context.$event$ = prevEvent;\n            }\n        };\n        return bound;\n    }\n    // Wrap functions to provide their lexical scope\n    const wrapFn = (fn) => {\n        if (typeof fn !== 'function' || (!capture?.length && !captureRef?.length)) {\n            return fn;\n        }\n        return function (...args) {\n            let context = tryGetInvokeContext();\n            // use the given qrl if it is the right one\n            if (context) {\n                // TODO check if this is necessary in production\n                if (context.$qrl$?.$symbol$ === qrl.$symbol$) {\n                    return fn.apply(this, args);\n                }\n                const prevQrl = context.$qrl$;\n                context.$qrl$ = qrl;\n                try {\n                    return fn.apply(this, args);\n                }\n                finally {\n                    context.$qrl$ = prevQrl;\n                }\n            }\n            context = newInvokeContext();\n            context.$qrl$ = qrl;\n            context.$event$ = this;\n            return invoke.call(this, context, fn, ...args);\n        };\n    };\n    // Retrieve memoized result from symbolFn\n    if (symbolFn && resolvedSymbol in symbolFn) {\n        symbolRef = symbolFn[resolvedSymbol];\n    }\n    const resolve = symbolRef\n        ? async () => symbolRef\n        : async (containerEl) => {\n            if (symbolRef !== null) {\n                // Resolving (Promise) or already resolved (value)\n                return symbolRef;\n            }\n            if (containerEl) {\n                setContainer(containerEl);\n            }\n            if (chunk === '') {\n                // Sync QRL\n                assertDefined(_containerEl, 'Sync QRL must have container element');\n                const hash = _containerEl.getAttribute(QInstanceAttr);\n                const doc = _containerEl.ownerDocument;\n                const qFuncs = getQFuncs(doc, hash);\n                // No need to wrap, syncQRLs can't have captured scope\n                return (qrl.resolved = symbolRef = qFuncs[Number(symbol)]);\n            }\n            if (isBrowser && chunk) {\n                /** We run the QRL, so now the probability of the chunk is 100% */\n                preload(chunk, 1);\n            }\n            const start = now();\n            const ctx = tryGetInvokeContext();\n            if (symbolFn !== null) {\n                symbolRef = symbolFn().then((module) => {\n                    const resolved = wrapFn((symbolRef = module[symbol]));\n                    // We memoize the result on the symbolFn\n                    symbolFn[resolvedSymbol] = resolved;\n                    qrl.resolved = resolved;\n                    return resolved;\n                });\n            }\n            else {\n                // TODO cache the imported symbol but watch out for dev mode\n                const imported = getPlatform().importSymbol(_containerEl, chunk, symbol);\n                symbolRef = maybeThen(imported, (ref) => (qrl.resolved = wrapFn((symbolRef = ref))));\n            }\n            if (isPromise(symbolRef)) {\n                symbolRef.then(() => emitUsedSymbol(symbol, ctx?.$element$, start), (err) => {\n                    console.error(`qrl ${symbol} failed to load`, err);\n                    // We shouldn't cache rejections, we can try again later\n                    symbolRef = null;\n                });\n            }\n            return symbolRef;\n        };\n    const createOrReuseInvocationContext = (invoke) => {\n        if (invoke == null) {\n            return newInvokeContext();\n        }\n        else if (isArray(invoke)) {\n            return newInvokeContextFromTuple(invoke);\n        }\n        else {\n            return invoke;\n        }\n    };\n    const hash = getSymbolHash(symbol);\n    Object.assign(qrl, {\n        getSymbol: () => symbol,\n        getHash: () => hash,\n        // captureRef is replaced during deserialization\n        getCaptured: () => qrl.$captureRef$,\n        resolve,\n        $setContainer$: setContainer,\n        $chunk$: chunk,\n        $symbol$: symbol,\n        $hash$: hash,\n        getFn: bindFnToContext,\n        $capture$: capture,\n        $captureRef$: captureRef,\n        dev: null,\n        resolved: undefined,\n    });\n    if (symbolRef) {\n        // Unwrap any promises\n        symbolRef = maybeThen(symbolRef, (resolved) => (qrl.resolved = wrapFn((symbolRef = resolved))));\n    }\n    if (qDev) {\n        seal(qrl);\n    }\n    if (isBrowser && symbol) {\n        /**\n         * Preloading the symbol instead of the chunk allows us to get probabilities for the bundle\n         * based on its contents.\n         */\n        preload(symbol, 0.8);\n    }\n    return qrl;\n};\nconst EMITTED = /*#__PURE__*/ new Set();\nexport const emitUsedSymbol = (symbol, element, reqTime) => {\n    if (!EMITTED.has(symbol)) {\n        EMITTED.add(symbol);\n        emitEvent('qsymbol', {\n            symbol,\n            element,\n            reqTime,\n        });\n    }\n};\nexport const emitEvent = (eventName, detail) => {\n    if (!qTest && !isServerPlatform() && typeof document === 'object') {\n        document.dispatchEvent(new CustomEvent(eventName, {\n            bubbles: false,\n            detail,\n        }));\n    }\n};\nconst now = () => {\n    if (qTest || isServerPlatform()) {\n        return 0;\n    }\n    if (typeof performance === 'object') {\n        return performance.now();\n    }\n    return 0;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLWNsYXNzLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3NoYXJlZC9xcmwvcXJsLWNsYXNzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG1FQUFtRTtBQUNuRSxPQUFPLEVBQUUsV0FBVyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDckUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDdEQsdUVBQXVFO0FBRXZFLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNqRCxPQUFPLEVBQ0wsTUFBTSxFQUNOLGdCQUFnQixFQUNoQix5QkFBeUIsRUFDekIsbUJBQW1CLEdBR3BCLE1BQU0sb0JBQW9CLENBQUM7QUFDNUIsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ2hELE9BQU8sRUFBVSxNQUFNLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNoRCxPQUFPLEVBQUUsU0FBUyxFQUFFLGFBQWEsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQzVELE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDekQsT0FBTyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM5RCxPQUFPLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBdUIsTUFBTSxnQkFBZ0IsQ0FBQztBQUUxRSxPQUFPLEVBQUUsYUFBYSxFQUFZLE1BQU0sYUFBYSxDQUFDO0FBRXRELHlEQUF5RDtBQUN6RCxPQUFPLEVBQUUsQ0FBQyxJQUFJLE9BQU8sRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBb0N4RCxNQUFNLGNBQWMsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7QUFFMUMsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQ3ZCLEtBQW9C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TSxjQUFjLEdBQUcsQ0FBQyxNQUFjLEVBQUUsT0FBNEIsRUFBRSxPQUFlLEVBQUUsRUFBRTtJQUM5RixJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO1FBQ3pCLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDcEIsU0FBUyxDQUFDLFNBQVMsRUFBRTtZQUNuQixNQUFNO1lBQ04sT0FBTztZQUNQLE9BQU87U0FDUixDQUFDLENBQUM7SUFDTCxDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQThCLFNBQWlCLEVBQUUsTUFBbUIsRUFBRSxFQUFFO0lBQy9GLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLE9BQU8sUUFBUSxLQUFLLFFBQVEsRUFBRSxDQUFDO1FBQ2xFLFFBQVEsQ0FBQyxhQUFhLENBQ3BCLElBQUksV0FBVyxDQUFDLFNBQVMsRUFBRTtZQUN6QixPQUFPLEVBQUUsS0FBSztZQUNkLE1BQU07U0FDUCxDQUFNLENBQ1IsQ0FBQztJQUNKLENBQUM7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLEdBQUcsR0FBRyxHQUFHLEVBQUU7SUFDZixJQUFJLEtBQUssSUFBSSxnQkFBZ0IsRUFBRSxFQUFFLENBQUM7UUFDaEMsT0FBTyxDQUFDLENBQUM7SUFDWCxDQUFDO0lBQ0QsSUFBSSxPQUFPLFdBQVcsS0FBSyxRQUFRLEVBQUUsQ0FBQztRQUNwQyxPQUFPLFdBQVcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUMzQixDQUFDO0lBQ0QsT0FBTyxDQUFDLENBQUM7QUFDWCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBrZWVwIHRoZXNlIGltcG9ydHMgYWJvdmUgdGhlIHJlc3QgdG8gcHJldmVudCBjaXJjdWxhciBkZXAgaXNzdWVzXG5pbXBvcnQgeyBnZXRQbGF0Zm9ybSwgaXNTZXJ2ZXJQbGF0Zm9ybSB9IGZyb20gJy4uL3BsYXRmb3JtL3BsYXRmb3JtJztcbmltcG9ydCB7IHZlcmlmeVNlcmlhbGl6YWJsZSB9IGZyb20gJy4uL3NlcmRlcy92ZXJpZnknO1xuLy8gXl5eIGtlZXAgdGhlc2UgaW1wb3J0cyBhYm92ZSB0aGUgcmVzdCB0byBwcmV2ZW50IGNpcmN1bGFyIGRlcCBpc3N1ZXNcblxuaW1wb3J0IHsgaXNCcm93c2VyIH0gZnJvbSAnQHF3aWsuZGV2L2NvcmUvYnVpbGQnO1xuaW1wb3J0IHtcbiAgaW52b2tlLFxuICBuZXdJbnZva2VDb250ZXh0LFxuICBuZXdJbnZva2VDb250ZXh0RnJvbVR1cGxlLFxuICB0cnlHZXRJbnZva2VDb250ZXh0LFxuICB0eXBlIEludm9rZUNvbnRleHQsXG4gIHR5cGUgSW52b2tlVHVwbGUsXG59IGZyb20gJy4uLy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgeyBhc3NlcnREZWZpbmVkIH0gZnJvbSAnLi4vZXJyb3IvYXNzZXJ0JztcbmltcG9ydCB7IFFFcnJvciwgcUVycm9yIH0gZnJvbSAnLi4vZXJyb3IvZXJyb3InO1xuaW1wb3J0IHsgZ2V0UUZ1bmNzLCBRSW5zdGFuY2VBdHRyIH0gZnJvbSAnLi4vdXRpbHMvbWFya2Vycyc7XG5pbXBvcnQgeyBpc1Byb21pc2UsIG1heWJlVGhlbiB9IGZyb20gJy4uL3V0aWxzL3Byb21pc2VzJztcbmltcG9ydCB7IHFEZXYsIHFTZXJpYWxpemUsIHFUZXN0LCBzZWFsIH0gZnJvbSAnLi4vdXRpbHMvcWRldic7XG5pbXBvcnQgeyBpc0FycmF5LCBpc0Z1bmN0aW9uLCB0eXBlIFZhbHVlT3JQcm9taXNlIH0gZnJvbSAnLi4vdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBRUkxEZXYgfSBmcm9tICcuL3FybCc7XG5pbXBvcnQgeyBnZXRTeW1ib2xIYXNoLCBTWU5DX1FSTCB9IGZyb20gJy4vcXJsLXV0aWxzJztcbmltcG9ydCB0eXBlIHsgUVJMLCBRcmxBcmdzLCBRcmxSZXR1cm4gfSBmcm9tICcuL3FybC5wdWJsaWMnO1xuLy8gQHRzLWV4cGVjdC1lcnJvciB3ZSBkb24ndCBoYXZlIHR5cGVzIGZvciB0aGUgcHJlbG9hZGVyXG5pbXBvcnQgeyBwIGFzIHByZWxvYWQgfSBmcm9tICdAcXdpay5kZXYvY29yZS9wcmVsb2FkZXInO1xuXG5pbnRlcmZhY2UgU3luY1FSTFN5bWJvbCB7XG4gICRzeW1ib2wkOiB0eXBlb2YgU1lOQ19RUkw7XG59XG5cbmV4cG9ydCB0eXBlIFN5bmNRUkxJbnRlcm5hbCA9IFFSTEludGVybmFsICYgU3luY1FSTFN5bWJvbDtcblxuZXhwb3J0IHR5cGUgUVJMSW50ZXJuYWxNZXRob2RzPFRZUEU+ID0ge1xuICByZWFkb25seSAkY2h1bmskOiBzdHJpbmcgfCBudWxsO1xuICByZWFkb25seSAkc3ltYm9sJDogc3RyaW5nO1xuICByZWFkb25seSAkaGFzaCQ6IHN0cmluZztcblxuICAkY2FwdHVyZSQ6IHN0cmluZ1tdIHwgbnVsbDtcbiAgJGNhcHR1cmVSZWYkOiB1bmtub3duW10gfCBudWxsO1xuICBkZXY6IFFSTERldiB8IG51bGw7XG5cbiAgcmVzb2x2ZWQ6IHVuZGVmaW5lZCB8IFRZUEU7XG5cbiAgcmVzb2x2ZShjb250YWluZXJFbD86IEVsZW1lbnQpOiBQcm9taXNlPFRZUEU+O1xuICBnZXRTeW1ib2woKTogc3RyaW5nO1xuICBnZXRIYXNoKCk6IHN0cmluZztcbiAgZ2V0Q2FwdHVyZWQoKTogdW5rbm93bltdIHwgbnVsbDtcbiAgZ2V0Rm4oXG4gICAgY3VycmVudEN0eD86IEludm9rZUNvbnRleHQgfCBJbnZva2VUdXBsZSxcbiAgICBiZWZvcmVGbj86ICgpID0+IHZvaWRcbiAgKTogVFlQRSBleHRlbmRzICguLi5hcmdzOiBhbnkpID0+IGFueVxuICAgID8gKC4uLmFyZ3M6IFBhcmFtZXRlcnM8VFlQRT4pID0+IFZhbHVlT3JQcm9taXNlPFJldHVyblR5cGU8VFlQRT4+XG4gICAgOiAvLyB1bmtub3duIHNvIHdlIGFsbG93IGFzc2lnbmluZyBmdW5jdGlvbiBRUkxzIHRvIGFueVxuICAgICAgdW5rbm93bjtcblxuICAkc2V0Q29udGFpbmVyJChjb250YWluZXJFbDogRWxlbWVudCB8IHVuZGVmaW5lZCk6IEVsZW1lbnQgfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgdHlwZSBRUkxJbnRlcm5hbDxUWVBFID0gdW5rbm93bj4gPSBRUkw8VFlQRT4gJiBRUkxJbnRlcm5hbE1ldGhvZHM8VFlQRT47XG5cbmNvbnN0IHJlc29sdmVkU3ltYm9sID0gU3ltYm9sKCdyZXNvbHZlZCcpO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlUVJMID0gPFRZUEU+KFxuICBjaHVuazogc3RyaW5nIHwgbnVsbCxcbiAgc3ltYm9sOiBzdHJpbmcsXG4gIHN5bWJvbFJlZjogbnVsbCB8IFZhbHVlT3JQcm9taXNlPFRZUEU+LFxuICBzeW1ib2xGbjogbnVsbCB8ICgoKSA9PiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIFRZUEU+PiksXG4gIGNhcHR1cmU6IG51bGwgfCBSZWFkb25seTxudW1iZXJbXT4sXG4gIGNhcHR1cmVSZWY6IFJlYWRvbmx5PHVua25vd25bXT4gfCBudWxsXG4pOiBRUkxJbnRlcm5hbDxUWVBFPiA9PiB7XG4gIGlmIChxRGV2ICYmIHFTZXJpYWxpemUpIHtcbiAgICBpZiAoY2FwdHVyZVJlZikge1xuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGNhcHR1cmVSZWYpIHtcbiAgICAgICAgdmVyaWZ5U2VyaWFsaXphYmxlKGl0ZW0sICdDYXB0dXJlZCB2YXJpYWJsZSBpbiB0aGUgY2xvc3VyZSBjYW4gbm90IGJlIHNlcmlhbGl6ZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBsZXQgX2NvbnRhaW5lckVsOiBFbGVtZW50IHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0IHFybCA9IGFzeW5jIGZ1bmN0aW9uICh0aGlzOiB1bmtub3duLCAuLi5hcmdzOiBRcmxBcmdzPFRZUEU+KSB7XG4gICAgY29uc3QgYm91bmRlZEZuID0gYmluZEZuVG9Db250ZXh0LmNhbGwodGhpcywgdHJ5R2V0SW52b2tlQ29udGV4dCgpKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBib3VuZGVkRm4oLi4uYXJncyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBhcyBRUkxJbnRlcm5hbDxUWVBFPjtcblxuICBjb25zdCBzZXRDb250YWluZXIgPSAoZWw6IEVsZW1lbnQgfCB1bmRlZmluZWQpID0+IHtcbiAgICBpZiAoIV9jb250YWluZXJFbCkge1xuICAgICAgX2NvbnRhaW5lckVsID0gZWw7XG4gICAgfVxuICAgIHJldHVybiBfY29udGFpbmVyRWw7XG4gIH07XG5cbiAgZnVuY3Rpb24gYmluZEZuVG9Db250ZXh0KFxuICAgIHRoaXM6IHVua25vd24sXG4gICAgY3VycmVudEN0eD86IEludm9rZUNvbnRleHQgfCBJbnZva2VUdXBsZSxcbiAgICBiZWZvcmVGbj86ICgpID0+IHZvaWQgfCBib29sZWFuXG4gICkge1xuICAgIC8vIE5vdGUgdGhhdCB3ZSBiaW5kIHRoZSBjdXJyZW50IGB0aGlzYFxuICAgIGNvbnN0IGJvdW5kID0gKC4uLmFyZ3M6IFFybEFyZ3M8VFlQRT4pOiBWYWx1ZU9yUHJvbWlzZTxRcmxSZXR1cm48VFlQRT4gfCB1bmRlZmluZWQ+ID0+IHtcbiAgICAgIGlmICghcXJsLnJlc29sdmVkKSB7XG4gICAgICAgIHJldHVybiBxcmwucmVzb2x2ZSgpLnRoZW4oKGZuKSA9PiB7XG4gICAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKGZuKSkge1xuICAgICAgICAgICAgdGhyb3cgcUVycm9yKFFFcnJvci5xcmxJc05vdEZ1bmN0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGJvdW5kKC4uLmFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChiZWZvcmVGbiAmJiBiZWZvcmVGbigpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlT3JSZXVzZUludm9jYXRpb25Db250ZXh0KGN1cnJlbnRDdHgpO1xuICAgICAgY29uc3QgcHJldlFybCA9IGNvbnRleHQuJHFybCQ7XG4gICAgICBjb25zdCBwcmV2RXZlbnQgPSBjb250ZXh0LiRldmVudCQ7XG4gICAgICAvLyBOb3RlIHRoYXQgd2Ugc2V0IHRoZSBxcmwgaGVyZSBpbnN0ZWFkIG9mIGluIHdyYXBGbiBiZWNhdXNlXG4gICAgICAvLyBpdCBpcyBwb3NzaWJsZSB3ZSdyZSBjYWxsZWQgb24gYSBjb3BpZWQgcXJsXG4gICAgICBjb250ZXh0LiRxcmwkID0gcXJsO1xuICAgICAgY29udGV4dC4kZXZlbnQkIHx8PSB0aGlzIGFzIEV2ZW50O1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGludm9rZS5jYWxsKHRoaXMsIGNvbnRleHQsIHN5bWJvbFJlZiBhcyBhbnksIC4uLihhcmdzIGFzIGFueSkpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgY29udGV4dC4kcXJsJCA9IHByZXZRcmw7XG4gICAgICAgIGNvbnRleHQuJGV2ZW50JCA9IHByZXZFdmVudDtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBib3VuZDtcbiAgfVxuXG4gIC8vIFdyYXAgZnVuY3Rpb25zIHRvIHByb3ZpZGUgdGhlaXIgbGV4aWNhbCBzY29wZVxuICBjb25zdCB3cmFwRm4gPSAoZm46IFRZUEUpOiBUWVBFID0+IHtcbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nIHx8ICghY2FwdHVyZT8ubGVuZ3RoICYmICFjYXB0dXJlUmVmPy5sZW5ndGgpKSB7XG4gICAgICByZXR1cm4gZm47XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAodGhpczogdW5rbm93biwgLi4uYXJnczogUXJsQXJnczxUWVBFPikge1xuICAgICAgbGV0IGNvbnRleHQgPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gICAgICAvLyB1c2UgdGhlIGdpdmVuIHFybCBpZiBpdCBpcyB0aGUgcmlnaHQgb25lXG4gICAgICBpZiAoY29udGV4dCkge1xuICAgICAgICAvLyBUT0RPIGNoZWNrIGlmIHRoaXMgaXMgbmVjZXNzYXJ5IGluIHByb2R1Y3Rpb25cbiAgICAgICAgaWYgKChjb250ZXh0LiRxcmwkIGFzIFFSTEludGVybmFsKT8uJHN5bWJvbCQgPT09IHFybC4kc3ltYm9sJCkge1xuICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmV2UXJsID0gY29udGV4dC4kcXJsJDtcbiAgICAgICAgY29udGV4dC4kcXJsJCA9IHFybDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgY29udGV4dC4kcXJsJCA9IHByZXZRcmw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnRleHQgPSBuZXdJbnZva2VDb250ZXh0KCk7XG4gICAgICBjb250ZXh0LiRxcmwkID0gcXJsO1xuICAgICAgY29udGV4dC4kZXZlbnQkID0gdGhpcyBhcyBFdmVudDtcbiAgICAgIHJldHVybiBpbnZva2UuY2FsbCh0aGlzLCBjb250ZXh0LCBmbiBhcyBhbnksIC4uLmFyZ3MpO1xuICAgIH0gYXMgVFlQRTtcbiAgfTtcblxuICAvLyBSZXRyaWV2ZSBtZW1vaXplZCByZXN1bHQgZnJvbSBzeW1ib2xGblxuICBpZiAoc3ltYm9sRm4gJiYgcmVzb2x2ZWRTeW1ib2wgaW4gc3ltYm9sRm4pIHtcbiAgICBzeW1ib2xSZWYgPSBzeW1ib2xGbltyZXNvbHZlZFN5bWJvbF0gYXMgVFlQRTtcbiAgfVxuXG4gIGNvbnN0IHJlc29sdmUgPSBzeW1ib2xSZWZcbiAgICA/IGFzeW5jICgpID0+IHN5bWJvbFJlZiBhcyBUWVBFXG4gICAgOiBhc3luYyAoY29udGFpbmVyRWw/OiBFbGVtZW50KTogUHJvbWlzZTxUWVBFPiA9PiB7XG4gICAgICAgIGlmIChzeW1ib2xSZWYgIT09IG51bGwpIHtcbiAgICAgICAgICAvLyBSZXNvbHZpbmcgKFByb21pc2UpIG9yIGFscmVhZHkgcmVzb2x2ZWQgKHZhbHVlKVxuICAgICAgICAgIHJldHVybiBzeW1ib2xSZWY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRhaW5lckVsKSB7XG4gICAgICAgICAgc2V0Q29udGFpbmVyKGNvbnRhaW5lckVsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2h1bmsgPT09ICcnKSB7XG4gICAgICAgICAgLy8gU3luYyBRUkxcbiAgICAgICAgICBhc3NlcnREZWZpbmVkKF9jb250YWluZXJFbCwgJ1N5bmMgUVJMIG11c3QgaGF2ZSBjb250YWluZXIgZWxlbWVudCcpO1xuICAgICAgICAgIGNvbnN0IGhhc2ggPSBfY29udGFpbmVyRWwuZ2V0QXR0cmlidXRlKFFJbnN0YW5jZUF0dHIpITtcbiAgICAgICAgICBjb25zdCBkb2MgPSBfY29udGFpbmVyRWwub3duZXJEb2N1bWVudCE7XG4gICAgICAgICAgY29uc3QgcUZ1bmNzID0gZ2V0UUZ1bmNzKGRvYywgaGFzaCk7XG4gICAgICAgICAgLy8gTm8gbmVlZCB0byB3cmFwLCBzeW5jUVJMcyBjYW4ndCBoYXZlIGNhcHR1cmVkIHNjb3BlXG4gICAgICAgICAgcmV0dXJuIChxcmwucmVzb2x2ZWQgPSBzeW1ib2xSZWYgPSBxRnVuY3NbTnVtYmVyKHN5bWJvbCldIGFzIFRZUEUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzQnJvd3NlciAmJiBjaHVuaykge1xuICAgICAgICAgIC8qKiBXZSBydW4gdGhlIFFSTCwgc28gbm93IHRoZSBwcm9iYWJpbGl0eSBvZiB0aGUgY2h1bmsgaXMgMTAwJSAqL1xuICAgICAgICAgIHByZWxvYWQoY2h1bmssIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhcnQgPSBub3coKTtcbiAgICAgICAgY29uc3QgY3R4ID0gdHJ5R2V0SW52b2tlQ29udGV4dCgpO1xuICAgICAgICBpZiAoc3ltYm9sRm4gIT09IG51bGwpIHtcbiAgICAgICAgICBzeW1ib2xSZWYgPSBzeW1ib2xGbigpLnRoZW4oKG1vZHVsZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzb2x2ZWQgPSB3cmFwRm4oKHN5bWJvbFJlZiA9IG1vZHVsZVtzeW1ib2xdKSk7XG4gICAgICAgICAgICAvLyBXZSBtZW1vaXplIHRoZSByZXN1bHQgb24gdGhlIHN5bWJvbEZuXG4gICAgICAgICAgICAoc3ltYm9sRm4gYXMgYW55KVtyZXNvbHZlZFN5bWJvbF0gPSByZXNvbHZlZDtcbiAgICAgICAgICAgIHFybC5yZXNvbHZlZCA9IHJlc29sdmVkO1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVkO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFRPRE8gY2FjaGUgdGhlIGltcG9ydGVkIHN5bWJvbCBidXQgd2F0Y2ggb3V0IGZvciBkZXYgbW9kZVxuICAgICAgICAgIGNvbnN0IGltcG9ydGVkID0gZ2V0UGxhdGZvcm0oKS5pbXBvcnRTeW1ib2woX2NvbnRhaW5lckVsLCBjaHVuaywgc3ltYm9sKTtcbiAgICAgICAgICBzeW1ib2xSZWYgPSBtYXliZVRoZW4oaW1wb3J0ZWQsIChyZWYpID0+IChxcmwucmVzb2x2ZWQgPSB3cmFwRm4oKHN5bWJvbFJlZiA9IHJlZikpKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJvbWlzZShzeW1ib2xSZWYpKSB7XG4gICAgICAgICAgc3ltYm9sUmVmLnRoZW4oXG4gICAgICAgICAgICAoKSA9PiBlbWl0VXNlZFN5bWJvbChzeW1ib2wsIGN0eD8uJGVsZW1lbnQkLCBzdGFydCksXG4gICAgICAgICAgICAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYHFybCAke3N5bWJvbH0gZmFpbGVkIHRvIGxvYWRgLCBlcnIpO1xuICAgICAgICAgICAgICAvLyBXZSBzaG91bGRuJ3QgY2FjaGUgcmVqZWN0aW9ucywgd2UgY2FuIHRyeSBhZ2FpbiBsYXRlclxuICAgICAgICAgICAgICBzeW1ib2xSZWYgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN5bWJvbFJlZjtcbiAgICAgIH07XG5cbiAgY29uc3QgY3JlYXRlT3JSZXVzZUludm9jYXRpb25Db250ZXh0ID0gKGludm9rZTogSW52b2tlQ29udGV4dCB8IEludm9rZVR1cGxlIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgaWYgKGludm9rZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbmV3SW52b2tlQ29udGV4dCgpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShpbnZva2UpKSB7XG4gICAgICByZXR1cm4gbmV3SW52b2tlQ29udGV4dEZyb21UdXBsZShpbnZva2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW52b2tlO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYXNoID0gZ2V0U3ltYm9sSGFzaChzeW1ib2wpO1xuXG4gIE9iamVjdC5hc3NpZ24ocXJsLCB7XG4gICAgZ2V0U3ltYm9sOiAoKSA9PiBzeW1ib2wsXG4gICAgZ2V0SGFzaDogKCkgPT4gaGFzaCxcbiAgICAvLyBjYXB0dXJlUmVmIGlzIHJlcGxhY2VkIGR1cmluZyBkZXNlcmlhbGl6YXRpb25cbiAgICBnZXRDYXB0dXJlZDogKCkgPT4gcXJsLiRjYXB0dXJlUmVmJCxcbiAgICByZXNvbHZlLFxuICAgICRzZXRDb250YWluZXIkOiBzZXRDb250YWluZXIsXG4gICAgJGNodW5rJDogY2h1bmssXG4gICAgJHN5bWJvbCQ6IHN5bWJvbCxcbiAgICAkaGFzaCQ6IGhhc2gsXG4gICAgZ2V0Rm46IGJpbmRGblRvQ29udGV4dCxcblxuICAgICRjYXB0dXJlJDogY2FwdHVyZSxcbiAgICAkY2FwdHVyZVJlZiQ6IGNhcHR1cmVSZWYsXG4gICAgZGV2OiBudWxsLFxuICAgIHJlc29sdmVkOiB1bmRlZmluZWQsXG4gIH0pO1xuXG4gIGlmIChzeW1ib2xSZWYpIHtcbiAgICAvLyBVbndyYXAgYW55IHByb21pc2VzXG4gICAgc3ltYm9sUmVmID0gbWF5YmVUaGVuKHN5bWJvbFJlZiwgKHJlc29sdmVkKSA9PiAocXJsLnJlc29sdmVkID0gd3JhcEZuKChzeW1ib2xSZWYgPSByZXNvbHZlZCkpKSk7XG4gIH1cblxuICBpZiAocURldikge1xuICAgIHNlYWwocXJsKTtcbiAgfVxuICBpZiAoaXNCcm93c2VyICYmIHN5bWJvbCkge1xuICAgIC8qKlxuICAgICAqIFByZWxvYWRpbmcgdGhlIHN5bWJvbCBpbnN0ZWFkIG9mIHRoZSBjaHVuayBhbGxvd3MgdXMgdG8gZ2V0IHByb2JhYmlsaXRpZXMgZm9yIHRoZSBidW5kbGVcbiAgICAgKiBiYXNlZCBvbiBpdHMgY29udGVudHMuXG4gICAgICovXG4gICAgcHJlbG9hZChzeW1ib2wsIDAuOCk7XG4gIH1cbiAgcmV0dXJuIHFybDtcbn07XG5cbmNvbnN0IEVNSVRURUQgPSAvKiNfX1BVUkVfXyovIG5ldyBTZXQoKTtcblxuZXhwb3J0IGNvbnN0IGVtaXRVc2VkU3ltYm9sID0gKHN5bWJvbDogc3RyaW5nLCBlbGVtZW50OiBFbGVtZW50IHwgdW5kZWZpbmVkLCByZXFUaW1lOiBudW1iZXIpID0+IHtcbiAgaWYgKCFFTUlUVEVELmhhcyhzeW1ib2wpKSB7XG4gICAgRU1JVFRFRC5hZGQoc3ltYm9sKTtcbiAgICBlbWl0RXZlbnQoJ3FzeW1ib2wnLCB7XG4gICAgICBzeW1ib2wsXG4gICAgICBlbGVtZW50LFxuICAgICAgcmVxVGltZSxcbiAgICB9KTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGVtaXRFdmVudCA9IDxUIGV4dGVuZHMgQ3VzdG9tRXZlbnQgPSBhbnk+KGV2ZW50TmFtZTogc3RyaW5nLCBkZXRhaWw6IFRbJ2RldGFpbCddKSA9PiB7XG4gIGlmICghcVRlc3QgJiYgIWlzU2VydmVyUGxhdGZvcm0oKSAmJiB0eXBlb2YgZG9jdW1lbnQgPT09ICdvYmplY3QnKSB7XG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChcbiAgICAgIG5ldyBDdXN0b21FdmVudChldmVudE5hbWUsIHtcbiAgICAgICAgYnViYmxlczogZmFsc2UsXG4gICAgICAgIGRldGFpbCxcbiAgICAgIH0pIGFzIFRcbiAgICApO1xuICB9XG59O1xuXG5jb25zdCBub3cgPSAoKSA9PiB7XG4gIGlmIChxVGVzdCB8fCBpc1NlcnZlclBsYXRmb3JtKCkpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBpZiAodHlwZW9mIHBlcmZvcm1hbmNlID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTtcbiAgfVxuICByZXR1cm4gMDtcbn07XG4iXX0=","import { qDev, qRuntimeQrl } from '../utils/qdev';\nimport { createQRL } from './qrl-class';\nimport { SYNC_QRL } from './qrl-utils';\nlet runtimeSymbolId = 0;\n// <docs markdown=\"../../readme.md#$\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../../readme.md#$ instead and run `pnpm docs.sync`)\n/**\n * Qwik Optimizer marker function.\n *\n * Use `$(...)` to tell Qwik Optimizer to extract the expression in `$(...)` into a lazy-loadable\n * resource referenced by `QRL`.\n *\n * @param expression - Expression which should be lazy loaded\n * @public\n * @see `implicit$FirstArg` for additional `____$(...)` rules.\n *\n * In this example, `$(...)` is used to capture the callback function of `onmousemove` into a\n * lazy-loadable reference. This allows the code to refer to the function without actually\n * loading the function. In this example, the callback function does not get loaded until\n * `mousemove` event fires.\n *\n * ```tsx\n * useOnDocument(\n *   'mousemove',\n *   $((event) => console.log('mousemove', event))\n * );\n * ```\n *\n * In this code, the Qwik Optimizer detects `$(...)` and transforms the code into:\n *\n * ```tsx\n * // FILE: <current file>\n * useOnDocument('mousemove', qrl('./chunk-abc.js', 'onMousemove'));\n *\n * // FILE: chunk-abc.js\n * export const onMousemove = () => console.log('mousemove');\n * ```\n *\n * ## Special Rules\n *\n * The Qwik Optimizer places special rules on functions that can be lazy-loaded.\n *\n * 1. The expression of the `$(expression)` function must be importable by the system.\n * (expression shows up in `import` or has `export`)\n * 2. If inlined function, then all lexically captured values must be:\n *    - importable (vars show up in `import`s or `export`s)\n *    - const (The capturing process differs from JS capturing in that writing to captured\n * variables does not update them, and therefore writes are forbidden. The best practice is that\n * all captured variables are constants.)\n *    - Must be runtime serializable.\n *\n * ```tsx\n *\n * import { createContextId, useContext, useContextProvider } from './use/use-context';\n * import { Resource } from './use/use-resource';\n * import { useResource$ } from './use/use-resource-dollar';\n * import { useSignal } from './use/use-signal';\n *\n * export const greet = () => console.log('greet');\n * function topLevelFn() {}\n *\n * function myCode() {\n *   const store = useStore({});\n *   function localFn() {}\n *   // Valid Examples\n *   $(greet); // greet is importable\n *   $(() => greet()); // greet is importable;\n *   $(() => console.log(store)); // store is serializable.\n *\n *   // Compile time errors\n *   $(topLevelFn); // ERROR: `topLevelFn` not importable\n *   $(() => topLevelFn()); // ERROR: `topLevelFn` not importable\n *\n *   // Runtime errors\n *   $(localFn); // ERROR: `localFn` fails serialization\n *   $(() => localFn()); // ERROR: `localFn` fails serialization\n * }\n *\n * ```\n */\n// </docs>\nexport const $ = (expression) => {\n    if (!qRuntimeQrl && qDev) {\n        throw new Error('Optimizer should replace all usages of $() with some special syntax. If you need to create a QRL manually, use inlinedQrl() instead.');\n    }\n    return createQRL(null, 's' + runtimeSymbolId++, expression, null, null, null);\n};\n/** @private Use To avoid optimizer replacement */\nexport const dollar = $;\n/** @internal */\nexport const eventQrl = (qrl) => {\n    return qrl;\n};\n/**\n * Extract function into a synchronously loadable QRL.\n *\n * NOTE: Synchronous QRLs functions can't close over any variables, including exports.\n *\n * @param fn - Function to extract.\n * @returns\n * @public\n */\nexport const sync$ = (fn) => {\n    if (!qRuntimeQrl && qDev) {\n        throw new Error('Optimizer should replace all usages of sync$() with some special syntax. If you need to create a QRL manually, use inlinedSyncQrl() instead.');\n    }\n    if (qDev) {\n        // To make sure that in dev mode we don't accidentally capture context in `sync$()` we serialize and deserialize the function.\n        // eslint-disable-next-line no-new-func\n        fn = new Function('return ' + fn.toString())();\n    }\n    return createQRL('', SYNC_QRL, fn, null, null, null);\n};\n/**\n * Extract function into a synchronously loadable QRL.\n *\n * NOTE: Synchronous QRLs functions can't close over any variables, including exports.\n *\n * @param fn - Extracted function\n * @param serializedFn - Serialized function in string form.\n * @returns\n * @internal\n */\nexport const _qrlSync = function (fn, serializedFn) {\n    if (serializedFn === undefined) {\n        serializedFn = fn.toString();\n    }\n    fn.serialized = serializedFn;\n    return createQRL('', SYNC_QRL, fn, null, null, null);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvcXJsL3FybC5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFbEQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN4QyxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBK0p2QyxJQUFJLGVBQWUsR0FBRyxDQUFDLENBQUM7QUFTeEIsc0NBQXNDO0FBQ3RDLHlDQUF5QztBQUN6Qyw0REFBNEQ7QUFDNUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0F5RUc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUksVUFBYSxFQUFVLEVBQUU7SUFDNUMsSUFBSSxDQUFDLFdBQVcsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUN6QixNQUFNLElBQUksS0FBSyxDQUNiLHNJQUFzSSxDQUN2SSxDQUFDO0lBQ0osQ0FBQztJQUVELE9BQU8sU0FBUyxDQUFJLElBQUksRUFBRSxHQUFHLEdBQUcsZUFBZSxFQUFFLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDbkYsQ0FBQyxDQUFDO0FBQ0Ysa0RBQWtEO0FBQ2xELE1BQU0sQ0FBQyxNQUFNLE1BQU0sR0FBRyxDQUFDLENBQUM7QUFFeEIsZ0JBQWdCO0FBQ2hCLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFJLEdBQVcsRUFBVSxFQUFFO0lBQ2pELE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQyxDQUFDO0FBb0JGOzs7Ozs7OztHQVFHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sS0FBSyxHQUFHLENBQXFCLEVBQUssRUFBYyxFQUFFO0lBQzdELElBQUksQ0FBQyxXQUFXLElBQUksSUFBSSxFQUFFLENBQUM7UUFDekIsTUFBTSxJQUFJLEtBQUssQ0FDYiw4SUFBOEksQ0FDL0ksQ0FBQztJQUNKLENBQUM7SUFDRCxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ1QsOEhBQThIO1FBQzlILHVDQUF1QztRQUN2QyxFQUFFLEdBQUcsSUFBSSxRQUFRLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFTLENBQUM7SUFDeEQsQ0FBQztJQUVELE9BQU8sU0FBUyxDQUFJLEVBQUUsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFRLENBQUM7QUFDakUsQ0FBQyxDQUFDO0FBRUY7Ozs7Ozs7OztHQVNHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLFVBQ3RCLEVBQVEsRUFDUixZQUFxQjtJQUVyQixJQUFJLFlBQVksS0FBSyxTQUFTLEVBQUUsQ0FBQztRQUMvQixZQUFZLEdBQUcsRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQy9CLENBQUM7SUFDQSxFQUFVLENBQUMsVUFBVSxHQUFHLFlBQVksQ0FBQztJQUN0QyxPQUFPLFNBQVMsQ0FBTyxFQUFFLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBUSxDQUFDO0FBQ3BFLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHFEZXYsIHFSdW50aW1lUXJsIH0gZnJvbSAnLi4vdXRpbHMvcWRldic7XG5pbXBvcnQgdHlwZSB7IFFSTERldiB9IGZyb20gJy4vcXJsJztcbmltcG9ydCB7IGNyZWF0ZVFSTCB9IGZyb20gJy4vcXJsLWNsYXNzJztcbmltcG9ydCB7IFNZTkNfUVJMIH0gZnJvbSAnLi9xcmwtdXRpbHMnO1xuXG4vLyBXZSB1c2UgYHVua25vd25gIGluc3RlYWQgb2YgYG5ldmVyYCB3aGVuIGl0J3Mgbm90IGEgZnVuY3Rpb24gc28gd2UgYWxsb3cgYXNzaWduaW5nIFFSTDxmdW5jdGlvbj4gdG8gUVJMPGFueT5cbmV4cG9ydCB0eXBlIFFybEFyZ3M8VD4gPSBUIGV4dGVuZHMgKC4uLmFyZ3M6IGluZmVyIEFSR1MpID0+IGFueSA/IEFSR1MgOiB1bmtub3duW107XG5leHBvcnQgdHlwZSBRcmxSZXR1cm48VD4gPSBUIGV4dGVuZHMgKC4uLmFyZ3M6IGFueSkgPT4gaW5mZXIgUiA/IEF3YWl0ZWQ8Uj4gOiB1bmtub3duO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uLy4uL3JlYWRtZS5tZCNRUkxcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi8uLi9yZWFkbWUubWQjUVJMIGluc3RlYWQgYW5kIHJ1biBgcG5wbSBkb2NzLnN5bmNgKVxuLyoqXG4gKiBUaGUgYFFSTGAgdHlwZSByZXByZXNlbnRzIGEgbGF6eS1sb2FkYWJsZSBBTkQgc2VyaWFsaXphYmxlIHJlc291cmNlLlxuICpcbiAqIFFSTCBzdGFuZHMgZm9yIFF3aWsgVVJMLlxuICpcbiAqIFVzZSBgUVJMYCB3aGVuIHlvdSB3YW50IHRvIHJlZmVyIHRvIGEgbGF6eS1sb2FkZWQgcmVzb3VyY2UuIGBRUkxgcyBhcmUgbW9zdCBvZnRlbiB1c2VkIGZvciBjb2RlXG4gKiAoZnVuY3Rpb25zKSBidXQgY2FuIGFsc28gYmUgdXNlZCBmb3Igb3RoZXIgcmVzb3VyY2VzIHN1Y2ggYXMgYHN0cmluZ2BzIGluIHRoZSBjYXNlIG9mIHN0eWxlcy5cbiAqXG4gKiBgUVJMYCBpcyBhbiBvcGFxdWUgdG9rZW4gdGhhdCBpcyBnZW5lcmF0ZWQgYnkgdGhlIFF3aWsgT3B0aW1pemVyLiAoRG8gbm90IHJlbHkgb24gYW55IHByb3BlcnRpZXNcbiAqIGluIGBRUkxgIGFzIGl0IG1heSBjaGFuZ2UgYmV0d2VlbiB2ZXJzaW9ucy4pXG4gKlxuICogIyMgQ3JlYXRpbmcgYFFSTGAgcmVmZXJlbmNlc1xuICpcbiAqIENyZWF0aW5nIGBRUkxgIGlzIGRvbmUgdXNpbmcgYCQoLi4uKWAgZnVuY3Rpb24uIGAkKC4uLilgIGlzIGEgc3BlY2lhbCBtYXJrZXIgZm9yIHRoZSBRd2lrXG4gKiBPcHRpbWl6ZXIgdGhhdCBtYXJrcyB0aGF0IHRoZSBjb2RlIHNob3VsZCBiZSBleHRyYWN0ZWQgaW50byBhIGxhenktbG9hZGVkIHN5bWJvbC5cbiAqXG4gKiBgYGB0c3hcbiAqIHVzZU9uRG9jdW1lbnQoXG4gKiAgICdtb3VzZW1vdmUnLFxuICogICAkKChldmVudCkgPT4gY29uc29sZS5sb2coJ21vdXNlbW92ZScsIGV2ZW50KSlcbiAqICk7XG4gKiBgYGBcbiAqXG4gKiBJbiB0aGUgYWJvdmUgY29kZSwgdGhlIFF3aWsgT3B0aW1pemVyIGRldGVjdHMgYCQoLi4uKWAgYW5kIHRyYW5zZm9ybXMgdGhlIGNvZGUgYXMgc2hvd24gYmVsb3c6XG4gKlxuICogYGBgdHN4XG4gKiAvLyBGSUxFOiA8Y3VycmVudCBmaWxlPlxuICogdXNlT25Eb2N1bWVudCgnbW91c2Vtb3ZlJywgcXJsKCcuL2NodW5rLWFiYy5qcycsICdvbk1vdXNlbW92ZScpKTtcbiAqXG4gKiAvLyBGSUxFOiBjaHVuay1hYmMuanNcbiAqIGV4cG9ydCBjb25zdCBvbk1vdXNlbW92ZSA9ICgpID0+IGNvbnNvbGUubG9nKCdtb3VzZW1vdmUnKTtcbiAqIGBgYFxuICpcbiAqIE5PVEU6IGBxcmwoLi4uKWAgaXMgYSByZXN1bHQgb2YgUXdpayBPcHRpbWl6ZXIgdHJhbnNmb3JtYXRpb24uIFlvdSBzaG91bGQgbmV2ZXIgaGF2ZSB0byBpbnZva2VcbiAqIHRoaXMgZnVuY3Rpb24gZGlyZWN0bHkgaW4geW91ciBhcHBsaWNhdGlvbi4gVGhlIGBxcmwoLi4uKWAgZnVuY3Rpb24gc2hvdWxkIGJlIGludm9rZWQgb25seSBhZnRlclxuICogdGhlIFF3aWsgT3B0aW1pemVyIHRyYW5zZm9ybWF0aW9uLlxuICpcbiAqICMjIFVzaW5nIGBRUkxgc1xuICpcbiAqIFVzZSBgUVJMYCB0eXBlIGluIHlvdXIgYXBwbGljYXRpb24gd2hlbiB5b3Ugd2FudCB0byBnZXQgYSBsYXp5LWxvYWRhYmxlIHJlZmVyZW5jZSB0byBhIHJlc291cmNlXG4gKiAobW9zdCBsaWtlbHkgYSBmdW5jdGlvbikuXG4gKlxuICogYGBgdHN4XG4gKiAvLyBFeGFtcGxlIG9mIGRlY2xhcmluZyBhIGN1c3RvbSBmdW5jdGlvbnMgd2hpY2ggdGFrZXMgY2FsbGJhY2sgYXMgUVJMLlxuICogZXhwb3J0IGZ1bmN0aW9uIHVzZU15RnVuY3Rpb24oY2FsbGJhY2s6IFFSTDwoKSA9PiB2b2lkPikge1xuICogICBkb0V4dHJhU3R1ZmYoKTtcbiAqICAgLy8gVGhlIGNhbGxiYWNrIHBhc3NlZCB0byBgb25Eb2N1bWVudGAgcmVxdWlyZXMgYFFSTGAuXG4gKiAgIHVzZU9uRG9jdW1lbnQoJ21vdXNlbW92ZScsIGNhbGxiYWNrKTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEluIHRoZSBhYm92ZSBleGFtcGxlLCB0aGUgd2F5IHRvIHRoaW5rIGFib3V0IHRoZSBjb2RlIGlzIHRoYXQgeW91IGFyZSBub3QgYXNraW5nIGZvciBhIGNhbGxiYWNrXG4gKiBmdW5jdGlvbiBidXQgcmF0aGVyIGEgcmVmZXJlbmNlIHRvIGEgbGF6eS1sb2FkYWJsZSBjYWxsYmFjayBmdW5jdGlvbi4gU3BlY2lmaWNhbGx5LCB0aGUgZnVuY3Rpb25cbiAqIGxvYWRpbmcgc2hvdWxkIGJlIGRlbGF5ZWQgdW50aWwgaXQgaXMgYWN0dWFsbHkgbmVlZGVkLiBJbiB0aGUgYWJvdmUgZXhhbXBsZSwgdGhlIGZ1bmN0aW9uIHdvdWxkXG4gKiBub3QgbG9hZCB1bnRpbCBhZnRlciBhIGBtb3VzZW1vdmVgIGV2ZW50IG9uIGBkb2N1bWVudGAgZmlyZXMuXG4gKlxuICogIyMgUmVzb2x2aW5nIGBRUkxgIHJlZmVyZW5jZXNcbiAqXG4gKiBBdCB0aW1lcyBpdCBtYXkgYmUgbmVjZXNzYXJ5IHRvIHJlc29sdmUgYSBgUVJMYCByZWZlcmVuY2UgdG8gdGhlIGFjdHVhbCB2YWx1ZS4gVGhpcyBjYW4gYmVcbiAqIHBlcmZvcm1lZCB1c2luZyBgUVJMLnJlc29sdmUoLi4pYCBmdW5jdGlvbi5cbiAqXG4gKiBgYGB0c3hcbiAqIC8vIEFzc3VtZSB5b3UgaGF2ZSBRUkwgcmVmZXJlbmNlIHRvIGEgZ3JlZXQgZnVuY3Rpb25cbiAqIGNvbnN0IGxhenlHcmVldDogUVJMPCgpID0+IHZvaWQ+ID0gJCgoKSA9PiBjb25zb2xlLmxvZygnSGVsbG8gV29ybGQhJykpO1xuICpcbiAqIC8vIFVzZSBgcXJsSW1wb3J0YCB0byBsb2FkIC8gcmVzb2x2ZSB0aGUgcmVmZXJlbmNlLlxuICogY29uc3QgZ3JlZXQ6ICgpID0+IHZvaWQgPSBhd2FpdCBsYXp5R3JlZXQucmVzb2x2ZSgpO1xuICpcbiAqIC8vICBJbnZva2UgaXRcbiAqIGdyZWV0KCk7XG4gKiBgYGBcbiAqXG4gKiBOT1RFOiBgZWxlbWVudGAgaXMgbmVlZGVkIGJlY2F1c2UgYFFSTGBzIGFyZSByZWxhdGl2ZSBhbmQgbmVlZCBhIGJhc2UgbG9jYXRpb24gdG8gcmVzb2x2ZVxuICogYWdhaW5zdC4gVGhlIGJhc2UgbG9jYXRpb24gaXMgZW5jb2RlZCBpbiB0aGUgSFRNTCBpbiB0aGUgZm9ybSBvZiBgPGRpdiBxOmJhc2U9XCIvdXJsXCI+YC5cbiAqXG4gKiAjIyBgUVJMLnJlc29sdmVkYFxuICpcbiAqIE9uY2UgYFFSTC5yZXNvbHZlKClgIHJldHVybnMsIHRoZSB2YWx1ZSBpcyBzdG9yZWQgdW5kZXIgYFFSTC5yZXNvbHZlZGAuIFRoaXMgYWxsb3dzIHRoZSB2YWx1ZSB0b1xuICogYmUgdXNlZCB3aXRob3V0IGhhdmluZyB0byBhd2FpdCBgUVJMLnJlc29sdmUoKWAgYWdhaW4uXG4gKlxuICogIyMgUXVlc3Rpb246IFdoeSBub3QganVzdCB1c2UgYGltcG9ydCgpYD9cbiAqXG4gKiBBdCBmaXJzdCBnbGFuY2UsIGBRUkxgIHNlcnZlcyB0aGUgc2FtZSBwdXJwb3NlIGFzIGBpbXBvcnQoKWAuIEhvd2V2ZXIsIHRoZXJlIGFyZSB0aHJlZSBzdWJ0bGVcbiAqIGRpZmZlcmVuY2VzIHRoYXQgbmVlZCB0byBiZSB0YWtlbiBpbnRvIGFjY291bnQuXG4gKlxuICogMS4gYFFSTGBzIG11c3QgYmUgc2VyaWFsaXphYmxlIGludG8gSFRNTC5cbiAqIDIuIGBRUkxgcyBtdXN0IGJlIHJlc29sdmVkIGJ5IGZyYW1ld29yayByZWxhdGl2ZSB0byBgcTpiYXNlYC5cbiAqIDMuIGBRUkxgcyBtdXN0IGJlIGFibGUgdG8gY2FwdHVyZSBsZXhpY2FsbHkgc2NvcGVkIHZhcmlhYmxlcy5cbiAqIDQuIGBRUkxgcyBlbmNhcHN1bGF0ZSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHJ1bm5pbmcgd2l0aCBhbmQgd2l0aG91dCBRd2lrIE9wdGltaXplci5cbiAqIDUuIGBRUkxgcyBhbGxvdyBleHByZXNzaW5nIGxhenktbG9hZGVkIGJvdW5kYXJpZXMgd2l0aG91dCB0aGlua2luZyBhYm91dCBjaHVuayBhbmQgc3ltYm9sIG5hbWVzLlxuICpcbiAqIExldCdzIGFzc3VtZSB0aGF0IHlvdSBpbnRlbmQgdG8gd3JpdGUgY29kZSBzdWNoIGFzIHRoaXM6XG4gKlxuICogYGBgdHN4XG4gKiByZXR1cm4gPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiAoYXdhaXQgaW1wb3J0KCcuL2NodW5rLWFiYy5qcycpKS5vbkNsaWNrfT5cbiAqIGBgYFxuICpcbiAqIFRoZSBhYm92ZSBjb2RlIG5lZWRzIHRvIGJlIHNlcmlhbGl6ZWQgaW50byBET00gc3VjaCBhczpcbiAqXG4gKiBgYGBcbiAqIDxkaXYgcTpiYXNlPVwiL2J1aWxkL1wiPlxuICogICA8YnV0dG9uIG9uOmNsaWNrPVwiLi9jaHVuay1hYmMuanMjb25DbGlja1wiPi4uLjwvYnV0dG9uPlxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiAxLiBOb3RpY2UgdGhlcmUgaXMgbm8gZWFzeSB3YXkgdG8gZXh0cmFjdCBjaHVuayAoYC4vY2h1bmstYWJjLmpzYCkgYW5kIHN5bWJvbCAoYG9uQ2xpY2tgKSBpbnRvIEhUTUwuXG4gKiAyLiBOb3RpY2UgdGhhdCBldmVuIGlmIHlvdSBjb3VsZCBleHRyYWN0IGl0LCB0aGUgYGltcG9ydCgnLi9jaHVuay1hYmMuanMnKWAgd291bGQgYmVjb21lIHJlbGF0aXZlIHRvXG4gKiAgICB3aGVyZSB0aGUgYGltcG9ydCgpYCBmaWxlIGlzIGRlY2xhcmVkLiBCZWNhdXNlIGl0IGlzIG91ciBmcmFtZXdvcmsgZG9pbmcgdGhlIGxvYWQsIHRoZVxuICogICAgYC4vY2h1bmstYWJjLmpzYCB3b3VsZCBiZWNvbWUgcmVsYXRpdmUgdG8gdGhlIGZyYW1ld29yayBmaWxlLiBUaGlzIGlzIG5vdCBjb3JyZWN0LCBhcyBpdFxuICogICAgc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBvcmlnaW5hbCBmaWxlIGdlbmVyYXRlZCBieSB0aGUgYnVuZGxlci5cbiAqIDMuIE5leHQsIHRoZSBmcmFtZXdvcmsgbmVlZHMgdG8gcmVzb2x2ZSB0aGUgYC4vY2h1bmstYWJjLmpzYCBhbmQgbmVlZHMgYSBiYXNlIGxvY2F0aW9uIHRoYXQgaXNcbiAqICAgIGVuY29kZWQgaW4gdGhlIEhUTUwuXG4gKiA0LiBUaGUgUVJMIG5lZWRzIHRvIGJlIGFibGUgdG8gY2FwdHVyZSBsZXhpY2FsbHkgc2NvcGVkIHZhcmlhYmxlcy4gKGBpbXBvcnQoKWAgb25seSBhbGxvd3MgbG9hZGluZ1xuICogICAgdG9wLWxldmVsIHN5bWJvbHMgd2hpY2ggZG9uJ3QgY2FwdHVyZSB2YXJpYWJsZXMuKVxuICogNS4gQXMgYSBkZXZlbG9wZXIsIHlvdSBkb24ndCB3YW50IHRvIHRoaW5rIGFib3V0IGBpbXBvcnRgIGFuZCBuYW1pbmcgdGhlIGNodW5rcyBhbmQgc3ltYm9scy4gWW91XG4gKiAgICBqdXN0IHdhbnQgdG8gc2F5OiBcInRoaXMgc2hvdWxkIGJlIGxhenkuXCJcbiAqXG4gKiBUaGVzZSBhcmUgdGhlIG1haW4gcmVhc29ucyB3aHkgUXdpayBpbnRyb2R1Y2VzIGl0cyBvd24gY29uY2VwdCBvZiBgUVJMYC5cbiAqXG4gKiBAcHVibGljXG4gKiBAc2VlIGAkYFxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgdHlwZSBRUkw8VFlQRSA9IHVua25vd24+ID0ge1xuICAvLyBTcGVjaWFsIHR5cGUgYnJhbmQgdG8gbGV0IGVzbGludCB0aGF0IHRoZSBUeXBlIGlzIHNlcmlhbGl6YWJsZVxuICBfX3F3aWtfc2VyaWFsaXphYmxlX18/OiBhbnk7XG4gIF9fYnJhbmRfX1FSTF9fOiBUWVBFO1xuXG4gIC8qKiBSZXNvbHZlIHRoZSBRUkwgYW5kIHJldHVybiB0aGUgYWN0dWFsIHZhbHVlLiAqL1xuICByZXNvbHZlKCk6IFByb21pc2U8VFlQRT47XG4gIC8qKiBUaGUgcmVzb2x2ZWQgdmFsdWUsIG9uY2UgYHJlc29sdmUoKWAgcmV0dXJucy4gKi9cbiAgcmVzb2x2ZWQ6IHVuZGVmaW5lZCB8IFRZUEU7XG5cbiAgZ2V0Q2FwdHVyZWQoKTogdW5rbm93bltdIHwgbnVsbDtcbiAgZ2V0U3ltYm9sKCk6IHN0cmluZztcbiAgZ2V0SGFzaCgpOiBzdHJpbmc7XG4gIGRldjogUVJMRGV2IHwgbnVsbDtcbn0gJiBCaXZhcmlhbnRRcmxGbjxRcmxBcmdzPFRZUEU+LCBRcmxSZXR1cm48VFlQRT4+O1xuXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81MjY2Nzk1OS93aGF0LWlzLXRoZS1wdXJwb3NlLW9mLWJpdmFyaWFuY2VoYWNrLWluLXR5cGVzY3JpcHQtdHlwZXMvNTI2NjgxMzMjNTI2NjgxMzNcbnR5cGUgQml2YXJpYW50UXJsRm48QVJHUyBleHRlbmRzIGFueVtdLCBSRVRVUk4+ID0ge1xuICAvKipcbiAgICogUmVzb2x2ZSB0aGUgUVJMIG9mIGNsb3N1cmUgYW5kIGludm9rZSBpdC5cbiAgICpcbiAgICogQHBhcmFtIGFyZ3MgLSBDbG9zdXJlIGFyZ3VtZW50cy5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIG9mIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGNsb3N1cmUuXG4gICAqL1xuICBiaXZhcmlhbmNlSGFjayguLi5hcmdzOiBBUkdTKTogUHJvbWlzZTxSRVRVUk4+O1xufVsnYml2YXJpYW5jZUhhY2snXTtcblxubGV0IHJ1bnRpbWVTeW1ib2xJZCA9IDA7XG5cbi8qKlxuICogQWxpYXMgZm9yIGBRUkw8VD5gLiBPZiBoaXN0b3JpYyByZWxldmFuY2Ugb25seS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFByb3BGdW5jdGlvbjxUPiA9IFFSTDxUPjtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi8uLi9yZWFkbWUubWQjJFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uLy4uL3JlYWRtZS5tZCMkIGluc3RlYWQgYW5kIHJ1biBgcG5wbSBkb2NzLnN5bmNgKVxuLyoqXG4gKiBRd2lrIE9wdGltaXplciBtYXJrZXIgZnVuY3Rpb24uXG4gKlxuICogVXNlIGAkKC4uLilgIHRvIHRlbGwgUXdpayBPcHRpbWl6ZXIgdG8gZXh0cmFjdCB0aGUgZXhwcmVzc2lvbiBpbiBgJCguLi4pYCBpbnRvIGEgbGF6eS1sb2FkYWJsZVxuICogcmVzb3VyY2UgcmVmZXJlbmNlZCBieSBgUVJMYC5cbiAqXG4gKiBAcGFyYW0gZXhwcmVzc2lvbiAtIEV4cHJlc3Npb24gd2hpY2ggc2hvdWxkIGJlIGxhenkgbG9hZGVkXG4gKiBAcHVibGljXG4gKiBAc2VlIGBpbXBsaWNpdCRGaXJzdEFyZ2AgZm9yIGFkZGl0aW9uYWwgYF9fX18kKC4uLilgIHJ1bGVzLlxuICpcbiAqIEluIHRoaXMgZXhhbXBsZSwgYCQoLi4uKWAgaXMgdXNlZCB0byBjYXB0dXJlIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBvZiBgb25tb3VzZW1vdmVgIGludG8gYVxuICogbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UuIFRoaXMgYWxsb3dzIHRoZSBjb2RlIHRvIHJlZmVyIHRvIHRoZSBmdW5jdGlvbiB3aXRob3V0IGFjdHVhbGx5XG4gKiBsb2FkaW5nIHRoZSBmdW5jdGlvbi4gSW4gdGhpcyBleGFtcGxlLCB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZG9lcyBub3QgZ2V0IGxvYWRlZCB1bnRpbFxuICogYG1vdXNlbW92ZWAgZXZlbnQgZmlyZXMuXG4gKlxuICogYGBgdHN4XG4gKiB1c2VPbkRvY3VtZW50KFxuICogICAnbW91c2Vtb3ZlJyxcbiAqICAgJCgoZXZlbnQpID0+IGNvbnNvbGUubG9nKCdtb3VzZW1vdmUnLCBldmVudCkpXG4gKiApO1xuICogYGBgXG4gKlxuICogSW4gdGhpcyBjb2RlLCB0aGUgUXdpayBPcHRpbWl6ZXIgZGV0ZWN0cyBgJCguLi4pYCBhbmQgdHJhbnNmb3JtcyB0aGUgY29kZSBpbnRvOlxuICpcbiAqIGBgYHRzeFxuICogLy8gRklMRTogPGN1cnJlbnQgZmlsZT5cbiAqIHVzZU9uRG9jdW1lbnQoJ21vdXNlbW92ZScsIHFybCgnLi9jaHVuay1hYmMuanMnLCAnb25Nb3VzZW1vdmUnKSk7XG4gKlxuICogLy8gRklMRTogY2h1bmstYWJjLmpzXG4gKiBleHBvcnQgY29uc3Qgb25Nb3VzZW1vdmUgPSAoKSA9PiBjb25zb2xlLmxvZygnbW91c2Vtb3ZlJyk7XG4gKiBgYGBcbiAqXG4gKiAjIyBTcGVjaWFsIFJ1bGVzXG4gKlxuICogVGhlIFF3aWsgT3B0aW1pemVyIHBsYWNlcyBzcGVjaWFsIHJ1bGVzIG9uIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSBsYXp5LWxvYWRlZC5cbiAqXG4gKiAxLiBUaGUgZXhwcmVzc2lvbiBvZiB0aGUgYCQoZXhwcmVzc2lvbilgIGZ1bmN0aW9uIG11c3QgYmUgaW1wb3J0YWJsZSBieSB0aGUgc3lzdGVtLlxuICogKGV4cHJlc3Npb24gc2hvd3MgdXAgaW4gYGltcG9ydGAgb3IgaGFzIGBleHBvcnRgKVxuICogMi4gSWYgaW5saW5lZCBmdW5jdGlvbiwgdGhlbiBhbGwgbGV4aWNhbGx5IGNhcHR1cmVkIHZhbHVlcyBtdXN0IGJlOlxuICogICAgLSBpbXBvcnRhYmxlICh2YXJzIHNob3cgdXAgaW4gYGltcG9ydGBzIG9yIGBleHBvcnRgcylcbiAqICAgIC0gY29uc3QgKFRoZSBjYXB0dXJpbmcgcHJvY2VzcyBkaWZmZXJzIGZyb20gSlMgY2FwdHVyaW5nIGluIHRoYXQgd3JpdGluZyB0byBjYXB0dXJlZFxuICogdmFyaWFibGVzIGRvZXMgbm90IHVwZGF0ZSB0aGVtLCBhbmQgdGhlcmVmb3JlIHdyaXRlcyBhcmUgZm9yYmlkZGVuLiBUaGUgYmVzdCBwcmFjdGljZSBpcyB0aGF0XG4gKiBhbGwgY2FwdHVyZWQgdmFyaWFibGVzIGFyZSBjb25zdGFudHMuKVxuICogICAgLSBNdXN0IGJlIHJ1bnRpbWUgc2VyaWFsaXphYmxlLlxuICpcbiAqIGBgYHRzeFxuICpcbiAqIGltcG9ydCB7IGNyZWF0ZUNvbnRleHRJZCwgdXNlQ29udGV4dCwgdXNlQ29udGV4dFByb3ZpZGVyIH0gZnJvbSAnLi91c2UvdXNlLWNvbnRleHQnO1xuICogaW1wb3J0IHsgUmVzb3VyY2UgfSBmcm9tICcuL3VzZS91c2UtcmVzb3VyY2UnO1xuICogaW1wb3J0IHsgdXNlUmVzb3VyY2UkIH0gZnJvbSAnLi91c2UvdXNlLXJlc291cmNlLWRvbGxhcic7XG4gKiBpbXBvcnQgeyB1c2VTaWduYWwgfSBmcm9tICcuL3VzZS91c2Utc2lnbmFsJztcbiAqXG4gKiBleHBvcnQgY29uc3QgZ3JlZXQgPSAoKSA9PiBjb25zb2xlLmxvZygnZ3JlZXQnKTtcbiAqIGZ1bmN0aW9uIHRvcExldmVsRm4oKSB7fVxuICpcbiAqIGZ1bmN0aW9uIG15Q29kZSgpIHtcbiAqICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh7fSk7XG4gKiAgIGZ1bmN0aW9uIGxvY2FsRm4oKSB7fVxuICogICAvLyBWYWxpZCBFeGFtcGxlc1xuICogICAkKGdyZWV0KTsgLy8gZ3JlZXQgaXMgaW1wb3J0YWJsZVxuICogICAkKCgpID0+IGdyZWV0KCkpOyAvLyBncmVldCBpcyBpbXBvcnRhYmxlO1xuICogICAkKCgpID0+IGNvbnNvbGUubG9nKHN0b3JlKSk7IC8vIHN0b3JlIGlzIHNlcmlhbGl6YWJsZS5cbiAqXG4gKiAgIC8vIENvbXBpbGUgdGltZSBlcnJvcnNcbiAqICAgJCh0b3BMZXZlbEZuKTsgLy8gRVJST1I6IGB0b3BMZXZlbEZuYCBub3QgaW1wb3J0YWJsZVxuICogICAkKCgpID0+IHRvcExldmVsRm4oKSk7IC8vIEVSUk9SOiBgdG9wTGV2ZWxGbmAgbm90IGltcG9ydGFibGVcbiAqXG4gKiAgIC8vIFJ1bnRpbWUgZXJyb3JzXG4gKiAgICQobG9jYWxGbik7IC8vIEVSUk9SOiBgbG9jYWxGbmAgZmFpbHMgc2VyaWFsaXphdGlvblxuICogICAkKCgpID0+IGxvY2FsRm4oKSk7IC8vIEVSUk9SOiBgbG9jYWxGbmAgZmFpbHMgc2VyaWFsaXphdGlvblxuICogfVxuICpcbiAqIGBgYFxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgJCA9IDxUPihleHByZXNzaW9uOiBUKTogUVJMPFQ+ID0+IHtcbiAgaWYgKCFxUnVudGltZVFybCAmJiBxRGV2KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ09wdGltaXplciBzaG91bGQgcmVwbGFjZSBhbGwgdXNhZ2VzIG9mICQoKSB3aXRoIHNvbWUgc3BlY2lhbCBzeW50YXguIElmIHlvdSBuZWVkIHRvIGNyZWF0ZSBhIFFSTCBtYW51YWxseSwgdXNlIGlubGluZWRRcmwoKSBpbnN0ZWFkLidcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZVFSTDxUPihudWxsLCAncycgKyBydW50aW1lU3ltYm9sSWQrKywgZXhwcmVzc2lvbiwgbnVsbCwgbnVsbCwgbnVsbCk7XG59O1xuLyoqIEBwcml2YXRlIFVzZSBUbyBhdm9pZCBvcHRpbWl6ZXIgcmVwbGFjZW1lbnQgKi9cbmV4cG9ydCBjb25zdCBkb2xsYXIgPSAkO1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgZXZlbnRRcmwgPSA8VD4ocXJsOiBRUkw8VD4pOiBRUkw8VD4gPT4ge1xuICByZXR1cm4gcXJsO1xufTtcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3luY1FSTDxUWVBFIGV4dGVuZHMgRnVuY3Rpb24gPSBhbnk+IGV4dGVuZHMgUVJMPFRZUEU+IHtcbiAgX19icmFuZF9fU3luY1FSTF9fOiBUWVBFO1xuXG4gIC8qKlxuICAgKiBSZXNvbHZlIHRoZSBRUkwgb2YgY2xvc3VyZSBhbmQgaW52b2tlIGl0LlxuICAgKlxuICAgKiBAcGFyYW0gYXJncyAtIENsb3N1cmUgYXJndW1lbnRzLlxuICAgKiBAcmV0dXJucyBBIHJldHVybiB2YWx1ZSBvZiB0aGUgY2xvc3VyZS5cbiAgICovXG4gIChcbiAgICAuLi5hcmdzOiBUWVBFIGV4dGVuZHMgKC4uLmFyZ3M6IGluZmVyIEFSR1MpID0+IGFueSA/IEFSR1MgOiBuZXZlclxuICApOiBUWVBFIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBpbmZlciBSRVRVUk4gPyBSRVRVUk4gOiBuZXZlcjtcblxuICByZXNvbHZlZDogVFlQRTtcbiAgZGV2OiBRUkxEZXYgfCBudWxsO1xufVxuXG4vKipcbiAqIEV4dHJhY3QgZnVuY3Rpb24gaW50byBhIHN5bmNocm9ub3VzbHkgbG9hZGFibGUgUVJMLlxuICpcbiAqIE5PVEU6IFN5bmNocm9ub3VzIFFSTHMgZnVuY3Rpb25zIGNhbid0IGNsb3NlIG92ZXIgYW55IHZhcmlhYmxlcywgaW5jbHVkaW5nIGV4cG9ydHMuXG4gKlxuICogQHBhcmFtIGZuIC0gRnVuY3Rpb24gdG8gZXh0cmFjdC5cbiAqIEByZXR1cm5zXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBzeW5jJCA9IDxUIGV4dGVuZHMgRnVuY3Rpb24+KGZuOiBUKTogU3luY1FSTDxUPiA9PiB7XG4gIGlmICghcVJ1bnRpbWVRcmwgJiYgcURldikge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdPcHRpbWl6ZXIgc2hvdWxkIHJlcGxhY2UgYWxsIHVzYWdlcyBvZiBzeW5jJCgpIHdpdGggc29tZSBzcGVjaWFsIHN5bnRheC4gSWYgeW91IG5lZWQgdG8gY3JlYXRlIGEgUVJMIG1hbnVhbGx5LCB1c2UgaW5saW5lZFN5bmNRcmwoKSBpbnN0ZWFkLidcbiAgICApO1xuICB9XG4gIGlmIChxRGV2KSB7XG4gICAgLy8gVG8gbWFrZSBzdXJlIHRoYXQgaW4gZGV2IG1vZGUgd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IGNhcHR1cmUgY29udGV4dCBpbiBgc3luYyQoKWAgd2Ugc2VyaWFsaXplIGFuZCBkZXNlcmlhbGl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG4gICAgZm4gPSBuZXcgRnVuY3Rpb24oJ3JldHVybiAnICsgZm4udG9TdHJpbmcoKSkoKSBhcyBhbnk7XG4gIH1cblxuICByZXR1cm4gY3JlYXRlUVJMPFQ+KCcnLCBTWU5DX1FSTCwgZm4sIG51bGwsIG51bGwsIG51bGwpIGFzIGFueTtcbn07XG5cbi8qKlxuICogRXh0cmFjdCBmdW5jdGlvbiBpbnRvIGEgc3luY2hyb25vdXNseSBsb2FkYWJsZSBRUkwuXG4gKlxuICogTk9URTogU3luY2hyb25vdXMgUVJMcyBmdW5jdGlvbnMgY2FuJ3QgY2xvc2Ugb3ZlciBhbnkgdmFyaWFibGVzLCBpbmNsdWRpbmcgZXhwb3J0cy5cbiAqXG4gKiBAcGFyYW0gZm4gLSBFeHRyYWN0ZWQgZnVuY3Rpb25cbiAqIEBwYXJhbSBzZXJpYWxpemVkRm4gLSBTZXJpYWxpemVkIGZ1bmN0aW9uIGluIHN0cmluZyBmb3JtLlxuICogQHJldHVybnNcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgX3FybFN5bmMgPSBmdW5jdGlvbiA8VFlQRSBleHRlbmRzIEZ1bmN0aW9uPihcbiAgZm46IFRZUEUsXG4gIHNlcmlhbGl6ZWRGbj86IHN0cmluZ1xuKTogU3luY1FSTDxUWVBFPiB7XG4gIGlmIChzZXJpYWxpemVkRm4gPT09IHVuZGVmaW5lZCkge1xuICAgIHNlcmlhbGl6ZWRGbiA9IGZuLnRvU3RyaW5nKCk7XG4gIH1cbiAgKGZuIGFzIGFueSkuc2VyaWFsaXplZCA9IHNlcmlhbGl6ZWRGbjtcbiAgcmV0dXJuIGNyZWF0ZVFSTDxUWVBFPignJywgU1lOQ19RUkwsIGZuLCBudWxsLCBudWxsLCBudWxsKSBhcyBhbnk7XG59O1xuIl19","import { dollar } from './qrl/qrl.public';\nimport { _jsxSplit } from '../internal';\nimport { assertNumber } from './error/assert';\nimport { qTest } from './utils/qdev';\nimport { assertQrl } from './qrl/qrl-utils';\n/** @internal */\nexport const componentQrl = (componentQrl) => {\n    // Return a QComponent Factory function.\n    function QwikComponent(props, key, flags = 0) {\n        assertQrl(componentQrl);\n        assertNumber(flags, 'The Qwik Component was not invoked correctly');\n        const hash = qTest ? 'sX' : componentQrl.$hash$.slice(0, 4);\n        const finalKey = hash + ':' + (key ? key : '');\n        const InnerCmp = () => { };\n        InnerCmp[SERIALIZABLE_STATE] = [componentQrl];\n        return _jsxSplit(InnerCmp, props, null, props.children, flags, finalKey);\n    }\n    QwikComponent[SERIALIZABLE_STATE] = [componentQrl];\n    return QwikComponent;\n};\nexport const SERIALIZABLE_STATE = Symbol('serializable-data');\nexport const isQwikComponent = (component) => {\n    return typeof component == 'function' && component[SERIALIZABLE_STATE] !== undefined;\n};\n// <docs markdown=\"../readme.md#component\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#component instead and run `pnpm docs.sync`)\n/**\n * Declare a Qwik component that can be used to create UI.\n *\n * Use `component$` to declare a Qwik component. A Qwik component is a special kind of component\n * that allows the Qwik framework to lazy load and execute the component independently of other Qwik\n * components as well as lazy load the component's life-cycle hooks and event handlers.\n *\n * Side note: You can also declare regular (standard JSX) components that will have standard\n * synchronous behavior.\n *\n * Qwik component is a facade that describes how the component should be used without forcing the\n * implementation of the component to be eagerly loaded. A minimum Qwik definition consists of:\n *\n * ### Example\n *\n * An example showing how to create a counter component:\n *\n * ```tsx\n * export interface CounterProps {\n *   initialValue?: number;\n *   step?: number;\n * }\n * export const Counter = component$((props: CounterProps) => {\n *   const state = useStore({ count: props.initialValue || 0 });\n *   return (\n *     <div>\n *       <span>{state.count}</span>\n *       <button onClick$={() => (state.count += props.step || 1)}>+</button>\n *     </div>\n *   );\n * });\n * ```\n *\n * - `component$` is how a component gets declared.\n * - `{ value?: number; step?: number }` declares the public (props) interface of the component.\n * - `{ count: number }` declares the private (state) interface of the component.\n *\n * The above can then be used like so:\n *\n * ```tsx\n * export const OtherComponent = component$(() => {\n *   return <Counter initialValue={100} />;\n * });\n * ```\n *\n * See also: `component`, `useCleanup`, `onResume`, `onPause`, `useOn`, `useOnDocument`,\n * `useOnWindow`, `useStyles`\n *\n * @public\n */\n// </docs>\nexport const component$ = (onMount) => {\n    return componentQrl(dollar(onMount));\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvY29tcG9uZW50LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFZLE1BQU0sa0JBQWtCLENBQUM7QUFTcEQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUV4QyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDOUMsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNyQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFpSDVDLGdCQUFnQjtBQUNoQixNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FDMUIsWUFBb0MsRUFDbEIsRUFBRTtJQUNwQix3Q0FBd0M7SUFDeEMsU0FBUyxhQUFhLENBQ3BCLEtBQXlCLEVBQ3pCLEdBQWtCLEVBQ2xCLFFBQWdCLENBQUM7UUFFakIsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ3hCLFlBQVksQ0FBQyxLQUFLLEVBQUUsOENBQThDLENBQUMsQ0FBQztRQUNwRSxNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzVELE1BQU0sUUFBUSxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDL0MsTUFBTSxRQUFRLEdBQUcsR0FBRyxFQUFFLEdBQUUsQ0FBQyxDQUFDO1FBQ3pCLFFBQWdCLENBQUMsa0JBQWtCLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ3ZELE9BQU8sU0FBUyxDQUFDLFFBQWUsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ2xGLENBQUM7SUFDQSxhQUFxQixDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUM1RCxPQUFPLGFBQW9CLENBQUM7QUFDOUIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQUcsTUFBTSxDQUFDLG1CQUFtQixDQUFDLENBQUM7QUFFOUQsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLENBQTJCLFNBQWtCLEVBQWtCLEVBQUU7SUFDOUYsT0FBTyxPQUFPLFNBQVMsSUFBSSxVQUFVLElBQUssU0FBaUIsQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLFNBQVMsQ0FBQztBQUNoRyxDQUFDLENBQUM7QUFFRiwyQ0FBMkM7QUFDM0MseUNBQXlDO0FBQ3pDLGlFQUFpRTtBQUNqRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWlERztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FBa0IsT0FBMEIsRUFBb0IsRUFBRTtJQUMxRixPQUFPLFlBQVksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztBQUN2QyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkb2xsYXIsIHR5cGUgUVJMIH0gZnJvbSAnLi9xcmwvcXJsLnB1YmxpYyc7XG5pbXBvcnQgdHlwZSB7IEpTWE5vZGVJbnRlcm5hbCwgSlNYT3V0cHV0IH0gZnJvbSAnLi9qc3gvdHlwZXMvanN4LW5vZGUnO1xuaW1wb3J0IHR5cGUge1xuICBDb21wb25lbnRCYXNlUHJvcHMsXG4gIEV2ZW50SGFuZGxlcixcbiAgSlNYQ2hpbGRyZW4sXG4gIFFSTEV2ZW50SGFuZGxlck11bHRpLFxufSBmcm9tICcuL2pzeC90eXBlcy9qc3gtcXdpay1hdHRyaWJ1dGVzJztcbmltcG9ydCB0eXBlIHsgRnVuY3Rpb25Db21wb25lbnQgfSBmcm9tICcuL2pzeC90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgeyBfanN4U3BsaXQgfSBmcm9tICcuLi9pbnRlcm5hbCc7XG5pbXBvcnQgdHlwZSB7IFF3aWtJbnRyaW5zaWNFbGVtZW50cyB9IGZyb20gJy4vanN4L3R5cGVzL2pzeC1xd2lrLWVsZW1lbnRzJztcbmltcG9ydCB7IGFzc2VydE51bWJlciB9IGZyb20gJy4vZXJyb3IvYXNzZXJ0JztcbmltcG9ydCB7IHFUZXN0IH0gZnJvbSAnLi91dGlscy9xZGV2JztcbmltcG9ydCB7IGFzc2VydFFybCB9IGZyb20gJy4vcXJsL3FybC11dGlscyc7XG5cbi8vIFRTIHdheSB0byBjaGVjayBmb3IgYW55XG50eXBlIElzQW55PFQ+ID0gMCBleHRlbmRzIFQgJiAxID8gdHJ1ZSA6IGZhbHNlO1xuXG50eXBlIE9iamVjdFByb3BzPFQ+ID1cbiAgSXNBbnk8VD4gZXh0ZW5kcyB0cnVlXG4gICAgPyBhbnlcbiAgICA6IC8vIHVua25vd24gbWVhbnMgd2UgZG9uJ3QgYWNjZXB0IGFueSBwcm9wc1xuICAgICAgdW5rbm93biBleHRlbmRzIFRcbiAgICAgID8gbmV2ZXJcbiAgICAgIDogVCBleHRlbmRzIFJlY29yZDxhbnksIGFueT5cbiAgICAgICAgPyBUXG4gICAgICAgIDogbmV2ZXI7XG5cbi8qKlxuICogSW5mZXJzIGBQcm9wc2AgZnJvbSB0aGUgY29tcG9uZW50IG9yIHRhZy5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgRGVzYyA9IGNvbXBvbmVudCQoKHtkZXNjLCAuLi5wcm9wc306IHsgZGVzYzogc3RyaW5nIH0gJiBQcm9wc09mPCdkaXYnPikgPT4ge1xuICogIHJldHVybiA8ZGl2IHsuLi5wcm9wc30+e2Rlc2N9PC9kaXY+O1xuICogfSk7XG4gKlxuICogY29uc3QgVGl0bGVCb3ggPSBjb21wb25lbnQkKCh7dGl0bGUsIC4uLnByb3BzfTogeyB0aXRsZTogc3RyaW5nIH0gJiBQcm9wc09mPEJveD4pID0+IHtcbiAqICAgcmV0dXJuIDxCb3ggey4uLnByb3BzfT48aDE+e3RpdGxlfTwvaDE+PC9Cb3g+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCB0eXBlIFByb3BzT2Y8Q09NUD4gPSBDT01QIGV4dGVuZHMgc3RyaW5nXG4gID8gQ09NUCBleHRlbmRzIGtleW9mIFF3aWtJbnRyaW5zaWNFbGVtZW50c1xuICAgID8gUXdpa0ludHJpbnNpY0VsZW1lbnRzW0NPTVBdXG4gICAgOiAvLyBgPHNwYW4vPmAgaGFzIG5vIHNwZWNpYWwgYXR0cmlidXRlc1xuICAgICAgUXdpa0ludHJpbnNpY0VsZW1lbnRzWydzcGFuJ11cbiAgOiBOb25OdWxsYWJsZTxDT01QPiBleHRlbmRzIG5ldmVyXG4gICAgPyBuZXZlclxuICAgIDogQ09NUCBleHRlbmRzIEZ1bmN0aW9uQ29tcG9uZW50PGluZmVyIFBST1BTPlxuICAgICAgPyBQUk9QUyBleHRlbmRzIFJlY29yZDxhbnksIGluZmVyIFY+XG4gICAgICAgID8gSXNBbnk8Vj4gZXh0ZW5kcyB0cnVlXG4gICAgICAgICAgPyAvLyB3ZSBjb3VsZG4ndCBmaWd1cmUgaXQgb3V0XG4gICAgICAgICAgICBuZXZlclxuICAgICAgICAgIDogT2JqZWN0UHJvcHM8UFJPUFM+XG4gICAgICAgIDogQ09NUCBleHRlbmRzIENvbXBvbmVudDxpbmZlciBPcmlnUHJvcHM+XG4gICAgICAgICAgPyBPYmplY3RQcm9wczxPcmlnUHJvcHM+XG4gICAgICAgICAgOiAvLyBzb21ldGhpbmcgY29tcGxleCwganVzdCByZXR1cm4gYXMtaXNcbiAgICAgICAgICAgIFBST1BTXG4gICAgICA6IG5ldmVyO1xuXG4vKipcbiAqIFR5cGUgcmVwcmVzZW50aW5nIHRoZSBRd2lrIGNvbXBvbmVudC5cbiAqXG4gKiBgQ29tcG9uZW50YCBpcyB0aGUgdHlwZSByZXR1cm5lZCBieSBpbnZva2luZyBgY29tcG9uZW50JGAuXG4gKlxuICogYGBgdHN4XG4gKiBpbnRlcmZhY2UgTXlDb21wb25lbnRQcm9wcyB7XG4gKiAgIHNvbWVQcm9wOiBzdHJpbmc7XG4gKiB9XG4gKiBjb25zdCBNeUNvbXBvbmVudDogQ29tcG9uZW50PE15Q29tcG9uZW50UHJvcHM+ID0gY29tcG9uZW50JCgocHJvcHM6IE15Q29tcG9uZW50UHJvcHMpID0+IHtcbiAqICAgcmV0dXJuIDxzcGFuPntwcm9wcy5zb21lUHJvcH08L3NwYW4+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIEluIHJlYWxpdHksIENvbXBvbmVudCBpcyBhIFFSTCBidXQgdGhhdCBtYWtlcyB0aGUgdHlwZXMgdG9vIGNvbXBsZXhcbmV4cG9ydCB0eXBlIENvbXBvbmVudDxQUk9QUyA9IHVua25vd24+ID0gRnVuY3Rpb25Db21wb25lbnQ8UHVibGljUHJvcHM8UFJPUFM+PjtcblxuZXhwb3J0IHR5cGUgQ29tcG9uZW50Q2hpbGRyZW48UFJPUFM+ID0gUFJPUFMgZXh0ZW5kcyB7XG4gIGNoaWxkcmVuOiBhbnk7XG59XG4gID8gbmV2ZXJcbiAgOiB7IGNoaWxkcmVuPzogSlNYQ2hpbGRyZW4gfTtcbi8qKlxuICogRXh0ZW5kcyB0aGUgZGVmaW5lZCBjb21wb25lbnQgUFJPUFMsIGFkZGluZyB0aGUgZGVmYXVsdCBvbmVzIChjaGlsZHJlbiBhbmQgcTpzbG90KSBhbmQgYWxsb3dpbmdcbiAqIHBsYWluIGZ1bmN0aW9ucyB0byBRUkwgYXJndW1lbnRzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgUHVibGljUHJvcHM8UFJPUFM+ID1cbiAgLy8gVXNlIE9taXQgKyBfT25seSQgc28gdGhhdCBpbmZlcnJpbmcgcG9seW1vcnBpYyBjb21wb25lbnRzIHdvcmtzXG4gIC8vIE1hcHBpbmcgdGhlIGVudGlyZSBQUk9QUyBkb2Vzbid0IHdvcmssIG1heWJlIFRTIGRvZXNuJ3QgbGlrZSBpbmZlcnJpbmcgdGhyb3VnaCBjb25kaXRpb25hbCB0eXBlc1xuICAoUFJPUFMgZXh0ZW5kcyBSZWNvcmQ8YW55LCBhbnk+XG4gICAgPyBPbWl0PFBST1BTLCBgJHtzdHJpbmd9JGA+ICYgX09ubHkkPFBST1BTPlxuICAgIDogdW5rbm93biBleHRlbmRzIFBST1BTXG4gICAgICA/IHt9XG4gICAgICA6IFBST1BTKSAmXG4gICAgQ29tcG9uZW50QmFzZVByb3BzICZcbiAgICBDb21wb25lbnRDaGlsZHJlbjxQUk9QUz47XG5cbnR5cGUgX0FsbG93UGxhaW5Rcmw8UT4gPVxuICAvLyBRUkxFdmVudEhhbmRsZXJNdWx0aSBnZXRzIGEgc3BlY2lhbCBjYXNlIHRvIHNpbXBsaWZ5IHRoZSByZXN1bHRcbiAgLy8gSXQgbmVlZHMgdG8gYmUgaGFuZGxlZCBjYXJlZnVsbHkgYmVjYXVzZSBpdCBtYXRjaGVzIHJlZ3VsYXIgZnVuY3Rpb25zIHRvb1xuICBRUkxFdmVudEhhbmRsZXJNdWx0aTxhbnksIGFueT4gZXh0ZW5kcyBRXG4gICAgPyBRIGV4dGVuZHMgUVJMRXZlbnRIYW5kbGVyTXVsdGk8aW5mZXIgRVYsIGluZmVyIEVMPlxuICAgICAgP1xuICAgICAgICAgIHwgUVxuICAgICAgICAgIC8vIEl0IGNhbiBpbmZlciB1bmtub3duIGFuZCB0aGF0IGJyZWFrcyB0aGluZ3NcbiAgICAgICAgICB8IChFTCBleHRlbmRzIEVsZW1lbnQgPyBFdmVudEhhbmRsZXI8RVYsIEVMPiA6IG5ldmVyKVxuICAgICAgOiBRXG4gICAgOiBRIGV4dGVuZHMgUVJMPGluZmVyIFU+XG4gICAgICA/IFEgfCBVXG4gICAgICA6IE5vbk51bGxhYmxlPFE+IGV4dGVuZHMgbmV2ZXJcbiAgICAgICAgPyBRXG4gICAgICAgIDogUVJMPFE+IHwgUTtcblxudHlwZSBfT25seSQ8UD4gPSB7XG4gIFtLIGluIGtleW9mIFAgYXMgSyBleHRlbmRzIGAke3N0cmluZ30kYCA/IEsgOiBuZXZlcl06IF9BbGxvd1BsYWluUXJsPFBbS10+O1xufTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGNvbXBvbmVudFFybCA9IDxQUk9QUyBleHRlbmRzIFJlY29yZDxhbnksIGFueT4+KFxuICBjb21wb25lbnRRcmw6IFFSTDxPblJlbmRlckZuPFBST1BTPj5cbik6IENvbXBvbmVudDxQUk9QUz4gPT4ge1xuICAvLyBSZXR1cm4gYSBRQ29tcG9uZW50IEZhY3RvcnkgZnVuY3Rpb24uXG4gIGZ1bmN0aW9uIFF3aWtDb21wb25lbnQoXG4gICAgcHJvcHM6IFB1YmxpY1Byb3BzPFBST1BTPixcbiAgICBrZXk6IHN0cmluZyB8IG51bGwsXG4gICAgZmxhZ3M6IG51bWJlciA9IDBcbiAgKTogSlNYTm9kZUludGVybmFsIHtcbiAgICBhc3NlcnRRcmwoY29tcG9uZW50UXJsKTtcbiAgICBhc3NlcnROdW1iZXIoZmxhZ3MsICdUaGUgUXdpayBDb21wb25lbnQgd2FzIG5vdCBpbnZva2VkIGNvcnJlY3RseScpO1xuICAgIGNvbnN0IGhhc2ggPSBxVGVzdCA/ICdzWCcgOiBjb21wb25lbnRRcmwuJGhhc2gkLnNsaWNlKDAsIDQpO1xuICAgIGNvbnN0IGZpbmFsS2V5ID0gaGFzaCArICc6JyArIChrZXkgPyBrZXkgOiAnJyk7XG4gICAgY29uc3QgSW5uZXJDbXAgPSAoKSA9PiB7fTtcbiAgICAoSW5uZXJDbXAgYXMgYW55KVtTRVJJQUxJWkFCTEVfU1RBVEVdID0gW2NvbXBvbmVudFFybF07XG4gICAgcmV0dXJuIF9qc3hTcGxpdChJbm5lckNtcCBhcyBhbnksIHByb3BzLCBudWxsLCBwcm9wcy5jaGlsZHJlbiwgZmxhZ3MsIGZpbmFsS2V5KTtcbiAgfVxuICAoUXdpa0NvbXBvbmVudCBhcyBhbnkpW1NFUklBTElaQUJMRV9TVEFURV0gPSBbY29tcG9uZW50UXJsXTtcbiAgcmV0dXJuIFF3aWtDb21wb25lbnQgYXMgYW55O1xufTtcblxuZXhwb3J0IGNvbnN0IFNFUklBTElaQUJMRV9TVEFURSA9IFN5bWJvbCgnc2VyaWFsaXphYmxlLWRhdGEnKTtcblxuZXhwb3J0IGNvbnN0IGlzUXdpa0NvbXBvbmVudCA9IDxUIGV4dGVuZHMgQ29tcG9uZW50PGFueT4+KGNvbXBvbmVudDogdW5rbm93bik6IGNvbXBvbmVudCBpcyBUID0+IHtcbiAgcmV0dXJuIHR5cGVvZiBjb21wb25lbnQgPT0gJ2Z1bmN0aW9uJyAmJiAoY29tcG9uZW50IGFzIGFueSlbU0VSSUFMSVpBQkxFX1NUQVRFXSAhPT0gdW5kZWZpbmVkO1xufTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjY29tcG9uZW50XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI2NvbXBvbmVudCBpbnN0ZWFkIGFuZCBydW4gYHBucG0gZG9jcy5zeW5jYClcbi8qKlxuICogRGVjbGFyZSBhIFF3aWsgY29tcG9uZW50IHRoYXQgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIFVJLlxuICpcbiAqIFVzZSBgY29tcG9uZW50JGAgdG8gZGVjbGFyZSBhIFF3aWsgY29tcG9uZW50LiBBIFF3aWsgY29tcG9uZW50IGlzIGEgc3BlY2lhbCBraW5kIG9mIGNvbXBvbmVudFxuICogdGhhdCBhbGxvd3MgdGhlIFF3aWsgZnJhbWV3b3JrIHRvIGxhenkgbG9hZCBhbmQgZXhlY3V0ZSB0aGUgY29tcG9uZW50IGluZGVwZW5kZW50bHkgb2Ygb3RoZXIgUXdpa1xuICogY29tcG9uZW50cyBhcyB3ZWxsIGFzIGxhenkgbG9hZCB0aGUgY29tcG9uZW50J3MgbGlmZS1jeWNsZSBob29rcyBhbmQgZXZlbnQgaGFuZGxlcnMuXG4gKlxuICogU2lkZSBub3RlOiBZb3UgY2FuIGFsc28gZGVjbGFyZSByZWd1bGFyIChzdGFuZGFyZCBKU1gpIGNvbXBvbmVudHMgdGhhdCB3aWxsIGhhdmUgc3RhbmRhcmRcbiAqIHN5bmNocm9ub3VzIGJlaGF2aW9yLlxuICpcbiAqIFF3aWsgY29tcG9uZW50IGlzIGEgZmFjYWRlIHRoYXQgZGVzY3JpYmVzIGhvdyB0aGUgY29tcG9uZW50IHNob3VsZCBiZSB1c2VkIHdpdGhvdXQgZm9yY2luZyB0aGVcbiAqIGltcGxlbWVudGF0aW9uIG9mIHRoZSBjb21wb25lbnQgdG8gYmUgZWFnZXJseSBsb2FkZWQuIEEgbWluaW11bSBRd2lrIGRlZmluaXRpb24gY29uc2lzdHMgb2Y6XG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBBbiBleGFtcGxlIHNob3dpbmcgaG93IHRvIGNyZWF0ZSBhIGNvdW50ZXIgY29tcG9uZW50OlxuICpcbiAqIGBgYHRzeFxuICogZXhwb3J0IGludGVyZmFjZSBDb3VudGVyUHJvcHMge1xuICogICBpbml0aWFsVmFsdWU/OiBudW1iZXI7XG4gKiAgIHN0ZXA/OiBudW1iZXI7XG4gKiB9XG4gKiBleHBvcnQgY29uc3QgQ291bnRlciA9IGNvbXBvbmVudCQoKHByb3BzOiBDb3VudGVyUHJvcHMpID0+IHtcbiAqICAgY29uc3Qgc3RhdGUgPSB1c2VTdG9yZSh7IGNvdW50OiBwcm9wcy5pbml0aWFsVmFsdWUgfHwgMCB9KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAgPHNwYW4+e3N0YXRlLmNvdW50fTwvc3Bhbj5cbiAqICAgICAgIDxidXR0b24gb25DbGljayQ9eygpID0+IChzdGF0ZS5jb3VudCArPSBwcm9wcy5zdGVwIHx8IDEpfT4rPC9idXR0b24+XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIC0gYGNvbXBvbmVudCRgIGlzIGhvdyBhIGNvbXBvbmVudCBnZXRzIGRlY2xhcmVkLlxuICogLSBgeyB2YWx1ZT86IG51bWJlcjsgc3RlcD86IG51bWJlciB9YCBkZWNsYXJlcyB0aGUgcHVibGljIChwcm9wcykgaW50ZXJmYWNlIG9mIHRoZSBjb21wb25lbnQuXG4gKiAtIGB7IGNvdW50OiBudW1iZXIgfWAgZGVjbGFyZXMgdGhlIHByaXZhdGUgKHN0YXRlKSBpbnRlcmZhY2Ugb2YgdGhlIGNvbXBvbmVudC5cbiAqXG4gKiBUaGUgYWJvdmUgY2FuIHRoZW4gYmUgdXNlZCBsaWtlIHNvOlxuICpcbiAqIGBgYHRzeFxuICogZXhwb3J0IGNvbnN0IE90aGVyQ29tcG9uZW50ID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHJldHVybiA8Q291bnRlciBpbml0aWFsVmFsdWU9ezEwMH0gLz47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIFNlZSBhbHNvOiBgY29tcG9uZW50YCwgYHVzZUNsZWFudXBgLCBgb25SZXN1bWVgLCBgb25QYXVzZWAsIGB1c2VPbmAsIGB1c2VPbkRvY3VtZW50YCxcbiAqIGB1c2VPbldpbmRvd2AsIGB1c2VTdHlsZXNgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgY29tcG9uZW50JCA9IDxQUk9QUyA9IHVua25vd24+KG9uTW91bnQ6IE9uUmVuZGVyRm48UFJPUFM+KTogQ29tcG9uZW50PFBST1BTPiA9PiB7XG4gIHJldHVybiBjb21wb25lbnRRcmwoZG9sbGFyKG9uTW91bnQpKTtcbn07XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBPblJlbmRlckZuPFBST1BTPiA9IChwcm9wczogUFJPUFMpID0+IEpTWE91dHB1dDtcbiJdfQ==","import { eventQrl } from './qrl.public';\nimport { implicit$FirstArg } from './implicit_dollar';\n/** @public */\nexport const event$ = implicit$FirstArg(eventQrl);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLnB1YmxpYy5kb2xsYXIuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL3FybC9xcmwucHVibGljLmRvbGxhci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3hDLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRXRELGNBQWM7QUFDZCxNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsaUJBQWlCLENBQUMsUUFBUSxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBldmVudFFybCB9IGZyb20gJy4vcXJsLnB1YmxpYyc7XG5pbXBvcnQgeyBpbXBsaWNpdCRGaXJzdEFyZyB9IGZyb20gJy4vaW1wbGljaXRfZG9sbGFyJztcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBjb25zdCBldmVudCQgPSBpbXBsaWNpdCRGaXJzdEFyZyhldmVudFFybCk7XG4iXX0=","import { isDocument, isElement } from '../shared/utils/element';\nimport { getDomContainer } from './dom-container';\nimport { cleanup } from './vnode-diff';\nimport { QContainerAttr } from '../shared/utils/markers';\nimport { qDev } from '../shared/utils/qdev';\nimport { qError } from '../shared/error/error';\n/**\n * Render JSX.\n *\n * Use this method to render JSX. This function does reconciling which means it always tries to\n * reuse what is already in the DOM (rather then destroy and recreate content.) It returns a cleanup\n * function you could use for cleaning up subscriptions.\n *\n * @param parent - Element which will act as a parent to `jsxNode`. When possible the rendering will\n *   try to reuse existing nodes.\n * @param jsxNode - JSX to render\n * @returns An object containing a cleanup function.\n * @public\n */\nexport const render = async (parent, jsxNode, opts = {}) => {\n    if (isDocument(parent)) {\n        let child = parent.firstChild;\n        while (child && !isElement(child)) {\n            child = child.nextSibling;\n        }\n        parent = child;\n    }\n    if (qDev && parent.hasAttribute(QContainerAttr)) {\n        throw qError(4 /* QError.cannotRenderOverExistingContainer */, [parent]);\n    }\n    parent.setAttribute(QContainerAttr, \"resumed\" /* QContainerValue.RESUMED */);\n    const container = getDomContainer(parent);\n    container.$serverData$ = opts.serverData || {};\n    const host = container.rootVNode;\n    container.$scheduler$(4 /* ChoreType.NODE_DIFF */, host, host, jsxNode);\n    await container.$scheduler$(255 /* ChoreType.WAIT_FOR_QUEUE */).$returnValue$;\n    return {\n        cleanup: () => {\n            cleanup(container, container.rootVNode);\n        },\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9tLXJlbmRlci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9jbGllbnQvZG9tLXJlbmRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBR2hFLE9BQU8sRUFBZ0IsZUFBZSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDaEUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUN2QyxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFFekQsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQzVDLE9BQU8sRUFBVSxNQUFNLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUV2RDs7Ozs7Ozs7Ozs7O0dBWUc7QUFDSCxNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsS0FBSyxFQUN6QixNQUEwQixFQUMxQixPQUEyQyxFQUMzQyxPQUFzQixFQUFFLEVBQ0QsRUFBRTtJQUN6QixJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO1FBQ3ZCLElBQUksS0FBSyxHQUFnQixNQUFNLENBQUMsVUFBVSxDQUFDO1FBQzNDLE9BQU8sS0FBSyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDbEMsS0FBSyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7UUFDNUIsQ0FBQztRQUNELE1BQU0sR0FBRyxLQUFnQixDQUFDO0lBQzVCLENBQUM7SUFDRCxJQUFJLElBQUksSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUM7UUFDaEQsTUFBTSxNQUFNLG1EQUEyQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDbkUsQ0FBQztJQUNBLE1BQWtCLENBQUMsWUFBWSxDQUFDLGNBQWMsMENBQTBCLENBQUM7SUFFMUUsTUFBTSxTQUFTLEdBQUcsZUFBZSxDQUFDLE1BQXFCLENBQWlCLENBQUM7SUFDekUsU0FBUyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsVUFBVSxJQUFJLEVBQUUsQ0FBQztJQUMvQyxNQUFNLElBQUksR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDO0lBQ2pDLFNBQVMsQ0FBQyxXQUFXLDhCQUFzQixJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQWtCLENBQUMsQ0FBQztJQUMzRSxNQUFNLFNBQVMsQ0FBQyxXQUFXLG9DQUEwQixDQUFDLGFBQWEsQ0FBQztJQUNwRSxPQUFPO1FBQ0wsT0FBTyxFQUFFLEdBQUcsRUFBRTtZQUNaLE9BQU8sQ0FBQyxTQUFTLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzFDLENBQUM7S0FDRixDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBGdW5jdGlvbkNvbXBvbmVudCwgSlNYTm9kZSwgSlNYT3V0cHV0IH0gZnJvbSAnLi4vc2hhcmVkL2pzeC90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgeyBpc0RvY3VtZW50LCBpc0VsZW1lbnQgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvZWxlbWVudCc7XG5pbXBvcnQgeyBDaG9yZVR5cGUgfSBmcm9tICcuLi9zaGFyZWQvdXRpbC1jaG9yZS10eXBlJztcbmltcG9ydCB7IFFDb250YWluZXJWYWx1ZSB9IGZyb20gJy4uL3NoYXJlZC90eXBlcyc7XG5pbXBvcnQgeyBEb21Db250YWluZXIsIGdldERvbUNvbnRhaW5lciB9IGZyb20gJy4vZG9tLWNvbnRhaW5lcic7XG5pbXBvcnQgeyBjbGVhbnVwIH0gZnJvbSAnLi92bm9kZS1kaWZmJztcbmltcG9ydCB7IFFDb250YWluZXJBdHRyIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL21hcmtlcnMnO1xuaW1wb3J0IHR5cGUgeyBSZW5kZXJPcHRpb25zLCBSZW5kZXJSZXN1bHQgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvcWRldic7XG5pbXBvcnQgeyBRRXJyb3IsIHFFcnJvciB9IGZyb20gJy4uL3NoYXJlZC9lcnJvci9lcnJvcic7XG5cbi8qKlxuICogUmVuZGVyIEpTWC5cbiAqXG4gKiBVc2UgdGhpcyBtZXRob2QgdG8gcmVuZGVyIEpTWC4gVGhpcyBmdW5jdGlvbiBkb2VzIHJlY29uY2lsaW5nIHdoaWNoIG1lYW5zIGl0IGFsd2F5cyB0cmllcyB0b1xuICogcmV1c2Ugd2hhdCBpcyBhbHJlYWR5IGluIHRoZSBET00gKHJhdGhlciB0aGVuIGRlc3Ryb3kgYW5kIHJlY3JlYXRlIGNvbnRlbnQuKSBJdCByZXR1cm5zIGEgY2xlYW51cFxuICogZnVuY3Rpb24geW91IGNvdWxkIHVzZSBmb3IgY2xlYW5pbmcgdXAgc3Vic2NyaXB0aW9ucy5cbiAqXG4gKiBAcGFyYW0gcGFyZW50IC0gRWxlbWVudCB3aGljaCB3aWxsIGFjdCBhcyBhIHBhcmVudCB0byBganN4Tm9kZWAuIFdoZW4gcG9zc2libGUgdGhlIHJlbmRlcmluZyB3aWxsXG4gKiAgIHRyeSB0byByZXVzZSBleGlzdGluZyBub2Rlcy5cbiAqIEBwYXJhbSBqc3hOb2RlIC0gSlNYIHRvIHJlbmRlclxuICogQHJldHVybnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgYSBjbGVhbnVwIGZ1bmN0aW9uLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgcmVuZGVyID0gYXN5bmMgKFxuICBwYXJlbnQ6IEVsZW1lbnQgfCBEb2N1bWVudCxcbiAganN4Tm9kZTogSlNYT3V0cHV0IHwgRnVuY3Rpb25Db21wb25lbnQ8YW55PixcbiAgb3B0czogUmVuZGVyT3B0aW9ucyA9IHt9XG4pOiBQcm9taXNlPFJlbmRlclJlc3VsdD4gPT4ge1xuICBpZiAoaXNEb2N1bWVudChwYXJlbnQpKSB7XG4gICAgbGV0IGNoaWxkOiBOb2RlIHwgbnVsbCA9IHBhcmVudC5maXJzdENoaWxkO1xuICAgIHdoaWxlIChjaGlsZCAmJiAhaXNFbGVtZW50KGNoaWxkKSkge1xuICAgICAgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZztcbiAgICB9XG4gICAgcGFyZW50ID0gY2hpbGQgYXMgRWxlbWVudDtcbiAgfVxuICBpZiAocURldiAmJiBwYXJlbnQuaGFzQXR0cmlidXRlKFFDb250YWluZXJBdHRyKSkge1xuICAgIHRocm93IHFFcnJvcihRRXJyb3IuY2Fubm90UmVuZGVyT3ZlckV4aXN0aW5nQ29udGFpbmVyLCBbcGFyZW50XSk7XG4gIH1cbiAgKHBhcmVudCBhcyBFbGVtZW50KS5zZXRBdHRyaWJ1dGUoUUNvbnRhaW5lckF0dHIsIFFDb250YWluZXJWYWx1ZS5SRVNVTUVEKTtcblxuICBjb25zdCBjb250YWluZXIgPSBnZXREb21Db250YWluZXIocGFyZW50IGFzIEhUTUxFbGVtZW50KSBhcyBEb21Db250YWluZXI7XG4gIGNvbnRhaW5lci4kc2VydmVyRGF0YSQgPSBvcHRzLnNlcnZlckRhdGEgfHwge307XG4gIGNvbnN0IGhvc3QgPSBjb250YWluZXIucm9vdFZOb2RlO1xuICBjb250YWluZXIuJHNjaGVkdWxlciQoQ2hvcmVUeXBlLk5PREVfRElGRiwgaG9zdCwgaG9zdCwganN4Tm9kZSBhcyBKU1hOb2RlKTtcbiAgYXdhaXQgY29udGFpbmVyLiRzY2hlZHVsZXIkKENob3JlVHlwZS5XQUlUX0ZPUl9RVUVVRSkuJHJldHVyblZhbHVlJDtcbiAgcmV0dXJuIHtcbiAgICBjbGVhbnVwOiAoKSA9PiB7XG4gICAgICBjbGVhbnVwKGNvbnRhaW5lciwgY29udGFpbmVyLnJvb3RWTm9kZSk7XG4gICAgfSxcbiAgfTtcbn07XG4iXX0=","import { isFunction } from '../shared/utils/types';\nimport { getOrCreateStore } from '../reactive-primitives/impl/store';\nimport { invoke } from './use-core';\nimport { useSequentialScope } from './use-sequential-scope';\nexport { unwrapStore, forceStoreEffects } from '../reactive-primitives/impl/store';\n// <docs markdown=\"../readme.md#useStore\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStore instead and run `pnpm docs.sync`)\n/**\n * Creates an object that Qwik can track across serializations.\n *\n * Use `useStore` to create a state for your application. The returned object is a proxy that has a\n * unique ID. The ID of the object is used in the `QRL`s to refer to the store.\n *\n * ### Example\n *\n * Example showing how `useStore` is used in Counter example to keep track of the count.\n *\n * ```tsx\n * const Stores = component$(() => {\n *   const counter = useCounter(1);\n *\n *   // Reactivity happens even for nested objects and arrays\n *   const userData = useStore({\n *     name: 'Manu',\n *     address: {\n *       address: '',\n *       city: '',\n *     },\n *     orgs: [],\n *   });\n *\n *   // useStore() can also accept a function to calculate the initial value\n *   const state = useStore(() => {\n *     return {\n *       value: expensiveInitialValue(),\n *     };\n *   });\n *\n *   return (\n *     <div>\n *       <div>Counter: {counter.value}</div>\n *       <Child userData={userData} state={state} />\n *     </div>\n *   );\n * });\n *\n * function useCounter(step: number) {\n *   // Multiple stores can be created in custom hooks for convenience and composability\n *   const counterStore = useStore({\n *     value: 0,\n *   });\n *   useVisibleTask$(() => {\n *     // Only runs in the client\n *     const timer = setInterval(() => {\n *       counterStore.value += step;\n *     }, 500);\n *     return () => {\n *       clearInterval(timer);\n *     };\n *   });\n *   return counterStore;\n * }\n * ```\n *\n * @public\n */\n// </docs>\nexport const useStore = (initialState, opts) => {\n    const { val, set, iCtx } = useSequentialScope();\n    if (val != null) {\n        return val;\n    }\n    const value = isFunction(initialState) ? invoke(undefined, initialState) : initialState;\n    if (opts?.reactive === false) {\n        set(value);\n        return value;\n    }\n    else {\n        const containerState = iCtx.$container$;\n        const recursive = opts?.deep ?? true;\n        const flags = recursive ? 1 /* StoreFlags.RECURSIVE */ : 0 /* StoreFlags.NONE */;\n        const newStore = getOrCreateStore(value, flags, containerState);\n        set(newStore);\n        return newStore;\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXN0b3JlLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLXN0b3JlLnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDbkQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFFckUsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLFlBQVksQ0FBQztBQUNwQyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUU1RCxPQUFPLEVBQUUsV0FBVyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFXbkYsMENBQTBDO0FBQzFDLHlDQUF5QztBQUN6QyxnRUFBZ0U7QUFDaEU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0EwREc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQ3RCLFlBQW1DLEVBQ25DLElBQXNCLEVBQ2YsRUFBRTtJQUNULE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLGtCQUFrQixFQUFTLENBQUM7SUFDdkQsSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7UUFDaEIsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDO0lBQ0QsTUFBTSxLQUFLLEdBQUcsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUM7SUFDeEYsSUFBSSxJQUFJLEVBQUUsUUFBUSxLQUFLLEtBQUssRUFBRSxDQUFDO1FBQzdCLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNYLE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztTQUFNLENBQUM7UUFDTixNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQ3hDLE1BQU0sU0FBUyxHQUFHLElBQUksRUFBRSxJQUFJLElBQUksSUFBSSxDQUFDO1FBQ3JDLE1BQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQyxDQUFDLDhCQUFzQixDQUFDLHdCQUFnQixDQUFDO1FBQ2pFLE1BQU0sUUFBUSxHQUFHLGdCQUFnQixDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsY0FBYyxDQUFDLENBQUM7UUFDaEUsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2QsT0FBTyxRQUFRLENBQUM7SUFDbEIsQ0FBQztBQUNILENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHsgZ2V0T3JDcmVhdGVTdG9yZSB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvaW1wbC9zdG9yZSc7XG5pbXBvcnQgeyBTdG9yZUZsYWdzIH0gZnJvbSAnLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy90eXBlcyc7XG5pbXBvcnQgeyBpbnZva2UgfSBmcm9tICcuL3VzZS1jb3JlJztcbmltcG9ydCB7IHVzZVNlcXVlbnRpYWxTY29wZSB9IGZyb20gJy4vdXNlLXNlcXVlbnRpYWwtc2NvcGUnO1xuXG5leHBvcnQgeyB1bndyYXBTdG9yZSwgZm9yY2VTdG9yZUVmZmVjdHMgfSBmcm9tICcuLi9yZWFjdGl2ZS1wcmltaXRpdmVzL2ltcGwvc3RvcmUnO1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VTdG9yZU9wdGlvbnMge1xuICAvKiogSWYgYHRydWVgIHRoZW4gYWxsIG5lc3RlZCBvYmplY3RzIGFuZCBhcnJheXMgd2lsbCBiZSB0cmFja2VkIGFzIHdlbGwuIERlZmF1bHQgaXMgYHRydWVgLiAqL1xuICBkZWVwPzogYm9vbGVhbjtcblxuICAvKiogSWYgYGZhbHNlYCB0aGVuIHRoZSBvYmplY3Qgd2lsbCBub3QgYmUgdHJhY2tlZCBmb3IgY2hhbmdlcy4gRGVmYXVsdCBpcyBgdHJ1ZWAuICovXG4gIHJlYWN0aXZlPzogYm9vbGVhbjtcbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlU3RvcmVcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlU3RvcmUgaW5zdGVhZCBhbmQgcnVuIGBwbnBtIGRvY3Muc3luY2ApXG4vKipcbiAqIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgUXdpayBjYW4gdHJhY2sgYWNyb3NzIHNlcmlhbGl6YXRpb25zLlxuICpcbiAqIFVzZSBgdXNlU3RvcmVgIHRvIGNyZWF0ZSBhIHN0YXRlIGZvciB5b3VyIGFwcGxpY2F0aW9uLiBUaGUgcmV0dXJuZWQgb2JqZWN0IGlzIGEgcHJveHkgdGhhdCBoYXMgYVxuICogdW5pcXVlIElELiBUaGUgSUQgb2YgdGhlIG9iamVjdCBpcyB1c2VkIGluIHRoZSBgUVJMYHMgdG8gcmVmZXIgdG8gdGhlIHN0b3JlLlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogRXhhbXBsZSBzaG93aW5nIGhvdyBgdXNlU3RvcmVgIGlzIHVzZWQgaW4gQ291bnRlciBleGFtcGxlIHRvIGtlZXAgdHJhY2sgb2YgdGhlIGNvdW50LlxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgU3RvcmVzID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IGNvdW50ZXIgPSB1c2VDb3VudGVyKDEpO1xuICpcbiAqICAgLy8gUmVhY3Rpdml0eSBoYXBwZW5zIGV2ZW4gZm9yIG5lc3RlZCBvYmplY3RzIGFuZCBhcnJheXNcbiAqICAgY29uc3QgdXNlckRhdGEgPSB1c2VTdG9yZSh7XG4gKiAgICAgbmFtZTogJ01hbnUnLFxuICogICAgIGFkZHJlc3M6IHtcbiAqICAgICAgIGFkZHJlc3M6ICcnLFxuICogICAgICAgY2l0eTogJycsXG4gKiAgICAgfSxcbiAqICAgICBvcmdzOiBbXSxcbiAqICAgfSk7XG4gKlxuICogICAvLyB1c2VTdG9yZSgpIGNhbiBhbHNvIGFjY2VwdCBhIGZ1bmN0aW9uIHRvIGNhbGN1bGF0ZSB0aGUgaW5pdGlhbCB2YWx1ZVxuICogICBjb25zdCBzdGF0ZSA9IHVzZVN0b3JlKCgpID0+IHtcbiAqICAgICByZXR1cm4ge1xuICogICAgICAgdmFsdWU6IGV4cGVuc2l2ZUluaXRpYWxWYWx1ZSgpLFxuICogICAgIH07XG4gKiAgIH0pO1xuICpcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAgPGRpdj5Db3VudGVyOiB7Y291bnRlci52YWx1ZX08L2Rpdj5cbiAqICAgICAgIDxDaGlsZCB1c2VyRGF0YT17dXNlckRhdGF9IHN0YXRlPXtzdGF0ZX0gLz5cbiAqICAgICA8L2Rpdj5cbiAqICAgKTtcbiAqIH0pO1xuICpcbiAqIGZ1bmN0aW9uIHVzZUNvdW50ZXIoc3RlcDogbnVtYmVyKSB7XG4gKiAgIC8vIE11bHRpcGxlIHN0b3JlcyBjYW4gYmUgY3JlYXRlZCBpbiBjdXN0b20gaG9va3MgZm9yIGNvbnZlbmllbmNlIGFuZCBjb21wb3NhYmlsaXR5XG4gKiAgIGNvbnN0IGNvdW50ZXJTdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICB2YWx1ZTogMCxcbiAqICAgfSk7XG4gKiAgIHVzZVZpc2libGVUYXNrJCgoKSA9PiB7XG4gKiAgICAgLy8gT25seSBydW5zIGluIHRoZSBjbGllbnRcbiAqICAgICBjb25zdCB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcbiAqICAgICAgIGNvdW50ZXJTdG9yZS52YWx1ZSArPSBzdGVwO1xuICogICAgIH0sIDUwMCk7XG4gKiAgICAgcmV0dXJuICgpID0+IHtcbiAqICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xuICogICAgIH07XG4gKiAgIH0pO1xuICogICByZXR1cm4gY291bnRlclN0b3JlO1xuICogfVxuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlU3RvcmUgPSA8U1RBVEUgZXh0ZW5kcyBvYmplY3Q+KFxuICBpbml0aWFsU3RhdGU6IFNUQVRFIHwgKCgpID0+IFNUQVRFKSxcbiAgb3B0cz86IFVzZVN0b3JlT3B0aW9uc1xuKTogU1RBVEUgPT4ge1xuICBjb25zdCB7IHZhbCwgc2V0LCBpQ3R4IH0gPSB1c2VTZXF1ZW50aWFsU2NvcGU8U1RBVEU+KCk7XG4gIGlmICh2YWwgIT0gbnVsbCkge1xuICAgIHJldHVybiB2YWw7XG4gIH1cbiAgY29uc3QgdmFsdWUgPSBpc0Z1bmN0aW9uKGluaXRpYWxTdGF0ZSkgPyBpbnZva2UodW5kZWZpbmVkLCBpbml0aWFsU3RhdGUpIDogaW5pdGlhbFN0YXRlO1xuICBpZiAob3B0cz8ucmVhY3RpdmUgPT09IGZhbHNlKSB7XG4gICAgc2V0KHZhbHVlKTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY29udGFpbmVyU3RhdGUgPSBpQ3R4LiRjb250YWluZXIkO1xuICAgIGNvbnN0IHJlY3Vyc2l2ZSA9IG9wdHM/LmRlZXAgPz8gdHJ1ZTtcbiAgICBjb25zdCBmbGFncyA9IHJlY3Vyc2l2ZSA/IFN0b3JlRmxhZ3MuUkVDVVJTSVZFIDogU3RvcmVGbGFncy5OT05FO1xuICAgIGNvbnN0IG5ld1N0b3JlID0gZ2V0T3JDcmVhdGVTdG9yZSh2YWx1ZSwgZmxhZ3MsIGNvbnRhaW5lclN0YXRlKTtcbiAgICBzZXQobmV3U3RvcmUpO1xuICAgIHJldHVybiBuZXdTdG9yZTtcbiAgfVxufTtcbiJdfQ==","export const intToStr = (nu) => {\n    return nu.toString(36);\n};\nexport const getNextUniqueIndex = (container) => {\n    return intToStr(container.$currentUniqueId$++);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidW5pcXVlLWluZGV4LWdlbmVyYXRvci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9zaGFyZWQvdXRpbHMvdW5pcXVlLWluZGV4LWdlbmVyYXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxFQUFVLEVBQUUsRUFBRTtJQUNyQyxPQUFPLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDekIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQUcsQ0FBQyxTQUFvQixFQUFFLEVBQUU7SUFDekQsT0FBTyxRQUFRLENBQUMsU0FBUyxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztBQUNqRCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IENvbnRhaW5lciB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IGludFRvU3RyID0gKG51OiBudW1iZXIpID0+IHtcbiAgcmV0dXJuIG51LnRvU3RyaW5nKDM2KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXROZXh0VW5pcXVlSW5kZXggPSAoY29udGFpbmVyOiBDb250YWluZXIpID0+IHtcbiAgcmV0dXJuIGludFRvU3RyKGNvbnRhaW5lci4kY3VycmVudFVuaXF1ZUlkJCsrKTtcbn07XG4iXX0=","import { hashCode } from '../shared/utils/hash_code';\nimport { OnRenderProp } from '../shared/utils/markers';\nimport { useSequentialScope } from './use-sequential-scope';\nimport { getNextUniqueIndex } from '../shared/utils/unique-index-generator';\n/** @public */\nexport const useId = () => {\n    const { val, set, iCtx } = useSequentialScope();\n    if (val != null) {\n        return val;\n    }\n    const containerBase = iCtx.$container$.$buildBase$ || '';\n    const base = containerBase ? hashCode(containerBase).substring(0, 3) : '';\n    const componentQrl = iCtx.$container$.getHostProp(iCtx.$hostElement$, OnRenderProp);\n    const hash = componentQrl?.getHash().substring(0, 3) || '';\n    const counter = getNextUniqueIndex(iCtx.$container$) || '';\n    let id = `${base}${hash}${counter}`;\n    let firstChar = id.charCodeAt(0);\n    // convert first char to letter if starts with a number, because CSS does not allow class names to start with a number\n    if (firstChar >= 48 /* 0 */ && firstChar <= 57 /* 9 */) {\n        // 48 is char code for '0', 65 is char code for 'A'\n        // 65 - 48 = 17, so we add 17 to the char code of the first char to convert it to a letter\n        firstChar += 17;\n        id = String.fromCharCode(firstChar) + id.substring(1);\n    }\n    return set(id);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWlkLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtaWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ3JELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUM1RCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3Q0FBd0MsQ0FBQztBQUU1RSxjQUFjO0FBQ2QsTUFBTSxDQUFDLE1BQU0sS0FBSyxHQUFHLEdBQVcsRUFBRTtJQUNoQyxNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxrQkFBa0IsRUFBVSxDQUFDO0lBQ3hELElBQUksR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ2hCLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQztJQUNELE1BQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxJQUFJLEVBQUUsQ0FBQztJQUN6RCxNQUFNLElBQUksR0FBRyxhQUFhLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDMUUsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQU0sSUFBSSxDQUFDLGFBQWEsRUFBRSxZQUFZLENBQUMsQ0FBQztJQUN6RixNQUFNLElBQUksR0FBRyxZQUFZLEVBQUUsT0FBTyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDM0QsTUFBTSxPQUFPLEdBQUcsa0JBQWtCLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUMzRCxJQUFJLEVBQUUsR0FBRyxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsT0FBTyxFQUFFLENBQUM7SUFFcEMsSUFBSSxTQUFTLEdBQUcsRUFBRSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNqQyxzSEFBc0g7SUFDdEgsSUFBSSxTQUFTLElBQUksRUFBRSxDQUFDLE9BQU8sSUFBSSxTQUFTLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3ZELG1EQUFtRDtRQUNuRCwwRkFBMEY7UUFDMUYsU0FBUyxJQUFJLEVBQUUsQ0FBQztRQUNoQixFQUFFLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFDRCxPQUFPLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNqQixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4uJztcbmltcG9ydCB7IGhhc2hDb2RlIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL2hhc2hfY29kZSc7XG5pbXBvcnQgeyBPblJlbmRlclByb3AgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvbWFya2Vycyc7XG5pbXBvcnQgeyB1c2VTZXF1ZW50aWFsU2NvcGUgfSBmcm9tICcuL3VzZS1zZXF1ZW50aWFsLXNjb3BlJztcbmltcG9ydCB7IGdldE5leHRVbmlxdWVJbmRleCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy91bmlxdWUtaW5kZXgtZ2VuZXJhdG9yJztcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBjb25zdCB1c2VJZCA9ICgpOiBzdHJpbmcgPT4ge1xuICBjb25zdCB7IHZhbCwgc2V0LCBpQ3R4IH0gPSB1c2VTZXF1ZW50aWFsU2NvcGU8c3RyaW5nPigpO1xuICBpZiAodmFsICE9IG51bGwpIHtcbiAgICByZXR1cm4gdmFsO1xuICB9XG4gIGNvbnN0IGNvbnRhaW5lckJhc2UgPSBpQ3R4LiRjb250YWluZXIkLiRidWlsZEJhc2UkIHx8ICcnO1xuICBjb25zdCBiYXNlID0gY29udGFpbmVyQmFzZSA/IGhhc2hDb2RlKGNvbnRhaW5lckJhc2UpLnN1YnN0cmluZygwLCAzKSA6ICcnO1xuICBjb25zdCBjb21wb25lbnRRcmwgPSBpQ3R4LiRjb250YWluZXIkLmdldEhvc3RQcm9wPFFSTD4oaUN0eC4kaG9zdEVsZW1lbnQkLCBPblJlbmRlclByb3ApO1xuICBjb25zdCBoYXNoID0gY29tcG9uZW50UXJsPy5nZXRIYXNoKCkuc3Vic3RyaW5nKDAsIDMpIHx8ICcnO1xuICBjb25zdCBjb3VudGVyID0gZ2V0TmV4dFVuaXF1ZUluZGV4KGlDdHguJGNvbnRhaW5lciQpIHx8ICcnO1xuICBsZXQgaWQgPSBgJHtiYXNlfSR7aGFzaH0ke2NvdW50ZXJ9YDtcblxuICBsZXQgZmlyc3RDaGFyID0gaWQuY2hhckNvZGVBdCgwKTtcbiAgLy8gY29udmVydCBmaXJzdCBjaGFyIHRvIGxldHRlciBpZiBzdGFydHMgd2l0aCBhIG51bWJlciwgYmVjYXVzZSBDU1MgZG9lcyBub3QgYWxsb3cgY2xhc3MgbmFtZXMgdG8gc3RhcnQgd2l0aCBhIG51bWJlclxuICBpZiAoZmlyc3RDaGFyID49IDQ4IC8qIDAgKi8gJiYgZmlyc3RDaGFyIDw9IDU3IC8qIDkgKi8pIHtcbiAgICAvLyA0OCBpcyBjaGFyIGNvZGUgZm9yICcwJywgNjUgaXMgY2hhciBjb2RlIGZvciAnQSdcbiAgICAvLyA2NSAtIDQ4ID0gMTcsIHNvIHdlIGFkZCAxNyB0byB0aGUgY2hhciBjb2RlIG9mIHRoZSBmaXJzdCBjaGFyIHRvIGNvbnZlcnQgaXQgdG8gYSBsZXR0ZXJcbiAgICBmaXJzdENoYXIgKz0gMTc7XG4gICAgaWQgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGZpcnN0Q2hhcikgKyBpZC5zdWJzdHJpbmcoMSk7XG4gIH1cbiAgcmV0dXJuIHNldChpZCk7XG59O1xuIl19","import { tryGetInvokeContext } from './use-core';\n/** @public */\nexport function useServerData(key, defaultValue) {\n    const ctx = tryGetInvokeContext();\n    return ctx?.$container$?.$serverData$[key] ?? defaultValue;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWVudi1kYXRhLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtZW52LWRhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBUWpELGNBQWM7QUFDZCxNQUFNLFVBQVUsYUFBYSxDQUFDLEdBQVcsRUFBRSxZQUFrQjtJQUMzRCxNQUFNLEdBQUcsR0FBRyxtQkFBbUIsRUFBRSxDQUFDO0lBQ2xDLE9BQU8sR0FBRyxFQUFFLFdBQVcsRUFBRSxZQUFZLENBQUMsR0FBRyxDQUFDLElBQUksWUFBWSxDQUFDO0FBQzdELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0cnlHZXRJbnZva2VDb250ZXh0IH0gZnJvbSAnLi91c2UtY29yZSc7XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgZnVuY3Rpb24gdXNlU2VydmVyRGF0YTxUPihrZXk6IHN0cmluZyk6IFQgfCB1bmRlZmluZWQ7XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgZnVuY3Rpb24gdXNlU2VydmVyRGF0YTxULCBCID0gVD4oa2V5OiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogQik6IFQgfCBCO1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVNlcnZlckRhdGEoa2V5OiBzdHJpbmcsIGRlZmF1bHRWYWx1ZT86IGFueSkge1xuICBjb25zdCBjdHggPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gIHJldHVybiBjdHg/LiRjb250YWluZXIkPy4kc2VydmVyRGF0YSRba2V5XSA/PyBkZWZhdWx0VmFsdWU7XG59XG4iXX0=","/* eslint-disable no-console */\nimport { ComponentStylesPrefixContent } from './markers';\nimport { qDev } from './qdev';\n// Make sure this is always set to `false` in production, but it is useful to set for `true` in development for debugging.\nconst DEBUG = false;\nexport const STYLE_CACHE = /*#__PURE__*/ new Map();\nexport const getScopedStyles = (css, scopeId) => {\n    if (qDev) {\n        return scopeStylesheet(css, scopeId);\n    }\n    let styleCss = STYLE_CACHE.get(scopeId);\n    if (!styleCss) {\n        STYLE_CACHE.set(scopeId, (styleCss = scopeStylesheet(css, scopeId)));\n    }\n    return styleCss;\n};\nexport const scopeStylesheet = (css, scopeId) => {\n    const end = css.length;\n    const out = [];\n    const stack = [];\n    let idx = 0;\n    let lastIdx = idx;\n    let mode = rule;\n    let lastCh = 0;\n    DEBUG && console.log('--------------------------');\n    while (idx < end) {\n        DEBUG && console.log(css);\n        DEBUG && console.log(new Array(idx).fill(' ').join('') + '^');\n        DEBUG && console.log('MODE', ...stack.map(modeToString), modeToString(mode));\n        const chIdx = idx;\n        let ch = css.charCodeAt(idx++);\n        if (ch === BACKSLASH) {\n            idx++;\n            ch = A; // Pretend it's a letter\n        }\n        const arcs = STATE_MACHINE[mode];\n        for (let i = 0; i < arcs.length; i++) {\n            const arc = arcs[i];\n            const [expectLastCh, expectCh, newMode] = arc;\n            if (expectLastCh === lastCh ||\n                expectLastCh === ANY ||\n                (expectLastCh === IDENT && isIdent(lastCh)) ||\n                (expectLastCh === WHITESPACE && isWhiteSpace(lastCh))) {\n                if (expectCh === ch ||\n                    expectCh === ANY ||\n                    (expectCh === IDENT && isIdent(ch)) ||\n                    (expectCh === NOT_IDENT && !isIdent(ch) && ch !== DOT) ||\n                    (expectCh === WHITESPACE && isWhiteSpace(ch))) {\n                    if (arc.length == 3 || lookAhead(arc)) {\n                        if (arc.length > 3) {\n                            // If matched on lookAhead than we we have to update current `ch`\n                            ch = css.charCodeAt(idx - 1);\n                        }\n                        DEBUG &&\n                            console.log('MATCH', charToString(expectLastCh), charToString(expectCh), modeToString(newMode));\n                        // We found a match!\n                        if (newMode === EXIT || newMode == EXIT_INSERT_SCOPE) {\n                            if (newMode === EXIT_INSERT_SCOPE) {\n                                if (mode === starSelector && !shouldNotInsertScoping()) {\n                                    // Replace `*` with the scoping elementClassIdSelector.\n                                    if (isChainedSelector(ch)) {\n                                        // *foo\n                                        flush(idx - 2);\n                                    }\n                                    else {\n                                        // * (by itself)\n                                        insertScopingSelector(idx - 2);\n                                    }\n                                    lastIdx++;\n                                }\n                                else {\n                                    if (!isChainedSelector(ch)) {\n                                        // We are exiting one of the Selector so we may need to\n                                        const offset = expectCh == NOT_IDENT ? 1 : expectCh == CLOSE_PARENTHESIS ? 2 : 0;\n                                        insertScopingSelector(idx - offset);\n                                    }\n                                }\n                            }\n                            if (expectCh === NOT_IDENT) {\n                                // NOT_IDENT is not a real character more like lack of what we expected.\n                                // if pseudoGlobal we need to give it a chance to exit as well.\n                                // For this reason we need to reparse the last character again.\n                                idx--;\n                                ch = lastCh;\n                            }\n                            do {\n                                mode = stack.pop() || rule;\n                                if (mode === pseudoGlobal) {\n                                    // Skip over the `)` in `:global(...)`.\n                                    flush(idx - 1);\n                                    lastIdx++;\n                                }\n                            } while (isSelfClosingRule(mode));\n                        }\n                        else {\n                            stack.push(mode);\n                            if (mode === pseudoGlobal && newMode === rule) {\n                                flush(idx - 8); // `:global(`.length\n                                lastIdx = idx; // skip over \":global(\"\n                            }\n                            else if (newMode === pseudoElement) {\n                                // We are entering pseudoElement `::foo`; insert scoping in front of it.\n                                insertScopingSelector(chIdx);\n                            }\n                            mode = newMode;\n                            ch == SPACE; // Pretend not an identifier so that we don't flush again on elementClassIdSelector\n                        }\n                        break; // get out of the for loop as we found a match\n                    }\n                }\n            }\n        }\n        lastCh = ch;\n    }\n    flush(idx);\n    return out.join('');\n    function flush(idx) {\n        out.push(css.substring(lastIdx, idx));\n        DEBUG && console.log('FLUSH', out.join(''));\n        lastIdx = idx;\n    }\n    function insertScopingSelector(idx) {\n        if (mode === pseudoGlobal || shouldNotInsertScoping()) {\n            return;\n        }\n        flush(idx);\n        out.push('.', ComponentStylesPrefixContent, scopeId);\n        DEBUG && console.log('INSERT', out.join(''));\n    }\n    function lookAhead(arc) {\n        let prefix = 0; // Ignore vendor prefixes such as `-webkit-`.\n        if (css.charCodeAt(idx) === DASH) {\n            for (let i = 1; i < 10; i++) {\n                // give up after 10 characters\n                if (css.charCodeAt(idx + i) === DASH) {\n                    prefix = i + 1;\n                    break;\n                }\n            }\n        }\n        words: for (let arcIndx = 3; arcIndx < arc.length; arcIndx++) {\n            const txt = arc[arcIndx];\n            for (let i = 0; i < txt.length; i++) {\n                if ((css.charCodeAt(idx + i + prefix) | LOWERCASE) !== txt.charCodeAt(i)) {\n                    continue words;\n                }\n            }\n            // we found a match;\n            idx += txt.length + prefix;\n            return true;\n        }\n        return false;\n    }\n    function shouldNotInsertScoping() {\n        return stack.indexOf(pseudoGlobal) !== -1 || stack.indexOf(atRuleSelector) !== -1;\n    }\n};\nconst isIdent = (ch) => {\n    return ((ch >= _0 && ch <= _9) ||\n        (ch >= A && ch <= Z) ||\n        (ch >= a && ch <= z) ||\n        ch >= 0x80 ||\n        ch === UNDERSCORE ||\n        ch === DASH);\n};\nconst isChainedSelector = (ch) => {\n    return ch === COLON || ch === DOT || ch === OPEN_BRACKET || ch === HASH || isIdent(ch);\n};\nconst isSelfClosingRule = (mode) => {\n    return (mode === atRuleBlock || mode === atRuleSelector || mode === atRuleInert || mode === pseudoGlobal);\n};\nconst isWhiteSpace = (ch) => {\n    return ch === SPACE || ch === TAB || ch === NEWLINE || ch === CARRIAGE_RETURN;\n};\nconst modeToString = (mode) => {\n    return [\n        'rule',\n        'elementClassIdSelector',\n        'starSelector',\n        'pseudoClassWithSelector',\n        'pseudoClass',\n        'pseudoGlobal',\n        'pseudoElement',\n        'attrSelector',\n        'inertParenthesis',\n        'inertBlock',\n        'atRuleSelector',\n        'atRuleBlock',\n        'atInert',\n        'body',\n        'stringSingle',\n        'stringDouble',\n        'commentMultiline',\n        'EXIT',\n        'EXIT_INSERT_SCOPE',\n    ][mode];\n};\nconst charToString = (ch) => {\n    return ['ANY', 'IDENT', 'NOT_IDENT', 'WHITESPACE'][ch] || String.fromCharCode(ch);\n};\nconst rule = 0; // top level initial space.\nconst elementClassIdSelector = 1; // .elementClassIdSelector {}\nconst starSelector = 2; // * {}\nconst pseudoClassWithSelector = 3; // :pseudoClass(elementClassIdSelector) {}\nconst pseudoClass = 4; // :pseudoClass {}\nconst pseudoGlobal = 5; // :global(elementClassIdSelector)\nconst pseudoElement = 6; // ::pseudoElement {}\nconst attrSelector = 7; // [attr] {}\nconst inertParenthesis = 8; // (ignored)\nconst inertBlock = 9; // {ignored}\nconst atRuleSelector = 10; // @keyframe elementClassIdSelector {}\nconst atRuleBlock = 11; // @media {elementClassIdSelector {}}\nconst atRuleInert = 12; // @atRule something;\nconst body = 13; // .elementClassIdSelector {body}\nconst stringSingle = 14; // 'text'\nconst stringDouble = 15; // 'text'\nconst commentMultiline = 16; // /* ... */\n// NOT REAL MODES\nconst EXIT = 17; // Exit the mode\nconst EXIT_INSERT_SCOPE = 18; // Exit the mode INSERT SCOPE\nconst ANY = 0;\nconst IDENT = 1;\nconst NOT_IDENT = 2;\nconst WHITESPACE = 3;\nconst TAB = 9; // `\\t`.charCodeAt(0);\nconst NEWLINE = 10; // `\\n`.charCodeAt(0);\nconst CARRIAGE_RETURN = 13; // `\\r`.charCodeAt(0);\nconst SPACE = 32; // ` `.charCodeAt(0);\nconst DOUBLE_QUOTE = 34; // `\"`.charCodeAt(0);\nconst HASH = 35; // `#`.charCodeAt(0);\nconst SINGLE_QUOTE = 39; // `'`.charCodeAt(0);\nconst OPEN_PARENTHESIS = 40; // `(`.charCodeAt(0);\nconst CLOSE_PARENTHESIS = 41; // `)`.charCodeAt(0);\nconst STAR = 42; // `*`.charCodeAt(0);\n// const COMMA = 44; // `,`.charCodeAt(0);\nconst DASH = 45; // `-`.charCodeAt(0);\nconst DOT = 46; // `.`.charCodeAt(0);\nconst FORWARD_SLASH = 47; // `/`.charCodeAt(0);\nconst _0 = 48; // `0`.charCodeAt(0);\nconst _9 = 57; // `9`.charCodeAt(0);\nconst COLON = 58; // `:`.charCodeAt(0);\nconst SEMICOLON = 59; // `;`.charCodeAt(0);\n// const LESS_THAN = 60; // `<`.charCodeAt(0);\nconst AT = 64; // `@`.charCodeAt(0);\nconst A = 65; // `A`.charCodeAt(0);\nconst Z = 90; // `Z`.charCodeAt(0);\nconst OPEN_BRACKET = 91; // `[`.charCodeAt(0);\nconst CLOSE_BRACKET = 93; // `]`.charCodeAt(0);\nconst BACKSLASH = 92; // `\\\\`.charCodeAt(0);\nconst UNDERSCORE = 95; // `_`.charCodeAt(0);\nconst LOWERCASE = 0x20; // `a`.charCodeAt(0);\nconst a = 97; // `a`.charCodeAt(0);\n// const d = 100; // `d`.charCodeAt(0);\n// const g = 103; // 'g'.charCodeAt(0);\n// const h = 104; // `h`.charCodeAt(0);\n// const i = 105; // `i`.charCodeAt(0);\n// const l = 108; // `l`.charCodeAt(0);\n// const t = 116; // `t`.charCodeAt(0);\nconst z = 122; // `z`.charCodeAt(0);\nconst OPEN_BRACE = 123; // `{`.charCodeAt(0);\nconst CLOSE_BRACE = 125; // `}`.charCodeAt(0);\nconst STRINGS_COMMENTS = /*__PURE__*/ (() => [\n    [ANY, SINGLE_QUOTE, stringSingle],\n    [ANY, DOUBLE_QUOTE, stringDouble],\n    [ANY, FORWARD_SLASH, commentMultiline, '*'],\n])();\nconst STATE_MACHINE = /*__PURE__*/ (() => [\n    [\n        /// rule\n        [ANY, STAR, starSelector],\n        [ANY, OPEN_BRACKET, attrSelector],\n        [ANY, COLON, pseudoElement, ':', 'before', 'after', 'first-letter', 'first-line'],\n        [ANY, COLON, pseudoGlobal, 'global'],\n        [\n            ANY,\n            COLON,\n            pseudoClassWithSelector,\n            'has',\n            'host-context',\n            'not',\n            'where',\n            'is',\n            'matches',\n            'any',\n        ],\n        [ANY, COLON, pseudoClass],\n        [ANY, IDENT, elementClassIdSelector],\n        [ANY, DOT, elementClassIdSelector],\n        [ANY, HASH, elementClassIdSelector],\n        [ANY, AT, atRuleSelector, 'keyframe'],\n        [ANY, AT, atRuleBlock, 'media', 'supports', 'container'],\n        [ANY, AT, atRuleInert],\n        [ANY, OPEN_BRACE, body],\n        [FORWARD_SLASH, STAR, commentMultiline],\n        [ANY, SEMICOLON, EXIT],\n        [ANY, CLOSE_BRACE, EXIT],\n        [ANY, CLOSE_PARENTHESIS, EXIT],\n        ...STRINGS_COMMENTS,\n    ],\n    [\n        /// elementClassIdSelector\n        [ANY, NOT_IDENT, EXIT_INSERT_SCOPE],\n    ],\n    [\n        /// starSelector\n        [ANY, NOT_IDENT, EXIT_INSERT_SCOPE],\n    ],\n    [\n        /// pseudoClassWithSelector\n        [ANY, OPEN_PARENTHESIS, rule],\n        [ANY, NOT_IDENT, EXIT_INSERT_SCOPE],\n    ],\n    [\n        /// pseudoClass\n        [ANY, OPEN_PARENTHESIS, inertParenthesis],\n        [ANY, NOT_IDENT, EXIT_INSERT_SCOPE],\n    ],\n    [\n        /// pseudoGlobal\n        [ANY, OPEN_PARENTHESIS, rule],\n        [ANY, NOT_IDENT, EXIT],\n    ],\n    [\n        /// pseudoElement\n        [ANY, NOT_IDENT, EXIT],\n    ],\n    [\n        /// attrSelector\n        [ANY, CLOSE_BRACKET, EXIT_INSERT_SCOPE],\n        [ANY, SINGLE_QUOTE, stringSingle],\n        [ANY, DOUBLE_QUOTE, stringDouble],\n    ],\n    [\n        /// inertParenthesis\n        [ANY, CLOSE_PARENTHESIS, EXIT],\n        ...STRINGS_COMMENTS,\n    ],\n    [\n        /// inertBlock\n        [ANY, CLOSE_BRACE, EXIT],\n        ...STRINGS_COMMENTS,\n    ],\n    [\n        /// atRuleSelector\n        [ANY, CLOSE_BRACE, EXIT],\n        [WHITESPACE, IDENT, elementClassIdSelector],\n        [ANY, COLON, pseudoGlobal, 'global'],\n        [ANY, OPEN_BRACE, body],\n        ...STRINGS_COMMENTS,\n    ],\n    [\n        /// atRuleBlock\n        [ANY, OPEN_BRACE, rule],\n        [ANY, SEMICOLON, EXIT],\n        ...STRINGS_COMMENTS,\n    ],\n    [\n        /// atRuleInert\n        [ANY, SEMICOLON, EXIT],\n        [ANY, OPEN_BRACE, inertBlock],\n        ...STRINGS_COMMENTS,\n    ],\n    [\n        /// body\n        [ANY, CLOSE_BRACE, EXIT],\n        [ANY, OPEN_BRACE, body],\n        [ANY, OPEN_PARENTHESIS, inertParenthesis],\n        ...STRINGS_COMMENTS,\n    ],\n    [\n        /// stringSingle\n        [ANY, SINGLE_QUOTE, EXIT],\n    ],\n    [\n        /// stringDouble\n        [ANY, DOUBLE_QUOTE, EXIT],\n    ],\n    [\n        /// commentMultiline\n        [STAR, FORWARD_SLASH, EXIT],\n    ],\n])();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NvcGVkLXN0eWxlc2hlZXQuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL3V0aWxzL3Njb3BlZC1zdHlsZXNoZWV0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLCtCQUErQjtBQUMvQixPQUFPLEVBQUUsNEJBQTRCLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDekQsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUU5QiwwSEFBMEg7QUFDMUgsTUFBTSxLQUFLLEdBQVksS0FBSyxDQUFDO0FBRTdCLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxhQUFhLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztBQUVuRCxNQUFNLENBQUMsTUFBTSxlQUFlLEdBQUcsQ0FBQyxHQUFXLEVBQUUsT0FBZSxFQUFVLEVBQUU7SUFDdEUsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUNULE9BQU8sZUFBZSxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBQ0QsSUFBSSxRQUFRLEdBQUcsV0FBVyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN4QyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDZCxXQUFXLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDLFFBQVEsR0FBRyxlQUFlLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2RSxDQUFDO0lBQ0QsT0FBTyxRQUFRLENBQUM7QUFDbEIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLENBQUMsR0FBVyxFQUFFLE9BQWUsRUFBVSxFQUFFO0lBQ3RFLE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7SUFDdkIsTUFBTSxHQUFHLEdBQWEsRUFBRSxDQUFDO0lBQ3pCLE1BQU0sS0FBSyxHQUFhLEVBQUUsQ0FBQztJQUMzQixJQUFJ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QUFHLEVBQUUsU0FBUyxFQUFFLElBQUksQ0FBQztRQUN0QixDQUFDLEdBQUcsRUFBRSxVQUFVLEVBQUUsVUFBVSxDQUFDO1FBQzdCLEdBQUcsZ0JBQWdCO0tBQ3BCO0lBQ0Q7UUFDRSxRQUFRO1FBQ1IsQ0FBQyxHQUFHLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQztRQUN4QixDQUFDLEdBQUcsRUFBRSxVQUFVLEVBQUUsSUFBSSxDQUFDO1FBQ3ZCLENBQUMsR0FBRyxFQUFFLGdCQUFnQixFQUFFLGdCQUFnQixDQUFDO1FBQ3pDLEdBQUcsZ0JBQWdCO0tBQ3BCO0lBQ0Q7UUFDRSxnQkFBZ0I7UUFDaEIsQ0FBQyxHQUFHLEVBQUUsWUFBWSxFQUFFLElBQUksQ0FBQztLQUMxQjtJQUNEO1FBQ0UsZ0JBQWdCO1FBQ2hCLENBQUMsR0FBRyxFQUFFLFlBQVksRUFBRSxJQUFJLENBQUM7S0FDMUI7SUFDRDtRQUNFLG9CQUFvQjtRQUNwQixDQUFDLElBQUksRUFBRSxhQUFhLEVBQUUsSUFBSSxDQUFDO0tBQzVCO0NBQ0YsQ0FBQyxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG5pbXBvcnQgeyBDb21wb25lbnRTdHlsZXNQcmVmaXhDb250ZW50IH0gZnJvbSAnLi9tYXJrZXJzJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuL3FkZXYnO1xuXG4vLyBNYWtlIHN1cmUgdGhpcyBpcyBhbHdheXMgc2V0IHRvIGBmYWxzZWAgaW4gcHJvZHVjdGlvbiwgYnV0IGl0IGlzIHVzZWZ1bCB0byBzZXQgZm9yIGB0cnVlYCBpbiBkZXZlbG9wbWVudCBmb3IgZGVidWdnaW5nLlxuY29uc3QgREVCVUc6IGJvb2xlYW4gPSBmYWxzZTtcblxuZXhwb3J0IGNvbnN0IFNUWUxFX0NBQ0hFID0gLyojX19QVVJFX18qLyBuZXcgTWFwKCk7XG5cbmV4cG9ydCBjb25zdCBnZXRTY29wZWRTdHlsZXMgPSAoY3NzOiBzdHJpbmcsIHNjb3BlSWQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGlmIChxRGV2KSB7XG4gICAgcmV0dXJuIHNjb3BlU3R5bGVzaGVldChjc3MsIHNjb3BlSWQpO1xuICB9XG4gIGxldCBzdHlsZUNzcyA9IFNUWUxFX0NBQ0hFLmdldChzY29wZUlkKTtcbiAgaWYgKCFzdHlsZUNzcykge1xuICAgIFNUWUxFX0NBQ0hFLnNldChzY29wZUlkLCAoc3R5bGVDc3MgPSBzY29wZVN0eWxlc2hlZXQoY3NzLCBzY29wZUlkKSkpO1xuICB9XG4gIHJldHVybiBzdHlsZUNzcztcbn07XG5cbmV4cG9ydCBjb25zdCBzY29wZVN0eWxlc2hlZXQgPSAoY3NzOiBzdHJpbmcsIHNjb3BlSWQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IGVuZCA9IGNzcy5sZW5ndGg7XG4gIGNvbnN0IG91dDogc3RyaW5nW10gPSBbXTtcbiAgY29uc3Qgc3RhY2s6IG51bWJlcltdID0gW107XG4gIGxldCBpZHggPSAwO1xuICBsZXQgbGFzdElkeCA9IGlkeDtcbiAgbGV0IG1vZGU6IG51bWJlciA9IHJ1bGU7XG4gIGxldCBsYXN0Q2ggPSAwO1xuICBERUJVRyAmJiBjb25zb2xlLmxvZygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKTtcbiAgd2hpbGUgKGlkeCA8IGVuZCkge1xuICAgIERFQlVHICYmIGNvbnNvbGUubG9nKGNzcyk7XG4gICAgREVCVUcgJiYgY29uc29sZS5sb2cobmV3IEFycmF5KGlkeCkuZmlsbCgnICcpLmpvaW4oJycpICsgJ14nKTtcbiAgICBERUJVRyAmJiBjb25zb2xlLmxvZygnTU9ERScsIC4uLnN0YWNrLm1hcChtb2RlVG9TdHJpbmcpLCBtb2RlVG9TdHJpbmcobW9kZSkpO1xuICAgIGNvbnN0IGNoSWR4ID0gaWR4O1xuICAgIGxldCBjaCA9IGNzcy5jaGFyQ29kZUF0KGlkeCsrKTtcbiAgICBpZiAoY2ggPT09IEJBQ0tTTEFTSCkge1xuICAgICAgaWR4Kys7XG4gICAgICBjaCA9IEE7IC8vIFByZXRlbmQgaXQncyBhIGxldHRlclxuICAgIH1cbiAgICBjb25zdCBhcmNzID0gU1RBVEVfTUFDSElORVttb2RlXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyY3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGFyYyA9IGFyY3NbaV07XG4gICAgICBjb25zdCBbZXhwZWN0TGFzdENoLCBleHBlY3RDaCwgbmV3TW9kZV0gPSBhcmM7XG4gICAgICBpZiAoXG4gICAgICAgIGV4cGVjdExhc3RDaCA9PT0gbGFzdENoIHx8XG4gICAgICAgIGV4cGVjdExhc3RDaCA9PT0gQU5ZIHx8XG4gICAgICAgIChleHBlY3RMYXN0Q2ggPT09IElERU5UICYmIGlzSWRlbnQobGFzdENoKSkgfHxcbiAgICAgICAgKGV4cGVjdExhc3RDaCA9PT0gV0hJVEVTUEFDRSAmJiBpc1doaXRlU3BhY2UobGFzdENoKSlcbiAgICAgICkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZXhwZWN0Q2ggPT09IGNoIHx8XG4gICAgICAgICAgZXhwZWN0Q2ggPT09IEFOWSB8fFxuICAgICAgICAgIChleHBlY3RDaCA9PT0gSURFTlQgJiYgaXNJZGVudChjaCkpIHx8XG4gICAgICAgICAgKGV4cGVjdENoID09PSBOT1RfSURFTlQgJiYgIWlzSWRlbnQoY2gpICYmIGNoICE9PSBET1QpIHx8XG4gICAgICAgICAgKGV4cGVjdENoID09PSBXSElURVNQQUNFICYmIGlzV2hpdGVTcGFjZShjaCkpXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChhcmMubGVuZ3RoID09IDMgfHwgbG9va0FoZWFkKGFyYykpIHtcbiAgICAgICAgICAgIGlmIChhcmMubGVuZ3RoID4gMykge1xuICAgICAgICAgICAgICAvLyBJZiBtYXRjaGVkIG9uIGxvb2tBaGVhZCB0aGFuIHdlIHdlIGhhdmUgdG8gdXBkYXRlIGN1cnJlbnQgYGNoYFxuICAgICAgICAgICAgICBjaCA9IGNzcy5jaGFyQ29kZUF0KGlkeCAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgREVCVUcgJiZcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgJ01BVENIJyxcbiAgICAgICAgICAgICAgICBjaGFyVG9TdHJpbmcoZXhwZWN0TGFzdENoKSxcbiAgICAgICAgICAgICAgICBjaGFyVG9TdHJpbmcoZXhwZWN0Q2gpLFxuICAgICAgICAgICAgICAgIG1vZGVUb1N0cmluZyhuZXdNb2RlKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgLy8gV2UgZm91bmQgYSBtYXRjaCFcbiAgICAgICAgICAgIGlmIChuZXdNb2RlID09PSBFWElUIHx8IG5ld01vZGUgPT0gRVhJVF9JTlNFUlRfU0NPUEUpIHtcbiAgICAgICAgICAgICAgaWYgKG5ld01vZGUgPT09IEVYSVRfSU5TRVJUX1NDT1BFKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09IHN0YXJTZWxlY3RvciAmJiAhc2hvdWxkTm90SW5zZXJ0U2NvcGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIGAqYCB3aXRoIHRoZSBzY29waW5nIGVsZW1lbnRDbGFzc0lkU2VsZWN0b3IuXG4gICAgICAgICAgICAgICAgICBpZiAoaXNDaGFpbmVkU2VsZWN0b3IoY2gpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICpmb29cbiAgICAgICAgICAgICAgICAgICAgZmx1c2goaWR4IC0gMik7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyAqIChieSBpdHNlbGYpXG4gICAgICAgICAgICAgICAgICAgIGluc2VydFNjb3BpbmdTZWxlY3RvcihpZHggLSAyKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGxhc3RJZHgrKztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgaWYgKCFpc0NoYWluZWRTZWxlY3RvcihjaCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgYXJlIGV4aXRpbmcgb25lIG9mIHRoZSBTZWxlY3RvciBzbyB3ZSBtYXkgbmVlZCB0b1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPVxuICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdENoID09IE5PVF9JREVOVCA/IDEgOiBleHBlY3RDaCA9PSBDTE9TRV9QQVJFTlRIRVNJUyA/IDIgOiAwO1xuICAgICAgICAgICAgICAgICAgICBpbnNlcnRTY29waW5nU2VsZWN0b3IoaWR4IC0gb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGV4cGVjdENoID09PSBOT1RfSURFTlQpIHtcbiAgICAgICAgICAgICAgICAvLyBOT1RfSURFTlQgaXMgbm90IGEgcmVhbCBjaGFyYWN0ZXIgbW9yZSBsaWtlIGxhY2sgb2Ygd2hhdCB3ZSBleHBlY3RlZC5cbiAgICAgICAgICAgICAgICAvLyBpZiBwc2V1ZG9HbG9iYWwgd2UgbmVlZCB0byBnaXZlIGl0IGEgY2hhbmNlIHRvIGV4aXQgYXMgd2VsbC5cbiAgICAgICAgICAgICAgICAvLyBGb3IgdGhpcyByZWFzb24gd2UgbmVlZCB0byByZXBhcnNlIHRoZSBsYXN0IGNoYXJhY3RlciBhZ2Fpbi5cbiAgICAgICAgICAgICAgICBpZHgtLTtcbiAgICAgICAgICAgICAgICBjaCA9IGxhc3RDaDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgbW9kZSA9IHN0YWNrLnBvcCgpIHx8IHJ1bGU7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09IHBzZXVkb0dsb2JhbCkge1xuICAgICAgICAgICAgICAgICAgLy8gU2tpcCBvdmVyIHRoZSBgKWAgaW4gYDpnbG9iYWwoLi4uKWAuXG4gICAgICAgICAgICAgICAgICBmbHVzaChpZHggLSAxKTtcbiAgICAgICAgICAgICAgICAgIGxhc3RJZHgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gd2hpbGUgKGlzU2VsZkNsb3NpbmdSdWxlKG1vZGUpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0YWNrLnB1c2gobW9kZSk7XG4gICAgICAgICAgICAgIGlmIChtb2RlID09PSBwc2V1ZG9HbG9iYWwgJiYgbmV3TW9kZSA9PT0gcnVsZSkge1xuICAgICAgICAgICAgICAgIGZsdXNoKGlkeCAtIDgpOyAvLyBgOmdsb2JhbChgLmxlbmd0aFxuICAgICAgICAgICAgICAgIGxhc3RJZHggPSBpZHg7IC8vIHNraXAgb3ZlciBcIjpnbG9iYWwoXCJcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXdNb2RlID09PSBwc2V1ZG9FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgYXJlIGVudGVyaW5nIHBzZXVkb0VsZW1lbnQgYDo6Zm9vYDsgaW5zZXJ0IHNjb3BpbmcgaW4gZnJvbnQgb2YgaXQuXG4gICAgICAgICAgICAgICAgaW5zZXJ0U2NvcGluZ1NlbGVjdG9yKGNoSWR4KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBtb2RlID0gbmV3TW9kZTtcbiAgICAgICAgICAgICAgY2ggPT0gU1BBQ0U7IC8vIFByZXRlbmQgbm90IGFuIGlkZW50aWZpZXIgc28gdGhhdCB3ZSBkb24ndCBmbHVzaCBhZ2FpbiBvbiBlbGVtZW50Q2xhc3NJZFNlbGVjdG9yXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhazsgLy8gZ2V0IG91dCBvZiB0aGUgZm9yIGxvb3AgYXMgd2UgZm91bmQgYSBtYXRjaFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsYXN0Q2ggPSBjaDtcbiAgfVxuICBmbHVzaChpZHgpO1xuICByZXR1cm4gb3V0LmpvaW4oJycpO1xuXG4gIGZ1bmN0aW9uIGZsdXNoKGlkeDogbnVtYmVyKSB7XG4gICAgb3V0LnB1c2goY3NzLnN1YnN0cmluZyhsYXN0SWR4LCBpZHgpKTtcbiAgICBERUJVRyAmJiBjb25zb2xlLmxvZygnRkxVU0gnLCBvdXQuam9pbignJykpO1xuICAgIGxhc3RJZHggPSBpZHg7XG4gIH1cbiAgZnVuY3Rpb24gaW5zZXJ0U2NvcGluZ1NlbGVjdG9yKGlkeDogbnVtYmVyKSB7XG4gICAgaWYgKG1vZGUgPT09IHBzZXVkb0dsb2JhbCB8fCBzaG91bGROb3RJbnNlcnRTY29waW5nKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmbHVzaChpZHgpO1xuICAgIG91dC5wdXNoKCcuJywgQ29tcG9uZW50U3R5bGVzUHJlZml4Q29udGVudCwgc2NvcGVJZCk7XG4gICAgREVCVUcgJiYgY29uc29sZS5sb2coJ0lOU0VSVCcsIG91dC5qb2luKCcnKSk7XG4gIH1cbiAgZnVuY3Rpb24gbG9va0FoZWFkKGFyYzogU3RhdGVBcmMpOiBib29sZWFuIHtcbiAgICBsZXQgcHJlZml4ID0gMDsgLy8gSWdub3JlIHZlbmRvciBwcmVmaXhlcyBzdWNoIGFzIGAtd2Via2l0LWAuXG4gICAgaWYgKGNzcy5jaGFyQ29kZUF0KGlkeCkgPT09IERBU0gpIHtcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgMTA7IGkrKykge1xuICAgICAgICAvLyBnaXZlIHVwIGFmdGVyIDEwIGNoYXJhY3RlcnNcbiAgICAgICAgaWYgKGNzcy5jaGFyQ29kZUF0KGlkeCArIGkpID09PSBEQVNIKSB7XG4gICAgICAgICAgcHJlZml4ID0gaSArIDE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgd29yZHM6IGZvciAobGV0IGFyY0luZHggPSAzOyBhcmNJbmR4IDwgYXJjLmxlbmd0aDsgYXJjSW5keCsrKSB7XG4gICAgICBjb25zdCB0eHQgPSBhcmNbYXJjSW5keF0gYXMgc3RyaW5nO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKChjc3MuY2hhckNvZGVBdChpZHggKyBpICsgcHJlZml4KSB8IExPV0VSQ0FTRSkgIT09IHR4dC5jaGFyQ29kZUF0KGkpKSB7XG4gICAgICAgICAgY29udGludWUgd29yZHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIHdlIGZvdW5kIGEgbWF0Y2g7XG4gICAgICBpZHggKz0gdHh0Lmxlbmd0aCArIHByZWZpeDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBzaG91bGROb3RJbnNlcnRTY29waW5nKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBzdGFjay5pbmRleE9mKHBzZXVkb0dsb2JhbCkgIT09IC0xIHx8IHN0YWNrLmluZGV4T2YoYXRSdWxlU2VsZWN0b3IpICE9PSAtMTtcbiAgfVxufTtcblxuY29uc3QgaXNJZGVudCA9IChjaDogbnVtYmVyKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiAoXG4gICAgKGNoID49IF8wICYmIGNoIDw9IF85KSB8fFxuICAgIChjaCA+PSBBICYmIGNoIDw9IFopIHx8XG4gICAgKGNoID49IGEgJiYgY2ggPD0geikgfHxcbiAgICBjaCA+PSAweDgwIHx8XG4gICAgY2ggPT09IFVOREVSU0NPUkUgfHxcbiAgICBjaCA9PT0gREFTSFxuICApO1xufTtcblxuY29uc3QgaXNDaGFpbmVkU2VsZWN0b3IgPSAoY2g6IG51bWJlcik6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gY2ggPT09IENPTE9OIHx8IGNoID09PSBET1QgfHwgY2ggPT09IE9QRU5fQlJBQ0tFVCB8fCBjaCA9PT0gSEFTSCB8fCBpc0lkZW50KGNoKTtcbn07XG5cbmNvbnN0IGlzU2VsZkNsb3NpbmdSdWxlID0gKG1vZGU6IG51bWJlcik6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gKFxuICAgIG1vZGUgPT09IGF0UnVsZUJsb2NrIHx8IG1vZGUgPT09IGF0UnVsZVNlbGVjdG9yIHx8IG1vZGUgPT09IGF0UnVsZUluZXJ0IHx8IG1vZGUgPT09IHBzZXVkb0dsb2JhbFxuICApO1xufTtcblxuY29uc3QgaXNXaGl0ZVNwYWNlID0gKGNoOiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIGNoID09PSBTUEFDRSB8fCBjaCA9PT0gVEFCIHx8IGNoID09PSBORVdMSU5FIHx8IGNoID09PSBDQVJSSUFHRV9SRVRVUk47XG59O1xuXG5jb25zdCBtb2RlVG9TdHJpbmcgPSAobW9kZTogbnVtYmVyKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIFtcbiAgICAncnVsZScsXG4gICAgJ2VsZW1lbnRDbGFzc0lkU2VsZWN0b3InLFxuICAgICdzdGFyU2VsZWN0b3InLFxuICAgICdwc2V1ZG9DbGFzc1dpdGhTZWxlY3RvcicsXG4gICAgJ3BzZXVkb0NsYXNzJyxcbiAgICAncHNldWRvR2xvYmFsJyxcbiAgICAncHNldWRvRWxlbWVudCcsXG4gICAgJ2F0dHJTZWxlY3RvcicsXG4gICAgJ2luZXJ0UGFyZW50aGVzaXMnLFxuICAgICdpbmVydEJsb2NrJyxcbiAgICAnYXRSdWxlU2VsZWN0b3InLFxuICAgICdhdFJ1bGVCbG9jaycsXG4gICAgJ2F0SW5lcnQnLFxuICAgICdib2R5JyxcbiAgICAnc3RyaW5nU2luZ2xlJyxcbiAgICAnc3RyaW5nRG91YmxlJyxcbiAgICAnY29tbWVudE11bHRpbGluZScsXG4gICAgJ0VYSVQnLFxuICAgICdFWElUX0lOU0VSVF9TQ09QRScsXG4gIF1bbW9kZV07XG59O1xuXG5jb25zdCBjaGFyVG9TdHJpbmcgPSAoY2g6IG51bWJlcik6IHN0cmluZyA9PiB7XG4gIHJldHVybiBbJ0FOWScsICdJREVOVCcsICdOT1RfSURFTlQnLCAnV0hJVEVTUEFDRSddW2NoXSB8fCBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoKTtcbn07XG5cbmNvbnN0IHJ1bGUgPSAwOyAvLyB0b3AgbGV2ZWwgaW5pdGlhbCBzcGFjZS5cbmNvbnN0IGVsZW1lbnRDbGFzc0lkU2VsZWN0b3IgPSAxOyAvLyAuZWxlbWVudENsYXNzSWRTZWxlY3RvciB7fVxuY29uc3Qgc3RhclNlbGVjdG9yID0gMjsgLy8gKiB7fVxuY29uc3QgcHNldWRvQ2xhc3NXaXRoU2VsZWN0b3IgPSAzOyAvLyA6cHNldWRvQ2xhc3MoZWxlbWVudENsYXNzSWRTZWxlY3Rvcikge31cbmNvbnN0IHBzZXVkb0NsYXNzID0gNDsgLy8gOnBzZXVkb0NsYXNzIHt9XG5jb25zdCBwc2V1ZG9HbG9iYWwgPSA1OyAvLyA6Z2xvYmFsKGVsZW1lbnRDbGFzc0lkU2VsZWN0b3IpXG5jb25zdCBwc2V1ZG9FbGVtZW50ID0gNjsgLy8gOjpwc2V1ZG9FbGVtZW50IHt9XG5jb25zdCBhdHRyU2VsZWN0b3IgPSA3OyAvLyBbYXR0cl0ge31cbmNvbnN0IGluZXJ0UGFyZW50aGVzaXMgPSA4OyAvLyAoaWdub3JlZClcbmNvbnN0IGluZXJ0QmxvY2sgPSA5OyAvLyB7aWdub3JlZH1cbmNvbnN0IGF0UnVsZVNlbGVjdG9yID0gMTA7IC8vIEBrZXlmcmFtZSBlbGVtZW50Q2xhc3NJZFNlbGVjdG9yIHt9XG5jb25zdCBhdFJ1bGVCbG9jayA9IDExOyAvLyBAbWVkaWEge2VsZW1lbnRDbGFzc0lkU2VsZWN0b3Ige319XG5jb25zdCBhdFJ1bGVJbmVydCA9IDEyOyAvLyBAYXRSdWxlIHNvbWV0aGluZztcbmNvbnN0IGJvZHkgPSAxMzsgLy8gLmVsZW1lbnRDbGFzc0lkU2VsZWN0b3Ige2JvZHl9XG5jb25zdCBzdHJpbmdTaW5nbGUgPSAxNDsgLy8gJ3RleHQnXG5jb25zdCBzdHJpbmdEb3VibGUgPSAxNTsgLy8gJ3RleHQnXG5jb25zdCBjb21tZW50TXVsdGlsaW5lID0gMTY7IC8vIC8qIC4uLiAqL1xuLy8gTk9UIFJFQUwgTU9ERVNcbmNvbnN0IEVYSVQgPSAxNzsgLy8gRXhpdCB0aGUgbW9kZVxuY29uc3QgRVhJVF9JTlNFUlRfU0NPUEUgPSAxODsgLy8gRXhpdCB0aGUgbW9kZSBJTlNFUlQgU0NPUEVcblxuY29uc3QgQU5ZID0gMDtcbmNvbnN0IElERU5UID0gMTtcbmNvbnN0IE5PVF9JREVOVCA9IDI7XG5jb25zdCBXSElURVNQQUNFID0gMztcbmNvbnN0IFRBQiA9IDk7IC8vIGBcXHRgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBORVdMSU5FID0gMTA7IC8vIGBcXG5gLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBDQVJSSUFHRV9SRVRVUk4gPSAxMzsgLy8gYFxccmAuY2hhckNvZGVBdCgwKTtcbmNvbnN0IFNQQUNFID0gMzI7IC8vIGAgYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgRE9VQkxFX1FVT1RFID0gMzQ7IC8vIGBcImAuY2hhckNvZGVBdCgwKTtcbmNvbnN0IEhBU0ggPSAzNTsgLy8gYCNgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBTSU5HTEVfUVVPVEUgPSAzOTsgLy8gYCdgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBPUEVOX1BBUkVOVEhFU0lTID0gNDA7IC8vIGAoYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgQ0xPU0VfUEFSRU5USEVTSVMgPSA0MTsgLy8gYClgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBTVEFSID0gNDI7IC8vIGAqYC5jaGFyQ29kZUF0KDApO1xuLy8gY29uc3QgQ09NTUEgPSA0NDsgLy8gYCxgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBEQVNIID0gNDU7IC8vIGAtYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgRE9UID0gNDY7IC8vIGAuYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgRk9SV0FSRF9TTEFTSCA9IDQ3OyAvLyBgL2AuY2hhckNvZGVBdCgwKTtcbmNvbnN0IF8wID0gNDg7IC8vIGAwYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgXzkgPSA1NzsgLy8gYDlgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBDT0xPTiA9IDU4OyAvLyBgOmAuY2hhckNvZGVBdCgwKTtcbmNvbnN0IFNFTUlDT0xPTiA9IDU5OyAvLyBgO2AuY2hhckNvZGVBdCgwKTtcbi8vIGNvbnN0IExFU1NfVEhBTiA9IDYwOyAvLyBgPGAuY2hhckNvZGVBdCgwKTtcbmNvbnN0IEFUID0gNjQ7IC8vIGBAYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgQSA9IDY1OyAvLyBgQWAuY2hhckNvZGVBdCgwKTtcbmNvbnN0IFogPSA5MDsgLy8gYFpgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBPUEVOX0JSQUNLRVQgPSA5MTsgLy8gYFtgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBDTE9TRV9CUkFDS0VUID0gOTM7IC8vIGBdYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgQkFDS1NMQVNIID0gOTI7IC8vIGBcXFxcYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgVU5ERVJTQ09SRSA9IDk1OyAvLyBgX2AuY2hhckNvZGVBdCgwKTtcbmNvbnN0IExPV0VSQ0FTRSA9IDB4MjA7IC8vIGBhYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgYSA9IDk3OyAvLyBgYWAuY2hhckNvZGVBdCgwKTtcbi8vIGNvbnN0IGQgPSAxMDA7IC8vIGBkYC5jaGFyQ29kZUF0KDApO1xuLy8gY29uc3QgZyA9IDEwMzsgLy8gJ2cnLmNoYXJDb2RlQXQoMCk7XG4vLyBjb25zdCBoID0gMTA0OyAvLyBgaGAuY2hhckNvZGVBdCgwKTtcbi8vIGNvbnN0IGkgPSAxMDU7IC8vIGBpYC5jaGFyQ29kZUF0KDApO1xuLy8gY29uc3QgbCA9IDEwODsgLy8gYGxgLmNoYXJDb2RlQXQoMCk7XG4vLyBjb25zdCB0ID0gMTE2OyAvLyBgdGAuY2hhckNvZGVBdCgwKTtcbmNvbnN0IHogPSAxMjI7IC8vIGB6YC5jaGFyQ29kZUF0KDApO1xuY29uc3QgT1BFTl9CUkFDRSA9IDEyMzsgLy8gYHtgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBDTE9TRV9CUkFDRSA9IDEyNTsgLy8gYH1gLmNoYXJDb2RlQXQoMCk7XG5cbnR5cGUgU3RhdGVBcmMgPSBbXG4gIC8vLyBJZiB0aGUgbGFzdCBjaGFyYWN0ZXIgaXMgdGhpczpcbiAgbnVtYmVyLFxuICAvLy8gSWYgdGhlIGN1cnJlbnQgY2hhcmFjdGVyIGlzIHRoaXM6XG4gIG51bWJlcixcbiAgLy8vIFRoZW4gdHJhbnNpdGlvbiB0byB0aGlzIHN0YXRlOlxuICBudW1iZXIsXG4gIC8vLyBPcHRpb25hbCBsb29rIGFoZWFkIHN0cmluZ3NcbiAgLi4uc3RyaW5nW10sXG5dO1xuXG5jb25zdCBTVFJJTkdTX0NPTU1FTlRTOiBTdGF0ZUFyY1tdID0gLypfX1BVUkVfXyovICgoKSA9PiBbXG4gIFtBTlksIFNJTkdMRV9RVU9URSwgc3RyaW5nU2luZ2xlXSxcbiAgW0FOWSwgRE9VQkxFX1FVT1RFLCBzdHJpbmdEb3VibGVdLFxuICBbQU5ZLCBGT1JXQVJEX1NMQVNILCBjb21tZW50TXVsdGlsaW5lLCAnKiddLFxuXSkoKTtcblxuY29uc3QgU1RBVEVfTUFDSElORTogU3RhdGVBcmNbXVtdID0gLypfX1BVUkVfXyovICgoKSA9PiBbXG4gIFtcbiAgICAvLy8gcnVsZVxuICAgIFtBTlksIFNUQVIsIHN0YXJTZWxlY3Rvcl0sXG4gICAgW0FOWSwgT1BFTl9CUkFDS0VULCBhdHRyU2VsZWN0b3JdLFxuICAgIFtBTlksIENPTE9OLCBwc2V1ZG9FbGVtZW50LCAnOicsICdiZWZvcmUnLCAnYWZ0ZXInLCAnZmlyc3QtbGV0dGVyJywgJ2ZpcnN0LWxpbmUnXSxcbiAgICBbQU5ZLCBDT0xPTiwgcHNldWRvR2xvYmFsLCAnZ2xvYmFsJ10sXG4gICAgW1xuICAgICAgQU5ZLFxuICAgICAgQ09MT04sXG4gICAgICBwc2V1ZG9DbGFzc1dpdGhTZWxlY3RvcixcbiAgICAgICdoYXMnLFxuICAgICAgJ2hvc3QtY29udGV4dCcsXG4gICAgICAnbm90JyxcbiAgICAgICd3aGVyZScsXG4gICAgICAnaXMnLFxuICAgICAgJ21hdGNoZXMnLFxuICAgICAgJ2FueScsXG4gICAgXSxcbiAgICBbQU5ZLCBDT0xPTiwgcHNldWRvQ2xhc3NdLFxuICAgIFtBTlksIElERU5ULCBlbGVtZW50Q2xhc3NJZFNlbGVjdG9yXSxcbiAgICBbQU5ZLCBET1QsIGVsZW1lbnRDbGFzc0lkU2VsZWN0b3JdLFxuICAgIFtBTlksIEhBU0gsIGVsZW1lbnRDbGFzc0lkU2VsZWN0b3JdLFxuICAgIFtBTlksIEFULCBhdFJ1bGVTZWxlY3RvciwgJ2tleWZyYW1lJ10sXG4gICAgW0FOWSwgQVQsIGF0UnVsZUJsb2NrLCAnbWVkaWEnLCAnc3VwcG9ydHMnLCAnY29udGFpbmVyJ10sXG4gICAgW0FOWSwgQVQsIGF0UnVsZUluZXJ0XSxcbiAgICBbQU5ZLCBPUEVOX0JSQUNFLCBib2R5XSxcbiAgICBbRk9SV0FSRF9TTEFTSCwgU1RBUiwgY29tbWVudE11bHRpbGluZV0sXG4gICAgW0FOWSwgU0VNSUNPTE9OLCBFWElUXSxcbiAgICBbQU5ZLCBDTE9TRV9CUkFDRSwgRVhJVF0sXG4gICAgW0FOWSwgQ0xPU0VfUEFSRU5USEVTSVMsIEVYSVRdLFxuICAgIC4uLlNUUklOR1NfQ09NTUVOVFMsXG4gIF0sXG4gIFtcbiAgICAvLy8gZWxlbWVudENsYXNzSWRTZWxlY3RvclxuICAgIFtBTlksIE5PVF9JREVOVCwgRVhJVF9JTlNFUlRfU0NPUEVdLFxuICBdLFxuICBbXG4gICAgLy8vIHN0YXJTZWxlY3RvclxuICAgIFtBTlksIE5PVF9JREVOVCwgRVhJVF9JTlNFUlRfU0NPUEVdLFxuICBdLFxuICBbXG4gICAgLy8vIHBzZXVkb0NsYXNzV2l0aFNlbGVjdG9yXG4gICAgW0FOWSwgT1BFTl9QQVJFTlRIRVNJUywgcnVsZV0sXG4gICAgW0FOWSwgTk9UX0lERU5ULCBFWElUX0lOU0VSVF9TQ09QRV0sXG4gIF0sXG4gIFtcbiAgICAvLy8gcHNldWRvQ2xhc3NcbiAgICBbQU5ZLCBPUEVOX1BBUkVOVEhFU0lTLCBpbmVydFBhcmVudGhlc2lzXSxcbiAgICBbQU5ZLCBOT1RfSURFTlQsIEVYSVRfSU5TRVJUX1NDT1BFXSxcbiAgXSxcbiAgW1xuICAgIC8vLyBwc2V1ZG9HbG9iYWxcbiAgICBbQU5ZLCBPUEVOX1BBUkVOVEhFU0lTLCBydWxlXSxcbiAgICBbQU5ZLCBOT1RfSURFTlQsIEVYSVRdLFxuICBdLFxuICBbXG4gICAgLy8vIHBzZXVkb0VsZW1lbnRcbiAgICBbQU5ZLCBOT1RfSURFTlQsIEVYSVRdLFxuICBdLFxuICBbXG4gICAgLy8vIGF0dHJTZWxlY3RvclxuICAgIFtBTlksIENMT1NFX0JSQUNLRVQsIEVYSVRfSU5TRVJUX1NDT1BFXSxcbiAgICBbQU5ZLCBTSU5HTEVfUVVPVEUsIHN0cmluZ1NpbmdsZV0sXG4gICAgW0FOWSwgRE9VQkxFX1FVT1RFLCBzdHJpbmdEb3VibGVdLFxuICBdLFxuICBbXG4gICAgLy8vIGluZXJ0UGFyZW50aGVzaXNcbiAgICBbQU5ZLCBDTE9TRV9QQVJFTlRIRVNJUywgRVhJVF0sXG4gICAgLi4uU1RSSU5HU19DT01NRU5UUyxcbiAgXSxcbiAgW1xuICAgIC8vLyBpbmVydEJsb2NrXG4gICAgW0FOWSwgQ0xPU0VfQlJBQ0UsIEVYSVRdLFxuICAgIC4uLlNUUklOR1NfQ09NTUVOVFMsXG4gIF0sXG4gIFtcbiAgICAvLy8gYXRSdWxlU2VsZWN0b3JcbiAgICBbQU5ZLCBDTE9TRV9CUkFDRSwgRVhJVF0sXG4gICAgW1dISVRFU1BBQ0UsIElERU5ULCBlbGVtZW50Q2xhc3NJZFNlbGVjdG9yXSxcbiAgICBbQU5ZLCBDT0xPTiwgcHNldWRvR2xvYmFsLCAnZ2xvYmFsJ10sXG4gICAgW0FOWSwgT1BFTl9CUkFDRSwgYm9keV0sXG4gICAgLi4uU1RSSU5HU19DT01NRU5UUyxcbiAgXSxcbiAgW1xuICAgIC8vLyBhdFJ1bGVCbG9ja1xuICAgIFtBTlksIE9QRU5fQlJBQ0UsIHJ1bGVdLFxuICAgIFtBTlksIFNFTUlDT0xPTiwgRVhJVF0sXG4gICAgLi4uU1RSSU5HU19DT01NRU5UUyxcbiAgXSxcbiAgW1xuICAgIC8vLyBhdFJ1bGVJbmVydFxuICAgIFtBTlksIFNFTUlDT0xPTiwgRVhJVF0sXG4gICAgW0FOWSwgT1BFTl9CUkFDRSwgaW5lcnRCbG9ja10sXG4gICAgLi4uU1RSSU5HU19DT01NRU5UUyxcbiAgXSxcbiAgW1xuICAgIC8vLyBib2R5XG4gICAgW0FOWSwgQ0xPU0VfQlJBQ0UsIEVYSVRdLFxuICAgIFtBTlksIE9QRU5fQlJBQ0UsIGJvZHldLFxuICAgIFtBTlksIE9QRU5fUEFSRU5USEVTSVMsIGluZXJ0UGFyZW50aGVzaXNdLFxuICAgIC4uLlNUUklOR1NfQ09NTUVOVFMsXG4gIF0sXG4gIFtcbiAgICAvLy8gc3RyaW5nU2luZ2xlXG4gICAgW0FOWSwgU0lOR0xFX1FVT1RFLCBFWElUXSxcbiAgXSxcbiAgW1xuICAgIC8vLyBzdHJpbmdEb3VibGVcbiAgICBbQU5ZLCBET1VCTEVfUVVPVEUsIEVYSVRdLFxuICBdLFxuICBbXG4gICAgLy8vIGNvbW1lbnRNdWx0aWxpbmVcbiAgICBbU1RBUiwgRk9SV0FSRF9TTEFTSCwgRVhJVF0sXG4gIF0sXG5dKSgpO1xuIl19","import { implicit$FirstArg } from '../shared/qrl/implicit_dollar';\nimport { getScopedStyles } from '../shared/utils/scoped-stylesheet';\nimport { useSequentialScope } from './use-sequential-scope';\nimport { assertQrl } from '../shared/qrl/qrl-utils';\nimport { ComponentStylesPrefixContent } from '../shared/utils/markers';\nimport { styleKey } from '../shared/utils/styles';\n/** @internal */\nexport const useStylesQrl = (styles) => {\n    return {\n        styleId: _useStyles(styles, (str) => str, false),\n    };\n};\n// <docs markdown=\"../readme.md#useStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStyles instead and run `pnpm docs.sync`)\n/**\n * A lazy-loadable reference to a component's styles.\n *\n * Component styles allow Qwik to lazy load the style information for the component only when\n * needed. (And avoid double loading it in case of SSR hydration.)\n *\n * ```tsx\n * import styles from './code-block.css?inline';\n *\n * export const CmpStyles = component$(() => {\n *   useStyles$(styles);\n *\n *   return <div>Some text</div>;\n * });\n * ```\n *\n * @public\n * @see `useStylesScoped`\n */\n// </docs>\nexport const useStyles$ = /*#__PURE__*/ implicit$FirstArg(useStylesQrl);\n/** @internal */\nexport const useStylesScopedQrl = (styles) => {\n    return {\n        scopeId: ComponentStylesPrefixContent + _useStyles(styles, getScopedStyles, true),\n    };\n};\n// <docs markdown=\"../readme.md#useStylesScoped\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStylesScoped instead and run `pnpm docs.sync`)\n/**\n * A lazy-loadable reference to a component's styles, that is scoped to the component.\n *\n * Component styles allow Qwik to lazy load the style information for the component only when\n * needed. (And avoid double loading it in case of SSR hydration.)\n *\n * ```tsx\n * import scoped from './code-block.css?inline';\n *\n * export const CmpScopedStyles = component$(() => {\n *   useStylesScoped$(scoped);\n *\n *   return <div>Some text</div>;\n * });\n * ```\n *\n * @public\n * @see `useStyles`\n */\n// </docs>\nexport const useStylesScoped$ = /*#__PURE__*/ implicit$FirstArg(useStylesScopedQrl);\nconst _useStyles = (styleQrl, transform, scoped) => {\n    assertQrl(styleQrl);\n    const { val, set, iCtx, i } = useSequentialScope();\n    if (val) {\n        return val;\n    }\n    const styleId = styleKey(styleQrl, i);\n    const host = iCtx.$hostElement$;\n    set(styleId);\n    if (styleQrl.resolved) {\n        iCtx.$container$.$appendStyle$(transform(styleQrl.resolved, styleId), styleId, host, scoped);\n    }\n    else {\n        throw styleQrl\n            .resolve()\n            .then((val) => iCtx.$container$.$appendStyle$(transform(val, styleId), styleId, host, scoped));\n    }\n    return styleId;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXN0eWxlcy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLXN0eWxlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUNsRSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFDcEUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDNUQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ3BELE9BQU8sRUFBRSw0QkFBNEIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ3ZFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQVlsRCxnQkFBZ0I7QUFDaEIsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLENBQUMsTUFBbUIsRUFBYSxFQUFFO0lBQzdELE9BQU87UUFDTCxPQUFPLEVBQUUsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQztLQUNqRCxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsMkNBQTJDO0FBQzNDLHlDQUF5QztBQUN6QyxpRUFBaUU7QUFDakU7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWtCRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsYUFBYSxDQUFDLGlCQUFpQixDQUFDLFlBQVksQ0FBQyxDQUFDO0FBRXhFLGdCQUFnQjtBQUNoQixNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLE1BQW1CLEVBQW1CLEVBQUU7SUFDekUsT0FBTztRQUNMLE9BQU8sRUFBRSw0QkFBNEIsR0FBRyxVQUFVLENBQUMsTUFBTSxFQUFFLGVBQWUsRUFBRSxJQUFJLENBQUM7S0FDbEYsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGLGlEQUFpRDtBQUNqRCx5Q0FBeUM7QUFDekMsdUVBQXVFO0FBQ3ZFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FrQkc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsYUFBYSxDQUFDLGlCQUFpQixDQUFDLGtCQUFrQixDQUFDLENBQUM7QUFFcEYsTUFBTSxVQUFVLEdBQUcsQ0FDakIsUUFBcUIsRUFDckIsU0FBbUQsRUFDbkQsTUFBZSxFQUNQLEVBQUU7SUFDVixTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7SUFFcEIsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxHQUFHLGtCQUFrQixFQUFVLENBQUM7SUFDM0QsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUNSLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQztJQUNELE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdEMsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUNoQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFYixJQUFJLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUN0QixJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQy9GLENBQUM7U0FBTSxDQUFDO1FBQ04sTUFBTSxRQUFRO2FBQ1gsT0FBTyxFQUFFO2FBQ1QsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FDWixJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQy9FLENBQUM7SUFDTixDQUFDO0lBRUQsT0FBTyxPQUFPLENBQUM7QUFDakIsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBRUkwgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC5wdWJsaWMnO1xuaW1wb3J0IHsgaW1wbGljaXQkRmlyc3RBcmcgfSBmcm9tICcuLi9zaGFyZWQvcXJsL2ltcGxpY2l0X2RvbGxhcic7XG5pbXBvcnQgeyBnZXRTY29wZWRTdHlsZXMgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvc2NvcGVkLXN0eWxlc2hlZXQnO1xuaW1wb3J0IHsgdXNlU2VxdWVudGlhbFNjb3BlIH0gZnJvbSAnLi91c2Utc2VxdWVudGlhbC1zY29wZSc7XG5pbXBvcnQgeyBhc3NlcnRRcmwgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC11dGlscyc7XG5pbXBvcnQgeyBDb21wb25lbnRTdHlsZXNQcmVmaXhDb250ZW50IH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzL21hcmtlcnMnO1xuaW1wb3J0IHsgc3R5bGVLZXkgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvc3R5bGVzJztcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU3R5bGVzU2NvcGVkIHtcbiAgc2NvcGVJZDogc3RyaW5nO1xufVxuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VTdHlsZXMge1xuICBzdHlsZUlkOiBzdHJpbmc7XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB1c2VTdHlsZXNRcmwgPSAoc3R5bGVzOiBRUkw8c3RyaW5nPik6IFVzZVN0eWxlcyA9PiB7XG4gIHJldHVybiB7XG4gICAgc3R5bGVJZDogX3VzZVN0eWxlcyhzdHlsZXMsIChzdHIpID0+IHN0ciwgZmFsc2UpLFxuICB9O1xufTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlU3R5bGVzXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVN0eWxlcyBpbnN0ZWFkIGFuZCBydW4gYHBucG0gZG9jcy5zeW5jYClcbi8qKlxuICogQSBsYXp5LWxvYWRhYmxlIHJlZmVyZW5jZSB0byBhIGNvbXBvbmVudCdzIHN0eWxlcy5cbiAqXG4gKiBDb21wb25lbnQgc3R5bGVzIGFsbG93IFF3aWsgdG8gbGF6eSBsb2FkIHRoZSBzdHlsZSBpbmZvcm1hdGlvbiBmb3IgdGhlIGNvbXBvbmVudCBvbmx5IHdoZW5cbiAqIG5lZWRlZC4gKEFuZCBhdm9pZCBkb3VibGUgbG9hZGluZyBpdCBpbiBjYXNlIG9mIFNTUiBoeWRyYXRpb24uKVxuICpcbiAqIGBgYHRzeFxuICogaW1wb3J0IHN0eWxlcyBmcm9tICcuL2NvZGUtYmxvY2suY3NzP2lubGluZSc7XG4gKlxuICogZXhwb3J0IGNvbnN0IENtcFN0eWxlcyA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VTdHlsZXMkKHN0eWxlcyk7XG4gKlxuICogICByZXR1cm4gPGRpdj5Tb21lIHRleHQ8L2Rpdj47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqIEBzZWUgYHVzZVN0eWxlc1Njb3BlZGBcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZVN0eWxlcyQgPSAvKiNfX1BVUkVfXyovIGltcGxpY2l0JEZpcnN0QXJnKHVzZVN0eWxlc1FybCk7XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCB1c2VTdHlsZXNTY29wZWRRcmwgPSAoc3R5bGVzOiBRUkw8c3RyaW5nPik6IFVzZVN0eWxlc1Njb3BlZCA9PiB7XG4gIHJldHVybiB7XG4gICAgc2NvcGVJZDogQ29tcG9uZW50U3R5bGVzUHJlZml4Q29udGVudCArIF91c2VTdHlsZXMoc3R5bGVzLCBnZXRTY29wZWRTdHlsZXMsIHRydWUpLFxuICB9O1xufTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlU3R5bGVzU2NvcGVkXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVN0eWxlc1Njb3BlZCBpbnN0ZWFkIGFuZCBydW4gYHBucG0gZG9jcy5zeW5jYClcbi8qKlxuICogQSBsYXp5LWxvYWRhYmxlIHJlZmVyZW5jZSB0byBhIGNvbXBvbmVudCdzIHN0eWxlcywgdGhhdCBpcyBzY29wZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAqXG4gKiBDb21wb25lbnQgc3R5bGVzIGFsbG93IFF3aWsgdG8gbGF6eSBsb2FkIHRoZSBzdHlsZSBpbmZvcm1hdGlvbiBmb3IgdGhlIGNvbXBvbmVudCBvbmx5IHdoZW5cbiAqIG5lZWRlZC4gKEFuZCBhdm9pZCBkb3VibGUgbG9hZGluZyBpdCBpbiBjYXNlIG9mIFNTUiBoeWRyYXRpb24uKVxuICpcbiAqIGBgYHRzeFxuICogaW1wb3J0IHNjb3BlZCBmcm9tICcuL2NvZGUtYmxvY2suY3NzP2lubGluZSc7XG4gKlxuICogZXhwb3J0IGNvbnN0IENtcFNjb3BlZFN0eWxlcyA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VTdHlsZXNTY29wZWQkKHNjb3BlZCk7XG4gKlxuICogICByZXR1cm4gPGRpdj5Tb21lIHRleHQ8L2Rpdj47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqIEBzZWUgYHVzZVN0eWxlc2BcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZVN0eWxlc1Njb3BlZCQgPSAvKiNfX1BVUkVfXyovIGltcGxpY2l0JEZpcnN0QXJnKHVzZVN0eWxlc1Njb3BlZFFybCk7XG5cbmNvbnN0IF91c2VTdHlsZXMgPSAoXG4gIHN0eWxlUXJsOiBRUkw8c3RyaW5nPixcbiAgdHJhbnNmb3JtOiAoc3RyOiBzdHJpbmcsIHN0eWxlSWQ6IHN0cmluZykgPT4gc3RyaW5nLFxuICBzY29wZWQ6IGJvb2xlYW5cbik6IHN0cmluZyA9PiB7XG4gIGFzc2VydFFybChzdHlsZVFybCk7XG5cbiAgY29uc3QgeyB2YWwsIHNldCwgaUN0eCwgaSB9ID0gdXNlU2VxdWVudGlhbFNjb3BlPHN0cmluZz4oKTtcbiAgaWYgKHZhbCkge1xuICAgIHJldHVybiB2YWw7XG4gIH1cbiAgY29uc3Qgc3R5bGVJZCA9IHN0eWxlS2V5KHN0eWxlUXJsLCBpKTtcbiAgY29uc3QgaG9zdCA9IGlDdHguJGhvc3RFbGVtZW50JDtcbiAgc2V0KHN0eWxlSWQpO1xuXG4gIGlmIChzdHlsZVFybC5yZXNvbHZlZCkge1xuICAgIGlDdHguJGNvbnRhaW5lciQuJGFwcGVuZFN0eWxlJCh0cmFuc2Zvcm0oc3R5bGVRcmwucmVzb2x2ZWQsIHN0eWxlSWQpLCBzdHlsZUlkLCBob3N0LCBzY29wZWQpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IHN0eWxlUXJsXG4gICAgICAucmVzb2x2ZSgpXG4gICAgICAudGhlbigodmFsKSA9PlxuICAgICAgICBpQ3R4LiRjb250YWluZXIkLiRhcHBlbmRTdHlsZSQodHJhbnNmb3JtKHZhbCwgc3R5bGVJZCksIHN0eWxlSWQsIGhvc3QsIHNjb3BlZClcbiAgICAgICk7XG4gIH1cblxuICByZXR1cm4gc3R5bGVJZDtcbn07XG4iXX0=","import { useInvokeContext } from './use-core';\nimport { USE_ON_LOCAL, USE_ON_LOCAL_FLAGS, USE_ON_LOCAL_SEQ_IDX } from '../shared/utils/markers';\nimport { fromCamelToKebabCase } from '../shared/utils/event-names';\n// <docs markdown=\"../readme.md#useOn\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useOn instead and run `pnpm docs.sync`)\n/**\n * Register a listener on the current component's host element.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX. Otherwise, it's adding a JSX listener in the `<div>` is a better idea.\n *\n * Events are case sensitive.\n *\n * @public\n * @see `useOn`, `useOnWindow`, `useOnDocument`.\n */\n// </docs>\nexport const useOn = (event, eventQrl) => {\n    _useOn(\"on:\" /* EventNameHtmlScope.on */, event, eventQrl);\n};\n// <docs markdown=\"../readme.md#useOnDocument\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useOnDocument instead and run `pnpm docs.sync`)\n/**\n * Register a listener on `document`.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX.\n *\n * Events are case sensitive.\n *\n * @public\n * @see `useOn`, `useOnWindow`, `useOnDocument`.\n *\n * ```tsx\n * function useScroll() {\n *   useOnDocument(\n *     'scroll',\n *     $((event) => {\n *       console.log('body scrolled', event);\n *     })\n *   );\n * }\n *\n * const Cmp = component$(() => {\n *   useScroll();\n *   return <div>Profit!</div>;\n * });\n * ```\n */\n// </docs>\nexport const useOnDocument = (event, eventQrl) => {\n    _useOn(\"on-document:\" /* EventNameHtmlScope.document */, event, eventQrl);\n};\n// <docs markdown=\"../readme.md#useOnWindow\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useOnWindow instead and run `pnpm docs.sync`)\n/**\n * Register a listener on `window`.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX.\n *\n * Events are case sensitive.\n *\n * @public\n * @see `useOn`, `useOnWindow`, `useOnDocument`.\n *\n * ```tsx\n * function useAnalytics() {\n *   useOnWindow(\n *     'popstate',\n *     $((event) => {\n *       console.log('navigation happened', event);\n *       // report to analytics\n *     })\n *   );\n * }\n *\n * const Cmp = component$(() => {\n *   useAnalytics();\n *   return <div>Profit!</div>;\n * });\n * ```\n */\n// </docs>\nexport const useOnWindow = (event, eventQrl) => {\n    _useOn(\"on-window:\" /* EventNameHtmlScope.window */, event, eventQrl);\n};\nconst _useOn = (prefix, eventName, eventQrl) => {\n    const { isAdded, addEvent } = useOnEventsSequentialScope();\n    if (isAdded) {\n        return;\n    }\n    if (eventQrl) {\n        if (Array.isArray(eventName)) {\n            for (const event of eventName) {\n                addEvent(prefix + fromCamelToKebabCase(event), eventQrl);\n            }\n        }\n        else {\n            addEvent(prefix + fromCamelToKebabCase(eventName), eventQrl);\n        }\n    }\n};\n/**\n * This hook is like the `useSequentialScope` but it is specifically for `useOn`. This is needed\n * because we want to execute the `useOn` hooks only once and store the event listeners on the host\n * element. From Qwik V2 the component is rerunning when the promise is thrown, so we need to make\n * sure that the event listeners are not added multiple times.\n *\n * - The event listeners are stored in the `USE_ON_LOCAL` property.\n * - The `USE_ON_LOCAL_SEQ_IDX` is used to keep track of the index of the hook that calls this.\n * - The `USE_ON_LOCAL_FLAGS` is used to keep track of whether the event listener has been added or\n *   not.\n */\nconst useOnEventsSequentialScope = () => {\n    const iCtx = useInvokeContext();\n    const hostElement = iCtx.$hostElement$;\n    const host = hostElement;\n    let onMap = iCtx.$container$.getHostProp(host, USE_ON_LOCAL);\n    if (onMap === null) {\n        onMap = {};\n        iCtx.$container$.setHostProp(host, USE_ON_LOCAL, onMap);\n    }\n    let seqIdx = iCtx.$container$.getHostProp(host, USE_ON_LOCAL_SEQ_IDX);\n    if (seqIdx === null) {\n        seqIdx = 0;\n    }\n    iCtx.$container$.setHostProp(host, USE_ON_LOCAL_SEQ_IDX, seqIdx + 1);\n    let addedFlags = iCtx.$container$.getHostProp(host, USE_ON_LOCAL_FLAGS);\n    if (addedFlags === null) {\n        addedFlags = [];\n        iCtx.$container$.setHostProp(host, USE_ON_LOCAL_FLAGS, addedFlags);\n    }\n    while (addedFlags.length <= seqIdx) {\n        addedFlags.push(false);\n    }\n    const addEvent = (eventName, eventQrl) => {\n        addedFlags[seqIdx] = true;\n        let events = onMap[eventName];\n        if (!events) {\n            onMap[eventName] = events = [];\n        }\n        events.push(eventQrl);\n    };\n    return {\n        isAdded: addedFlags[seqIdx],\n        addEvent,\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLW9uLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2Utb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBUTlDLE9BQU8sRUFBRSxZQUFZLEVBQUUsa0JBQWtCLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUNqRyxPQUFPLEVBQXNCLG9CQUFvQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFNdkYsdUNBQXVDO0FBQ3ZDLHlDQUF5QztBQUN6Qyw2REFBNkQ7QUFDN0Q7Ozs7Ozs7Ozs7R0FVRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxLQUFLLEdBQUcsQ0FBNEIsS0FBYyxFQUFFLFFBQXFCLEVBQUUsRUFBRTtJQUN4RixNQUFNLG9DQUF3QixLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDakQsQ0FBQyxDQUFDO0FBRUYsK0NBQStDO0FBQy9DLHlDQUF5QztBQUN6QyxxRUFBcUU7QUFDckU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBMEJHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxDQUE0QixLQUFjLEVBQUUsUUFBcUIsRUFBRSxFQUFFO0lBQ2hHLE1BQU0sbURBQThCLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FBQztBQUN2RCxDQUFDLENBQUM7QUFFRiw2Q0FBNkM7QUFDN0MseUNBQXlDO0FBQ3pDLG1FQUFtRTtBQUNuRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBMkJHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxDQUE0QixLQUFjLEVBQUUsUUFBcUIsRUFBRSxFQUFFO0lBQzlGLE1BQU0sK0NBQTRCLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FBQztBQUNyRCxDQUFDLENBQUM7QUFFRixNQUFNLE1BQU0sR0FB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ZSB7IFFSTCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsLnB1YmxpYyc7XG5pbXBvcnQgeyB1c2VJbnZva2VDb250ZXh0IH0gZnJvbSAnLi91c2UtY29yZSc7XG5pbXBvcnQgeyB0eXBlIEtub3duRXZlbnROYW1lcyB9IGZyb20gJy4uL3NoYXJlZC9qc3gvdHlwZXMvanN4LXF3aWstZXZlbnRzJztcbmltcG9ydCB0eXBlIHtcbiAgRXZlbnRIYW5kbGVyLFxuICBFdmVudEZyb21OYW1lLFxuICBBbGxFdmVudEtleXMsXG59IGZyb20gJy4uL3NoYXJlZC9qc3gvdHlwZXMvanN4LXF3aWstYXR0cmlidXRlcyc7XG5pbXBvcnQgdHlwZSB7IEhvc3RFbGVtZW50IH0gZnJvbSAnLi4vc2hhcmVkL3R5cGVzJztcbmltcG9ydCB7IFVTRV9PTl9MT0NBTCwgVVNFX09OX0xPQ0FMX0ZMQUdTLCBVU0VfT05fTE9DQUxfU0VRX0lEWCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy9tYXJrZXJzJztcbmltcG9ydCB7IEV2ZW50TmFtZUh0bWxTY29wZSwgZnJvbUNhbWVsVG9LZWJhYkNhc2UgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvZXZlbnQtbmFtZXMnO1xuXG5leHBvcnQgdHlwZSBFdmVudFFSTDxUIGV4dGVuZHMgc3RyaW5nID0gQWxsRXZlbnRLZXlzPiA9XG4gIHwgUVJMPEV2ZW50SGFuZGxlcjxFdmVudEZyb21OYW1lPFQ+LCBFbGVtZW50Pj5cbiAgfCB1bmRlZmluZWQ7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZU9uXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZU9uIGluc3RlYWQgYW5kIHJ1biBgcG5wbSBkb2NzLnN5bmNgKVxuLyoqXG4gKiBSZWdpc3RlciBhIGxpc3RlbmVyIG9uIHRoZSBjdXJyZW50IGNvbXBvbmVudCdzIGhvc3QgZWxlbWVudC5cbiAqXG4gKiBVc2VkIHRvIHByb2dyYW1tYXRpY2FsbHkgYWRkIGV2ZW50IGxpc3RlbmVycy4gVXNlZnVsIGZyb20gY3VzdG9tIGB1c2UqYCBtZXRob2RzLCB3aGljaCBkbyBub3RcbiAqIGhhdmUgYWNjZXNzIHRvIHRoZSBKU1guIE90aGVyd2lzZSwgaXQncyBhZGRpbmcgYSBKU1ggbGlzdGVuZXIgaW4gdGhlIGA8ZGl2PmAgaXMgYSBiZXR0ZXIgaWRlYS5cbiAqXG4gKiBFdmVudHMgYXJlIGNhc2Ugc2Vuc2l0aXZlLlxuICpcbiAqIEBwdWJsaWNcbiAqIEBzZWUgYHVzZU9uYCwgYHVzZU9uV2luZG93YCwgYHVzZU9uRG9jdW1lbnRgLlxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlT24gPSA8VCBleHRlbmRzIEtub3duRXZlbnROYW1lcz4oZXZlbnQ6IFQgfCBUW10sIGV2ZW50UXJsOiBFdmVudFFSTDxUPikgPT4ge1xuICBfdXNlT24oRXZlbnROYW1lSHRtbFNjb3BlLm9uLCBldmVudCwgZXZlbnRRcmwpO1xufTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlT25Eb2N1bWVudFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VPbkRvY3VtZW50IGluc3RlYWQgYW5kIHJ1biBgcG5wbSBkb2NzLnN5bmNgKVxuLyoqXG4gKiBSZWdpc3RlciBhIGxpc3RlbmVyIG9uIGBkb2N1bWVudGAuXG4gKlxuICogVXNlZCB0byBwcm9ncmFtbWF0aWNhbGx5IGFkZCBldmVudCBsaXN0ZW5lcnMuIFVzZWZ1bCBmcm9tIGN1c3RvbSBgdXNlKmAgbWV0aG9kcywgd2hpY2ggZG8gbm90XG4gKiBoYXZlIGFjY2VzcyB0byB0aGUgSlNYLlxuICpcbiAqIEV2ZW50cyBhcmUgY2FzZSBzZW5zaXRpdmUuXG4gKlxuICogQHB1YmxpY1xuICogQHNlZSBgdXNlT25gLCBgdXNlT25XaW5kb3dgLCBgdXNlT25Eb2N1bWVudGAuXG4gKlxuICogYGBgdHN4XG4gKiBmdW5jdGlvbiB1c2VTY3JvbGwoKSB7XG4gKiAgIHVzZU9uRG9jdW1lbnQoXG4gKiAgICAgJ3Njcm9sbCcsXG4gKiAgICAgJCgoZXZlbnQpID0+IHtcbiAqICAgICAgIGNvbnNvbGUubG9nKCdib2R5IHNjcm9sbGVkJywgZXZlbnQpO1xuICogICAgIH0pXG4gKiAgICk7XG4gKiB9XG4gKlxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZVNjcm9sbCgpO1xuICogICByZXR1cm4gPGRpdj5Qcm9maXQhPC9kaXY+O1xuICogfSk7XG4gKiBgYGBcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZU9uRG9jdW1lbnQgPSA8VCBleHRlbmRzIEtub3duRXZlbnROYW1lcz4oZXZlbnQ6IFQgfCBUW10sIGV2ZW50UXJsOiBFdmVudFFSTDxUPikgPT4ge1xuICBfdXNlT24oRXZlbnROYW1lSHRtbFNjb3BlLmRvY3VtZW50LCBldmVudCwgZXZlbnRRcmwpO1xufTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlT25XaW5kb3dcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlT25XaW5kb3cgaW5zdGVhZCBhbmQgcnVuIGBwbnBtIGRvY3Muc3luY2ApXG4vKipcbiAqIFJlZ2lzdGVyIGEgbGlzdGVuZXIgb24gYHdpbmRvd2AuXG4gKlxuICogVXNlZCB0byBwcm9ncmFtbWF0aWNhbGx5IGFkZCBldmVudCBsaXN0ZW5lcnMuIFVzZWZ1bCBmcm9tIGN1c3RvbSBgdXNlKmAgbWV0aG9kcywgd2hpY2ggZG8gbm90XG4gKiBoYXZlIGFjY2VzcyB0byB0aGUgSlNYLlxuICpcbiAqIEV2ZW50cyBhcmUgY2FzZSBzZW5zaXRpdmUuXG4gKlxuICogQHB1YmxpY1xuICogQHNlZSBgdXNlT25gLCBgdXNlT25XaW5kb3dgLCBgdXNlT25Eb2N1bWVudGAuXG4gKlxuICogYGBgdHN4XG4gKiBmdW5jdGlvbiB1c2VBbmFseXRpY3MoKSB7XG4gKiAgIHVzZU9uV2luZG93KFxuICogICAgICdwb3BzdGF0ZScsXG4gKiAgICAgJCgoZXZlbnQpID0+IHtcbiAqICAgICAgIGNvbnNvbGUubG9nKCduYXZpZ2F0aW9uIGhhcHBlbmVkJywgZXZlbnQpO1xuICogICAgICAgLy8gcmVwb3J0IHRvIGFuYWx5dGljc1xuICogICAgIH0pXG4gKiAgICk7XG4gKiB9XG4gKlxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZUFuYWx5dGljcygpO1xuICogICByZXR1cm4gPGRpdj5Qcm9maXQhPC9kaXY+O1xuICogfSk7XG4gKiBgYGBcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZU9uV2luZG93ID0gPFQgZXh0ZW5kcyBLbm93bkV2ZW50TmFtZXM+KGV2ZW50OiBUIHwgVFtdLCBldmVudFFybDogRXZlbnRRUkw8VD4pID0+IHtcbiAgX3VzZU9uKEV2ZW50TmFtZUh0bWxTY29wZS53aW5kb3csIGV2ZW50LCBldmVudFFybCk7XG59O1xuXG5jb25zdCBfdXNlT24gPSAocHJlZml4OiBFdmVudE5hbWVIdG1sU2NvcGUsIGV2ZW50TmFtZTogc3RyaW5nIHwgc3RyaW5nW10sIGV2ZW50UXJsOiBFdmVudFFSTCkgPT4ge1xuICBjb25zdCB7IGlzQWRkZWQsIGFkZEV2ZW50IH0gPSB1c2VPbkV2ZW50c1NlcXVlbnRpYWxTY29wZSgpO1xuICBpZiAoaXNBZGRlZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoZXZlbnRRcmwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShldmVudE5hbWUpKSB7XG4gICAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIGV2ZW50TmFtZSkge1xuICAgICAgICBhZGRFdmVudChwcmVmaXggKyBmcm9tQ2FtZWxUb0tlYmFiQ2FzZShldmVudCksIGV2ZW50UXJsKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYWRkRXZlbnQocHJlZml4ICsgZnJvbUNhbWVsVG9LZWJhYkNhc2UoZXZlbnROYW1lKSwgZXZlbnRRcmwpO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBUaGlzIGhvb2sgaXMgbGlrZSB0aGUgYHVzZVNlcXVlbnRpYWxTY29wZWAgYnV0IGl0IGlzIHNwZWNpZmljYWxseSBmb3IgYHVzZU9uYC4gVGhpcyBpcyBuZWVkZWRcbiAqIGJlY2F1c2Ugd2Ugd2FudCB0byBleGVjdXRlIHRoZSBgdXNlT25gIGhvb2tzIG9ubHkgb25jZSBhbmQgc3RvcmUgdGhlIGV2ZW50IGxpc3RlbmVycyBvbiB0aGUgaG9zdFxuICogZWxlbWVudC4gRnJvbSBRd2lrIFYyIHRoZSBjb21wb25lbnQgaXMgcmVydW5uaW5nIHdoZW4gdGhlIHByb21pc2UgaXMgdGhyb3duLCBzbyB3ZSBuZWVkIHRvIG1ha2VcbiAqIHN1cmUgdGhhdCB0aGUgZXZlbnQgbGlzdGVuZXJzIGFyZSBub3QgYWRkZWQgbXVsdGlwbGUgdGltZXMuXG4gKlxuICogLSBUaGUgZXZlbnQgbGlzdGVuZXJzIGFyZSBzdG9yZWQgaW4gdGhlIGBVU0VfT05fTE9DQUxgIHByb3BlcnR5LlxuICogLSBUaGUgYFVTRV9PTl9MT0NBTF9TRVFfSURYYCBpcyB1c2VkIHRvIGtlZXAgdHJhY2sgb2YgdGhlIGluZGV4IG9mIHRoZSBob29rIHRoYXQgY2FsbHMgdGhpcy5cbiAqIC0gVGhlIGBVU0VfT05fTE9DQUxfRkxBR1NgIGlzIHVzZWQgdG8ga2VlcCB0cmFjayBvZiB3aGV0aGVyIHRoZSBldmVudCBsaXN0ZW5lciBoYXMgYmVlbiBhZGRlZCBvclxuICogICBub3QuXG4gKi9cbmNvbnN0IHVzZU9uRXZlbnRzU2VxdWVudGlhbFNjb3BlID0gKCkgPT4ge1xuICBjb25zdCBpQ3R4ID0gdXNlSW52b2tlQ29udGV4dCgpO1xuICBjb25zdCBob3N0RWxlbWVudCA9IGlDdHguJGhvc3RFbGVtZW50JDtcbiAgY29uc3QgaG9zdDogSG9zdEVsZW1lbnQgPSBob3N0RWxlbWVudCBhcyBhbnk7XG4gIGxldCBvbk1hcCA9IGlDdHguJGNvbnRhaW5lciQuZ2V0SG9zdFByb3A8VXNlT25NYXA+KGhvc3QsIFVTRV9PTl9MT0NBTCk7XG4gIGlmIChvbk1hcCA9PT0gbnVsbCkge1xuICAgIG9uTWFwID0ge307XG4gICAgaUN0eC4kY29udGFpbmVyJC5zZXRIb3N0UHJvcChob3N0LCBVU0VfT05fTE9DQUwsIG9uTWFwKTtcbiAgfVxuICBsZXQgc2VxSWR4ID0gaUN0eC4kY29udGFpbmVyJC5nZXRIb3N0UHJvcDxudW1iZXI+KGhvc3QsIFVTRV9PTl9MT0NBTF9TRVFfSURYKTtcbiAgaWYgKHNlcUlkeCA9PT0gbnVsbCkge1xuICAgIHNlcUlkeCA9IDA7XG4gIH1cbiAgaUN0eC4kY29udGFpbmVyJC5zZXRIb3N0UHJvcChob3N0LCBVU0VfT05fTE9DQUxfU0VRX0lEWCwgc2VxSWR4ICsgMSk7XG4gIGxldCBhZGRlZEZsYWdzID0gaUN0eC4kY29udGFpbmVyJC5nZXRIb3N0UHJvcDxib29sZWFuW10+KGhvc3QsIFVTRV9PTl9MT0NBTF9GTEFHUyk7XG4gIGlmIChhZGRlZEZsYWdzID09PSBudWxsKSB7XG4gICAgYWRkZWRGbGFncyA9IFtdO1xuICAgIGlDdHguJGNvbnRhaW5lciQuc2V0SG9zdFByb3AoaG9zdCwgVVNFX09OX0xPQ0FMX0ZMQUdTLCBhZGRlZEZsYWdzKTtcbiAgfVxuICB3aGlsZSAoYWRkZWRGbGFncy5sZW5ndGggPD0gc2VxSWR4KSB7XG4gICAgYWRkZWRGbGFncy5wdXNoKGZhbHNlKTtcbiAgfVxuICBjb25zdCBhZGRFdmVudCA9IChldmVudE5hbWU6IHN0cmluZywgZXZlbnRRcmw6IEV2ZW50UVJMPEtub3duRXZlbnROYW1lcz4pID0+IHtcbiAgICBhZGRlZEZsYWdzW3NlcUlkeF0gPSB0cnVlO1xuICAgIGxldCBldmVudHMgPSBvbk1hcCFbZXZlbnROYW1lXTtcbiAgICBpZiAoIWV2ZW50cykge1xuICAgICAgb25NYXAhW2V2ZW50TmFtZV0gPSBldmVudHMgPSBbXTtcbiAgICB9XG4gICAgZXZlbnRzLnB1c2goZXZlbnRRcmwpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgaXNBZGRlZDogYWRkZWRGbGFnc1tzZXFJZHhdLFxuICAgIGFkZEV2ZW50LFxuICB9O1xufTtcblxuZXhwb3J0IHR5cGUgVXNlT25NYXAgPSBSZWNvcmQ8c3RyaW5nLCBFdmVudFFSTDxLbm93bkV2ZW50TmFtZXM+W10+O1xuIl19","import { isQwikComponent } from '../shared/component.public';\nimport { isFunction } from '../shared/utils/types';\nimport { createSignal } from '../reactive-primitives/signal.public';\nimport { invoke } from './use-core';\nimport { useSequentialScope } from './use-sequential-scope';\n/** @public */\nexport const useSignal = (initialState) => {\n    return useConstant(() => {\n        const value = isFunction(initialState) && !isQwikComponent(initialState)\n            ? invoke(undefined, initialState)\n            : initialState;\n        return createSignal(value);\n    });\n};\n/**\n * Stores a value which is retained for the lifetime of the component. Subsequent calls to\n * `useConstant` will always return the first value given.\n *\n * If the value is a function, the function is invoked once to calculate the actual value.\n *\n * @public\n */\nexport const useConstant = (value) => {\n    const { val, set } = useSequentialScope();\n    if (val != null) {\n        return val;\n    }\n    // Note: We are not using `invoke` here because we don't want to clear the context\n    value = isFunction(value) && !isQwikComponent(value) ? value() : value;\n    return set(value);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXNpZ25hbC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLXNpZ25hbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDN0QsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQ25ELE9BQU8sRUFBRSxZQUFZLEVBQWUsTUFBTSxzQ0FBc0MsQ0FBQztBQUNqRixPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBUTVELGNBQWM7QUFDZCxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQWMsQ0FBUSxZQUFvQixFQUFpQixFQUFFO0lBQ2pGLE9BQU8sV0FBVyxDQUFDLEdBQUcsRUFBRTtRQUN0QixNQUFNLEtBQUssR0FDVCxVQUFVLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDO1lBQ3hELENBQUMsQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLFlBQW1CLENBQUM7WUFDeEMsQ0FBQyxDQUFDLFlBQVksQ0FBQztRQUNuQixPQUFPLFlBQVksQ0FBUSxLQUFLLENBQUMsQ0FBQztJQUNwQyxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQztBQUVGOzs7Ozs7O0dBT0c7QUFDSCxNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsQ0FBSSxLQUFvQixFQUFLLEVBQUU7SUFDeEQsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxrQkFBa0IsRUFBSyxDQUFDO0lBQzdDLElBQUksR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ2hCLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQztJQUNELGtGQUFrRjtJQUNsRixLQUFLLEdBQUcsVUFBVSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO0lBQ3ZFLE9BQU8sR0FBRyxDQUFDLEtBQVUsQ0FBQyxDQUFDO0FBQ3pCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzUXdpa0NvbXBvbmVudCB9IGZyb20gJy4uL3NoYXJlZC9jb21wb25lbnQucHVibGljJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHsgY3JlYXRlU2lnbmFsLCB0eXBlIFNpZ25hbCB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvc2lnbmFsLnB1YmxpYyc7XG5pbXBvcnQgeyBpbnZva2UgfSBmcm9tICcuL3VzZS1jb3JlJztcbmltcG9ydCB7IHVzZVNlcXVlbnRpYWxTY29wZSB9IGZyb20gJy4vdXNlLXNlcXVlbnRpYWwtc2NvcGUnO1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VTaWduYWwge1xuICA8VD4oKTogU2lnbmFsPFQgfCB1bmRlZmluZWQ+O1xuICA8VD4odmFsdWU6IFQgfCAoKCkgPT4gVCkpOiBTaWduYWw8VD47XG59XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgY29uc3QgdXNlU2lnbmFsOiBVc2VTaWduYWwgPSA8U1RBVEU+KGluaXRpYWxTdGF0ZT86IFNUQVRFKTogU2lnbmFsPFNUQVRFPiA9PiB7XG4gIHJldHVybiB1c2VDb25zdGFudCgoKSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPVxuICAgICAgaXNGdW5jdGlvbihpbml0aWFsU3RhdGUpICYmICFpc1F3aWtDb21wb25lbnQoaW5pdGlhbFN0YXRlKVxuICAgICAgICA/IGludm9rZSh1bmRlZmluZWQsIGluaXRpYWxTdGF0ZSBhcyBhbnkpXG4gICAgICAgIDogaW5pdGlhbFN0YXRlO1xuICAgIHJldHVybiBjcmVhdGVTaWduYWw8U1RBVEU+KHZhbHVlKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFN0b3JlcyBhIHZhbHVlIHdoaWNoIGlzIHJldGFpbmVkIGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIGNvbXBvbmVudC4gU3Vic2VxdWVudCBjYWxscyB0b1xuICogYHVzZUNvbnN0YW50YCB3aWxsIGFsd2F5cyByZXR1cm4gdGhlIGZpcnN0IHZhbHVlIGdpdmVuLlxuICpcbiAqIElmIHRoZSB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCB0aGUgZnVuY3Rpb24gaXMgaW52b2tlZCBvbmNlIHRvIGNhbGN1bGF0ZSB0aGUgYWN0dWFsIHZhbHVlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IHVzZUNvbnN0YW50ID0gPFQ+KHZhbHVlOiAoKCkgPT4gVCkgfCBUKTogVCA9PiB7XG4gIGNvbnN0IHsgdmFsLCBzZXQgfSA9IHVzZVNlcXVlbnRpYWxTY29wZTxUPigpO1xuICBpZiAodmFsICE9IG51bGwpIHtcbiAgICByZXR1cm4gdmFsO1xuICB9XG4gIC8vIE5vdGU6IFdlIGFyZSBub3QgdXNpbmcgYGludm9rZWAgaGVyZSBiZWNhdXNlIHdlIGRvbid0IHdhbnQgdG8gY2xlYXIgdGhlIGNvbnRleHRcbiAgdmFsdWUgPSBpc0Z1bmN0aW9uKHZhbHVlKSAmJiAhaXNRd2lrQ29tcG9uZW50KHZhbHVlKSA/IHZhbHVlKCkgOiB2YWx1ZTtcbiAgcmV0dXJuIHNldCh2YWx1ZSBhcyBUKTtcbn07XG4iXX0=","import { implicit$FirstArg } from '../shared/qrl/implicit_dollar';\nimport { assertQrl } from '../shared/qrl/qrl-utils';\nimport { throwIfQRLNotResolved } from '../reactive-primitives/utils';\nimport { useSequentialScope } from './use-sequential-scope';\nimport { createComputedSignal } from '../reactive-primitives/signal-api';\nexport const useComputedCommon = (qrl, createFn, options) => {\n    const { val, set } = useSequentialScope();\n    if (val) {\n        return val;\n    }\n    assertQrl(qrl);\n    const signal = createFn(qrl, options);\n    set(signal);\n    // Note that we first save the signal\n    // and then we throw to load the qrl\n    // This is why we can't use useConstant, we need to keep using the same qrl object\n    throwIfQRLNotResolved(qrl);\n    return signal;\n};\n/** @internal */\nexport const useComputedQrl = (qrl, options) => {\n    return useComputedCommon(qrl, createComputedSignal, options);\n};\n/**\n * Creates a computed signal which is calculated from the given function. A computed signal is a\n * signal which is calculated from other signals. When the signals change, the computed signal is\n * recalculated, and if the result changed, all tasks which are tracking the signal will be re-run\n * and all components that read the signal will be re-rendered.\n *\n * The function must be synchronous and must not have any side effects.\n *\n * @public\n */\nexport const useComputed$ = implicit$FirstArg(useComputedQrl);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWNvbXB1dGVkLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtY29tcHV0ZWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFDbEUsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBR3BELE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBRXJFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQzVELE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBVXpFLE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFHLENBTS9CLEdBQWMsRUFDZCxRQUdvRixFQUNwRixPQUF5QixFQUNqQixFQUFFO0lBQ1YsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxrQkFBa0IsRUFBYSxDQUFDO0lBQ3JELElBQUksR0FBRyxFQUFFLENBQUM7UUFDUixPQUFPLEdBQVUsQ0FBQztJQUNwQixDQUFDO0lBQ0QsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2YsTUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN0QyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7SUFFWixxQ0FBcUM7SUFDckMsb0NBQW9DO0lBQ3BDLGtGQUFrRjtJQUNsRixxQkFBcUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMzQixPQUFPLE1BQWEsQ0FBQztBQUN2QixDQUFDLENBQUM7QUFFRixnQkFBZ0I7QUFDaEIsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLENBQzVCLEdBQXVCLEVBQ3ZCLE9BQXlCLEVBQ0YsRUFBRTtJQUN6QixPQUFPLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxvQkFBb0IsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUMvRCxDQUFDLENBQUM7QUFFRjs7Ozs7Ozs7O0dBU0c7QUFDSCxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsaUJBQWlCLENBQUMsY0FBYyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbXBsaWNpdCRGaXJzdEFyZyB9IGZyb20gJy4uL3NoYXJlZC9xcmwvaW1wbGljaXRfZG9sbGFyJztcbmltcG9ydCB7IGFzc2VydFFybCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsLXV0aWxzJztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi4vc2hhcmVkL3FybC9xcmwucHVibGljJztcbmltcG9ydCB7IENvbXB1dGVkU2lnbmFsSW1wbCB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvaW1wbC9jb21wdXRlZC1zaWduYWwtaW1wbCc7XG5pbXBvcnQgeyB0aHJvd0lmUVJMTm90UmVzb2x2ZWQgfSBmcm9tICcuLi9yZWFjdGl2ZS1wcmltaXRpdmVzL3V0aWxzJztcbmltcG9ydCB0eXBlIHsgQ29tcHV0ZWRTaWduYWwsIFNpZ25hbCB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvc2lnbmFsLnB1YmxpYyc7XG5pbXBvcnQgeyB1c2VTZXF1ZW50aWFsU2NvcGUgfSBmcm9tICcuL3VzZS1zZXF1ZW50aWFsLXNjb3BlJztcbmltcG9ydCB7IGNyZWF0ZUNvbXB1dGVkU2lnbmFsIH0gZnJvbSAnLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy9zaWduYWwtYXBpJztcbmltcG9ydCB0eXBlIHsgQXN5bmNDb21wdXRlZFNpZ25hbEltcGwgfSBmcm9tICcuLi9yZWFjdGl2ZS1wcmltaXRpdmVzL2ltcGwvYXN5bmMtY29tcHV0ZWQtc2lnbmFsLWltcGwnO1xuaW1wb3J0IHR5cGUgeyBTZXJpYWxpemVyU2lnbmFsSW1wbCB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvaW1wbC9zZXJpYWxpemVyLXNpZ25hbC1pbXBsJztcbmltcG9ydCB0eXBlIHsgQ29tcHV0ZWRPcHRpb25zIH0gZnJvbSAnLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy90eXBlcyc7XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBDb21wdXRlZEZuPFQ+ID0gKCkgPT4gVDtcbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBDb21wdXRlZFJldHVyblR5cGU8VD4gPSBUIGV4dGVuZHMgUHJvbWlzZTxhbnk+ID8gbmV2ZXIgOiBDb21wdXRlZFNpZ25hbDxUPjtcblxuZXhwb3J0IGNvbnN0IHVzZUNvbXB1dGVkQ29tbW9uID0gPFxuICBULFxuICBTLFxuICBGVU5DIGV4dGVuZHMgRnVuY3Rpb24gPSBDb21wdXRlZEZuPFQ+LFxuICBSRVRVUk4gPSBDb21wdXRlZFJldHVyblR5cGU8VD4sXG4+KFxuICBxcmw6IFFSTDxGVU5DPixcbiAgY3JlYXRlRm46IChcbiAgICBxcmw6IFFSTDxhbnk+LFxuICAgIG9wdGlvbnM/OiBDb21wdXRlZE9wdGlvbnNcbiAgKSA9PiBDb21wdXRlZFNpZ25hbEltcGw8VD4gfCBBc3luY0NvbXB1dGVkU2lnbmFsSW1wbDxUPiB8IFNlcmlhbGl6ZXJTaWduYWxJbXBsPFQsIFM+LFxuICBvcHRpb25zPzogQ29tcHV0ZWRPcHRpb25zXG4pOiBSRVRVUk4gPT4ge1xuICBjb25zdCB7IHZhbCwgc2V0IH0gPSB1c2VTZXF1ZW50aWFsU2NvcGU8U2lnbmFsPFQ+PigpO1xuICBpZiAodmFsKSB7XG4gICAgcmV0dXJuIHZhbCBhcyBhbnk7XG4gIH1cbiAgYXNzZXJ0UXJsKHFybCk7XG4gIGNvbnN0IHNpZ25hbCA9IGNyZWF0ZUZuKHFybCwgb3B0aW9ucyk7XG4gIHNldChzaWduYWwpO1xuXG4gIC8vIE5vdGUgdGhhdCB3ZSBmaXJzdCBzYXZlIHRoZSBzaWduYWxcbiAgLy8gYW5kIHRoZW4gd2UgdGhyb3cgdG8gbG9hZCB0aGUgcXJsXG4gIC8vIFRoaXMgaXMgd2h5IHdlIGNhbid0IHVzZSB1c2VDb25zdGFudCwgd2UgbmVlZCB0byBrZWVwIHVzaW5nIHRoZSBzYW1lIHFybCBvYmplY3RcbiAgdGhyb3dJZlFSTE5vdFJlc29sdmVkKHFybCk7XG4gIHJldHVybiBzaWduYWwgYXMgYW55O1xufTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHVzZUNvbXB1dGVkUXJsID0gPFQ+KFxuICBxcmw6IFFSTDxDb21wdXRlZEZuPFQ+PixcbiAgb3B0aW9ucz86IENvbXB1dGVkT3B0aW9uc1xuKTogQ29tcHV0ZWRSZXR1cm5UeXBlPFQ+ID0+IHtcbiAgcmV0dXJuIHVzZUNvbXB1dGVkQ29tbW9uKHFybCwgY3JlYXRlQ29tcHV0ZWRTaWduYWwsIG9wdGlvbnMpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY29tcHV0ZWQgc2lnbmFsIHdoaWNoIGlzIGNhbGN1bGF0ZWQgZnJvbSB0aGUgZ2l2ZW4gZnVuY3Rpb24uIEEgY29tcHV0ZWQgc2lnbmFsIGlzIGFcbiAqIHNpZ25hbCB3aGljaCBpcyBjYWxjdWxhdGVkIGZyb20gb3RoZXIgc2lnbmFscy4gV2hlbiB0aGUgc2lnbmFscyBjaGFuZ2UsIHRoZSBjb21wdXRlZCBzaWduYWwgaXNcbiAqIHJlY2FsY3VsYXRlZCwgYW5kIGlmIHRoZSByZXN1bHQgY2hhbmdlZCwgYWxsIHRhc2tzIHdoaWNoIGFyZSB0cmFja2luZyB0aGUgc2lnbmFsIHdpbGwgYmUgcmUtcnVuXG4gKiBhbmQgYWxsIGNvbXBvbmVudHMgdGhhdCByZWFkIHRoZSBzaWduYWwgd2lsbCBiZSByZS1yZW5kZXJlZC5cbiAqXG4gKiBUaGUgZnVuY3Rpb24gbXVzdCBiZSBzeW5jaHJvbm91cyBhbmQgbXVzdCBub3QgaGF2ZSBhbnkgc2lkZSBlZmZlY3RzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IHVzZUNvbXB1dGVkJCA9IGltcGxpY2l0JEZpcnN0QXJnKHVzZUNvbXB1dGVkUXJsKTtcbiJdfQ==","import { implicit$FirstArg } from '../shared/qrl/implicit_dollar';\nimport { useComputedCommon } from './use-computed';\nimport { createSerializerSignal } from '../reactive-primitives/signal-api';\n/** @internal */\nexport const useSerializerQrl = (qrl) => useComputedCommon(qrl, createSerializerSignal);\n/**\n * Creates a signal which holds a custom serializable value. It requires that the value implements\n * the `CustomSerializable` type, which means having a function under the `[SerializeSymbol]`\n * property that returns a serializable value when called.\n *\n * The `fn` you pass is called with the result of the serialization (in the browser, only when the\n * value is needed), or `undefined` when not yet initialized. If you refer to other signals, `fn`\n * will be called when those change just like computed signals, and then the argument will be the\n * previous output, not the serialized result.\n *\n * This is useful when using third party libraries that use custom objects that are not\n * serializable.\n *\n * Note that the `fn` is called lazily, so it won't impact container resume.\n *\n * @example\n *\n * ```tsx\n * class MyCustomSerializable {\n *   constructor(public n: number) {}\n *   inc() {\n *     this.n++;\n *   }\n * }\n * const Cmp = component$(() => {\n *   const custom = useSerializer$({\n *     deserialize: (data) => new MyCustomSerializable(data),\n *     serialize: (data) => data.n,\n *     initial: 2,\n *   });\n *   return <div onClick$={() => custom.value.inc()}>{custom.value.n}</div>;\n * });\n * ```\n *\n * @example\n *\n * When using a Signal as the data to create the object, you need to pass the configuration as a\n * function, and you can then also provide the `update` function to update the object when the\n * signal changes.\n *\n * By returning an object from `update`, you signal that the listeners have to be notified. You can\n * mutate the current object but you should return it so that it will trigger listeners.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const n = useSignal(2);\n *   const custom = useSerializer$(() =>\n *     ({\n *       deserialize: () => new MyCustomSerializable(n.value),\n *       update: (current) => {\n *         current.n = n.value;\n *         return current;\n *       }\n *     })\n *   );\n *   return <div onClick$={() => n.value++}>{custom.value.n}</div>;\n * });\n * ```\n *\n * @public\n */\nexport const useSerializer$ = implicit$FirstArg(useSerializerQrl);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXNlcmlhbGl6ZXIuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1zZXJpYWxpemVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBSWxFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBRTNFLGdCQUFnQjtBQUNoQixNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxDQUFPLEdBQTZCLEVBQUUsRUFBRSxDQUN0RSxpQkFBaUIsQ0FBQyxHQUFVLEVBQUUsc0JBQXNCLENBQUMsQ0FBQztBQUV4RDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBNERHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUE2QixpQkFBaUIsQ0FBQyxnQkFBdUIsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW1wbGljaXQkRmlyc3RBcmcgfSBmcm9tICcuLi9zaGFyZWQvcXJsL2ltcGxpY2l0X2RvbGxhcic7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsLnB1YmxpYyc7XG5pbXBvcnQgdHlwZSB7IFNlcmlhbGl6ZXJBcmcgfSBmcm9tICcuLi9yZWFjdGl2ZS1wcmltaXRpdmVzL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgY3JlYXRlU2VyaWFsaXplciQgfSBmcm9tICcuLi9yZWFjdGl2ZS1wcmltaXRpdmVzL3NpZ25hbC5wdWJsaWMnO1xuaW1wb3J0IHsgdXNlQ29tcHV0ZWRDb21tb24gfSBmcm9tICcuL3VzZS1jb21wdXRlZCc7XG5pbXBvcnQgeyBjcmVhdGVTZXJpYWxpemVyU2lnbmFsIH0gZnJvbSAnLi4vcmVhY3RpdmUtcHJpbWl0aXZlcy9zaWduYWwtYXBpJztcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHVzZVNlcmlhbGl6ZXJRcmwgPSA8VCwgUz4ocXJsOiBRUkw8U2VyaWFsaXplckFyZzxULCBTPj4pID0+XG4gIHVzZUNvbXB1dGVkQ29tbW9uKHFybCBhcyBhbnksIGNyZWF0ZVNlcmlhbGl6ZXJTaWduYWwpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBzaWduYWwgd2hpY2ggaG9sZHMgYSBjdXN0b20gc2VyaWFsaXphYmxlIHZhbHVlLiBJdCByZXF1aXJlcyB0aGF0IHRoZSB2YWx1ZSBpbXBsZW1lbnRzXG4gKiB0aGUgYEN1c3RvbVNlcmlhbGl6YWJsZWAgdHlwZSwgd2hpY2ggbWVhbnMgaGF2aW5nIGEgZnVuY3Rpb24gdW5kZXIgdGhlIGBbU2VyaWFsaXplU3ltYm9sXWBcbiAqIHByb3BlcnR5IHRoYXQgcmV0dXJucyBhIHNlcmlhbGl6YWJsZSB2YWx1ZSB3aGVuIGNhbGxlZC5cbiAqXG4gKiBUaGUgYGZuYCB5b3UgcGFzcyBpcyBjYWxsZWQgd2l0aCB0aGUgcmVzdWx0IG9mIHRoZSBzZXJpYWxpemF0aW9uIChpbiB0aGUgYnJvd3Nlciwgb25seSB3aGVuIHRoZVxuICogdmFsdWUgaXMgbmVlZGVkKSwgb3IgYHVuZGVmaW5lZGAgd2hlbiBub3QgeWV0IGluaXRpYWxpemVkLiBJZiB5b3UgcmVmZXIgdG8gb3RoZXIgc2lnbmFscywgYGZuYFxuICogd2lsbCBiZSBjYWxsZWQgd2hlbiB0aG9zZSBjaGFuZ2UganVzdCBsaWtlIGNvbXB1dGVkIHNpZ25hbHMsIGFuZCB0aGVuIHRoZSBhcmd1bWVudCB3aWxsIGJlIHRoZVxuICogcHJldmlvdXMgb3V0cHV0LCBub3QgdGhlIHNlcmlhbGl6ZWQgcmVzdWx0LlxuICpcbiAqIFRoaXMgaXMgdXNlZnVsIHdoZW4gdXNpbmcgdGhpcmQgcGFydHkgbGlicmFyaWVzIHRoYXQgdXNlIGN1c3RvbSBvYmplY3RzIHRoYXQgYXJlIG5vdFxuICogc2VyaWFsaXphYmxlLlxuICpcbiAqIE5vdGUgdGhhdCB0aGUgYGZuYCBpcyBjYWxsZWQgbGF6aWx5LCBzbyBpdCB3b24ndCBpbXBhY3QgY29udGFpbmVyIHJlc3VtZS5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYHRzeFxuICogY2xhc3MgTXlDdXN0b21TZXJpYWxpemFibGUge1xuICogICBjb25zdHJ1Y3RvcihwdWJsaWMgbjogbnVtYmVyKSB7fVxuICogICBpbmMoKSB7XG4gKiAgICAgdGhpcy5uKys7XG4gKiAgIH1cbiAqIH1cbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBjdXN0b20gPSB1c2VTZXJpYWxpemVyJCh7XG4gKiAgICAgZGVzZXJpYWxpemU6IChkYXRhKSA9PiBuZXcgTXlDdXN0b21TZXJpYWxpemFibGUoZGF0YSksXG4gKiAgICAgc2VyaWFsaXplOiAoZGF0YSkgPT4gZGF0YS5uLFxuICogICAgIGluaXRpYWw6IDIsXG4gKiAgIH0pO1xuICogICByZXR1cm4gPGRpdiBvbkNsaWNrJD17KCkgPT4gY3VzdG9tLnZhbHVlLmluYygpfT57Y3VzdG9tLnZhbHVlLm59PC9kaXY+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIFdoZW4gdXNpbmcgYSBTaWduYWwgYXMgdGhlIGRhdGEgdG8gY3JlYXRlIHRoZSBvYmplY3QsIHlvdSBuZWVkIHRvIHBhc3MgdGhlIGNvbmZpZ3VyYXRpb24gYXMgYVxuICogZnVuY3Rpb24sIGFuZCB5b3UgY2FuIHRoZW4gYWxzbyBwcm92aWRlIHRoZSBgdXBkYXRlYCBmdW5jdGlvbiB0byB1cGRhdGUgdGhlIG9iamVjdCB3aGVuIHRoZVxuICogc2lnbmFsIGNoYW5nZXMuXG4gKlxuICogQnkgcmV0dXJuaW5nIGFuIG9iamVjdCBmcm9tIGB1cGRhdGVgLCB5b3Ugc2lnbmFsIHRoYXQgdGhlIGxpc3RlbmVycyBoYXZlIHRvIGJlIG5vdGlmaWVkLiBZb3UgY2FuXG4gKiBtdXRhdGUgdGhlIGN1cnJlbnQgb2JqZWN0IGJ1dCB5b3Ugc2hvdWxkIHJldHVybiBpdCBzbyB0aGF0IGl0IHdpbGwgdHJpZ2dlciBsaXN0ZW5lcnMuXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3QgbiA9IHVzZVNpZ25hbCgyKTtcbiAqICAgY29uc3QgY3VzdG9tID0gdXNlU2VyaWFsaXplciQoKCkgPT5cbiAqICAgICAoe1xuICogICAgICAgZGVzZXJpYWxpemU6ICgpID0+IG5ldyBNeUN1c3RvbVNlcmlhbGl6YWJsZShuLnZhbHVlKSxcbiAqICAgICAgIHVwZGF0ZTogKGN1cnJlbnQpID0+IHtcbiAqICAgICAgICAgY3VycmVudC5uID0gbi52YWx1ZTtcbiAqICAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gKiAgICAgICB9XG4gKiAgICAgfSlcbiAqICAgKTtcbiAqICAgcmV0dXJuIDxkaXYgb25DbGljayQ9eygpID0+IG4udmFsdWUrK30+e2N1c3RvbS52YWx1ZS5ufTwvZGl2PjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgdXNlU2VyaWFsaXplciQ6IHR5cGVvZiBjcmVhdGVTZXJpYWxpemVyJCA9IGltcGxpY2l0JEZpcnN0QXJnKHVzZVNlcmlhbGl6ZXJRcmwgYXMgYW55KTtcbiJdfQ==","import { isServerPlatform } from '../shared/platform/platform';\nimport { createQRL } from '../shared/qrl/qrl-class';\nimport { assertQrl } from '../shared/qrl/qrl-utils';\nimport { useOn, useOnDocument } from './use-on';\nimport { useSequentialScope } from './use-sequential-scope';\nimport { Task, scheduleTask } from './use-task';\n/** @internal */\nexport const useVisibleTaskQrl = (qrl, opts) => {\n    const { val, set, i, iCtx } = useSequentialScope();\n    const eagerness = opts?.strategy ?? 'intersection-observer';\n    if (val) {\n        if (isServerPlatform()) {\n            useRunTask(val, eagerness);\n        }\n        return;\n    }\n    assertQrl(qrl);\n    const task = new Task(1 /* TaskFlags.VISIBLE_TASK */, i, iCtx.$hostElement$, qrl, undefined, null);\n    set(task);\n    useRunTask(task, eagerness);\n    if (!isServerPlatform()) {\n        qrl.resolve(iCtx.$element$);\n        iCtx.$container$.$scheduler$(16 /* ChoreType.VISIBLE */, task);\n    }\n};\nexport const useRunTask = (task, eagerness) => {\n    if (eagerness === 'intersection-observer') {\n        useOn('qvisible', getTaskHandlerQrl(task));\n    }\n    else if (eagerness === 'document-ready') {\n        useOnDocument('qinit', getTaskHandlerQrl(task));\n    }\n    else if (eagerness === 'document-idle') {\n        useOnDocument('qidle', getTaskHandlerQrl(task));\n    }\n};\nconst getTaskHandlerQrl = (task) => {\n    return createQRL(null, '_task', scheduleTask, null, null, [task]);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXZpc2libGUtdGFzay5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLXZpc2libGUtdGFzay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUMvRCxPQUFPLEVBQUUsU0FBUyxFQUFvQixNQUFNLHlCQUF5QixDQUFDO0FBQ3RFLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUdwRCxPQUFPLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUNoRCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUM1RCxPQUFPLEVBQUUsSUFBSSxFQUFhLFlBQVksRUFBZSxNQUFNLFlBQVksQ0FBQztBQW9CeEUsZ0JBQWdCO0FBQ2hCLE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFHLENBQUMsR0FBZ0IsRUFBRSxJQUEyQixFQUFRLEVBQUU7SUFDdkYsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxHQUFHLGtCQUFrQixFQUFnQixDQUFDO0lBQ2pFLE1BQU0sU0FBUyxHQUFHLElBQUksRUFBRSxRQUFRLElBQUksdUJBQXVCLENBQUM7SUFDNUQsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUNSLElBQUksZ0JBQWdCLEVBQUUsRUFBRSxDQUFDO1lBQ3ZCLFVBQVUsQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDN0IsQ0FBQztRQUNELE9BQU87SUFDVCxDQUFDO0lBQ0QsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBRWYsTUFBTSxJQUFJLEdBQUcsSUFBSSxJQUFJLGlDQUF5QixDQUFDLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNGLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNWLFVBQVUsQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDNUIsSUFBSSxDQUFDLGdCQUFnQixFQUFFLEVBQUUsQ0FBQztRQUN2QixHQUFtQixDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDN0MsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLDZCQUFvQixJQUFJLENBQUMsQ0FBQztJQUN4RCxDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQUMsSUFBVSxFQUFFLFNBQTBDLEVBQUUsRUFBRTtJQUNuRixJQUFJLFNBQVMsS0FBSyx1QkFBdUIsRUFBRSxDQUFDO1FBQzFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUM3QyxDQUFDO1NBQU0sSUFBSSxTQUFTLEtBQUssZ0JBQWdCLEVBQUUsQ0FBQztRQUMxQyxhQUFhLENBQUMsT0FBTyxFQUFFLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDbEQsQ0FBQztTQUFNLElBQUksU0FBUyxLQUFLLGVBQWUsRUFBRSxDQUFDO1FBQ3pDLGFBQWEsQ0FBQyxPQUFPLEVBQUUsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUNsRCxDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxpQkFBaUIsR0FBRyxDQUFDLElBQVUsRUFBcUIsRUFBRTtJQUMxRCxPQUFPLFNBQVMsQ0FBZSxJQUFJLEVBQUUsT0FBTyxFQUFFLFlBQVksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUNsRixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEV2ZW50SGFuZGxlciB9IGZyb20gJy4uL3NoYXJlZC9qc3gvdHlwZXMvanN4LXF3aWstYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBpc1NlcnZlclBsYXRmb3JtIH0gZnJvbSAnLi4vc2hhcmVkL3BsYXRmb3JtL3BsYXRmb3JtJztcbmltcG9ydCB7IGNyZWF0ZVFSTCwgdHlwZSBRUkxJbnRlcm5hbCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsLWNsYXNzJztcbmltcG9ydCB7IGFzc2VydFFybCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsLXV0aWxzJztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi4vc2hhcmVkL3FybC9xcmwucHVibGljJztcbmltcG9ydCB7IENob3JlVHlwZSB9IGZyb20gJy4uL3NoYXJlZC91dGlsLWNob3JlLXR5cGUnO1xuaW1wb3J0IHsgdXNlT24sIHVzZU9uRG9jdW1lbnQgfSBmcm9tICcuL3VzZS1vbic7XG5pbXBvcnQgeyB1c2VTZXF1ZW50aWFsU2NvcGUgfSBmcm9tICcuL3VzZS1zZXF1ZW50aWFsLXNjb3BlJztcbmltcG9ydCB7IFRhc2ssIFRhc2tGbGFncywgc2NoZWR1bGVUYXNrLCB0eXBlIFRhc2tGbiB9IGZyb20gJy4vdXNlLXRhc2snO1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IHR5cGUgVmlzaWJsZVRhc2tTdHJhdGVneSA9ICdpbnRlcnNlY3Rpb24tb2JzZXJ2ZXInIHwgJ2RvY3VtZW50LXJlYWR5JyB8ICdkb2N1bWVudC1pZGxlJztcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBpbnRlcmZhY2UgT25WaXNpYmxlVGFza09wdGlvbnMge1xuICAvKipcbiAgICogVGhlIHN0cmF0ZWd5IHRvIHVzZSB0byBkZXRlcm1pbmUgd2hlbiB0aGUgXCJWaXNpYmxlVGFza1wiIHNob3VsZCBmaXJzdCBleGVjdXRlLlxuICAgKlxuICAgKiAtIGBpbnRlcnNlY3Rpb24tb2JzZXJ2ZXJgOiB0aGUgdGFzayB3aWxsIGZpcnN0IGV4ZWN1dGUgd2hlbiB0aGUgZWxlbWVudCBpcyB2aXNpYmxlIGluIHRoZVxuICAgKiAgIHZpZXdwb3J0LCB1bmRlciB0aGUgaG9vZCBpdCB1c2VzIHRoZSBJbnRlcnNlY3Rpb25PYnNlcnZlciBBUEkuXG4gICAqIC0gYGRvY3VtZW50LXJlYWR5YDogdGhlIHRhc2sgd2lsbCBmaXJzdCBleGVjdXRlIHdoZW4gdGhlIGRvY3VtZW50IGlzIHJlYWR5LCB1bmRlciB0aGUgaG9vZCBpdFxuICAgKiAgIHVzZXMgdGhlIGRvY3VtZW50IGBsb2FkYCBldmVudC5cbiAgICogLSBgZG9jdW1lbnQtaWRsZWA6IHRoZSB0YXNrIHdpbGwgZmlyc3QgZXhlY3V0ZSB3aGVuIHRoZSBkb2N1bWVudCBpcyBpZGxlLCB1bmRlciB0aGUgaG9vZCBpdCB1c2VzXG4gICAqICAgdGhlIHJlcXVlc3RJZGxlQ2FsbGJhY2sgQVBJLlxuICAgKi9cbiAgc3RyYXRlZ3k/OiBWaXNpYmxlVGFza1N0cmF0ZWd5O1xufVxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgdXNlVmlzaWJsZVRhc2tRcmwgPSAocXJsOiBRUkw8VGFza0ZuPiwgb3B0cz86IE9uVmlzaWJsZVRhc2tPcHRpb25zKTogdm9pZCA9PiB7XG4gIGNvbnN0IHsgdmFsLCBzZXQsIGksIGlDdHggfSA9IHVzZVNlcXVlbnRpYWxTY29wZTxUYXNrPFRhc2tGbj4+KCk7XG4gIGNvbnN0IGVhZ2VybmVzcyA9IG9wdHM/LnN0cmF0ZWd5ID8/ICdpbnRlcnNlY3Rpb24tb2JzZXJ2ZXInO1xuICBpZiAodmFsKSB7XG4gICAgaWYgKGlzU2VydmVyUGxhdGZvcm0oKSkge1xuICAgICAgdXNlUnVuVGFzayh2YWwsIGVhZ2VybmVzcyk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBhc3NlcnRRcmwocXJsKTtcblxuICBjb25zdCB0YXNrID0gbmV3IFRhc2soVGFza0ZsYWdzLlZJU0lCTEVfVEFTSywgaSwgaUN0eC4kaG9zdEVsZW1lbnQkLCBxcmwsIHVuZGVmaW5lZCwgbnVsbCk7XG4gIHNldCh0YXNrKTtcbiAgdXNlUnVuVGFzayh0YXNrLCBlYWdlcm5lc3MpO1xuICBpZiAoIWlzU2VydmVyUGxhdGZvcm0oKSkge1xuICAgIChxcmwgYXMgUVJMSW50ZXJuYWwpLnJlc29sdmUoaUN0eC4kZWxlbWVudCQpO1xuICAgIGlDdHguJGNvbnRhaW5lciQuJHNjaGVkdWxlciQoQ2hvcmVUeXBlLlZJU0lCTEUsIHRhc2spO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgdXNlUnVuVGFzayA9ICh0YXNrOiBUYXNrLCBlYWdlcm5lc3M6IFZpc2libGVUYXNrU3RyYXRlZ3kgfCB1bmRlZmluZWQpID0+IHtcbiAgaWYgKGVhZ2VybmVzcyA9PT0gJ2ludGVyc2VjdGlvbi1vYnNlcnZlcicpIHtcbiAgICB1c2VPbigncXZpc2libGUnLCBnZXRUYXNrSGFuZGxlclFybCh0YXNrKSk7XG4gIH0gZWxzZSBpZiAoZWFnZXJuZXNzID09PSAnZG9jdW1lbnQtcmVhZHknKSB7XG4gICAgdXNlT25Eb2N1bWVudCgncWluaXQnLCBnZXRUYXNrSGFuZGxlclFybCh0YXNrKSk7XG4gIH0gZWxzZSBpZiAoZWFnZXJuZXNzID09PSAnZG9jdW1lbnQtaWRsZScpIHtcbiAgICB1c2VPbkRvY3VtZW50KCdxaWRsZScsIGdldFRhc2tIYW5kbGVyUXJsKHRhc2spKTtcbiAgfVxufTtcblxuY29uc3QgZ2V0VGFza0hhbmRsZXJRcmwgPSAodGFzazogVGFzayk6IFFSTDxFdmVudEhhbmRsZXI+ID0+IHtcbiAgcmV0dXJuIGNyZWF0ZVFSTDxFdmVudEhhbmRsZXI+KG51bGwsICdfdGFzaycsIHNjaGVkdWxlVGFzaywgbnVsbCwgbnVsbCwgW3Rhc2tdKTtcbn07XG4iXX0=","import { dollar } from '../shared/qrl/qrl.public';\nimport { useResourceQrl, } from './use-resource';\n// <docs markdown=\"../readme.md#useResource\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useResource instead and run `pnpm docs.sync`)\n/**\n * This method works like an async memoized function that runs whenever some tracked value changes\n * and returns some data.\n *\n * `useResource` however returns immediate a `ResourceReturn` object that contains the data and a\n * state that indicates if the data is available or not.\n *\n * The status can be one of the following:\n *\n * - `pending` - the data is not yet available.\n * - `resolved` - the data is available.\n * - `rejected` - the data is not available due to an error or timeout.\n *\n * Be careful when using a `try/catch` statement in `useResource$`. If you catch the error and don't\n * re-throw it (or a new Error), the resource status will never be `rejected`.\n *\n * ### Example\n *\n * Example showing how `useResource` to perform a fetch to request the weather, whenever the input\n * city name changes.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const cityS = useSignal('');\n *\n *   const weatherResource = useResource$(async ({ track, cleanup }) => {\n *     const cityName = track(cityS);\n *     const abortController = new AbortController();\n *     cleanup(() => abortController.abort('cleanup'));\n *     const res = await fetch(`http://weatherdata.com?city=${cityName}`, {\n *       signal: abortController.signal,\n *     });\n *     const data = await res.json();\n *     return data as { temp: number };\n *   });\n *\n *   return (\n *     <div>\n *       <input name=\"city\" bind:value={cityS} />\n *       <Resource\n *         value={weatherResource}\n *         onResolved={(weather) => {\n *           return <div>Temperature: {weather.temp}</div>;\n *         }}\n *       />\n *     </div>\n *   );\n * });\n * ```\n *\n * @public\n * @see Resource\n * @see ResourceReturn\n */\n// </docs>\nexport const useResource$ = (generatorFn, opts) => {\n    return useResourceQrl(dollar(generatorFn), opts);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXJlc291cmNlLWRvbGxhci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLXJlc291cmNlLWRvbGxhci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDbEQsT0FBTyxFQUNMLGNBQWMsR0FJZixNQUFNLGdCQUFnQixDQUFDO0FBRXhCLDZDQUE2QztBQUM3Qyx5Q0FBeUM7QUFDekMsbUVBQW1FO0FBQ25FOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXFERztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FDMUIsV0FBMEIsRUFDMUIsSUFBc0IsRUFDSCxFQUFFO0lBQ3JCLE9BQU8sY0FBYyxDQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN0RCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkb2xsYXIgfSBmcm9tICcuLi9zaGFyZWQvcXJsL3FybC5wdWJsaWMnO1xuaW1wb3J0IHtcbiAgdXNlUmVzb3VyY2VRcmwsXG4gIHR5cGUgUmVzb3VyY2VGbixcbiAgdHlwZSBSZXNvdXJjZU9wdGlvbnMsXG4gIHR5cGUgUmVzb3VyY2VSZXR1cm4sXG59IGZyb20gJy4vdXNlLXJlc291cmNlJztcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlUmVzb3VyY2VcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlUmVzb3VyY2UgaW5zdGVhZCBhbmQgcnVuIGBwbnBtIGRvY3Muc3luY2ApXG4vKipcbiAqIFRoaXMgbWV0aG9kIHdvcmtzIGxpa2UgYW4gYXN5bmMgbWVtb2l6ZWQgZnVuY3Rpb24gdGhhdCBydW5zIHdoZW5ldmVyIHNvbWUgdHJhY2tlZCB2YWx1ZSBjaGFuZ2VzXG4gKiBhbmQgcmV0dXJucyBzb21lIGRhdGEuXG4gKlxuICogYHVzZVJlc291cmNlYCBob3dldmVyIHJldHVybnMgaW1tZWRpYXRlIGEgYFJlc291cmNlUmV0dXJuYCBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgZGF0YSBhbmQgYVxuICogc3RhdGUgdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIGRhdGEgaXMgYXZhaWxhYmxlIG9yIG5vdC5cbiAqXG4gKiBUaGUgc3RhdHVzIGNhbiBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZzpcbiAqXG4gKiAtIGBwZW5kaW5nYCAtIHRoZSBkYXRhIGlzIG5vdCB5ZXQgYXZhaWxhYmxlLlxuICogLSBgcmVzb2x2ZWRgIC0gdGhlIGRhdGEgaXMgYXZhaWxhYmxlLlxuICogLSBgcmVqZWN0ZWRgIC0gdGhlIGRhdGEgaXMgbm90IGF2YWlsYWJsZSBkdWUgdG8gYW4gZXJyb3Igb3IgdGltZW91dC5cbiAqXG4gKiBCZSBjYXJlZnVsIHdoZW4gdXNpbmcgYSBgdHJ5L2NhdGNoYCBzdGF0ZW1lbnQgaW4gYHVzZVJlc291cmNlJGAuIElmIHlvdSBjYXRjaCB0aGUgZXJyb3IgYW5kIGRvbid0XG4gKiByZS10aHJvdyBpdCAob3IgYSBuZXcgRXJyb3IpLCB0aGUgcmVzb3VyY2Ugc3RhdHVzIHdpbGwgbmV2ZXIgYmUgYHJlamVjdGVkYC5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIEV4YW1wbGUgc2hvd2luZyBob3cgYHVzZVJlc291cmNlYCB0byBwZXJmb3JtIGEgZmV0Y2ggdG8gcmVxdWVzdCB0aGUgd2VhdGhlciwgd2hlbmV2ZXIgdGhlIGlucHV0XG4gKiBjaXR5IG5hbWUgY2hhbmdlcy5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBjaXR5UyA9IHVzZVNpZ25hbCgnJyk7XG4gKlxuICogICBjb25zdCB3ZWF0aGVyUmVzb3VyY2UgPSB1c2VSZXNvdXJjZSQoYXN5bmMgKHsgdHJhY2ssIGNsZWFudXAgfSkgPT4ge1xuICogICAgIGNvbnN0IGNpdHlOYW1lID0gdHJhY2soY2l0eVMpO1xuICogICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAqICAgICBjbGVhbnVwKCgpID0+IGFib3J0Q29udHJvbGxlci5hYm9ydCgnY2xlYW51cCcpKTtcbiAqICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgaHR0cDovL3dlYXRoZXJkYXRhLmNvbT9jaXR5PSR7Y2l0eU5hbWV9YCwge1xuICogICAgICAgc2lnbmFsOiBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICogICAgIH0pO1xuICogICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICogICAgIHJldHVybiBkYXRhIGFzIHsgdGVtcDogbnVtYmVyIH07XG4gKiAgIH0pO1xuICpcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAgPGlucHV0IG5hbWU9XCJjaXR5XCIgYmluZDp2YWx1ZT17Y2l0eVN9IC8+XG4gKiAgICAgICA8UmVzb3VyY2VcbiAqICAgICAgICAgdmFsdWU9e3dlYXRoZXJSZXNvdXJjZX1cbiAqICAgICAgICAgb25SZXNvbHZlZD17KHdlYXRoZXIpID0+IHtcbiAqICAgICAgICAgICByZXR1cm4gPGRpdj5UZW1wZXJhdHVyZToge3dlYXRoZXIudGVtcH08L2Rpdj47XG4gKiAgICAgICAgIH19XG4gKiAgICAgICAvPlxuICogICAgIDwvZGl2PlxuICogICApO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKiBAc2VlIFJlc291cmNlXG4gKiBAc2VlIFJlc291cmNlUmV0dXJuXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VSZXNvdXJjZSQgPSA8VD4oXG4gIGdlbmVyYXRvckZuOiBSZXNvdXJjZUZuPFQ+LFxuICBvcHRzPzogUmVzb3VyY2VPcHRpb25zXG4pOiBSZXNvdXJjZVJldHVybjxUPiA9PiB7XG4gIHJldHVybiB1c2VSZXNvdXJjZVFybDxUPihkb2xsYXIoZ2VuZXJhdG9yRm4pLCBvcHRzKTtcbn07XG4iXX0=","import { implicit$FirstArg } from '../shared/qrl/implicit_dollar';\nimport { useTaskQrl } from './use-task';\n// <docs markdown=\"../readme.md#useTask\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useTask instead and run `pnpm docs.sync`)\n/**\n * Reruns the `taskFn` when the observed inputs change.\n *\n * Use `useTask` to observe changes on a set of inputs, and then re-execute the `taskFn` when those\n * inputs change.\n *\n * The `taskFn` only executes if the observed inputs change. To observe the inputs, use the `obs`\n * function to wrap property reads. This creates subscriptions that will trigger the `taskFn` to\n * rerun.\n *\n * @param task - Function which should be re-executed when changes to the inputs are detected\n * @public\n *\n * ### Example\n *\n * The `useTask` function is used to observe the `store.count` property. Any changes to the\n * `store.count` cause the `taskFn` to execute which in turn updates the `store.doubleCount` to\n * the double of `store.count`.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *     doubleCount: 0,\n *     debounced: 0,\n *   });\n *\n *   // Double count task\n *   useTask$(({ track }) => {\n *     const count = track(() => store.count);\n *     store.doubleCount = 2 * count;\n *   });\n *\n *   // Debouncer task\n *   useTask$(({ track }) => {\n *     const doubleCount = track(() => store.doubleCount);\n *     const timer = setTimeout(() => {\n *       store.debounced = doubleCount;\n *     }, 2000);\n *     return () => {\n *       clearTimeout(timer);\n *     };\n *   });\n *   return (\n *     <div>\n *       <div>\n *         {store.count} / {store.doubleCount}\n *       </div>\n *       <div>{store.debounced}</div>\n *     </div>\n *   );\n * });\n * ```\n *\n * @public\n * @see `Tracker`\n */\n// </docs>\n// We need to cast to help out the api extractor\nexport const useTask$ = /*#__PURE__*/ implicit$FirstArg(useTaskQrl);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXRhc2stZG9sbGFyLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtdGFzay1kb2xsYXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFDbEUsT0FBTyxFQUFFLFVBQVUsRUFBZSxNQUFNLFlBQVksQ0FBQztBQUVyRCx5Q0FBeUM7QUFDekMseUNBQXlDO0FBQ3pDLCtEQUErRDtBQUMvRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0F3REc7QUFDSCxVQUFVO0FBQ1YsZ0RBQWdEO0FBQ2hELE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxhQUFhLENBQUMsaUJBQWlCLENBQUMsVUFBVSxDQUF5QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW1wbGljaXQkRmlyc3RBcmcgfSBmcm9tICcuLi9zaGFyZWQvcXJsL2ltcGxpY2l0X2RvbGxhcic7XG5pbXBvcnQgeyB1c2VUYXNrUXJsLCB0eXBlIFRhc2tGbiB9IGZyb20gJy4vdXNlLXRhc2snO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VUYXNrXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVRhc2sgaW5zdGVhZCBhbmQgcnVuIGBwbnBtIGRvY3Muc3luY2ApXG4vKipcbiAqIFJlcnVucyB0aGUgYHRhc2tGbmAgd2hlbiB0aGUgb2JzZXJ2ZWQgaW5wdXRzIGNoYW5nZS5cbiAqXG4gKiBVc2UgYHVzZVRhc2tgIHRvIG9ic2VydmUgY2hhbmdlcyBvbiBhIHNldCBvZiBpbnB1dHMsIGFuZCB0aGVuIHJlLWV4ZWN1dGUgdGhlIGB0YXNrRm5gIHdoZW4gdGhvc2VcbiAqIGlucHV0cyBjaGFuZ2UuXG4gKlxuICogVGhlIGB0YXNrRm5gIG9ubHkgZXhlY3V0ZXMgaWYgdGhlIG9ic2VydmVkIGlucHV0cyBjaGFuZ2UuIFRvIG9ic2VydmUgdGhlIGlucHV0cywgdXNlIHRoZSBgb2JzYFxuICogZnVuY3Rpb24gdG8gd3JhcCBwcm9wZXJ0eSByZWFkcy4gVGhpcyBjcmVhdGVzIHN1YnNjcmlwdGlvbnMgdGhhdCB3aWxsIHRyaWdnZXIgdGhlIGB0YXNrRm5gIHRvXG4gKiByZXJ1bi5cbiAqXG4gKiBAcGFyYW0gdGFzayAtIEZ1bmN0aW9uIHdoaWNoIHNob3VsZCBiZSByZS1leGVjdXRlZCB3aGVuIGNoYW5nZXMgdG8gdGhlIGlucHV0cyBhcmUgZGV0ZWN0ZWRcbiAqIEBwdWJsaWNcbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIFRoZSBgdXNlVGFza2AgZnVuY3Rpb24gaXMgdXNlZCB0byBvYnNlcnZlIHRoZSBgc3RvcmUuY291bnRgIHByb3BlcnR5LiBBbnkgY2hhbmdlcyB0byB0aGVcbiAqIGBzdG9yZS5jb3VudGAgY2F1c2UgdGhlIGB0YXNrRm5gIHRvIGV4ZWN1dGUgd2hpY2ggaW4gdHVybiB1cGRhdGVzIHRoZSBgc3RvcmUuZG91YmxlQ291bnRgIHRvXG4gKiB0aGUgZG91YmxlIG9mIGBzdG9yZS5jb3VudGAuXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh7XG4gKiAgICAgY291bnQ6IDAsXG4gKiAgICAgZG91YmxlQ291bnQ6IDAsXG4gKiAgICAgZGVib3VuY2VkOiAwLFxuICogICB9KTtcbiAqXG4gKiAgIC8vIERvdWJsZSBjb3VudCB0YXNrXG4gKiAgIHVzZVRhc2skKCh7IHRyYWNrIH0pID0+IHtcbiAqICAgICBjb25zdCBjb3VudCA9IHRyYWNrKCgpID0+IHN0b3JlLmNvdW50KTtcbiAqICAgICBzdG9yZS5kb3VibGVDb3VudCA9IDIgKiBjb3VudDtcbiAqICAgfSk7XG4gKlxuICogICAvLyBEZWJvdW5jZXIgdGFza1xuICogICB1c2VUYXNrJCgoeyB0cmFjayB9KSA9PiB7XG4gKiAgICAgY29uc3QgZG91YmxlQ291bnQgPSB0cmFjaygoKSA9PiBzdG9yZS5kb3VibGVDb3VudCk7XG4gKiAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAqICAgICAgIHN0b3JlLmRlYm91bmNlZCA9IGRvdWJsZUNvdW50O1xuICogICAgIH0sIDIwMDApO1xuICogICAgIHJldHVybiAoKSA9PiB7XG4gKiAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICogICAgIH07XG4gKiAgIH0pO1xuICogICByZXR1cm4gKFxuICogICAgIDxkaXY+XG4gKiAgICAgICA8ZGl2PlxuICogICAgICAgICB7c3RvcmUuY291bnR9IC8ge3N0b3JlLmRvdWJsZUNvdW50fVxuICogICAgICAgPC9kaXY+XG4gKiAgICAgICA8ZGl2PntzdG9yZS5kZWJvdW5jZWR9PC9kaXY+XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqIEBzZWUgYFRyYWNrZXJgXG4gKi9cbi8vIDwvZG9jcz5cbi8vIFdlIG5lZWQgdG8gY2FzdCB0byBoZWxwIG91dCB0aGUgYXBpIGV4dHJhY3RvclxuZXhwb3J0IGNvbnN0IHVzZVRhc2skID0gLyojX19QVVJFX18qLyBpbXBsaWNpdCRGaXJzdEFyZyh1c2VUYXNrUXJsKSBhcyAoZm46IFRhc2tGbikgPT4gdm9pZDtcbiJdfQ==","import { implicit$FirstArg } from '../shared/qrl/implicit_dollar';\nimport { useVisibleTaskQrl } from './use-visible-task';\n// <docs markdown=\"../readme.md#useVisibleTask\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useVisibleTask instead and run `pnpm docs.sync`)\n/**\n * ```tsx\n * const Timer = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *   });\n *\n *   useVisibleTask$(() => {\n *     // Only runs in the client\n *     const timer = setInterval(() => {\n *       store.count++;\n *     }, 500);\n *     return () => {\n *       clearInterval(timer);\n *     };\n *   });\n *\n *   return <div>{store.count}</div>;\n * });\n * ```\n *\n * @public\n */\n// </docs>\n// We need to cast to help out the api extractor\nexport const useVisibleTask$ = /*#__PURE__*/ implicit$FirstArg(useVisibleTaskQrl);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXZpc2libGUtdGFzay1kb2xsYXIuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS12aXNpYmxlLXRhc2stZG9sbGFyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBRWxFLE9BQU8sRUFBRSxpQkFBaUIsRUFBNkIsTUFBTSxvQkFBb0IsQ0FBQztBQUVsRixnREFBZ0Q7QUFDaEQseUNBQXlDO0FBQ3pDLHNFQUFzRTtBQUN0RTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXNCRztBQUNILFVBQVU7QUFDVixnREFBZ0Q7QUFDaEQsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxpQkFBaUIsQ0FHdkUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGltcGxpY2l0JEZpcnN0QXJnIH0gZnJvbSAnLi4vc2hhcmVkL3FybC9pbXBsaWNpdF9kb2xsYXInO1xuaW1wb3J0IHR5cGUgeyBUYXNrRm4gfSBmcm9tICcuL3VzZS10YXNrJztcbmltcG9ydCB7IHVzZVZpc2libGVUYXNrUXJsLCB0eXBlIE9uVmlzaWJsZVRhc2tPcHRpb25zIH0gZnJvbSAnLi91c2UtdmlzaWJsZS10YXNrJztcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlVmlzaWJsZVRhc2tcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlVmlzaWJsZVRhc2sgaW5zdGVhZCBhbmQgcnVuIGBwbnBtIGRvY3Muc3luY2ApXG4vKipcbiAqIGBgYHRzeFxuICogY29uc3QgVGltZXIgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh7XG4gKiAgICAgY291bnQ6IDAsXG4gKiAgIH0pO1xuICpcbiAqICAgdXNlVmlzaWJsZVRhc2skKCgpID0+IHtcbiAqICAgICAvLyBPbmx5IHJ1bnMgaW4gdGhlIGNsaWVudFxuICogICAgIGNvbnN0IHRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICogICAgICAgc3RvcmUuY291bnQrKztcbiAqICAgICB9LCA1MDApO1xuICogICAgIHJldHVybiAoKSA9PiB7XG4gKiAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcbiAqICAgICB9O1xuICogICB9KTtcbiAqXG4gKiAgIHJldHVybiA8ZGl2PntzdG9yZS5jb3VudH08L2Rpdj47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuLy8gV2UgbmVlZCB0byBjYXN0IHRvIGhlbHAgb3V0IHRoZSBhcGkgZXh0cmFjdG9yXG5leHBvcnQgY29uc3QgdXNlVmlzaWJsZVRhc2skID0gLyojX19QVVJFX18qLyBpbXBsaWNpdCRGaXJzdEFyZyh1c2VWaXNpYmxlVGFza1FybCkgYXMgKFxuICBmbjogVGFza0ZuLFxuICBvcHRzPzogT25WaXNpYmxlVGFza09wdGlvbnNcbikgPT4gdm9pZDtcbiJdfQ==","import { createAsyncComputedSignal } from '../reactive-primitives/signal-api';\nimport { implicit$FirstArg } from '../shared/qrl/implicit_dollar';\nimport { useComputedCommon } from './use-computed';\n/** @internal */\nexport const useAsyncComputedQrl = (qrl, options) => {\n    return useComputedCommon(qrl, createAsyncComputedSignal, options);\n};\n/**\n * Creates a computed signal which is calculated from the given function. A computed signal is a\n * signal which is calculated from other signals. When the signals change, the computed signal is\n * recalculated, and if the result changed, all tasks which are tracking the signal will be re-run\n * and all components that read the signal will be re-rendered.\n *\n * The function must be synchronous and must not have any side effects.\n *\n * @public\n */\nexport const useAsyncComputed$ = implicit$FirstArg(useAsyncComputedQrl);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWFzeW5jLWNvbXB1dGVkLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtYXN5bmMtY29tcHV0ZWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLHlCQUF5QixFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFHOUUsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFFbEUsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFRbkQsZ0JBQWdCO0FBQ2hCLE1BQU0sQ0FBQyxNQUFNLG1CQUFtQixHQUFHLENBQ2pDLEdBQTRCLEVBQzVCLE9BQXlCLEVBQ0csRUFBRTtJQUM5QixPQUFPLGlCQUFpQixDQUFDLEdBQUcsRUFBRSx5QkFBeUIsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUNwRSxDQUFDLENBQUM7QUFFRjs7Ozs7Ozs7O0dBU0c7QUFDSCxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBRyxpQkFBaUIsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQXN5bmNDb21wdXRlZFNpZ25hbCB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvc2lnbmFsLWFwaSc7XG5pbXBvcnQgeyB0eXBlIEFzeW5jQ29tcHV0ZWRSZWFkb25seVNpZ25hbCB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvc2lnbmFsLnB1YmxpYyc7XG5pbXBvcnQgdHlwZSB7IEFzeW5jQ29tcHV0ZWRDdHgsIENvbXB1dGVkT3B0aW9ucyB9IGZyb20gJy4uL3JlYWN0aXZlLXByaW1pdGl2ZXMvdHlwZXMnO1xuaW1wb3J0IHsgaW1wbGljaXQkRmlyc3RBcmcgfSBmcm9tICcuLi9zaGFyZWQvcXJsL2ltcGxpY2l0X2RvbGxhcic7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4uL3NoYXJlZC9xcmwvcXJsLnB1YmxpYyc7XG5pbXBvcnQgeyB1c2VDb21wdXRlZENvbW1vbiB9IGZyb20gJy4vdXNlLWNvbXB1dGVkJztcblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCB0eXBlIEFzeW5jQ29tcHV0ZWRGbjxUPiA9IChjdHg6IEFzeW5jQ29tcHV0ZWRDdHgpID0+IFByb21pc2U8VD47XG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IHR5cGUgQXN5bmNDb21wdXRlZFJldHVyblR5cGU8VD4gPVxuICBUIGV4dGVuZHMgUHJvbWlzZTxpbmZlciBUPiA/IEFzeW5jQ29tcHV0ZWRSZWFkb25seVNpZ25hbDxUPiA6IEFzeW5jQ29tcHV0ZWRSZWFkb25seVNpZ25hbDxUPjtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHVzZUFzeW5jQ29tcHV0ZWRRcmwgPSA8VD4oXG4gIHFybDogUVJMPEFzeW5jQ29tcHV0ZWRGbjxUPj4sXG4gIG9wdGlvbnM/OiBDb21wdXRlZE9wdGlvbnNcbik6IEFzeW5jQ29tcHV0ZWRSZXR1cm5UeXBlPFQ+ID0+IHtcbiAgcmV0dXJuIHVzZUNvbXB1dGVkQ29tbW9uKHFybCwgY3JlYXRlQXN5bmNDb21wdXRlZFNpZ25hbCwgb3B0aW9ucyk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjb21wdXRlZCBzaWduYWwgd2hpY2ggaXMgY2FsY3VsYXRlZCBmcm9tIHRoZSBnaXZlbiBmdW5jdGlvbi4gQSBjb21wdXRlZCBzaWduYWwgaXMgYVxuICogc2lnbmFsIHdoaWNoIGlzIGNhbGN1bGF0ZWQgZnJvbSBvdGhlciBzaWduYWxzLiBXaGVuIHRoZSBzaWduYWxzIGNoYW5nZSwgdGhlIGNvbXB1dGVkIHNpZ25hbCBpc1xuICogcmVjYWxjdWxhdGVkLCBhbmQgaWYgdGhlIHJlc3VsdCBjaGFuZ2VkLCBhbGwgdGFza3Mgd2hpY2ggYXJlIHRyYWNraW5nIHRoZSBzaWduYWwgd2lsbCBiZSByZS1ydW5cbiAqIGFuZCBhbGwgY29tcG9uZW50cyB0aGF0IHJlYWQgdGhlIHNpZ25hbCB3aWxsIGJlIHJlLXJlbmRlcmVkLlxuICpcbiAqIFRoZSBmdW5jdGlvbiBtdXN0IGJlIHN5bmNocm9ub3VzIGFuZCBtdXN0IG5vdCBoYXZlIGFueSBzaWRlIGVmZmVjdHMuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgdXNlQXN5bmNDb21wdXRlZCQgPSBpbXBsaWNpdCRGaXJzdEFyZyh1c2VBc3luY0NvbXB1dGVkUXJsKTtcbiJdfQ==","import { ERROR_CONTEXT } from '../shared/error/error-handling';\nimport { useContextProvider } from './use-context';\nimport { useStore } from './use-store.public';\n/** @public */\nexport const useErrorBoundary = () => {\n    const error = useStore({ error: undefined });\n    useContextProvider(ERROR_CONTEXT, error);\n    return error;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWVycm9yLWJvdW5kYXJ5LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtZXJyb3ItYm91bmRhcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGFBQWEsRUFBMkIsTUFBTSxnQ0FBZ0MsQ0FBQztBQUN4RixPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDbkQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBRTlDLGNBQWM7QUFDZCxNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxHQUFHLEVBQUU7SUFDbkMsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFxQixFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFDO0lBQ2pFLGtCQUFrQixDQUFDLGFBQWEsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUV6QyxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVSUk9SX0NPTlRFWFQsIHR5cGUgRXJyb3JCb3VuZGFyeVN0b3JlIH0gZnJvbSAnLi4vc2hhcmVkL2Vycm9yL2Vycm9yLWhhbmRsaW5nJztcbmltcG9ydCB7IHVzZUNvbnRleHRQcm92aWRlciB9IGZyb20gJy4vdXNlLWNvbnRleHQnO1xuaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICcuL3VzZS1zdG9yZS5wdWJsaWMnO1xuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGNvbnN0IHVzZUVycm9yQm91bmRhcnkgPSAoKSA9PiB7XG4gIGNvbnN0IGVycm9yID0gdXNlU3RvcmU8RXJyb3JCb3VuZGFyeVN0b3JlPih7IGVycm9yOiB1bmRlZmluZWQgfSk7XG4gIHVzZUNvbnRleHRQcm92aWRlcihFUlJPUl9DT05URVhULCBlcnJvcik7XG5cbiAgcmV0dXJuIGVycm9yO1xufTtcbiJdfQ==","// keep this import from core/build so the cjs build works\nimport { isDev } from '@qwik.dev/core/build';\nimport { _jsxSorted } from '../../internal';\n/**\n * @deprecated This is no longer needed as the preloading happens automatically in qrl-class.ts.\n *   Leave this in your app for a while so it uninstalls existing service workers, but don't use it\n *   for new projects.\n * @alpha\n */\nexport const PrefetchServiceWorker = (opts) => {\n    const isTest = import.meta.env.TEST;\n    if (isDev && !isTest) {\n        const props = {\n            dangerouslySetInnerHTML: '<!-- PrefetchServiceWorker is disabled in dev mode. -->',\n        };\n        return _jsxSorted('script', null, props, null, 0, 'prefetch-service-worker');\n    }\n    // if an MFE app has a custom BASE_URL then this will be the correct value\n    // if you're not using MFE from another codebase then you want to override this value to your custom setup\n    const baseUrl = import.meta.env.BASE_URL || '/';\n    const resolvedOpts = {\n        path: 'qwik-prefetch-service-worker.js',\n        ...opts,\n    };\n    if (opts?.path?.startsWith?.('/')) {\n        // allow different path and base\n        resolvedOpts.path = opts.path;\n    }\n    else {\n        // baseUrl: '/'\n        // path: 'qwik-prefetch-service-worker.js'\n        // the file 'qwik-prefetch-service-worker.js' is not located in /build/\n        resolvedOpts.path = baseUrl + resolvedOpts.path;\n    }\n    let code = PREFETCH_CODE.replace('\"_URL_\"', JSON.stringify(resolvedOpts.path.split('/').pop()));\n    if (!isDev) {\n        // consecutive spaces are indentation\n        code = code.replaceAll(/\\s\\s+/gm, '');\n    }\n    const props = {\n        dangerouslySetInnerHTML: [\n            '(' + code + ')(',\n            [\n                'navigator.serviceWorker', // Service worker container\n            ].join(','),\n            ');',\n        ].join(''),\n        nonce: resolvedOpts.nonce,\n    };\n    return _jsxSorted('script', null, props, null, 0, 'prefetch-service-worker');\n};\nconst PREFETCH_CODE = /*#__PURE__*/ ((c // Service worker container\n) => {\n    if ('getRegistrations' in c) {\n        c.getRegistrations().then((registrations) => {\n            registrations.forEach((registration) => {\n                if (registration.active) {\n                    if (registration.active.scriptURL.endsWith('_URL_')) {\n                        registration.unregister().catch(console.error);\n                    }\n                }\n            });\n        });\n    }\n    if ('caches' in window) {\n        caches\n            .keys()\n            .then((names) => {\n            const cacheName = names.find((name) => name.startsWith('QwikBundles'));\n            if (cacheName) {\n                caches.delete(cacheName).catch(console.error);\n            }\n        })\n            .catch(console.error);\n    }\n}).toString();\n/**\n * @deprecated This is no longer needed as the preloading happens automatically in qrl-class. You\n *   can remove this component from your app.\n * @alpha\n */\nexport const PrefetchGraph = (_opts = {}) => null;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlZmV0Y2guanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc2hhcmVkL3ByZWZldGNoLXNlcnZpY2Utd29ya2VyL3ByZWZldGNoLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDBEQUEwRDtBQUMxRCxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDN0MsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRzVDOzs7OztHQUtHO0FBQ0gsTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBQUcsQ0FBQyxJQU9yQyxFQUFhLEVBQUU7SUFDZCxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7SUFDcEMsSUFBSSxLQUFLLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNyQixNQUFNLEtBQUssR0FBRztZQUNaLHVCQUF1QixFQUFFLHlEQUF5RDtTQUNuRixDQUFDO1FBQ0YsT0FBTyxVQUFVLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSx5QkFBeUIsQ0FBQyxDQUFDO0lBQy9FLENBQUM7SUFFRCwwRUFBMEU7SUFDMUUsMEdBQTBHO0lBQzFHLE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsSUFBSSxHQUFHLENBQUM7SUFDaEQsTUFBTSxZQUFZLEdBQUc7UUFDbkIsSUFBSSxFQUFFLGlDQUFpQztRQUN2QyxHQUFHLElBQUk7S0FDUixDQUFDO0lBQ0YsSUFBSSxJQUFJLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7UUFDbEMsZ0NBQWdDO1FBQ2hDLFlBQVksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztJQUNoQyxDQUFDO1NBQU0sQ0FBQztRQUNOLGVBQWU7UUFDZiwwQ0FBMEM7UUFDMUMsdUVBQXVFO1FBQ3ZFLFlBQVksQ0FBQyxJQUFJLEdBQUcsT0FBTyxHQUFHLFlBQVksQ0FBQyxJQUFJLENBQUM7SUFDbEQsQ0FBQztJQUNELElBQUksSUFBSSxHQUFHLGFBQWEsQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2hHLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNYLHFDQUFxQztRQUNyQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUNELE1BQU0sS0FBSyxHQUFHO1FBQ1osdUJBQXVCLEVBQUU7WUFDdkIsR0FBRyxHQUFHLElBQUksR0FBRyxJQUFJO1lBQ2pCO2dCQUNFLHlCQUF5QixFQUFFLDJCQUEyQjthQUN2RCxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7WUFDWCxJQUFJO1NBQ0wsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQ1YsS0FBSyxFQUFFLFlBQVksQ0FBQyxLQUFLO0tBQzFCLENBQUM7SUFDRixPQUFPLFVBQVUsQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLHlCQUF5QixDQUFDLENBQUM7QUFDL0UsQ0FBQyxDQUFDO0FBRUYsTUFBTSxhQUFhLEdBQUcsYUFBYSxDQUFDLENBQUMsQ0FDbkMsQ0FBeUIsQ0FBQywyQkFBMkI7RUFDckQsRUFBRTtJQUNGLElBQUksa0JBQWtCLElBQUksQ0FBQyxFQUFFLENBQUM7UUFDNUIsQ0FBQyxDQUFDLGdCQUFnQixFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsYUFBYSxFQUFFLEVBQUU7WUFDMUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksRUFBRSxFQUFFO2dCQUNyQyxJQUFJLFlBQVksQ0FBQyxNQUFNLEVBQUUsQ0FBQztvQkFDeEIsSUFBSSxZQUFZLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQzt3QkFDcEQsWUFBWSxDQUFDLFVBQVUsRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQ2pELENBQUM7Z0JBQ0gsQ0FBQztZQUNILENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBQ0QsSUFBSSxRQUFRLElBQUksTUFBTSxFQUFFLENBQUM7UUFDdkIsTUFBTTthQUNILElBQUksRUFBRTthQUNOLElBQUksQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFO1lBQ2QsTUFBTSxTQUFTLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO1lBQ3ZFLElBQUksU0FBUyxFQUFFLENBQUM7Z0JBQ2QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2hELENBQUM7UUFDSCxDQUFDLENBQUM7YUFDRCxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzFCLENBQUM7QUFDSCxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztBQUVkOzs7O0dBSUc7QUFDSCxNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsQ0FDM0IsUUFBd0YsRUFBRSxFQUMvRSxFQUFFLENBQUMsSUFBSSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8ga2VlcCB0aGlzIGltcG9ydCBmcm9tIGNvcmUvYnVpbGQgc28gdGhlIGNqcyBidWlsZCB3b3Jrc1xuaW1wb3J0IHsgaXNEZXYgfSBmcm9tICdAcXdpay5kZXYvY29yZS9idWlsZCc7XG5pbXBvcnQgeyBfanN4U29ydGVkIH0gZnJvbSAnLi4vLi4vaW50ZXJuYWwnO1xuaW1wb3J0IHR5cGUgeyBKU1hPdXRwdXQgfSBmcm9tICcuLi9qc3gvdHlwZXMvanN4LW5vZGUnO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFRoaXMgaXMgbm8gbG9uZ2VyIG5lZWRlZCBhcyB0aGUgcHJlbG9hZGluZyBoYXBwZW5zIGF1dG9tYXRpY2FsbHkgaW4gcXJsLWNsYXNzLnRzLlxuICogICBMZWF2ZSB0aGlzIGluIHlvdXIgYXBwIGZvciBhIHdoaWxlIHNvIGl0IHVuaW5zdGFsbHMgZXhpc3Rpbmcgc2VydmljZSB3b3JrZXJzLCBidXQgZG9uJ3QgdXNlIGl0XG4gKiAgIGZvciBuZXcgcHJvamVjdHMuXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGNvbnN0IFByZWZldGNoU2VydmljZVdvcmtlciA9IChvcHRzOiB7XG4gIGJhc2U/OiBzdHJpbmc7XG4gIHNjb3BlPzogc3RyaW5nO1xuICBwYXRoPzogc3RyaW5nO1xuICB2ZXJib3NlPzogYm9vbGVhbjtcbiAgZmV0Y2hCdW5kbGVHcmFwaD86IGJvb2xlYW47XG4gIG5vbmNlPzogc3RyaW5nO1xufSk6IEpTWE91dHB1dCA9PiB7XG4gIGNvbnN0IGlzVGVzdCA9IGltcG9ydC5tZXRhLmVudi5URVNUO1xuICBpZiAoaXNEZXYgJiYgIWlzVGVzdCkge1xuICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6ICc8IS0tIFByZWZldGNoU2VydmljZVdvcmtlciBpcyBkaXNhYmxlZCBpbiBkZXYgbW9kZS4gLS0+JyxcbiAgICB9O1xuICAgIHJldHVybiBfanN4U29ydGVkKCdzY3JpcHQnLCBudWxsLCBwcm9wcywgbnVsbCwgMCwgJ3ByZWZldGNoLXNlcnZpY2Utd29ya2VyJyk7XG4gIH1cblxuICAvLyBpZiBhbiBNRkUgYXBwIGhhcyBhIGN1c3RvbSBCQVNFX1VSTCB0aGVuIHRoaXMgd2lsbCBiZSB0aGUgY29ycmVjdCB2YWx1ZVxuICAvLyBpZiB5b3UncmUgbm90IHVzaW5nIE1GRSBmcm9tIGFub3RoZXIgY29kZWJhc2UgdGhlbiB5b3Ugd2FudCB0byBvdmVycmlkZSB0aGlzIHZhbHVlIHRvIHlvdXIgY3VzdG9tIHNldHVwXG4gIGNvbnN0IGJhc2VVcmwgPSBpbXBvcnQubWV0YS5lbnYuQkFTRV9VUkwgfHwgJy8nO1xuICBjb25zdCByZXNvbHZlZE9wdHMgPSB7XG4gICAgcGF0aDogJ3F3aWstcHJlZmV0Y2gtc2VydmljZS13b3JrZXIuanMnLFxuICAgIC4uLm9wdHMsXG4gIH07XG4gIGlmIChvcHRzPy5wYXRoPy5zdGFydHNXaXRoPy4oJy8nKSkge1xuICAgIC8vIGFsbG93IGRpZmZlcmVudCBwYXRoIGFuZCBiYXNlXG4gICAgcmVzb2x2ZWRPcHRzLnBhdGggPSBvcHRzLnBhdGg7XG4gIH0gZWxzZSB7XG4gICAgLy8gYmFzZVVybDogJy8nXG4gICAgLy8gcGF0aDogJ3F3aWstcHJlZmV0Y2gtc2VydmljZS13b3JrZXIuanMnXG4gICAgLy8gdGhlIGZpbGUgJ3F3aWstcHJlZmV0Y2gtc2VydmljZS13b3JrZXIuanMnIGlzIG5vdCBsb2NhdGVkIGluIC9idWlsZC9cbiAgICByZXNvbHZlZE9wdHMucGF0aCA9IGJhc2VVcmwgKyByZXNvbHZlZE9wdHMucGF0aDtcbiAgfVxuICBsZXQgY29kZSA9IFBSRUZFVENIX0NPREUucmVwbGFjZSgnXCJfVVJMX1wiJywgSlNPTi5zdHJpbmdpZnkocmVzb2x2ZWRPcHRzLnBhdGguc3BsaXQoJy8nKS5wb3AoKSkpO1xuICBpZiAoIWlzRGV2KSB7XG4gICAgLy8gY29uc2VjdXRpdmUgc3BhY2VzIGFyZSBpbmRlbnRhdGlvblxuICAgIGNvZGUgPSBjb2RlLnJlcGxhY2VBbGwoL1xcc1xccysvZ20sICcnKTtcbiAgfVxuICBjb25zdCBwcm9wcyA9IHtcbiAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDogW1xuICAgICAgJygnICsgY29kZSArICcpKCcsXG4gICAgICBbXG4gICAgICAgICduYXZpZ2F0b3Iuc2VydmljZVdvcmtlcicsIC8vIFNlcnZpY2Ugd29ya2VyIGNvbnRhaW5lclxuICAgICAgXS5qb2luKCcsJyksXG4gICAgICAnKTsnLFxuICAgIF0uam9pbignJyksXG4gICAgbm9uY2U6IHJlc29sdmVkT3B0cy5ub25jZSxcbiAgfTtcbiAgcmV0dXJuIF9qc3hTb3J0ZWQoJ3NjcmlwdCcsIG51bGwsIHByb3BzLCBudWxsLCAwLCAncHJlZmV0Y2gtc2VydmljZS13b3JrZXInKTtcbn07XG5cbmNvbnN0IFBSRUZFVENIX0NPREUgPSAvKiNfX1BVUkVfXyovICgoXG4gIGM6IFNlcnZpY2VXb3JrZXJDb250YWluZXIgLy8gU2VydmljZSB3b3JrZXIgY29udGFpbmVyXG4pID0+IHtcbiAgaWYgKCdnZXRSZWdpc3RyYXRpb25zJyBpbiBjKSB7XG4gICAgYy5nZXRSZWdpc3RyYXRpb25zKCkudGhlbigocmVnaXN0cmF0aW9ucykgPT4ge1xuICAgICAgcmVnaXN0cmF0aW9ucy5mb3JFYWNoKChyZWdpc3RyYXRpb24pID0+IHtcbiAgICAgICAgaWYgKHJlZ2lzdHJhdGlvbi5hY3RpdmUpIHtcbiAgICAgICAgICBpZiAocmVnaXN0cmF0aW9uLmFjdGl2ZS5zY3JpcHRVUkwuZW5kc1dpdGgoJ19VUkxfJykpIHtcbiAgICAgICAgICAgIHJlZ2lzdHJhdGlvbi51bnJlZ2lzdGVyKCkuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBpZiAoJ2NhY2hlcycgaW4gd2luZG93KSB7XG4gICAgY2FjaGVzXG4gICAgICAua2V5cygpXG4gICAgICAudGhlbigobmFtZXMpID0+IHtcbiAgICAgICAgY29uc3QgY2FjaGVOYW1lID0gbmFtZXMuZmluZCgobmFtZSkgPT4gbmFtZS5zdGFydHNXaXRoKCdRd2lrQnVuZGxlcycpKTtcbiAgICAgICAgaWYgKGNhY2hlTmFtZSkge1xuICAgICAgICAgIGNhY2hlcy5kZWxldGUoY2FjaGVOYW1lKS5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgfVxufSkudG9TdHJpbmcoKTtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGlzIG5vIGxvbmdlciBuZWVkZWQgYXMgdGhlIHByZWxvYWRpbmcgaGFwcGVucyBhdXRvbWF0aWNhbGx5IGluIHFybC1jbGFzcy4gWW91XG4gKiAgIGNhbiByZW1vdmUgdGhpcyBjb21wb25lbnQgZnJvbSB5b3VyIGFwcC5cbiAqIEBhbHBoYVxuICovXG5leHBvcnQgY29uc3QgUHJlZmV0Y2hHcmFwaCA9IChcbiAgX29wdHM6IHsgYmFzZT86IHN0cmluZzsgbWFuaWZlc3RIYXNoPzogc3RyaW5nOyBtYW5pZmVzdFVSTD86IHN0cmluZzsgbm9uY2U/OiBzdHJpbmcgfSA9IHt9XG4pOiBKU1hPdXRwdXQgPT4gbnVsbDtcbiJdfQ==","//////////////////////////////////////////////////////////////////////////////////////////\n// Protect against duplicate imports\n//////////////////////////////////////////////////////////////////////////////////////////\nimport { version } from './version';\nif (globalThis.__qwik) {\n    console.error(`==============================================\\n` +\n        `Qwik version ${globalThis.__qwik} already imported while importing ${version}.\\n` +\n        `This can lead to issues due to duplicated shared structures.\\n` +\n        `Verify that the Qwik libraries you're using are in \"resolve.noExternal[]\" and in \"optimizeDeps.exclude\".\\n` +\n        `==============================================\\n`);\n}\nglobalThis.__qwik = version;\nif (import.meta.hot) {\n    import.meta.hot.dispose(() => {\n        globalThis.__qwik = undefined;\n    });\n}\n//////////////////////////////////////////////////////////////////////////////////////////\n// Developer Core API\n//////////////////////////////////////////////////////////////////////////////////////////\nexport { componentQrl, component$ } from './shared/component.public';\nexport { isBrowser, isDev, isServer } from '@qwik.dev/core/build';\n//////////////////////////////////////////////////////////////////////////////////////////\n// Internal Runtime\n//////////////////////////////////////////////////////////////////////////////////////////\nexport { $, sync$, _qrlSync } from './shared/qrl/qrl.public';\nexport { eventQrl } from './shared/qrl/qrl.public';\nexport { event$ } from './shared/qrl/qrl.public.dollar';\nexport { qrl, inlinedQrl, inlinedQrlDEV, qrlDEV } from './shared/qrl/qrl';\nexport { implicit$FirstArg } from './shared/qrl/implicit_dollar';\n//////////////////////////////////////////////////////////////////////////////////////////\n// PLATFORM\n//////////////////////////////////////////////////////////////////////////////////////////\nexport { getPlatform, setPlatform } from './shared/platform/platform';\n//////////////////////////////////////////////////////////////////////////////////////////\n// JSX Runtime\n//////////////////////////////////////////////////////////////////////////////////////////\nexport { SSRStreamBlock, SSRRaw, SSRStream, SSRComment, SkipRender, } from './shared/jsx/utils.public';\nexport { Slot } from './shared/jsx/slot.public';\nexport { Fragment, RenderOnce, jsx, jsxDEV, jsxs, h, h as createElement, } from './shared/jsx/jsx-runtime';\nexport { render } from './client/dom-render';\nexport { getDomContainer, _getQContainerElement } from './client/dom-container';\n//////////////////////////////////////////////////////////////////////////////////////////\n// use API\n//////////////////////////////////////////////////////////////////////////////////////////\nexport { useLexicalScope } from './use/use-lexical-scope.public';\nexport { useStore, unwrapStore, forceStoreEffects } from './use/use-store.public';\nexport { untrack } from './use/use-core';\nexport { useId } from './use/use-id';\nexport { useContext, useContextProvider, createContextId } from './use/use-context';\nexport { useServerData } from './use/use-env-data';\nexport { useStylesQrl, useStyles$, useStylesScopedQrl, useStylesScoped$ } from './use/use-styles';\nexport { useOn, useOnDocument, useOnWindow } from './use/use-on';\nexport { useSignal, useConstant } from './use/use-signal';\nexport { withLocale, getLocale } from './use/use-locale';\nexport { useComputedQrl } from './use/use-computed';\nexport { useSerializerQrl, useSerializer$ } from './use/use-serializer';\nexport { useVisibleTaskQrl } from './use/use-visible-task';\nexport { useResourceQrl, Resource } from './use/use-resource';\nexport { useResource$ } from './use/use-resource-dollar';\nexport { useTaskQrl } from './use/use-task';\nexport { useTask$ } from './use/use-task-dollar';\nexport { useVisibleTask$ } from './use/use-visible-task-dollar';\nexport { useComputed$ } from './use/use-computed';\nexport { useAsyncComputedQrl, useAsyncComputed$ } from './use/use-async-computed';\nexport { useErrorBoundary } from './use/use-error-boundary';\nexport { isSignal, createSignal, createComputedQrl, createComputed$, createSerializerQrl, createSerializer$, createAsyncComputedQrl, createAsyncComputed$, } from './reactive-primitives/signal.public';\nexport { noSerialize, NoSerializeSymbol, SerializerSymbol, } from './shared/serdes/verify';\nexport { version } from './version';\n//////////////////////////////////////////////////////////////////////////////////////////\n// Components\n//////////////////////////////////////////////////////////////////////////////////////////\nexport { PrefetchServiceWorker, PrefetchGraph } from './shared/prefetch-service-worker/prefetch';\n//////////////////////////////////////////////////////////////////////////////////////////\n// INTERNAL\n//////////////////////////////////////////////////////////////////////////////////////////\nexport * from './internal';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMEZBQTBGO0FBQzFGLG9DQUFvQztBQUNwQywwRkFBMEY7QUFDMUYsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUNwQyxJQUFLLFVBQWtCLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDL0IsT0FBTyxDQUFDLEtBQUssQ0FDWCxrREFBa0Q7UUFDaEQsZ0JBQWlCLFVBQWtCLENBQUMsTUFBTSxxQ0FBcUMsT0FBTyxLQUFLO1FBQzNGLGdFQUFnRTtRQUNoRSw0R0FBNEc7UUFDNUcsa0RBQWtELENBQ3JELENBQUM7QUFDSixDQUFDO0FBQ0EsVUFBa0IsQ0FBQyxNQUFNLEdBQUcsT0FBTyxDQUFDO0FBRXJDLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUNwQixNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFO1FBQzFCLFVBQWtCLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQztJQUN6QyxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUM7QUFFRCwwRkFBMEY7QUFDMUYscUJBQXFCO0FBQ3JCLDBGQUEwRjtBQUMxRixPQUFPLEVBQUUsWUFBWSxFQUFFLFVBQVUsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBSXJFLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBY2xFLDBGQUEwRjtBQUMxRixtQkFBbUI7QUFDbkIsMEZBQTBGO0FBQzFGLE9BQU8sRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBZ0IsTUFBTSx5QkFBeUIsQ0FBQztBQUMzRSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDbkQsT0FBTyxFQUFFLE1BQU0s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QixHQUNyQixNQUFNLHFDQUFxQyxDQUFDO0FBTzdDLE9BQU8sRUFDTCxXQUFXLEVBQ1gsaUJBQWlCLEVBQ2pCLGdCQUFnQixHQUVqQixNQUFNLHdCQUF3QixDQUFDO0FBQ2hDLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxXQUFXLENBQUM7QUF5Q3BDLDBGQUEwRjtBQUMxRixhQUFhO0FBQ2IsMEZBQTBGO0FBQzFGLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxhQUFhLEVBQUUsTUFBTSwyQ0FBMkMsQ0FBQztBQUVqRywwRkFBMEY7QUFDMUYsV0FBVztBQUNYLDBGQUEwRjtBQUMxRixjQUFjLFlBQVksQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gUHJvdGVjdCBhZ2FpbnN0IGR1cGxpY2F0ZSBpbXBvcnRzXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tICcuL3ZlcnNpb24nO1xuaWYgKChnbG9iYWxUaGlzIGFzIGFueSkuX19xd2lrKSB7XG4gIGNvbnNvbGUuZXJyb3IoXG4gICAgYD09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXG5gICtcbiAgICAgIGBRd2lrIHZlcnNpb24gJHsoZ2xvYmFsVGhpcyBhcyBhbnkpLl9fcXdpa30gYWxyZWFkeSBpbXBvcnRlZCB3aGlsZSBpbXBvcnRpbmcgJHt2ZXJzaW9ufS5cXG5gICtcbiAgICAgIGBUaGlzIGNhbiBsZWFkIHRvIGlzc3VlcyBkdWUgdG8gZHVwbGljYXRlZCBzaGFyZWQgc3RydWN0dXJlcy5cXG5gICtcbiAgICAgIGBWZXJpZnkgdGhhdCB0aGUgUXdpayBsaWJyYXJpZXMgeW91J3JlIHVzaW5nIGFyZSBpbiBcInJlc29sdmUubm9FeHRlcm5hbFtdXCIgYW5kIGluIFwib3B0aW1pemVEZXBzLmV4Y2x1ZGVcIi5cXG5gICtcbiAgICAgIGA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XFxuYFxuICApO1xufVxuKGdsb2JhbFRoaXMgYXMgYW55KS5fX3F3aWsgPSB2ZXJzaW9uO1xuXG5pZiAoaW1wb3J0Lm1ldGEuaG90KSB7XG4gIGltcG9ydC5tZXRhLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAoZ2xvYmFsVGhpcyBhcyBhbnkpLl9fcXdpayA9IHVuZGVmaW5lZDtcbiAgfSk7XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gRGV2ZWxvcGVyIENvcmUgQVBJXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmV4cG9ydCB7IGNvbXBvbmVudFFybCwgY29tcG9uZW50JCB9IGZyb20gJy4vc2hhcmVkL2NvbXBvbmVudC5wdWJsaWMnO1xuXG5leHBvcnQgdHlwZSB7IFByb3BzT2YsIE9uUmVuZGVyRm4sIENvbXBvbmVudCwgUHVibGljUHJvcHMgfSBmcm9tICcuL3NoYXJlZC9jb21wb25lbnQucHVibGljJztcblxuZXhwb3J0IHsgaXNCcm93c2VyLCBpc0RldiwgaXNTZXJ2ZXIgfSBmcm9tICdAcXdpay5kZXYvY29yZS9idWlsZCc7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gRGV2ZWxvcGVyIEV2ZW50IEFQSVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5leHBvcnQgdHlwZSB7XG4gIFNuYXBzaG90U3RhdGUsXG4gIFNuYXBzaG90UmVzdWx0LFxuICBTbmFwc2hvdE1ldGEsXG4gIFNuYXBzaG90TWV0YVZhbHVlLFxuICBTbmFwc2hvdExpc3RlbmVyLFxuICBJU3NyQ29tcG9uZW50RnJhbWUsXG59IGZyb20gJy4vc3NyL3Nzci10eXBlcyc7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gSW50ZXJuYWwgUnVudGltZVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5leHBvcnQgeyAkLCBzeW5jJCwgX3FybFN5bmMsIHR5cGUgU3luY1FSTCB9IGZyb20gJy4vc2hhcmVkL3FybC9xcmwucHVibGljJztcbmV4cG9ydCB7IGV2ZW50UXJsIH0gZnJvbSAnLi9zaGFyZWQvcXJsL3FybC5wdWJsaWMnO1xuZXhwb3J0IHsgZXZlbnQkIH0gZnJvbSAnLi9zaGFyZWQvcXJsL3FybC5wdWJsaWMuZG9sbGFyJztcblxuZXhwb3J0IHsgcXJsLCBpbmxpbmVkUXJsLCBpbmxpbmVkUXJsREVWLCBxcmxERVYgfSBmcm9tICcuL3NoYXJlZC9xcmwvcXJsJztcbmV4cG9ydCB0eXBlIHsgUVJMLCBQcm9wRnVuY3Rpb24gfSBmcm9tICcuL3NoYXJlZC9xcmwvcXJsLnB1YmxpYyc7XG5leHBvcnQgeyBpbXBsaWNpdCRGaXJzdEFyZyB9IGZyb20gJy4vc2hhcmVkL3FybC9pbXBsaWNpdF9kb2xsYXInO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFBMQVRGT1JNXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmV4cG9ydCB7IGdldFBsYXRmb3JtLCBzZXRQbGF0Zm9ybSB9IGZyb20gJy4vc2hhcmVkL3BsYXRmb3JtL3BsYXRmb3JtJztcbmV4cG9ydCB0eXBlIHsgQ29yZVBsYXRmb3JtIH0gZnJvbSAnLi9zaGFyZWQvcGxhdGZvcm0vdHlwZXMnO1xuZXhwb3J0IHR5cGUgeyBDbGllbnRDb250YWluZXIgfSBmcm9tICcuL2NsaWVudC90eXBlcyc7XG5leHBvcnQgdHlwZSB7IERvbUNvbnRhaW5lciB9IGZyb20gJy4vY2xpZW50L2RvbS1jb250YWluZXInO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEpTWCBSdW50aW1lXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmV4cG9ydCB7XG4gIFNTUlN0cmVhbUJsb2NrLFxuICBTU1JSYXcsXG4gIFNTUlN0cmVhbSxcbiAgU1NSQ29tbWVudCxcbiAgU2tpcFJlbmRlcixcbn0gZnJvbSAnLi9zaGFyZWQvanN4L3V0aWxzLnB1YmxpYyc7XG5leHBvcnQgdHlwZSB7XG4gIFNTUlN0cmVhbVByb3BzLFxuICBTU1JIaW50UHJvcHMsXG4gIFNTUlN0cmVhbUNoaWxkcmVuLFxuICBTU1JTdHJlYW1Xcml0ZXIsXG59IGZyb20gJy4vc2hhcmVkL2pzeC91dGlscy5wdWJsaWMnO1xuZXhwb3J0IHsgU2xvdCB9IGZyb20gJy4vc2hhcmVkL2pzeC9zbG90LnB1YmxpYyc7XG5leHBvcnQge1xuICBGcmFnbWVudCxcbiAgUmVuZGVyT25jZSxcbiAganN4LFxuICBqc3hERVYsXG4gIGpzeHMsXG4gIGgsXG4gIGggYXMgY3JlYXRlRWxlbWVudCxcbn0gZnJvbSAnLi9zaGFyZWQvanN4L2pzeC1ydW50aW1lJztcbmV4cG9ydCB0eXBlIHtcbiAgRE9NQXR0cmlidXRlcyxcbiAgUXdpa0F0dHJpYnV0ZXMsXG4gIEpTWFRhZ05hbWUsXG4gIEpTWENoaWxkcmVuLFxuICBDb21wb25lbnRCYXNlUHJvcHMsXG4gIENsYXNzTGlzdCxcbiAgQ29ycmVjdGVkVG9nZ2xlRXZlbnQsXG4gIEV2ZW50SGFuZGxlcixcbiAgUVJMRXZlbnRIYW5kbGVyTXVsdGksXG59IGZyb20gJy4vc2hhcmVkL2pzeC90eXBlcy9qc3gtcXdpay1hdHRyaWJ1dGVzJztcbmV4cG9ydCB0eXBlIHtcbiAgSlNYT3V0cHV0LFxuICBGdW5jdGlvbkNvbXBvbmVudCxcbiAgSlNYTm9kZSxcbiAgSlNYTm9kZUludGVybmFsLFxuICBEZXZKU1gsXG59IGZyb20gJy4vc2hhcmVkL2pzeC90eXBlcy9qc3gtbm9kZSc7XG5leHBvcnQgdHlwZSB7IFF3aWtET01BdHRyaWJ1dGVzLCBRd2lrSlNYLCBRd2lrSlNYIGFzIEpTWCB9IGZyb20gJy4vc2hhcmVkL2pzeC90eXBlcy9qc3gtcXdpayc7XG5cbmV4cG9ydCB0eXBlIHsgUXdpa0ludHJpbnNpY0VsZW1lbnRzIH0gZnJvbSAnLi9zaGFyZWQvanN4L3R5cGVzL2pzeC1xd2lrLWVsZW1lbnRzJztcbmV4cG9ydCB0eXBlIHtcbiAgQ1NTUHJvcGVydGllcyxcbiAgUXdpa0hUTUxFbGVtZW50cyxcbiAgUXdpa1NWR0VsZW1lbnRzLFxuICBTVkdBdHRyaWJ1dGVzLFxuICBIVE1MRWxlbWVudEF0dHJzLFxuICBTVkdQcm9wcyxcbn0gZnJvbSAnLi9zaGFyZWQvanN4L3R5cGVzL2pzeC1nZW5lcmF0ZWQnO1xuZXhwb3J0IHsgcmVuZGVyIH0gZnJvbSAnLi9jbGllbnQvZG9tLXJlbmRlcic7XG5leHBvcnQgeyBnZXREb21Db250YWluZXIsIF9nZXRRQ29udGFpbmVyRWxlbWVudCB9IGZyb20gJy4vY2xpZW50L2RvbS1jb250YWluZXInO1xuZXhwb3J0IHR5cGUgeyBTdHJlYW1Xcml0ZXIsIFJlbmRlclNTUk9wdGlvbnMgfSBmcm9tICcuL3Nzci9zc3ItdHlwZXMnO1xuZXhwb3J0IHR5cGUgeyBSZW5kZXJPcHRpb25zLCBSZW5kZXJSZXN1bHQgfSBmcm9tICcuL2NsaWVudC90eXBlcyc7XG5leHBvcnQgdHlwZSB7IFNlcmlhbGl6YXRpb25TdHJhdGVneSB9IGZyb20gJy4vc2hhcmVkL3R5cGVzJztcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyB1c2UgQVBJXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmV4cG9ydCB7IHVzZUxleGljYWxTY29wZSB9IGZyb20gJy4vdXNlL3VzZS1sZXhpY2FsLXNjb3BlLnB1YmxpYyc7XG5leHBvcnQgeyB1c2VTdG9yZSwgdW53cmFwU3RvcmUsIGZvcmNlU3RvcmVFZmZlY3RzIH0gZnJvbSAnLi91c2UvdXNlLXN0b3JlLnB1YmxpYyc7XG5leHBvcnQgeyB1bnRyYWNrIH0gZnJvbSAnLi91c2UvdXNlLWNvcmUnO1xuZXhwb3J0IHsgdXNlSWQgfSBmcm9tICcuL3VzZS91c2UtaWQnO1xuZXhwb3J0IHsgdXNlQ29udGV4dCwgdXNlQ29udGV4dFByb3ZpZGVyLCBjcmVhdGVDb250ZXh0SWQgfSBmcm9tICcuL3VzZS91c2UtY29udGV4dCc7XG5leHBvcnQgeyB1c2VTZXJ2ZXJEYXRhIH0gZnJvbSAnLi91c2UvdXNlLWVudi1kYXRhJztcbmV4cG9ydCB7IHVzZVN0eWxlc1FybCwgdXNlU3R5bGVzJCwgdXNlU3R5bGVzU2NvcGVkUXJsLCB1c2VTdHlsZXNTY29wZWQkIH0gZnJvbSAnLi91c2UvdXNlLXN0eWxlcyc7XG5leHBvcnQgeyB1c2VPbiwgdXNlT25Eb2N1bWVudCwgdXNlT25XaW5kb3cgfSBmcm9tICcuL3VzZS91c2Utb24nO1xuZXhwb3J0IHsgdXNlU2lnbmFsLCB1c2VDb25zdGFudCB9IGZyb20gJy4vdXNlL3VzZS1zaWduYWwnO1xuZXhwb3J0IHsgd2l0aExvY2FsZSwgZ2V0TG9jYWxlIH0gZnJvbSAnLi91c2UvdXNlLWxvY2FsZSc7XG5cbmV4cG9ydCB0eXBlIHsgVXNlU3R5bGVzU2NvcGVkIH0gZnJvbSAnLi91c2UvdXNlLXN0eWxlcyc7XG5leHBvcnQgdHlwZSB7IFVzZVNpZ25hbCB9IGZyb20gJy4vdXNlL3VzZS1zaWduYWwnO1xuZXhwb3J0IHR5cGUgeyBDb250ZXh0SWQgfSBmcm9tICcuL3VzZS91c2UtY29udGV4dCc7XG5leHBvcnQgdHlwZSB7IFVzZVN0b3JlT3B0aW9ucyB9IGZyb20gJy4vdXNlL3VzZS1zdG9yZS5wdWJsaWMnO1xuZXhwb3J0IHR5cGUgeyBDb21wdXRlZEZuLCBDb21wdXRlZFJldHVyblR5cGUgfSBmcm9tICcuL3VzZS91c2UtY29tcHV0ZWQnO1xuZXhwb3J0IHsgdXNlQ29tcHV0ZWRRcmwgfSBmcm9tICcuL3VzZS91c2UtY29tcHV0ZWQnO1xuZXhwb3J0IHsgdXNlU2VyaWFsaXplclFybCwgdXNlU2VyaWFsaXplciQgfSBmcm9tICcuL3VzZS91c2Utc2VyaWFsaXplcic7XG5leHBvcnQgdHlwZSB7IE9uVmlzaWJsZVRhc2tPcHRpb25zLCBWaXNpYmxlVGFza1N0cmF0ZWd5IH0gZnJvbSAnLi91c2UvdXNlLXZpc2libGUtdGFzayc7XG5leHBvcnQgeyB1c2VWaXNpYmxlVGFza1FybCB9IGZyb20gJy4vdXNlL3VzZS12aXNpYmxlLXRhc2snO1xuZXhwb3J0IHR5cGUgeyBUYXNrQ3R4LCBUYXNrRm4sIFRyYWNrZXIgfSBmcm9tICcuL3VzZS91c2UtdGFzayc7XG5leHBvcnQgdHlwZSB7XG4gIFJlc291cmNlUHJvcHMsXG4gIFJlc291cmNlT3B0aW9ucyxcbiAgUmVzb3VyY2VDdHgsXG4gIFJlc291cmNlRm4sXG4gIFJlc291cmNlUGVuZGluZyxcbiAgUmVzb3VyY2VSZWplY3RlZCxcbiAgUmVzb3VyY2VSZXNvbHZlZCxcbiAgUmVzb3VyY2VSZXR1cm4sXG59IGZyb20gJy4vdXNlL3VzZS1yZXNvdXJjZSc7XG5leHBvcnQgeyB1c2VSZXNvdXJjZVFybCwgUmVzb3VyY2UgfSBmcm9tICcuL3VzZS91c2UtcmVzb3VyY2UnO1xuZXhwb3J0IHsgdXNlUmVzb3VyY2UkIH0gZnJvbSAnLi91c2UvdXNlLXJlc291cmNlLWRvbGxhcic7XG5leHBvcnQgeyB1c2VUYXNrUXJsIH0gZnJvbSAnLi91c2UvdXNlLXRhc2snO1xuZXhwb3J0IHsgdXNlVGFzayQgfSBmcm9tICcuL3VzZS91c2UtdGFzay1kb2xsYXInO1xuZXhwb3J0IHsgdXNlVmlzaWJsZVRhc2skIH0gZnJvbSAnLi91c2UvdXNlLXZpc2libGUtdGFzay1kb2xsYXInO1xuZXhwb3J0IHsgdXNlQ29tcHV0ZWQkIH0gZnJvbSAnLi91c2UvdXNlLWNvbXB1dGVkJztcbmV4cG9ydCB0eXBlIHsgQXN5bmNDb21wdXRlZEZuLCBBc3luY0NvbXB1dGVkUmV0dXJuVHlwZSB9IGZyb20gJy4vdXNlL3VzZS1hc3luYy1jb21wdXRlZCc7XG5leHBvcnQgeyB1c2VBc3luY0NvbXB1dGVkUXJsLCB1c2VBc3luY0NvbXB1dGVkJCB9IGZyb20gJy4vdXNlL3VzZS1hc3luYy1jb21wdXRlZCc7XG5leHBvcnQgeyB1c2VFcnJvckJvdW5kYXJ5IH0gZnJvbSAnLi91c2UvdXNlLWVycm9yLWJvdW5kYXJ5JztcbmV4cG9ydCB0eXBlIHsgRXJyb3JCb3VuZGFyeVN0b3JlIH0gZnJvbSAnLi9zaGFyZWQvZXJyb3IvZXJyb3ItaGFuZGxpbmcnO1xuZXhwb3J0IHtcbiAgdHlwZSBSZWFkb25seVNpZ25hbCxcbiAgdHlwZSBBc3luY0NvbXB1dGVkUmVhZG9ubHlTaWduYWwsXG4gIHR5cGUgU2lnbmFsLFxuICB0eXBlIENvbXB1dGVkU2lnbmFsLFxufSBmcm9tICcuL3JlYWN0aXZlLXByaW1pdGl2ZXMvc2lnbmFsLnB1YmxpYyc7XG5leHBvcnQge1xuICBpc1NpZ25hbCxcbiAgY3JlYXRlU2lnbmFsLFxuICBjcmVhdGVDb21wdXRlZFFybCxcbiAgY3JlYXRlQ29tcHV0ZWQkLFxuICBjcmVhdGVTZXJpYWxpemVyUXJsLFxuICBjcmVhdGVTZXJpYWxpemVyJCxcbiAgY3JlYXRlQXN5bmNDb21wdXRlZFFybCxcbiAgY3JlYXRlQXN5bmNDb21wdXRlZCQsXG59IGZyb20gJy4vcmVhY3RpdmUtcHJpbWl0aXZlcy9zaWduYWwucHVibGljJztcbmV4cG9ydCB0eXBlIHsgQ29tcHV0ZWRPcHRpb25zIH0gZnJvbSAnLi9yZWFjdGl2ZS1wcmltaXRpdmVzL3R5cGVzJztcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBEZXZlbG9wZXIgTG93LUxldmVsIEFQSVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5leHBvcnQgdHlwZSB7IFZhbHVlT3JQcm9taXNlIH0gZnJvbSAnLi9zaGFyZWQvdXRpbHMvdHlwZXMnO1xuZXhwb3J0IHtcbiAgbm9TZXJpYWxpemUsXG4gIE5vU2VyaWFsaXplU3ltYm9sLFxuICBTZXJpYWxpemVyU3ltYm9sLFxuICB0eXBlIE5vU2VyaWFsaXplLFxufSBmcm9tICcuL3NoYXJlZC9zZXJkZXMvdmVyaWZ5JztcbmV4cG9ydCB7IHZlcnNpb24gfSBmcm9tICcuL3ZlcnNpb24nO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFF3aWsgRXZlbnRzXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmV4cG9ydCB0eXBlIHtcbiAgS25vd25FdmVudE5hbWVzLFxuICBRd2lrU3ltYm9sRXZlbnQsXG4gIFF3aWtWaXNpYmxlRXZlbnQsXG4gIFF3aWtJZGxlRXZlbnQsXG4gIFF3aWtJbml0RXZlbnQsXG4gIFF3aWtUcmFuc2l0aW9uRXZlbnQsXG4gIC8vIG9sZFxuICBOYXRpdmVBbmltYXRpb25FdmVudCxcbiAgTmF0aXZlQ2xpcGJvYXJkRXZlbnQsXG4gIE5hdGl2ZUNvbXBvc2l0aW9uRXZlbnQsXG4gIE5hdGl2ZURyYWdFdmVudCxcbiAgTmF0aXZlRm9jdXNFdmVudCxcbiAgTmF0aXZlS2V5Ym9hcmRFdmVudCxcbiAgTmF0aXZlTW91c2VFdmVudCxcbiAgTmF0aXZlUG9pbnRlckV2ZW50LFxuICBOYXRpdmVUb3VjaEV2ZW50LFxuICBOYXRpdmVUcmFuc2l0aW9uRXZlbnQsXG4gIE5hdGl2ZVVJRXZlbnQsXG4gIE5hdGl2ZVdoZWVsRXZlbnQsXG4gIFF3aWtBbmltYXRpb25FdmVudCxcbiAgUXdpa0NsaXBib2FyZEV2ZW50LFxuICBRd2lrQ29tcG9zaXRpb25FdmVudCxcbiAgUXdpa0RyYWdFdmVudCxcbiAgUXdpa1BvaW50ZXJFdmVudCxcbiAgUXdpa0ZvY3VzRXZlbnQsXG4gIFF3aWtTdWJtaXRFdmVudCxcbiAgUXdpa0ludmFsaWRFdmVudCxcbiAgUXdpa0NoYW5nZUV2ZW50LFxuICBRd2lrS2V5Ym9hcmRFdmVudCxcbiAgUXdpa01vdXNlRXZlbnQsXG4gIFF3aWtUb3VjaEV2ZW50LFxuICBRd2lrVUlFdmVudCxcbiAgUXdpa1doZWVsRXZlbnQsXG59IGZyb20gJy4vc2hhcmVkL2pzeC90eXBlcy9qc3gtcXdpay1ldmVudHMnO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIENvbXBvbmVudHNcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZXhwb3J0IHsgUHJlZmV0Y2hTZXJ2aWNlV29ya2VyLCBQcmVmZXRjaEdyYXBoIH0gZnJvbSAnLi9zaGFyZWQvcHJlZmV0Y2gtc2VydmljZS13b3JrZXIvcHJlZmV0Y2gnO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIElOVEVSTkFMXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmV4cG9ydCAqIGZyb20gJy4vaW50ZXJuYWwnO1xuIl19"],"names":["isNumber","isElement","DEBUG","createSignal","_createSignal","createComputedQrl","createAsyncComputedQrl","createSerializerQrl","BackRef","processVNodeData","preload"],"mappings":"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AAS,EAAE,OAAO,EAAE,WAAW,EAAE;AAC1G,QAAQ,KAAK,CAAC,KAAK,EAAE,MAAM,EAAE,eAAe,EAAE,WAAW,CAAC;AAC1D,QAAQ,IAAI,CAAC,UAAU,GAAG,UAAU;AACpC,QAAQ,IAAI,CAAC,SAAS,GAAG,SAAS;AAClC,QAAQ,IAAI,CAAC,OAAO,GAAG,OAAO;AAC9B,QAAQ,IAAI,CAAC,WAAW,GAAG,WAAW;AACtC,IAAI;AACJ;;AC5HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAgBA;AACO,MAAM,gBAAgB,GAAG,CAAC,OAAO,EAAE,WAAW,KAAK;AAC1D,IAAI,WAAW,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,CAAC,qBAAqB,yBAAyB,CAAC;AACvF,IAAI,MAAM,KAAK,GAAG,IAAI,YAAY,CAAC,CAAC,4BAA4B,CAAC,8BAA8B,EAAE,IAAI,CAAC,6BAA6B;AACnI,IAAI,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,WAAW,CAAC;AACvD,IAAI,UAAU,CAAC,oBAAoB,CAAC,KAAK,CAAC,EAAE,mCAAmC,CAAC;AAChF,I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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,eAAe,GAAG,CAAC,IAAI,KAAK;AACzC,IAAI,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,kDAAkD,EAAE,IAAI,CAAC;AACjG,IAAI,qBAAqB,MAAM,CAAC,MAAM,CAAC;AACvC,QAAQ,EAAE,EAAE,oBAAoB,CAAC,IAAI,CAAC;AACtC,KAAK,CAAC;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,kBAAkB,GAAG,CAAC,OAAO,EAAE,QAAQ,KAAK;AACzD,IAAI,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,kBAAkB,EAAE;AACnD,IAAI,IAAI,GAAG,KAAK,SAAS,EAAE;AAC3B,QAAQ;AACR,IAAI;AACJ,IAAI,IAAI,IAAI,EAAE;AACd,QAAQ,eAAe,CAAC,OAAO,CAAC;AAChC,IAAI;AACJ,IAAI,IAAI,IAAI,IAAI,UAAU,EAAE;AAC5B,QAAQ,kBAAkB,CAAC,QAAQ,CAAC;AACpC,IAAI;AACJ,IAAI,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,EAAE,OAAO,EAAE,QAAQ,CAAC;AACtE,IAAI,GAAG,CAAC,CAAC,CAAC;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,UAAU,GAAG,CAAC,OAAO,EAAE,YAAY,KAAK;AACrD,IAAI,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,kBAAkB,EAAE;AACnD,IAAI,IAAI,GAAG,KAAK,SAAS,EAAE;AAC3B,QAAQ,OAAO,GAAG;AAClB,IAAI;AACJ,IAAI,IAAI,IAAI,EAAE;AACd,QAAQ,eAAe,CAAC,OAAO,CAAC;AAChC,IAAI;AACJ,IAAI,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC,aAAa,EAAE,OAAO,CAAC;AAC9E,IAAI,IAAI,OAAO,YAAY,KAAK,UAAU,EAAE;AAC5C,QAAQ,OAAO,GAAG,CAAC,MAAM,CAAC,SAAS,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC;AAC1D,IAAI;AACJ,IAAI,IAAI,KAAK,KAAK,SAAS,EAAE;AAC7B,QAAQ,OAAO,GAAG,CAAC,KAAK,CAAC;AACzB,IAAI;AACJ,IAAI,IAAI,YAAY,KAAK,SAAS,EAAE;AACpC,QAAQ,OAAO,GAAG,CAAC,YAAY,CAAC;AAChC,IAAI;AACJ,IAAI,MAAM,MAAM,CAAC,CAAC,+BAA+B,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;AAC9D;AACO,MAAM,eAAe,GAAG,CAAC,OAAO,KAAK;AAC5C,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,OAAO,OAAO,CAAC,EAAE,KAAK,QAAQ,IAAI,OAAO,CAAC,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE;AACzF,QAAQ,MAAM,MAAM,CAAC,EAAE,8BAA8B,CAAC,OAAO,CAAC,CAAC;AAC/D,IAAI;AACJ,CAAC;AACD;AACY,MAAC,qCAAqC,GAAG,CAAC,OAAO,KAAK;AAClE,IAAI,MAAM,IAAI,GAAG,gBAAgB,EAAE;AACnC,IAAI,MAAM,WAAW,GAAG,IAAI,CAAC,aAAa;AAC1C,IAAI,IAAI,CAAC,WAAW,EAAE;AACtB,QAAQ,OAAO,SAAS;AACxB,IAAI;AACJ,IAAI,OAAO,IAAI,CAAC,WAAW,EAAE,cAAc,CAAC,WAAW,EAAE,OAAO,CAAC;AACjE;;AC3NO,MAAM,aAAa,iBAAiB,eAAe,CAAC,UAAU,CAAC;AAC/D,MAAM,aAAa,GAAG,CAAC,GAAG,KAAK;AACtC,IAAI,IAAI,GAAG,IAAI,GAAG,YAAY,KAAK,EAAE;AACrC,QAAQ,IAAI,QAAQ,IAAI,GAAG,EAAE;AAC7B,YAAY,OAAO,KAAK;AACxB,QAAQ;AACR,IAAI;AACJ,IAAI,OAAO,IAAI;AACf,CAAC;;ACTD;AACO,MAAM,gBAAgB,CAAC;AAC9B,IAAI,IAAI;AACR,IAAI,WAAW,CAAC,IAAI,EAAE;AACtB,QAAQ,IAAI,CAAC,IAAI,GAAG,IAAI;AACxB,IAAI;AACJ;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,eAAe,GAAG,MAAM;AACrC,IAAI,MAAM,OAAO,GAAG,gBAAgB,EAAE;AACtC,IAAI,IAAI,GAAG,GAAG,OAAO,CAAC,KAAK;AAC3B,IAAI,IAAI,CAAC,GAAG,EAAE;AACd,QAAQ,MAAM,EAAE,GAAG,OAAO,CAAC,SAAS;AACpC,QAAQ,aAAa,CAAC,EAAE,EAAE,0DAA0D,EAAE,OAAO,CAAC;AAC9F,QAAQ,MAAM,gBAAgB,GAAG,qBAAqB,CAAC,EAAE,CAAC;AAC1D,QAAQ,aAAa,CAAC,gBAAgB,EAAE,CAAC,uCAAuC,CAAC,EAAE,EAAE,CAAC;AACtF,QAAQ,MAAM,SAAS,GAAG,eAAe,CAAC,gBAAgB,CAAC;AAC3D,QAAQ,GAAG,GAAG,SAAS,CAAC,QAAQ,CAAC,kBAAkB,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;AAC3E,IAAI;AACJ,SAAS;AACT,QAAQ,SAAS,CAAC,GAAG,CAAC;AACtB,QAAQ,aAAa,CAAC,GAAG,CAAC,YAAY,EAAE,mEAAmE,EAAE,GAAG,CAAC;AACjH,IAAI;AACJ,IAAI,OAAO,GAAG,CAAC,YAAY;AAC3B;;ACjCA;AACA;AACA;AACA;AACA;AACY,MAAC,IAAI,GAAG,CAAC,CAAC,EAAE,OAAO,KAAK;AACpC,IAAI,MAAM,CAAC,MAAM,CAAC,GAAG,eAAe,EAAE;AACtC,IAAI,MAAM,CAAC,KAAK,GAAG,OAAO,CAAC,IAAI,KAAK,QAAQ,GAAG,OAAO,CAAC,aAAa,GAAG,OAAO,CAAC,KAAK;AACpF;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,IAAI,GAAG,CAAC,CAAC,EAAE,OAAO,KAAK;AACpC,IAAI,MAAM,CAAC,MAAM,CAAC,GAAG,eAAe,EAAE;AACtC,IAAI,MAAM,CAAC,KAAK,GAAG,OAAO,CAAC,OAAO;AAClC;;ACVA,MAAM,UAAU,GAAG,YAAY;AAC/B,MAAM,YAAY,GAAG,cAAc;AACnC;AACO,MAAM,WAAW,CAAC;AACzB,IAAI,IAAI;AACR,IAAI,MAAM;AACV,IAAI,GAAG;AACP,IAAI,QAAQ;AACZ,IAAI,UAAU;AACd,IAAI,QAAQ;AACZ,IAAI,GAAG;AACP,IAAI,MAAM,GAAG,IAAI;AACjB,IAAI,WAAW,CAAC,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE;AACxE,QAAQ,IAAI,CAAC,IAAI,GAAG,IAAI;AACxB,QAAQ,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM;AAC9B,QAAQ,IAAI,CAAC,GAAG,GAAG,GAAG,IAAI,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC;AACnD,QAAQ,IAAI,CAAC,QAAQ,GAAG,CAAC,QAAQ,IAAI,OAAO,CAAC,QAAQ,CAAC,GAAG,SAAS,GAAG,QAAQ;AAC7E,QAAQ,IAAI,CAAC,UAAU,GAAG,CAAC,UAAU,IAAI,OAAO,CAAC,UAAU,CAAC,GAAG,IAAI,GAAG,UAAU;AAChF,QAAQ,IAAI,CAAC,QAAQ,GAAG,QAAQ;AAChC,QAAQ,IAAI,IAAI,IAAI,GAAG,EAAE;AACzB,YAAY,IAAI,CAAC,GAAG,GAAG;AACvB,gBAAgB,GAAG,GAAG;AACtB,gBAAgB,KAAK,EAAE,IAAI,KAAK,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;AACzE,aAAa;AACb,QAAQ;AACR,QAAQ,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;AACtC;AACA,YAAY,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,UAAU,EAAE;AAC7C,gBAAgB,MAAM,IAAI,GAAG,uBAAuB,CAAC,CAAC,CAAC;AACvD,gBAAgB,IAAI,IAAI,EAAE;AAC1B,oBAAoB,aAAa,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AAC5E,oBAAoB,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;AAC7C,gBAAgB;AAChB,YAAY;AACZ,YAAY,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,QAAQ,EAAE;AAC3C,gBAAgB,MAAM,IAAI,GAAG,uBAAuB,CAAC,CAAC,CAAC;AACvD,gBAAgB,IAAI,IAAI,EAAE;AAC1B;AACA,oBAAoB,IAAI,CAAC,UAAU,IAAI,EAAE,CAAC,IAAI,UAAU,CAAC,EAAE;AAC3D,wBAAwB,MAAM,GAAG,aAAa,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,MAAM;AAC/F,oBAAoB;AACpB,oBAAoB,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;AAC3C,gBAAgB;AAChB,YAAY;AACZ;AACA,YAAY,IAAI,YAAY,IAAI,IAAI,CAAC,QAAQ,EAAE;AAC/C,gBAAgB,MAAM,GAAG,cAAc,CAAC,IAAI,CAAC,QAAQ,EAAE,YAAY,CAAC,IAAI,MAAM;AAC9E,YAAY;AACZ,iBAAiB,IAAI,UAAU,IAAI,IAAI,CAAC,QAAQ,EAAE;AAClD,gBAAgB,MAAM,GAAG,cAAc,CAAC,IAAI,CAAC,QAAQ,EAAE,UAAU,CAAC,IAAI,MAAM;AAC5E,YAAY;AACZ,iBAAiB,IAAI,IAAI,CAAC,UAAU,EAAE;AACtC,gBAAgB,IAAI,YAAY,IAAI,IAAI,CAAC,UAAU,EAAE;AACrD,oBAAoB,cAAc,CAAC,IAAI,CAAC,UAAU,EAAE,YAAY,CAAC;AACjE,gBAAgB;AAChB,qBAAqB;AACrB,oBAAoB,IAAI,UAAU,IAAI,IAAI,CAAC,UAAU,EAAE;AACvD,wBAAwB,cAAc,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC;AACnE,oBAAoB;AACpB,gBAAgB;AAChB,YAAY;AACZ;AACA,YAAY,IAAI,WAAW,IAAI,IAAI,CAAC,QAAQ,EAAE;AAC9C,gBAAgB,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS;AAC7D,gBAAgB,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,SAAS;AACnD,gBAAgB,MAAM,GAAG,IAAI;AAC7B,gBAAgB,IAAI,IAAI,EAAE;AAC1B,oBAAoB,WAAW,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,QAAQ,CAAC,EAAE,GAAG,EAAE,UAAU,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,qDAAqD,CAAC,CAAC;AACzK,gBAAgB;AAChB,YAAY;AACZ,YAAY,IAAI,IAAI,CAAC,UAAU,IAAI,WAAW,IAAI,IAAI,CAAC,UAAU,EAAE;AACnE,gBAAgB,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS;AACjE,gBAAgB,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,SAAS;AACrD,gBAAgB,IAAI,IAAI,EAAE;AAC1B,oBAAoB,WAAW,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,QAAQ,CAAC,EAAE,GAAG,EAAE,UAAU,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,qDAAqD,CAAC,CAAC;AACzK,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,QAAQ,IAAI,CAAC,IAAI,CAAC;AAClB,IAAI;AACJ,IAAI,IAAI,KAAK,GAAG;AAChB;AACA,QAAQ,QAAQ,IAAI,CAAC,MAAM,KAAK,gBAAgB,CAAC,IAAI,CAAC;AACtD,IAAI;AACJ;AACA;AACO,MAAM,aAAa,GAAG,CAAC,GAAG,EAAE,KAAK,EAAE,OAAO,KAAK;AACtD,IAAI,IAAI,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC;AAC5B,IAAI,IAAI,OAAO,EAAE;AACjB,QAAQ,IAAI,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;AACpC,YAAY,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC;AACjC,QAAQ;AACR,aAAa;AACb,YAAY,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC;AACrD,QAAQ;AACR,IAAI;AACJ,SAAS;AACT,QAAQ,GAAG,CAAC,KAAK,CAAC,GAAG,OAAO;AAC5B,QAAQ,OAAO,IAAI;AACnB,IAAI;AACJ,CAAC;AACD;AACY,MAAC,SAAS,GAAG,CAAC,CAAC,KAAK;AAChC,IAAI,IAAI,IAAI,EAAE;AACd,QAAQ,IAAI,CAAC,YAAY,WAAW,EAAE;AACtC,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,QAAQ,IAAI,QAAQ,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,OAAO,IAAI,CAAC,IAAI,MAAM,IAAI,CAAC,EAAE;AACtE,YAAY,OAAO,CAAC,CAAC,4CAA4C,CAAC,CAAC;AACnE,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,QAAQ,OAAO,KAAK;AACpB,IAAI;AACJ,SAAS;AACT,QAAQ,OAAO,CAAC,YAAY,WAAW;AACvC,IAAI;AACJ;AACA,MAAM,OAAO,GAAG,CAAC,GAAG,KAAK;AACzB,IAAI,KAAK,MAAM,IAAI,IAAI,GAAG,EAAE;AAC5B,QAAQ,IAAI,GAAG,CAAC,IAAI,CAAC,KAAK,SAAS,EAAE;AACrC,YAAY,OAAO,KAAK;AACxB,QAAQ;AACR,IAAI;AACJ,IAAI,OAAO,IAAI;AACf,CAAC;AACD,MAAM,cAAc,GAAG,CAAC,KAAK,EAAE,IAAI,KAAK;AACxC,IAAI,MAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC;AAC7B,IAAI,KAAK,CAAC,IAAI,CAAC,GAAG,SAAS;AAC3B,IAAI,IAAI,KAAK,EAAE;AACf,QAAQ,IAAI,IAAI,KAAK,YAAY,EAAE;AACnC,YAAY,KAAK,CAAC,OAAO,GAAG,KAAK;AACjC,YAAY,KAAK,CAAC,UAAU,CAAC,GAAG,SAAS,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,KAAK,CAAC,CAAC;AAClF,QAAQ;AACR,aAAa;AACb,YAAY,KAAK,CAAC,KAAK,GAAG,KAAK;AAC/B,YAAY,KAAK,CAAC,UAAU,CAAC,GAAG,SAAS,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,KAAK,CAAC,CAAC;AAClF,QAAQ;AACR,QAAQ,OAAO,IAAI;AACnB,IAAI;AACJ,CAAC;;AChJD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,UAAU,GAAG,CAAC,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,KAAK;AACrF,IAAI,OAAO,OAAO,CAAC,MAAM,IAAI,WAAW,CAAC,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,SAAS,GAAG,CAAC,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,KAAK;AACpF,IAAI,OAAO,OAAO,CAAC,MAAM;AACzB,QAAQ,IAAI,QAAQ,EAAE;AACtB,YAAY,KAAK,MAAM,CAAC,IAAI,QAAQ,EAAE;AACtC,gBAAgB,IAAI,CAAC,KAAK,UAAU,EAAE;AACtC,oBAAoB,QAAQ,KAAK,QAAQ,CAAC,QAAQ;AAClD,oBAAoB,QAAQ,CAAC,QAAQ,GAAG,SAAS;AACjD,gBAAgB;AAChB,qBAAqB,IAAI,CAAC,KAAK,KAAK,EAAE;AACtC,oBAAoB,GAAG,KAAK,QAAQ,CAAC,GAAG;AACxC,oBAAoB,QAAQ,CAAC,GAAG,GAAG,SAAS;AAC5C,gBAAgB;AAChB,qBAAqB,IAAI,UAAU,IAAI,CAAC,IAAI,UAAU,EAAE;AACxD,oBAAoB,QAAQ,CAAC,CAAC,CAAC,GAAG,SAAS;AAC3C,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,QAAQ,OAAO,IAAI,WAAW,CAAC,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,CAAC;AACpF,IAAI,CAAC,CAAC;AACN;AACA;AACY,MAAC,KAAK,GAAG,CAAC,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG,KAAK,GAAG,CAAC,IAAI,EAAE,OAAO,EAAE,GAAG;AAC3E;AACY,MAAC,KAAK,GAAG,CAAC,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,KAAK,GAAG,CAAC,IAAI,EAAE,EAAE,GAAG,SAAS,EAAE,GAAG,OAAO,EAAE,EAAE,GAAG;AAC3G;AACY,MAAC,KAAK,GAAG,CAAC,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,EAAE,GAAG,KAAK,GAAG,CAAC,IAAI,EAAE,EAAE,GAAG,SAAS,EAAE,GAAG,OAAO,EAAE,QAAQ,EAAE,EAAE,GAAG,EAAE;AAC1H,MAAM,OAAO,GAAG,CAAC,KAAK,KAAK,KAAK,CAAC,QAAQ;;AC9DhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,GAAG,GAAG,CAAC,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,SAAS,EAAE,GAAG,KAAK;AACzD,IAAI,OAAO,SAAS,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,MAAM,GAAG;AACtB;AACA;AACA;AACA;AACA;AACY,MAAC,IAAI,GAAG;AACpB;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,GAAG,QAAQ,EAAE;AAC5C,IAAI,MAAM,eAAe,GAAG;AAC5B,QAAQ,QAAQ,EAAE,SAAS,CAAC,MAAM,GAAG,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI;AAClE,KAAK;AACL,IAAI,IAAI,GAAG,GAAG,IAAI;AAClB,IAAI,KAAK,MAAM,CAAC,IAAI,KAAK,EAAE;AAC3B,QAAQ,IAAI,CAAC,IAAI,KAAK,EAAE;AACxB,YAAY,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC;AAC1B,QAAQ;AACR,aAAa;AACb,YAAY,eAAe,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;AACzC,QAAQ;AACR,IAAI;AACJ,IAAI,IAAI,OAAO,IAAI,KAAK,QAAQ,IAAI,CAAC,GAAG,IAAI,yBAAyB,IAAI,eAAe,EAAE;AAC1F,QAAQ,GAAG,GAAG,WAAW;AACzB,IAAI;AACJ,IAAI,OAAO,SAAS,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,eAAe,CAAC,QAAQ,EAAE,CAAC,EAAE,GAAG,CAAC;AACzE;AACA;AACY,MAAC,QAAQ,GAAG,CAAC,KAAK,KAAK,KAAK,CAAC;AACzC;AACY,MAAC,UAAU,GAAG,CAAC,KAAK,EAAE,GAAG,KAAK;AAC1C,IAAI,OAAO,IAAI,WAAW,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,QAAQ,EAAE,GAAG,CAAC;AACpE;;AC/CA;AACY,MAAC,UAAU,GAAG,CAAC,GAAG,KAAK;AACnC,IAAI,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE,GAAG,kBAAkB,EAAE;AACtD,IAAI,IAAI,GAAG,EAAE;AACb,QAAQ;AACR,IAAI;AACJ,IAAI,SAAS,CAAC,GAAG,CAAC;AAClB,IAAI,GAAG,CAAC,CAAC,CAAC;AACV,IAAI,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,yBAAyB,CAAC,uBAAuB,CAAC,EAAE,IAAI,CAAC,aAAa,EAAE,GAAG,EAAE,SAAS,EAAE,IAAI,CAAC;AACxH;AACA;AACA;AACA,IAAI,GAAG,CAAC,IAAI,CAAC;AACb,IAAI,MAAM,SAAS,GAAG,IAAI,CAAC,WAAW;AACtC,IAAI,MAAM,MAAM,GAAG,OAAO,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC;AAC/D,IAAI,IAAI,SAAS,CAAC,MAAM,CAAC,EAAE;AAC3B,QAAQ,MAAM,MAAM;AACpB,IAAI;AACJ;AACO,MAAM,OAAO,GAAG,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,KAAK;AAClD,IAAI,IAAI,CAAC,OAAO,IAAI,EAAE;AACtB,IAAI,WAAW,CAAC,IAAI,CAAC;AACrB,IAAI,MAAM,IAAI,GAAG,gBAAgB,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,CAAC;AACjF,IAAI,IAAI,CAAC,WAAW,GAAG,SAAS;AAChC,IAAI,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,MAAM,eAAe,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AACjF,IAAI,MAAM,KAAK,GAAG,OAAO,CAAC,IAAI,EAAE,SAAS,CAAC;AAC1C,IAAI,MAAM,CAAC,OAAO,CAAC,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,SAAS,CAAC,WAAW,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;AACtF,IAAI,MAAM,OAAO,GAAG,EAAE,KAAK,EAAE,OAAO,EAAE;AACtC,IAAI,OAAO,QAAQ,CAAC,MAAM,MAAM,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,KAAK;AAC7D;AACA,QAAQ,IAAI,SAAS,CAAC,GAAG,CAAC,EAAE;AAC5B,YAAY,OAAO,GAAG,CAAC,IAAI,CAAC,MAAM,OAAO,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;AACjE,QAAQ;AACR,aAAa;AACb,YAAY,MAAM,GAAG;AACrB,QAAQ;AACR,IAAI,CAAC,CAAC;AACN,CAAC;AACM,MAAM,WAAW,GAAG,CAAC,IAAI,KAAK;AACrC,IAAI,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS;AAClC,IAAI,IAAI,OAAO,EAAE;AACjB,QAAQ,IAAI,CAAC,SAAS,GAAG,IAAI;AAC7B,QAAQ,IAAI;AACZ,YAAY,OAAO,EAAE;AACrB,QAAQ;AACR,QAAQ,OAAO,GAAG,EAAE;AACpB,YAAY,QAAQ,CAAC,GAAG,CAAC;AACzB,QAAQ;AACR,IAAI;AACJ,CAAC;AACM,MAAM,IAAI,SAASD,SAAO,CAAC;AAClC,IAAI,OAAO;AACX,IAAI,OAAO;AACX,IAAI,IAAI;AACR,IAAI,KAAK;AACT,IAAI,OAAO;AACX,IAAI,SAAS;AACb,IAAI,WAAW,CAAC,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,SAAS,EAAE;AACnE,QAAQ,KAAK,EAAE;AACf,QAAQ,IAAI,CAAC,OAAO,GAAG,OAAO;AAC9B,QAAQ,IAAI,CAAC,OAAO,GAAG,OAAO;AAC9B,QAAQ,IAAI,CAAC,IAAI,GAAG,IAAI;AACxB,QAAQ,IAAI,CAAC,KAAK,GAAG,KAAK;AAC1B,QAAQ,IAAI,CAAC,OAAO,GAAG,OAAO;AAC9B,QAAQ,IAAI,CAAC,SAAS,GAAG,SAAS;AAClC,IAAI;AACJ;AACA;AACY,MAAC,MAAM,GAAG,CAAC,KAAK,KAAK;AACjC,IAAI,OAAO,KAAK,YAAY,IAAI;AAChC;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,YAAY,GAAG,CAAC,MAAM,EAAE,OAAO,KAAK;AACjD,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,eAAe,EAAE;AACpC,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,GAAG,CAAC,gCAAgC,EAAE,2BAA2B,CAAC;AAC/F,IAAI,MAAM,SAAS,GAAG,eAAe,CAAC,OAAO,CAAC;AAC9C,IAAI,SAAS,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC;AACrC;;ACvEA;AACY,MAAC,cAAc,GAAG,CAAC,GAAG,EAAE,IAAI,KAAK;AAC7C,IAAI,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,GAAG,kBAAkB,EAAE;AACtD,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE;AACrB,QAAQ,OAAO,GAAG;AAClB,IAAI;AACJ,IAAI,SAAS,CAAC,GAAG,CAAC;AAClB,IAAI,MAAM,SAAS,GAAG,IAAI,CAAC,WAAW;AACtC,IAAI,MAAM,QAAQ,GAAG,oBAAoB,CAAC,SAAS,EAAE,IAAI,CAAC;AAC1D,IAAI,MAAM,EAAE,GAAG,IAAI,CAAC,aAAa;AACjC,IAAI,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,yBAAyB,CAAC,2BAA2B,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,CAAC;AAC3G,IAAI,GAAG,CAAC,QAAQ,CAAC;AACjB,IAAI,WAAW,CAAC,IAAI,EAAE,SAAS,EAAE,EAAE,CAAC;AACpC,IAAI,OAAO,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,QAAQ,GAAG,CAAC,KAAK,KAAK;AACnC;AACA,IAAI,OAAO,UAAU,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,yBAAyB,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC;AACtF;AACA,SAAS,yBAAyB,CAAC,KAAK,EAAE;AAC1C,IAAI,MAAM,QAAQ,GAAG,KAAK,CAAC,KAAK;AAChC,IAAI,IAAI,gBAAgB,CAAC,QAAQ,CAAC,EAAE;AACpC;AACA,QAAQ,MAAM,KAAK,GAAG,QAAQ,CAAC,MAAM;AACrC,QAAQ,MAAM,SAAS,GAAG,CAAC,gBAAgB,EAAE;AAC7C,QAAQ,IAAI,SAAS,EAAE;AAEvB,YAAY,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,CAAC,SAAS,EAAE;AACxD,gBAAgB,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;AACpF,YAAY;AACZ,iBAAiB,IAAI,KAAK,KAAK,UAAU,IAAI,KAAK,CAAC,UAAU,EAAE;AAC/D,gBAAgB,OAAO,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;AACpG,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,MAAM,aAAa,GAAG,OAAO,CAAC,MAAM,QAAQ,CAAC,SAAS,CAAC;AACvE,gBAAgB,IAAI,aAAa,KAAK,SAAS,EAAE;AACjD;AACA,oBAAoB,OAAO,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;AACtG,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,QAAQ,OAAO,OAAO,CAAC,MAAM,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,UAAU,CAAC,EAAE,oBAAoB,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;AACjI,IAAI;AACJ,SAAS,IAAI,SAAS,CAAC,QAAQ,CAAC,EAAE;AAClC,QAAQ,OAAO,QAAQ,CAAC,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,UAAU,CAAC,EAAE,oBAAoB,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;AAC5G,IAAI;AACJ,SAAS,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAE;AACjC,QAAQ,MAAM,KAAK,GAAG,cAAc,CAAC,MAAM,QAAQ,CAAC,KAAK,CAAC;AAC1D,QAAQ,MAAM,OAAO,GAAG,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC;AACzE,QAAQ,OAAO,OAAO,CAAC,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;AACnE,IAAI;AACJ,SAAS;AACT,QAAQ,OAAO,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;AACrF,IAAI;AACJ;AACO,MAAM,qBAAqB,GAAG,CAAC,IAAI,KAAK;AAC/C,IAAI,MAAM,QAAQ,GAAG;AACrB,QAAQ,OAAO,EAAE,UAAU;AAC3B,QAAQ,KAAK,EAAE,SAAS;AACxB,QAAQ,OAAO,EAAE,CAAC,gBAAgB,EAAE;AACpC,QAAQ,SAAS,EAAE,SAAS;AAC5B,QAAQ,MAAM,EAAE,SAAS;AACzB,QAAQ,MAAM,EAAE,SAAS;AACzB,QAAQ,QAAQ,EAAE,IAAI,EAAE,OAAO,IAAI,EAAE;AACrC,QAAQ,MAAM,EAAE,CAAC;AACjB,KAAK;AACL,IAAI,OAAO,QAAQ;AACnB,CAAC;AACM,MAAM,oBAAoB,GAAG,CAAC,SAAS,EAAE,IAAI,EAAE,cAAc,KAAK;AACzE,IAAI,MAAM,MAAM,GAAG,qBAAqB,CAAC,IAAI,CAAC;AAC9C,IAAI,MAAM,CAAC,KAAK,GAAG,cAAc;AACjC,IAAI,OAAO,WAAW,CAAC,SAAS,EAAE,MAAM,EAAE,CAAC,4BAA4B;AACvE,CAAC;AACM,MAAM,gBAAgB,GAAG,CAAC,GAAG,KAAK;AACzC,IAAI,OAAO,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE,OAAO,KAAK,UAAU;AAC/E,CAAC;AACM,MAAM,WAAW,GAAG,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,KAAK;AACtD,IAAI,IAAI,CAAC,OAAO,IAAI,EAAE;AACtB,IAAI,WAAW,CAAC,IAAI,CAAC;AACrB,IAAI,MAAM,IAAI,GAAG,gBAAgB,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,SAAS,EAAE,aAAa,CAAC;AACrF,IAAI,IAAI,CAAC,WAAW,GAAG,SAAS;AAChC,IAAI,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,MAAM,eAAe,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AACjF,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,OAAO;AACjC,IAAI,aAAa,CAAC,QAAQ,EAAE,0EAA0E,EAAE,IAAI,CAAC;AAC7G,IAAI,MAAM,KAAK,GAAG,OAAO,CAAC,IAAI,EAAE,SAAS,CAAC;AAC1C,IAAI,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,SAAS,CAAC,WAAW,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;AAChG,IAAI,MAAM,cAAc,GAAG,WAAW,CAAC,QAAQ,CAAC;AAChD,IAAI,MAAM,IAAI,GAAG;AACjB,QAAQ,KAAK;AACb,QAAQ,OAAO;AACf,QAAQ,KAAK,CAAC,MAAM,EAAE;AACtB,YAAY,IAAI,YAAY,GAAG,CAAC;AAChC,YAAY,IAAI,MAAM,KAAK,WAAW,EAAE;AACxC,gBAAgB,YAAY,GAAG,QAAQ;AACvC,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,YAAY,GAAG,MAAM;AACrC,YAAY;AACZ,YAAY,QAAQ,CAAC,MAAM,GAAG,YAAY;AAC1C,QAAQ,CAAC;AACT,QAAQ,QAAQ,EAAE,cAAc,CAAC,SAAS;AAC1C,KAAK;AACL,IAAI,IAAI,OAAO;AACf,IAAI,IAAI,MAAM;AACd,IAAI,IAAI,IAAI,GAAG,KAAK;AACpB,IAAI,MAAM,QAAQ,GAAG,CAAC,QAAQ,EAAE,KAAK,KAAK;AAC1C,QAAQ,IAAI,CAAC,IAAI,EAAE;AACnB,YAAY,IAAI,GAAG,IAAI;AACvB,YAAY,IAAI,QAAQ,EAAE;AAC1B,gBAAgB,IAAI,GAAG,IAAI;AAC3B,gBAAgB,cAAc,CAAC,OAAO,GAAG,KAAK;AAC9C,gBAAgB,cAAc,CAAC,MAAM,GAAG,UAAU;AAClD,gBAAgB,cAAc,CAAC,SAAS,GAAG,KAAK;AAChD,gBAAgB,cAAc,CAAC,MAAM,GAAG,SAAS;AACjD,gBAAgB,OAAO,CAAC,KAAK,CAAC;AAC9B,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,IAAI,GAAG,IAAI;AAC3B,gBAAgB,cAAc,CAAC,OAAO,GAAG,KAAK;AAC9C,gBAAgB,cAAc,CAAC,MAAM,GAAG,UAAU;AAClD,gBAAgB,cAAc,CAAC,MAAM,GAAG,KAAK;AAC7C,gBAAgB,MAAM,CAAC,KAAK,CAAC;AAC7B,YAAY;AACZ,YAAY,IAAI,CAAC,gBAAgB,EAAE,EAAE;AACrC,gBAAgB,iBAAiB,CAAC,QAAQ,EAAE,QAAQ,CAAC;AACrD,YAAY;AACZ,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,QAAQ,OAAO,KAAK;AACpB,IAAI,CAAC;AACL;AACA;AACA;AACA;AACA,IAAI,QAAQ,CAAC,IAAI,CAAC,MAAM;AACxB,QAAQ,IAAI,OAAO,CAAC,MAAM,QAAQ,CAAC,OAAO,CAAC,KAAK,IAAI,EAAE;AACtD,YAAY,MAAM,KAAK,GAAG,OAAO,CAAC,MAAM,QAAQ,CAAC,SAAS,CAAC;AAC3D,YAAY,QAAQ,CAAC,IAAI,EAAE,KAAK,CAAC;AACjC,QAAQ;AACR,IAAI,CAAC,CAAC;AACN;AACA;AACA,IAAI,MAAM,CAAC,IAAI,EAAE,MAAM;AACvB;AACA,QAAQ,QAAQ,CAAC,MAAM,GAAG,SAAS;AACnC,QAAQ,QAAQ,CAAC,OAAO,GAAG,CAAC,gBAAgB,EAAE;AAC9C,QAAQ,QAAQ,CAAC,KAAK,GAAG,IAAI,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,KAAK;AAChD,YAAY,OAAO,GAAG,CAAC;AACvB,YAAY,MAAM,GAAG,EAAE;AACvB,QAAQ,CAAC,CAAC;AACV,IAAI,CAAC,CAAC;AACN,IAAI,MAAM,OAAO,GAAG,QAAQ,CAAC,MAAM,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,KAAK;AAC5D,QAAQ,QAAQ,CAAC,IAAI,EAAE,KAAK,CAAC;AAC7B,IAAI,CAAC,EAAE,CAAC,GAAG,KAAK;AAChB,QAAQ,IAAI,SAAS,CAAC,GAAG,CAAC,EAAE;AAC5B,YAAY,OAAO,GAAG,CAAC,IAAI,CAAC,MAAM,WAAW,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;AACrE,QAAQ;AACR,aAAa;AACb,YAAY,QAAQ,CAAC,KAAK,EAAE,GAAG,CAAC;AAChC,QAAQ;AACR,IAAI,CAAC,CAAC;AACN,IAAI,MAAM,OAAO,GAAG,cAAc,CAAC,QAAQ;AAC3C,IAAI,IAAI,OAAO,GAAG,CAAC,EAAE;AACrB,QAAQ,OAAO,OAAO,CAAC,IAAI,CAAC;AAC5B,YAAY,OAAO;AACnB,YAAY,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,MAAM;AACtC,gBAAgB,IAAI,QAAQ,CAAC,KAAK,EAAE,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE;AAC3D,oBAAoB,WAAW,CAAC,IAAI,CAAC;AACrC,gBAAgB;AAChB,YAAY,CAAC,CAAC;AACd,SAAS,CAAC;AACV,IAAI;AACJ,IAAI,OAAO,OAAO;AAClB,CAAC;;ACzPD;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,IAAI,GAAG,CAAC,KAAK,KAAK;AAC/B,IAAI,OAAO,UAAU,CAAC,OAAO,EAAE,IAAI,EAAE,EAAE,CAAC,MAAM,GAAG,EAAE,EAAE,EAAE,KAAK,CAAC,QAAQ,EAAE,CAAC,EAAE,KAAK,CAAC,IAAI,IAAI,EAAE,CAAC;AAC3F;;ACJA;AACO,MAAM,UAAU,GAAG;AAC1B,IAAI,SAAS;AACb,IAAI,IAAI;AACR,IAAI,IAAI;AACR,IAAI,KAAK;AACT,IAAI,EAAE;AACN,IAAI,WAAW;AACf,IAAI,SAAS;AACb,IAAI,iBAAiB;AACrB,IAAI,eAAe;AACnB,IAAI,cAAc;AAClB,IAAI,IAAI;AACR,IAAI,QAAQ;AACZ,IAAI,GAAG;AACP,IAAI,QAAQ;AACZ,IAAI,CAAC,QAAQ;AACb,IAAI,MAAM,CAAC,gBAAgB;AAC3B,IAAI,MAAM,CAAC,gBAAgB,GAAG,CAAC;AAC/B,IAAI,MAAM,CAAC,gBAAgB;AAC3B,CAAC;AACD;AACO,MAAM,cAAc,GAAG;AAC9B,IAAI,WAAW;AACf,IAAI,MAAM;AACV,IAAI,MAAM;AACV,IAAI,OAAO;AACX,IAAI,IAAI;AACR,IAAI,aAAa;AACjB,IAAI,WAAW;AACf,IAAI,mBAAmB;AACvB,IAAI,iBAAiB;AACrB,IAAI,gBAAgB;AACpB,IAAI,MAAM;AACV,IAAI,UAAU;AACd,IAAI,KAAK;AACT,IAAI,UAAU;AACd,IAAI,WAAW;AACf,IAAI,kBAAkB;AACtB,IAAI,oBAAoB;AACxB,IAAI,kBAAkB;AACtB,CAAC;AACD;AACO,MAAM,YAAY,GAAG;AAC5B,IAAI,OAAO;AACX,IAAI,SAAS;AACb,IAAI,YAAY;AAChB,IAAI,UAAU;AACd,IAAI,OAAO;AACX,IAAI,QAAQ;AACZ,IAAI,KAAK;AACT,IAAI,MAAM;AACV,IAAI,OAAO;AACX,IAAI,OAAO;AACX,IAAI,UAAU;AACd,IAAI,QAAQ;AACZ,IAAI,iBAAiB;AACrB,IAAI,aAAa;AACjB,IAAI,OAAO;AACX,IAAI,SAAS;AACb,IAAI,KAAK;AACT,IAAI,KAAK;AACT,IAAI,YAAY;AAChB,IAAI,KAAK;AACT,IAAI,YAAY;AAChB,IAAI,MAAM;AACV,IAAI,UAAU;AACd,IAAI,WAAW;AACf,IAAI,QAAQ;AACZ,IAAI,eAAe;AACnB,IAAI,gBAAgB;AACpB,IAAI,qBAAqB;AACzB,IAAI,kBAAkB;AACtB,IAAI,OAAO;AACX,IAAI,UAAU;AACd,IAAI,SAAS;AACb,IAAI,YAAY;AAChB,IAAI,kBAAkB;AACtB,CAAC;;AC9EM,SAAS,WAAW,CAAC,oBAAoB,EAAE,KAAK,EAAE,GAAG,EAAE;AAC9D,IAAI,IAAI,MAAM,GAAG,KAAK,CAAC,QAAQ;AAC/B,IAAI,IAAI,KAAK,GAAG,KAAK,CAAC,OAAO;AAC7B,IAAI,MAAM,QAAQ,GAAG,WAAW,EAAE;AAClC,IAAI,IAAI,QAAQ,EAAE;AAClB,QAAQ,MAAM,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,MAAM,EAAE,KAAK,EAAE,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC;AAC9E,QAAQ,IAAI,MAAM,EAAE;AACpB,YAAY,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC;AAC7B,YAAY,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC;AAC9B,QAAQ;AACR,IAAI;AACJ,IAAI,MAAM,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC;AACnC,IAAI,IAAI,CAAC,MAAM,EAAE;AACjB;AACA,QAAQ,IAAI,CAAC,KAAK,EAAE;AACpB,YAAY,KAAK,GAAG,oBAAoB,CAAC,uBAAuB,CAAC,KAAK,CAAC,MAAM,CAAC;AAC9E,QAAQ;AACR;AACA,QAAQ,IAAI,KAAK,EAAE;AACnB,YAAY,MAAM,WAAW,IAAI,UAAU,CAAC,oBAAoB;AAChE,gBAAgB,IAAI,GAAG,EAAE,CAAC;AAC1B;AACA,YAAY,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,QAAQ,CAAC;AAC3D,YAAY,IAAI,CAAC,KAAK,EAAE;AACxB,gBAAgB,KAAK,GAAG,iBAAiB;AACzC,YAAY;AACZ,QAAQ;AACR,QAAQ,IAAI,CAAC,KAAK,EAAE;AACpB,YAAY,MAAM,MAAM,CAAC,EAAE,+BAA+B,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;AAC3E,QAAQ;AACR,QAAQ,IAAI,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;AACpC,YAAY,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;AAClC,QAAQ;AACR,IAAI;AACJ,SAAS;AACT,QAAQ,MAAM,EAAE,GAAG,KAAK,CAAC,QAAQ;AACjC,QAAQ,KAAK,GAAG,EAAE;AAClB;AACA,QAAQ,MAAM,GAAG,MAAM,CAAC,oBAAoB,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;AACtE,IAAI;AACJ,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,KAAK,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;AAChG;AACA,QAAQ,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,oBAAoB,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACnG,IAAI;AACJ,IAAI,IAAI,GAAG,EAAE;AACb,QAAQ,OAAO,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC,SAAS,CAAC;AAC/C,IAAI;AACJ,IAAI,IAAI,eAAe,GAAG,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;AAC9C,IAAI,IAAI,KAAK,CAAC,SAAS,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;AACvD,QAAQ,eAAe,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AAC3D,IAAI;AACJ,IAAI,OAAO,eAAe;AAC1B;AACO,SAAS,wBAAwB,CAAC,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE;AACpE,IAAI,IAAI,MAAM,GAAG,IAAI;AACrB,IAAI,IAAI,KAAK,IAAI,KAAK,KAAK,iBAAiB,EAAE;AAC9C,QAAQ,MAAM,WAAW,GAAG,UAAU,CAAC,oBAAoB;AAC3D,QAAQ,aAAa,CAAC,WAAW,EAAE,2BAA2B,CAAC;AAC/D,QAAQ,MAAM,GAAG,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC;AACxC,IAAI;AACJ,IAAI,OAAO,SAAS,CAAC,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,CAAC;AACnE;AACA;AACO,SAAS,QAAQ,CAAC,GAAG,EAAE;AAC9B,IAAI,MAAM,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC;AACpC,IAAI,MAAM,YAAY,GAAG,GAAG,CAAC,OAAO,CAAC,GAAG,EAAE,OAAO,CAAC;AAClD,IAAI,MAAM,UAAU,GAAG,GAAG,CAAC,OAAO,CAAC,GAAG,EAAE,YAAY,CAAC;AACrD,IAAI,MAAM,KAAK,GAAG,OAAO,GAAG,EAAE,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,YAAY,CAAC;AACnF,IAAI,MAAM,MAAM,GAAG,YAAY,GAAG,EAAE,GAAG,GAAG,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,EAAE,YAAY,CAAC,GAAG,GAAG,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC;AACpG,IAAI,MAAM,UAAU,GAAG,YAAY,GAAG,EAAE,IAAI,UAAU,GAAG;AACzD,UAAU;AACV,aAAa,KAAK,CAAC,YAAY,GAAG,CAAC,EAAE,UAAU;AAC/C,aAAa,KAAK,CAAC,GAAG;AACtB,aAAa,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,MAAM;AACnC,aAAa,GAAG,CAAC,CAAC,CAAC,KAAK,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC;AACvC,UAAU,IAAI;AACd,IAAI,OAAO,wBAAwB,CAAC,KAAK,EAAE,MAAM,EAAE,UAAU,CAAC;AAC9D;AACO,MAAM,iBAAiB,GAAG,YAAY;;AClEtC,MAAM,SAAS,GAAG,IAAI,OAAO,EAAE;AAC/B,MAAM,mBAAmB,GAAG,IAAI,GAAG,EAAE;AACrC,MAAM,QAAQ,GAAG,CAAC,SAAS,EAAE,MAAM,EAAE,KAAK,KAAK;AACtD,IAAI,QAAQ,MAAM;AAClB,QAAQ,KAAK,CAAC;AACd,YAAY,OAAO,KAAK;AACxB,QAAQ,KAAK,CAAC;AACd,YAAY,OAAO,SAAS,CAAC,eAAe,CAAC,KAAK,CAAC;AACnD,QAAQ,KAAK,CAAC;AACd,YAAY,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE;AAC1C,gBAAgB,OAAO,cAAc;AACrC,YAAY;AACZ,YAAY,MAAM,OAAO,GAAG,SAAS,CAAC,aAAa,CAAC,KAAK,CAAC;AAC1D,YAAY,IAAI,OAAO,KAAK,EAAE,IAAI,OAAO,KAAK,SAAS,EAAE;AACzD,gBAAgB,OAAO,cAAc;AACrC,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,OAAO,SAAS,CAAC,eAAe,CAAC,OAAO,CAAC;AACzD,YAAY;AACZ,QAAQ,KAAK,EAAE;AACf,YAAY,OAAO,KAAK;AACxB,QAAQ,KAAK,CAAC;AACd,YAAY,OAAO,UAAU,CAAC,KAAK,CAAC;AACpC,QAAQ,KAAK,CAAC;AACd,YAAY,OAAO,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;AAC1C,QAAQ,KAAK,CAAC;AACd,YAAY,OAAO,EAAE;AACrB,QAAQ,KAAK,EAAE;AACf,QAAQ,KAAK,EAAE,2BAA2B;AAC1C,YAAY,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;AAC3C,gBAAgB,MAAM,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC;AACzD,gBAAgB,MAAM,KAAK,GAAG,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAChE,gBAAgB,MAAM,MAAM,GAAG,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACjE,gBAAgB,MAAM,UAAU,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI;AACzE,gBAAgB,OAAO,wBAAwB,CAAC,KAAK,EAAE,MAAM,EAAE,UAAU,CAAC;AAC1E,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,OAAO,wBAAwB,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;AAClE,YAAY;AACZ,QAAQ;AACR,QAAQ,KAAK,EAAE;AACf,YAAY,OAAO,IAAI,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;AAC3D,QAAQ,KAAK,EAAE,yBAAyB;AACxC,YAAY,MAAM,GAAG,GAAG,oBAAoB,CAAC,SAAS;AACtD;AACA,YAAY,SAAS,EAAE,SAAS,CAAC;AACjC,YAAY,GAAG,CAAC,OAAO,GAAG,KAAK;AAC/B,YAAY,OAAO,GAAG;AACtB,QAAQ;AACR,QAAQ,KAAK,CAAC;AACd,YAAY,OAAO,IAAI,GAAG,CAAC,KAAK,CAAC;AACjC,QAAQ,KAAK,CAAC;AACd,YAAY,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC;AAClC,QAAQ,KAAK,CAAC;AACd,YAAY,MAAM,GAAG,GAAG,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC;AAC9C,YAAY,OAAO,IAAI,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;AACxE,QAAQ,KAAK,EAAE;AACf,YAAY,OAAO,IAAI,KAAK,EAAE;AAC9B,QAAQ,KAAK,EAAE;AACf,YAAY,OAAO,YAAY,CAAC,IAAI,CAAC;AACrC,QAAQ,KAAK,EAAE;AACf,YAAY,OAAO,IAAI,UAAU,CAAC,SAAS,EAAE,CAAC,CAAC;AAC/C,QAAQ,KAAK,EAAE;AACf,YAAY,OAAO,IAAI,iBAAiB,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;AACrE,QAAQ,KAAK,EAAE;AACf,YAAY,OAAO,IAAI,kBAAkB,CAAC,SAAS,EAAE,IAAI,CAAC;AAC1D,QAAQ,KAAK,EAAE;AACf,YAAY,OAAO,IAAI,uBAAuB,CAAC,SAAS,EAAE,IAAI,CAAC;AAC/D,QAAQ,KAAK,EAAE;AACf,YAAY,OAAO,IAAI,oBAAoB,CAAC,SAAS,EAAE,IAAI,CAAC;AAC5D,QAAQ,KAAK,EAAE,sBAAsB;AACrC,YAAY,MAAM,IAAI,GAAG,KAAK;AAC9B;AACA;AACA;AACA,YAAY,MAAM,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;AAC7B,YAAY,MAAM,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;AAC7B,YAAY,MAAM,UAAU,GAAG,QAAQ,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC;AACxD,YAAY,MAAM,KAAK,GAAG,gBAAgB,CAAC,UAAU,EAAE,CAAC,wBAAwB,SAAS,CAAC;AAC1F,YAAY,IAAI,cAAc,CAAC,CAAC,CAAC,EAAE;AACnC,gBAAgB,mBAAmB,CAAC,GAAG,CAAC,UAAU,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;AAC7D,YAAY;AACZ;AACA,YAAY,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC;AACvB,YAAY,IAAI,CAAC,CAAC,CAAC,GAAG,UAAU;AAChC,YAAY,OAAO,KAAK;AACxB,QAAQ;AACR,QAAQ,KAAK,EAAE;AACf,YAAY,OAAO,IAAI,eAAe,CAAC,KAAK,CAAC;AAC7C,QAAQ,KAAK,EAAE;AACf,YAAY,OAAO,IAAI,QAAQ,EAAE;AACjC,QAAQ,KAAK,EAAE;AACf,YAAY,OAAO,IAAI,WAAW,CAAC,IAAI,CAAC;AACxC,QAAQ,KAAK,EAAE;AACf,YAAY,OAAO,MAAM,CAAC,KAAK,CAAC;AAChC,QAAQ,KAAK,EAAE;AACf,YAAY,OAAO,IAAI,GAAG,EAAE;AAC5B,QAAQ,KAAK,EAAE;AACf,YAAY,OAAO,IAAI,GAAG,EAAE;AAC5B,QAAQ,KAAK,EAAE;AACf,YAAY,IAAI,OAAO;AACvB,YAAY,IAAI,MAAM;AACtB,YAAY,MAAM,OAAO,GAAG,IAAI,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG,KAAK;AACtD,gBAAgB,OAAO,GAAG,GAAG;AAC7B,gBAAgB,MAAM,GAAG,GAAG;AAC5B,YAAY,CAAC,CAAC;AACd,YAAY,SAAS,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;AACrD;AACA,YAAY,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;AACpC,YAAY,OAAO,OAAO;AAC1B,QAAQ,KAAK,EAAE;AACf,YAAY,MAAM,aAAa,GAAG,KAAK,CAAC,MAAM;AAC9C,YAAY,MAAM,MAAM,GAAG,aAAa,KAAK,CAAC;AAC9C,YAAY,MAAM,IAAI,GAAG,aAAa,GAAG,CAAC;AAC1C,YAAY,MAAM,aAAa,GAAG,MAAM,GAAG,CAAC,IAAI,IAAI,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;AACpE,YAAY,OAAO,IAAI,UAAU,CAAC,aAAa,CAAC;AAChD,QAAQ,KAAK,EAAE;AACf,YAAY,OAAO,gBAAgB,CAAC,IAAI,CAAC;AACzC,QAAQ,KAAK,CAAC;AACd,YAAY,OAAO,uBAAuB,CAAC,SAAS,EAAE,KAAK,CAAC;AAC5D,QAAQ,KAAK,EAAE;AACf,YAAY,MAAM,KAAK,GAAG,uBAAuB,CAAC,SAAS,EAAE,KAAK,CAAC;AACnE,YAAY,IAAI,aAAa,CAAC,KAAK,CAAC,EAAE;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,kBAAkB,CAAC,KAAK,CAAC;AACzC,gBAAgB,OAAO,aAAa,CAAC,KAAK,CAAC;AAC3C,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,MAAM,MAAM,CAAC,EAAE,2CAA2C,CAAC,OAAO,KAAK,CAAC,CAAC;AACzF,YAAY;AACZ,QAAQ,KAAK,EAAE;AACf,YAAY,OAAO,IAAI,gBAAgB,CAAC,EAAE,CAAC;AAC3C,QAAQ;AACR,YAAY,MAAM,MAAM,CAAC,EAAE,4CAA4C,CAAC,MAAM,CAAC,CAAC;AAChF;AACA,CAAC;AACM,SAAS,uBAAuB,CAAC,SAAS,EAAE,KAAK,EAAE;AAC1D,IAAI,OAAO;AACX,UAAU,SAAS,CAAC;AACpB,cAAc,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,KAAK;AACrD,cAAc;AACd,UAAU,SAAS,CAAC,OAAO,EAAE,aAAa;AAC1C;;ACnLA;AACA;AACA,MAAM,mBAAmB,GAAG,4BAA4B;AACxD;AACA,MAAM,mBAAmB,GAAG,wBAAwB;AACpD;AACA,MAAM,iBAAiB,GAAG,iCAAiC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,GAAG,GAAG,CAAC,SAAS,EAAE,MAAM,EAAE,mBAAmB,GAAG,WAAW,EAAE,WAAW,GAAG,CAAC,KAAK;AAC9F,IAAI,IAAI,KAAK,GAAG,IAAI;AACpB,IAAI,IAAI,QAAQ,GAAG,IAAI;AACvB,IAAI,IAAI,UAAU,CAAC,SAAS,CAAC,EAAE;AAC/B,QAAQ,QAAQ,GAAG,SAAS;AAC5B,QAAQ,IAAI,UAAU,EAAE;AACxB,YAAY,IAAI,KAAK;AACrB,YAAY,MAAM,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC;AAC7C,YAAY,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,mBAAmB,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC,EAAE;AAC1E,gBAAgB,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC;AAChC,YAAY;AACZ,iBAAiB,KAAK,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,mBAAmB,CAAC,GAAG;AACnE,gBAAgB,MAAM,GAAG,GAAG,WAAW;AACvC,gBAAgB,MAAM,MAAM,GAAG,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC;AAC/D,gBAAgB,MAAM,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;AACtE,gBAAgB,MAAM,KAAK,GAAG,MAAM,CAAC,KAAK,GAAG,CAAC,GAAG,WAAW,CAAC;AAC7D,gBAAgB,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,iBAAiB,CAAC;AACtD,gBAAgB,IAAI,CAAC,KAAK,EAAE;AAC5B,oBAAoB,KAAK,GAAG,MAAM;AAClC,gBAAgB;AAChB,qBAAqB;AACrB,oBAAoB,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC;AACpC,gBAAgB;AAChB,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,MAAM,MAAM,CAAC,CAAC,mCAAmC,CAAC,OAAO,CAAC,CAAC;AAC3E,YAAY;AACZ,QAAQ;AACR,IAAI;AACJ,SAAS,IAAI,QAAQ,CAAC,SAAS,CAAC,EAAE;AAClC,QAAQ,KAAK,GAAG,SAAS;AACzB,IAAI;AACJ,SAAS;AACT,QAAQ,MAAM,MAAM,CAAC,CAAC,mCAAmC,CAAC,SAAS,CAAC,CAAC;AACrE,IAAI;AACJ;AACA,IAAI,OAAO,SAAS,CAAC,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,mBAAmB,CAAC;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,UAAU,GAAG,CAAC,MAAM,EAAE,UAAU,EAAE,mBAAmB,GAAG,WAAW,KAAK;AACrF;AACA,IAAI,OAAO,SAAS,CAAC,IAAI,EAAE,UAAU,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,mBAAmB,CAAC;AAC/E;AACA;AACY,MAAC,QAAQ,GAAG,CAAC,UAAU,EAAE,mBAAmB,GAAG,WAAW,KAAK;AAC3E,IAAI,OAAO,SAAS,CAAC,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,mBAAmB,CAAC;AAC7E;AACA;AACY,MAAC,WAAW,GAAG,CAAC,UAAU,EAAE,IAAI,EAAE,mBAAmB,GAAG,WAAW,KAAK;AACpF,IAAI,MAAM,MAAM,GAAG,QAAQ,CAAC,UAAU,EAAE,mBAAmB,CAAC;AAC5D,IAAI,MAAM,CAAC,GAAG,GAAG,IAAI;AACrB,IAAI,OAAO,MAAM;AACjB;AACA;AACY,MAAC,MAAM,GAAG,CAAC,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,mBAAmB,GAAG,WAAW,KAAK;AACtF,IAAI,MAAM,MAAM,GAAG,GAAG,CAAC,SAAS,EAAE,MAAM,EAAE,mBAAmB,EAAE,CAAC,CAAC;AACjE,IAAI,MAAM,CAAC,GAAG,GAAG,IAAI;AACrB,IAAI,OAAO,MAAM;AACjB;AACA;AACY,MAAC,aAAa,GAAG,CAAC,MAAM,EAAE,UAAU,EAAE,IAAI,EAAE,mBAAmB,GAAG,WAAW,KAAK;AAC9F,IAAI,MAAM,GAAG,GAAG,UAAU,CAAC,MAAM,EAAE,UAAU,EAAE,mBAAmB,CAAC;AACnE,IAAI,GAAG,CAAC,GAAG,GAAG,IAAI;AAClB,IAAI,OAAO,GAAG;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,UAAU,GAAG,CAAC,MAAM,EAAE,IAAI,KAAK;AAC5C,IAAI,IAAI,OAAO,UAAU,CAAC,kBAAkB,KAAK,WAAW,EAAE;AAC9D,QAAQ,UAAU,CAAC,kBAAkB,GAAG,IAAI,GAAG,EAAE;AACjD,IAAI;AACJ,IAAI,UAAU,CAAC,kBAAkB,CAAC,GAAG,CAAC,IAAI,EAAE,MAAM,CAAC;AACnD,IAAI,OAAO,MAAM;AACjB;;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAM,gBAAgB,GAAG,CAAC,SAAS,EAAE,UAAU,EAAE,gBAAgB,EAAE,YAAY,EAAE,KAAK,KAAK;AAClG,IAAI,MAAM,IAAI,GAAG,gBAAgB,CAAC,SAAS,CAAC,QAAQ,EAAE,gBAAgB,IAAI,SAAS,EAAE,SAAS,EAAE,WAAW,CAAC;AAC5G,IAAI,IAAI,gBAAgB,EAAE;AAC1B,QAAQ,IAAI,CAAC,kBAAkB,GAAG,aAAa,CAAC,gBAAgB,EAAE,GAAG,gCAAgC;AACrG,QAAQ,IAAI,CAAC,WAAW,GAAG,SAAS;AACpC,IAAI;AACJ,IAAI,IAAI,WAAW;AACnB,IAAI,SAAS,CAAC,wBAAwB,CAAC,UAAU,CAAC;AAClD,IAAI,IAAI,iBAAiB,GAAG,KAAK;AACjC,IAAI,IAAI,YAAY,KAAK,IAAI,EAAE;AAC/B,QAAQ,YAAY,GAAG,SAAS,CAAC,WAAW,CAAC,UAAU,EAAE,YAAY,CAAC;AACtE,QAAQ,aAAa,CAAC,YAAY,EAAE,qCAAqC,CAAC;AAC1E,IAAI;AACJ,IAAI,IAAI,KAAK,CAAC,YAAY,CAAC,EAAE;AAC7B,QAAQ,KAAK,GAAG,KAAK,IAAI,SAAS,CAAC,WAAW,CAAC,UAAU,EAAE,aAAa,CAAC,IAAI,SAAS;AACtF,QAAQ,IAAI,UAAU,IAAI,KAAK,EAAE;AACjC,YAAY,OAAO,KAAK,CAAC,QAAQ;AACjC,QAAQ;AACR,QAAQ,WAAW,GAAG,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC;AAC9C,IAAI;AACJ,SAAS,IAAI,eAAe,CAAC,YAAY,CAAC,EAAE;AAC5C,QAAQ,MAAM,YAAY,GAAG,YAAY;AACzC,QAAQ,WAAW,GAAG,MAAM,WAAW,CAAC,IAAI,EAAE,YAAY,EAAE,CAAC,KAAK,IAAI,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;AAC1F,IAAI;AACJ,SAAS;AACT,QAAQ,iBAAiB,GAAG,IAAI;AAChC,QAAQ,MAAM,eAAe,GAAG,YAAY;AAC5C,QAAQ,WAAW,GAAG,MAAM,WAAW,CAAC,IAAI,EAAE,eAAe,EAAE,CAAC,KAAK,IAAI,SAAS,CAAC,CAAC;AACpF,IAAI;AACJ,IAAI,MAAM,yCAAyC,GAAG,CAAC,UAAU,GAAG,CAAC,KAAK,QAAQ,CAAC,MAAM;AACzF,QAAQ,IAAI,CAAC,iBAAiB,EAAE;AAChC,YAAY,SAAS,CAAC,WAAW,CAAC,UAAU,EAAE,eAAe,EAAE,IAAI,CAAC;AACpE,YAAY,SAAS,CAAC,WAAW,CAAC,UAAU,EAAE,oBAAoB,EAAE,IAAI,CAAC;AACzE,QAAQ;AACR,QAAQ,IAAI,UAAU,GAAG,CAAC,IAAI,aAAa,CAAC,UAAU,CAAC,EAAE;AACzD,YAAY,eAAe,CAAC,SAAS,EAAE,UAAU,CAAC;AAClD,QAAQ;AACR,QAAQ,OAAO,WAAW,CAAC,KAAK,CAAC;AACjC,IAAI,CAAC,EAAE,CAAC,GAAG,KAAK;AAChB,QAAQ,MAAM,WAAW,GAAG,SAAS,CAAC,WAAW,CAAC,UAAU,EAAE,YAAY,CAAC;AAC3E,QAAQ,IAAI,WAAW,EAAE;AACzB,YAAY,OAAO,cAAc,CAAC,GAAG,EAAE,WAAW,CAAC;AACnD,QAAQ;AACR,QAAQ,OAAO,GAAG;AAClB,IAAI,CAAC,EAAE,CAAC,GAAG,KAAK;AAChB,QAAQ,IAAI,SAAS,CAAC,GAAG,CAAC,IAAI,UAAU,GAAG,0BAA0B,EAAE;AACvE,YAAY,OAAO,GAAG,CAAC,IAAI,CAAC,MAAM,yCAAyC,CAAC,EAAE,UAAU,CAAC,CAAC;AAC1F,QAAQ;AACR,aAAa;AACb,YAAY,IAAI,UAAU,IAAI,0BAA0B,EAAE;AAC1D,gBAAgB,MAAM,IAAI,KAAK,CAAC,CAAC,8CAA8C,CAAC,CAAC;AACjF,YAAY;AACZ,YAAY,MAAM,GAAG;AACrB,QAAQ;AACR,IAAI,CAAC,CAAC;AACN,IAAI,OAAO,yCAAyC,EAAE;AACtD,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,cAAc,CAAC,GAAG,EAAE,WAAW,EAAE;AAC1C,IAAI,MAAM,UAAU,GAAG,oBAAoB,CAAC,GAAG,CAAC;AAChD,IAAI,IAAI,SAAS,GAAG,GAAG;AACvB,IAAI,MAAM,aAAa,GAAG,aAAa;AACvC,IAAI,OAAO,SAAS,CAAC,UAAU,EAAE,CAAC,UAAU,KAAK;AACjD;AACA,QAAQ,MAAM,UAAU,GAAG,CAAC,UAAU;AACtC;AACA,QAAQ,IAAI,kBAAkB,GAAG,IAAI;AACrC,QAAQ,KAAK,MAAM,GAAG,IAAI,WAAW,EAAE;AACvC,YAAY,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,CAAC,EAAE;AACxE,gBAAgB,IAAI,aAAa,GAAG,UAAU;AAC9C,gBAAgB,IAAI,QAAQ,GAAG,GAAG;AAClC,gBAAgB,IAAI,UAAU,EAAE;AAChC;AACA,oBAAoB,IAAI,GAAG,KAAK,aAAa;AAC7C,wBAAwB,GAAG,CAAC,UAAU,CAAC,cAAc,mCAAmC;AACxF,wBAAwB,GAAG,CAAC,UAAU,CAAC,YAAY,iCAAiC,EAAE;AACtF,wBAAwB,IAAI,CAAC,kBAAkB,EAAE;AACjD,4BAA4B,MAAM,CAAC,cAAc,EAAE,MAAM,CAAC,GAAG,wBAAwB,CAAC,SAAS,CAAC;AAChG,4BAA4B,SAAS,GAAG,MAAM;AAC9C,4BAA4B,kBAAkB,GAAG,cAAc;AAC/D,wBAAwB;AACxB,wBAAwB,aAAa,GAAG,kBAAkB;AAC1D,oBAAoB;AACpB,yBAAyB;AACzB,wBAAwB,IAAI,KAAK,EAAE;AACnC,4BAA4B,OAAO,CAAC,kCAAkC;AACtE,gCAAgC,GAAG;AACnC,gCAAgC,wBAAwB;AACxD,gCAAgC,yDAAyD;AACzF,gCAAgC,gEAAgE,CAAC;AACjG,wBAAwB;AACxB,wBAAwB;AACxB,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB,IAAI,aAAa,EAAE;AACnC,oBAAoB,IAAI,aAAa,CAAC,IAAI,KAAK,QAAQ,IAAI,GAAG,KAAK,aAAa,EAAE;AAClF,wBAAwB,QAAQ,GAAG,mBAAmB;AACtD,wBAAwB,IAAI,KAAK,EAAE;AACnC,4BAA4B,OAAO,CAAC,kCAAkC;AACtE,gCAAgC,GAAG;AACnC,gCAAgC,gFAAgF;AAChH,gCAAgC,yDAAyD;AACzF,gCAAgC,oDAAoD,CAAC;AACrF,wBAAwB;AACxB,oBAAoB;AACpB,oBAAoB,aAAa,CAAC,aAAa,EAAE,QAAQ,EAAE,WAAW,CAAC,GAAG,CAAC,CAAC;AAC5E,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,QAAQ,OAAO,SAAS;AACxB,IAAI,CAAC,CAAC;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,aAAa,CAAC,UAAU,EAAE,GAAG,EAAE,KAAK,EAAE;AAC/C;AACA,IAAI,MAAM,KAAK,IAAI,UAAU,CAAC,UAAU,KAAK,EAAE,CAAC;AAChD,IAAI,MAAM,SAAS,GAAG,KAAK,CAAC,GAAG,CAAC;AAChC,IAAI,IAAI,SAAS,IAAI,IAAI,EAAE;AAC3B,QAAQ,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK;AAC1B,IAAI;AACJ,SAAS,IAAI,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;AACvC,QAAQ,SAAS,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;AAChC,IAAI;AACJ,SAAS;AACT,QAAQ,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,SAAS,EAAE,GAAG,KAAK,CAAC;AAC1C,IAAI;AACJ,IAAI,MAAM,OAAO,GAAG,UAAU,CAAC,QAAQ,CAAC,GAAG,CAAC;AAC5C,IAAI,IAAI,OAAO,EAAE;AACjB;AACA,QAAQ,IAAI,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;AACtC,YAAY,SAAS,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC;AACzC,QAAQ;AACR,aAAa;AACb,YAAY,UAAU,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,SAAS,EAAE,GAAG,KAAK,CAAC;AAC5D,QAAQ;AACR,QAAQ,KAAK,CAAC,GAAG,CAAC,GAAG,SAAS;AAC9B,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,oBAAoB,CAAC,GAAG,EAAE;AACnC,IAAI,MAAM,KAAK,GAAG,CAAC,GAAG,CAAC;AACvB,IAAI,OAAO,KAAK,CAAC,MAAM,EAAE;AACzB,QAAQ,MAAM,GAAG,GAAG,KAAK,CAAC,KAAK,EAAE;AACjC,QAAQ,IAAI,SAAS,CAAC,GAAG,CAAC,EAAE;AAC5B,YAAY,IAAI,OAAO,GAAG,CAAC,IAAI,KAAK,QAAQ,EAAE;AAC9C,gBAAgB,OAAO,GAAG;AAC1B,YAAY;AACZ,YAAY,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC;AACpC,QAAQ;AACR,aAAa,IAAI,OAAO,CAAC,GAAG,CAAC,EAAE;AAC/B,YAAY,KAAK,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC;AAC9B,QAAQ;AACR,aAAa,IAAI,SAAS,CAAC,GAAG,CAAC,EAAE;AACjC,YAAY,OAAO,SAAS,CAAC,GAAG,EAAE,CAAC,GAAG,KAAK,oBAAoB,CAAC,GAAG,CAAC,CAAC;AACrE,QAAQ;AACR,aAAa,IAAI,QAAQ,CAAC,GAAG,CAAC,EAAE;AAChC,YAAY,OAAO,oBAAoB,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,KAAK,CAAC,CAAC;AACjE,QAAQ;AACR,IAAI;AACJ,IAAI,OAAO,IAAI;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,wBAAwB,CAAC,GAAG,EAAE;AACvC;AACA,IAAI,IAAI,SAAS,CAAC,GAAG,CAAC,EAAE;AACxB,QAAQ,MAAM,WAAW,GAAG,2BAA2B,EAAE;AACzD;AACA,QAAQ,IAAI,GAAG,CAAC,IAAI,KAAK,QAAQ,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;AACjE,YAAY,OAAO,CAAC,WAAW,EAAE,UAAU,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,GAAG,EAAE,WAAW,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;AAC/F,QAAQ;AACR,QAAQ,IAAI,GAAG,CAAC,QAAQ,IAAI,IAAI,EAAE;AAClC,YAAY,GAAG,CAAC,QAAQ,GAAG,WAAW;AACtC,QAAQ;AACR,aAAa,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;AACxC,YAAY,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC;AAC1C,QAAQ;AACR,aAAa;AACb,YAAY,GAAG,CAAC,QAAQ,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,WAAW,CAAC;AACtD,QAAQ;AACR,QAAQ,OAAO,CAAC,WAAW,EAAE,GAAG,CAAC;AACjC,IAAI;AACJ;AACA,IAAI,IAAI,WAAW,CAAC,GAAG,CAAC,EAAE;AAC1B,QAAQ,MAAM,WAAW,GAAG,2BAA2B,EAAE;AACzD,QAAQ,OAAO,CAAC,WAAW,EAAE,UAAU,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,GAAG,EAAE,WAAW,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;AAC3F,IAAI;AACJ;AACA,IAAI,IAAI,OAAO,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;AACxC,QAAQ,MAAM,CAAC,cAAc,EAAE,CAAC,CAAC,GAAG,wBAAwB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACpE,QAAQ,OAAO,CAAC,cAAc,EAAE,GAAG,CAAC;AACpC,IAAI;AACJ;AACA,IAAI,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;AACtB;AACA;AACA,SAAS,2BAA2B,GAAG;AACvC,IAAI,OAAO,IAAI,WAAW,CAAC,QAAQ,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC;AAC1D;;AClQA;AACY,MAAC,UAAU,GAAG,MAAM,CAAC,aAAa;AAC9C;AACY,MAAC,MAAM,GAAG,MAAM;AAC5B;AACY,MAAC,UAAU,GAAG,MAAM;AAChC;AACY,MAAC,cAAc,GAAG,CAAC,KAAK,KAAK;AACzC,IAAI,OAAO;AACX,QAAQ,GAAG,CAAC,UAAU,EAAE,EAAE,IAAI,EAAE,0BAA0B,EAAE,CAAC;AAC7D,QAAQ,KAAK,CAAC,QAAQ;AACtB,QAAQ,GAAG,CAAC,UAAU,EAAE,EAAE,IAAI,EAAE,wBAAwB,EAAE,CAAC;AAC3D,KAAK;AACL;AACA;AACY,MAAC,SAAS,GAAG,CAAC,KAAK,EAAE,GAAG,KAAK,GAAG,CAAC,UAAU,EAAE,EAAE,QAAQ,EAAE,GAAG,CAAC,iBAAiB,EAAE,KAAK,CAAC,EAAE,EAAE,GAAG;AAClG,MAAM,iBAAiB,GAAG,MAAM,IAAI;;AClBpC,SAAS,UAAU,CAAC,IAAI,EAAE;AACjC,IAAI,IAAI,WAAW,GAAG,EAAE;AACxB,IAAI,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM;AAC9B,IAAI,IAAI,GAAG,GAAG,CAAC;AACf,IAAI,IAAI,OAAO,GAAG,GAAG;AACrB,IAAI,OAAO,GAAG,GAAG,MAAM,EAAE,GAAG,EAAE,EAAE;AAChC;AACA,QAAQ,MAAM,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC;AACvC;AACA,QAAQ,IAAI,EAAE,KAAK,EAAE,UAAU;AAC/B,YAAY,WAAW,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,GAAG,CAAC,GAAG,MAAM;AAChE,QAAQ;AACR,aAAa,IAAI,EAAE,KAAK,EAAE,UAAU;AACpC,YAAY,WAAW,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,GAAG,CAAC,GAAG,MAAM;AAChE,QAAQ;AACR,aAAa,IAAI,EAAE,KAAK,EAAE,UAAU;AACpC,YAAY,WAAW,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,GAAG,CAAC,GAAG,OAAO;AACjE,QAAQ;AACR,aAAa,IAAI,EAAE,KAAK,EAAE,UAAU;AACpC,YAAY,WAAW,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,GAAG,CAAC,GAAG,QAAQ;AAClE,QAAQ;AACR,aAAa,IAAI,EAAE,KAAK,EAAE,UAAU;AACpC,YAAY,WAAW,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,GAAG,CAAC,GAAG,OAAO;AACjE,QAAQ;AACR,aAAa;AACb,YAAY;AACZ,QAAQ;AACR,QAAQ,OAAO,GAAG,GAAG,GAAG,CAAC;AACzB,IAAI;AACJ,IAAI,IAAI,OAAO,KAAK,CAAC,EAAE;AACvB;AACA,QAAQ,OAAO,IAAI;AACnB,IAAI;AACJ,SAAS;AACT;AACA,QAAQ,OAAO,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;AACpD,IAAI;AACJ;;ACrCO,SAAS,sBAAsB,CAAC,MAAM,EAAE;AAC/C,IAAI,IAAI,CAAC,MAAM,EAAE;AACjB,QAAQ,OAAO,IAAI;AACnB,IAAI;AACJ,IAAI,MAAM,iBAAiB,GAAG,MAAM,CAAC,QAAQ,EAAE,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC;AAClE,IAAI,IAAI,iBAAiB,EAAE;AAC3B,QAAQ,OAAO,CAAC,EAAE,iBAAiB,CAAC,CAAC,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,MAAM,CAAC,YAAY,CAAC,CAAC;AACjF,IAAI;AACJ,IAAI,OAAO,IAAI;AACf;;ACLO,SAAS,UAAU,CAAC,IAAI,EAAE;AACjC,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,8BAA8B,CAAC;AACrF;AACA;AACY,MAAC,UAAU,GAAG,CAAC,KAAK,EAAE,IAAI,GAAG,EAAE,EAAE,MAAM,GAAG,EAAE,KAAK;AAC7D,IAAI,IAAI,gBAAgB,GAAG,IAAI;AAC/B,IAAI,MAAM,UAAU,GAAG,KAAK,CAAC,YAAY,CAAC;AAC1C,IAAI,IAAI,UAAU,EAAE;AACpB,QAAQ,KAAK,MAAM,GAAG,IAAI,UAAU,EAAE;AACtC,YAAY,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;AACrC,gBAAgB,gBAAgB,KAAK,EAAE;AACvC,gBAAgB,gBAAgB,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC;AACvD,YAAY;AACZ,QAAQ;AACR,IAAI;AACJ,IAAI,MAAM,cAAc,GAAG,MAAM;AACjC,IAAI,MAAM,QAAQ,GAAG,KAAK,CAAC,UAAU,CAAC;AACtC,IAAI,KAAK,MAAM,GAAG,IAAI,QAAQ,EAAE;AAChC,QAAQ,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;AACjC,YAAY,cAAc,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC,GAAG,CAAC;AAC/C,QAAQ;AACR,IAAI;AACJ,IAAI,OAAO,gBAAgB,CAAC,IAAI,WAAW,CAAC,IAAI,EAAE,cAAc,EAAE,gBAAgB,CAAC,CAAC;AACpF;;AC1BO,MAAM,YAAY,GAAG,CAAC,OAAO,KAAK;AACzC,IAAI,OAAO,4BAA4B,GAAG,OAAO;AACjD,CAAC;AACM,SAAS,YAAY,CAAC,KAAK,EAAE;AACpC,IAAI,OAAO,OAAO,IAAI,KAAK,IAAI,WAAW,IAAI,KAAK;AACnD;AACO,SAAS,WAAW,CAAC,GAAG,EAAE;AACjC,IAAI,OAAO,GAAG,KAAK,OAAO,IAAI,GAAG,KAAK,WAAW;AACjD;AAMO,SAAS,4BAA4B,CAAC,cAAc,EAAE;AAC7D,IAAI,OAAO,cAAc,EAAE,KAAK,CAAC,GAAG,CAAC,IAAI,IAAI;AAC7C;AACO,SAAS,uBAAuB,CAAC,cAAc,EAAE;AACxD,IAAI,OAAO,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;AAC/C;AACO,MAAM,uBAAuB,GAAG,CAAC,OAAO,KAAK;AACpD,IAAI,IAAI,OAAO,EAAE;AACjB,QAAQ,IAAI,GAAG,GAAG,CAAC;AACnB,QAAQ,GAAG;AACX,YAAY,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;AACtF,QAAQ,CAAC,QAAQ,CAAC,GAAG,GAAG,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC;AAC5D,IAAI;AACJ,IAAI,OAAO,OAAO,IAAI,IAAI;AAC1B,CAAC;;AC7BD;AACA,MAAM,eAAe,GAAG,IAAI,GAAG,CAAC;AAChC,IAAI,yBAAyB;AAC7B,IAAI,aAAa;AACjB,IAAI,mBAAmB;AACvB,IAAI,kBAAkB;AACtB,IAAI,kBAAkB;AACtB,IAAI,SAAS;AACb,IAAI,cAAc;AAClB,IAAI,iBAAiB;AACrB,IAAI,aAAa;AACjB,IAAI,SAAS;AACb,IAAI,MAAM;AACV,IAAI,UAAU;AACd,IAAI,YAAY;AAChB,IAAI,UAAU;AACd,IAAI,SAAS;AACb,IAAI,YAAY;AAChB,IAAI,cAAc;AAClB,IAAI,YAAY;AAChB,IAAI,eAAe;AACnB,IAAI,iBAAiB;AACrB,IAAI,YAAY;AAChB,IAAI,WAAW;AACf,IAAI,YAAY;AAChB,IAAI,SAAS;AACb,IAAI,OAAO;AACX,IAAI,SAAS;AACb,IAAI,OAAO;AACX,IAAI,SAAS;AACb,IAAI,QAAQ;AACZ,IAAI,QAAQ;AACZ,IAAI,MAAM;AACV,IAAI,4BAA4B;AAChC,IAAI,YAAY;AAChB,IAAI,QAAQ;AACZ,IAAI,gBAAgB;AACpB,IAAI,+BAA+B;AACnC,IAAI,eAAe;AACnB,IAAI,uBAAuB;AAC3B,IAAI,mBAAmB;AACvB,IAAI,eAAe;AACnB,IAAI,YAAY;AAChB,IAAI,gBAAgB;AACpB,IAAI,kBAAkB;AACtB,IAAI,iBAAiB;AACrB,CAAC,CAAC;AACK,MAAM,gBAAgB,GAAG,CAAC,IAAI,KAAK;AAC1C,IAAI,OAAO,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC;AACpC,CAAC;;ACjDM,MAAM,QAAQ,GAAG,CAAC,IAAI,EAAE,IAAI,GAAG,CAAC,KAAK;AAC5C,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC1C,QAAQ,MAAM,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;AACtC,QAAQ,IAAI,GAAG,CAAC,IAAI,IAAI,CAAC,IAAI,IAAI,GAAG,GAAG;AACvC,QAAQ,IAAI,IAAI,CAAC,CAAC;AAClB,IAAI;AACJ,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC;AAC9C,CAAC;;ACAM,MAAM,cAAc,GAAG,CAAC,GAAG,KAAK;AACvC,IAAI,IAAI,CAAC,GAAG,EAAE;AACd,QAAQ,OAAO,EAAE;AACjB,IAAI;AACJ,IAAI,IAAI,QAAQ,CAAC,GAAG,CAAC,EAAE;AACvB,QAAQ,OAAO,GAAG,CAAC,IAAI,EAAE;AACzB,IAAI;AACJ,IAAI,MAAM,OAAO,GAAG,EAAE;AACtB,IAAI,IAAI,OAAO,CAAC,GAAG,CAAC,EAAE;AACtB,QAAQ,KAAK,MAAM,CAAC,IAAI,GAAG,EAAE;AAC7B,YAAY,MAAM,SAAS,GAAG,cAAc,CAAC,CAAC,CAAC;AAC/C,YAAY,IAAI,SAAS,EAAE;AAC3B,gBAAgB,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC;AACvC,YAAY;AACZ,QAAQ;AACR,IAAI;AACJ,SAAS;AACT,QAAQ,KAAK,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;AACxD,YAAY,IAAI,KAAK,EAAE;AACvB,gBAAgB,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;AACxC,YAAY;AACZ,QAAQ;AACR,IAAI;AACJ,IAAI,OAAO,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC;AAC5B,CAAC;AACD;AACA,MAAM,4BAA4B,GAAG,CAAC,IAAI,KAAK;AAC/C,IAAI,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC,WAAW,EAAE;AACxD,CAAC;AACM,MAAM,cAAc,GAAG,CAAC,GAAG,KAAK;AACvC,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE;AACrB,QAAQ,OAAO,EAAE;AACjB,IAAI;AACJ,IAAI,IAAI,OAAO,GAAG,IAAI,QAAQ,EAAE;AAChC,QAAQ,IAAI,OAAO,CAAC,GAAG,CAAC,EAAE;AAC1B,YAAY,MAAM,MAAM,CAAC,CAAC,qCAAqC,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;AAC9E,QAAQ;AACR,aAAa;AACb,YAAY,MAAM,MAAM,GAAG,EAAE;AAC7B,YAAY,KAAK,MAAM,GAAG,IAAI,GAAG,EAAE;AACnC,gBAAgB,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE;AACpE,oBAAoB,MAAM,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC;AAC1C,oBAAoB,IAAI,KAAK,IAAI,IAAI,IAAI,OAAO,KAAK,KAAK,UAAU,EAAE;AACtE,wBAAwB,IAAI,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;AAClD,4BAA4B,MAAM,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,KAAK,CAAC;AAC1D,wBAAwB;AACxB,6BAA6B;AAC7B,4BAA4B,MAAM,CAAC,IAAI,CAAC,4BAA4B,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,gBAAgB,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;AAC/G,wBAAwB;AACxB,oBAAoB;AACpB,gBAAgB;AAChB,YAAY;AACZ,YAAY,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC;AACnC,QAAQ;AACR,IAAI;AACJ,IAAI,OAAO,MAAM,CAAC,GAAG,CAAC;AACtB,CAAC;AACM,MAAM,iCAAiC,GAAG,CAAC,KAAK,KAAK;AAC5D,IAAI,OAAO,KAAK,IAAI,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI;AAC/C,CAAC;AACM,SAAS,kBAAkB,CAAC,GAAG,EAAE,KAAK,EAAE,aAAa,EAAE;AAC9D,IAAI,IAAI,WAAW,CAAC,GAAG,CAAC,EAAE;AAC1B,QAAQ,MAAM,eAAe,GAAG,cAAc,CAAC,KAAK,CAAC;AACrD,QAAQ,KAAK,GAAG;AAChB,cAAc,aAAa,IAAI,eAAe,CAAC,MAAM,GAAG,GAAG,GAAG,eAAe,GAAG,eAAe;AAC/F,cAAc,eAAe;AAC7B,IAAI;AACJ,SAAS,IAAI,GAAG,KAAK,OAAO,EAAE;AAC9B,QAAQ,KAAK,GAAG,cAAc,CAAC,KAAK,CAAC;AACrC,IAAI;AACJ,SAAS,IAAI,4BAA4B,CAAC,GAAG,CAAC,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;AAC7E;AACA,QAAQ,KAAK,GAAG,iCAAiC,CAAC,KAAK,CAAC;AACxD,IAAI;AACJ,SAAS,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,IAAI,EAAE;AAC/C,QAAQ,KAAK,GAAG,IAAI;AACpB,IAAI;AACJ,SAAS,IAAI,KAAK,KAAK,IAAI,IAAI,gBAAgB,CAAC,GAAG,CAAC,EAAE;AACtD,QAAQ,KAAK,GAAG,EAAE;AAClB,IAAI;AACJ,IAAI,OAAO,KAAK;AAChB;AACA,SAAS,4BAA4B,CAAC,GAAG,EAAE;AAC3C,IAAI,OAAO,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,EAAE,WAAW,EAAE,iBAAiB,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC;AAC/F;AACO,MAAM,gBAAgB,GAAG,CAAC,SAAS,EAAE,KAAK,KAAK;AACtD,IAAI,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,KAAK,CAAC,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,EAAE;AAClF,QAAQ,OAAO,KAAK,GAAG,IAAI;AAC3B,IAAI;AACJ,IAAI,OAAO,KAAK;AAChB,CAAC;AACM,SAAS,eAAe,CAAC,IAAI,EAAE;AACtC,IAAI,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;AACnC;AACO,MAAM,QAAQ,GAAG,CAAC,OAAO,EAAE,KAAK,KAAK;AAC5C,IAAI,SAAS,CAAC,OAAO,CAAC;AACtB,IAAI,OAAO,CAAC,EAAE,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;AACjD,CAAC;;ACxEM,MAAM,UAAU,GAAG,CAAC,SAAS,EAAE,OAAO,EAAE,UAAU,EAAE,mBAAmB,KAAK;AACnF,IAAI,IAAI,OAAO,GAAG,SAAS,CAAC,SAAS;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,MAAM,KAAK,GAAG,EAAE;AACpB,IAAI,MAAM,UAAU,GAAG,EAAE;AACzB;AACA;AACA;AACA,IAAI,IAAI,OAAO,GAAG,IAAI;AACtB;AACA;AACA,IAAI,IAAI,QAAQ,GAAG,IAAI;AACvB;AACA;AACA;AACA,IAAI,IAAI,QAAQ,GAAG,IAAI;AACvB,IAAI,IAAI,SAAS,GAAG,IAAI;AACxB;AACA,IAAI,IAAI,cAAc,GAAG,IAAI;AAC7B;AACA;AACA,IAAI,IAAI,WAAW,GAAG,IAAI;AAC1B;AACA,IAAI,IAAI,WAAW,GAAG,IAAI;AAC1B;AACA,IAAI,IAAI,QAAQ,GAAG,IAAI;AACvB,IAAI,IAAI,MAAM,GAAG,CAAC;AAClB,IAAI,IAAI,QAAQ,GAAG,CAAC;AACpB;AACA,IAAI,IAAI,aAAa,GAAG,IAAI;AAC5B,IAAI,MAAM,uBAAuB,GAAG,IAAI,gBAAgB,CAAC;AACzD,QAAQ,qBAAqB,EAAE,mBAAmB;AAClD,QAAQ,SAAS,EAAE,IAAI;AACvB,KAAK,CAAC;AACN,IAAI,MAAM,2BAA2B,GAAG,IAAI,gBAAgB,CAAC;AAC7D,QAAQ,qBAAqB,EAAE,mBAAmB;AAClD,QAAQ,SAAS,EAAE,KAAK;AACxB,KAAK,CAAC;AACN;AACA,IAAI,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC;AAC7B,IAAI,OAAO,eAAe,EAAE;AAC5B;AACA;AACA;AACA,IAAI,SAAS,IAAI,CAAC,OAAO,EAAE,UAAU,EAAE;AACvC,QAAQ,WAAW,CAAC,aAAa,CAAC,OAAO,CAAC,EAAE,+BAA+B,CAAC;AAC5E,QAAQ,UAAU,CAAC,aAAa,CAAC,UAAU,CAAC,EAAE,8BAA8B,CAAC;AAC7E,QAAQ,OAAO,GAAG,UAAU;AAC5B,QAAQ,QAAQ,GAAG,IAAI;AACvB,QAAQ,QAAQ,GAAG,mBAAmB,CAAC,UAAU,CAAC;AAClD,QAAQ,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC;AAChC,QAAQ,IAAI,OAAO,CAAC,KAAK,GAAG,EAAE,2BAA2B;AACzD;AACA,YAAY;AACZ,QAAQ;AACR,QAAQ,OAAO,KAAK,CAAC,MAAM,EAAE;AAC7B,YAAY,OAAO,MAAM,GAAG,QAAQ,EAAE;AACtC,gBAAgB,WAAW,CAAC,OAAO,KAAK,QAAQ,EAAE,sCAAsC,CAAC;AACzF,gBAAgB,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE;AAClD,oBAAoB,UAAU,CAAC,QAAQ,CAAC;AACxC,gBAAgB;AAChB,qBAAqB,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE;AACvD,oBAAoB,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;AAChD,gBAAgB;AAChB,qBAAqB,IAAI,QAAQ,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE;AACnE,oBAAoB,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;AACjD,wBAAwB,OAAO,CAAC,QAAQ,EAAE,KAAK,CAAC;AAChD,oBAAoB;AACpB,yBAAyB,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAE;AACjD,wBAAwB,aAAa,CAAC,GAAG,kCAAkC,IAAI,CAAC;AAChF,wBAAwB,MAAM,eAAe,GAAG,QAAQ,YAAY,iBAAiB,GAAG,QAAQ,CAAC,gBAAgB,EAAE,GAAG,QAAQ;AAC9H,wBAAwB,MAAM,aAAa,GAAG,QAAQ,GAAG,gBAAgB,CAAC,EAAE,GAAG,CAAC,GAAG,4BAA4B,GAAG,CAAC,uCAAuC;AAC1J,wBAAwB,IAAI,aAAa,KAAK,eAAe,EAAE;AAC/D,4BAA4B,MAAM,KAAK,IAAI,QAAQ,IAAI,QAAQ,CAAC;AAChE,4BAA4B,OAAO,CAAC,uBAAuB,CAAC,MAAM,wBAAwB,CAAC,eAAe,EAAE,KAAK,EAAE,GAAG,6BAA6B,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC;AACrK,wBAAwB;AACxB,oBAAoB;AACpB,yBAAyB,IAAI,SAAS,CAAC,QAAQ,CAAC,EAAE;AAClD,wBAAwB,aAAa,CAAC,GAAG,4BAA4B,IAAI,CAAC;AAC1E,wBAAwB,UAAU,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,IAAI,QAAQ,CAAC;AACvE,oBAAoB;AACpB,yBAAyB,IAAI,SAAS,CAAC,QAAQ,CAAC,EAAE;AAClD,wBAAwB,MAAM,IAAI,GAAG,QAAQ,CAAC,IAAI;AAClD,wBAAwB,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;AACtD,4BAA4B,qBAAqB,EAAE;AACnD,4BAA4B,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAC;AACzD,4BAA4B,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAC;AAC5D,wBAAwB;AACxB,6BAA6B,IAAI,OAAO,IAAI,KAAK,UAAU,EAAE;AAC7D,4BAA4B,IAAI,IAAI,KAAK,QAAQ,EAAE;AACnD,gCAAgC,qBAAqB,EAAE;AACvD,gCAAgC,aAAa,CAAC,GAAG,6BAA6B,QAAQ,CAAC,GAAG,CAAC;AAC3F,gCAAgC,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAC;AAChE,4BAA4B;AAC5B,iCAAiC,IAAI,IAAI,KAAK,IAAI,EAAE;AACpD,gCAAgC,qBAAqB,EAAE;AACvD,gCAAgC,IAAI,CAAC,UAAU,EAAE,EAAE;AACnD;AACA,oCAAoC,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAC;AACpE,gCAAgC;AAChC,4BAA4B;AAC5B,iCAAiC,IAAI,IAAI,KAAK,UAAU,EAAE;AAC1D,gCAAgC,gBAAgB,EAAE;AAClD,gCAAgC,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI;AAC/D;AACA;AACA,gCAAgC,KAAK,CAAC;AACtC,4BAA4B;AAC5B,iCAAiC,IAAI,IAAI,KAAK,UAAU,EAAE;AAC1D,gCAAgC,YAAY,EAAE;AAC9C,4BAA4B;AAC5B,iCAAiC,IAAI,IAAI,KAAK,MAAM,EAAE;AACtD,gCAAgC,YAAY,EAAE;AAC9C,4BAA4B;AAC5B,iCAAiC;AACjC;AACA,gCAAgC,qBAAqB,EAAE;AACvD,gCAAgC,eAAe,CAAC,IAAI,CAAC;AACrD,4BAA4B;AAC5B,wBAAwB;AACxB,oBAAoB;AACpB,gBAAgB;AAChB,qBAAqB,IAAI,QAAQ,KAAK,UAAU,EAAE;AAClD;AACA,oBAAoB,OAAO,GAAG,EAAE;AAChC,gBAAgB;AAChB,qBAAqB;AACrB,oBAAoB,UAAU,CAAC,EAAE,CAAC;AAClC,gBAAgB;AAChB,gBAAgB,OAAO,EAAE;AACzB,YAAY;AACZ,YAAY,YAAY,EAAE;AAC1B,YAAY,iBAAiB,EAAE;AAC/B,YAAY,MAAM,EAAE;AACpB,QAAQ;AACR,IAAI;AACJ,IAAI,SAAS,uBAAuB,CAAC,EAAE,EAAE;AACzC,QAAQ,IAAI;AACZ,YAAY,OAAO,EAAE,EAAE;AACvB,QAAQ;AACR,QAAQ,OAAO,CAAC,EAAE;AAClB;AACA,YAAY,IAAI,SAAS,CAAC,CAAC,CAAC,EAAE;AAC9B;AACA,gBAAgB,MAAM,YAAY,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,cAAc,CAAC,EAAE,CAAC,CAAC;AACrE,gBAAgB,UAAU,CAAC,IAAI,CAAC,YAAY,EAAE,QAAQ,IAAI,QAAQ,CAAC;AACnE,gBAAgB,OAAO,IAAI;AAC3B,YAAY;AACZ,YAAY,MAAM,CAAC;AACnB,QAAQ;AACR,IAAI;AACJ,IAAI,SAAS,OAAO,GAAG;AACvB,QAAQ,IAAI,CAAC,aAAa,EAAE;AAC5B,YAAY,aAAa,GAAG,IAAI;AAChC,YAAY;AACZ,QAAQ;AACR,QAAQ,MAAM,EAAE;AAChB,QAAQ,IAAI,MAAM,GAAG,QAAQ,EAAE;AAC/B,YAAY,QAAQ,GAAG,WAAW,CAAC,MAAM,CAAC;AAC1C,QAAQ;AACR,aAAa,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,KAAK,EAAE;AACpD;AACA,YAAY,OAAO,MAAM,EAAE;AAC3B,QAAQ;AACR,QAAQ,IAAI,QAAQ,KAAK,IAAI,EAAE;AAC/B;AACA;AACA;AACA;AACA,YAAY,QAAQ,GAAG,IAAI;AAC3B,QAAQ;AACR,aAAa;AACb,YAAY,oBAAoB,EAAE;AAClC,QAAQ;AACR,IAAI;AACJ;AACA,IAAI,SAAS,eAAe,GAAG;AAC/B;AACA;AACA,QAAQ,OAAO,QAAQ,GAAG,QAAQ,CAAC,WAAW,GAAG,IAAI;AACrD,IAAI;AACJ;AACA,IAAI,SAAS,oBAAoB,GAAG;AACpC,QAAQ,QAAQ,GAAG,eAAe,EAAE;AACpC,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,SAAS,OAAO,CAAC,QAAQ,EAAE,YAAY,EAAE,sBAAsB,GAAG,IAAI,EAAE;AAC5E,QAAQ,IAAI,sBAAsB;AAClC,aAAa,QAAQ,IAAI,IAAI,KAAK,YAAY,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,EAAE;AAChG,YAAY,gBAAgB,EAAE;AAC9B,YAAY;AACZ,QAAQ;AACR,QAAQ,SAAS,CAAC,QAAQ,EAAE,YAAY,CAAC;AACzC,QAAQ,IAAI,YAAY,EAAE;AAC1B,YAAY,aAAa,CAAC,QAAQ,IAAI,QAAQ,EAAE,mCAAmC,CAAC;AACpF,YAAY,WAAW,GAAG,IAAI;AAC9B,YAAY,SAAS,GAAG,IAAI;AAC5B,YAAY,cAAc,GAAG,IAAI;AACjC,YAAY,OAAO,IAAI,QAAQ,IAAI,QAAQ,CAAC;AAC5C,YAAY,QAAQ,GAAG,mBAAmB,CAAC,OAAO,CAAC;AACnD,YAAY,QAAQ,GAAG,IAAI;AAC3B,QAAQ;AACR,QAAQ,aAAa,GAAG,KAAK;AAC7B,IAAI;AACJ,IAAI,SAAS,MAAM,GAAG;AACtB,QAAQ,MAAM,YAAY,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;AACzC,QAAQ,IAAI,YAAY,EAAE;AAC1B,YAAY,WAAW,GAAG,KAAK,CAAC,GAAG,EAAE;AACrC,YAAY,SAAS,GAAG,KAAK,CAAC,GAAG,EAAE;AACnC,YAAY,cAAc,GAAG,KAAK,CAAC,GAAG,EAAE;AACxC,YAAY,QAAQ,GAAG,KAAK,CAAC,GAAG,EAAE;AAClC,YAAY,QAAQ,GAAG,KAAK,CAAC,GAAG,EAAE;AAClC,YAAY,OAAO,GAAG,KAAK,CAAC,GAAG,EAAE;AACjC,QAAQ;AACR,QAAQ,QAAQ,GAAG,KAAK,CAAC,GAAG,EAAE;AAC9B,QAAQ,QAAQ,GAAG,KAAK,CAAC,GAAG,EAAE;AAC9B,QAAQ,MAAM,GAAG,KAAK,CAAC,GAAG,EAAE;AAC5B,QAAQ,WAAW,GAAG,KAAK,CAAC,GAAG,EAAE;AACjC,QAAQ,OAAO,EAAE;AACjB,IAAI;AACJ,IAAI,SAAS,SAAS,CAAC,QAAQ,EAAE,YAAY,EAAE;AAC/C,QAAQ,KAAK,CAAC,IAAI,CAAC,WAAW,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,CAAC;AAC3D,QAAQ,IAAI,YAAY,EAAE;AAC1B,YAAY,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,cAAc,EAAE,SAAS,EAAE,WAAW,CAAC;AAC3F,QAAQ;AACR,QAAQ,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC;AAChC,QAAQ,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;AACrC,YAAY,MAAM,GAAG,CAAC;AACtB,YAAY,QAAQ,GAAG,QAAQ,CAAC,MAAM;AACtC,YAAY,WAAW,GAAG,QAAQ;AAClC,YAAY,QAAQ,GAAG,QAAQ,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI;AACxD,QAAQ;AACR,aAAa,IAAI,QAAQ,KAAK,SAAS,EAAE;AACzC;AACA,YAAY,MAAM,GAAG,CAAC;AACtB,YAAY,QAAQ,GAAG,IAAI;AAC3B,YAAY,WAAW,GAAG,IAAI;AAC9B,YAAY,QAAQ,GAAG,CAAC;AACxB,QAAQ;AACR,aAAa;AACb,YAAY,MAAM,GAAG,CAAC;AACtB,YAAY,QAAQ,GAAG,QAAQ;AAC/B,YAAY,WAAW,GAAG,IAAI;AAC9B,YAAY,QAAQ,GAAG,CAAC;AACxB,QAAQ;AACR,IAAI;AACJ,IAAI,SAAS,eAAe,GAAG;AAC/B,QAAQ,IAAI,QAAQ,EAAE;AACtB,YAAY,OAAO,QAAQ;AAC3B,QAAQ;AACR,aAAa;AACb,YAAY,OAAO,eAAe,EAAE;AACpC,QAAQ;AACR,IAAI;AACJ;AACA;AACA;AACA,IAAI,SAAS,uBAAuB,CAAC,QAAQ,EAAE,IAAI,EAAE;AACrD,QAAQ,MAAM,kBAAkB,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,QAAQ,GAAG,CAAC,QAAQ,CAAC;AAClF,QAAQ,MAAM,uBAAuB,GAAG,CAAC,QAAQ,KAAK;AACtD,YAAY,OAAO,IAAI,WAAW,CAAC,UAAU,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,QAAQ,CAAC;AACxE,QAAQ,CAAC;AACT,QAAQ,MAAM,WAAW,GAAG,EAAE;AAC9B,QAAQ,IAAI,IAAI,EAAE;AAClB,YAAY,MAAM,KAAK,GAAG,cAAc,CAAC,IAAI,CAAC;AAC9C;AACA,YAAY,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;AACzD,gBAAgB,MAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC;AACrC,gBAAgB,IAAI,UAAU,CAAC,IAAI,CAAC,EAAE;AACtC,oBAAoB,MAAM,QAAQ,GAAG,IAAI;AACzC,oBAAoB,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC;AAC9C,oBAAoB,WAAW,CAAC,IAAI,CAAC,uBAAuB,CAAC,QAAQ,CAAC,CAAC;AACvE,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,QAAQ,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,IAAI,QAAQ,IAAI,IAAI,EAAE;AAC1D;AACA,YAAY;AACZ,QAAQ;AACR;AACA,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,kBAAkB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC5D,YAAY,MAAM,KAAK,GAAG,kBAAkB,CAAC,CAAC,CAAC;AAC/C,YAAY,MAAM,QAAQ,GAAG,MAAM,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,uBAAuB,CAAC,KAAK,EAAE,KAAK,CAAC,KAAK,YAAY,CAAC;AAChH,YAAY,MAAM,GAAG,GAAG,eAAe,CAAC,WAAW,EAAE,QAAQ,EAAE,CAAC,CAAC;AACjE,YAAY,IAAI,SAAS;AACzB,YAAY,IAAI,GAAG,IAAI,CAAC,EAAE;AAC1B,gBAAgB,SAAS,GAAG,WAAW,CAAC,GAAG,GAAG,CAAC,CAAC;AAChD,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,WAAW,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,QAAQ,GAAG,SAAS,GAAG,uBAAuB,CAAC,QAAQ,CAAC,EAAE;AACtG,YAAY;AACZ,YAAY,MAAM,gBAAgB,GAAG,KAAK,KAAK,KAAK;AACpD,YAAY,IAAI,CAAC,gBAAgB,EAAE;AACnC,gBAAgB,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC;AAC9C,YAAY;AACZ,QAAQ;AACR;AACA,QAAQ,KAAK,IAAI,CAAC,GAAG,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;AAChE,YAAY,WAAW,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACpC,QAAQ;AACR,QAAQ,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC;AAClC,IAAI;AACJ,IAAI,SAAS,gBAAgB,GAAG;AAChC,QAAQ,MAAM,OAAO,GAAG,QAAQ;AAChC,QAAQ,MAAM,QAAQ,GAAG,OAAO,CAAC,GAAG;AACpC;AACA;AACA,QAAQ,QAAQ,GAAG,OAAO,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,EAAE,KAAK,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;AAC3F;AACA,QAAQ,QAAQ,GAAG,QAAQ,IAAI,QAAQ,CAAC,KAAK,GAAG,EAAE,4BAA4B,IAAI,GAAG,QAAQ;AAC7F,QAAQ,IAAI,QAAQ,IAAI,IAAI,EAAE;AAC9B,YAAY,QAAQ,GAAG,gBAAgB,EAAE;AACzC;AACA;AACA;AACA;AACA,YAAY,KAAK,IAAI,QAAQ,CAAC,OAAO,CAAC,UAAU,EAAE,GAAG,8BAA8B;AACnF,YAAY,KAAK,IAAI,QAAQ,CAAC,OAAO,CAAC,QAAQ,EAAE,kBAAkB,CAAC;AACnE,YAAY,QAAQ,CAAC,OAAO,CAAC,KAAK,EAAE,QAAQ,CAAC;AAC7C,YAAY,QAAQ,CAAC,UAAU,GAAG,OAAO;AACzC,YAAY,OAAO,CAAC,OAAO,CAAC,QAAQ,EAAE,QAAQ,CAAC;AAC/C,QAAQ;AACR,IAAI;AACJ,IAAI,SAAS,UAAU,GAAG;AAC1B,QAAQ,MAAM,KAAK,GAAG,kCAAkC,CAAC,OAAO,CAAC;AACjE,QAAQ,MAAM,WAAW,GAAG,cAAc,CAAC,KAAK,CAAC;AACjD;AACA,QAAQ,MAAM,cAAc,GAAG;AAC/B,cAAc,KAAK,CAAC,OAAO,CAAC,WAAW;AACvC;AACA,YAAY,IAAI;AAChB;AACA;AACA,cAAc,IAAI;AAClB;AACA,QAAQ,IAAI,cAAc,IAAI,IAAI,EAAE;AACpC;AACA,YAAY,kBAAkB,CAAC,OAAO,EAAE,OAAO,GAAG,QAAQ,GAAG,gBAAgB,EAAE,GAAG,QAAQ,IAAI,eAAe,EAAE,CAAC;AAChH,YAAY,QAAQ,CAAC,OAAO,CAAC,KAAK,EAAE,WAAW,CAAC;AAChD,YAAY,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC,WAAW,EAAE,QAAQ,CAAC;AACzD,YAAY,KAAK,IAAI,QAAQ,CAAC,OAAO,CAAC,UAAU,EAAE,GAAG,8BAA8B;AACnF,YAAY,KAAK,IAAI,QAAQ,CAAC,OAAO,CAAC,QAAQ,EAAE,YAAY,GAAG,KAAK,EAAE,CAAC;AACvE,YAAY,OAAO,KAAK;AACxB,QAAQ;AACR,aAAa,IAAI,cAAc,KAAK,QAAQ,EAAE;AAI9C,aAAa;AACb;AACA,YAAY,kBAAkB,CAAC,OAAO,EAAE,OAAO,GAAG,QAAQ,GAAG,cAAc,GAAG,QAAQ,IAAI,eAAe,EAAE,CAAC;AAC5G,YAAY,QAAQ,CAAC,OAAO,CAAC,KAAK,EAAE,WAAW,CAAC;AAChD,YAAY,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC,WAAW,EAAE,QAAQ,CAAC;AACzD,YAAY,KAAK,IAAI,QAAQ,CAAC,OAAO,CAAC,UAAU,EAAE,GAAG,8BAA8B;AACnF,YAAY,KAAK,IAAI,QAAQ,CAAC,OAAO,CAAC,QAAQ,EAAE,YAAY,GAAG,KAAK,EAAE,CAAC;AACvE,QAAQ;AACR,QAAQ,OAAO,IAAI;AACnB,IAAI;AACJ,IAAI,SAAS,cAAc,CAAC,KAAK,EAAE;AACnC,QAAQ,MAAM,OAAO,GAAG,QAAQ;AAChC,QAAQ,MAAM,UAAU,GAAG,OAAO,CAAC,UAAU;AAC7C,QAAQ,IAAI,UAAU,IAAI,OAAO,UAAU,IAAI,QAAQ,IAAI,MAAM,IAAI,UAAU,EAAE;AACjF,YAAY,MAAM,UAAU,GAAG,UAAU,CAAC,IAAI;AAC9C,YAAY,IAAI,KAAK,IAAI,UAAU,YAAY,iBAAiB,EAAE;AAClE,gBAAgB,OAAO,wBAAwB,CAAC,UAAU,EAAE,KAAK,EAAE,GAAG,iCAAiC,SAAS,CAAC;AACjH,YAAY;AACZ,QAAQ;AACR,QAAQ,OAAO,uBAAuB,CAAC,OAAO,EAAE,MAAM,CAAC,IAAI,YAAY;AACvE,IAAI;AACJ,IAAI,SAAS,iBAAiB,GAAG;AACjC,QAAQ,IAAI,WAAW,EAAE;AACzB;AACA,YAAY,KAAK,MAAM,KAAK,IAAI,WAAW,CAAC,MAAM,EAAE,EAAE;AACtD,gBAAgB,IAAI,KAAK,CAAC,KAAK,GAAG,EAAE,2BAA2B;AAC/D,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC;AACzC,gBAAgB,YAAY,CAAC,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,CAAC;AAC3D,YAAY;AACZ,YAAY,WAAW,CAAC,KAAK,EAAE;AAC/B,YAAY,WAAW,GAAG,IAAI;AAC9B,QAAQ;AACR,QAAQ,QAAQ,GAAG,IAAI;AACvB,IAAI;AACJ,IAAI,SAAS,eAAe,GAAG;AAC/B,QAAQ,OAAO,UAAU,CAAC,MAAM,EAAE;AAClC,YAAY,MAAM,OAAO,GAAG,UAAU,CAAC,KAAK,EAAE;AAC9C,YAAY,MAAM,SAAS,GAAG,UAAU,CAAC,KAAK,EAAE;AAChD,YAAY,IAAI,SAAS,CAAC,OAAO,CAAC,EAAE;AACpC,gBAAgB,OAAO;AACvB,qBAAqB,IAAI,CAAC,CAAC,OAAO,KAAK;AACvC,oBAAoB,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC;AAC5C,oBAAoB,OAAO,eAAe,EAAE;AAC5C,gBAAgB,CAAC;AACjB,qBAAqB,KAAK,CAAC,CAAC,CAAC,KAAK;AAClC,oBAAoB,SAAS,CAAC,WAAW,CAAC,CAAC,EAAE,SAAS,CAAC;AACvD,oBAAoB,OAAO,eAAe,EAAE;AAC5C,gBAAgB,CAAC,CAAC;AAClB,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC;AACxC,YAAY;AACZ,QAAQ;AACR,IAAI;AACJ,IAAI,SAAS,gBAAgB,GAAG;AAChC,QAAQ,MAAM,WAAW,GAAG,QAAQ,IAAI,mBAAmB,CAAC,QAAQ,CAAC;AACrE,QAAQ,IAAI,WAAW,KAAK,IAAI,EAAE;AAClC,YAAY,IAAI,MAAM,GAAG,WAAW;AACpC,YAAY,OAAO,MAAM,EAAE;AAC3B,gBAAgB,OAAO,CAAC,SAAS,EAAE,MAAM,CAAC;AAC1C,gBAAgB,MAAM,GAAG,MAAM,CAAC,WAAW;AAC3C,YAAY;AACZ,YAAY,cAAc,CAAC,OAAO,EAAE,QAAQ,EAAE,WAAW,CAAC;AAC1D,QAAQ;AACR,IAAI;AACJ;AACA,IAAI,SAAS,YAAY,GAAG;AAC5B,QAAQ,WAAW,CAAC,OAAO,KAAK,QAAQ,EAAE,sCAAsC,CAAC;AACjF,QAAQ,IAAI,QAAQ,KAAK,IAAI,EAAE;AAC/B,YAAY,OAAO,QAAQ,EAAE;AAC7B,gBAAgB,MAAM,QAAQ,GAAG,QAAQ;AACzC,gBAAgB,oBAAoB,EAAE;AACtC,gBAAgB,IAAI,OAAO,KAAK,QAAQ,CAAC,MAAM,EAAE;AACjD,oBAAoB,OAAO,CAAC,SAAS,EAAE,QAAQ,CAAC;AAChD;AACA;AACA,oBAAoB,YAAY,CAAC,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,IAAI,CAAC;AAClE,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,IAAI;AACJ,IAAI,SAAS,qBAAqB,GAAG;AACrC,QAAQ,OAAO,QAAQ,KAAK,IAAI,IAAI,iBAAiB,CAAC,QAAQ,CAAC,EAAE;AACjE,YAAY,OAAO,CAAC,SAAS,EAAE,QAAQ,CAAC;AACxC,YAAY,MAAM,QAAQ,GAAG,QAAQ;AACrC,YAAY,oBAAoB,EAAE;AAClC,YAAY,YAAY,CAAC,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,IAAI,CAAC;AAC1D,QAAQ;AACR,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,SAAS,gBAAgB,CAAC,GAAG,EAAE,WAAW,EAAE,WAAW,EAAE;AAC7D,QAAQ,MAAM,OAAO,GAAG,0BAA0B,CAAC,WAAW,CAAC;AAC/D,QAAQ,SAAS,YAAY,CAAC,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE;AACjD,YAAY,KAAK,GAAG,kBAAkB,CAAC,GAAG,EAAE,KAAK,EAAE,mBAAmB,CAAC;AACvE,YAAY,IAAI,KAAK,IAAI,IAAI,EAAE;AAC/B,gBAAgB,IAAI,KAAK,CAAC,KAAK,GAAG,EAAE,0BAA0B;AAC9D;AACA,oBAAoB,MAAM,SAAS,GAAG,qBAAqB,CAAC,GAAG,CAAC;AAChE,oBAAoB,IAAI,SAAS,EAAE;AACnC,wBAAwB,OAAO,CAAC,cAAc,CAAC,SAAS,EAAE,GAAG,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;AAC7E,wBAAwB;AACxB,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB,OAAO,CAAC,YAAY,CAAC,GAAG,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;AACxD,YAAY;AACZ,QAAQ;AACR,QAAQ,MAAM,EAAE,UAAU,EAAE,GAAG,GAAG;AAClC,QAAQ,IAAI,wBAAwB,GAAG,KAAK;AAC5C,QAAQ,IAAI,UAAU,EAAE;AACxB;AACA;AACA;AACA,YAAY,KAAK,MAAM,GAAG,IAAI,UAAU,EAAE;AAC1C,gBAAgB,IAAI,KAAK,GAAG,UAAU,CAAC,GAAG,CAAC;AAC3C,gBAAgB,IAAI,0BAA0B,CAAC,GAAG,CAAC,EAAE;AACrD,oBAAoB,MAAM,IAAI,GAAG,6BAA6B,CAAC,GAAG,CAAC;AACnE,oBAAoB,IAAI,IAAI,EAAE;AAC9B,wBAAwB,MAAM,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC;AAC7C,wBAAwB,MAAM,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC;AACjD,wBAAwB,IAAI,SAAS,EAAE;AACvC,4BAA4B,QAAQ,CAAC,OAAO,CAAC,cAAc,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,SAAS,EAAE,KAAK,CAAC;AACnG,4BAA4B,IAAI,KAAK,EAAE;AACvC;AACA,gCAAgC,QAAQ,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,EAAE,OAAO,CAAC;AAClE,4BAA4B;AAC5B,4BAA4B,uBAAuB,CAAC,SAAS,CAAC;AAC9D,wBAAwB;AACxB,oBAAoB;AACpB,oBAAoB,wBAAwB,GAAG,IAAI;AACnD,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB,IAAI,GAAG,KAAK,KAAK,EAAE;AACnC,oBAAoB,IAAI,QAAQ,CAAC,KAAK,CAAC,EAAE;AACzC,wBAAwB,KAAK,CAAC,KAAK,GAAG,OAAO;AAC7C,wBAAwB;AACxB,oBAAoB;AACpB,yBAAyB,IAAI,OAAO,KAAK,KAAK,UAAU,EAAE;AAC1D,wBAAwB,KAAK,CAAC,OAAO,CAAC;AACtC,wBAAwB;AACxB,oBAAoB;AACpB,yBAAyB,IAAI,KAAK,IAAI,IAAI,EAAE;AAC5C,wBAAwB;AACxB,oBAAoB;AACpB,yBAAyB;AACzB,wBAAwB,MAAM,MAAM,CAAC,EAAE,+BAA+B,CAAC,WAAW,CAAC,CAAC;AACpF,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB,IAAI,QAAQ,CAAC,KAAK,CAAC,EAAE;AACrC,oBAAoB,MAAM,KAAK,GAAG,QAAQ;AAC1C,oBAAoB,MAAM,MAAM,GAAG,KAAK;AACxC,oBAAoB,KAAK,GAAG,cAAc,CAAC,MAAM,wBAAwB,CAAC,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,SAAS,EAAE,uBAAuB,CAAC,CAAC;AAClI,gBAAgB;AAChB,gBAAgB,IAAI,SAAS,CAAC,KAAK,CAAC,EAAE;AACtC,oBAAoB,MAAM,KAAK,GAAG,QAAQ;AAC1C,oBAAoB,KAAK,CAAC,IAAI,CAAC,CAAC,aAAa,KAAK,YAAY,CAAC,GAAG,EAAE,aAAa,EAAE,KAAK,CAAC,CAAC;AAC1F,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB,IAAI,GAAG,KAAK,uBAAuB,EAAE;AACrD,oBAAoB,IAAI,KAAK,EAAE;AAC/B,wBAAwB,OAAO,CAAC,SAAS,GAAG,MAAM,CAAC,KAAK,CAAC;AACzD,wBAAwB,OAAO,CAAC,YAAY,CAAC,cAAc,EAAE,MAAM,4BAA4B;AAC/F,oBAAoB;AACpB,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB,IAAI,WAAW,KAAK,UAAU,IAAI,GAAG,KAAK,OAAO,EAAE;AACnE,oBAAoB,IAAI,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;AAC5D,wBAAwB,IAAI,KAAK,EAAE;AACnC,4BAA4B,MAAM,MAAM,CAAC,EAAE,kCAAkC,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;AAClG,wBAAwB;AACxB,wBAAwB;AACxB,oBAAoB;AACpB,oBAAoB,OAAO,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,IAAI,EAAE,CAAC;AAC3D,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB,YAAY,CAAC,GAAG,EAAE,KAAK,EAAE,QAAQ,CAAC;AAClD,YAAY;AACZ,QAAQ;AACR,QAAQ,MAAM,GAAG,GAAG,GAAG,CAAC,GAAG;AAC3B,QAAQ,IAAI,GAAG,EAAE;AACjB,YAAY,QAAQ,CAAC,OAAO,CAAC,WAAW,EAAE,GAAG,CAAC;AAC9C,QAAQ;AACR;AACA,QAAQ,IAAI,mBAAmB,EAAE;AACjC,YAAY,MAAM,oBAAoB,GAAG,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,UAAU,IAAI,YAAY,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AACvH,YAAY,IAAI,CAAC,oBAAoB,EAAE;AACvC,gBAAgB,OAAO,CAAC,YAAY,CAAC,OAAO,EAAE,mBAAmB,CAAC;AAClE,YAAY;AACZ,QAAQ;AACR,QAAQ,kBAAkB,CAAC,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,CAAC;AAChE,QAAQ,OAAO,wBAAwB;AACvC,IAAI;AACJ,IAAI,SAAS,0BAA0B,CAAC,WAAW,EAAE;AACrD,QAAQ,MAAM,cAAc,GAAG,uBAAuB,CAAC,OAAO,CAAC;AAC/D,QAAQ,MAAM,EAAE,gBAAgB,EAAE,oBAAoB,EAAE,GAAG,0BAA0B,CAAC,cAAc,EAAE,WAAW,CAAC;AAClH,QAAQ,MAAM,OAAO,GAAG,SAAS,CAAC,QAAQ,CAAC,eAAe,CAAC,gBAAgB,EAAE,WAAW,CAAC;AACzF,QAAQ,QAAQ,GAAG,gBAAgB,CAAC,OAAO,EAAE,WAAW,CAAC;AACzD,QAAQ,QAAQ,CAAC,KAAK,IAAI,oBAAoB;AAC9C,QAAQ,OAAO,OAAO;AACtB,IAAI;AACJ,IAAI,SAAS,aAAa,CAAC,GAAG,EAAE,WAAW,EAAE;AAC7C,QAAQ,MAAM,iBAAiB,GAAG,QAAQ,IAAI,oBAAoB,CAAC,QAAQ,CAAC,IAAI,WAAW,KAAK,oBAAoB,CAAC,QAAQ,CAAC;AAC9H,QAAQ,MAAM,MAAM,GAAG,GAAG,CAAC,GAAG;AAC9B,QAAQ,IAAI,wBAAwB,GAAG,KAAK;AAC5C,QAAQ,MAAM,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC;AAC3C,QAAQ,IAAI,CAAC,iBAAiB,IAAI,MAAM,KAAK,UAAU,EAAE;AACzD,YAAY,MAAM,aAAa,GAAG,gBAAgB,CAAC,WAAW,EAAE,MAAM,CAAC;AACvE,YAAY,MAAM,SAAS,GAAG,OAAO,wBAAwB,GAAG,gBAAgB,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC;AACnG,YAAY,qBAAqB,CAAC,WAAW,EAAE,MAAM,EAAE,aAAa,EAAE,OAAO,EAAE,SAAS,CAAC;AACzF,QAAQ;AACR,aAAa;AACb;AACA,YAAY,oBAAoB,CAAC,WAAW,EAAE,MAAM,CAAC;AACrD,QAAQ;AACR;AACA,QAAQ,MAAM,QAAQ,GAAG,EAAE;AAC3B,QAAQ,MAAM,KAAK,GAAG,GAAG,CAAC,QAAQ;AAClC,QAAQ,IAAI,GAAG,CAAC,MAAM,EAAE;AACxB,YAAY,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE;AAClD,YAAY,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE;AACpC,gBAAgB,MAAM,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC;AACxC,gBAAgB,IAAI,KAAK,IAAI,IAAI,EAAE;AACnC,oBAAoB,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC;AAC7C,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,aAAa;AACb,YAAY,KAAK,MAAM,GAAG,IAAI,KAAK,EAAE;AACrC,gBAAgB,MAAM,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC;AACxC,gBAAgB,IAAI,KAAK,IAAI,IAAI,EAAE;AACnC,oBAAoB,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC;AAC7C,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,QAAQ,IAAI,MAAM,KAAK,IAAI,EAAE;AAC7B,YAAY,YAAY,CAAC,QAAQ,EAAE,WAAW,EAAE,MAAM,EAAE,CAAC,CAAC;AAC1D,QAAQ;AACR,QAAQ,MAAM,KAAK,IAAI,QAAQ,IAAI,QAAQ,CAAC;AAC5C,QAAQ,MAAM,OAAO,GAAG,KAAK,CAAC,OAAO;AACrC,QAAQ,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE;AAC5B,YAAY,OAAO,CAAC,KAAK,GAAG,KAAK;AACjC,QAAQ;AACR,QAAQ,wBAAwB;AAChC,YAAY,YAAY,CAAC,KAAK,EAAE,QAAQ,EAAE,CAAC,KAAK,IAAI,sBAAsB,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,IAAI,CAAC;AAC7F,gBAAgB,wBAAwB;AACxC,QAAQ,IAAI,wBAAwB,EAAE;AACtC;AACA,YAAY,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE;AACzC,gBAAgB,OAAO,CAAC,cAAc,GAAG,CAAC,KAAK,EAAE,KAAK,KAAK;AAC3D,oBAAoB,MAAM,SAAS,GAAG,oBAAoB,CAAC,KAAK,CAAC,IAAI,CAAC;AACtE,oBAAoB,MAAM,SAAS,GAAG,GAAG,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,SAAS;AAChF,oBAAoB,MAAM,IAAI,GAAG;AACjC,wBAAwB,KAAK,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC;AACtD,wBAAwB,KAAK,CAAC,OAAO,CAAC,cAAc,GAAG,SAAS,EAAE,IAAI,CAAC;AACvE,qBAAqB;AACrB,oBAAoB,IAAI,WAAW,GAAG,KAAK;AAC3C,oBAAoB,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,KAAK;AAClD,wBAAwB,IAAI,GAAG,EAAE;AACjC,4BAA4B,IAAI,SAAS,CAAC,GAAG,CAAC,EAAE;AAChD,gCAAgC,GAAG,CAAC,KAAK,EAAE,OAAO,CAAC;AACnD,4BAA4B;AAC5B,iCAAiC;AACjC,gCAAgC,MAAM,KAAK,GAAG,SAAS,CAAC,WAAW,CAAC,CAAC,0BAA0B,KAAK,EAAE,GAAG,EAAE,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;AAC5H,gCAAgC,WAAW,GAAG,WAAW,IAAI,KAAK,KAAK,IAAI;AAC3E,4BAA4B;AAC5B,wBAAwB;AACxB,oBAAoB,CAAC,CAAC;AACtB,oBAAoB,OAAO,WAAW;AACtC,gBAAgB,CAAC;AACjB,YAAY;AACZ,QAAQ;AACR,IAAI;AACJ;AACA,IAAI,SAAS,YAAY,CAAC,KAAK,EAAE,QAAQ,EAAE,WAAW,EAAE;AACxD,QAAQ,2BAA2B,CAAC,KAAK,CAAC;AAC1C,QAAQ,MAAM,QAAQ,GAAG,cAAc,CAAC,KAAK,CAAC;AAC9C,QAAQ,IAAI,MAAM,GAAG,CAAC;AACtB,QAAQ,IAAI,MAAM,GAAG,CAAC;AACtB,QAAQ,IAAI,kBAAkB,GAAG,KAAK;AACtC,QAAQ,MAAM,YAAY,GAAG,CAAC,GAAG,EAAE,KAAK,EAAE,KAAK,KAAK;AACpD,YAAY,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,KAAK,KAAK,IAAI,GAAG,kBAAkB,CAAC,GAAG,EAAE,KAAK,EAAE,mBAAmB,CAAC,GAAG,IAAI,EAAE,OAAO,CAAC;AACpH,QAAQ,CAAC;AACT,QAAQ,MAAM,MAAM,GAAG,CAAC,GAAG,EAAE,KAAK,KAAK;AACvC,YAAY,IAAI,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;AACrC,gBAAgB,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,KAAK,CAAC;AACzC,gBAAgB;AAChB,YAAY;AACZ,YAAY,IAAI,GAAG,KAAK,KAAK,EAAE;AAC/B,gBAAgB,MAAM,OAAO,GAAG,KAAK,CAAC,OAAO;AAC7C,gBAAgB,IAAI,QAAQ,CAAC,KAAK,CAAC,EAAE;AACrC,oBAAoB,KAAK,CAAC,KAAK,GAAG,OAAO;AACzC,oBAAoB;AACpB,gBAAgB;AAChB,qBAAqB,IAAI,OAAO,KAAK,KAAK,UAAU,EAAE;AACtD,oBAAoB,KAAK,CAAC,OAAO,CAAC;AAClC,oBAAoB;AACpB,gBAAgB;AAChB;AACA,qBAAqB;AACrB,oBAAoB,MAAM,MAAM,CAAC,EAAE,+BAA+B,CAAC,WAAW,CAAC,CAAC;AAChF,gBAAgB;AAChB,YAAY;AACZ,YAAY,MAAM,aAAa,GAAG,KAAK,CAAC,gBAAgB,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC;AACnE,YAAY,IAAI,QAAQ,CAAC,KAAK,CAAC,EAAE;AACjC,gBAAgB,MAAM,eAAe,GAAG,KAAK,YAAY,iBAAiB,GAAG,KAAK,CAAC,gBAAgB,EAAE,GAAG,KAAK;AAC7G,gBAAgB,MAAM,aAAa,GAAG,aAAa,GAAG,CAAC,uCAAuC;AAC9F,gBAAgB,IAAI,aAAa,KAAK,eAAe,EAAE;AACvD,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB,IAAI,aAAa,EAAE;AACnC;AACA;AACA,oBAAoB,uBAAuB,CAAC,SAAS,EAAE,aAAa,CAAC;AACrE,gBAAgB;AAChB,gBAAgB,MAAM,KAAK,GAAG,KAAK;AACnC,gBAAgB,KAAK,GAAG,cAAc,CAAC,MAAM,wBAAwB,CAAC,eAAe,EAAE,KAAK,EAAE,GAAG,EAAE,SAAS,EAAE,2BAA2B,CAAC,CAAC;AAC3I,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,IAAI,aAAa,EAAE;AACnC;AACA;AACA;AACA,oBAAoB,uBAAuB,CAAC,SAAS,EAAE,aAAa,CAAC;AACrE,gBAAgB;AAChB,YAAY;AACZ,YAAY,IAAI,SAAS,CAAC,KAAK,CAAC,EAAE;AAClC,gBAAgB,MAAM,KAAK,GAAG,KAAK;AACnC,gBAAgB,KAAK,CAAC,IAAI,CAAC,CAAC,aAAa,KAAK,YAAY,CAAC,GAAG,EAAE,aAAa,EAAE,KAAK,CAAC,CAAC;AACtF,gBAAgB;AAChB,YAAY;AACZ,YAAY,YAAY,CAAC,GAAG,EAAE,KAAK,EAAE,KAAK,CAAC;AAC3C,QAAQ,CAAC;AACT,QAAQ,MAAM,cAAc,GAAG,CAAC,GAAG,EAAE,KAAK,KAAK;AAC/C,YAAY,MAAM,IAAI,GAAG,6BAA6B,CAAC,GAAG,CAAC;AAC3D,YAAY,IAAI,IAAI,EAAE;AACtB,gBAAgB,MAAM,CAAC,KAAK,EAAE,SAAS,CAAC,GAAG,IAAI;AAC/C,gBAAgB,MAAM,CAAC,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,SAAS,EAAE,KAAK,CAAC;AAC5D;AACA,gBAAgB,uBAAuB,CAAC,SAAS,CAAC;AAClD,gBAAgB,kBAAkB,GAAG,IAAI;AACzC,YAAY;AACZ,QAAQ,CAAC;AACT;AACA;AACA,QAAQ,OAAO,MAAM,GAAG,QAAQ,CAAC,MAAM,IAAI,MAAM,GAAG,QAAQ,CAAC,MAAM,EAAE;AACrE,YAAY,MAAM,MAAM,GAAG,MAAM,GAAG,QAAQ,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC,GAAG,SAAS;AAClF,YAAY,MAAM,MAAM,GAAG,MAAM,GAAG,QAAQ,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC,GAAG,SAAS;AAClF;AACA,YAAY,IAAI,MAAM,EAAE,UAAU,CAAC,cAAc,CAAC,IAAI,MAAM,EAAE,UAAU,CAAC,QAAQ,CAAC,EAAE;AACpF,gBAAgB,MAAM,IAAI,CAAC,CAAC;AAC5B,gBAAgB;AAChB,YAAY;AACZ,YAAY,IAAI,MAAM,KAAK,SAAS,EAAE;AACtC;AACA,gBAAgB,IAAI,0BAA0B,CAAC,MAAM,CAAC,EAAE;AACxD;AACA,oBAAoB,MAAM,IAAI,CAAC,CAAC;AAChC,gBAAgB;AAChB,qBAAqB;AACrB,oBAAoB,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC;AACxC;AACA,gBAAgB;AAChB,YAAY;AACZ,iBAAiB,IAAI,MAAM,KAAK,SAAS,EAAE;AAC3C;AACA,gBAAgB,MAAM,QAAQ,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;AACrD,gBAAgB,IAAI,0BAA0B,CAAC,MAAM,CAAC,EAAE;AACxD,oBAAoB,cAAc,CAAC,MAAM,EAAE,QAAQ,CAAC;AACpD,gBAAgB;AAChB,qBAAqB;AACrB,oBAAoB,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAC;AAC5C,gBAAgB;AAChB,gBAAgB,MAAM,IAAI,CAAC,CAAC;AAC5B;AACA,gBAAgB,MAAM,IAAI,CAAC;AAC3B,YAAY;AACZ,iBAAiB,IAAI,MAAM,KAAK,MAAM,EAAE;AACxC;AACA,gBAAgB,MAAM,QAAQ,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;AACrD,gBAAgB,MAAM,QAAQ,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;AACrD,gBAAgB,MAAM,cAAc,GAAG,0BAA0B,CAAC,MAAM,CAAC;AACzE,gBAAgB,IAAI,QAAQ,KAAK,QAAQ,EAAE;AAC3C,oBAAoB,IAAI,cAAc,EAAE;AACxC,wBAAwB,cAAc,CAAC,MAAM,EAAE,QAAQ,CAAC;AACxD,oBAAoB;AACpB,yBAAyB;AACzB,wBAAwB,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAC;AAChD,oBAAoB;AACpB,gBAAgB;AAChB,qBAAqB,IAAI,cAAc,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,cAAc,EAAE;AAC1E;AACA,oBAAoB,cAAc,CAAC,MAAM,EAAE,QAAQ,CAAC;AACpD,gBAAgB;AAChB;AACA,gBAAgB,MAAM,IAAI,CAAC,CAAC;AAC5B,gBAAgB,MAAM,IAAI,CAAC,CAAC;AAC5B,YAAY;AACZ,iBAAiB,IAAI,MAAM,GAAG,MAAM,EAAE;AACtC;AACA,gBAAgB,MAAM,QAAQ,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;AACrD,gBAAgB,IAAI,0BAA0B,CAAC,MAAM,CAAC,EAAE;AACxD,oBAAoB,cAAc,CAAC,MAAM,EAAE,QAAQ,CAAC;AACpD,gBAAgB;AAChB,qBAAqB;AACrB,oBAAoB,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAC;AAC5C,gBAAgB;AAChB,gBAAgB,MAAM,IAAI,CAAC,CAAC;AAC5B;AACA,gBAAgB,MAAM,IAAI,CAAC;AAC3B,YAAY;AACZ,iBAAiB;AACjB;AACA,gBAAgB,IAAI,0BAA0B,CAAC,MAAM,CAAC,EAAE;AACxD;AACA,oBAAoB,MAAM,IAAI,CAAC,CAAC;AAChC,gBAAgB;AAChB,qBAAqB;AACrB,oBAAoB,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC;AACxC;AACA,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,QAAQ,OAAO,kBAAkB;AACjC,IAAI;AACJ,IAAI,SAAS,uBAAuB,CAAC,SAAS,EAAE;AAChD,QAAQ,MAAM,MAAM,GAAG,SAAS,CAAC,QAAQ,CAAC,WAAW;AACrD,QAAQ,IAAI,MAAM,EAAE;AACpB,YAAY,CAAC,MAAM,CAAC,UAAU,KAAK,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC;AACtD,QAAQ;AACR,IAAI;AACJ,IAAI,SAAS,oBAAoB,CAAC,QAAQ,EAAE,GAAG,EAAE;AACjD,QAAQ,IAAI,YAAY,GAAG,IAAI;AAC/B,QAAQ,IAAI,SAAS,KAAK,IAAI,EAAE;AAChC;AACA,YAAY,SAAS,GAAG,IAAI,GAAG,EAAE;AACjC,YAAY,cAAc,GAAG,EAAE;AAC/B,YAAY,IAAI,KAAK,GAAG,QAAQ;AAChC,YAAY,OAAO,KAAK,EAAE;AAC1B,gBAAgB,MAAM,IAAI,GAAG,oBAAoB,CAAC,KAAK,CAAC,GAAG,oBAAoB,CAAC,KAAK,CAAC,GAAG,IAAI;AAC7F,gBAAgB,MAAM,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,gBAAgB,CAAC,KAAK,EAAE,SAAS,CAAC,eAAe,CAAC;AAChG,gBAAgB,IAAI,YAAY,KAAK,IAAI,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,QAAQ,EAAE;AAC9E,oBAAoB,YAAY,GAAG,KAAK;AACxC,gBAAgB;AAChB,qBAAqB;AACrB,oBAAoB,IAAI,IAAI,KAAK,IAAI,EAAE;AACvC,wBAAwB,cAAc,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC;AACxD,oBAAoB;AACpB,yBAAyB;AACzB;AACA,wBAAwB,SAAS,CAAC,GAAG,CAAC,gBAAgB,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,KAAK,CAAC;AAC1E,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB,KAAK,GAAG,KAAK,CAAC,WAAW;AACzC,YAAY;AACZ,QAAQ;AACR,aAAa;AACb,YAAY,IAAI,GAAG,KAAK,IAAI,EAAE;AAC9B,gBAAgB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;AACnE,oBAAoB,IAAI,cAAc,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAE;AACxD,wBAAwB,YAAY,GAAG,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;AAC5D,wBAAwB,cAAc,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACnD,wBAAwB;AACxB,oBAAoB;AACpB,gBAAgB;AAChB,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,MAAM,WAAW,GAAG,gBAAgB,CAAC,QAAQ,EAAE,GAAG,CAAC;AACnE,gBAAgB,IAAI,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE;AAChD,oBAAoB,YAAY,GAAG,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC;AAC7D,oBAAoB,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC;AACjD,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,QAAQ,yBAAyB,CAAC,YAAY,CAAC;AAC/C,QAAQ,OAAO,YAAY;AAC3B,IAAI;AACJ,IAAI,SAAS,yBAAyB,CAAC,UAAU,EAAE;AACnD,QAAQ,IAAI,CAAC,UAAU,EAAE;AACzB,YAAY,IAAI,QAAQ,EAAE;AAC1B,gBAAgB,MAAM,IAAI,GAAG,oBAAoB,CAAC,QAAQ,CAAC,GAAG,oBAAoB,CAAC,QAAQ,CAAC,GAAG,IAAI;AACnG,gBAAgB,MAAM,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,gBAAgB,CAAC,QAAQ,EAAE,SAAS,CAAC,eAAe,CAAC;AACtG,gBAAgB,IAAI,IAAI,IAAI,IAAI,EAAE;AAClC,oBAAoB,MAAM,aAAa,GAAG,gBAAgB,CAAC,IAAI,EAAE,IAAI,CAAC;AACtE,oBAAoB,WAAW,KAAK,IAAI,GAAG,EAAE;AAC7C,oBAAoB,WAAW,CAAC,GAAG,CAAC,aAAa,EAAE,QAAQ,CAAC;AAC5D,oBAAoB,SAAS,EAAE,MAAM,CAAC,aAAa,CAAC;AACpD,gBAAgB;AAChB,YAAY;AACZ,YAAY;AACZ,QAAQ;AACR;AACA,QAAQ,IAAI,KAAK,GAAG,QAAQ;AAC5B,QAAQ,OAAO,KAAK,IAAI,KAAK,KAAK,UAAU,EAAE;AAC9C,YAAY,MAAM,IAAI,GAAG,oBAAoB,CAAC,KAAK,CAAC,GAAG,oBAAoB,CAAC,KAAK,CAAC,GAAG,IAAI;AACzF,YAAY,MAAM,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,gBAAgB,CAAC,KAAK,EAAE,SAAS,CAAC,eAAe,CAAC;AAC5F,YAAY,IAAI,IAAI,IAAI,IAAI,EAAE;AAC9B,gBAAgB,MAAM,aAAa,GAAG,gBAAgB,CAAC,IAAI,EAAE,IAAI,CAAC;AAClE,gBAAgB,WAAW,KAAK,IAAI,GAAG,EAAE;AACzC,gBAAgB,WAAW,CAAC,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC;AACrD,gBAAgB,SAAS,EAAE,MAAM,CAAC,aAAa,CAAC;AAChD,YAAY;AACZ,YAAY,KAAK,GAAG,KAAK,CAAC,WAAW;AACrC,QAAQ;AACR,IAAI;AACJ,IAAI,SAAS,gBAAgB,CAAC,QAAQ,EAAE,GAAG,EAAE;AAC7C,QAAQ,IAAI,GAAG,IAAI,IAAI,EAAE;AACzB,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,QAAQ,OAAO,QAAQ,GAAG,QAAQ,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;AACpD,IAAI;AACJ,IAAI,SAAS,oBAAoB,CAAC,QAAQ,EAAE,GAAG,EAAE;AACjD,QAAQ,MAAM,KAAK,GAAG,gBAAgB,CAAC,QAAQ,EAAE,GAAG,CAAC;AACrD,QAAQ,IAAI,KAAK,IAAI,WAAW,EAAE,GAAG,CAAC,KAAK,CAAC,EAAE;AAC9C,YAAY,WAAW,CAAC,MAAM,CAAC,KAAK,CAAC;AACrC,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,QAAQ,OAAO,KAAK;AACpB,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,SAAS,qBAAqB,CAAC,QAAQ,EAAE,SAAS,EAAE,aAAa,EAAE,eAAe,EAAE,SAAS,EAAE,kCAAkC,EAAE;AACvI;AACA,QAAQ,QAAQ,GAAG,oBAAoB,CAAC,QAAQ,EAAE,SAAS,CAAC;AAC5D,QAAQ,IAAI,QAAQ,EAAE;AACtB,YAAY,QAAQ,GAAG,QAAQ;AAC/B,YAAY,QAAQ,GAAG,IAAI;AAC3B,YAAY;AACZ,QAAQ;AACR;AACA,QAAQ,IAAI,aAAa,IAAI,IAAI,EAAE;AACnC,YAAY,MAAM,QAAQ,GAAG,WAAW,EAAE,GAAG,CAAC,aAAa,CAAC,IAAI,IAAI;AACpE,YAAY,IAAI,QAAQ,EAAE;AAC1B,gBAAgB,WAAW,CAAC,MAAM,CAAC,aAAa,CAAC;AACjD,gBAAgB,IAAI,kCAAkC,IAAI,QAAQ,EAAE;AACpE,oBAAoB,MAAM,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,gBAAgB,CAAC,QAAQ,EAAE,SAAS,CAAC,eAAe,CAAC;AAChH,oBAAoB,IAAI,UAAU,IAAI,IAAI,EAAE;AAC5C,wBAAwB,MAAM,WAAW,GAAG,oBAAoB,CAAC,QAAQ;AACzE,8BAA8B,oBAAoB,CAAC,QAAQ;AAC3D,8BAA8B,IAAI;AAClC,wBAAwB,MAAM,cAAc,GAAG,gBAAgB,CAAC,WAAW,EAAE,UAAU,CAAC;AACxF,wBAAwB,IAAI,cAAc,IAAI,IAAI,EAAE;AACpD,4BAA4B,WAAW,KAAK,IAAI,GAAG,EAAE;AACrD,4BAA4B,WAAW,CAAC,GAAG,CAAC,cAAc,EAAE,QAAQ,CAAC;AACrE,wBAAwB;AACxB,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB,kBAAkB,CAAC,OAAO,EAAE,eAAe,EAAE,QAAQ,EAAE,QAAQ,CAAC;AAChF,gBAAgB,QAAQ,GAAG,QAAQ;AACnC,gBAAgB,QAAQ,GAAG,IAAI;AAC/B,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR;AACA,QAAQ,OAAO,SAAS,EAAE;AAC1B,IAAI;AACJ,IAAI,SAAS,aAAa,CAAC,IAAI,EAAE,MAAM,EAAE;AACzC,QAAQ,MAAM,QAAQ,GAAG,IAAI,KAAK,GAAG;AACrC,QAAQ,MAAM,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC;AAC3C,QAAQ,MAAM,gBAAgB,GAAG,QAAQ,IAAI,oBAAoB,CAAC,QAAQ,CAAC;AAC3E,QAAQ,MAAM,UAAU,GAAG,gBAAgB,IAAI,UAAU,KAAK,MAAM,KAAK,QAAQ,GAAG,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;AACpG,QAAQ,IAAI,UAAU,EAAE;AACxB;AACA,YAAY,oBAAoB,CAAC,IAAI,EAAE,UAAU,CAAC;AAClD,YAAY;AACZ,QAAQ;AACR,QAAQ,MAAM,SAAS,GAAG,MAAM;AAChC,YAAY,kBAAkB,CAAC,OAAO,EAAE,OAAO,GAAG,QAAQ,GAAG,gBAAgB,EAAE,GAAG,QAAQ,IAAI,eAAe,EAAE,CAAC;AAChH,YAAY,QAAQ,CAAC,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC;AACjD,YAAY,KAAK,IAAI,QAAQ,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC;AACvD,QAAQ,CAAC;AACT;AACA,QAAQ,IAAI,MAAM,KAAK,IAAI,EAAE;AAC7B,YAAY,SAAS,EAAE;AACvB,YAAY;AACZ,QAAQ;AACR,QAAQ,qBAAqB,CAAC,IAAI,EAAE,MAAM,EAAE,gBAAgB,CAAC,IAAI,EAAE,MAAM,CAAC,EAAE,OAAO,EAAE,SAAS,EAAE,IAAI,CAAC;AACrG,IAAI;AACJ,IAAI,SAAS,eAAe,CAAC,SAAS,EAAE;AACxC,QAAQ,MAAM,aAAa,GAAG,SAAS,CAAC,kBAAkB,CAAC;AAC3D,QAAQ,IAAI,IAAI,IAAI,QAAQ,IAAI,QAAQ,CAAC;AACzC,QAAQ,MAAM,OAAO,GAAG,QAAQ;AAChC,QAAQ,IAAI,aAAa,EAAE;AAC3B,YAAY,MAAM,QAAQ,GAAG,OAAO,CAAC,KAAK;AAC1C;AACA,YAAY,IAAI,YAAY,GAAG,KAAK;AACpC,YAAY,MAAM,CAAC,YAAY,CAAC,GAAG,aAAa;AAChD,YAAY,MAAM,aAAa,GAAG,YAAY,CAAC,MAAM;AACrD,YAAY,MAAM,kBAAkB,GAAG,gBAAgB,CAAC,IAAI,EAAE,SAAS,CAAC,eAAe,CAAC;AACxF,YAAY,MAAM,SAAS,GAAG,OAAO,CAAC,GAAG,IAAI,aAAa;AAC1D,YAAY,MAAM,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,kBAAkB;AACrE,YAAY,MAAM,kBAAkB,GAAG,SAAS,KAAK,cAAc;AACnE,YAAY,MAAM,cAAc,GAAG,aAAa,KAAK,kBAAkB;AACvE,YAAY,IAAI,CAAC,kBAAkB,EAAE;AACrC,gBAAgB,MAAM,SAAS,GAAG,MAAM;AACxC,oBAAoB,kBAAkB,CAAC,IAAI,EAAE,YAAY,EAAE,QAAQ,CAAC;AACpE,oBAAoB,YAAY,GAAG,IAAI;AACvC,gBAAgB,CAAC;AACjB,gBAAgB,qBAAqB,CAAC,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,OAAO,EAAE,SAAS,CAAC;AACrF,gBAAgB,IAAI,IAAI,QAAQ,IAAI,QAAQ,CAAC;AAC7C,YAAY;AACZ,iBAAiB,IAAI,CAAC,cAAc,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE;AACtD,gBAAgB,kBAAkB,CAAC,IAAI,EAAE,YAAY,EAAE,QAAQ,CAAC;AAChE,gBAAgB,IAAI,GAAG,QAAQ;AAC/B,gBAAgB,YAAY,GAAG,IAAI;AACnC,YAAY;AACZ,iBAAiB;AACjB;AACA,gBAAgB,oBAAoB,CAAC,IAAI,EAAE,SAAS,CAAC;AACrD,YAAY;AACZ,YAAY,IAAI,IAAI,EAAE;AACtB,gBAAgB,IAAI,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,SAAS,CAAC,eAAe,CAAC;AACvF,gBAAgB,IAAI,iBAAiB,GAAG,KAAK;AAC7C,gBAAgB,IAAI,CAAC,YAAY,EAAE;AACnC,oBAAoB,iBAAiB;AACrC,wBAAwB,WAAW,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE,UAAU,GAAG,YAAY,CAAC,CAAC;AACvF,4BAA4B,WAAW,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE,UAAU,GAAG,UAAU,CAAC,CAAC;AACvF,oBAAoB,YAAY,GAAG,YAAY,IAAI,iBAAiB;AACpE,gBAAgB;AAChB,gBAAgB,IAAI,YAAY,EAAE;AAClC,oBAAoB,IAAI,iBAAiB,EAAE;AAC3C,wBAAwB,IAAI,UAAU,EAAE;AACxC;AACA;AACA;AACA;AACA,4BAA4B,UAAU,CAAC,YAAY,CAAC,GAAG,QAAQ,CAAC,YAAY,CAAC;AAC7E,4BAA4B,UAAU,CAAC,UAAU,CAAC,GAAG,QAAQ,CAAC,UAAU,CAAC;AACzE,4BAA4B,UAAU,CAAC,MAAM,CAAC,GAAG,QAAQ,CAAC,MAAM,CAAC;AACjE,wBAAwB;AACxB,6BAA6B,IAAI,QAAQ,EAAE;AAC3C;AACA;AACA,4BAA4B,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,QAAQ,CAAC;AACjE,4BAA4B,UAAU,GAAG,QAAQ;AACjD,wBAAwB;AACxB,oBAAoB;AACpB;AACA;AACA,oBAAoB,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,YAAY,CAAC;AAC5D;AACA;AACA;AACA;AACA;AACA,oBAAoB,IAAI,CAAC,KAAK,IAAI,GAAG;AACrC,oBAAoB,SAAS,CAAC,WAAW,CAAC,CAAC,4BAA4B,IAAI,EAAE,YAAY,EAAE,UAAU,CAAC;AACtG,gBAAgB;AAChB,YAAY;AACZ,YAAY,uBAAuB,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC;AAC3D,QAAQ;AACR,aAAa;AACb,YAAY,MAAM,SAAS,GAAG,OAAO,CAAC,GAAG;AACzC,YAAY,MAAM,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC;AAC/C,YAAY,MAAM,kBAAkB,GAAG,SAAS,KAAK,cAAc;AACnE,YAAY,MAAM,kBAAkB,GAAG,gBAAgB,CAAC,IAAI,EAAE,SAAS,CAAC,eAAe,CAAC;AACxF,YAAY,MAAM,iBAAiB,GAAG,kBAAkB,IAAI,IAAI;AAChE,YAAY,IAAI,CAAC,IAAI,IAAI,CAAC,iBAAiB,KAAK,SAAS,IAAI,IAAI,EAAE;AACnE,gBAAgB,wBAAwB,EAAE;AAC1C,gBAAgB,IAAI,GAAG,QAAQ;AAC/B,YAAY;AACZ,iBAAiB,IAAI,CAAC,kBAAkB,EAAE;AAC1C,gBAAgB,MAAM,SAAS,GAAG,MAAM;AACxC;AACA,oBAAoB,wBAAwB,EAAE;AAC9C,gBAAgB,CAAC;AACjB,gBAAgB,qBAAqB,CAAC,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,OAAO,EAAE,SAAS,CAAC;AACrF,gBAAgB,IAAI,IAAI,QAAQ,IAAI,QAAQ,CAAC;AAC7C,YAAY;AACZ,iBAAiB;AACjB;AACA,gBAAgB,oBAAoB,CAAC,IAAI,EAAE,SAAS,CAAC;AACrD,YAAY;AACZ,YAAY,IAAI,IAAI,EAAE;AACtB,gBAAgB,IAAI,aAAa,GAAG,IAAI;AACxC;AACA,gBAAgB,OAAO,aAAa;AACpC,qBAAqB,oBAAoB,CAAC,aAAa;AACvD,0BAA0B,aAAa,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,KAAK;AACxE,0BAA0B,IAAI,CAAC,EAAE;AACjC,oBAAoB,aAAa,GAAG,aAAa,CAAC,MAAM;AACxD,gBAAgB;AAChB,gBAAgB,MAAM,SAAS,GAAG,gBAAgB,CAAC,SAAS,EAAE,IAAI,GAAG,aAAa,IAAI,SAAS,CAAC,SAAS,GAAG,SAAS,EAAE,OAAO,CAAC,KAAK,CAAC;AACrI,gBAAgB,UAAU,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC;AAChD,YAAY;AACZ,QAAQ;AACR,IAAI;AACJ,IAAI,SAAS,kBAAkB,CAAC,IAAI,EAAE,YAAY,EAAE,QAAQ,EAAE;AAC9D,QAAQ,IAAI,IAAI,EAAE;AAClB,YAAY,eAAe,CAAC,SAAS,EAAE,IAAI,CAAC;AAC5C,QAAQ;AACR,QAAQ,kBAAkB,CAAC,OAAO,EAAE,OAAO,GAAG,QAAQ,GAAG,gBAAgB,EAAE,GAAG,QAAQ,IAAI,eAAe,EAAE,CAAC;AAC5G,QAAQ,MAAM,OAAO,GAAG,QAAQ;AAChC,QAAQ,KAAK,IAAI,QAAQ,CAAC,OAAO,CAAC,UAAU,EAAE,GAAG,6BAA6B;AAC9E,QAAQ,SAAS,CAAC,WAAW,CAAC,QAAQ,EAAE,YAAY,EAAE,YAAY,CAAC;AACnE,QAAQ,SAAS,CAAC,WAAW,CAAC,QAAQ,EAAE,aAAa,EAAE,QAAQ,CAAC;AAChE,QAAQ,SAAS,CAAC,WAAW,CAAC,QAAQ,EAAE,WAAW,EAAE,OAAO,CAAC,GAAG,CAAC;AACjE,IAAI;AACJ,IAAI,SAAS,wBAAwB,GAAG;AACxC,QAAQ,kBAAkB,CAAC,OAAO,EAAE,OAAO,GAAG,QAAQ,GAAG,gBAAgB,EAAE,GAAG,QAAQ,IAAI,eAAe,EAAE,CAAC;AAC5G,QAAQ,MAAM,OAAO,GAAG,QAAQ;AAChC,QAAQ,KAAK,IAAI,QAAQ,CAAC,OAAO,CAAC,UAAU,EAAE,GAAG,mCAAmC;AACpF,QAAQ,QAAQ,CAAC,OAAO,CAAC,aAAa,EAAE,OAAO,CAAC,KAAK,CAAC;AACtD,QAAQ,IAAI,OAAO,CAAC,GAAG,EAAE;AACzB,YAAY,QAAQ,CAAC,OAAO,CAAC,WAAW,EAAE,OAAO,CAAC,GAAG,CAAC;AACtD,QAAQ;AACR,IAAI;AACJ,IAAI,SAAS,UAAU,CAAC,IAAI,EAAE;AAC9B,QAAQ,IAAI,QAAQ,KAAK,IAAI,EAAE;AAC/B,YAAY,MAAM,IAAI,GAAG,aAAa,CAAC,QAAQ,CAAC;AAChD,YAAY,IAAI,IAAI,KAAK,CAAC,aAAa;AACvC,gBAAgB,IAAI,IAAI,KAAK,aAAa,CAAC,QAAQ,CAAC,EAAE;AACtD,oBAAoB,aAAa,CAAC,OAAO,EAAE,QAAQ,EAAE,IAAI,CAAC;AAC1D,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,QAAQ,kBAAkB,CAAC,OAAO,EAAE,OAAO,GAAG,QAAQ,GAAG,aAAa,CAAC,SAAS,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,GAAG,QAAQ,CAAC;AACjI,IAAI;AACJ,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,MAAM,CAAC,KAAK,EAAE;AACvB,IAAI,IAAI,KAAK,IAAI,IAAI,EAAE;AACvB,QAAQ,OAAO,IAAI;AACnB,IAAI;AACJ,IAAI,OAAO,KAAK,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,gBAAgB,CAAC,KAAK,EAAE,SAAS,EAAE;AAC5C,IAAI,IAAI,KAAK,IAAI,IAAI,EAAE;AACvB,QAAQ,OAAO,IAAI;AACnB,IAAI;AACJ,IAAI,MAAM,GAAG,GAAG,KAAK,CAAC,OAAO,CAAC,YAAY,EAAE,SAAS,CAAC;AACtD,IAAI,OAAO,GAAG,GAAG,GAAG,CAAC,MAAM,GAAG,IAAI;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,UAAU,GAAG,EAAE;AACxB,SAAS,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE;AAC/B,IAAI,MAAM,QAAQ,GAAG,YAAY,CAAC,GAAG,CAAC;AACtC,IAAI,MAAM,QAAQ,GAAG,YAAY,CAAC,GAAG,CAAC;AACtC,IAAI,IAAI,QAAQ,IAAI,QAAQ,EAAE;AAC9B,QAAQ,OAAO,KAAK;AACpB,IAAI;AACJ,IAAI,IAAI,QAAQ,IAAI,QAAQ,EAAE;AAC9B,QAAQ,OAAO,IAAI;AACnB,IAAI;AACJ,IAAI,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC;AACpC,IAAI,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC;AACpC,IAAI,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM;AAC/B,IAAI,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM;AAC/B,IAAI,IAAI,UAAU,IAAI,GAAG,EAAE;AAC3B,QAAQ,MAAM,EAAE;AAChB,IAAI;AACJ,IAAI,IAAI,SAAS,IAAI,GAAG,EAAE;AAC1B,QAAQ,MAAM,EAAE;AAChB,IAAI;AACJ,IAAI,IAAI,UAAU,IAAI,GAAG,EAAE;AAC3B,QAAQ,MAAM,EAAE;AAChB,IAAI;AACJ,IAAI,IAAI,SAAS,IAAI,GAAG,EAAE;AAC1B,QAAQ,MAAM,EAAE;AAChB,IAAI;AACJ,IAAI,IAAI,MAAM,KAAK,MAAM,EAAE;AAC3B,QAAQ,OAAO,IAAI;AACnB,IAAI;AACJ,IAAI,KAAK,MAAM,GAAG,IAAI,OAAO,EAAE;AAC/B,QAAQ,IAAI,GAAG,KAAK,UAAU,IAAI,GAAG,KAAK,SAAS,EAAE;AACrD,YAAY;AACZ,QAAQ;AACR,QAAQ,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,EAAE;AACtF,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,IAAI;AACJ,IAAI,OAAO,KAAK;AAChB;AACA,SAAS,YAAY,CAAC,KAAK,EAAE;AAC7B,IAAI,IAAI,CAAC,KAAK,EAAE;AAChB,QAAQ,OAAO,IAAI;AACnB,IAAI;AACJ,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,KAAK,CAAC;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,OAAO,CAAC,SAAS,EAAE,KAAK,EAAE;AAC1C,IAAI,IAAI,OAAO,GAAG,KAAK;AACvB;AACA,IAAI,IAAI,iBAAiB,CAAC,KAAK,CAAC,EAAE;AAClC,QAAQ,kBAAkB,CAAC,OAAO,CAAC;AACnC;AACA,QAAQ;AACR,IAAI;AACJ,IAAI,IAAI,OAAO,GAAG,IAAI;AACtB,IAAI,GAAG;AACP,QAAQ,MAAM,IAAI,GAAG,OAAO,CAAC,KAAK;AAClC,QAAQ,IAAI,IAAI,GAAG,CAAC,2CAA2C;AAC/D,YAAY,eAAe,CAAC,SAAS,EAAE,OAAO,CAAC;AAC/C,YAAY,kBAAkB,CAAC,OAAO,CAAC;AACvC;AACA,YAAY,IAAI,IAAI,GAAG,CAAC,2BAA2B;AACnD,gBAAgB,MAAM,GAAG,GAAG,SAAS,CAAC,WAAW,CAAC,OAAO,EAAE,WAAW,CAAC;AACvE,gBAAgB,IAAI,GAAG,EAAE;AACzB,oBAAoB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACzD,wBAAwB,MAAM,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;AAC1C,wBAAwB,IAAI,MAAM,CAAC,GAAG,CAAC,EAAE;AACzC,4BAA4B,MAAM,IAAI,GAAG,GAAG;AAC5C,4BAA4B,eAAe,CAAC,SAAS,EAAE,IAAI,CAAC;AAC5D,4BAA4B,IAAI,IAAI,CAAC,OAAO,GAAG,CAAC,+BAA+B;AAC/E,gCAAgC,SAAS,CAAC,WAAW,CAAC,EAAE,kCAAkC,IAAI,CAAC;AAC/F,4BAA4B;AAC5B,iCAAiC;AACjC,gCAAgC,WAAW,CAAC,IAAI,CAAC;AACjD,4BAA4B;AAC5B,wBAAwB;AACxB,oBAAoB;AACpB,gBAAgB;AAChB,YAAY;AACZ,YAAY,MAAM,WAAW,GAAG,IAAI,GAAG,CAAC;AACxC,gBAAgB,OAAO,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,KAAK,IAAI;AAC5D,YAAY,IAAI,WAAW,EAAE;AAC7B;AACA,gBAAgB,MAAM,KAAK,GAAG,cAAc,CAAC,OAAO,CAAC;AACrD,gBAAgB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;AAC7D,oBAAoB,MAAM,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC;AACxC,oBAAoB,IAAI,UAAU,CAAC,GAAG,CAAC,EAAE;AACzC,wBAAwB,MAAM,KAAK,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;AAClD,wBAAwB,IAAI,KAAK,EAAE;AACnC,4BAA4B,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;AAChD,4BAA4B,MAAM,UAAU,GAAG,OAAO,KAAK,KAAK;AAChE,kCAAkC,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,KAAK;AACzE,kCAAkC,KAAK;AACvC,4BAA4B,IAAI,eAAe,GAAG,mBAAmB,CAAC,UAAU,CAAC;AACjF,4BAA4B,OAAO,eAAe,EAAE;AACpD,gCAAgC,OAAO,CAAC,SAAS,EAAE,eAAe,CAAC;AACnE,gCAAgC,eAAe,GAAG,eAAe,CAAC,WAAW;AAC7E,4BAA4B;AAC5B,4BAA4B,+BAA+B,CAAC,SAAS,CAAC,SAAS,EAAE,UAAU,CAAC;AAC5F,wBAAwB;AACxB,oBAAoB;AACpB,gBAAgB;AAChB,YAAY;AACZ,YAAY,MAAM,YAAY,GAAG,kBAAkB,CAAC,OAAO,CAAC;AAC5D;AACA,YAAY,IAAI,CAAC,YAAY,EAAE;AAC/B;AACA,gBAAgB,MAAM,WAAW,GAAG,mBAAmB,CAAC,OAAO,CAAC;AAChE,gBAAgB,IAAI,WAAW,EAAE;AACjC,oBAAoB,OAAO,GAAG,WAAW;AACzC,oBAAoB;AACpB,gBAAgB;AAChB,YAAY;AACZ,iBAAiB,IAAI,OAAO,KAAK,KAAK,EAAE;AACxC;AACA;AACA;AACA;AACA;AACA,gBAAgB,MAAM,WAAW,GAAG,mBAAmB,CAAC,OAAO,CAAC;AAChE,gBAAgB,IAAI,WAAW,EAAE;AACjC,oBAAoB,eAAe,CAAC,WAAW,EAAE,CAAC,KAAK,KAAK;AAC5D;AACA;AACA;AACA;AACA,wBAAwB,IAAI,KAAK,CAAC,KAAK,GAAG,CAAC,2BAA2B;AACtE;AACA,4BAA4B,KAAK,CAAC,UAAU;AAC5C,wBAAwB;AACxB,oBAAoB,CAAC,CAAC;AACtB,oBAAoB;AACpB,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,aAAa,IAAI,IAAI,GAAG,CAAC,wBAAwB;AACjD,YAAY,kBAAkB,CAAC,OAAO,CAAC;AACvC,QAAQ;AACR;AACA,QAAQ,IAAI,OAAO,KAAK,KAAK,EAAE;AAC/B;AACA,YAAY;AACZ,QAAQ;AACR;AACA,QAAQ,MAAM,YAAY,GAAG,OAAO,CAAC,WAAW;AAChD,QAAQ,IAAI,YAAY,EAAE;AAC1B,YAAY,OAAO,GAAG,YAAY;AAClC,YAAY;AACZ,QAAQ;AACR;AACA,QAAQ,OAAO,GAAG,OAAO,CAAC,MAAM;AAChC,QAAQ,OAAO,OAAO,EAAE;AACxB,YAAY,IAAI,OAAO,KAAK,KAAK,EAAE;AACnC;AACA,gBAAgB;AAChB,YAAY;AACZ,YAAY,MAAM,kBAAkB,GAAG,OAAO,CAAC,WAAW;AAC1D,YAAY,IAAI,kBAAkB,EAAE;AACpC,gBAAgB,OAAO,GAAG,kBAAkB;AAC5C,gBAAgB;AAChB,YAAY;AACZ,YAAY,OAAO,GAAG,OAAO,CAAC,MAAM;AACpC,QAAQ;AACR,QAAQ,IAAI,OAAO,IAAI,IAAI,EAAE;AAC7B;AACA,YAAY;AACZ,QAAQ;AACR,IAAI,CAAC,QAAQ,IAAI;AACjB;AACA,SAAS,+BAA+B,CAAC,OAAO,EAAE,UAAU,EAAE;AAC9D;AACA;AACA,IAAI,MAAM,gBAAgB,GAAG,UAAU,CAAC,MAAM;AAC9C,IAAI,IAAI,gBAAgB,EAAE;AAC1B,QAAQ,MAAM,oBAAoB,GAAG,gBAAgB,CAAC,KAAK;AAC3D,QAAQ,IAAI,oBAAoB,GAAG,CAAC;AACpC,YAAY,oBAAoB,CAAC,gBAAgB,CAAC,KAAK,SAAS,EAAE;AAClE;AACA,YAAY,YAAY,CAAC,OAAO,EAAE,gBAAgB,EAAE,UAAU,EAAE,IAAI,CAAC;AACrE,QAAQ;AACR,IAAI;AACJ;AACA,SAAS,kBAAkB,CAAC,OAAO,EAAE;AACrC;AACA;AACA;AACA;AACA,IAAI,OAAO,CAAC,KAAK,IAAI,EAAE;AACvB;AACA;AACA;AACA;AACA;AACO,MAAM,cAAc,GAAG,GAAG;AACjC,IAAI,KAAK,GAAG,CAAC;;AC52Cb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,sBAAsB,GAAG;AAC/B;AACA;AACA;AACA,IAAI;AACJ,QAAQ,WAAW,EAAE,EAAE;AACvB,QAAQ,YAAY,EAAE,CAAC;AACvB,QAAQ,KAAK,EAAE,CAAC,OAAO,EAAE,QAAQ,KAAK,YAAY,CAAC,OAAO,EAAE,QAAQ,CAAC,IAAI,YAAY,CAAC,QAAQ,EAAE,OAAO,CAAC;AACxG,KAAK;AACL;AACA;AACA;AACA,IAAI;AACJ,QAAQ,WAAW,EAAE,EAAE;AACvB,QAAQ,YAAY,EAAE,CAAC;AACvB,QAAQ,KAAK,EAAE,CAAC,OAAO,EAAE,QAAQ,KAAK,YAAY,CAAC,OAAO,EAAE,QAAQ,CAAC,IAAI,YAAY,CAAC,QAAQ,EAAE,OAAO,CAAC;AACxG,KAAK;AACL,CAAC;AACD,MAAM,cAAc,GAAG;AACvB;AACA,IAAI;AACJ,QAAQ,WAAW,EAAE,CAAC;AACtB,QAAQ,YAAY,EAAE,CAAC;AACvB,QAAQ,KAAK,EAAE,CAAC,OAAO,EAAE,QAAQ,KAAK;AACtC,YAAY,MAAM,UAAU,GAAG,OAAO,CAAC,QAAQ;AAC/C,YAAY,MAAM,WAAW,GAAG,QAAQ,CAAC,QAAQ;AACjD,YAAY,OAAO,UAAU,CAAC,OAAO,EAAE,QAAQ,CAAC,IAAI,SAAS,CAAC,UAAU,EAAE,WAAW,CAAC;AACtF,QAAQ,CAAC;AACT,KAAK;AACL,IAAI;AACJ,QAAQ,WAAW,EAAE,CAAC;AACtB,QAAQ,YAAY,EAAE,CAAC;AACvB,QAAQ,KAAK,EAAE,CAAC,OAAO,EAAE,QAAQ,KAAK;AACtC,YAAY,MAAM,WAAW,GAAG,OAAO,CAAC,SAAS;AACjD,YAAY,MAAM,WAAW,GAAG,QAAQ,CAAC,QAAQ;AACjD,YAAY,OAAO,UAAU,CAAC,OAAO,EAAE,QAAQ,CAAC,IAAI,SAAS,CAAC,WAAW,CAAC,KAAK,EAAE,WAAW,CAAC;AAC7F,QAAQ,CAAC;AACT,KAAK;AACL,IAAI;AACJ,QAAQ,WAAW,EAAE,EAAE;AACvB,QAAQ,YAAY,EAAE,CAAC;AACvB,QAAQ,KAAK,EAAE,CAAC,OAAO,EAAE,QAAQ,KAAK;AACtC,YAAY,MAAM,WAAW,GAAG,OAAO,CAAC,SAAS;AACjD,YAAY,MAAM,WAAW,GAAG,QAAQ,CAAC,QAAQ;AACjD,YAAY,OAAO,UAAU,CAAC,OAAO,EAAE,QAAQ,CAAC,IAAI,SAAS,CAAC,WAAW,CAAC,KAAK,EAAE,WAAW,CAAC;AAC7F,QAAQ,CAAC;AACT,KAAK;AACL;AACA,IAAI;AACJ,QAAQ,WAAW,EAAE,CAAC;AACtB,QAAQ,YAAY,EAAE,CAAC;AACvB,QAAQ,KAAK,EAAE,CAAC,OAAO,EAAE,QAAQ,KAAK,OAAO,CAAC,MAAM,KAAK,QAAQ,CAAC,MAAM;AACxE,KAAK;AACL,IAAI;AACJ,QAAQ,WAAW,EAAE,CAAC;AACtB,QAAQ,YAAY,EAAE,CAAC;AACvB,QAAQ,KAAK,EAAE,CAAC,OAAO,EAAE,QAAQ,KAAK,OAAO,CAAC,MAAM,KAAK,QAAQ,CAAC,MAAM;AACxE,KAAK;AACL,IAAI,GAAG,sBAAsB;AAC7B;AACA,IAAI;AACJ,QAAQ,WAAW,EAAE,CAAC;AACtB,QAAQ,YAAY,EAAE,CAAC;AACvB,QAAQ,KAAK,EAAE,CAAC,OAAO,EAAE,QAAQ,EAAE,SAAS,KAAK;AACjD,YAAY,IAAI,OAAO,CAAC,MAAM,KAAK,QAAQ,CAAC,MAAM,EAAE;AACpD,gBAAgB,OAAO,KAAK;AAC5B,YAAY;AACZ,YAAY,MAAM,UAAU,GAAG,OAAO,CAAC,KAAK;AAC5C,YAAY,IAAI,CAACR,UAAQ,CAAC,UAAU,CAAC,IAAI,UAAU,IAAI,CAAC,EAAE;AAC1D,gBAAgB,OAAO,KAAK;AAC5B,YAAY;AACZ,YAAY,MAAM,YAAY,GAAG,2BAA2B,CAAC,OAAO,CAAC,MAAM,EAAE,UAAU,EAAE,SAAS,CAAC;AACnG,YAAY,OAAO,YAAY,KAAK,QAAQ,CAAC,SAAS;AACtD,QAAQ,CAAC;AACT,KAAK;AACL,CAAC;AACD,SAAS,YAAY,CAAC,eAAe,EAAE,aAAa,EAAE;AACtD,IAAI,MAAM,cAAc,GAAG,eAAe,CAAC,MAAM;AACjD,IAAI,MAAM,YAAY,GAAG,aAAa,CAAC,MAAM;AAC7C,IAAI,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAE;AACxE,QAAQ,OAAO,KAAK;AACpB,IAAI;AACJ,IAAI,OAAO,oBAAoB,CAAC,cAAc,EAAE,YAAY,CAAC;AAC7D;AACA,SAAS,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE;AAC1B,IAAI,OAAO,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC,MAAM;AAChC;AACA,SAAS,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE;AACzB,IAAI,OAAO,CAAC,CAAC,QAAQ,KAAK,CAAC,CAAC,QAAQ;AACpC;AACA,SAAS,yBAAyB,CAAC,KAAK,EAAE,IAAI,EAAE;AAChD,IAAI,MAAM,IAAI,GAAG,KAAK,CAAC,MAAM;AAC7B,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE;AAC9B,QAAQ,OAAO,IAAI;AACnB,IAAI;AACJ,IAAI,MAAM,aAAa,GAAG,IAAI,KAAK,CAAC;AACpC;AACA,IAAI,IAAI,OAAO,GAAG,IAAI;AACtB,IAAI,OAAO,GAAG,iCAAiC,CAAC,OAAO,CAAC;AACxD,IAAI,OAAO,OAAO,EAAE;AACpB,QAAQ,MAAM,cAAc,GAAG,aAAa,GAAG,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,aAAa;AACrF,QAAQ,IAAI,cAAc,EAAE;AAC5B,YAAY,KAAK,MAAM,aAAa,IAAI,cAAc,EAAE;AACxD,gBAAgB,IAAI,aAAa,CAAC,MAAM,GAAG,EAAE;AAC7C,oBAAoB,aAAa,CAAC,MAAM,KAAK,CAAC;AAC9C,oBAAoB,aAAa,CAAC,MAAM,KAAK,CAAC;AAC9C,oBAAoB,aAAa,CAAC,MAAM,KAAK,CAAC,0BAA0B;AACxE,oBAAoB,OAAO,aAAa;AACxC,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,QAAQ,OAAO,GAAG,iCAAiC,CAAC,OAAO,CAAC;AAC5D,IAAI;AACJ,IAAI,OAAO,IAAI;AACf;AACO,SAAS,iBAAiB,CAAC,KAAK,EAAE,UAAU,EAAE,aAAa,EAAE,aAAa,EAAE,SAAS,EAAE;AAC9F,IAAI,MAAM,yBAAyB,GAAG,yBAAyB,CAAC,KAAK,EAAE,CAAC,2BAA2B;AACnG,IAAI,IAAI,yBAAyB,EAAE;AACnC,QAAQ,OAAO,yBAAyB;AACxC,IAAI;AACJ,IAAI,MAAM,4BAA4B,GAAG,yBAAyB,CAAC,KAAK,EAAE,CAAC,mCAAmC;AAC9G,IAAI,IAAI,4BAA4B,EAAE;AACtC,QAAQ,OAAO,4BAA4B;AAC3C,IAAI;AACJ,IAAI,KAAK,MAAM,IAAI,IAAI,cAAc,EAAE;AACvC,QAAQ,IAAI,KAAK,CAAC,MAAM,KAAK,IAAI,CAAC,WAAW,EAAE;AAC/C,YAAY;AACZ,QAAQ;AACR;AACA;AACA,QAAQ,KAAK,MAAM,SAAS,IAAI,UAAU,EAAE;AAC5C,YAAY,IAAI,SAAS,CAAC,MAAM,KAAK,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,SAAS,EAAE,SAAS,CAAC,EAAE;AACnG,gBAAgB,OAAO,SAAS;AAChC,YAAY;AACZ,QAAQ;AACR;AACA,QAAQ,KAAK,MAAM,SAAS,IAAI,aAAa,EAAE;AAC/C,YAAY,IAAI,SAAS,CAAC,MAAM,KAAK,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,SAAS,EAAE,SAAS,CAAC,EAAE;AACnG,gBAAgB,OAAO,SAAS;AAChC,YAAY;AACZ,QAAQ;AACR;AACA,QAAQ,KAAK,MAAM,SAAS,IAAI,aAAa,EAAE;AAC/C,YAAY,IAAI,SAAS,CAAC,MAAM,KAAK,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,SAAS,EAAE,SAAS,CAAC,EAAE;AACnG,gBAAgB,OAAO,SAAS;AAChC,YAAY;AACZ,QAAQ;AACR,IAAI;AACJ,IAAI,OAAO,IAAI;AACf;AACA,SAAS,2BAA2B,CAAC,IAAI,EAAE,cAAc,EAAE,SAAS,EAAE;AACtE,IAAI,MAAM,UAAU,GAAG,SAAS,CAAC,WAAW,CAAC,IAAI,EAAE,WAAW,CAAC;AAC/D,IAAI,IAAI,CAAC,UAAU,IAAI,UAAU,CAAC,MAAM,IAAI,cAAc,EAAE;AAC5D,QAAQ,OAAO,IAAI;AACnB,IAAI;AACJ,IAAI,KAAK,IAAI,CAAC,GAAG,cAAc,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;AAClD,QAAQ,MAAM,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC;AACvC,QAAQ,IAAI,SAAS,YAAY,IAAI,IAAI,SAAS,CAAC,OAAO,GAAG,CAAC,uBAAuB;AACrF,YAAY,OAAO,SAAS;AAC5B,QAAQ;AACR,IAAI;AACJ,IAAI,OAAO,IAAI;AACf;AACO,SAAS,2BAA2B,CAAC,KAAK,EAAE,aAAa,EAAE,SAAS,EAAE;AAC7E,IAAI,KAAK,MAAM,IAAI,IAAI,sBAAsB,EAAE;AAC/C,QAAQ,IAAI,KAAK,CAAC,MAAM,KAAK,IAAI,CAAC,WAAW,EAAE;AAC/C,YAAY;AACZ,QAAQ;AACR,QAAQ,KAAK,MAAM,SAAS,IAAI,aAAa,EAAE;AAC/C,YAAY,IAAI,SAAS,CAAC,MAAM,KAAK,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,SAAS,EAAE,SAAS,CAAC,EAAE;AACnG,gBAAgB,OAAO,SAAS;AAChC,YAAY;AACZ,QAAQ;AACR,IAAI;AACJ,IAAI,OAAO,IAAI;AACf;;AC1LA;AACA;AACO,MAAM,cAAc,GAAG,CAAC,EAAE,KAAK;AACtC,IAAI,IAAI,QAAQ;AAChB;AACA,IAAI,IAAI,OAAO,YAAY,KAAK,UAAU,EAAE;AAC5C;AACA,QAAQ,QAAQ,GAAG,MAAM;AACzB,YAAY,YAAY,CAAC,EAAE,CAAC;AAC5B,QAAQ,CAAC;AACT,IAAI;AACJ,SAAS,IAAI,OAAO,cAAc,KAAK,WAAW,EAAE;AACpD,QAAQ,MAAM,OAAO,GAAG,IAAI,cAAc,EAAE;AAC5C,QAAQ,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM;AACxC,YAAY,EAAE,EAAE;AAChB,QAAQ,CAAC;AACT,QAAQ,QAAQ,GAAG,MAAM;AACzB,YAAY,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC;AAC3C,QAAQ,CAAC;AACT,IAAI;AACJ,SAAS;AACT;AACA,QAAQ,QAAQ,GAAG,MAAM;AACzB,YAAY,UAAU,CAAC,EAAE,CAAC;AAC1B,QAAQ,CAAC;AACT,IAAI;AACJ,IAAI,OAAO,QAAQ;AACnB,CAAC;;AC3BD;AACA,MAAM,UAAU,GAAG,EAAE;AACrB,MAAM,UAAU,GAAG,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAM,sBAAsB,GAAG,CAAC,CAAC,EAAE,CAAC,KAAK;AAChD,IAAI,IAAI,CAAC,KAAK,CAAC,EAAE;AACjB,QAAQ,OAAO,CAAC;AAChB,IAAI;AACJ,IAAI,IAAI,MAAM,GAAG,EAAE;AACnB,IAAI,IAAI,MAAM,GAAG,EAAE;AACnB,IAAI,OAAO,CAAC,EAAE;AACd,QAAQ,MAAM,KAAK,IAAI,UAAU,CAAC,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;AAChD,QAAQ,CAAC,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC,CAAC,UAAU,CAAC;AAC1C,IAAI;AACJ,IAAI,OAAO,CAAC,EAAE;AACd,QAAQ,MAAM,KAAK,IAAI,UAAU,CAAC,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;AAChD,QAAQ,CAAC,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC,CAAC,UAAU,CAAC;AAC1C,IAAI;AACJ,IAAI,OAAO,MAAM,IAAI,CAAC,IAAI,MAAM,IAAI,CAAC,EAAE;AACvC,QAAQ,CAAC,GAAG,UAAU,CAAC,MAAM,CAAC;AAC9B,QAAQ,CAAC,GAAG,UAAU,CAAC,MAAM,CAAC;AAC9B,QAAQ,IAAI,CAAC,KAAK,CAAC,EAAE;AACrB;AACA,YAAY,MAAM,EAAE;AACpB,YAAY,MAAM,EAAE;AACpB,QAAQ;AACR,aAAa;AACb;AACA,YAAY,IAAI,MAAM,GAAG,CAAC;AAC1B,YAAY,GAAG;AACf,gBAAgB,MAAM,GAAG,MAAM,CAAC,WAAW;AAC3C,gBAAgB,IAAI,MAAM,KAAK,CAAC,EAAE;AAClC,oBAAoB,OAAO,CAAC;AAC5B,gBAAgB;AAChB,YAAY,CAAC,QAAQ,MAAM;AAC3B,YAAY,MAAM,GAAG,CAAC;AACtB,YAAY,GAAG;AACf,gBAAgB,MAAM,GAAG,MAAM,CAAC,eAAe;AAC/C,gBAAgB,IAAI,MAAM,KAAK,CAAC,EAAE;AAClC,oBAAoB,OAAO,EAAE;AAC7B,gBAAgB;AAChB,YAAY,CAAC,QAAQ,MAAM;AAC3B,YAAY,IAAI,CAAC,CAAC,UAAU,EAAE;AAC9B;AACA;AACA,gBAAgB,OAAO,EAAE;AACzB,YAAY;AACZ;AACA,YAAY,OAAO,CAAC;AACpB,QAAQ;AACR,IAAI;AACJ,IAAI,OAAO,MAAM,GAAG,MAAM,GAAG,EAAE,GAAG,CAAC;AACnC,CAAC;AACD;AACA,MAAM,YAAY,GAAG,EAAE;AACvB,MAAM,YAAY,GAAG,EAAE;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAM,uBAAuB,GAAG,CAAC,CAAC,EAAE,CAAC,KAAK;AACjD,IAAI,IAAI,CAAC,KAAK,CAAC,EAAE;AACjB,QAAQ,OAAO,CAAC;AAChB,IAAI;AACJ,IAAI,IAAI,MAAM,GAAG,EAAE;AACnB,IAAI,IAAI,MAAM,GAAG,EAAE;AACnB,IAAI,OAAO,CAAC,EAAE;AACd,QAAQ,MAAM,OAAO,IAAI,YAAY,CAAC,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;AACpD,QAAQ,CAAC,GAAG,OAAO,CAAC,eAAe;AACnC,IAAI;AACJ,IAAI,OAAO,CAAC,EAAE;AACd,QAAQ,MAAM,OAAO,IAAI,YAAY,CAAC,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;AACpD,QAAQ,CAAC,GAAG,OAAO,CAAC,eAAe;AACnC,IAAI;AACJ,IAAI,OAAO,MAAM,IAAI,CAAC,IAAI,MAAM,IAAI,CAAC,EAAE;AACvC,QAAQ,CAAC,GAAG,YAAY,CAAC,MAAM,CAAC;AAChC,QAAQ,CAAC,GAAG,YAAY,CAAC,MAAM,CAAC;AAChC,QAAQ,IAAI,CAAC,KAAK,CAAC,EAAE;AACrB;AACA,YAAY,MAAM,EAAE;AACpB,YAAY,MAAM,EAAE;AACpB,QAAQ;AACR,aAAa;AACb,YAAY,OAAO,CAAC;AACpB,QAAQ;AACR,IAAI;AACJ,IAAI,OAAO,MAAM,GAAG,MAAM,GAAG,EAAE,GAAG,CAAC;AACnC,CAAC;;AC3FM,MAAM,UAAU,SAAS,KAAK,CAAC;AACtC,IAAI,GAAG,CAAC,KAAK,EAAE;AACf;AACA;AACA,QAAQ,MAAM,GAAG,GAAG,eAAe,CAAC,IAAI,EAAE,KAAK,CAAC;AAChD,QAAQ,IAAI,GAAG,GAAG,CAAC,EAAE;AACrB;AACA,YAAY,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,KAAK,CAAC;AACvC,YAAY,OAAO,GAAG;AACtB,QAAQ;AACR,QAAQ,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC;AAClC;AACA;AACA;AACA;AACA;AACA,QAAQ,IAAI,QAAQ,CAAC,SAAS,KAAK,KAAK,CAAC,SAAS,EAAE;AACpD,YAAY,QAAQ,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS;AAChD,QAAQ;AACR,QAAQ,OAAO,GAAG;AAClB,IAAI;AACJ,IAAI,MAAM,CAAC,KAAK,EAAE;AAClB,QAAQ,MAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;AACvC,QAAQ,IAAI,GAAG,IAAI,CAAC,EAAE;AACtB,YAAY,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC;AAC/B,QAAQ;AACR,QAAQ,OAAO,GAAG;AAClB,IAAI;AACJ;AACO,SAAS,eAAe,CAAC,WAAW,EAAE,KAAK,EAAE;AACpD;AACA;AACA,IAAI,IAAI,MAAM,GAAG,CAAC;AAClB,IAAI,IAAI,GAAG,GAAG,WAAW,CAAC,MAAM;AAChC,IAAI,OAAO,MAAM,GAAG,GAAG,EAAE;AACzB,QAAQ,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,GAAG,GAAG,MAAM,KAAK,CAAC,CAAC;AACrD,QAAQ,MAAM,QAAQ,GAAG,WAAW,CAAC,MAAM,CAAC;AAC5C,QAAQ,MAAM,IAAI,GAAG,eAAe,CAAC,KAAK,EAAE,QAAQ,CAAC;AACrD,QAAQ,IAAI,IAAI,GAAG,CAAC,EAAE;AACtB,YAAY,GAAG,GAAG,MAAM;AACxB,QAAQ;AACR,aAAa,IAAI,IAAI,GAAG,CAAC,EAAE;AAC3B,YAAY,MAAM,GAAG,MAAM,GAAG,CAAC;AAC/B,QAAQ;AACR,aAAa;AACb;AACA,YAAY,OAAO,MAAM;AACzB,QAAQ;AACR,IAAI;AACJ,IAAI,OAAO,CAAC,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,eAAe,CAAC,CAAC,EAAE,CAAC,EAAE;AACtC,IAAI,MAAM,aAAa,GAAG,CAAC,CAAC,CAAC,MAAM,GAAG,GAAG,2BAA2B,CAAC,CAAC,MAAM,GAAG,GAAG,uBAAuB;AACzG,IAAI,IAAI,aAAa,KAAK,CAAC,EAAE;AAC7B,QAAQ,OAAO,aAAa;AAC5B,IAAI;AACJ,IAAI,MAAM,KAAK,GAAG,CAAC,CAAC,MAAM;AAC1B,IAAI,MAAM,KAAK,GAAG,CAAC,CAAC,MAAM;AAC1B,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,EAAE;AAC7D,QAAQ,IAAI,aAAa,CAAC,KAAK,CAAC,IAAI,aAAa,CAAC,KAAK,CAAC,EAAE;AAC1D;AACA,YAAY,MAAM,QAAQ,GAAG,sBAAsB,CAAC,KAAK,EAAE,KAAK,CAAC;AACjE,YAAY,IAAI,QAAQ,KAAK,CAAC,EAAE;AAChC,gBAAgB,OAAO,QAAQ;AAC/B,YAAY;AACZ,QAAQ;AACR,aAAa;AACb,YAAY,WAAW,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE,gDAAgD,CAAC;AAC/F,YAAY,WAAW,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE,gDAAgD,CAAC;AAC/F,YAAY,MAAM,QAAQ,GAAG,uBAAuB,CAAC,KAAK,EAAE,KAAK,CAAC;AAClE,YAAY,IAAI,QAAQ,KAAK,CAAC,EAAE;AAChC,gBAAgB,OAAO,QAAQ;AAC/B,YAAY;AACZ,QAAQ;AACR,IAAI;AACJ,IAAI,MAAM,aAAa,GAAG,CAAC,CAAC,CAAC,MAAM,GAAG,EAAE,2BAA2B,CAAC,CAAC,MAAM,GAAG,EAAE,uBAAuB;AACvG,IAAI,IAAI,aAAa,KAAK,CAAC,EAAE;AAC7B,QAAQ,OAAO,aAAa;AAC5B,IAAI;AACJ;AACA,IAAI,MAAM,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC;AACzD,IAAI,IAAI,OAAO,KAAK,CAAC,EAAE;AACvB,QAAQ,OAAO,OAAO;AACtB,IAAI;AACJ;AACA,IAAI,IAAI,CAAC,CAAC,QAAQ,KAAK,CAAC,CAAC,QAAQ,EAAE;AACnC,QAAQ,IAAI,KAAK,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE;AAC/F,YAAY,OAAO,CAAC;AACpB,QAAQ;AACR;AACA,QAAQ,OAAO,CAAC;AAChB,IAAI;AACJ;AACA;AACA,IAAI,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC;AACtB,QAAQ,CAAC,CAAC,MAAM,KAAK,CAAC;AACtB,SAAS,CAAC,CAAC,CAAC,QAAQ,YAAY,YAAY,IAAI,CAAC,CAAC,QAAQ,YAAY,YAAY;AAClF,aAAa,CAAC,CAAC,QAAQ,YAAY,uBAAuB;AAC1D,gBAAgB,CAAC,CAAC,QAAQ,YAAY,uBAAuB,CAAC,CAAC;AAC/D,QAAQ,CAAC,CAAC,SAAS,KAAK,CAAC,CAAC,SAAS,EAAE;AACrC,QAAQ,OAAO,CAAC;AAChB,IAAI;AACJ;AACA,IAAI,OAAO,CAAC;AACZ;AACA,SAAS,QAAQ,CAAC,KAAK,EAAE;AACzB,IAAI,OAAO,OAAO,KAAK,KAAK,QAAQ,GAAG,KAAK,GAAG,EAAE;AACjD;;ACzHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAsBA;AACA,MAAM,KAAK,GAAG,KAAK;AACnB,IAAI,UAAU;AACd,CAAC,UAAU,UAAU,EAAE;AACvB,IAAI,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM;AAC/C,IAAI,UAAU,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,GAAG,SAAS;AACrD,IAAI,UAAU,CAAC,UAAU,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,QAAQ;AACnD,IAAI,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM;AAC/C,CAAC,EAAE,UAAU,KAAK,UAAU,GAAG,EAAE,CAAC,CAAC;AAC5B,MAAM,eAAe,GAAG,CAAC,KAAK,KAAK,KAAK,CAAC,OAAO,KAAK,UAAU,CAAC;AACvE,OAAO,KAAK,CAAC,aAAa,KAAK,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,KAAK;AAChE,QAAQ,KAAK,CAAC,SAAS,GAAG,OAAO;AACjC,QAAQ,KAAK,CAAC,QAAQ,GAAG,MAAM;AAC/B,IAAI,CAAC,CAAC;AACN,MAAM,KAAK,CAAC,aAAa;AAClB,MAAM,eAAe,GAAG,CAAC,SAAS,EAAE,YAAY,EAAE,UAAU,EAAE,aAAa,EAAE,aAAa,KAAK;AACtG,IAAI,IAAI,UAAU,GAAG,IAAI;AACzB,IAAI,IAAI,cAAc,GAAG,KAAK;AAC9B,IAAI,IAAI,UAAU,GAAG,KAAK;AAC1B,IAAI,IAAI,qBAAqB,GAAG,KAAK;AACrC,IAAI,IAAI,gBAAgB,GAAG,CAAC;AAC5B,IAAI,IAAI,WAAW,GAAG,WAAW,CAAC,GAAG,EAAE;AACvC,IAAI,MAAM,QAAQ,GAAG,cAAc,CAAC,eAAe,CAAC;AACpD,IAAI,IAAI,YAAY,GAAG,IAAI;AAC3B,IAAI,SAAS,eAAe,GAAG;AAC/B,QAAQ,IAAI,CAAC,cAAc,EAAE;AAC7B,YAAY,cAAc,GAAG,IAAI;AACjC,YAAY,QAAQ,EAAE;AACtB,QAAQ;AACR,IAAI;AACJ;AACA;AACA,IAAI,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,EAAE,CAAC;AAC9C,IAAI,OAAO,QAAQ;AACnB;AACA,IAAI,SAAS,QAAQ,CAAC,IAAI,EAAE,UAAU,GAAG,IAAI,EAAE,WAAW,GAAG,IAAI,EAAE,OAAO,GAAG,IAAI,EAAE;AACnF,QAAQ,IAAI,IAAI,KAAK,GAAG,mCAAmC,UAAU,EAAE;AACvE,YAAY,OAAO,UAAU;AAC7B,QAAQ;AACR,QAAQ,MAAM,MAAM,GAAG,IAAI,KAAK,CAAC,yBAAyB,IAAI,KAAK,EAAE,4BAA4B,IAAI,KAAK,EAAE;AAC5G,QAAQ,IAAI,MAAM,EAAE;AACpB,YAAY,UAAU,CAAC,OAAO,IAAI,CAAC;AACnC,QAAQ;AACR,QAAQ,MAAM,KAAK,GAAG;AACtB,YAAY,MAAM,EAAE,IAAI;AACxB,YAAY,KAAK,EAAE;AACnB,kBAAkB,UAAU,CAAC;AAC7B,kBAAkB,OAAO,WAAW,KAAK;AACzC,sBAAsB;AACtB,sBAAsB,CAAC;AACvB,YAAY,MAAM,EAAE,MAAM,GAAG,UAAU,CAAC,IAAI,GAAG,UAAU;AACzD,YAAY,QAAQ,EAAE,WAAW;AACjC,YAAY,SAAS,EAAE,MAAM,GAAG,UAAU,GAAG,OAAO;AACpD,YAAY,OAAO,EAAE,UAAU,CAAC,IAAI;AACpC,YAAY,eAAe,EAAE,IAAI;AACjC,YAAY,WAAW,EAAE,SAAS;AAClC,YAAY,SAAS,EAAE,SAAS;AAChC,YAAY,SAAS,EAAE,SAAS;AAChC,YAAY,QAAQ,EAAE,SAAS;AAC/B,YAAY,aAAa,EAAE,IAAI;AAC/B,SAAS;AACT,QAAQ,IAAI,IAAI,KAAK,GAAG,iCAAiC;AACzD,YAAY,eAAe,CAAC,KAAK,CAAC;AAClC,YAAY,UAAU,GAAG,KAAK;AAC9B,YAAY,eAAe,EAAE;AAC7B,YAAY,OAAO,KAAK;AACxB,QAAQ;AACR,QAAQ,MAAM,QAAQ,GAAG,gBAAgB,EAAE;AAC3C,QAAQ,MAAM,YAAY,GAAG,IAAI,KAAK,CAAC,8BAA8B,IAAI,KAAK,CAAC;AAC/E,QAAQ,IAAI,QAAQ,IAAI,YAAY,EAAE;AAGtC;AACA,YAAY,WAAW,CAAC,KAAK,EAAE,SAAS,CAAC;AACzC,YAAY,OAAO,KAAK;AACxB,QAAQ;AACR,QAAQ,IAAI,QAAQ,IAAI,KAAK,CAAC,MAAM,IAAI,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE;AACjE,YAAY,MAAM,WAAW,GAAG,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,8BAA8B;AACvF,YAAY,IAAI,CAAC,WAAW,EAAE;AAC9B,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB,KAAK,CAAC,MAAM,KAAK,CAAC;AAClC,oBAAoB,KAAK,CAAC,MAAM,KAAK,CAAC,iDAAiD;AACvF;AACA;AACA;AACA;AACA,oBAAoB,MAAM,cAAc,GAAG,CAAC,GAAG,EAAE,eAAe,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;AAC/E;;AAEA;AACA,UAAU,EAAE,eAAe,CAAC,KAAK,CAAC,MAAM,CAAC;AACzC,UAAU,EAAE,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE;AACnC,8BAA8B,EAAE,KAAK,CAAC,MAAM,CAAC,WAAW;;AAExD,uFAAuF,CAAC;AACxF,oBAAoB,OAAO,CAAC,cAAc,CAAC;AAG3C,oBAAoB,OAAO,KAAK;AAChC,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,QAAQ,MAAM,WAAW,GAAG,KAAK,CAAC,MAAM,KAAK,CAAC,gCAAgC,KAAK,CAAC,MAAM,KAAK,CAAC;AAChG,QAAQ,IAAI,WAAW,EAAE;AACzB,YAAY,MAAM,aAAa,GAAG,iBAAiB,CAAC,KAAK,EAAE,UAAU,EAAE,aAAa,EAAE,aAAa,EAAE,SAAS,CAAC;AAC/G,YAAY,IAAI,aAAa,EAAE;AAC/B,gBAAgB,eAAe,CAAC,KAAK,EAAE,aAAa,EAAE,aAAa,CAAC;AACpE,gBAAgB,OAAO,KAAK;AAC5B,YAAY;AACZ,YAAY,MAAM,YAAY,GAAG,eAAe,CAAC,KAAK,CAAC;AACvD,YAAY,IAAI,YAAY,EAAE;AAC9B,gBAAgB,eAAe,CAAC,KAAK,EAAE,YAAY,EAAE,aAAa,CAAC;AACnE,gBAAgB,OAAO,KAAK;AAC5B,YAAY;AACZ,QAAQ;AACR,QAAQ,QAAQ,CAAC,KAAK,EAAE,UAAU,CAAC;AAEnC,QAAQ,MAAM,cAAc,GAAG,CAAC,QAAQ,IAAI,IAAI,KAAK,CAAC,+BAA+B,IAAI,KAAK,CAAC;AAC/F,QAAQ,IAAI,cAAc,IAAI,CAAC,UAAU,EAAE;AAC3C,YAAY,cAAc,EAAE;AAC5B,QAAQ;AACR,aAAa;AACb,YAAY,eAAe,EAAE;AAC7B,QAAQ;AACR,QAAQ,OAAO,KAAK;AACpB,IAAI;AACJ,IAAI,SAAS,cAAc,GAAG;AAC9B,QAAQ,cAAc,GAAG,IAAI;AAC7B,QAAQ,eAAe,EAAE;AACzB,IAAI;AACJ;AACA;AACA;AACA,IAAI,SAAS,gBAAgB,GAAG;AAChC,QAAQ,IAAI,YAAY,IAAI,IAAI,EAAE;AAClC,YAAY,YAAY,CAAC,YAAY,CAAC;AACtC,YAAY,YAAY,GAAG,IAAI;AAC/B,QAAQ;AACR,IAAI;AACJ,IAAI,SAAS,kBAAkB,GAAG;AAClC,QAAQ,MAAM,QAAQ,GAAG,gBAAgB,EAAE;AAC3C;AACA,QAAQ,IAAI,QAAQ,EAAE;AACtB,YAAY;AACZ,QAAQ;AACR;AACA,QAAQ,IAAI,YAAY,IAAI,IAAI,EAAE;AAClC,YAAY;AACZ,QAAQ;AACR,QAAQ,MAAM,GAAG,GAAG,WAAW,CAAC,GAAG,EAAE;AACrC,QAAQ,MAAM,OAAO,GAAG,GAAG,GAAG,gBAAgB;AAC9C,QAAQ,MAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,YAAY,GAAG,OAAO,CAAC;AACzD;AACA,QAAQ,IAAI,KAAK,KAAK,CAAC,EAAE;AACzB,YAAY,IAAI,CAAC,UAAU,EAAE;AAC7B,gBAAgB,iBAAiB,EAAE;AACnC,YAAY;AACZ,YAAY;AACZ,QAAQ;AACR,QAAQ,YAAY,GAAG,UAAU,CAAC,MAAM;AACxC,YAAY,YAAY,GAAG,IAAI;AAC/B,YAAY,iBAAiB,EAAE;AAC/B,QAAQ,CAAC,EAAE,KAAK,CAAC;AACjB,IAAI;AACJ,IAAI,SAAS,iBAAiB,GAAG;AACjC,QAAQ,IAAI,CAAC,qBAAqB,EAAE;AACpC;AACA,YAAY,qBAAqB,GAAG,IAAI;AACxC,YAAY,YAAY,EAAE;AAC1B,YAAY,qBAAqB,GAAG,KAAK;AACzC,YAAY,gBAAgB,GAAG,WAAW,CAAC,GAAG,EAAE;AAChD,YAAY,gBAAgB,EAAE;AAE9B,QAAQ;AACR,IAAI;AACJ,IAAI,SAAS,uBAAuB,CAAC,QAAQ,EAAE;AAC/C,QAAQ,OAAO,CAAC,QAAQ,IAAI,WAAW,GAAG,gBAAgB,IAAI,YAAY;AAC1E,IAAI;AACJ,IAAI,SAAS,eAAe,GAAG;AAC/B,QAAQ,MAAM,QAAQ,GAAG,gBAAgB,EAAE;AAC3C,QAAQ,cAAc,GAAG,KAAK;AAC9B,QAAQ,IAAI,UAAU,EAAE;AACxB,YAAY;AACZ,QAAQ;AACR;AACA,QAAQ,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE;AAChC,YAAY,iBAAiB,EAAE;AAC/B,YAAY,IAAI,UAAU,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE;AACnD;AACA;AACA,gBAAgB,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC;AAC1C,gBAAgB,UAAU,GAAG,IAAI;AACjC,YAAY;AACZ,YAAY;AACZ,QAAQ;AACR,QAAQ,UAAU,GAAG,IAAI;AACzB,QAAQ,gBAAgB,GAAG,WAAW,CAAC,GAAG,EAAE;AAC5C,QAAQ,gBAAgB,EAAE;AAC1B,QAAQ,MAAM,gBAAgB,GAAG,MAAM;AACvC,YAAY,IAAI,UAAU,CAAC,MAAM,EAAE;AACnC,gBAAgB,eAAe,EAAE;AACjC,gBAAgB,OAAO,KAAK;AAC5B,YAAY;AACZ,YAAY,IAAI,UAAU,IAAI,aAAa,CAAC,IAAI,EAAE;AAClD,gBAAgB,IAAI,uBAAuB,CAAC,QAAQ,CAAC,EAAE;AACvD;AACA,oBAAoB,iBAAiB,EAAE;AACvC,gBAAgB;AAChB,gBAAgB,OAAO,KAAK;AAC5B,YAAY;AACZ,YAAY,YAAY,GAAG,IAAI;AAC/B,YAAY,iBAAiB,EAAE;AAC/B,YAAY,UAAU,EAAE,SAAS,CAAC,IAAI,CAAC;AACvC,YAAY,UAAU,GAAG,IAAI;AAE7B,YAAY,OAAO,IAAI;AACvB,QAAQ,CAAC;AACT,QAAQ,MAAM,qCAAqC,GAAG,CAAC,KAAK,KAAK;AACjE,YAAY,IAAI,sBAAsB,GAAG,KAAK;AAC9C,YAAY,IAAI,KAAK,CAAC,eAAe,EAAE;AACvC,gBAAgB,KAAK,MAAM,YAAY,IAAI,KAAK,CAAC,eAAe,EAAE;AAClE,oBAAoB,MAAM,aAAa,GAAG,iBAAiB,CAAC,YAAY,EAAE,UAAU,EAAE,aAAa,EAAE,aAAa,EAAE,SAAS,CAAC;AAC9H,oBAAoB,IAAI,aAAa,EAAE;AACvC;AACA;AACA;AACA,wBAAwB,CAAC,aAAa,CAAC,eAAe,KAAK,IAAI,UAAU,EAAE,EAAE,GAAG,CAAC,YAAY,CAAC;AAC9F,oBAAoB;AACpB,yBAAyB;AACzB,wBAAwB,aAAa,CAAC,MAAM,CAAC,YAAY,CAAC;AAC1D,wBAAwB,IAAI,aAAa,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE;AAChE,4BAA4B,YAAY,CAAC,MAAM,CAAC,aAAa,EAAE,MAAM,CAAC,YAAY,CAAC;AACnF,wBAAwB;AACxB,wBAAwB,QAAQ,CAAC,YAAY,EAAE,UAAU,CAAC;AAE1D,wBAAwB,sBAAsB,GAAG,IAAI;AACrD,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB,KAAK,CAAC,eAAe,GAAG,IAAI;AAC5C,YAAY;AACZ,YAAY,IAAI,sBAAsB,IAAI,CAAC,UAAU,EAAE;AACvD,gBAAgB,eAAe,EAAE;AACjC,YAAY;AACZ,QAAQ,CAAC;AACT,QAAQ,IAAI,YAAY,GAAG,IAAI;AAC/B,QAAQ,IAAI;AACZ,YAAY,OAAO,UAAU,CAAC,MAAM,EAAE;AACtC,gBAAgB,WAAW,GAAG,WAAW,CAAC,GAAG,EAAE;AAC/C,gBAAgB,MAAM,KAAK,IAAI,YAAY,GAAG,UAAU,CAAC,KAAK,EAAE,CAAC;AACjE,gBAAgB,IAAI,KAAK,CAAC,OAAO,KAAK,UAAU,CAAC,IAAI,EAAE;AACvD,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB,IAAI,mBAAmB,CAAC,KAAK,CAAC;AAC9C;AACA,oBAAoB,KAAK,CAAC,MAAM,KAAK,EAAE,kCAAkC;AACzE;AACA,oBAAoB,KAAK,IAAI,UAAU,CAAC,YAAY,EAAE,KAAK,EAAE,UAAU,EAAE,aAAa,CAAC;AACvF,oBAAoB,IAAI,aAAa,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE;AACrD,wBAAwB,KAAK,CAAC,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC;AAC1D,oBAAoB;AACpB,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB,IAAI,KAAK,CAAC,MAAM,KAAK,EAAE,0BAA0B;AACjE;AACA;AACA,oBAAoB,iBAAiB,EAAE;AACvC,oBAAoB,MAAM,aAAa,GAAG,2BAA2B,CAAC,KAAK,EAAE,aAAa,EAAE,SAAS,CAAC;AACtG,oBAAoB,IAAI,aAAa,IAAI,aAAa,CAAC,OAAO,KAAK,UAAU,CAAC,OAAO,EAAE;AACvF,wBAAwB,eAAe,CAAC,KAAK,EAAE,aAAa,EAAE,aAAa,CAAC;AAC5E,wBAAwB;AACxB,oBAAoB;AACpB,gBAAgB;AAChB;AACA,gBAAgB,KAAK,CAAC,WAAW,GAAG,WAAW,CAAC,GAAG,EAAE;AACrD,gBAAgB,MAAM,MAAM,GAAG,YAAY,CAAC,KAAK,EAAE,QAAQ,CAAC;AAC5D,gBAAgB,KAAK,CAAC,aAAa,GAAG,MAAM;AAC5C,gBAAgB,IAAI,SAAS,CAAC,MAAM,CAAC,EAAE;AACvC,oBAAoB,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC;AAC5C,oBAAoB,KAAK,CAAC,OAAO,GAAG,UAAU,CAAC,OAAO;AACtD,oBAAoB;AACpB,yBAAyB,IAAI,CAAC,CAAC,KAAK,KAAK;AACzC,wBAAwB,WAAW,CAAC,KAAK,EAAE,KAAK,CAAC;AACjD,oBAAoB,CAAC;AACrB,yBAAyB,KAAK,CAAC,CAAC,CAAC,KAAK;AACtC,wBAAwB,IAAI,KAAK,CAAC,OAAO,KAAK,UAAU,CAAC,OAAO,EAAE;AAClE;AACA,4BAA4B,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;AAC5C,4BAA4B;AAC5B,wBAAwB;AACxB,wBAAwB,WAAW,CAAC,KAAK,EAAE,CAAC,CAAC;AAC7C,oBAAoB,CAAC;AACrB,yBAAyB,OAAO,CAAC,MAAM;AACvC,wBAAwB,aAAa,CAAC,MAAM,CAAC,KAAK,CAAC;AACnD;AACA;AACA,wBAAwB,qCAAqC,CAAC,KAAK,CAAC;AACpE;AACA;AACA,wBAAwB,IAAI,QAAQ,GAAG,KAAK;AAC5C,wBAAwB,IAAI,UAAU,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE;AAC/D,4BAA4B,QAAQ,GAAG,gBAAgB,EAAE;AACzD,wBAAwB;AACxB,wBAAwB,IAAI,CAAC,QAAQ,IAAI,CAAC,UAAU,EAAE;AACtD,4BAA4B,kBAAkB,EAAE;AAChD,wBAAwB;AACxB,oBAAoB,CAAC,CAAC;AACtB,gBAAgB;AAChB,qBAAqB;AACrB,oBAAoB,WAAW,CAAC,KAAK,EAAE,MAAM,CAAC;AAC9C,oBAAoB,qCAAqC,CAAC,KAAK,CAAC;AAChE,gBAAgB;AAChB,gBAAgB,IAAI,uBAAuB,CAAC,QAAQ,CAAC,EAAE;AACvD,oBAAoB,iBAAiB,EAAE;AACvC,oBAAoB,eAAe,EAAE;AACrC,oBAAoB;AACpB,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,QAAQ,OAAO,CAAC,EAAE;AAClB,YAAY,WAAW,CAAC,YAAY,EAAE,CAAC,CAAC;AACxC,YAAY,qCAAqC,CAAC,YAAY,CAAC;AAC/D,QAAQ;AACR,gBAAgB;AAChB,YAAY,UAAU,GAAG,KAAK;AAC9B,YAAY,gBAAgB,EAAE;AAC9B,QAAQ;AACR,IAAI;AACJ,IAAI,SAAS,WAAW,CAAC,KAAK,EAAE,KAAK,EAAE;AACvC,QAAQ,KAAK,CAAC,SAAS,GAAG,WAAW,CAAC,GAAG,EAAE;AAC3C,QAAQ,KAAK,CAAC,OAAO,GAAG,UAAU,CAAC,IAAI;AACvC,QAAQ,KAAK,CAAC,aAAa,GAAG,KAAK;AACnC,QAAQ,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC;AAChC,QAAQ,IAAI,aAAa,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE;AACzC,YAAY,KAAK,CAAC,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC;AAC9C,QAAQ;AAER,IAAI;AACJ,IAAI,SAAS,WAAW,CAAC,KAAK,EAAE,CAAC,EAAE;AACnC,QAAQ,KAAK,CAAC,SAAS,GAAG,WAAW,CAAC,GAAG,EAAE;AAC3C,QAAQ,KAAK,CAAC,OAAO,GAAG,UAAU,CAAC,MAAM;AAEzC;AACA,QAAQ,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAC;AAC3B,QAAQ,SAAS,CAAC,WAAW,CAAC,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC;AAC9C,IAAI;AACJ,IAAI,SAAS,YAAY,CAAC,KAAK,EAAE,QAAQ,EAAE;AAC3C,QAAQ,MAAM,IAAI,GAAG,KAAK,CAAC,MAAM;AAEjC,QAAQ,IAAI,WAAW;AACvB,QAAQ,QAAQ,KAAK,CAAC,MAAM;AAC5B,YAAY,KAAK,CAAC;AAClB,gBAAgB;AAChB,oBAAoB,WAAW,GAAG,QAAQ,CAAC,MAAM,gBAAgB,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,SAAS,CAAC,EAAE,CAAC,GAAG,KAAK;AACpI,wBAAwB,IAAI,QAAQ,EAAE;AACtC,4BAA4B,OAAO,GAAG;AACtC,wBAAwB;AACxB,6BAA6B;AAC7B,4BAA4B,MAAM,aAAa,GAAG,SAAS,CAAC,WAAW,CAAC,IAAI,EAAE,YAAY,CAAC;AAC3F,4BAA4B,OAAO,cAAc,CAAC,MAAM,UAAU,CAAC,SAAS,EAAE,GAAG,EAAE,IAAI,EAAE,uBAAuB,CAAC,aAAa,CAAC,CAAC,CAAC;AACjI,wBAAwB;AACxB,oBAAoB,CAAC,EAAE,CAAC,GAAG,KAAK;AAChC,wBAAwB,WAAW,CAAC,KAAK,EAAE,GAAG,CAAC;AAC/C,oBAAoB,CAAC,CAAC;AACtB,gBAAgB;AAChB,gBAAgB;AAChB,YAAY,KAAK,CAAC;AAClB,gBAAgB;AAChB,oBAAoB,MAAM,EAAE,GAAG,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE;AACrD,oBAAoB,WAAW,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC;AAC9E,gBAAgB;AAChB,gBAAgB;AAChB,YAAY,KAAK,CAAC;AAClB,YAAY,KAAK,EAAE;AACnB,gBAAgB;AAChB,oBAAoB,MAAM,OAAO,GAAG,KAAK,CAAC,SAAS;AACnD,oBAAoB,IAAI,OAAO,CAAC,OAAO,GAAG,CAAC,2BAA2B;AACtE,wBAAwB,WAAW,GAAG,WAAW,CAAC,OAAO,EAAE,SAAS,EAAE,IAAI,CAAC;AAC3E,oBAAoB;AACpB,yBAAyB;AACzB,wBAAwB,WAAW,GAAG,OAAO,CAAC,OAAO,EAAE,SAAS,EAAE,IAAI,CAAC;AACvE,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB;AAChB,YAAY,KAAK,EAAE;AACnB,gBAAgB;AAChB,oBAAoB,MAAM,IAAI,GAAG,KAAK,CAAC,SAAS;AAChD,oBAAoB,WAAW,CAAC,IAAI,CAAC;AACrC,gBAAgB;AAChB,gBAAgB;AAChB,YAAY,KAAK,CAAC;AAClB,gBAAgB;AAChB,oBAAoB,MAAM,iBAAiB,GAAG,KAAK,CAAC,QAAQ;AAC5D,oBAAoB,IAAI,GAAG,GAAG,KAAK,CAAC,SAAS;AAC7C,oBAAoB,IAAI,QAAQ,CAAC,GAAG,CAAC,EAAE;AACvC,wBAAwB,GAAG,GAAG,GAAG,CAAC,KAAK;AACvC,oBAAoB;AACpB,oBAAoB,WAAW,GAAG,cAAc,CAAC,MAAM,UAAU,CAAC,SAAS,EAAE,GAAG,EAAE,iBAAiB,EAAE,IAAI,CAAC,CAAC;AAC3G,gBAAgB;AAChB,gBAAgB;AAChB,YAAY,KAAK,CAAC;AAClB,gBAAgB;AAChB,oBAAoB,MAAM,WAAW,GAAG,KAAK,CAAC,MAAM;AACpD,oBAAoB,MAAM,OAAO,GAAG,KAAK,CAAC,SAAS;AACnD,oBAAoB,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO;AAC/C,oBAAoB,IAAI,QAAQ,CAAC,KAAK,CAAC,EAAE;AACzC,wBAAwB,KAAK,GAAG,KAAK,CAAC,KAAK;AAC3C,oBAAoB;AACpB,oBAAoB,MAAM,OAAO,GAAG,OAAO,CAAC,SAAS;AACrD,oBAAoB,MAAM,OAAO,GAAG,SAAS,CAAC,SAAS;AACvD,oBAAoB,MAAM,QAAQ,GAAG,KAAK,CAAC,KAAK;AAChD,oBAAoB,MAAM,eAAe,GAAG,kBAAkB,CAAC,QAAQ,EAAE,KAAK,EAAE,OAAO,CAAC,qBAAqB,CAAC;AAC9G,oBAAoB,IAAI,QAAQ,EAAE;AAClC,wBAAwB,SAAS,CAAC,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,EAAE,QAAQ,EAAE,eAAe,CAAC;AAC/F,wBAAwB,WAAW,GAAG,IAAI;AAC1C,oBAAoB;AACpB,yBAAyB;AACzB,wBAAwB,IAAI,OAAO,EAAE;AACrC,4BAA4B,MAAM,OAAO,GAAG,WAAW,CAAC,OAAO;AAC/D,4BAA4B,OAAO,CAAC,IAAI,CAAC,CAAC,wCAAwC,OAAO,EAAE,QAAQ,EAAE,eAAe,CAAC;AACrH,wBAAwB;AACxB,6BAA6B;AAC7B,4BAA4B,WAAW,CAAC,OAAO,CAAC,QAAQ,EAAE,eAAe,EAAE,OAAO,CAAC;AACnF,wBAAwB;AACxB,wBAAwB,WAAW,GAAG,SAAS;AAC/C,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB;AAChB,YAAY,KAAK,CAAC,8BAA8B;AAChD,gBAAgB;AAChB,oBAAoB,MAAM,MAAM,GAAG,KAAK,CAAC,QAAQ;AACjD,oBAAoB,WAAW,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC;AAC9E,gBAAgB;AAChB,gBAAgB;AAChB,YAAY;AACZ,YAAY,KAAK,CAAC,iDAAiD;AACnE,gBAAgB;AAChB,oBAAoB,MAAM,MAAM,GAAG,KAAK,CAAC,QAAQ;AACjD,oBAAoB,MAAM,OAAO,GAAG,KAAK,CAAC,SAAS;AACnD,oBAAoB,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE;AACxC,wBAAwB;AACxB,oBAAoB;AACpB,oBAAoB,IAAI,aAAa,GAAG,MAAM,YAAY,kBAAkB,IAAI,MAAM,YAAY,iBAAiB;AACnH;AACA,oBAAoB,IAAI,MAAM,YAAY,uBAAuB,IAAI,OAAO,KAAK,MAAM,CAAC,SAAS,EAAE;AACnG,wBAAwB,aAAa,GAAG,KAAK;AAC7C,oBAAoB;AACpB,oBAAoB,IAAI,aAAa,EAAE;AACvC,wBAAwB,MAAM,GAAG,GAAG,gBAAgB,EAAE;AACtD,wBAAwB,GAAG,CAAC,WAAW,GAAG,SAAS;AACnD;AACA,wBAAwB,WAAW,GAAG,SAAS,CAAC,cAAc,CAAC,MAAM,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC,iBAAiB,CAAC,CAAC,EAAE,MAAM;AAChI,4BAA4B,IAAI,MAAM,CAAC,OAAO,GAAG,CAAC,gCAAgC;AAClF,gCAAgC,MAAM,CAAC,OAAO,IAAI,EAAE;AACpD,gCAAgC,OAAO,cAAc,CAAC,MAAM,eAAe,CAAC,SAAS,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;AACxG,4BAA4B;AAC5B,wBAAwB,CAAC,CAAC;AAC1B,oBAAoB;AACpB,yBAAyB;AACzB,wBAAwB,WAAW,GAAG,cAAc,CAAC,MAAM;AAC3D,4BAA4B,eAAe,CAAC,SAAS,EAAE,MAAM,EAAE,OAAO,CAAC;AACvE,wBAAwB,CAAC,CAAC;AAC1B,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB;AAChB,YAAY;AACZ;AACA,QAAQ,OAAO,WAAW;AAC1B,IAAI;AACJ,IAAI,SAAS,eAAe,CAAC,KAAK,EAAE;AACpC,QAAQ,IAAI,aAAa,CAAC,IAAI,EAAE;AAChC;AACA,YAAY,KAAK,MAAM,YAAY,IAAI,aAAa,EAAE;AACtD,gBAAgB,MAAM,IAAI,GAAG,eAAe,CAAC,KAAK,EAAE,YAAY,CAAC;AACjE,gBAAgB,IAAI,IAAI,KAAK,CAAC,EAAE;AAChC,oBAAoB,OAAO,YAAY;AACvC,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,QAAQ,OAAO,IAAI;AACnB,IAAI;AACJ,CAAC;AACD,SAAS,mBAAmB,CAAC,KAAK,EAAE;AACpC,IAAI,OAAO,CAAC,EAAE,KAAK,CAAC,MAAM,IAAI,aAAa,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,EAAE,0BAA0B;AAC9G;AACO,SAAS,eAAe,CAAC,YAAY,EAAE,aAAa,EAAE,aAAa,EAAE;AAG5E,IAAI,CAAC,aAAa,CAAC,eAAe,KAAK,IAAI,UAAU,EAAE,EAAE,GAAG,CAAC,YAAY,CAAC;AAC1E,IAAI,aAAa,CAAC,GAAG,CAAC,YAAY,CAAC;AACnC,IAAI,IAAI,aAAa,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE;AAC5C,QAAQ,CAAC,YAAY,CAAC,MAAM,CAAC,aAAa,KAAK,IAAI,UAAU,EAAE,EAAE,GAAG,CAAC,YAAY,CAAC;AAClF,IAAI;AACJ;AACO,SAAS,QAAQ,CAAC,KAAK,EAAE,UAAU,EAAE;AAC5C,IAAI,MAAM,GAAG,GAAG,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC;AACrC,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,aAAa,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE;AAChD,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,KAAK,IAAI,UAAU,EAAE,EAAE,GAAG,CAAC,KAAK,CAAC;AAC7D,IAAI;AACJ;AACA,SAAS,eAAe,CAAC,IAAI,EAAE;AAC/B,IAAI,QAAQ;AACZ,QAAQ,CAAC,CAAC,+BAA+B,aAAa;AACtD,QAAQ,CAAC,CAAC,2BAA2B,SAAS;AAC9C,QAAQ,CAAC,CAAC,wBAAwB,MAAM;AACxC,QAAQ,CAAC,CAAC,6BAA6B,iBAAiB;AACxD,QAAQ,CAAC,CAAC,6BAA6B,wBAAwB;AAC/D,QAAQ,CAAC,CAAC,6BAA6B,WAAW;AAClD,QAAQ,CAAC,CAAC,kDAAkD,kBAAkB;AAC9E,QAAQ,CAAC,EAAE,2BAA2B,SAAS;AAC/C,QAAQ,CAAC,EAAE,mCAAmC,iBAAiB;AAC/D,QAAQ,CAAC,GAAG,kCAAkC,gBAAgB;AAC9D,KAAK,CAAC,IAAI,CAAC,IAAI,WAAW,GAAG,IAAI;AACjC;AACA,SAAS,sBAAsB,CAAC,IAAI,EAAE;AACtC,IAAI,QAAQ;AACZ,QAAQ,CAAC,CAAC,+BAA+B,aAAa;AACtD,QAAQ,CAAC,CAAC,2BAA2B,SAAS;AAC9C,QAAQ,CAAC,CAAC,wBAAwB,MAAM;AACxC,QAAQ,CAAC,CAAC,6BAA6B,WAAW;AAClD,QAAQ,CAAC,CAAC,6BAA6B,WAAW;AAClD,QAAQ,CAAC,CAAC,6BAA6B,WAAW;AAClD,QAAQ,CAAC,CAAC,kDAAkD,kBAAkB;AAC9E,QAAQ,CAAC,EAAE,2BAA2B,SAAS;AAC/C,QAAQ,CAAC,EAAE,mCAAmC,iBAAiB;AAC/D,QAAQ,CAAC,GAAG,kCAAkC,gBAAgB;AAC9D,KAAK,CAAC,IAAI,CAAC,IAAI,WAAW,GAAG,IAAI;AACjC;AAQA,SAAS,UAAU,CAAC,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,aAAa,EAAE;AACvD,IAAI,MAAM,KAAK,GAAG,EAAE;AACpB;AACA,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC,CAAC;AACtC;AACA,IAAI,IAAI,GAAG,EAAE;AACb,QAAQ,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC;AACtB,QAAQ,IAAI,GAAG,IAAI,QAAQ,IAAI,GAAG,EAAE;AACpC,YAAY,MAAM,KAAK,GAAG,GAAG;AAC7B,YAAY,MAAM,IAAI,GAAG,sBAAsB,CAAC,KAAK,CAAC,MAAM,CAAC;AAC7D,YAAY,MAAM,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,EAAE,CAAC;AACvE,YAAY,MAAM,SAAS,GAAG,KAAK,CAAC,QAAQ,EAAE,QAAQ;AACtD,YAAY,MAAM,YAAY,GAAG,KAAK,CAAC,MAAM,KAAK,CAAC,gCAAgC,KAAK,CAAC,MAAM,KAAK,CAAC;AACrG,kBAAkB;AAClB,kBAAkB,IAAI;AACtB,YAAY,KAAK,CAAC,IAAI,CAAC,CAAC,iBAAiB,CAAC,CAAC;AAC3C,YAAY,KAAK,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC;AACzC,YAAY,KAAK,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC,CAAC;AACjD;AACA,YAAY,IAAI,KAAK,CAAC,WAAW,IAAI,KAAK,CAAC,SAAS,EAAE;AACtD,gBAAgB,MAAM,aAAa,GAAG,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,WAAW;AACzE,gBAAgB,KAAK,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;AACnE,YAAY;AACZ,iBAAiB,IAAI,KAAK,CAAC,WAAW,EAAE;AACxC,gBAAgB,MAAM,WAAW,GAAG,WAAW,CAAC,GAAG,EAAE,GAAG,KAAK,CAAC,WAAW;AACzE,gBAAgB,KAAK,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC;AAC3E,YAAY;AACZ;AACA,YAAY,IAAI,KAAK,CAAC,eAAe,IAAI,KAAK,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE;AAC3E,gBAAgB,KAAK,CAAC,IAAI,CAAC,CAAC,mBAAmB,CAAC,CAAC;AACjD,gBAAgB,KAAK,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,YAAY,EAAE,KAAK,KAAK;AACvE,oBAAoB,MAAM,WAAW,GAAG,sBAAsB,CAAC,YAAY,CAAC,MAAM,CAAC;AACnF,oBAAoB,MAAM,aAAa,GAAG,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,EAAE,CAAC;AAC/F,oBAAoB,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,KAAK,GAAG,CAAC,CAAC,EAAE,EAAE,WAAW,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC,EAAE,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC;AACzG,gBAAgB,CAAC,CAAC;AAClB,YAAY;AACZ,QAAQ;AACR,aAAa;AACb,YAAY,KAAK,CAAC,IAAI,CAAC,CAAC,aAAa,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;AAC/E,QAAQ;AACR,IAAI;AACJ;AACA,IAAI,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AACnC,QAAQ,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC;AACtB,QAAQ,KAAK,CAAC,IAAI,CAAC,CAAC,UAAU,EAAE,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;AACvD,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC/C,YAAY,MAAM,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC;AAClC,YAAY,MAAM,QAAQ,GAAG,KAAK,KAAK,GAAG;AAC1C,YAAY,MAAM,YAAY,GAAG,QAAQ,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI;AACvD,YAAY,MAAM,IAAI,GAAG,sBAAsB,CAAC,KAAK,CAAC,MAAM,CAAC;AAC7D,YAAY,MAAM,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC,EAAE,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE;AAC/E,YAAY,MAAM,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,EAAE,CAAC;AACvE,YAAY,MAAM,SAAS,GAAG,KAAK,CAAC,QAAQ,EAAE,QAAQ;AACtD,YAAY,MAAM,MAAM,GAAG,KAAK,CAAC,MAAM,KAAK,CAAC,gCAAgC,KAAK,CAAC,MAAM,KAAK,CAAC;AAC/F,kBAAkB;AAClB,kBAAkB,IAAI;AACtB,YAAY,MAAM,IAAI,GAAG,CAAC,EAAE,YAAY,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;AACnF,YAAY,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;AAC5B,QAAQ;AACR,IAAI;AACJ;AACA,IAAI,IAAI,aAAa,IAAI,aAAa,CAAC,IAAI,GAAG,CAAC,EAAE;AACjD,QAAQ,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC;AACtB,QAAQ,KAAK,CAAC,IAAI,CAAC,CAAC,mBAAmB,EAAE,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACtE,QAAQ,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,KAAK,KAAK;AAC5D,YAAY,MAAM,IAAI,GAAG,sBAAsB,CAAC,KAAK,CAAC,MAAM,CAAC;AAC7D,YAAY,MAAM,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,EAAE,CAAC;AACvE,YAAY,MAAM,SAAS,GAAG,KAAK,CAAC,QAAQ,EAAE,QAAQ;AACtD,YAAY,MAAM,MAAM,GAAG,KAAK,CAAC,MAAM,KAAK,CAAC,gCAAgC,KAAK,CAAC,MAAM,KAAK,CAAC;AAC/F,kBAAkB;AAClB,kBAAkB,IAAI;AACtB,YAAY,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,KAAK,GAAG,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;AAC1E,QAAQ,CAAC,CAAC;AACV,IAAI;AACJ;AACA,IAAI,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC;AAClB,IAAI,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;AAC9B;AACA,IAAI,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;AACxC;;ACzsBA;AACA;AACA;AACA;AACA;AACY,MAAC,IAAI,GAAG,CAAC,GAAG,IAAI,KAAK;AACjC;AACA,IAAI,MAAM,CAAC,MAAM,CAAC,GAAG,eAAe,EAAE;AACtC,IAAI,MAAM,OAAO,GAAG,gBAAgB,EAAE;AACtC,IAAI,MAAM,WAAW,GAAG,OAAO,CAAC,aAAa;AAC7C,IAAI,IAAI,CAAC,WAAW,EAAE;AACtB;AACA,QAAQ;AACR,IAAI;AACJ,IAAI,MAAM,SAAS,GAAG,eAAe,CAAC,OAAO,CAAC,SAAS,CAAC;AACxD,IAAI,MAAM,SAAS,GAAG,SAAS,CAAC,WAAW;AAC3C,IAAI,IAAI,CAAC,SAAS,EAAE;AACpB,QAAQ,MAAM,MAAM,CAAC,CAAC,gCAAgC;AACtD,IAAI;AACJ;AACA,IAAI,MAAM,KAAK,GAAG,SAAS,CAAC,CAAC,0BAA0B,WAAW,EAAE,MAAM,EAAE,IAAI,CAAC;AACjF,IAAI,OAAO,eAAe,CAAC,KAAK,CAAC;AACjC;;AC3BA;AACA;AACO,SAAS,eAAe,CAAC,KAAK,EAAE;AACvC,IAAI,QAAQ,KAAK,KAAK,IAAI;AAC1B,QAAQ,OAAO,KAAK,KAAK,QAAQ;AACjC,QAAQ,OAAO,KAAK,KAAK,QAAQ;AACjC,QAAQ,OAAO,KAAK,KAAK,SAAS;AAClC;;ACNA;AACY,MAAC,SAAS,GAAG,CAAC,EAAE,EAAE,IAAI,EAAE,KAAK,KAAK;AAC9C,IAAI,OAAO,IAAI,iBAAiB,CAAC,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,KAAK,IAAI,IAAI,CAAC;AAC/D;;ACuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,eAAe,SAAS,CAAC,oBAAoB,EAAE;AACtD,IAAI,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,UAAU,EAAE,eAAe,EAAE,SAAS,EAAE,eAAe,EAAE,UAAU,EAAE,UAAU,GAAG,GAAG,oBAAoB;AAC5I,IAAI,IAAI,OAAO,GAAG,CAAC;AACnB,IAAI,MAAM,WAAW,GAAG,EAAE;AAC1B,IAAI,IAAI,aAAa,GAAG,CAAC;AACzB,IAAI,MAAM,QAAQ,GAAG,IAAI,GAAG,EAAE;AAC9B,IAAI,MAAM,WAAW,GAAG,IAAI,GAAG,EAAE;AACjC,IAAI,MAAM,YAAY,GAAG,IAAI,GAAG,EAAE;AAClC,IAAI,IAAI,MAAM;AACd,IAAI,MAAM,MAAM,GAAG,IAAI,GAAG,EAAE;AAC5B;AACA,IAAI,MAAM,WAAW,GAAG,CAAC,KAAK,EAAE,SAAS,EAAE,OAAO,KAAK;AACvD,QAAQ,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC;AAC3B,QAAQ,IAAI,SAAS,GAAG,KAAK;AAC7B,QAAQ,IAAI,MAAM;AAClB,QAAQ,IAAI,SAAS,EAAE;AACvB,YAAY,MAAM,GAAG,KAAK,CAAC,MAAM;AACjC,QAAQ;AACR,aAAa;AACb,YAAY,MAAM,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC;AACrC,YAAY,OAAO,MAAM,IAAI,CAAC,IAAI,KAAK,CAAC,MAAM,CAAC,KAAK,IAAI,EAAE;AAC1D,gBAAgB,MAAM,EAAE;AACxB,YAAY;AACZ,YAAY,MAAM,EAAE;AACpB,QAAQ;AACR,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;AACzC,YAAY,IAAI,SAAS,EAAE;AAC3B,gBAAgB,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC;AACnC,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,SAAS,GAAG,IAAI;AAChC,YAAY;AACZ,YAAY,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;AAChC,QAAQ;AACR,QAAQ,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC;AAC3B,IAAI,CAAC;AACL;AACA,IAAI,MAAM,MAAM,GAAG,CAAC,IAAI,EAAE,KAAK,EAAE,SAAS,KAAK;AAC/C,QAAQ,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;AAClC,QAAQ,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;AACvC,YAAY,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;AAC5C,QAAQ;AACR,aAAa,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;AAC5C,YAAY,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;AAC3C,YAAY,IAAI,eAAe,GAAG,EAAE;AACpC,YAAY,IAAI,OAAO,GAAG,CAAC;AAC3B,YAAY,OAAO,CAAC,eAAe,GAAG,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,MAAM,EAAE,EAAE;AACxE,gBAAgB,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,EAAE,eAAe,CAAC,CAAC;AACjE,gBAAgB,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC;AACtC,gBAAgB,OAAO,GAAG,eAAe,GAAG,CAAC;AAC7C,YAAY;AACZ,YAAY,QAAQ,CAAC,KAAK,CAAC,OAAO,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AAChE,QAAQ;AACR,aAAa;AACb,YAAY,WAAW,CAAC,KAAK,EAAE,SAAS,EAAE,CAAC,SAAS,EAAE,GAAG,KAAK;AAC9D,gBAAgB,UAAU,CAAC,SAAS,EAAE,GAAG,CAAC;AAC1C,YAAY,CAAC,CAAC;AACd,QAAQ;AACR,IAAI,CAAC;AACL,IAAI,MAAM,aAAa,GAAG,CAAC,GAAG,KAAK;AACnC,QAAQ,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;AAC7B,YAAY,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC;AAChC,YAAY,oBAAoB,CAAC,SAAS,CAAC,GAAG,CAAC;AAC/C,QAAQ;AACR,IAAI,CAAC;AACL,IAAI,MAAM,kBAAkB,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,QAAQ,KAAK;AAC3D,QAAQ,IAAI,IAAI,GAAG,UAAU,CAAC,KAAK,CAAC;AACpC,QAAQ,MAAM,aAAa,GAAG,CAAC,QAAQ,IAAI,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC;AAClE,QAAQ,IAAI,CAAC,IAAI,EAAE;AACnB,YAAY,IAAI,QAAQ,EAAE;AAC1B;AACA,gBAAgB,OAAO,IAAI;AAC3B,YAAY;AACZ;AACA,YAAY,IAAI,OAAO,aAAa,KAAK,QAAQ,EAAE;AACnD;AACA,gBAAgB,IAAI,GAAG,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC;AAC7C,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,OAAO,UAAU,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC;AACvD,YAAY;AACZ,QAAQ;AACR;AACA,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE;AAC3B;AACA;AACA,YAAY,IAAI,CAAC,MAAM,EAAE;AACzB,gBAAgB,eAAe,CAAC,IAAI,EAAE,KAAK,CAAC;AAC5C,gBAAgB,KAAK,GAAG,oBAAoB,CAAC,OAAO,CAAC,KAAK,CAAC;AAC3D,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,eAAe,CAAC,IAAI,CAAC;AACrC,YAAY;AACZ,QAAQ;AACR;AACA,QAAQ,IAAI,OAAO,aAAa,KAAK,QAAQ,EAAE;AAC/C,YAAY,WAAW,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,OAAO;AACrD,YAAY,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC;AACtC,QAAQ;AACR;AACA,QAAQ,MAAM,OAAO,GAAG,KAAK,YAAY,OAAO,GAAG,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO;AAC9E;AACA,QAAQ,IAAI,CAAC,MAAM,IAAI,OAAO,KAAK,KAAK,EAAE;AAC1C,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,QAAQ,MAAM,CAAC,CAAC,wBAAwB,OAAO,CAAC;AAChD,IAAI,CAAC;AACL;AACA;AACA,IAAI,MAAM,UAAU,GAAG,CAAC,KAAK,EAAE,KAAK,KAAK;AACzC,QAAQ,IAAI,iBAAiB,CAAC,KAAK,CAAC,EAAE;AACtC,YAAY,MAAM,CAAC,CAAC,yBAAyB,CAAC,2BAA2B;AACzE,QAAQ;AACR,aAAa;AACb,YAAY,QAAQ,OAAO,KAAK;AAChC,gBAAgB,KAAK,WAAW;AAChC,oBAAoB,MAAM,CAAC,CAAC,yBAAyB,CAAC,2BAA2B;AACjF,oBAAoB;AACpB,gBAAgB,KAAK,SAAS;AAC9B,oBAAoB,MAAM,CAAC,CAAC,yBAAyB,KAAK,GAAG,CAAC,wBAAwB,CAAC,uBAAuB;AAC9G,oBAAoB;AACpB,gBAAgB,KAAK,QAAQ;AAC7B,oBAAoB,IAAI,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;AAC7C,wBAAwB,MAAM,CAAC,CAAC,yBAAyB,EAAE,qBAAqB;AAChF,oBAAoB;AACpB,yBAAyB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;AACtD,wBAAwB,MAAM,CAAC,CAAC,yBAAyB,KAAK,GAAG,CAAC,GAAG,EAAE,oCAAoC,EAAE,kCAAkC;AAC/I,oBAAoB;AACpB,yBAAyB,IAAI,KAAK,KAAK,MAAM,CAAC,gBAAgB,EAAE;AAChE,wBAAwB,MAAM,CAAC,CAAC,yBAAyB,EAAE,4BAA4B;AACvF,oBAAoB;AACpB,yBAAyB,IAAI,KAAK,KAAK,MAAM,CAAC,gBAAgB,GAAG,CAAC,EAAE;AACpE,wBAAwB,MAAM,CAAC,CAAC,yBAAyB,EAAE,kCAAkC;AAC7F,oBAAoB;AACpB,yBAAyB,IAAI,KAAK,KAAK,MAAM,CAAC,gBAAgB,EAAE;AAChE,wBAAwB,MAAM,CAAC,CAAC,yBAAyB,EAAE,4BAA4B;AACvF,oBAAoB;AACpB,yBAAyB;AACzB,wBAAwB,MAAM,CAAC,CAAC,sBAAsB,KAAK,CAAC;AAC5D,oBAAoB;AACpB,oBAAoB;AACpB,gBAAgB,KAAK,QAAQ;AAC7B,oBAAoB,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;AAC5C,wBAAwB,MAAM,CAAC,CAAC,yBAAyB,CAAC,6BAA6B;AACvF,oBAAoB;AACpB,yBAAyB;AACzB;AACA;AACA,wBAAwB,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,kBAAkB,CAAC,KAAK,EAAE,KAAK,CAAC,EAAE;AAClF,4BAA4B,MAAM,CAAC,CAAC,sBAAsB,KAAK,CAAC;AAChE,wBAAwB;AACxB,oBAAoB;AACpB,oBAAoB;AACpB,gBAAgB,KAAK,QAAQ;AAC7B,oBAAoB,IAAI,CAAC,KAAK,GAAG,KAAK,IAAI,KAAK,GAAG,IAAK,KAAK,kBAAkB,CAAC,KAAK,EAAE,KAAK,CAAC,EAAE;AAC9F,wBAAwB,MAAM,CAAC,EAAE,uBAAuB,KAAK,CAAC,QAAQ,EAAE,CAAC;AACzE,oBAAoB;AACpB,oBAAoB;AACpB,gBAAgB,KAAK,QAAQ;AAC7B,oBAAoB,IAAI,KAAK,KAAK,iBAAiB,EAAE;AACrD,wBAAwB,MAAM,CAAC,CAAC,yBAAyB,CAAC,mCAAmC;AAC7F,oBAAoB;AACpB,yBAAyB,IAAI,KAAK,KAAK,eAAe,EAAE;AACxD,wBAAwB,MAAM,CAAC,CAAC,yBAAyB,CAAC,iCAAiC;AAC3F,oBAAoB;AACpB,yBAAyB,IAAI,KAAK,KAAK,cAAc,EAAE;AACvD,wBAAwB,MAAM,CAAC,CAAC,yBAAyB,CAAC,+BAA+B;AACzF,oBAAoB;AACpB,oBAAoB;AACpB,gBAAgB,KAAK,UAAU;AAC/B,oBAAoB,IAAI,KAAK,KAAK,IAAI,EAAE;AACxC,wBAAwB,MAAM,CAAC,CAAC,yBAAyB,EAAE,sBAAsB;AACjF,oBAAoB;AACpB,yBAAyB,IAAI,KAAK,KAAK,QAAQ,EAAE;AACjD,wBAAwB,MAAM,CAAC,CAAC,yBAAyB,EAAE,0BAA0B;AACrF,oBAAoB;AACpB,yBAAyB,IAAI,KAAK,CAAC,KAAK,CAAC,EAAE;AAC3C,wBAAwB,IAAI,kBAAkB,CAAC,KAAK,EAAE,KAAK,CAAC,EAAE;AAC9D,4BAA4B,MAAM,CAAC,KAAK,EAAE,MAAM,EAAE,UAAU,CAAC,GAAG,WAAW,CAAC,oBAAoB,EAAE,KAAK,EAAE,IAAI,CAAC;AAC9G,4BAA4B,IAAI,IAAI;AACpC,4BAA4B,IAAI,IAAI;AACpC,4BAA4B,IAAI,KAAK,KAAK,EAAE,EAAE;AAC9C;AACA,gCAAgC,IAAI,GAAG,CAAC,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,UAAU,GAAG,GAAG,GAAG,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC;AAChI;AACA,gCAAgC,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC;AACjE,gCAAgC,IAAI,QAAQ,EAAE;AAC9C;AACA,oCAAoC,MAAM,GAAG,GAAG,SAAS,CAAC,QAAQ,CAAC;AACnE,oCAAoC,MAAM,CAAC,CAAC,wBAAwB,GAAG,CAAC;AACxE,oCAAoC;AACpC,gCAAgC;AAChC,qCAAqC;AACrC,oCAAoC,MAAM,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,CAAC;AAC3D,gCAAgC;AAChC,gCAAgC,IAAI,GAAG,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,EAAE,4BAA4B,EAAE;AAChG,4BAA4B;AAC5B,iCAAiC;AACjC,gCAAgC,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC;AACrD,gCAAgC,IAAI,GAAG,EAAE;AACzC,4BAA4B;AAC5B,4BAA4B,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC;AAC9C,wBAAwB;AACxB,oBAAoB;AACpB,yBAAyB,IAAI,eAAe,CAAC,KAAK,CAAC,EAAE;AACrD,wBAAwB,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,kBAAkB,CAAC;AAC/D,wBAAwB,oBAAoB,CAAC,eAAe,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC;AAC9E,wBAAwB,MAAM,CAAC,EAAE,0BAA0B,CAAC,GAAG,CAAC,CAAC;AACjE,oBAAoB;AACpB,yBAAyB;AACzB,wBAAwB,MAAM,MAAM,CAAC,EAAE,qDAAqD,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;AAC/G,oBAAoB;AACpB,oBAAoB;AACpB,gBAAgB,KAAK,QAAQ;AAC7B,oBAAoB,IAAI,KAAK,KAAK,WAAW,EAAE;AAC/C,wBAAwB,MAAM,CAAC,CAAC,yBAAyB,CAAC,6BAA6B;AACvF,oBAAoB;AACpB,yBAAyB,IAAI,KAAK,KAAK,SAAS,EAAE;AAClD,wBAAwB,MAAM,CAAC,CAAC,yBAAyB,CAAC,2BAA2B;AACrF,oBAAoB;AACpB,yBAAyB,IAAI,KAAK,KAAK,IAAI,EAAE;AAC7C,wBAAwB,MAAM,CAAC,CAAC,yBAAyB,CAAC,sBAAsB;AAChF,oBAAoB;AACpB,yBAAyB,IAAI,KAAK,YAAY,OAAO,EAAE;AACvD,wBAAwB,MAAM,CAAC,CAAC,wBAAwB,KAAK,CAAC,MAAM,CAAC;AACrE,oBAAoB;AACpB,yBAAyB;AACzB,wBAAwB,MAAM,UAAU,GAAG,kBAAkB,CAAC,KAAK,EAAE,KAAK,CAAC;AAC3E,wBAAwB,IAAI,UAAU,EAAE;AACxC,4BAA4B,MAAM,SAAS,GAAG,MAAM;AACpD,4BAA4B,MAAM,GAAG,UAAU;AAC/C;AACA,4BAA4B,gBAAgB,CAAC,KAAK,CAAC;AACnD,4BAA4B,MAAM,GAAG,SAAS;AAC9C,wBAAwB;AACxB,oBAAoB;AACpB,oBAAoB;AACpB,gBAAgB;AAChB,oBAAoB,MAAM,MAAM,CAAC,EAAE,yCAAyC,CAAC,OAAO,KAAK,CAAC,CAAC;AAC3F;AACA,QAAQ;AACR,IAAI,CAAC;AACL,IAAI,MAAM,gBAAgB,GAAG,CAAC,KAAK,KAAK;AACxC,QAAQ,IAAI,YAAY,CAAC,KAAK,CAAC,EAAE;AACjC,YAAY,MAAM,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC;AACvC,YAAY,MAAM,CAAC,EAAE,2BAA2B,CAAC,qBAAqB,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,UAAU,CAAC,CAAC;AACjH,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,gBAAgB,EAAE;AACpD,YAAY,MAAM,CAAC,EAAE,iCAAiC,CAAC,KAAK,CAAC,IAAI,CAAC,qBAAqB,EAAE,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC/G,QAAQ;AACR,aAAa,IAAI,OAAO,CAAC,KAAK,CAAC,EAAE;AACjC,YAAY,IAAI,UAAU,CAAC,KAAK,CAAC,EAAE;AACnC;AACA,gBAAgB,oBAAoB,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC;AAC3D;AACA,gBAAgB,MAAM,YAAY,GAAG,cAAc,CAAC,KAAK,CAAC,KAAK,EAAE,SAAS,EAAE,CAAC,QAAQ,EAAE,aAAa,KAAK;AACzG,oBAAoB,OAAO,IAAI,aAAa,CAAC,EAAE,yBAAyB,QAAQ,EAAE,aAAa,EAAE,eAAe,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC;AAClI,gBAAgB,CAAC,CAAC;AAClB,gBAAgB,MAAM,CAAC,CAAC,2BAA2B,YAAY,CAAC;AAChE,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,MAAM,YAAY,GAAG,eAAe,CAAC,KAAK,CAAC;AAC3D,gBAAgB,MAAM,WAAW,GAAG,cAAc,CAAC,KAAK,CAAC;AACzD,gBAAgB,MAAM,KAAK,GAAG,YAAY,CAAC,OAAO;AAClD,gBAAgB,MAAM,OAAO,GAAG,YAAY,CAAC,SAAS;AACtD;AACA,gBAAgB,MAAM,WAAW,GAAG,EAAE;AACtC,gBAAgB,KAAK,MAAM,IAAI,IAAI,WAAW,EAAE;AAChD,oBAAoB,MAAM,SAAS,GAAG,WAAW,CAAC,IAAI,CAAC;AACvD,oBAAoB,MAAM,UAAU,GAAG,eAAe,CAAC,GAAG,CAAC,SAAS,CAAC;AACrE,oBAAoB,IAAI,UAAU,EAAE;AACpC,wBAAwB,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AACpD,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB,MAAM,GAAG,GAAG,CAAC,WAAW,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,WAAW,CAAC;AACzE,gBAAgB,OAAO,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,IAAI,EAAE;AACpD,oBAAoB,GAAG,CAAC,GAAG,EAAE;AAC7B,gBAAgB;AAChB,gBAAgB,MAAM,CAAC,EAAE,sBAAsB,GAAG,CAAC;AACnD,YAAY;AACZ,QAAQ;AACR,aAAa,IAAI,eAAe,CAAC,KAAK,CAAC,EAAE;AACzC,YAAY,MAAM,MAAM,GAAG,KAAK,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC;AACzD,YAAY,IAAI,SAAS,CAAC,MAAM,CAAC,EAAE;AACnC,gBAAgB,MAAM,UAAU,GAAG,cAAc,CAAC,MAAM,EAAE,SAAS,EAAE,CAAC,QAAQ,EAAE,aAAa,KAAK;AAClG,oBAAoB,OAAO,IAAI,aAAa,CAAC,EAAE,iCAAiC,QAAQ,EAAE,aAAa,EAAE,IAAI,EAAE,IAAI,CAAC;AACpH,gBAAgB,CAAC,CAAC;AAClB,gBAAgB,MAAM,CAAC,CAAC,2BAA2B,UAAU,CAAC;AAC9D,YAAY;AACZ,iBAAiB;AACjB;AACA,gBAAgB,MAAM,KAAK,GAAG,MAAM,CAAC,OAAO;AAC5C,gBAAgB,MAAM,GAAG,MAAM,CAAC,QAAQ;AACxC,gBAAgB,UAAU,CAAC,MAAM,EAAE,KAAK,CAAC;AACzC,YAAY;AACZ,QAAQ;AACR,aAAa,IAAI,eAAe,CAAC,KAAK,CAAC,EAAE;AACzC,YAAY,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;AACtC,gBAAgB,MAAM,CAAC,CAAC,sBAAsB,KAAK,CAAC;AACpD,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,MAAM,GAAG,GAAG,EAAE;AAC9B,gBAAgB,KAAK,MAAM,GAAG,IAAI,KAAK,EAAE;AACzC,oBAAoB,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,CAAC,EAAE;AAC1E,wBAAwB,MAAM,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC;AACjD,wBAAwB,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,EAAE;AACxD,4BAA4B,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC;AACjD,wBAAwB;AACxB,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB,MAAM,CAAC,CAAC,uBAAuB,GAAG,CAAC,MAAM,GAAG,GAAG,GAAG,CAAC,CAAC;AACpE,YAAY;AACZ,QAAQ;AACR,aAAa,IAAI,UAAU,CAAC,KAAK,CAAC,EAAE;AACpC,YAAY,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,EAAE;AAC9C,YAAY,MAAM,CAAC,EAAE,yBAAyB,KAAK,CAAC,SAAS,CAAC,EAAE,CAAC;AACjE,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,UAAU,EAAE;AAC9C,YAAY,IAAI,KAAK,YAAY,oBAAoB,EAAE;AACvD,gBAAgB,aAAa,CAAC,KAAK,CAAC,YAAY,CAAC;AACjD,gBAAgB,MAAM,YAAY,GAAG,cAAc,CAAC,0BAA0B,CAAC,KAAK,EAAE,KAAK,CAAC,gBAAgB,CAAC,EAAE,SAAS,EAAE,CAAC,QAAQ,EAAE,aAAa,KAAK;AACvJ,oBAAoB,OAAO,IAAI,aAAa,CAAC,EAAE,iCAAiC,QAAQ,EAAE,aAAa,EAAE,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,YAAY,CAAC;AAC7I,gBAAgB,CAAC,CAAC;AAClB,gBAAgB,MAAM,CAAC,CAAC,2BAA2B,YAAY,CAAC;AAChE,gBAAgB;AAChB,YAAY;AACZ,YAAY,IAAI,KAAK,YAAY,iBAAiB,EAAE;AACpD,gBAAgB,MAAM,CAAC,EAAE,8BAA8B;AACvD,oBAAoB,GAAG,mBAAmB,CAAC,oBAAoB,EAAE,KAAK,CAAC;AACvE,oBAAoB,oBAAoB,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;AACjE,oBAAoB,KAAK,CAAC,OAAO;AACjC,oBAAoB,KAAK,CAAC,aAAa;AACvC,oBAAoB,IAAI,KAAK,CAAC,SAAS,IAAI,EAAE,CAAC;AAC9C,iBAAiB,CAAC;AAClB,YAAY;AACZ,iBAAiB,IAAI,KAAK,YAAY,kBAAkB,EAAE;AAC1D,gBAAgB,IAAI,CAAC,GAAG,KAAK,CAAC,gBAAgB;AAC9C,gBAAgB,MAAM,qBAAqB,GAAG,KAAK,CAAC,OAAO,GAAG,EAAE;AAChE,gBAAgB,MAAM,oBAAoB,GAAG,KAAK,CAAC,OAAO,GAAG,EAAE;AAC/D,gBAAgB,MAAM,SAAS,GAAG,KAAK,CAAC,OAAO,GAAG,CAAC;AACnD,gBAAgB,MAAM,WAAW,GAAG,iBAAiB,CAAC,KAAK,CAAC,gBAAgB,CAAC;AAC7E,gBAAgB,IAAI,qBAAqB,EAAE;AAC3C,oBAAoB,CAAC,GAAG,KAAK,CAAC,gBAAgB;AAC9C,gBAAgB;AAChB,qBAAqB,IAAI,oBAAoB,EAAE;AAC/C,oBAAoB,CAAC,GAAG,iBAAiB;AACzC,gBAAgB;AAChB,qBAAqB,IAAI,SAAS,IAAI,WAAW,EAAE;AACnD,oBAAoB,CAAC,GAAG,iBAAiB;AACzC,gBAAgB;AAChB,gBAAgB,aAAa,CAAC,KAAK,CAAC,YAAY,CAAC;AACjD,gBAAgB,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,YAAY,EAAE,KAAK,CAAC,SAAS,CAAC;AACjE,gBAAgB,MAAM,OAAO,GAAG,KAAK,YAAY,uBAAuB;AACxE,gBAAgB,IAAI,OAAO,EAAE;AAC7B,oBAAoB,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,EAAE,KAAK,CAAC,cAAc,EAAE,KAAK,CAAC,kBAAkB,EAAE,KAAK,CAAC,gBAAgB,CAAC;AAC5H,gBAAgB;AAChB,gBAAgB,IAAI,CAAC,KAAK,iBAAiB,EAAE;AAC7C,oBAAoB,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;AAC/B,gBAAgB;AAChB,gBAAgB,MAAM,CAAC,OAAO,GAAG,EAAE,qCAAqC,EAAE,+BAA+B,GAAG,CAAC;AAC7G,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,MAAM,CAAC,EAAE,uBAAuB,CAAC,KAAK,CAAC,gBAAgB,EAAE,IAAI,KAAK,CAAC,SAAS,IAAI,EAAE,CAAC,CAAC,CAAC;AACrG,YAAY;AACZ,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,GAAG,EAAE;AACvC,YAAY,MAAM,CAAC,CAAC,oBAAoB,KAAK,CAAC,IAAI,CAAC;AACnD,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,IAAI,EAAE;AACxC,YAAY,MAAM,CAAC,CAAC,qBAAqB,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,GAAG,EAAE,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC;AAC9F,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,MAAM,EAAE;AAC1C,YAAY,MAAM,CAAC,CAAC,sBAAsB,KAAK,CAAC,QAAQ,EAAE,CAAC;AAC3D,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,KAAK,EAAE;AACzC,YAAY,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC;AACvC;AACA,YAAY,GAAG,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,CAAC;AACrD;AACA,YAAY,IAAI,KAAK,EAAE;AACvB,gBAAgB,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC;AAC9C,YAAY;AACZ,YAAY,MAAM,CAAC,EAAE,sBAAsB,GAAG,CAAC;AAC/C,QAAQ;AACR,aAAa,IAAI,WAAW,CAAC,KAAK,CAAC,EAAE;AACrC,YAAY,MAAM,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC;AAC9C,YAAY,oBAAoB,CAAC,SAAS,CAAC,KAAK,EAAE,UAAU,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC;AAChF;AACA,YAAY,MAAM,CAAC,CAAC,sBAAsB,KAAK,CAAC,EAAE,CAAC;AACnD,YAAY,MAAM,SAAS,GAAG,KAAK,CAAC,SAAS;AAC7C,YAAY,IAAI,SAAS,EAAE;AAC3B,gBAAgB,0BAA0B,CAAC,SAAS,EAAE,CAAC,cAAc,KAAK,SAAS,CAAC,cAAc,CAAC,CAAC;AACpG,gBAAgB,SAAS,CAAC,CAAC,CAAC,IAAI,EAAE;AAClC,YAAY;AACZ,YAAY,IAAI,KAAK,CAAC,QAAQ,EAAE;AAChC;AACA,gBAAgB,KAAK,MAAM,KAAK,IAAI,KAAK,CAAC,QAAQ,EAAE;AACpD,oBAAoB,MAAM,cAAc,GAAG,KAAK,CAAC,SAAS;AAC1D,oBAAoB,IAAI,cAAc,EAAE;AACxC;AACA,wBAAwB,KAAK,MAAM,KAAK,IAAI,cAAc,EAAE;AAC5D,4BAA4B,IAAI,UAAU,CAAC,KAAK,CAAC,EAAE;AACnD,gCAAgC,MAAM,eAAe,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,SAAS,CAAC;AAC/F,gCAAgC,IAAI,eAAe,KAAK,EAAE,EAAE;AAC5D,oCAAoC,SAAS,CAAC,KAAK,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC;AACzE,gCAAgC;AAChC,4BAA4B;AAC5B,wBAAwB;AACxB,wBAAwB,cAAc,CAAC,CAAC,CAAC,IAAI,EAAE;AAC/C,oBAAoB;AACpB,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,aAAa,IAAI,OAAO,QAAQ,KAAK,WAAW,IAAI,KAAK,YAAY,QAAQ,EAAE;AAC/E;AACA,YAAY,MAAM,KAAK,GAAG,EAAE;AAC5B,YAAY,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,GAAG,KAAK;AAC1C,gBAAgB,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;AAC/C,oBAAoB,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC;AAC1C,gBAAgB;AAChB,qBAAqB;AACrB,oBAAoB,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,CAAC;AAC/C,gBAAgB;AAChB,YAAY,CAAC,CAAC;AACd,YAAY,MAAM,CAAC,EAAE,yBAAyB,KAAK,CAAC;AACpD,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,eAAe,EAAE;AACnD,YAAY,MAAM,CAAC,EAAE,gCAAgC,KAAK,CAAC,QAAQ,EAAE,CAAC;AACtE,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,GAAG,EAAE;AACvC,YAAY,MAAM,CAAC,EAAE,oBAAoB,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;AAC7D,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,GAAG,EAAE;AACvC,YAAY,MAAM,QAAQ,GAAG,EAAE;AAC/B,YAAY,KAAK,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,KAAK,CAAC,OAAO,EAAE,EAAE;AAClD,gBAAgB,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;AACnC,YAAY;AACZ,YAAY,MAAM,CAAC,EAAE,oBAAoB,QAAQ,CAAC;AAClD,QAAQ;AACR,aAAa,IAAI,SAAS,CAAC,KAAK,CAAC,EAAE;AACnC,YAAY,MAAM,GAAG,GAAG;AACxB,gBAAgB,KAAK,CAAC,IAAI;AAC1B,gBAAgB,KAAK,CAAC,GAAG;AACzB,gBAAgB,KAAK,CAAC,QAAQ;AAC9B,gBAAgB,KAAK,CAAC,UAAU;AAChC,gBAAgB,KAAK,CAAC,QAAQ;AAC9B,gBAAgB,KAAK,CAAC,MAAM,IAAI,IAAI;AACpC,aAAa;AACb,YAAY,OAAO,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,IAAI,EAAE;AAChD,gBAAgB,GAAG,CAAC,GAAG,EAAE;AACzB,YAAY;AACZ,YAAY,MAAM,CAAC,EAAE,wBAAwB,GAAG,CAAC;AACjD,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,IAAI,EAAE;AACxC,YAAY,MAAM,GAAG,GAAG;AACxB,gBAAgB,KAAK,CAAC,KAAK;AAC3B,gBAAgB,KAAK,CAAC,OAAO;AAC7B,gBAAgB,KAAK,CAAC,OAAO;AAC7B,gBAAgB,KAAK,CAAC,IAAI;AAC1B,gBAAgB,KAAK,CAAC,gBAAgB,CAAC;AACvC,gBAAgB,KAAK,CAAC,OAAO;AAC7B,aAAa;AACb,YAAY,OAAO,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,IAAI,EAAE;AAChD,gBAAgB,GAAG,CAAC,GAAG,EAAE;AACzB,YAAY;AACZ,YAAY,MAAM,CAAC,EAAE,qBAAqB,GAAG,CAAC;AAC9C,QAAQ;AACR,aAAa,IAAI,SAAS,CAAC,KAAK,CAAC,EAAE;AACnC,YAAY,MAAM,YAAY,GAAG,cAAc,CAAC,KAAK,EAAE,SAAS,EAAE,CAAC,QAAQ,EAAE,aAAa,KAAK;AAC/F,gBAAgB,OAAO,IAAI,aAAa,CAAC,EAAE,wBAAwB,QAAQ,EAAE,aAAa,CAAC;AAC3F,YAAY,CAAC,CAAC;AACd,YAAY,MAAM,CAAC,CAAC,2BAA2B,YAAY,CAAC;AAC5D,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,aAAa,EAAE;AACjD,YAAY,IAAI,KAAK,CAAC,MAAM,KAAK,EAAE,yBAAyB;AAC5D,gBAAgB,MAAM,CAAC,EAAE,yBAAyB,CAAC,KAAK,CAAC,UAAU,EAAE,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC;AACrG,YAAY;AACZ,iBAAiB,IAAI,KAAK,CAAC,MAAM,KAAK,EAAE,iCAAiC;AACzE,gBAAgB,IAAI,KAAK,CAAC,KAAK,EAAE;AACjC,oBAAoB,MAAM,CAAC,EAAE,iCAAiC,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;AAC5G,gBAAgB;AAChB,qBAAqB,IAAI,KAAK,CAAC,UAAU,EAAE;AAC3C;AACA,oBAAoB,MAAM,KAAK,GAAG,MAAM,CAAC,OAAO;AAChD,oBAAoB,MAAM,GAAG,MAAM,CAAC,QAAQ;AAC5C,oBAAoB,UAAU,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC;AACpD,gBAAgB;AAChB,qBAAqB;AACrB,oBAAoB,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC;AAChD,oBAAoB,MAAM,MAAM,CAAC,EAAE,8CAA8C;AACjF,gBAAgB;AAChB,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,MAAM,CAAC,EAAE,wBAAwB,CAAC,KAAK,CAAC,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;AACnF,YAAY;AACZ,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,UAAU,EAAE;AAC9C,YAAY,IAAI,GAAG,GAAG,EAAE;AACxB,YAAY,KAAK,MAAM,CAAC,IAAI,KAAK,EAAE;AACnC,gBAAgB,GAAG,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC;AAC7C,YAAY;AACZ,YAAY,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;AACpD,YAAY,MAAM,CAAC,EAAE,2BAA2B,GAAG,CAAC;AACpD,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,oBAAoB,EAAE;AACxD,YAAY,MAAM,GAAG,GAAG,KAAK,CAAC,KAAK;AACnC;AACA,YAAY,IAAI,kBAAkB,CAAC,GAAG,EAAE,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,EAAE;AAC/D,gBAAgB,IAAI,YAAY,GAAG,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC;AACxD,gBAAgB,IAAI,YAAY,KAAK,SAAS,EAAE;AAChD,oBAAoB,YAAY,GAAG,aAAa,EAAE;AAClD,oBAAoB,YAAY,CAAC,GAAG,CAAC,GAAG,EAAE,YAAY,CAAC;AACvD,oBAAoB,WAAW,CAAC,YAAY,CAAC,GAAG,EAAE;AAClD,gBAAgB;AAChB,gBAAgB,MAAM,CAAC,CAAC,2BAA2B,YAAY,CAAC;AAChE,YAAY;AACZ,QAAQ;AACR,aAAa,IAAI,aAAa,CAAC,KAAK,CAAC,EAAE;AACvC,YAAY,MAAM,CAAC,CAAC,yBAAyB,CAAC,2BAA2B;AACzE,QAAQ;AACR,aAAa;AACb,YAAY,MAAM,MAAM,CAAC,EAAE,yCAAyC,CAAC,OAAO,KAAK,CAAC,CAAC;AACnF,QAAQ;AACR,IAAI,CAAC;AACL,IAAI,SAAS,cAAc,CAAC,OAAO,EAAE,SAAS,EAAE,YAAY,EAAE;AAC9D,QAAQ,MAAM,YAAY,GAAG,aAAa,EAAE;AAC5C,QAAQ;AACR,aAAa,IAAI,CAAC,CAAC,aAAa,KAAK;AACrC,YAAY,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC;AACpC,YAAY,WAAW,CAAC,YAAY,CAAC,GAAG,SAAS,CAAC,YAAY,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;AACpF,QAAQ,CAAC;AACT,aAAa,KAAK,CAAC,CAAC,GAAG,KAAK;AAC5B,YAAY,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC;AACpC,YAAY,WAAW,CAAC,YAAY,CAAC,GAAG,SAAS,CAAC,YAAY,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;AAC3E,QAAQ,CAAC,CAAC;AACV,QAAQ,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC;AAC7B,QAAQ,OAAO,YAAY;AAC3B,IAAI;AACJ,IAAI,MAAM,WAAW,GAAG,YAAY;AACpC,QAAQ,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC;AAC3B,QAAQ,MAAM,EAAE,OAAO,EAAE,GAAG,oBAAoB;AAChD,QAAQ,OAAO,OAAO,GAAG,OAAO,CAAC,MAAM,IAAI,QAAQ,CAAC,IAAI,EAAE;AAC1D,YAAY,IAAI,OAAO,KAAK,CAAC,EAAE;AAC/B,gBAAgB,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC;AACnC,YAAY;AACZ,YAAY,IAAI,SAAS,GAAG,KAAK;AACjC,YAAY,OAAO,OAAO,GAAG,OAAO,CAAC,MAAM,EAAE,OAAO,EAAE,EAAE;AACxD,gBAAgB,IAAI,SAAS,EAAE;AAC/B,oBAAoB,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC;AACvC,gBAAgB;AAChB,qBAAqB;AACrB,oBAAoB,SAAS,GAAG,IAAI;AACpC,gBAAgB;AAChB,gBAAgB,UAAU,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,OAAO,CAAC;AACrD,YAAY;AACZ,YAAY,IAAI,QAAQ,CAAC,IAAI,EAAE;AAC/B,gBAAgB,IAAI;AACpB,oBAAoB,MAAM,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC;AAChD,gBAAgB;AAChB,gBAAgB,MAAM;AACtB;AACA,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,QAAQ,IAAI,WAAW,CAAC,MAAM,EAAE;AAChC,YAAY,IAAI,OAAO,GAAG,WAAW,CAAC,MAAM,GAAG,CAAC;AAChD,YAAY,OAAO,OAAO,IAAI,CAAC,IAAI,WAAW,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE;AAChE,gBAAgB,OAAO,EAAE;AACzB,YAAY;AACZ,YAAY,IAAI,OAAO,IAAI,CAAC,EAAE;AAC9B,gBAAgB,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC;AACnC,gBAAgB,QAAQ,CAAC,KAAK,CAAC,EAAE,6BAA6B,GAAG,CAAC;AAClE,gBAAgB,MAAM,GAAG,GAAG,OAAO,KAAK,WAAW,CAAC,MAAM,GAAG,CAAC,GAAG,WAAW,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,GAAG,CAAC,CAAC;AAChH;AACA,gBAAgB,WAAW,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,KAAK,KAAK;AAClD,oBAAoB,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AACjD,gBAAgB,CAAC,CAAC;AAClB,YAAY;AACZ,QAAQ;AACR,QAAQ,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC;AAC3B,IAAI,CAAC;AACL,IAAI,MAAM,WAAW,EAAE;AACvB;AACO,MAAM,aAAa,CAAC;AAC3B,IAAI,MAAM;AACV,IAAI,UAAU;AACd,IAAI,OAAO;AACX,IAAI,SAAS;AACb,IAAI,KAAK;AACT,IAAI,WAAW,CAAC,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,GAAG,IAAI,EAAE,KAAK,GAAG,IAAI,EAAE;AAC7E,QAAQ,IAAI,CAAC,MAAM,GAAG,MAAM;AAC5B,QAAQ,IAAI,CAAC,UAAU,GAAG,UAAU;AACpC,QAAQ,IAAI,CAAC,OAAO,GAAG,OAAO;AAC9B,QAAQ,IAAI,CAAC,SAAS,GAAG,SAAS;AAClC,QAAQ,IAAI,CAAC,KAAK,GAAG,KAAK;AAC1B,IAAI;AACJ;AACA,SAAS,0BAA0B,CAAC,MAAM,EAAE,KAAK,EAAE;AACnD,IAAI,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,KAAK;AACpC,QAAQ,MAAM,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK;AACpD,YAAY,IAAI,IAAI;AACpB,YAAY,IAAI,GAAG,CAAC,SAAS,EAAE;AAC/B,gBAAgB,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC;AAC3C,YAAY;AACZ,iBAAiB,IAAI,gBAAgB,IAAI,KAAK,EAAE;AAChD,gBAAgB,IAAI,GAAG,KAAK,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC;AACrD,YAAY;AACZ,YAAY,IAAI,IAAI,KAAK,SAAS,EAAE;AACpC,gBAAgB,IAAI,GAAG,iBAAiB;AACxC,YAAY;AACZ,YAAY,OAAO,CAAC,IAAI,CAAC;AACzB,QAAQ,CAAC,CAAC;AACV,IAAI,CAAC,CAAC;AACN;AACA,MAAM,0BAA0B,GAAG,CAAC,SAAS,EAAE,QAAQ,KAAK;AAC5D,IAAI,KAAK,MAAM,KAAK,IAAI,SAAS,EAAE;AACnC,QAAQ,IAAI,UAAU,CAAC,KAAK,CAAC,EAAE;AAC/B,YAAY,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;AACtD,gBAAgB,MAAM,QAAQ,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;AAC7C,gBAAgB,MAAM,SAAS,GAAG,KAAK,CAAC,CAAC,CAAC;AAC1C,gBAAgB,IAAI,SAAS,IAAI,IAAI;AACrC,oBAAoB,OAAO,SAAS,KAAK,QAAQ;AACjD;AACA,qBAAqB,QAAQ,KAAK,aAAa;AAC/C,wBAAwB,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC,EAAE;AAC9D,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB,QAAQ,CAAC,SAAS,CAAC;AACnC,YAAY;AACZ,QAAQ;AACR,IAAI;AACJ,CAAC;AACD,MAAM,UAAU,GAAG,CAAC,KAAK,KAAK,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,eAAe,CAAC,GAAG,EAAE;AAC9B;AACA;AACA;AACA;AACA,IAAI,MAAM,SAAS,GAAG,MAAM,CAAC,cAAc,CAAC,GAAG,CAAC;AAChD,IAAI,OAAO,SAAS,IAAI,IAAI,IAAI,SAAS,KAAK,MAAM,CAAC,SAAS,IAAI,SAAS,KAAK,KAAK,CAAC,SAAS;AAC/F;AACA,SAAS,UAAU,CAAC,KAAK,EAAE;AAC3B,IAAI,OAAO,SAAS,IAAI,KAAK,IAAI,KAAK,CAAC,OAAO,KAAK,UAAU;AAC7D;AACA,SAAS,mBAAmB,CAAC,oBAAoB,EAAE,KAAK,EAAE;AAC1D;AACA,IAAI,IAAI,KAAK,CAAC,SAAS,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;AACvD,QAAQ,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;AAChD,IAAI;AACJ,IAAI,MAAM,QAAQ,GAAG,oBAAoB,CAAC,WAAW,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC;AACzG,IAAI,OAAO,CAAC,QAAQ,EAAE,KAAK,CAAC,MAAM,CAAC;AACnC;AACA,SAAS,oBAAoB,CAAC,aAAa,EAAE;AAC7C,IAAI,IAAI,wBAAwB,GAAG,IAAI;AACvC,IAAI,IAAI,aAAa,EAAE;AACvB,QAAQ,KAAK,MAAM,CAAC,UAAU,EAAE,MAAM,CAAC,IAAI,aAAa,EAAE;AAC1D,YAAY,IAAI,MAAM,CAAC,CAAC,uCAAuC,EAAE;AACjE,gBAAgB,wBAAwB,KAAK,IAAI,GAAG,EAAE;AACtD,gBAAgB,wBAAwB,CAAC,GAAG,CAAC,UAAU,EAAE,MAAM,CAAC;AAChE,YAAY;AACZ,QAAQ;AACR,IAAI;AACJ,IAAI,OAAO,wBAAwB;AACnC;AACA,MAAM,oBAAoB,CAAC;AAC3B,IAAI,KAAK;AACT,IAAI,WAAW,CAAC,KAAK,EAAE;AACvB,QAAQ,IAAI,CAAC,KAAK,GAAG,KAAK;AAC1B,IAAI;AACJ;AACA;AACO,MAAM,qBAAqB,GAAG,CAAC,GAAG,KAAK,IAAI,oBAAoB,CAAC,GAAG,CAAC;;AC3sBpE,IAAI,QAAQ,GAAG,CAAC,GAAG,KAAK,KAAK;AACpC;AACA;AACA;AACA;AACO,MAAM,OAAO,CAAC;AACrB,IAAI,MAAM;AACV,IAAI,WAAW;AACf;AACA,IAAI,MAAM,EAAE;AACZ,QAAQ,IAAI,CAAC,MAAM,GAAG,MAAM;AAC5B,IAAI;AACJ;AACO,MAAM,0BAA0B,GAAG;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA,iBAAiB,EAAE,qBAAqB,EAAE,OAAO,EAAE,OAAO,EAAE,aAAa,EAAE,MAAM,KAAK;AACtF,IAAI,IAAI,CAAC,MAAM,EAAE;AACjB,QAAQ,MAAM,MAAM,GAAG,EAAE;AACzB,QAAQ,MAAM,GAAG;AACjB,YAAY,KAAK,EAAE,CAAC,IAAI,KAAK,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;AAC9C,YAAY,QAAQ,EAAE,MAAM,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC;AAC3C,SAAS;AACT,IAAI;AACJ,IAAI,MAAM,WAAW,GAAG,IAAI,GAAG,EAAE;AACjC,IAAI,MAAM,SAAS,GAAG,IAAI,GAAG,EAAE;AAC/B,IAAI,MAAM,OAAO,GAAG,EAAE;AACtB,IAAI,MAAM,KAAK,GAAG,EAAE;AACpB,IAAI,MAAM,UAAU,GAAG,CAAC,GAAG,KAAK,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC;AACpD,IAAI,MAAM,UAAU,GAAG,CAAC,GAAG,EAAE,MAAM,EAAE,KAAK,KAAK;AAC/C,QAAQ,MAAM,GAAG,GAAG,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE;AACxD,QAAQ,WAAW,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC;AACjC,QAAQ,OAAO,GAAG;AAClB,IAAI,CAAC;AACL;AACA;AACA;AACA;AACA,IAAI,MAAM,eAAe,GAAG,CAAC,GAAG,KAAK;AACrC;AACA,QAAQ,MAAM,IAAI,GAAG,EAAE;AACvB,QAAQ,OAAO,GAAG,CAAC,QAAQ,EAAE;AAC7B,YAAY,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC;AACrC,YAAY,GAAG,GAAG,GAAG,CAAC,QAAQ;AAC9B,QAAQ;AACR;AACA,QAAQ,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC;AACjC,QAAQ,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;AAC7B,IAAI,CAAC;AACL,IAAI,MAAM,eAAe,GAAG,CAAC,GAAG,EAAE,KAAK,KAAK;AAC5C,QAAQ,MAAM,IAAI,GAAG,eAAe,CAAC,GAAG,CAAC;AACzC,QAAQ,IAAI,KAAK,KAAK,SAAS,EAAE;AACjC,YAAY,KAAK,GAAG,KAAK,CAAC,MAAM;AAChC,QAAQ;AACR,QAAQ,KAAK,CAAC,KAAK,CAAC,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC;AACxC,QAAQ,GAAG,CAAC,QAAQ,GAAG,IAAI;AAC3B,QAAQ,GAAG,CAAC,OAAO,GAAG,KAAK;AAC3B,IAAI,CAAC;AACL,IAAI,MAAM,SAAS,IAAI,CAAC,GAAG,EAAE,SAAS,KAAK;AAC3C,QAAQ,IAAI,IAAI,GAAG,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC;AACvC,QAAQ,IAAI,KAAK;AACjB,QAAQ,IAAI,CAAC,IAAI,EAAE;AACnB,YAAY,KAAK,GAAG,KAAK,CAAC,MAAM;AAChC,YAAY,IAAI,GAAG;AACnB,gBAAgB,OAAO,EAAE,KAAK;AAC9B;AACA;AACA,aAAa;AACb,YAAY,WAAW,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC;AACtC,YAAY,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC;AAC3B,QAAQ;AACR,aAAa;AACb,YAAY,IAAI,IAAI,CAAC,QAAQ,EAAE;AAC/B,gBAAgB,eAAe,CAAC,IAAI,CAAC;AACrC,YAAY;AACZ,YAAY,KAAK,GAAG,IAAI,CAAC,OAAO;AAChC,QAAQ;AACR,QAAQ,OAAO,SAAS,GAAG,IAAI,GAAG,KAAK;AACvC,IAAI,CAAC,CAAC;AACN,IAAI,MAAM,SAAS,IAAI,eAAe,GAAG,CAAC,GAAG,KAAK,GAAG,YAAY,eAAe,IAAI,MAAM,KAAK,CAAC,CAAC;AACjG,IAAI,QAAQ,IAAI,iBAAiB,GAAG,CAAC,GAAG,KAAK,GAAG,YAAY,iBAAiB,IAAI,MAAM,KAAK,CAAC,CAAC;AAC9F,IAAI,OAAO;AACX,QAAQ,MAAM,WAAW,GAAG;AAC5B,YAAY,OAAO,MAAM,SAAS,CAAC,IAAI,CAAC;AACxC,QAAQ,CAAC;AACT,QAAQ,WAAW,EAAE,SAAS;AAC9B,QAAQ,UAAU,EAAE,QAAQ;AAC5B,QAAQ,uBAAuB,EAAE,qBAAqB;AACtD,QAAQ,UAAU;AAClB,QAAQ,OAAO,EAAE,KAAK;AACtB,QAAQ,UAAU;AAClB,QAAQ,WAAW,EAAE,CAAC,GAAG,KAAK;AAC9B,YAAY,MAAM,EAAE,GAAG,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC;AAC3C,YAAY,OAAO,EAAE,KAAK,EAAE,CAAC,QAAQ,GAAG,SAAS,GAAG,EAAE,CAAC,OAAO,CAAC;AAC/D,QAAQ,CAAC;AACT,QAAQ,eAAe;AACvB,QAAQ,SAAS;AACjB,QAAQ,SAAS,EAAE,OAAO;AAC1B,QAAQ,WAAW,EAAE,CAAC,OAAO,EAAE,QAAQ,EAAE,EAAE,KAAK;AAChD,YAAY,MAAM,QAAQ,GAAG,OAAO,IAAI,IAAI;AAC5C,YAAY,IAAI,QAAQ,EAAE;AAC1B,gBAAgB,OAAO,GAAG,EAAE,CAAC,UAAU,IAAI,EAAE,CAAC,QAAQ,EAAE;AACxD,YAAY;AACZ,YAAY,IAAI,EAAE,GAAG,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC;AAC3C,YAAY,IAAI,EAAE,KAAK,SAAS,EAAE;AAClC,gBAAgB,EAAE,GAAG,OAAO,CAAC,MAAM;AACnC,gBAAgB,SAAS,CAAC,GAAG,CAAC,OAAO,EAAE,EAAE,CAAC;AAC1C,gBAAgB,IAAI,QAAQ,EAAE;AAC9B,oBAAoB,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC;AACzC,gBAAgB;AAChB,qBAAqB;AACrB,oBAAoB,IAAI,IAAI,GAAG,GAAG;AAClC,oBAAoB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,EAAE,CAAC,EAAE,EAAE;AACvD,wBAAwB,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,IAAI,IAAI,CAAC;AACzD,oBAAoB;AACpB,oBAAoB,OAAO,CAAC,IAAI,EAAE,IAAI,IAAI,KAAK,GAAG,OAAO,EAAE;AAC3D,gBAAgB;AAChB,YAAY;AACZ,YAAY,OAAO,EAAE;AACrB,QAAQ,CAAC;AACT,QAAQ,QAAQ,EAAE,MAAM;AACxB,QAAQ,WAAW,EAAE,IAAI,GAAG,EAAE;AAC9B,QAAQ,YAAY,EAAE,IAAI,GAAG,EAAE;AAC/B,QAAQ,WAAW,EAAE,IAAI,GAAG,EAAE;AAC9B,QAAQ,eAAe,EAAE,IAAI,GAAG,EAAE;AAClC,QAAQ,eAAe,EAAE,aAAa;AACtC,QAAQ,SAAS,EAAE,OAAO;AAC1B,QAAQ,SAAS,EAAE,OAAO;AAC1B,KAAK;AACL,CAAC;;ACnID;AACO,MAAM,gBAAgB,CAAC;AAC9B,IAAI,SAAS;AACb,IAAI,WAAW;AACf,IAAI,eAAe;AACnB;AACA,IAAI,QAAQ;AACZ;AACA,IAAI,eAAe;AACnB,IAAI,YAAY;AAChB,IAAI,iBAAiB,GAAG,CAAC;AACzB,IAAI,cAAc,GAAG,IAAI;AACzB,IAAI,WAAW,GAAG,IAAI;AACtB,IAAI,YAAY,GAAG,CAAC;AACpB,IAAI,WAAW,CAAC,YAAY,EAAE,UAAU,EAAE,MAAM,EAAE;AAClD,QAAQ,IAAI,CAAC,YAAY,GAAG,UAAU;AACtC,QAAQ,IAAI,CAAC,QAAQ,GAAG,MAAM;AAC9B,QAAQ,IAAI,CAAC,SAAS,GAAG,OAAO;AAChC,QAAQ,IAAI,CAAC,eAAe,GAAG,IAAI,OAAO,EAAE;AAC5C,QAAQ,IAAI,CAAC,eAAe,GAAG,CAAC,GAAG,KAAK;AACxC,YAAY,MAAM,KAAK,CAAC,iBAAiB,CAAC;AAC1C,QAAQ,CAAC;AACT,QAAQ,MAAM,UAAU,GAAG,IAAI,UAAU,EAAE;AAC3C,QAAQ,MAAM,aAAa,GAAG,IAAI,GAAG,EAAE;AACvC,QAAQ,MAAM,aAAa,GAAG,IAAI,GAAG,EAAE;AACvC,QAAQ,IAAI,CAAC,WAAW,GAAG,eAAe,CAAC,IAAI,EAAE,YAAY,EAAE,UAAU,EAAE,aAAa,EAAE,aAAa,CAAC;AACxG,IAAI;AACJ,IAAI,gBAAgB,CAAC,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;AACzD,QAAQ,OAAO,wBAAwB,CAAC,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC;AACjF,IAAI;AACJ,IAAI,uBAAuB,CAAC,eAAe,EAAE,iBAAiB,EAAE,qBAAqB,EAAE,MAAM,EAAE;AAC/F,QAAQ,OAAO,0BAA0B,CAAC,eAAe,EAAE,iBAAiB,EAAE,qBAAqB,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,eAAe,EAAE,MAAM,CAAC;AAC5L,IAAI;AACJ;;ACtCO,SAAS,gBAAgB,CAAC,KAAK,EAAE;AACxC,IAAI,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC;AACxC;;ACEO,MAAM,oBAAoB,GAAG,CAAC,GAAG,EAAE,aAAa,EAAE,uBAAuB,EAAE,GAAG,KAAK;AAC1F,IAAI,MAAM,IAAI,GAAG,GAAG,CAAC,mBAAmB,EAAE;AAC1C,IAAI,OAAO,gBAAgB,CAAC,GAAG,EAAE,IAAI,EAAE,aAAa,EAAE,uBAAuB,EAAE,GAAG,CAAC,KAAK,CAAC;AACzF,CAAC;AACM,MAAM,sBAAsB,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,SAAS,KAAK;AAC/D,IAAI,MAAM,IAAI,GAAG,GAAG,CAAC,mBAAmB,EAAE;AAC1C,IAAI,MAAM,CAAC,YAAY,CAAC,GAAG,SAAS,CAAC,kBAAkB,CAAC;AACxD,IAAI,MAAM,QAAQ,GAAG,GAAG,CAAC,KAAK;AAC9B,IAAI,IAAI,QAAQ,IAAI,QAAQ,CAAC,QAAQ,EAAE;AACvC,QAAQ,OAAO,QAAQ,CAAC,QAAQ;AAChC,IAAI;AACJ,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,YAAY,CAAC;AAC5C,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,QAAQ,CAAC;AACzC,IAAI,IAAI,GAAG,CAAC,GAAG,KAAK,IAAI,EAAE;AAC1B,QAAQ,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,GAAG,CAAC,GAAG,CAAC;AAC1C,IAAI;AACJ,IAAI,MAAM,cAAc,GAAG,GAAG,CAAC,WAAW,CAAC,CAAC,4BAA4B,IAAI,EAAE,YAAY,EAAE,QAAQ,CAAC;AACrG,IAAI,OAAO,eAAe,CAAC,cAAc,CAAC;AAC1C,CAAC;;ACGD,MAAM,mBAAmB,CAAC;AAC1B,IAAI,aAAa;AACjB,IAAI,gBAAgB;AACpB,IAAI,WAAW,CAAC,aAAa,EAAE,gBAAgB,EAAE;AACjD,QAAQ,IAAI,CAAC,aAAa,GAAG,aAAa;AAC1C,QAAQ,IAAI,CAAC,gBAAgB,GAAG,gBAAgB;AAChD,IAAI;AACJ;AACA,MAAM,gBAAgB,CAAC;AACvB;AACA;AACO,eAAe,QAAQ,CAAC,GAAG,EAAE,KAAK,EAAE,OAAO,EAAE;AACpD,IAAI,MAAM,KAAK,GAAG,CAAC,KAAK,CAAC;AACzB,IAAI,MAAM,OAAO,GAAG,CAAC,KAAK,KAAK,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;AAChD,IAAI,MAAM,KAAK,GAAG,YAAY;AAC9B,QAAQ,OAAO,KAAK,CAAC,MAAM,EAAE;AAC7B,YAAY,MAAM,KAAK,GAAG,KAAK,CAAC,GAAG,EAAE;AACrC,YAAY,IAAI,KAAK,YAAY,mBAAmB,EAAE;AACtD,gBAAgB,OAAO,CAAC,kBAAkB,GAAG,KAAK,CAAC,aAAa;AAChE,gBAAgB,OAAO,CAAC,oBAAoB,GAAG,KAAK,CAAC,gBAAgB;AACrE,gBAAgB;AAChB,YAAY;AACZ,iBAAiB,IAAI,KAAK,KAAK,gBAAgB,EAAE;AACjD;AACA;AACA;AACA;AACA,gBAAgB,MAAM,OAAO,GAAG,KAAK,CAAC,GAAG,EAAE;AAC3C,gBAAgB,MAAM,cAAc,CAAC,MAAM,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;AACjE,gBAAgB;AAChB,YAAY;AACZ,iBAAiB,IAAI,OAAO,KAAK,KAAK,UAAU,EAAE;AAClD,gBAAgB,IAAI,KAAK,KAAK,OAAO,EAAE;AACvC,oBAAoB,KAAK,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,GAAG,EAAE,CAAC;AACjD,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB,MAAM,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC;AACtC,gBAAgB;AAChB,YAAY;AACZ,YAAY,cAAc,CAAC,GAAG,EAAE,OAAO,EAAE,KAAK,EAAE;AAChD,gBAAgB,WAAW,EAAE,OAAO,CAAC,kBAAkB;AACvD,gBAAgB,oBAAoB,EAAE,OAAO,CAAC,oBAAoB;AAClE,aAAa,CAAC;AACd,QAAQ;AACR,IAAI,CAAC;AACL,IAAI,MAAM,KAAK,EAAE;AACjB;AACA,SAAS,cAAc,CAAC,GAAG,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE;AACtD;AACA,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,SAAS,EAAE;AAC/C,QAAQ,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC;AACxB,IAAI;AACJ,SAAS,IAAI,OAAO,KAAK,KAAK,SAAS,EAAE;AACzC,QAAQ,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC;AACxB,IAAI;AACJ,SAAS,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;AACxC,QAAQ,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AACnC,IAAI;AACJ,SAAS,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;AACxC,QAAQ,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC;AAC3B,IAAI;AACJ,SAAS,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;AACxC,QAAQ,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;AAClC,YAAY,KAAK,IAAI,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;AACxD,gBAAgB,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AACjC,YAAY;AACZ,QAAQ;AACR,aAAa,IAAI,QAAQ,CAAC,KAAK,CAAC,EAAE;AAClC,YAAY,GAAG,CAAC,YAAY,CAAC,KAAK,GAAG,CAAC,UAAU,EAAE,GAAG,iCAAiC,GAAG,WAAW,CAAC;AACrG,YAAY,MAAM,UAAU,GAAG,GAAG,CAAC,mBAAmB,EAAE;AACxD,YAAY,MAAM,eAAe,GAAG,KAAK,YAAY,iBAAiB,GAAG,KAAK,CAAC,gBAAgB,EAAE,GAAG,KAAK;AACzG,YAAY,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC;AACtC,YAAY,OAAO,CAAC,MAAM,wBAAwB,CAAC,eAAe,EAAE,UAAU,EAAE,GAAG,6BAA6B,GAAG,CAAC,CAAC;AACrH,YAAY,OAAO,CAAC,gBAAgB,CAAC;AACrC,QAAQ;AACR,aAAa,IAAI,SAAS,CAAC,KAAK,CAAC,EAAE;AACnC,YAAY,GAAG,CAAC,YAAY,CAAC,KAAK,GAAG,CAAC,UAAU,EAAE,GAAG,2BAA2B,GAAG,WAAW,CAAC;AAC/F,YAAY,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC;AACtC,YAAY,OAAO,CAAC,KAAK,CAAC;AAC1B,YAAY,OAAO,CAAC,OAAO,CAAC;AAC5B,YAAY,OAAO,CAAC,MAAM,GAAG,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;AACzD,QAAQ;AACR,aAAa,IAAI,gBAAgB,CAAC,KAAK,CAAC,EAAE;AAC1C,YAAY,OAAO,CAAC,YAAY;AAChC,gBAAgB,WAAW,MAAM,KAAK,IAAI,KAAK,EAAE;AACjD,oBAAoB,MAAM,QAAQ,CAAC,GAAG,EAAE,KAAK,EAAE;AAC/C,wBAAwB,kBAAkB,EAAE,OAAO,CAAC,WAAW;AAC/D,wBAAwB,oBAAoB,EAAE,OAAO,CAAC,oBAAoB;AAC1E,qBAAqB,CAAC;AACtB,oBAAoB,GAAG,CAAC,WAAW,CAAC,aAAa,CAAC;AAClD,gBAAgB;AAChB,YAAY,CAAC,CAAC;AACd,QAAQ;AACR,aAAa;AACb,YAAY,MAAM,GAAG,GAAG,KAAK;AAC7B,YAAY,MAAM,IAAI,GAAG,GAAG,CAAC,IAAI;AACjC;AACA,YAAY,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;AAC1C,gBAAgB,8BAA8B,CAAC,GAAG,EAAE,OAAO,CAAC,WAAW,CAAC;AACxE,gBAAgB,IAAI,sBAAsB,GAAG,IAAI;AACjD,gBAAgB,IAAI,KAAK,IAAI,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,IAAI,KAAK,MAAM,EAAE;AAC7D,oBAAoB,sBAAsB,GAAG,sBAAsB,CAAC,GAAG,CAAC,GAAG,CAAC;AAC5E,oBAAoB,IAAI,UAAU,EAAE;AACpC,wBAAwB,4BAA4B,CAAC,GAAG,EAAE,sBAAsB,CAAC;AACjF,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB,MAAM,SAAS,GAAG,GAAG,CAAC,WAAW,CAAC,IAAI,EAAE,kBAAkB,CAAC,GAAG,CAAC,QAAQ,EAAE,GAAG,CAAC,UAAU,EAAE;AACzG,oBAAoB,gBAAgB,EAAE,GAAG,CAAC,gBAAgB;AAC1D,oBAAoB,aAAa,EAAE,OAAO,CAAC,WAAW;AACtD,oBAAoB,GAAG,EAAE,GAAG,CAAC,GAAG;AAChC,oBAAoB,MAAM,EAAE,GAAG,CAAC,MAAM;AACtC,iBAAiB,CAAC,EAAE,oBAAoB,CAAC,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,QAAQ,EAAE;AACvE,oBAAoB,gBAAgB,EAAE,GAAG,CAAC,gBAAgB;AAC1D,oBAAoB,aAAa,EAAE,OAAO,CAAC,WAAW;AACtD,iBAAiB,CAAC,EAAE,sBAAsB,CAAC;AAC3C,gBAAgB,IAAI,SAAS,EAAE;AAC/B,oBAAoB,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC;AAC3C,gBAAgB;AAChB,gBAAgB,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC;AACzC,gBAAgB,IAAI,IAAI,KAAK,MAAM,EAAE;AACrC,oBAAoB,GAAG,CAAC,2BAA2B,EAAE;AACrD,oBAAoB,GAAG,CAAC,gBAAgB,EAAE;AAC1C,oBAAoB,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC;AACpD,gBAAgB;AAChB,qBAAqB,IAAI,IAAI,KAAK,MAAM,EAAE;AAC1C,oBAAoB,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC;AACpD,gBAAgB;AAChB,qBAAqB,IAAI,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,GAAG,CAAC,iBAAiB,EAAE;AAChE,oBAAoB,GAAG,CAAC,2BAA2B,EAAE;AACrD,oBAAoB,GAAG,CAAC,gBAAgB,EAAE;AAC1C,oBAAoB,GAAG,CAAC,iBAAiB,GAAG,IAAI;AAChD,gBAAgB;AAChB,gBAAgB,MAAM,QAAQ,GAAG,GAAG,CAAC,QAAQ;AAC7C,gBAAgB,QAAQ,IAAI,IAAI,IAAI,OAAO,CAAC,QAAQ,CAAC;AACrD,YAAY;AACZ,iBAAiB,IAAI,UAAU,CAAC,IAAI,CAAC,EAAE;AACvC,gBAAgB,IAAI,IAAI,KAAK,QAAQ,EAAE;AACvC,oBAAoB,IAAI,KAAK,GAAG,GAAG,CAAC,GAAG,IAAI,IAAI,GAAG,CAAC,WAAW,EAAE,GAAG,CAAC,GAAG,CAAC,GAAG,WAAW;AACtF,oBAAoB,IAAI,KAAK,EAAE;AAC/B,wBAAwB,KAAK,GAAG,CAAC,UAAU,EAAE,GAAG,6BAA6B,GAAG,KAAK,CAAC,CAAC;AACvF,oBAAoB;AACpB,oBAAoB,GAAG,CAAC,YAAY,CAAC,KAAK,CAAC;AAC3C,oBAAoB,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC;AAC9C;AACA,oBAAoB,MAAM,QAAQ,GAAG,GAAG,CAAC,QAAQ;AACjD,oBAAoB,QAAQ,IAAI,IAAI,IAAI,OAAO,CAAC,QAAQ,CAAC;AACzD,gBAAgB;AAChB,qBAAqB,IAAI,IAAI,KAAK,IAAI,EAAE;AACxC,oBAAoB,MAAM,cAAc,GAAG,OAAO,CAAC,oBAAoB,IAAI,GAAG,CAAC,sCAAsC,CAAC,KAAK,EAAE;AAC7H,oBAAoB,IAAI,cAAc,EAAE;AACxC,wBAAwB,MAAM,MAAM,GAAG,cAAc,CAAC,aAAa,CAAC,EAAE,IAAI,EAAE;AAC5E,wBAAwB,MAAM,eAAe,GAAG,KAAK,GAAG,CAAC,UAAU,EAAE,GAAG,8BAA8B,GAAG,EAAE;AAC3G,wBAAwB,eAAe,CAAC,IAAI,CAAC,WAAW,EAAE,MAAM,CAAC;AACjE,wBAAwB,GAAG,CAAC,cAAc,CAAC,eAAe,CAAC;AAC3D,wBAAwB,MAAM,IAAI,GAAG,cAAc,CAAC,aAAa;AACjE,wBAAwB,MAAM,IAAI,GAAG,GAAG,CAAC,mBAAmB,EAAE;AAC9D,wBAAwB,MAAM,QAAQ,GAAG,WAAW,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,CAAC;AACpE,wBAAwB,eAAe,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC;AAC7D,wBAAwB,OAAO,CAAC,IAAI,mBAAmB,CAAC,OAAO,CAAC,WAAW,EAAE,OAAO,CAAC,oBAAoB,CAAC,CAAC;AAC3G,wBAAwB,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC;AACpD,wBAAwB,MAAM,mBAAmB,GAAG,GAAG,CAAC,QAAQ,IAAI,IAAI;AACxE,wBAAwB,MAAM,YAAY,GAAG,cAAc,CAAC,sBAAsB,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAI,mBAAmB;AACzH,wBAAwB,IAAI,mBAAmB,IAAI,YAAY,KAAK,mBAAmB,EAAE;AACzF,4BAA4B,GAAG,CAAC,sBAAsB,CAAC,cAAc,EAAE,YAAY,EAAE,mBAAmB,CAAC;AACzG,wBAAwB;AACxB,wBAAwB,OAAO,CAAC,YAAY,CAAC;AAC7C,wBAAwB,OAAO,CAAC,IAAI,mBAAmB,CAAC,cAAc,CAAC,qBAAqB,EAAE,cAAc,CAAC,wBAAwB,CAAC,CAAC;AACvI,oBAAoB;AACpB,yBAAyB;AACzB;AACA,wBAAwB,GAAG,CAAC,YAAY,CAAC,KAAK,GAAG,CAAC,UAAU,EAAE,GAAG,8BAA8B,GAAG,WAAW,CAAC;AAC9G,wBAAwB,GAAG,CAAC,aAAa,EAAE;AAC3C,oBAAoB;AACpB,gBAAgB;AAChB,qBAAqB,IAAI,IAAI,KAAK,UAAU,EAAE;AAC9C,oBAAoB,GAAG,CAAC,WAAW,CAAC,uBAAuB,CAAC,GAAG,EAAE,MAAM,CAAC,IAAI,EAAE,CAAC;AAC/E,gBAAgB;AAChB,qBAAqB,IAAI,IAAI,KAAK,SAAS,EAAE;AAC7C,oBAAoB,GAAG,CAAC,WAAW,CAAC,aAAa,CAAC;AAClD,oBAAoB,MAAM,SAAS,GAAG,GAAG,CAAC,QAAQ;AAClD,oBAAoB,IAAI,KAAK;AAC7B,oBAAoB,IAAI,UAAU,CAAC,SAAS,CAAC,EAAE;AAC/C,wBAAwB,KAAK,GAAG,SAAS,CAAC;AAC1C,4BAA4B,MAAM,KAAK,CAAC,KAAK,EAAE;AAC/C,gCAAgC,MAAM,QAAQ,CAAC,GAAG,EAAE,KAAK,EAAE;AAC3D,oCAAoC,kBAAkB,EAAE,OAAO,CAAC,WAAW;AAC3E,oCAAoC,oBAAoB,EAAE,OAAO,CAAC,oBAAoB;AACtF,iCAAiC,CAAC;AAClC,gCAAgC,GAAG,CAAC,WAAW,CAAC,aAAa,CAAC;AAC9D,4BAA4B,CAAC;AAC7B,yBAAyB,CAAC;AAC1B,oBAAoB;AACpB,yBAAyB;AACzB,wBAAwB,KAAK,GAAG,SAAS;AACzC,oBAAoB;AACpB,oBAAoB,OAAO,CAAC,KAAK,CAAC;AAClC,oBAAoB,SAAS,CAAC,KAAK,CAAC,IAAI,OAAO,CAAC,OAAO,CAAC;AACxD,gBAAgB;AAChB,qBAAqB,IAAI,IAAI,KAAK,MAAM,EAAE;AAC1C,oBAAoB,GAAG,CAAC,QAAQ,CAAC,uBAAuB,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;AACtE,gBAAgB;AAChB,qBAAqB,IAAI,eAAe,CAAC,IAAI,CAAC,EAAE;AAChD;AACA,oBAAoB,GAAG,CAAC,aAAa,CAAC,KAAK,GAAG,CAAC,UAAU,EAAE,GAAG,6BAA6B,GAAG,EAAE,CAAC;AACjG,oBAAoB,MAAM,IAAI,GAAG,GAAG,CAAC,mBAAmB,EAAE;AAC1D,oBAAoB,MAAM,cAAc,GAAG,GAAG,CAAC,uBAAuB,EAAE;AACxE,oBAAoB,cAAc,CAAC,2BAA2B,CAAC,GAAG,CAAC,QAAQ,EAAE,OAAO,CAAC,WAAW,EAAE,OAAO,CAAC,oBAAoB,CAAC;AAC/H,oBAAoB,MAAM,SAAS,GAAG,sBAAsB,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC;AAC5E,oBAAoB,MAAM,oBAAoB,GAAG,uBAAuB,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;AACpG,oBAAoB,OAAO,CAAC,IAAI,mBAAmB,CAAC,OAAO,CAAC,WAAW,EAAE,OAAO,CAAC,oBAAoB,CAAC,CAAC;AACvG,oBAAoB,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC;AAC/C,oBAAoB,OAAO,CAAC,SAAS,CAAC;AACtC,oBAAoB,SAAS,CAAC,SAAS,CAAC,IAAI,OAAO,CAAC,OAAO,CAAC;AAC5D,oBAAoB,OAAO,CAAC,IAAI,mBAAmB,CAAC,oBAAoB,EAAE,cAAc,CAAC,CAAC;AAC1F,gBAAgB;AAChB,qBAAqB;AACrB,oBAAoB,MAAM,oBAAoB,GAAG,CAAC,WAAW,EAAE,GAAG,CAAC,GAAG,CAAC;AACvE,oBAAoB,GAAG,CAAC,YAAY,CAAC;AACrC,0BAA0B,CAAC,UAAU,EAAE,GAAG,oCAAoC,GAAG,oBAAoB;AACrG,0BAA0B,oBAAoB,CAAC;AAC/C,oBAAoB,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC;AAC9C,oBAAoB,MAAM,SAAS,GAAG,GAAG,CAAC,iBAAiB,CAAC,CAAC,CAAC;AAC9D,oBAAoB,MAAM,SAAS,GAAG,oBAAoB,CAAC,GAAG,EAAE,SAAS,IAAI,SAAS,CAAC,aAAa,EAAE,IAAI,EAAE,GAAG,CAAC;AAChH,oBAAoB,OAAO,CAAC,SAAS,CAAC;AACtC,oBAAoB,SAAS,CAAC,SAAS,CAAC,IAAI,OAAO,CAAC,OAAO,CAAC;AAC5D,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,IAAI;AACJ;AACO,SAAS,kBAAkB,CAAC,QAAQ,EAAE,UAAU,EAAE,OAAO,EAAE;AAClE,IAAI,OAAO,UAAU,CAAC,QAAQ,EAAE,OAAO,CAAC;AACxC;AACO,SAAS,oBAAoB,CAAC,UAAU,EAAE,QAAQ,EAAE,OAAO,EAAE;AACpE,IAAI,OAAO,UAAU,CAAC,UAAU,EAAE,OAAO,CAAC;AAC1C;AACO,SAAS,UAAU,CAAC,MAAM,EAAE,OAAO,EAAE;AAC5C,IAAI,IAAI,MAAM,IAAI,IAAI,EAAE;AACxB,QAAQ,OAAO,IAAI;AACnB,IAAI;AACJ,IAAI,MAAM,QAAQ,GAAG,EAAE;AACvB,IAAI,MAAM,UAAU,GAAG,CAAC,GAAG,EAAE,KAAK,KAAK;AACvC,QAAQ,IAAI,KAAK,IAAI,IAAI,EAAE;AAC3B,YAAY;AACZ,QAAQ;AACR,QAAQ,IAAI,0BAA0B,CAAC,GAAG,CAAC,EAAE;AAC7C,YAAY,MAAM,UAAU,GAAG,QAAQ,CAAC,OAAO,CAAC,gBAAgB,EAAE,GAAG,EAAE,KAAK,CAAC;AAC7E,YAAY,IAAI,UAAU,EAAE;AAC5B,gBAAgB,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC;AAC9C,YAAY;AACZ,YAAY;AACZ,QAAQ;AACR,QAAQ,IAAI,QAAQ,CAAC,KAAK,CAAC,EAAE;AAC7B;AACA,YAAY,IAAI,WAAW,CAAC,GAAG,CAAC,EAAE;AAClC;AACA,gBAAgB,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,KAAK,EAAE,OAAO,CAAC,aAAa,CAAC,CAAC;AAClE,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC;AACzC,YAAY;AACZ,YAAY;AACZ,QAAQ;AACR,QAAQ,IAAI,gBAAgB,CAAC,GAAG,CAAC,EAAE;AACnC,YAAY,4CAA4C,CAAC,OAAO,CAAC,gBAAgB,EAAE,GAAG,CAAC;AACvF,QAAQ;AACR,QAAQ,KAAK,GAAG,kBAAkB,CAAC,GAAG,EAAE,KAAK,EAAE,OAAO,CAAC,aAAa,CAAC;AACrE,QAAQ,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC;AACjC,IAAI,CAAC;AACL,IAAI,IAAI,OAAO,CAAC,MAAM,EAAE;AACxB,QAAQ,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;AAC/C,QAAQ,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE;AAChC,YAAY,UAAU,CAAC,GAAG,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;AACxC,QAAQ;AACR,IAAI;AACJ,SAAS;AACT,QAAQ,KAAK,MAAM,GAAG,IAAI,MAAM,EAAE;AAClC,YAAY,UAAU,CAAC,GAAG,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;AACxC,QAAQ;AACR,IAAI;AACJ,IAAI,IAAI,OAAO,CAAC,GAAG,IAAI,IAAI,EAAE;AAC7B,QAAQ,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,OAAO,CAAC,GAAG,CAAC;AAC/C,IAAI;AACJ,IAAI,OAAO,QAAQ;AACnB;AACA,SAAS,QAAQ,CAAC,gBAAgB,EAAE,GAAG,EAAE,QAAQ,EAAE;AACnD,IAAI,IAAI,KAAK,GAAG,IAAI;AACpB,IAAI,MAAM,IAAI,GAAG,QAAQ;AACzB,IAAI,MAAM,aAAa,GAAG,CAAC,aAAa,KAAK;AAC7C,QAAQ,KAAK,GAAG,CAAC,KAAK,IAAI,IAAI,GAAG,EAAE,GAAG,KAAK,GAAG,IAAI,IAAI,aAAa;AACnE,IAAI,CAAC;AACL,IAAI,MAAM,YAAY,GAAG,CAAC,GAAG,KAAK;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,YAAY,IAAI,GAAG,CAAC,SAAS,CAAC,EAAE;AAClF,YAAY,GAAG,GAAG,SAAS,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC;AAClE,QAAQ;AACR,QAAQ,OAAO,WAAW,CAAC,gBAAgB,EAAE,GAAG,CAAC;AACjD,IAAI,CAAC;AACL,IAAI,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;AAC7B,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC/C,YAAY,MAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;AAC/B,YAAY,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE;AAC5B,gBAAgB,aAAa,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AAChD,gBAAgB,kCAAkC,CAAC,gBAAgB,EAAE,GAAG,EAAE,GAAG,CAAC;AAC9E,YAAY;AACZ,iBAAiB,IAAI,GAAG,IAAI,IAAI,EAAE;AAClC;AACA,gBAAgB,MAAM,WAAW,GAAG,QAAQ,CAAC,gBAAgB,EAAE,GAAG,EAAE,GAAG,CAAC;AACxE,gBAAgB,IAAI,WAAW,EAAE;AACjC,oBAAoB,aAAa,CAAC,WAAW,CAAC;AAC9C,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,IAAI;AACJ,SAAS,IAAI,KAAK,CAAC,IAAI,CAAC,EAAE;AAC1B,QAAQ,KAAK,GAAG,YAAY,CAAC,IAAI,CAAC;AAClC,QAAQ,kCAAkC,CAAC,gBAAgB,EAAE,GAAG,EAAE,IAAI,CAAC;AACvE,IAAI;AACJ,IAAI,OAAO,KAAK;AAChB;AACA,SAAS,kCAAkC,CAAC,gBAAgB,EAAE,GAAG,EAAE,GAAG,EAAE;AACxE;AACA,IAAI,MAAM,IAAI,GAAG,6BAA6B,CAAC,GAAG,CAAC;AACnD,IAAI,IAAI,IAAI,EAAE;AACd,QAAQ,MAAM,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC;AACjC,QAAQ,gBAAgB,CAAC,YAAY,CAAC,GAAG,CAAC,SAAS,CAAC;AACpD,QAAQ,gBAAgB,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC;AAC7C,IAAI;AACJ;AACA,SAAS,4CAA4C,CAAC,gBAAgB,EAAE,GAAG,EAAE;AAC7E;AACA,IAAI,MAAM,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC;AACvC,IAAI,IAAI,SAAS,EAAE;AACnB,QAAQ,gBAAgB,CAAC,YAAY,CAAC,GAAG,CAAC,SAAS,CAAC;AACpD,IAAI;AACJ;AACA,SAAS,WAAW,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE;AACrC,IAAI,MAAM,UAAU,GAAG,GAAG,CAAC,UAAU;AACrC,IAAI,IAAI,UAAU,IAAI,OAAO,UAAU,IAAI,QAAQ,IAAI,MAAM,IAAI,UAAU,EAAE;AAC7E,QAAQ,MAAM,UAAU,GAAG,UAAU,CAAC,IAAI;AAC1C,QAAQ,IAAI,UAAU,YAAY,iBAAiB,EAAE;AACrD,YAAY,OAAO,wBAAwB,CAAC,UAAU,EAAE,IAAI,EAAE,GAAG,iCAAiC,GAAG,CAAC;AACtG,QAAQ;AACR,IAAI;AACJ,IAAI,OAAO,uBAAuB,CAAC,GAAG,EAAE,MAAM,CAAC,IAAI,YAAY;AAC/D;AACA,SAAS,4BAA4B,CAAC,GAAG,EAAE,sBAAsB,EAAE;AACnE,IAAI,IAAI,sBAAsB,KAAK,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE,iBAAiB,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC,EAAE;AAC/F,QAAQ,CAAC,GAAG,CAAC,UAAU,KAAK,EAAE,EAAE,iBAAiB,CAAC,GAAG,sBAAsB;AAC3E,IAAI;AACJ;AACA;AACA,SAAS,8BAA8B,CAAC,GAAG,EAAE,WAAW,EAAE;AAC1D,IAAI,MAAM,oBAAoB,GAAG,uBAAuB,CAAC,GAAG,EAAE,OAAO,CAAC,IAAI,IAAI;AAC9E,IAAI,IAAI,CAAC,oBAAoB,IAAI,WAAW,EAAE;AAC9C,QAAQ,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE;AAC7B,YAAY,GAAG,CAAC,UAAU,GAAG,EAAE;AAC/B,QAAQ;AACR,QAAQ,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,EAAE;AACpC,IAAI;AACJ;;ACzXO,MAAM,OAAO,GAAG,CAAC,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,KAAK;AAC5D,IAAI,IAAI,MAAM,KAAK,CAAC,sBAAsB;AAC1C;AACA,QAAQ;AACR,IAAI;AACJ;AACA,IAAI,IAAI,MAAM,KAAK,CAAC,wBAAwB,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;AACjE,QAAQ,IAAI,GAAG,sBAAsB,CAAC,SAAS,EAAE,IAAI,CAAC;AACtD,IAAI;AACJ,IAAI,QAAQ,MAAM;AAClB,QAAQ,KAAK,CAAC;AACd;AACA,YAAY,sBAAsB,CAAC,SAAS,EAAE,IAAI,EAAE,MAAM,CAAC;AAC3D,YAAY;AACZ,QAAQ,KAAK,CAAC;AACd,YAAY,IAAI,IAAI,KAAK,CAAC,EAAE;AAC5B;AACA,gBAAgB;AAChB,YAAY;AACZ,YAAY,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;AACrD,gBAAgB,MAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;AACnC,gBAAgB,MAAM,KAAK,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;AACzC,gBAAgB,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK;AACnC,YAAY;AACZ,YAAY;AACZ,QAAQ,KAAK,EAAE;AACf,QAAQ,KAAK,EAAE;AACf,YAAY,WAAW,CAAC,SAAS,EAAE,MAAM,CAAC;AAC1C,YAAY,IAAI,MAAM,KAAK,EAAE,2BAA2B;AACxD,gBAAgB,MAAM,CAAC,OAAO,EAAE;AAChC,YAAY;AACZ,YAAY;AACZ,QAAQ,KAAK,EAAE;AACf,YAAY,MAAM,IAAI,GAAG,MAAM;AAC/B,YAAY,MAAM,CAAC,GAAG,IAAI;AAC1B,YAAY,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;AAC7B,YAAY,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;AAC/B,YAAY,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;AAC/B,YAAY,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC;AAC5B,YAAY,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACzC,YAAY,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;AAC/B,YAAY;AACZ,QAAQ,KAAK,EAAE;AACf,YAAY,MAAM,CAAC,QAAQ,EAAE,MAAM,EAAE,OAAO,CAAC,GAAG,IAAI;AACpD,YAAY,MAAM,QAAQ,GAAG,MAAM;AACnC,YAAY,IAAI,QAAQ,EAAE;AAC1B,gBAAgB,QAAQ,CAAC,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC;AACxD,gBAAgB,QAAQ,CAAC,SAAS,GAAG,MAAM;AAC3C,gBAAgB,QAAQ,CAAC,MAAM,GAAG,UAAU;AAC5C,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,QAAQ,CAAC,KAAK,GAAG,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC;AACvD,gBAAgB,QAAQ,CAAC,MAAM,GAAG,MAAM;AACxC,gBAAgB,QAAQ,CAAC,MAAM,GAAG,UAAU;AAC5C,YAAY;AACZ,YAAY,eAAe,CAAC,MAAM,CAAC,CAAC,SAAS,GAAG,OAAO;AACvD,YAAY;AACZ,QAAQ,KAAK,EAAE;AACf,YAAY,MAAM,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;AACnD,YAAY;AACZ,QAAQ,KAAK,EAAE,sBAAsB;AACrC;AACA,YAAY,MAAM,KAAK,GAAG,WAAW,CAAC,MAAM,CAAC;AAC7C,YAAY,MAAM,WAAW,GAAG,mBAAmB,CAAC,GAAG,CAAC,KAAK,CAAC;AAC9D,YAAY,IAAI,WAAW,EAAE;AAC7B,gBAAgB,mBAAmB,CAAC,MAAM,CAAC,KAAK,CAAC;AACjD,gBAAgB,OAAO,CAAC,SAAS,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,CAAC;AACvE,YAAY;AACZ;AACA;AACA;AACA;AACA,YAAY,MAAM,GAAG,KAAK,EAAE,OAAO,CAAC,GAAG,IAAI;AAC3C,YAAY,MAAM,YAAY,GAAG,eAAe,CAAC,MAAM,CAAC;AACxD,YAAY,YAAY,CAAC,OAAO,GAAG,KAAK;AACxC,YAAY,YAAY,CAAC,SAAS,GAAG,OAAO;AAC5C,YAAY;AACZ,QAAQ;AACR,QAAQ,KAAK,EAAE,uBAAuB;AACtC,YAAY,MAAM,MAAM,GAAG,MAAM;AACjC,YAAY,MAAM,CAAC,GAAG,IAAI;AAC1B,YAAY,MAAM,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC,CAAC;AAC1C,YAAY,MAAM,CAAC,SAAS,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AAClD,YAAY;AACZ,QAAQ;AACR,QAAQ,KAAK,EAAE,8BAA8B;AAC7C,YAAY,MAAM,MAAM,GAAG,MAAM;AACjC,YAAY,MAAM,CAAC,GAAG,IAAI;AAC1B,YAAY,MAAM,CAAC,MAAM,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrD,YAAY,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;AAChC,YAAY,MAAM,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AAC3C,YAAY,MAAM,CAAC,gBAAgB,GAAG,iBAAiB;AACvD,YAAY,MAAM,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;AACjC,YAAY,MAAM,CAAC,OAAO,IAAI,CAAC;AAC/B,YAAY,MAAM,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC,CAAC;AACvC,YAAY,MAAM,CAAC,SAAS,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AAClD,YAAY,yBAAyB,CAAC,MAAM,CAAC;AAC7C,YAAY;AACZ,QAAQ;AACR,QAAQ,KAAK,EAAE,oCAAoC;AACnD,YAAY,MAAM,aAAa,GAAG,MAAM;AACxC,YAAY,MAAM,CAAC,GAAG,IAAI;AAC1B,YAAY,aAAa,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC;AAC7C,YAAY,aAAa,CAAC,SAAS,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACnD,YAAY,aAAa,CAAC,gBAAgB,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1D,YAAY,aAAa,CAAC,cAAc,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACxD,YAAY,aAAa,CAAC,kBAAkB,GAAG,CAAC,CAAC,CAAC,CAAC;AACnD,YAAY,aAAa,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI;AACzD,YAAY,MAAM,QAAQ,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC;AACzC,YAAY,IAAI,QAAQ,EAAE;AAC1B,gBAAgB,aAAa,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC,CAAC;AACrD,YAAY;AACZ,YAAY,aAAa,CAAC,OAAO,IAAI,CAAC;AACtC,YAAY;AACZ,QAAQ;AACR;AACA,QAAQ,KAAK,EAAE;AACf,QAAQ,KAAK,EAAE,+BAA+B;AAC9C,YAAY,MAAM,QAAQ,GAAG,MAAM;AACnC,YAAY,MAAM,CAAC,GAAG,IAAI;AAC1B,YAAY,QAAQ,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC;AACxC,YAAY,QAAQ,CAAC,SAAS,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9C,YAAY,MAAM,QAAQ,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC;AACzC,YAAY,IAAI,QAAQ,EAAE;AAC1B,gBAAgB,QAAQ,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC,CAAC;AAChD;AACA,gBAAgB,IAAI,MAAM,KAAK,EAAE,iCAAiC;AAClE,oBAAoB,QAAQ,CAAC,OAAO,IAAI,CAAC;AACzC,gBAAgB;AAChB,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,QAAQ,CAAC,OAAO,IAAI,CAAC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ,CAAC,YAAY,CAAC,OAAO,EAAE;AAC/C,gBAAgB,SAAS,CAAC,WAAW,CAAC,CAAC,8BAA8B,IAAI,EAAE,QAAQ,CAAC,YAAY,CAAC;AACjG,YAAY;AACZ,YAAY;AACZ,QAAQ;AACR,QAAQ,KAAK,EAAE,sBAAsB;AACrC,YAAY,MAAM,CAAC,GAAG,IAAI;AAC1B,YAAY,MAAM,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;AACjC,YAAY,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;AAClD,gBAAgB,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACvC,YAAY;AACZ,YAAY;AACZ,QAAQ;AACR,QAAQ,KAAK,EAAE,yBAAyB;AACxC,YAAY,MAAM,QAAQ,GAAG,MAAM;AACnC,YAAY,MAAM,CAAC,GAAG,IAAI;AAC1B,YAAY,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC/C,gBAAgB,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7C,YAAY;AACZ,YAAY;AACZ,QAAQ;AACR,QAAQ,KAAK,EAAE,wBAAwB;AACvC,YAAY,MAAM,GAAG,GAAG,MAAM;AAC9B,YAAY,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,MAAM,CAAC,GAAG,IAAI;AAC5E,YAAY,GAAG,CAAC,IAAI,GAAG,IAAI;AAC3B,YAAY,GAAG,CAAC,GAAG,GAAG,GAAG;AACzB,YAAY,GAAG,CAAC,QAAQ,GAAG,QAAQ;AACnC,YAAY,GAAG,CAAC,UAAU,GAAG,UAAU,IAAI,IAAI;AAC/C,YAAY,GAAG,CAAC,QAAQ,GAAG,QAAQ;AACnC,YAAY,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM;AACjC,YAAY;AACZ,QAAQ;AACR,QAAQ,KAAK,EAAE,oBAAoB;AACnC,YAAY,MAAM,GAAG,GAAG,MAAM;AAC9B,YAAY,MAAM,CAAC,GAAG,IAAI;AAC1B,YAAY,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC/C,gBAAgB,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7B,YAAY;AACZ,YAAY;AACZ,QAAQ;AACR,QAAQ,KAAK,EAAE,oBAAoB;AACnC,YAAY,MAAM,GAAG,GAAG,MAAM;AAC9B,YAAY,MAAM,CAAC,GAAG,IAAI;AAC1B,YAAY,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC/C,gBAAgB,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AACrC,YAAY;AACZ,YAAY;AACZ,QAAQ;AACR,QAAQ,KAAK,EAAE,wBAAwB;AACvC,YAAY,MAAM,OAAO,GAAG,MAAM;AAClC,YAAY,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,GAAG,IAAI;AAC3C,YAAY,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC;AAC5D,YAAY,IAAI,QAAQ,EAAE;AAC1B,gBAAgB,OAAO,CAAC,MAAM,CAAC;AAC/B,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,MAAM,CAAC,MAAM,CAAC;AAC9B,YAAY;AACZ,YAAY;AACZ,QAAQ;AACR,QAAQ,KAAK,EAAE;AACf,YAAY,MAAM,KAAK,GAAG,MAAM;AAChC,YAAY,MAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;AAClC,YAAY,IAAI,CAAC,GAAG,CAAC;AACrB,YAAY,KAAK,MAAM,CAAC,IAAI,GAAG,EAAE;AACjC,gBAAgB,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;AAC5C,YAAY;AACZ,YAAY;AACZ,QAAQ,KAAK,EAAE;AACf,YAAY,MAAM,UAAU,GAAG,MAAM;AACrC,YAAY,MAAM,CAAC,GAAG,IAAI;AAC1B,YAAY,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;AAC5B,YAAY,IAAI,KAAK,KAAK,cAAc,EAAE;AAC1C,gBAAgB,KAAK,GAAG,IAAI,WAAW,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7D,gBAAgB,KAAK,CAAC,MAAM,GAAG,UAAU;AACzC,YAAY;AACZ,YAAY,UAAU,CAAC,MAAM,CAAC,GAAG,KAAK;AACtC,YAAY;AACZ,QAAQ,KAAK,EAAE,iCAAiC;AAChD,YAAY,MAAM,UAAU,GAAG,MAAM;AACrC,YAAY,UAAU,CAAC,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,CAAC,CAAC;AAC3D,YAAY,UAAU,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC;AAC/C,YAAY;AACZ,QAAQ;AACR,QAAQ;AACR,YAAY,MAAM,MAAM,CAAC,EAAE,4CAA4C,CAAC,MAAM,CAAC,CAAC;AAChF;AACA,CAAC,CAAC;AACF;AACA;AACA;AACO,MAAM,sBAAsB,GAAG,CAAC,SAAS,EAAE,IAAI,EAAE,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK;AAC5F,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;AAC7C,QAAQ,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,eAAe,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AACxE,IAAI;AACJ,IAAI,OAAO,MAAM;AACjB,CAAC;AACM,SAAS,WAAW,CAAC,SAAS,EAAE,GAAG,EAAE;AAC5C,IAAI,IAAI,GAAG,CAAC,YAAY,EAAE;AAC1B;AACA,QAAQ,OAAO,GAAG;AAClB,IAAI;AACJ,IAAI,MAAM,UAAU,GAAG,GAAG,CAAC,SAAS;AACpC,IAAI,GAAG,CAAC,YAAY,GAAG,UAAU,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI;AAChG;AACA,IAAI,GAAG,CAAC,SAAS,GAAG,IAAI;AACxB,IAAI,IAAI,SAAS,CAAC,OAAO,EAAE;AAC3B,QAAQ,GAAG,CAAC,cAAc,CAAC,SAAS,CAAC,OAAO,CAAC;AAC7C,IAAI;AACJ,IAAI,OAAO,GAAG;AACd;AACO,SAAS,eAAe,CAAC,SAAS,EAAE,MAAM,EAAE,KAAK,EAAE;AAC1D,IAAI,IAAI,MAAM,KAAK,CAAC,sBAAsB;AAC1C,QAAQ,OAAO,KAAK;AACpB,IAAI;AACJ,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,SAAS,EAAE,MAAM,EAAE,KAAK,CAAC;AACxD,IAAI,IAAI,cAAc,CAAC,MAAM,CAAC,EAAE;AAChC,QAAQ,OAAO,CAAC,SAAS,EAAE,SAAS,EAAE,MAAM,EAAE,KAAK,CAAC;AACpD,IAAI;AACJ,IAAI,OAAO,SAAS;AACpB;AACO,SAAS,yBAAyB,CAAC,MAAM,EAAE;AAClD,IAAI,IAAI,MAAM,CAAC,aAAa,KAAK,IAAI,IAAI,aAAa,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE;AAC9E,QAAQ,MAAM,SAAS,GAAG,MAAM,CAAC,aAAa;AAC9C,QAAQ,MAAM,OAAO,GAAG,MAAM,CAAC,SAAS;AACxC,QAAQ,IAAI,YAAY,GAAG,KAAK;AAChC,QAAQ,IAAI,OAAO,EAAE;AACrB;AACA,YAAY,KAAK,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,OAAO,EAAE;AAC5C,gBAAgB,IAAI,QAAQ,CAAC,GAAG,CAAC,EAAE;AACnC;AACA,oBAAoB,MAAM,SAAS,GAAG,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC;AAC5D,oBAAoB,IAAI,SAAS,KAAK,IAAI,EAAE;AAC5C,wBAAwB,MAAM,CAAC,gBAAgB,GAAG,SAAS;AAC3D,wBAAwB,YAAY,GAAG,IAAI;AAC3C,wBAAwB,MAAM;AAC9B,oBAAoB;AACpB,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,QAAQ,IAAI,CAAC,YAAY,EAAE;AAC3B;AACA,YAAY,MAAM,UAAU,GAAG,mBAAmB,CAAC,SAAS,CAAC;AAC7D,YAAY,IAAI,UAAU;AAC1B,gBAAgB,SAAS,CAAC,UAAU,KAAK,SAAS,CAAC,SAAS;AAC5D,gBAAgB,iBAAiB,CAAC,UAAU,CAAC,EAAE;AAC/C,gBAAgB,MAAM,CAAC,gBAAgB,GAAG,aAAa,CAAC,UAAU,CAAC;AACnE,YAAY;AACZ,QAAQ;AACR,IAAI;AACJ;;AC1SA;AACO,MAAM,cAAc,GAAG,CAAC,MAAM,KAAK,MAAM,IAAI,EAAE,wBAAwB,MAAM,KAAK,CAAC,wBAAwB,MAAM,KAAK,CAAC;AAC9H,MAAM,oBAAoB,GAAG,IAAI,OAAO,EAAE;AACnC,MAAM,mBAAmB,GAAG,CAAC,KAAK,KAAK;AAC9C,IAAI,OAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,uBAAuB,IAAI,KAAK;AAC9D,CAAC;AACM,MAAM,uBAAuB,GAAG,MAAM,CAAC,QAAQ,CAAC;AACvD;AACO,MAAM,qBAAqB,GAAG,CAAC,SAAS,EAAE,IAAI,KAAK;AAC1D,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;AAC5B,QAAQ,aAAa,CAAC,IAAI,CAAC;AAC3B,QAAQ,mBAAmB,CAAC,IAAI,CAAC;AACjC,MAAM;AACN,QAAQ,OAAO,IAAI;AACnB,IAAI;AACJ,IAAI,IAAI,KAAK,GAAG,oBAAoB,CAAC,GAAG,CAAC,IAAI,CAAC;AAC9C,IAAI,IAAI,CAAC,KAAK,EAAE;AAChB,QAAQ,MAAM,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;AAC7D,QAAQ,KAAK,GAAG,IAAI,KAAK,CAAC,MAAM,EAAE,IAAI,sBAAsB,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAC9E,QAAQ,oBAAoB,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,CAAC;AAC7C,IAAI;AACJ,IAAI,OAAO,KAAK;AAChB,CAAC;AACD,MAAM,sBAAsB,CAAC;AAC7B,IAAI,WAAW;AACf,IAAI,MAAM;AACV,IAAI,QAAQ;AACZ,IAAI,WAAW,CAAC,WAAW,EAAE,MAAM,EAAE;AACrC,QAAQ,IAAI,CAAC,WAAW,GAAG,WAAW;AACtC,QAAQ,IAAI,CAAC,MAAM,GAAG,MAAM;AAC5B,QAAQ,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC;AAC9C,IAAI;AACJ,IAAI,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE;AACpC,QAAQ,IAAI,QAAQ,KAAK,uBAAuB,EAAE;AAClD;AACA,YAAY,OAAO,MAAM;AACzB,QAAQ;AACR,QAAQ,MAAM,CAAC,GAAG,OAAO,QAAQ,KAAK;AACtC,cAAc;AACd,cAAc,OAAO,QAAQ,KAAK;AAClC,kBAAkB,QAAQ,CAAC,QAAQ,EAAE,EAAE;AACvC,kBAAkB,GAAG;AACrB,QAAQ,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,EAAE;AAC5D,YAAY,OAAO,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ,CAAC;AAC1D,QAAQ;AACR;AACA,QAAQ,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC;AACzB,QAAQ,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;AACvC,QAAQ,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC;AAC1C,QAAQ,IAAI,MAAM,KAAK,CAAC,sBAAsB;AAC9C;AACA,YAAY,OAAO,KAAK;AACxB,QAAQ;AACR,QAAQ,MAAM,SAAS,GAAG,IAAI,CAAC,WAAW;AAC1C,QAAQ,MAAM,SAAS,GAAG,QAAQ,CAAC,SAAS,EAAE,MAAM,EAAE,KAAK,CAAC;AAC5D,QAAQ,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,SAAS,CAAC;AAChD,QAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC;AAC5B,QAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,SAAS;AACxC;AACA,QAAQ,IAAI,cAAc,CAAC,MAAM,CAAC,EAAE;AACpC,YAAY,OAAO,CAAC,SAAS,EAAE,SAAS,EAAE,MAAM,EAAE,KAAK,CAAC;AACxD,QAAQ;AACR,QAAQ,OAAO,SAAS;AACxB,IAAI;AACJ,IAAI,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE;AAC1B,QAAQ,IAAI,QAAQ,KAAK,uBAAuB,EAAE;AAClD,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,QAAQ,OAAO,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC;AACrE,IAAI;AACJ,IAAI,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE;AAC3C,QAAQ,IAAI,QAAQ,KAAK,uBAAuB,EAAE;AAClD,YAAY,OAAO,KAAK;AACxB,QAAQ;AACR,QAAQ,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,CAAC;AAClE,QAAQ,MAAM,CAAC,GAAG,OAAO,QAAQ,KAAK,QAAQ,GAAG,QAAQ,GAAG,QAAQ,CAAC,QAAQ,EAAE,EAAE,CAAC;AAClF,QAAQ,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;AACrE,YAAY,OAAO,GAAG;AACtB,QAAQ;AACR,QAAQ,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC;AACzB,QAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC;AAC5B,QAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,KAAK;AACpC,QAAQ,OAAO,IAAI;AACnB,IAAI;AACJ;;ACxFA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,gBAAgB,CAAC,QAAQ,EAAE;AAC3C,IAAI,MAAM,WAAW,GAAG,aAAa;AACrC,IAAI,MAAM,eAAe,GAAG,GAAG,GAAG,WAAW;AAC7C,IAAI,MAAM,iBAAiB,GAAG,GAAG;AACjC,IAAI,MAAM,aAAa,GAAG,cAAc;AACxC,IAAI,MAAM,QAAQ,GAAG,UAAU;AAC/B,IAAI,MAAM,YAAY,GAAG,GAAG,GAAG,QAAQ;AACvC,IAAI,MAAM,kBAAkB,GAAG,oBAAoB;AACnD,IAAI,MAAM,sBAAsB,GAAG,GAAG,GAAG,kBAAkB;AAC3D,IAAI,MAAM,SAAS,GAAG,QAAQ;AAC9B,IAAI,MAAM,YAAY,GAAG,SAAS,CAAC,UAAU,KAAK,SAAS,CAAC,UAAU,GAAG,IAAI,OAAO,EAAE,CAAC;AACvF,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,IAAI;AACnC,IAAI,MAAM,MAAM,GAAG,CAAC,SAAS,EAAE,IAAI,KAAK;AACxC,QAAQ,IAAI,MAAM;AAClB,QAAQ,OAAO,SAAS,IAAI,EAAE,MAAM,GAAG,MAAM,CAAC,wBAAwB,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE,GAAG,CAAC,EAAE;AAC/F,YAAY,SAAS,GAAG,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC;AACxD,QAAQ;AACR,QAAQ,QAAQ,MAAM;AACtB,YAAY,YAAY;AACxB,gBAAgB,OAAO,IAAI,CAAC,IAAI,CAAC;AACjC,YAAY,CAAC;AACb,IAAI,CAAC;AACL,IAAI,MAAM,YAAY,GAAG,SAAS,CAAC,YAAY;AAC/C,IAAI,MAAM,YAAY,GAAG,SAAS,CAAC,YAAY;AAC/C,IAAI,MAAM,WAAW,GAAG,MAAM,CAAC,SAAS,EAAE,UAAU,CAAC;AACrD;AACA,IAAI,MAAM,sBAAsB,GAAG,CAAC,OAAO,KAAK;AAChD,QAAQ,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,2BAA2B,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,KAAK;AAC9F,YAAY,MAAM,CAAC,YAAY,CAAC,MAAM,EAAE,cAAc,CAAC;AACvD,YAAY,MAAM,iBAAiB,GAAG,MAAM,CAAC,OAAO,CAAC,iBAAiB,CAAC;AACvE,YAAY,iBAAiB,CAAC,UAAU,GAAG,MAAM,CAAC,WAAW;AAC7D,YAAY,iBAAiB,CAAC,UAAU,GAAG,IAAI,GAAG,EAAE;AACpD,QAAQ,CAAC,CAAC;AACV,QAAQ,OAAO,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,KAAK;AACzE,YAAY,MAAM,UAAU,GAAG,MAAM,CAAC,UAAU;AAChD,YAAY,UAAU,IAAI,sBAAsB,CAAC,UAAU,CAAC;AAC5D,QAAQ,CAAC,CAAC;AACV,IAAI,CAAC;AACL,IAAI,sBAAsB,CAAC,QAAQ,CAAC;AACpC;AACA;AACA;AACA;AACA;AACA,IAAI,MAAM,eAAe,GAAG,CAAC,IAAI,KAAK;AACtC,QAAQ,MAAM,QAAQ,GAAG,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC;AAC/C,QAAQ,IAAI,QAAQ,KAAK,CAAC,0BAA0B;AACpD,YAAY,MAAM,UAAU,GAAG,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,WAAW,CAAC;AACnE,YAAY,IAAI,UAAU,KAAK,IAAI,EAAE;AACrC,gBAAgB,IAAI,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,aAAa,CAAC,EAAE;AAC5D,oBAAoB,OAAO,CAAC;AAC5B,gBAAgB;AAChB,gBAAgB,MAAM,UAAU,GAAG,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,iBAAiB,CAAC;AAC7E,gBAAgB,OAAO,UAAU,GAAG,CAAC,0BAA0B,CAAC;AAChE,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,OAAO,CAAC;AACxB,YAAY;AACZ,QAAQ;AACR,aAAa,IAAI,QAAQ,KAAK,CAAC,0BAA0B;AACzD,YAAY,MAAM,SAAS,GAAG,IAAI,CAAC,SAAS,IAAI,EAAE,CAAC;AACnD,YAAY,IAAI,SAAS,CAAC,UAAU,CAAC,kBAAkB,CAAC,EAAE;AAC1D,gBAAgB,OAAO,EAAE;AACzB,YAAY;AACZ,iBAAiB,IAAI,SAAS,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE;AACrD,gBAAgB,OAAO,EAAE;AACzB,YAAY;AACZ,iBAAiB,IAAI,SAAS,CAAC,UAAU,CAAC,WAAW,CAAC,EAAE;AACxD,gBAAgB,OAAO,CAAC;AACxB,YAAY;AACZ,iBAAiB,IAAI,SAAS,CAAC,UAAU,CAAC,sBAAsB,CAAC,EAAE;AACnE,gBAAgB,OAAO,EAAE;AACzB,YAAY;AACZ,iBAAiB,IAAI,SAAS,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE;AACzD,gBAAgB,OAAO,EAAE;AACzB,YAAY;AACZ,iBAAiB,IAAI,SAAS,CAAC,UAAU,CAAC,eAAe,CAAC,EAAE;AAC5D,gBAAgB,OAAO,CAAC;AACxB,YAAY;AACZ,QAAQ;AACR,QAAQ,OAAO,CAAC;AAChB,IAAI,CAAC;AACL,IAAI,MAAM,WAAW,GAAG,CAAC,EAAE;AAC3B,cAAc,kBAAkB,CAAC,SAAS,IAAI,EAAE,IAAI,EAAE,IAAI,kBAAkB,CAAC,YAAY,CAAC;AAC1F;AACA;AACA;AACA;AACA,IAAI,MAAM,mBAAmB,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,GAAG,KAAK;AACvD,QAAQ,IAAI,KAAK,GAAG,CAAC;AACrB,QAAQ,OAAO,IAAI,EAAE;AACrB;AACA,YAAY,IAAI,KAAK,GAAG,GAAG,EAAE;AAC7B,gBAAgB,MAAM,EAAE,GAAG,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC;AAClD,gBAAgB,IAAI,KAAK,KAAK,CAAC,IAAI,WAAW,CAAC,EAAE,CAAC,EAAE;AACpD,oBAAoB;AACpB,gBAAgB;AAChB,qBAAqB;AACrB,oBAAoB,IAAI,EAAE,KAAK,aAAa,CAAC,IAAI,EAAE;AACnD,wBAAwB,KAAK,EAAE;AAC/B,oBAAoB;AACpB,yBAAyB,IAAI,EAAE,KAAK,aAAa,CAAC,KAAK,EAAE;AACzD,wBAAwB,KAAK,EAAE;AAC/B,oBAAoB;AACpB,oBAAoB,KAAK,EAAE;AAC3B,gBAAgB;AAChB,YAAY;AACZ,iBAAiB;AACjB,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,QAAQ,OAAO,KAAK;AACpB,IAAI,CAAC;AACL,IAAI,MAAM,WAAW,GAAG,CAAC,IAAI,KAAK;AAClC;AACA,QAAQ,OAAO,IAAI,KAAK,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,uBAAuB,EAAE;AACxG,QAAQ,OAAO,IAAI;AACnB,IAAI,CAAC;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,MAAM,aAAa,GAAG,CAAC,MAAM,EAAE,aAAa,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,UAAU,EAAE,MAAM,KAAK;AAChG,QAAQ,MAAM,YAAY,GAAG,KAAK,CAAC,MAAM;AACzC;AACA,QAAQ,IAAI,UAAU,GAAG,CAAC;AAC1B;AACA,QAAQ,IAAI,iBAAiB,GAAG,EAAE;AAClC,QAAQ,IAAI,WAAW,GAAG,CAAC;AAC3B,QAAQ,IAAI,SAAS,GAAG,CAAC;AACzB,QAAQ,IAAI,EAAE,GAAG,CAAC;AAClB,QAAQ,IAAI,eAAe,GAAG,EAAE;AAChC,QAAQ,IAAI,QAAQ,GAAG,IAAI;AAC3B;AACA,QAAQ,MAAM,qBAAqB,GAAG,MAAM;AAC5C,YAAY,IAAI,cAAc,GAAG,CAAC;AAClC,YAAY,OAAO,WAAW,EAAE,EAAE,GAAG,KAAK,CAAC,UAAU,CAAC,WAAW,CAAC,EAAE,EAAE;AACtE;AACA;AACA,gBAAgB,cAAc,IAAI,CAAC,KAAK,EAAE,GAAG,kBAAkB,CAAC,SAAS,CAAC;AAC1E,gBAAgB,WAAW,EAAE;AAC7B,gBAAgB,IAAI,WAAW,IAAI,YAAY,EAAE;AACjD;AACA,oBAAoB;AACpB,gBAAgB;AAChB,YAAY;AACZ,YAAY,OAAO,cAAc;AACjC,QAAQ,CAAC;AACT,QAAQ,GAAG;AACX,YAAY,IAAI,IAAI,KAAK,QAAQ,EAAE;AACnC,gBAAgB;AAChB,YAAY;AACZ,YAAY,QAAQ,GAAG,IAAI;AAC3B,YAAY,MAAM,QAAQ,GAAG,IAAI,IAAI,aAAa,GAAG,CAAC,0BAA0B,eAAe,CAAC,IAAI,CAAC;AACrG,YAAY,IAAI,QAAQ,KAAK,CAAC,mCAAmC;AACjE;AACA,gBAAgB,MAAM,SAAS,GAAG,IAAI;AACtC,gBAAgB,IAAI,MAAM,GAAG,IAAI;AACjC,gBAAgB,OAAO,MAAM,IAAI,EAAE,QAAQ,GAAG,WAAW,CAAC,MAAM,CAAC,CAAC,EAAE;AACpE,oBAAoB,MAAM,GAAG,MAAM,CAAC,UAAU;AAC9C,gBAAgB;AAChB;AACA,gBAAgB,aAAa,CAAC,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,CAAC,UAAU,IAAI,EAAE,EAAE,SAAS,CAAC,UAAyB,CAAC;AACjI,YAAY;AACZ,iBAAiB,IAAI,QAAQ,KAAK,EAAE,sCAAsC;AAC1E,gBAAgB,IAAI,UAAU,GAAG,IAAI;AACrC,gBAAgB,GAAG;AACnB,oBAAoB,UAAU,GAAG,MAAM,CAAC,QAAQ,EAAE;AAClD,oBAAoB,IAAI,CAAC,UAAU,EAAE;AACrC,wBAAwB,MAAM,IAAI,KAAK,CAAC,CAAC,kBAAkB,EAAE,IAAI,EAAE,SAAS,CAAC,cAAc,CAAC,CAAC;AAC7F,oBAAoB;AACpB,gBAAgB,CAAC,QAAQ,eAAe,CAAC,UAAU,CAAC,KAAK,EAAE;AAC3D,gBAAgB,QAAQ,GAAG,IAAI;AAC/B,YAAY;AACZ,iBAAiB,IAAI,QAAQ,KAAK,EAAE,oCAAoC;AACxE,gBAAgB,QAAQ,GAAG,IAAI;AAC/B,gBAAgB,GAAG;AACnB,oBAAoB,QAAQ,GAAG,MAAM,CAAC,QAAQ,EAAE;AAChD,oBAAoB,IAAI,CAAC,QAAQ,EAAE;AACnC,wBAAwB,MAAM,IAAI,KAAK,CAAC,CAAC,wBAAwB,CAAC,CAAC;AACnE,oBAAoB;AACpB,gBAAgB,CAAC,QAAQ,eAAe,CAAC,QAAQ,CAAC,KAAK,EAAE;AACzD,gBAAgB,QAAQ,GAAG,IAAI;AAC/B,YAAY;AACZ,iBAAiB,IAAI,QAAQ,KAAK,CAAC,oCAAoC;AACvE;AACA,gBAAgB,QAAQ,GAAG,IAAI;AAC/B,gBAAgB,GAAG;AACnB,oBAAoB,QAAQ,GAAG,WAAW,CAAC,QAAQ,CAAC;AACpD,oBAAoB,IAAI,CAAC,QAAQ,EAAE;AACnC,wBAAwB,MAAM,IAAI,KAAK,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,SAAS,CAAC,eAAe,CAAC,CAAC;AAChF,oBAAoB;AACpB,gBAAgB,CAAC,QAAQ,eAAe,CAAC,QAAQ,CAAC,KAAK,CAAC;AACxD;AACA,gBAAgB,aAAa,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,IAAmB,CAAC;AACpF,YAAY;AACZ,iBAAiB,IAAI,QAAQ,KAAK,CAAC,6CAA6C;AAChF;AACA,gBAAgB,QAAQ,GAAG,WAAW,CAAC,IAAI,CAAC;AAC5C,gBAAgB,MAAM,mBAAmB,GAAG,IAAI;AAChD,gBAAgB,MAAM,UAAU,GAAG,mBAAmB,EAAE,UAAU;AAClE,gBAAgB,IAAI,UAAU,EAAE;AAChC,oBAAoB,aAAa;AACjC;AACA,oBAAoB,QAAQ,CAAC,gBAAgB,CAAC,UAAU,EAAE,GAAG,kCAAkC,IAAI,gCAAgC,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,EAAE,EAAE,IAAmB,CAAC;AACrL,gBAAgB;AAChB,YAAY;AACZ,YAAY,IAAI,CAAC,QAAQ,GAAG,CAAC,6BAA6B,CAAC,yBAAyB;AACpF,gBAAgB,IAAI,iBAAiB,GAAG,UAAU,EAAE;AACpD;AACA,oBAAoB,IAAI,iBAAiB,KAAK,EAAE,EAAE;AAClD,wBAAwB,iBAAiB,GAAG,CAAC;AAC7C,oBAAoB;AACpB,oBAAoB,WAAW,GAAG,SAAS;AAC3C,oBAAoB,IAAI,WAAW,GAAG,YAAY,EAAE;AACpD,wBAAwB,iBAAiB,IAAI,qBAAqB,EAAE;AACpE,wBAAwB,MAAM,cAAc,GAAG,EAAE,KAAK,kBAAkB,CAAC,SAAS;AAClF,wBAAwB,IAAI,cAAc,EAAE;AAC5C;AACA,4BAA4B,eAAe,GAAG,iBAAiB;AAC/D,4BAA4B,WAAW,EAAE;AACzC,4BAA4B,IAAI,WAAW,GAAG,YAAY,EAAE;AAC5D,gCAAgC,EAAE,GAAG,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC;AAChE,4BAA4B;AAC5B,iCAAiC;AACjC;AACA,gCAAgC,EAAE,GAAG,kBAAkB,CAAC,SAAS;AACjE,4BAA4B;AAC5B,wBAAwB;AACxB,wBAAwB,SAAS,GAAG,mBAAmB,CAAC,KAAK,EAAE,WAAW,EAAE,YAAY,CAAC;AACzF,oBAAoB;AACpB,yBAAyB;AACzB,wBAAwB,iBAAiB,GAAG,MAAM,CAAC,gBAAgB;AACnE,oBAAoB;AACpB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,IAAI,UAAU,KAAK,iBAAiB,EAAE;AACtD,oBAAoB,IAAI,eAAe,KAAK,UAAU,EAAE;AACxD,wBAAwB,UAAU,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC;AACxD,oBAAoB;AACpB,oBAAoB,MAAM,YAAY,GAAG,KAAK,CAAC,SAAS,CAAC,WAAW,EAAE,SAAS,CAAC;AAChF,oBAAoB,YAAY,CAAC,GAAG,CAAC,IAAI,EAAE,YAAY,CAAC;AACxD,gBAAgB;AAChB,gBAAgB,UAAU,EAAE;AAC5B,YAAY;AACZ,QAAQ,CAAC,SAAS,IAAI,GAAG,QAAQ,IAAI,MAAM,CAAC,QAAQ,EAAE;AACtD,IAAI,CAAC;AACL;AACA,IAAI,MAAM,MAAM,GAAG,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,EAAE,GAAG,kCAAkC,IAAI,gCAAgC;AAChI,IAAI,aAAa,CAAC,MAAM,EAAE,IAAI,EAAE,MAAM,CAAC,UAAU,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAQ,CAAC;AACxE;;AC3TA;AAeA;AACO,SAAS,eAAe,CAAC,OAAO,EAAE;AACzC,IAAI,MAAM,iBAAiB,GAAG,qBAAqB,CAAC,OAAO,CAAC;AAC5D,IAAI,IAAI,CAAC,iBAAiB,EAAE;AAC5B,QAAQ,MAAM,MAAM,CAAC,EAAE,gCAAgC;AACvD,IAAI;AACJ,IAAI,OAAO,oCAAoC,CAAC,iBAAiB,CAAC;AAClE;AACO,SAAS,oCAAoC,CAAC,iBAAiB,EAAE;AACxE,IAAI,MAAM,QAAQ,GAAG,iBAAiB;AACtC,IAAI,IAAI,SAAS,GAAG,QAAQ,CAAC,UAAU;AACvC,IAAI,IAAI,CAAC,SAAS,EAAE;AACpB,QAAQ,SAAS,GAAG,IAAI,YAAY,CAAC,QAAQ,CAAC;AAC9C,IAAI;AACJ,IAAI,OAAO,SAAS;AACpB;AACA;AACO,SAAS,qBAAqB,CAAC,OAAO,EAAE;AAC/C,IAAI,MAAM,iBAAiB,GAAG,aAAa,CAAC,OAAO;AACnD,UAAU,kBAAkB,CAAC,OAAO,EAAE,IAAI;AAC1C,UAAU,OAAO;AACjB,IAAI,OAAO,iBAAiB,CAAC,OAAO,CAAC,kBAAkB,CAAC;AACxD;AACO,MAAM,cAAc,GAAG,CAAC,SAAS,KAAK;AAC7C,IAAI,OAAO,SAAS,YAAY,YAAY;AAC5C,CAAC;AACD;AACO,MAAM,YAAY,SAAS,gBAAgB,CAAC;AACnD,IAAI,OAAO;AACX,IAAI,UAAU;AACd,IAAI,aAAa;AACjB,IAAI,SAAS;AACb,IAAI,QAAQ;AACZ,IAAI,SAAS;AACb,IAAI,cAAc;AAClB,IAAI,eAAe,GAAG,IAAI,OAAO,EAAE;AACnC,IAAI,QAAQ;AACZ,IAAI,cAAc;AAClB,IAAI,aAAa,GAAG,IAAI;AACxB,IAAI,WAAW,GAAG,CAAC,EAAE,KAAK,YAAY,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,CAAC;AAC1D,IAAI,WAAW;AACf,IAAI,UAAU,GAAG,IAAI;AACrB,IAAI,WAAW,CAAC,OAAO,EAAE;AACzB,QAAQ,KAAK,CAAC,MAAM;AACpB,YAAY,IAAI,CAAC,YAAY,EAAE;AAC/B,YAAY,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC;AAC9C,QAAQ,CAAC,EAAE,EAAE,EAAE,OAAO,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;AACjD,QAAQ,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,YAAY,CAAC,cAAc,CAAC;AAC9D,QAAQ,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;AAC9B,YAAY,MAAM,MAAM,CAAC,EAAE,sCAAsC;AACjE,QAAQ;AACR,QAAQ,IAAI,CAAC,SAAS,GAAG;AACzB,YAAY,CAAC;AACb,YAAY,OAAO,CAAC,aAAa;AACjC,SAAS;AACT,QAAQ,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,aAAa;AAC7C,QAAQ,IAAI,CAAC,OAAO,GAAG,OAAO;AAC9B,QAAQ,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,YAAY,CAAC,SAAS,CAAC;AAC1D,QAAQ,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC,YAAY,CAAC,aAAa,CAAC;AACjE,QAAQ,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC,YAAY,CAAC,iBAAiB,CAAC;AACpE,QAAQ,IAAI,CAAC,SAAS,GAAG,8BAA8B,CAAC,IAAI,CAAC,OAAO,CAAC;AACrE,QAAQ,IAAI,CAAC,cAAc,GAAG,EAAE;AAChC,QAAQ,IAAI,CAAC,WAAW,GAAG,EAAE;AAC7B,QAAQ,MAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa;AACnD,QAAQ,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE;AAClC,YAAY,gBAAgB,CAAC,QAAQ,CAAC;AACtC,QAAQ;AACR,QAAQ,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,WAAW;AAC/E,QAAQ,IAAI,CAAC,eAAe,EAAE;AAC9B,QAAQ,OAAO,CAAC,YAAY,CAAC,cAAc,EAAE,SAAS,+BAA+B;AACrF,QAAQ,OAAO,CAAC,UAAU,GAAG,IAAI;AACjC,QAAQ,MAAM,UAAU,GAAG,OAAO,CAAC,gBAAgB,CAAC,2BAA2B,CAAC;AAChF,QAAQ,IAAI,UAAU,CAAC,MAAM,KAAK,CAAC,EAAE;AACrC,YAAY,MAAM,SAAS,GAAG,UAAU,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;AAC/D,YAAY,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,WAAW,CAAC;AACnE,YAAY,eAAe,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC;AACtD,YAAY,IAAI,CAAC,WAAW,GAAG,qBAAqB,CAAC,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC;AAC/E,QAAQ;AACR,IAAI;AACJ,IAAI,aAAa,CAAC,EAAE,EAAE,OAAO,EAAE;AAC/B,QAAQ,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,GAAG,OAAO;AACtC,IAAI;AACJ,IAAI,QAAQ,CAAC,GAAG,EAAE;AAClB,QAAQ,OAAO,WAAW,CAAC,IAAI,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC;AAC/C,IAAI;AACJ,IAAI,WAAW,CAAC,GAAG,EAAE,IAAI,EAAE;AAC3B,QAAQ,IAAI,IAAI,IAAI,IAAI,EAAE;AAC1B,YAAY,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE;AACjD,gBAAgB,MAAM,KAAK,GAAG,IAAI;AAClC,gBAAgB,MAAM,OAAO,GAAG,EAAE;AAClC,gBAAgB,MAAM,WAAW,GAAG,KAAK,CAAC,MAAM;AAChD,gBAAgB,MAAM,gBAAgB,GAAG,KAAK,CAAC,WAAW;AAC1D,gBAAgB,MAAM,SAAS,GAAG,oBAAoB,CAAC,QAAQ,EAAE,KAAK,EAAE,GAAG,EAAE,OAAO,CAAC;AACrF;AACA,gBAAgB,MAAM,UAAU,GAAG,oBAAoB,CAAC,KAAK,CAAC,GAAG,WAAW,IAAI,KAAK,GAAG,KAAK;AAC7F;AACA,gBAAgB,MAAM,YAAY,GAAG,UAAU,KAAK,KAAK,GAAG,IAAI,GAAG,gBAAgB;AACnF,gBAAgB,kBAAkB,CAAC,OAAO,EAAE,UAAU,EAAE,SAAS,EAAE,YAAY,CAAC;AAChF,gBAAgB,kBAAkB,CAAC,OAAO,CAAC;AAC3C,YAAY;AACZ,YAAY,IAAI,GAAG,IAAI,GAAG,YAAY,KAAK,EAAE;AAC7C,gBAAgB,IAAI,EAAE,aAAa,IAAI,GAAG,CAAC,EAAE;AAC7C,oBAAoB,GAAG,CAAC,aAAa,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC;AACrD,gBAAgB;AAChB,YAAY;AACZ,YAAY,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE;AACrC,gBAAgB,MAAM,GAAG;AACzB,YAAY;AACZ,QAAQ;AACR,QAAQ,MAAM,UAAU,GAAG,IAAI,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,aAAa,CAAC;AAC3E,QAAQ,IAAI,CAAC,UAAU,EAAE;AACzB,YAAY,MAAM,GAAG;AACrB,QAAQ;AACR,QAAQ,UAAU,CAAC,KAAK,GAAG,GAAG;AAC9B,IAAI;AACJ,IAAI,UAAU,CAAC,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE;AACrC,QAAQ,IAAI,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,QAAQ,CAAC;AAClD,QAAQ,IAAI,GAAG,IAAI,IAAI,EAAE;AACzB,YAAY,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,QAAQ,GAAG,GAAG,GAAG,EAAE,EAAE;AACxD,QAAQ;AACR,QAAQ,YAAY,CAAC,GAAG,EAAE,OAAO,CAAC,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,CAAC;AACrD,IAAI;AACJ,IAAI,cAAc,CAAC,IAAI,EAAE,SAAS,EAAE;AACpC,QAAQ,OAAO,IAAI,EAAE;AACrB,YAAY,MAAM,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,QAAQ,CAAC;AACxD,YAAY,IAAI,GAAG,IAAI,IAAI,IAAI,YAAY,CAAC,GAAG,EAAE,SAAS,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE;AACnE,gBAAgB,OAAO,YAAY,CAAC,GAAG,EAAE,SAAS,CAAC,EAAE,EAAE,CAAC,CAAC;AACzD,YAAY;AACZ,YAAY,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;AAC3C,QAAQ;AACR,QAAQ,OAAO,SAAS;AACxB,IAAI;AACJ,IAAI,aAAa,CAAC,IAAI,EAAE;AACxB,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM;AAC/B,QAAQ,OAAO,KAAK,EAAE;AACtB,YAAY,IAAI,oBAAoB,CAAC,KAAK,CAAC,EAAE;AAC7C,gBAAgB,IAAI,KAAK,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,KAAK,IAAI,EAAE;AAChE,oBAAoB,OAAO,KAAK;AAChC,gBAAgB;AAChB,gBAAgB,KAAK;AACrB,oBAAoB,KAAK,CAAC,MAAM;AAChC;AACA,wBAAwB,KAAK,CAAC,UAAU;AACxC,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,KAAK,GAAG,KAAK,CAAC,MAAM;AACpC,YAAY;AACZ,QAAQ;AACR,QAAQ,OAAO,IAAI;AACnB,IAAI;AACJ,IAAI,WAAW,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE;AACnC,QAAQ,MAAM,KAAK,GAAG,IAAI;AAC1B,QAAQ,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC;AAClC,IAAI;AACJ,IAAI,WAAW,CAAC,IAAI,EAAE,IAAI,EAAE;AAC5B,QAAQ,MAAM,KAAK,GAAG,IAAI;AAC1B,QAAQ,IAAI,aAAa,GAAG,IAAI;AAChC,QAAQ,QAAQ,IAAI;AACpB,YAAY,KAAK,WAAW;AAC5B,YAAY,KAAK,aAAa;AAC9B,YAAY,KAAK,YAAY;AAC7B,YAAY,KAAK,QAAQ;AACzB,YAAY,KAAK,SAAS;AAC1B,gBAAgB,aAAa,GAAG,IAAI,CAAC,eAAe;AACpD,gBAAgB;AAChB,YAAY,KAAK,eAAe;AAChC,YAAY,KAAK,oBAAoB;AACrC,gBAAgB,aAAa,GAAG,QAAQ;AACxC,gBAAgB;AAChB;AACA,QAAQ,OAAO,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,aAAa,CAAC;AACjD,IAAI;AACJ,IAAI,wBAAwB,CAAC,KAAK,EAAE;AACpC,QAAQ,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,gCAAgC,CAAC,EAAE;AAChE,YAAY,KAAK,CAAC,KAAK,IAAI,EAAE;AAC7B,YAAY,MAAM,KAAK,GAAG,cAAc,CAAC,KAAK,CAAC;AAC/C,YAAY,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;AACzD,gBAAgB,MAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC;AACrC,gBAAgB,IAAI,UAAU,CAAC,IAAI,CAAC,EAAE;AACtC,oBAAoB,MAAM,KAAK,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;AAC9C,oBAAoB,IAAI,OAAO,KAAK,IAAI,QAAQ,EAAE;AAClD,wBAAwB,MAAM,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;AAClE,wBAAwB,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,UAAU;AACjD,oBAAoB;AACpB,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,IAAI;AACJ,IAAI,eAAe,GAAG,CAAC,EAAE,KAAK;AAC9B,QAAQ,OAAO,aAAa,CAAC,EAAE,EAAE,IAAI,CAAC,WAAW,CAAC;AAClD,IAAI,CAAC;AACL,IAAI,SAAS,CAAC,EAAE,EAAE;AAClB,QAAQ,MAAM,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;AACpC,QAAQ,UAAU,CAAC,OAAO,EAAE,KAAK,UAAU,EAAE,qBAAqB,GAAG,EAAE,CAAC;AACxE,QAAQ,OAAO,EAAE;AACjB,IAAI;AACJ,IAAI,aAAa,CAAC,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE;AAClD,QAAQ,IAAI,MAAM,EAAE;AACpB,YAAY,MAAM,oBAAoB,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,YAAY,CAAC;AAC7E,YAAY,MAAM,cAAc,GAAG,IAAI,GAAG,CAAC,4BAA4B,CAAC,oBAAoB,CAAC,CAAC;AAC9F,YAAY,cAAc,CAAC,GAAG,CAAC,OAAO,CAAC;AACvC,YAAY,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,YAAY,EAAE,uBAAuB,CAAC,cAAc,CAAC,CAAC;AACzF,QAAQ;AACR,QAAQ,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,EAAE;AACrC,YAAY,IAAI,CAAC,UAAU,GAAG,IAAI,GAAG,EAAE;AACvC,YAAY,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,KAAK;AAC7E,gBAAgB,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;AAC/D,YAAY,CAAC,CAAC;AACd,QAAQ;AACR,QAAQ,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE;AAC3C,YAAY,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC;AACxC,YAAY,MAAM,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC;AACrE,YAAY,YAAY,CAAC,YAAY,CAAC,MAAM,EAAE,OAAO,CAAC;AACtD,YAAY,YAAY,CAAC,WAAW,GAAG,OAAO;AAC9C,YAAY,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,kCAAkC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,EAAE,YAAY,CAAC;AAC1G,QAAQ;AACR,IAAI;AACJ;AACA;AACA,IAAI,eAAe,GAAG;AACtB,QAAQ,MAAM,mBAAmB,GAAG,EAAE;AACtC,QAAQ,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU;AAC7C,QAAQ,IAAI,KAAK,EAAE;AACnB,YAAY,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,KAAK,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;AAC/D,gBAAgB,MAAM,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC;AACzC,gBAAgB,IAAI,IAAI,CAAC,IAAI,KAAK,iBAAiB,EAAE;AACrD,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK;AAC3D,YAAY;AACZ,QAAQ;AACR,QAAQ,IAAI,CAAC,YAAY,GAAG,EAAE,mBAAmB,EAAE;AACnD,IAAI;AACJ;;AC1OO,MAAM,qBAAqB,GAAG,CAAC,GAAG,KAAK;AAC9C,IAAI,MAAM,QAAQ,GAAG,GAAG,CAAC,QAAQ;AACjC,IAAI,IAAI,CAAC,QAAQ,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA,QAAQ,MAAM,GAAG,CAAC,OAAO,EAAE;AAC3B,IAAI;AACJ,CAAC;AACD;AACY,MAAC,QAAQ,GAAG,CAAC,KAAK,KAAK;AACnC,IAAI,OAAO,KAAK,YAAY,UAAU;AACtC;AACO,MAAM,0BAA0B,GAAG,CAAC,KAAK,EAAE,kBAAkB,KAAK;AACzE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,kBAAkB,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,kBAAkB,CAAC;AACnE,CAAC;AACD;AACO,MAAM,qBAAqB,GAAG,CAAC,KAAK,EAAE,KAAK,KAAK;AACvD,IAAI,KAAK,CAAC,CAAC,uCAAuC,KAAK,IAAI,GAAG,EAAE;AAChE,IAAI,CAAC,KAAK,CAAC,CAAC,uCAAuC,CAAC,GAAG,CAAC,KAAK,CAAC;AAC9D,QAAQ,KAAK,CAAC,CAAC,uCAAuC,CAAC,GAAG,CAAC,KAAK,CAAC;AACjE,CAAC;AACM,MAAM,wBAAwB,GAAG,CAAC,gBAAgB,EAAE,SAAS,KAAK;AACzE,IAAI,IAAI,CAAC,CAAC,SAAS,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE;AACnD,QAAQ,MAAM,MAAM,GAAG,gBAAgB,CAAC,CAAC,uCAAuC;AAChF,QAAQ,MAAM,QAAQ,GAAG,gBAAgB,CAAC,CAAC,uCAAuC;AAClF,QAAQ,IAAI,GAAG,GAAG,IAAI;AACtB,QAAQ,IAAI,MAAM,CAAC,MAAM,CAAC,EAAE;AAC5B,YAAY,GAAG,GAAG,MAAM,CAAC,KAAK;AAC9B,QAAQ;AACR,aAAa,IAAI,MAAM,YAAY,kBAAkB,EAAE;AACvD,YAAY,GAAG,GAAG,MAAM,CAAC,YAAY;AACrC,QAAQ;AACR,aAAa,IAAI,QAAQ,KAAK,GAAG,iCAAiC;AAClE,YAAY,GAAG,GAAG,SAAS,CAAC,WAAW,CAAC,MAAM,EAAE,YAAY,CAAC;AAC7D,QAAQ;AACR,QAAQ,IAAI,GAAG,EAAE;AACjB,YAAY,SAAS,CAAC,gBAAgB,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC;AAC3D,QAAQ;AACR,IAAI;AACJ,CAAC;AACM,MAAM,eAAe,GAAG,CAAC,SAAS,EAAE,MAAM,EAAE,OAAO,KAAK;AAC/D,IAAI,MAAM,SAAS,GAAG,CAAC,gBAAgB,EAAE;AACzC,IAAI,IAAI,OAAO,EAAE;AACjB,QAAQ,MAAM,cAAc,GAAG,CAAC,kBAAkB,KAAK;AACvD,YAAY,MAAM,QAAQ,GAAG,kBAAkB,CAAC,CAAC,uCAAuC;AACxF,YAAY,MAAM,QAAQ,GAAG,kBAAkB,CAAC,CAAC,uCAAuC;AACxF,YAAY,aAAa,CAAC,SAAS,EAAE,4BAA4B,CAAC;AAClE,YAAY,IAAI,MAAM,CAAC,QAAQ,CAAC,EAAE;AAClC,gBAAgB,QAAQ,CAAC,OAAO,IAAI,CAAC;AAErC,gBAAgB,IAAI,SAAS,GAAG,CAAC;AACjC,gBAAgB,IAAI,QAAQ,CAAC,OAAO,GAAG,CAAC,+BAA+B;AACvE,oBAAoB,SAAS,GAAG,EAAE;AAClC,gBAAgB;AAChB,gBAAgB,SAAS,CAAC,WAAW,CAAC,SAAS,EAAE,QAAQ,CAAC;AAC1D,YAAY;AACZ,iBAAiB,IAAI,QAAQ,YAAY,UAAU,EAAE;AACrD;AACA;AACA,gBAAgB,IAAI,QAAQ,YAAY,kBAAkB,EAAE;AAC5D;AACA;AACA,oBAAoB,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,QAAQ,EAAE;AACzD,wBAAwB,SAAS,CAAC,WAAW,CAAC,CAAC,8BAA8B,IAAI,EAAE,QAAQ,CAAC,YAAY,CAAC;AACzG,oBAAoB;AACpB,gBAAgB;AAChB,gBAAgB,QAAQ,CAAC,UAAU,EAAE;AACrC,YAAY;AACZ,iBAAiB,IAAI,QAAQ,KAAK,GAAG,iCAAiC;AACtE,gBAAgB,MAAM,IAAI,GAAG,QAAQ;AACrC,gBAAgB,MAAM,GAAG,GAAG,SAAS,CAAC,WAAW,CAAC,IAAI,EAAE,YAAY,CAAC;AACrE,gBAAgB,aAAa,CAAC,GAAG,EAAE,yBAAyB,CAAC;AAC7D,gBAAgB,MAAM,KAAK,GAAG,SAAS,CAAC,WAAW,CAAC,IAAI,EAAE,aAAa,CAAC;AACxE,gBAAgB,SAAS,CAAC,WAAW,CAAC,CAAC,4BAA4B,IAAI,EAAE,GAAG,EAAE,KAAK,CAAC;AACpF,YAAY;AACZ,iBAAiB,IAAI,QAAQ,KAAK,GAAG,6BAA6B;AAClE,gBAAgB,IAAI,SAAS,EAAE;AAC/B,oBAAoB,MAAM,IAAI,GAAG,QAAQ;AACzC,oBAAoB,SAAS,CAAC,WAAW,CAAC,CAAC,4BAA4B,IAAI,EAAE,IAAI,EAAE,MAAM,CAAC;AAC1F,gBAAgB;AAChB,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,MAAM,IAAI,GAAG,QAAQ;AACrC,gBAAgB,MAAM,UAAU,GAAG,kBAAkB,CAAC,CAAC,mCAAmC;AAC1F,gBAAgB,IAAI,UAAU,YAAY,gBAAgB,EAAE;AAC5D,oBAAoB,MAAM,IAAI,GAAG,UAAU,CAAC,IAAI;AAChD,oBAAoB,MAAM,OAAO,GAAG;AACpC,wBAAwB,GAAG,IAAI;AAC/B,wBAAwB,OAAO,EAAE,MAAM;AACvC,qBAAqB;AACrB,oBAAoB,SAAS,CAAC,WAAW,CAAC,CAAC,4BAA4B,IAAI,EAAE,QAAQ,EAAE,OAAO,CAAC;AAC/F,gBAAgB;AAChB,YAAY;AACZ,QAAQ,CAAC;AACT,QAAQ,KAAK,MAAM,MAAM,IAAI,OAAO,EAAE;AACtC,YAAY,cAAc,CAAC,MAAM,CAAC;AAClC,QAAQ;AACR,IAAI;AAEJ,CAAC;AACD;AACO,MAAM,eAAe,GAAG,CAAC,GAAG,KAAK;AACxC,IAAI,OAAO,QAAQ,CAAC,GAAG,CAAC,IAAI,OAAO,GAAG,CAAC,gBAAgB,CAAC,KAAK,UAAU;AACvE,CAAC;AACM,MAAM,sBAAsB,GAAG,CAAC,qBAAqB,KAAK;AACjE,IAAI,IAAI,KAAK,GAAG,CAAC;AACjB,IAAI,QAAQ,qBAAqB;AACjC;AACA;AACA;AACA;AACA,QAAQ,KAAK,OAAO;AACpB,YAAY,KAAK,IAAI,EAAE;AACvB,YAAY;AACZ,QAAQ,KAAK,QAAQ;AACrB,YAAY,KAAK,IAAI,EAAE;AACvB,YAAY;AACZ;AACA,IAAI,OAAO,KAAK;AAChB,CAAC;;AC9HD,MAAM,aAAa,GAAG,EAAE;AACjB,SAAS,iBAAiB,CAAC,KAAK,EAAE;AACzC,IAAI,IAAI,KAAK,KAAK,IAAI,EAAE;AACxB,QAAQ,OAAO,MAAM;AACrB,IAAI;AACJ,SAAS,IAAI,KAAK,KAAK,SAAS,EAAE;AAClC,QAAQ,OAAO,WAAW;AAC1B,IAAI;AACJ,SAAS,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;AACxC,QAAQ,OAAO,GAAG,GAAG,KAAK,GAAG,GAAG;AAChC,IAAI;AACJ,SAAS,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,OAAO,KAAK,KAAK,SAAS,EAAE;AACtE,QAAQ,OAAO,MAAM,CAAC,KAAK,CAAC;AAC5B,IAAI;AACJ,SAAS,IAAI,MAAM,CAAC,KAAK,CAAC,EAAE;AAC5B,QAAQ,OAAO,CAAC,KAAK,EAAE,iBAAiB,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AACxD,IAAI;AACJ,SAAS,IAAI,KAAK,CAAC,KAAK,CAAC,EAAE;AAC3B,QAAQ,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;AACvC,IAAI;AACJ,SAAS,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,OAAO,KAAK,KAAK,UAAU,EAAE;AACvE,QAAQ,IAAI,aAAa,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;AAC3C,YAAY,OAAO,GAAG;AACtB,QAAQ;AAIR,QAAQ,IAAI;AACZ,YAAY,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC;AACrC,YAAY,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;AACtC,gBAAgB,IAAI,aAAa,CAAC,KAAK,CAAC,EAAE;AAC1C,oBAAoB,OAAO,GAAG,GAAG,KAAK,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,GAAG,GAAG;AACtE,gBAAgB;AAChB,qBAAqB;AACrB,oBAAoB,OAAO,KAAK,CAAC,GAAG,CAAC,iBAAiB,CAAC;AACvD,gBAAgB;AAChB,YAAY;AACZ,iBAAiB,IAAI,QAAQ,CAAC,KAAK,CAAC,EAAE;AACtC,gBAAgB,IAAI,KAAK,YAAY,iBAAiB,EAAE;AACxD,oBAAoB,OAAO,eAAe;AAC1C,gBAAgB;AAChB,qBAAqB,IAAI,KAAK,YAAY,kBAAkB,EAAE;AAC9D,oBAAoB,OAAO,gBAAgB;AAC3C,gBAAgB;AAChB,qBAAqB;AACrB,oBAAoB,OAAO,QAAQ;AACnC,gBAAgB;AAChB,YAAY;AACZ,iBAAiB,IAAI,OAAO,CAAC,KAAK,CAAC,EAAE;AACrC,gBAAgB,OAAO,OAAO;AAC9B,YAAY;AACZ,iBAAiB,IAAI,SAAS,CAAC,KAAK,CAAC,EAAE;AACvC,gBAAgB,OAAO,WAAW,CAAC,KAAK,CAAC;AACzC,YAAY;AACZ,iBAAiB,IAAI,aAAa,CAAC,KAAK,CAAC,EAAE;AAC3C,gBAAgB,OAAO,GAAG,GAAG,KAAK,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,GAAG,GAAG;AAClE,YAAY;AACZ,QAAQ;AACR,gBAAgB;AAChB,YAAY,aAAa,CAAC,GAAG,EAAE;AAC/B,QAAQ;AACR,IAAI;AACJ,IAAI,OAAO,KAAK;AAChB;AACO,MAAM,GAAG,GAAG,CAAC,IAAI,EAAE,MAAM,KAAK;AACrC,IAAI,OAAO,MAAM,CAAC,IAAI;AACtB,SAAS,KAAK,CAAC,IAAI;AACnB,SAAS,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,KAAK,CAAC,GAAG,GAAG,MAAM,GAAG,EAAE,IAAI,IAAI;AACtD,SAAS,IAAI,CAAC,IAAI,CAAC;AACnB,CAAC;AACM,MAAM,WAAW,GAAG,CAAC,KAAK,KAAK;AACtC,IAAI,IAAI,SAAS,CAAC,KAAK,CAAC,EAAE;AAC1B,QAAQ,IAAI,GAAG,GAAG,GAAG,GAAG,KAAK,CAAC,IAAI;AAClC,QAAQ,IAAI,KAAK,CAAC,KAAK,EAAE;AACzB,YAAY,KAAK,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;AAClE,gBAAgB,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,iBAAiB,CAAC,GAAG,CAAC;AAC/D,YAAY;AACZ,YAAY,MAAM,QAAQ,GAAG,KAAK,CAAC,QAAQ;AAC3C,YAAY,IAAI,QAAQ,IAAI,IAAI,EAAE;AAClC,gBAAgB,GAAG,IAAI,GAAG;AAC1B,gBAAgB,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;AAC7C,oBAAoB,QAAQ,CAAC,OAAO,CAAC,CAAC,KAAK,KAAK;AAChD,wBAAwB,GAAG,IAAI,WAAW,CAAC,KAAK,CAAC;AACjD,oBAAoB,CAAC,CAAC;AACtB,gBAAgB;AAChB,qBAAqB;AACrB,oBAAoB,GAAG,IAAI,WAAW,CAAC,QAAQ,CAAC;AAChD,gBAAgB;AAChB,gBAAgB,GAAG,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI,GAAG,GAAG;AAC9C,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,GAAG,IAAI,IAAI;AAC3B,YAAY;AACZ,QAAQ;AACR,QAAQ,OAAO,GAAG;AAClB,IAAI;AACJ,SAAS;AACT,QAAQ,OAAO,MAAM,CAAC,KAAK,CAAC;AAC5B,IAAI;AACJ,CAAC;;ACpGM,MAAM,eAAe,GAAG,CAAC,KAAK,KAAK;AAC1C,IAAI,OAAO,KAAK,CAAC,aAAa,CAAC;AAC/B,CAAC;AACM,MAAM,cAAc,GAAG,CAAC,KAAK,KAAK;AACzC,IAAI,OAAO,KAAK,GAAG,YAAY,CAAC,IAAI,IAAI;AACxC,CAAC;AACD;AACA;AACA;AACA;AACA;AACY,MAAC,iBAAiB,GAAG,CAAC,KAAK,EAAE,IAAI,KAAK;AAClD,IAAI,MAAM,OAAO,GAAG,eAAe,CAAC,KAAK,CAAC;AAC1C,IAAI,IAAI,OAAO,EAAE;AACjB,QAAQ,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;AAC3B,IAAI;AACJ;AACA;AACA;AACA;AACA;AACY,MAAC,gBAAgB,GAAG,CAAC,KAAK,EAAE,IAAI,KAAK;AACjD,IAAI,MAAM,OAAO,GAAG,eAAe,CAAC,KAAK,CAAC;AAC1C,IAAI,IAAI,OAAO,EAAE;AACjB,QAAQ,OAAO,CAAC,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC;AAC5D,IAAI;AACJ,IAAI,OAAO,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,WAAW,GAAG,CAAC,KAAK,KAAK;AACtC,IAAI,OAAO,cAAc,CAAC,KAAK,CAAC,IAAI,KAAK;AACzC;AACA;AACY,MAAC,OAAO,GAAG,CAAC,KAAK,KAAK;AAClC,IAAI,OAAO,YAAY,IAAI,KAAK;AAChC;AACO,SAAS,WAAW,CAAC,SAAS,EAAE,GAAG,EAAE,KAAK,EAAE;AACnD,IAAI,OAAO,IAAI,KAAK,CAAC,GAAG,EAAE,IAAI,YAAY,CAAC,KAAK,EAAE,SAAS,IAAI,IAAI,CAAC,CAAC;AACrE;AACO,MAAM,gBAAgB,GAAG,CAAC,GAAG,EAAE,KAAK,EAAE,SAAS,KAAK;AAC3D,IAAI,IAAI,oBAAoB,CAAC,GAAG,CAAC,IAAI,SAAS,EAAE;AAChD,QAAQ,IAAI,KAAK,GAAG,SAAS,CAAC,eAAe,CAAC,GAAG,CAAC,GAAG,CAAC;AACtD,QAAQ,IAAI,CAAC,KAAK,EAAE;AACpB,YAAY,KAAK,GAAG,WAAW,CAAC,SAAS,EAAE,GAAG,EAAE,KAAK,CAAC;AACtD,YAAY,SAAS,CAAC,eAAe,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC;AACrD,QAAQ;AACR,QAAQ,OAAO,KAAK;AACpB,IAAI;AACJ,IAAI,OAAO,GAAG;AACd,CAAC;AACM,MAAM,YAAY,CAAC;AAC1B,IAAI,OAAO;AACX,IAAI,WAAW;AACf,IAAI,SAAS,GAAG,IAAI;AACpB,IAAI,WAAW,CAAC,OAAO,EAAE,WAAW,EAAE;AACtC,QAAQ,IAAI,CAAC,OAAO,GAAG,OAAO;AAC9B,QAAQ,IAAI,CAAC,WAAW,GAAG,WAAW;AACtC,IAAI;AACJ,IAAI,QAAQ,GAAG;AACf,QAAQ,OAAO,SAAS;AACxB,IAAI;AACJ,IAAI,KAAK,CAAC,IAAI,EAAE;AAChB,QAAQ,MAAM,MAAM,GAAG,cAAc,CAAC,IAAI,CAAC;AAC3C,QAAQ,IAAI,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC,iDAAiD,IAAI,EAAE,IAAI,EAAE,UAAU,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;AAC7I,IAAI;AACJ,IAAI,GAAG,CAAC,MAAM,EAAE,IAAI,EAAE;AACtB;AACA,QAAQ,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;AACtC,YAAY,IAAI,IAAI,KAAK,YAAY,EAAE;AACvC,gBAAgB,OAAO,MAAM;AAC7B,YAAY;AACZ,YAAY,IAAI,IAAI,KAAK,aAAa,EAAE;AACxC,gBAAgB,OAAO,IAAI;AAC3B,YAAY;AACZ,YAAY,OAAO,MAAM,CAAC,IAAI,CAAC;AAC/B,QAAQ;AACR,QAAQ,MAAM,GAAG,GAAG,mBAAmB,EAAE;AACzC,QAAQ,MAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC;AAClC,QAAQ,IAAI,GAAG,EAAE;AACjB,YAAY,IAAI,IAAI,CAAC,WAAW,KAAK,IAAI,EAAE;AAC3C,gBAAgB,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE;AACtC,oBAAoB,OAAO,KAAK;AAChC,gBAAgB;AAChB;AACA,gBAAgB,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,WAAW;AAClD,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,UAAU,CAAC,CAAC,GAAG,CAAC,WAAW,IAAI,GAAG,CAAC,WAAW,KAAK,IAAI,CAAC,WAAW,EAAE,sCAAsC,CAAC;AAC5H,YAAY;AACZ,YAAY,MAAM,gBAAgB,GAAG,GAAG,CAAC,kBAAkB;AAC3D,YAAY,IAAI,gBAAgB,EAAE;AAClC,gBAAgB,cAAc,CAAC,MAAM,EAAE,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,eAAe,GAAG,IAAI,EAAE,IAAI,EAAE,gBAAgB,CAAC;AAC9G,YAAY;AACZ,QAAQ;AACR,QAAQ,IAAI,IAAI,KAAK,UAAU,IAAI,KAAK,KAAK,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE;AACxE,YAAY,OAAO,IAAI,CAAC,QAAQ;AAChC,QAAQ;AACR,QAAQ,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO;AAClC,QAAQ,IAAI,KAAK,GAAG,CAAC;AACrB,YAAY,QAAQ,CAAC,KAAK,CAAC;AAC3B,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC;AACnC,YAAY,CAAC,OAAO,CAAC,KAAK,CAAC;AAC3B,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;AACtC,YAAY,OAAO,gBAAgB,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC;AAC1E,QAAQ;AACR,QAAQ,OAAO,KAAK;AACpB,IAAI;AACJ;AACA,IAAI,GAAG,CAAC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE;AAC7B,QAAQ,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;AACtC,YAAY,MAAM,CAAC,IAAI,CAAC,GAAG,KAAK;AAChC,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,QAAQ,MAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,GAAG,CAAC,8BAA8B,WAAW,CAAC,KAAK,CAAC,GAAG,KAAK;AACjG,QAAQ,IAAI,IAAI,IAAI,MAAM,EAAE;AAC5B,YAAY,MAAM,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC;AACzC,YAAY,IAAI,QAAQ,KAAK,QAAQ,EAAE;AAEvC,gBAAgB,4BAA4B,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,CAAC;AAC1E,YAAY;AACZ,QAAQ;AACR,aAAa;AAEb,YAAY,4BAA4B,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,CAAC;AACtE,QAAQ;AACR,QAAQ,OAAO,IAAI;AACnB,IAAI;AACJ,IAAI,cAAc,CAAC,MAAM,EAAE,IAAI,EAAE;AACjC,QAAQ,IAAI,OAAO,IAAI,IAAI,QAAQ,IAAI,CAAC,OAAO,MAAM,CAAC,IAAI,CAAC,EAAE;AAC7D,YAAY,OAAO,KAAK;AACxB,QAAQ;AACR,QAAQ,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;AACpC;AACA;AACA,YAAY,IAAI,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC,iDAAiD,IAAI,EAAE,IAAI,EAAE,UAAU,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;AACjJ,QAAQ;AACR,QAAQ,OAAO,IAAI;AACnB,IAAI;AACJ,IAAI,GAAG,CAAC,MAAM,EAAE,IAAI,EAAE;AACtB,QAAQ,IAAI,IAAI,KAAK,YAAY,EAAE;AACnC,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,QAAQ,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;AACtC,YAAY,MAAM,GAAG,GAAG,mBAAmB,EAAE;AAC7C,YAAY,IAAI,GAAG,EAAE;AACrB,gBAAgB,MAAM,gBAAgB,GAAG,GAAG,CAAC,kBAAkB;AAC/D,gBAAgB,IAAI,gBAAgB,EAAE;AACtC,oBAAoB,cAAc,CAAC,MAAM,EAAE,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,eAAe,GAAG,IAAI,EAAE,IAAI,EAAE,gBAAgB,CAAC;AAClH,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,QAAQ,OAAO,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC;AACjE,IAAI;AACJ,IAAI,OAAO,CAAC,MAAM,EAAE;AACpB,QAAQ,MAAM,GAAG,GAAG,mBAAmB,EAAE;AACzC,QAAQ,MAAM,gBAAgB,GAAG,GAAG,EAAE,kBAAkB;AACxD,QAAQ,IAAI,gBAAgB,EAAE;AAC9B,YAAY,cAAc,CAAC,MAAM,EAAE,eAAe,EAAE,IAAI,EAAE,gBAAgB,CAAC;AAC3E,QAAQ;AACR,QAAQ,OAAO,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC;AACtC,IAAI;AACJ,IAAI,wBAAwB,CAAC,MAAM,EAAE,IAAI,EAAE;AAC3C,QAAQ,MAAM,UAAU,GAAG,OAAO,CAAC,wBAAwB,CAAC,MAAM,EAAE,IAAI,CAAC;AACzE,QAAQ,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;AAC/D,YAAY,OAAO,UAAU;AAC7B,QAAQ;AACR,QAAQ,IAAI,UAAU,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE;AACpD,YAAY,OAAO,UAAU;AAC7B,QAAQ;AACR,QAAQ,OAAO;AACf,YAAY,UAAU,EAAE,IAAI;AAC5B,YAAY,YAAY,EAAE,IAAI;AAC9B,SAAS;AACT,IAAI;AACJ;AACO,SAAS,cAAc,CAAC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,kBAAkB,EAAE;AACxE,IAAI,MAAM,UAAU,IAAI,KAAK,CAAC,SAAS,KAAK,IAAI,GAAG,EAAE,CAAC;AACtD,IAAI,IAAI,OAAO,GAAG,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC;AACtC,IAAI,IAAI,CAAC,OAAO,EAAE;AAClB,QAAQ,OAAO,GAAG,IAAI,GAAG,EAAE;AAC3B,QAAQ,UAAU,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,CAAC;AACrC,IAAI;AACJ;AACA;AACA;AACA,IAAI,0BAA0B,CAAC,OAAO,EAAE,kBAAkB,CAAC;AAC3D;AACA;AACA;AACA,IAAI,qBAAqB,CAAC,kBAAkB,EAAE,MAAM,CAAC;AACrD,IAAI,wBAAwB,CAAC,kBAAkB,EAAE,KAAK,CAAC,WAAW,CAAC;AAEnE;AACA,SAAS,4BAA4B,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE;AACzE,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,KAAK;AACxB,IAAI,MAAM,OAAO,GAAG,UAAU,CAAC,MAAM,EAAE,IAAI,EAAE,YAAY,CAAC,SAAS,CAAC;AACpE,IAAI,IAAI,OAAO,EAAE;AACjB,QAAQ,YAAY,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC,iDAAiD,IAAI,EAAE,YAAY,EAAE,OAAO,CAAC;AAC5H,IAAI;AACJ;AACA,SAAS,UAAU,CAAC,MAAM,EAAE,IAAI,EAAE,YAAY,EAAE;AAChD,IAAI,IAAI,gBAAgB;AACxB,IAAI,IAAI,YAAY,EAAE;AACtB,QAAQ,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;AACnC,YAAY,KAAK,MAAM,OAAO,IAAI,YAAY,CAAC,MAAM,EAAE,EAAE;AACzD,gBAAgB,gBAAgB,KAAK,IAAI,GAAG,EAAE;AAC9C,gBAAgB,KAAK,MAAM,MAAM,IAAI,OAAO,EAAE;AAC9C,oBAAoB,gBAAgB,CAAC,GAAG,CAAC,MAAM,CAAC;AAChD,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,aAAa;AACb,YAAY,gBAAgB,GAAG,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC;AACrD,QAAQ;AACR,IAAI;AACJ,IAAI,MAAM,eAAe,GAAG,YAAY,EAAE,GAAG,CAAC,eAAe,CAAC;AAC9D,IAAI,IAAI,eAAe,EAAE;AACzB,QAAQ,gBAAgB,KAAK,IAAI,GAAG,EAAE;AACtC,QAAQ,KAAK,MAAM,MAAM,IAAI,eAAe,EAAE;AAC9C,YAAY,gBAAgB,CAAC,GAAG,CAAC,MAAM,CAAC;AACxC,QAAQ;AACR,IAAI;AACJ,IAAI,OAAO,gBAAgB,IAAI,IAAI;AACnC;;AC9NO,MAAM,YAAY,GAAG,CAAC,KAAK,EAAE,IAAI,GAAG,IAAI,OAAO,EAAE,KAAK;AAC7D,IAAI,IAAI,KAAK,IAAI,IAAI;AACrB,QAAQ,OAAO,KAAK,KAAK,QAAQ;AACjC,QAAQ,OAAO,KAAK,KAAK,QAAQ;AACjC,QAAQ,OAAO,KAAK,KAAK,SAAS;AAClC,QAAQ,OAAO,KAAK,KAAK,QAAQ,EAAE;AACnC,QAAQ,OAAO,IAAI;AACnB,IAAI;AACJ,SAAS,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;AACxC,QAAQ,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;AAC7B,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,QAAQ,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC;AACvB,QAAQ,MAAM,KAAK,GAAG,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC;AAClD,QAAQ,IAAI,OAAO,CAAC,KAAK,CAAC,EAAE;AAC5B,YAAY,KAAK,GAAG,cAAc,CAAC,KAAK,CAAC;AACzC,QAAQ;AACR,QAAQ,IAAI,KAAK,IAAI,MAAM,CAAC,SAAS,EAAE;AACvC,YAAY,KAAK,MAAM,GAAG,IAAI,KAAK,EAAE;AACrC;AACA;AACA,gBAAgB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE;AACpE,oBAAoB,OAAO,KAAK;AAChC,gBAAgB;AAChB,YAAY;AACZ,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,aAAa,IAAI,KAAK,IAAI,KAAK,CAAC,SAAS,EAAE;AAC3C,YAAY,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACnD,gBAAgB,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE;AACnD,oBAAoB,OAAO,KAAK;AAChC,gBAAgB;AAChB,YAAY;AACZ,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,aAAa,IAAI,MAAM,CAAC,KAAK,CAAC,EAAE;AAChC,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,aAAa,IAAI,YAAY,CAAC,KAAK,CAAC,EAAE;AACtC,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,aAAa,IAAI,SAAS,CAAC,KAAK,CAAC,EAAE;AACnC,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,aAAa,IAAI,SAAS,CAAC,KAAK,CAAC,EAAE;AACnC,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,KAAK,EAAE;AACzC,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,GAAG,EAAE;AACvC,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,IAAI,EAAE;AACxC,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,MAAM,EAAE;AAC1C,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,eAAe,EAAE;AACnD,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,QAAQ,EAAE;AAC5C,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,GAAG,EAAE;AACvC,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,GAAG,EAAE;AACvC,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,UAAU,EAAE;AAC9C,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,aAAa,IAAI,KAAK,YAAY,gBAAgB,EAAE;AACpD,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,aAAa,IAAI,QAAQ,GAAG,KAAK,CAAC,EAAE;AACpC,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,IAAI;AACJ,SAAS,IAAI,OAAO,KAAK,KAAK,UAAU,EAAE;AAC1C,QAAQ,IAAI,KAAK,CAAC,KAAK,CAAC,IAAI,eAAe,CAAC,KAAK,CAAC,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,QAAQ,EAAE;AAC5F,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,IAAI;AACJ,SAAS,IAAI,KAAK,KAAK,cAAc,IAAI,KAAK,KAAK,iBAAiB,IAAI,KAAK,KAAK,eAAe,EAAE;AACnG,QAAQ,OAAO,IAAI;AACnB,IAAI;AACJ,IAAI,OAAO,KAAK;AAChB,CAAC;;ACtGD,MAAM,iBAAiB,GAAG,CAAC,GAAG,EAAE,MAAM,KAAK;AAC3C,IAAI,MAAM,IAAI,GAAG,IAAI,OAAO,EAAE;AAC9B,IAAI,OAAO,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,KAAK,KAAK;AAC7C,QAAQ,IAAI,QAAQ,CAAC,KAAK,CAAC,EAAE;AAC7B,YAAY,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;AACjC,gBAAgB,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC;AAC7D,YAAY;AACZ,YAAY,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC;AAC3B,QAAQ;AACR,QAAQ,OAAO,KAAK;AACpB,IAAI,CAAC,EAAE,MAAM,CAAC;AACd,CAAC;AACD,MAAM,QAAQ,GAAG,CAAC,KAAK,EAAE,MAAM,KAAK;AACpC,IAAI,IAAI,MAAM,GAAG,aAAa,CAAC,KAAK;AACpC,UAAU,cAAc,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,CAAC,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE;AACzE,UAAU,OAAO,KAAK,KAAK;AAC3B,cAAc,MAAM,CAAC,KAAK;AAC1B,cAAc,iBAAiB,CAAC,KAAK,EAAE,CAAC,CAAC;AACzC,IAAI,IAAI,MAAM,CAAC,MAAM,GAAG,GAAG,EAAE;AAC7B,QAAQ,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,MAAM;AAC9C,IAAI;AACJ,IAAI,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,GAAG,MAAM,CAAC;AACjD,IAAI,OAAO,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,MAAM,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,EAAE,MAAM,CAAC,CAAC,IAAI,MAAM;AAC7E,CAAC;AACD,IAAI,MAAM,GAAG,KAAK;AAClB;AACY,MAAC,UAAU,GAAG,CAAC,KAAK,EAAE,KAAK,GAAG,KAAK,EAAE,MAAM,GAAG,EAAE,EAAE,KAAK,GAAG,EAAE,KAAK;AAC7E,IAAI,MAAM,GAAG,GAAG,KAAK,GAAG,UAAU,GAAG,EAAE;AACvC,IAAI,MAAM,KAAK,GAAG,KAAK,GAAG,SAAS,GAAG,EAAE;AACxC,IAAI,MAAM,MAAM,GAAG,MAAM,KAAK,EAAE;AAChC,IAAI,MAAM,GAAG,GAAG,EAAE;AAClB,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC3C,QAAQ,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,GAAG,KAAK,EAAE;AACpC,YAAY,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;AAC3B,YAAY;AACZ,QAAQ;AACR,QAAQ,MAAM,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC;AAC5B,QAAQ,IAAI,KAAK,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;AAC9B,QAAQ,IAAI,GAAG,KAAK,CAAC,sBAAsB;AAC3C,YAAY,MAAM,KAAK,GAAG,OAAO,KAAK,KAAK,QAAQ,IAAI,OAAO,KAAK,KAAK,QAAQ;AAChF,YAAY,IAAI,KAAK,EAAE;AACvB,gBAAgB,MAAM,GAAG,IAAI;AAC7B,YAAY;AACZ,YAAY,MAAM,IAAI,GAAG,CAAC,CAAC,EAAE,QAAQ,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,WAAW,CAAC,IAAI,GAAG,OAAO,KAAK,CAAC,CAAC,CAAC;AACvF,YAAY,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,QAAQ,CAAC,KAAK,EAAE,CAAC,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/E,QAAQ;AACR,aAAa;AACb,YAAY,IAAI,GAAG,KAAK,CAAC,yBAAyB;AAClD,gBAAgB,KAAK,GAAG,cAAc,CAAC,KAAK,CAAC;AAC7C,YAAY;AACZ,iBAAiB,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;AAChD,gBAAgB,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;AAC7C,gBAAgB,IAAI,KAAK,CAAC,MAAM,GAAG,GAAG,EAAE;AACxC,oBAAoB,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,MAAM;AACxD,gBAAgB;AAChB,YAAY;AACZ,iBAAiB,IAAI,GAAG,KAAK,EAAE,4BAA4B;AAC3D,gBAAgB,KAAK,GAAG,GAAG,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC;AACvF,YAAY;AACZ,iBAAiB,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;AAC3C,gBAAgB,KAAK,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,GAAG,EAAE,UAAU,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,GAAG,IAAI;AACzG,YAAY;AACZ,YAAY,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,YAAY,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;AACnE,QAAQ;AACR,IAAI;AACJ,IAAI,MAAM,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,MAAM,CAAC,EAAE,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;AACxF,IAAI,IAAI,MAAM,EAAE;AAChB,QAAQ,MAAM,KAAK,GAAG,MAAM,GAAG,EAAE,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC;AAC7E,QAAQ,MAAM,GAAG,KAAK;AACtB,QAAQ,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;AACtC,IAAI;AACJ,IAAI,OAAO,MAAM;AACjB;AACO,MAAM,YAAY,GAAG,CAAC,IAAI,KAAK;AACtC,IAAI,OAAO,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC;AACnD,CAAC;AACM,MAAM,cAAc,GAAG,CAAC,IAAI,KAAK;AACxC,IAAI,OAAO,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC;AACrD,CAAC;;AC9ED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,eAAe,CAAC,IAAI,EAAE,SAAS,EAAE;AACjD,IAAI,MAAM,aAAa,GAAG,CAAC,IAAI,EAAE,KAAK,KAAK;AAC3C,QAAQ,OAAO,IAAI,KAAK,CAAC,0BAA0B,OAAO,KAAK,KAAK,QAAQ;AAC5E,IAAI,CAAC;AACL,IAAI,MAAM,gBAAgB,GAAG,CAAC,IAAI,KAAK;AACvC,QAAQ,OAAO,IAAI,KAAK,EAAE;AAC1B,IAAI,CAAC;AACL,IAAI,MAAM,gBAAgB,GAAG,CAAC,IAAI,KAAK;AACvC,QAAQ,OAAO,IAAI,KAAK,EAAE;AAC1B,IAAI,CAAC;AACL,IAAI,MAAM,cAAc,GAAG,CAAC,KAAK,KAAK;AACtC,QAAQ,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC;AACtD,QAAQ,IAAI,MAAM,GAAG,IAAI;AACzB,QAAQ,IAAI,UAAU,GAAG,CAAC;AAC1B,QAAQ,IAAI,SAAS,GAAG,CAAC;AACzB,QAAQ,IAAI,UAAU,GAAG,CAAC;AAC1B,QAAQ,IAAI,MAAM,GAAG,IAAI;AACzB,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACrD,YAAY,MAAM,GAAG,MAAM;AAC3B,YAAY,SAAS,GAAG,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC;AACxD,YAAY,UAAU,GAAG,SAAS,GAAG,CAAC;AACtC,YAAY,UAAU,GAAG,MAAM,CAAC,SAAS,CAAC;AAC1C,YAAY,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC;AACvC,YAAY,IAAI,UAAU,KAAK,CAAC,wBAAwB;AACxD,gBAAgB,MAAM,OAAO,GAAG,MAAM;AACtC,gBAAgB,MAAM,gBAAgB,GAAG,OAAO,GAAG,CAAC;AACpD,gBAAgB,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC;AACnD,gBAAgB,MAAM,GAAG,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;AACnD,YAAY;AACZ,QAAQ;AACR,QAAQ,IAAI,MAAM,EAAE;AACpB,YAAY,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC;AACjC,YAAY,MAAM,CAAC,UAAU,CAAC,GAAG,KAAK,GAAG,CAAC;AAC1C,QAAQ;AACR,QAAQ,IAAI,CAAC,KAAK,CAAC,GAAG,UAAU;AAChC,QAAQ,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,MAAM;AAChC,IAAI,CAAC;AACL,IAAI,MAAM,SAAS,GAAG,QAAQ,GAAG,SAAS,GAAG,EAAE;AAC/C,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;AAC7C,QAAQ,IAAI,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE;AACjD,YAAY,cAAc,CAAC,CAAC,CAAC;AAC7B,QAAQ;AACR,aAAa,IAAI,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;AAC5C,YAAY,SAAS,CAAC,aAAa,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;AACjD,QAAQ;AACR,aAAa,IAAI,CAAC,QAAQ,IAAI,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;AACzD;AACA,YAAY,MAAM,GAAG,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;AACnC,YAAY,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AACtD,YAAY,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC;AACpC,QAAQ;AACR,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,IAAI,CAAC,QAAQ,EAAE;AACnB,QAAQ,KAAK,MAAM,GAAG,IAAI,SAAS,EAAE;AACrC;AACA,YAAY,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;AAC3C,YAAY,IAAI,KAAK;AACrB,YAAY,IAAI,SAAS,KAAK,CAAC,sBAAsB;AACrD,gBAAgB,KAAK,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;AACzC,YAAY;AACZ,iBAAiB,IAAI,SAAS,KAAK,CAAC,wBAAwB;AAC5D,gBAAgB,MAAM,MAAM,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;AAChD,gBAAgB,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC;AAC5C,YAAY;AACZ,iBAAiB;AACjB,gBAAgB;AAChB,YAAY;AACZ,YAAYU,CAAO,CAAC,KAAK,EAAE,GAAG,CAAC;AAC/B,QAAQ;AACR,IAAI;AACJ;;ACjIA;AACA;AACA;AACA;AACA;AACA;AACO,eAAe,UAAU,CAAC,IAAI,EAAE;AACvC,IAAI,MAAM,oBAAoB,GAAG,0BAA0B,CAAC,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,MAAM,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE,IAAI,OAAO,EAAE,CAAC;AACrH,IAAI,KAAK,MAAM,IAAI,IAAI,IAAI,EAAE;AAC7B,QAAQ,oBAAoB,CAAC,SAAS,CAAC,IAAI,CAAC;AAC5C,IAAI;AACJ,IAAI,MAAM,oBAAoB,CAAC,WAAW,EAAE;AAC5C,IAAI,OAAO,oBAAoB,CAAC,QAAQ,CAAC,QAAQ,EAAE;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,YAAY,CAAC,YAAY,EAAE,OAAO,EAAE;AACpD,IAAI,IAAI,YAAY,IAAI,IAAI,EAAE;AAC9B,QAAQ,OAAO,EAAE;AACjB,IAAI;AACJ,IAAI,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC;AAC9C,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;AACnC,QAAQ,OAAO,EAAE;AACjB,IAAI;AACJ,IAAI,IAAI,SAAS;AACjB,IAAI,IAAI,MAAM,CAAC,OAAO,CAAC,IAAIT,WAAS,CAAC,OAAO,CAAC,EAAE;AAC/C,QAAQ,SAAS,GAAG,2BAA2B,CAAC,SAAS,EAAE,OAAO,CAAC;AACnE,IAAI;AACJ,SAAS;AACT,QAAQ,SAAS,GAAG,2BAA2B,CAAC,SAAS,CAAC;AAC1D,IAAI;AACJ,IAAI,MAAM,MAAM,GAAG,EAAE;AACrB,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;AAClD,QAAQ,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,eAAe,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AAClF,IAAI;AACJ,IAAI,OAAO,MAAM;AACjB;AACO,SAAS,aAAa,CAAC,EAAE,EAAE,SAAS,EAAE;AAC7C,IAAI,IAAI,OAAO,EAAE,KAAK,QAAQ,EAAE;AAChC,QAAQ,EAAE,GAAG,QAAQ,CAAC,EAAE,EAAE,EAAE,CAAC;AAC7B,IAAI;AACJ,IAAI,UAAU,CAAC,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,kBAAkB,EAAE,EAAE,CAAC,IAAI,EAAE,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;AACvF,IAAI,OAAO,SAAS,CAAC,EAAE,CAAC;AACxB;AACO,SAAS,2BAA2B,CAAC,SAAS,EAAE,OAAO,EAAE;AAChE;AACA,IAAI,IAAI,KAAK;AACb,IAAI,MAAM,SAAS,GAAG;AACtB,QAAQ,eAAe,EAAE,CAAC,EAAE,KAAK,aAAa,CAAC,EAAE,EAAE,KAAK,CAAC;AACzD,QAAQ,SAAS,EAAE,CAAC,CAAC,KAAK;AAC1B,YAAY,MAAM,EAAE,GAAG,MAAM,EAAE,CAAC;AAChC,YAAY,OAAO,EAAE;AACrB,QAAQ,CAAC;AACT,QAAQ,eAAe,EAAE,IAAI,OAAO,EAAE;AACtC,QAAQ,OAAO,EAAE,IAAI;AACrB,QAAQ,aAAa,EAAE,IAAI;AAC3B,QAAQ,WAAW,EAAE,IAAI;AACzB,KAAK;AACL,IAAI,eAAe,CAAC,SAAS,EAAE,SAAS,CAAC;AACzC,IAAI,KAAK,GAAG,qBAAqB,CAAC,SAAS,EAAE,SAAS,CAAC;AACvD,IAAI,SAAS,CAAC,OAAO,GAAG,KAAK;AAC7B,IAAI,IAAI,OAAO,EAAE;AACjB,QAAQ,SAAS,CAAC,OAAO,GAAG,OAAO;AACnC,IAAI;AACJ,IAAI,OAAO,SAAS;AACpB;;ACpEA;AACY,MAAC,kBAAkB,GAAG,CAAC,KAAK,EAAE,UAAU,KAAK;AACzD,IAAI,MAAM,IAAI,GAAG,IAAI,OAAO,EAAE;AAC9B,IAAI,OAAO,OAAO,CAAC,MAAM,mBAAmB,CAAC,KAAK,EAAE,IAAI,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;AAC3E;AACA,MAAM,mBAAmB,GAAG,CAAC,KAAK,EAAE,IAAI,EAAE,GAAG,EAAE,UAAU,KAAK;AAC9D,IAAI,MAAM,SAAS,GAAG,WAAW,CAAC,KAAK,CAAC;AACxC,IAAI,IAAI,SAAS,IAAI,IAAI,EAAE;AAC3B,QAAQ,OAAO,KAAK;AACpB,IAAI;AACJ,IAAI,IAAI,eAAe,CAAC,SAAS,CAAC,EAAE;AACpC,QAAQ,IAAI,OAAO,SAAS,KAAK,QAAQ,EAAE;AAC3C,YAAY,IAAI,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE;AACrC,gBAAgB,OAAO,KAAK;AAC5B,YAAY;AACZ,YAAY,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC;AAC/B,QAAQ;AACR,QAAQ,IAAI,QAAQ,CAAC,SAAS,CAAC,EAAE;AACjC,YAAY,OAAO,KAAK;AACxB,QAAQ;AACR,QAAQ,IAAI,YAAY,CAAC,SAAS,CAAC,EAAE;AACrC,YAAY,OAAO,KAAK;AACxB,QAAQ;AACR,QAAQ,MAAM,OAAO,GAAG,OAAO,SAAS;AACxC,QAAQ,QAAQ,OAAO;AACvB,YAAY,KAAK,QAAQ;AACzB,gBAAgB,IAAI,SAAS,CAAC,SAAS,CAAC,EAAE;AAC1C,oBAAoB,OAAO,KAAK;AAChC,gBAAgB;AAChB,gBAAgB,IAAI,MAAM,CAAC,SAAS,CAAC,EAAE;AACvC,oBAAoB,OAAO,KAAK;AAChC,gBAAgB;AAChB,gBAAgB,IAAI,OAAO,CAAC,SAAS,CAAC,EAAE;AACxC,oBAAoB,IAAI,WAAW,GAAG,CAAC;AACvC;AACA,oBAAoB,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK;AAChD,wBAAwB,IAAI,CAAC,KAAK,WAAW,EAAE;AAC/C,4BAA4B,MAAM,MAAM,CAAC,CAAC,kCAAkC,CAAC,SAAS,CAAC,CAAC;AACxF,wBAAwB;AACxB,wBAAwB,mBAAmB,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;AACzE,wBAAwB,WAAW,GAAG,CAAC,GAAG,CAAC;AAC3C,oBAAoB,CAAC,CAAC;AACtB,oBAAoB,OAAO,KAAK;AAChC,gBAAgB;AAChB,gBAAgB,IAAI,oBAAoB,CAAC,SAAS,CAAC,EAAE;AACrD,oBAAoB,KAAK,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;AACzE,wBAAwB,mBAAmB,CAAC,IAAI,EAAE,IAAI,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;AACxE,oBAAoB;AACpB,oBAAoB,OAAO,KAAK;AAChC,gBAAgB;AAChB,gBAAgB;AAChB;AACA,QAAQ,IAAI,OAAO;AACnB,QAAQ,IAAI,UAAU,EAAE;AACxB,YAAY,OAAO,GAAG,UAAU;AAChC,QAAQ;AACR,aAAa;AACb,YAAY,OAAO,GAAG,4BAA4B;AAClD,QAAQ;AACR,QAAQ,IAAI,GAAG,KAAK,GAAG,EAAE;AACzB,YAAY,OAAO,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC;AACpC,QAAQ;AACR,QAAQ,IAAI,OAAO,KAAK,QAAQ,EAAE;AAClC,YAAY,OAAO,IAAI,CAAC,8BAA8B,EAAE,KAAK,EAAE,WAAW,CAAC,IAAI,CAAC,2HAA2H,CAAC;AAC5M,QAAQ;AACR,aAAa,IAAI,OAAO,KAAK,UAAU,EAAE;AACzC,YAAY,MAAM,MAAM,GAAG,KAAK,CAAC,IAAI;AACrC,YAAY,OAAO,IAAI,CAAC,gCAAgC,EAAE,MAAM,CAAC,+DAA+D,EAAE,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,gFAAgF,CAAC;AAC/O,QAAQ;AACR,QAAQ,MAAM,MAAM,CAAC,CAAC,kCAAkC,CAAC,OAAO,CAAC,CAAC;AAClE,IAAI;AACJ,IAAI,OAAO,KAAK;AAChB,CAAC;AACD,MAAM,cAAc,iBAAiB,IAAI,OAAO,EAAE;AAClD,MAAM,eAAe,GAAG,CAAC,GAAG,KAAK;AACjC,IAAI,IAAI,QAAQ,CAAC,GAAG,CAAC,IAAI,UAAU,CAAC,GAAG,CAAC,EAAE;AAC1C,QAAQ,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,iBAAiB,IAAI,GAAG,CAAC;AACtE,IAAI;AACJ,IAAI,OAAO,IAAI;AACf,CAAC;AACM,MAAM,iBAAiB,GAAG,CAAC,GAAG,KAAK;AAC1C,IAAI,QAAQ,CAAC,CAAC,GAAG;AACjB,SAAS,QAAQ,CAAC,GAAG,CAAC,IAAI,OAAO,GAAG,KAAK,UAAU,CAAC;AACpD,SAAS,iBAAiB,IAAI,GAAG,IAAI,cAAc,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AAC7D,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,WAAW,GAAG,CAAC,KAAK,KAAK;AACtC;AACA,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,KAAK,KAAK,IAAI,KAAK,OAAO,KAAK,KAAK,UAAU,EAAE;AAC5E,QAAQ,cAAc,CAAC,GAAG,CAAC,KAAK,CAAC;AACjC,IAAI;AACJ,IAAI,OAAO,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,iBAAiB,GAAG,MAAM,CAAC,aAAa;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,gBAAgB,GAAG,MAAM,CAAC,WAAW;;AC/IlD;AAeA,MAAM,cAAc,GAAG,MAAM,CAAC,UAAU,CAAC;AAClC,MAAM,SAAS,GAAG,CAAC,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE,UAAU,KAAK;AACtF,IAAI,IAAI,IAAI,IAAI,UAAU,EAAE;AAC5B,QAAQ,IAAI,UAAU,EAAE;AACxB,YAAY,KAAK,MAAM,IAAI,IAAI,UAAU,EAAE;AAC3C,gBAAgB,kBAAkB,CAAC,IAAI,EAAE,wDAAwD,CAAC;AAClG,YAAY;AACZ,QAAQ;AACR,IAAI;AACJ,IAAI,IAAI,YAAY;AACpB,IAAI,MAAM,GAAG,GAAG,gBAAgB,GAAG,IAAI,EAAE;AACzC,QAAQ,MAAM,SAAS,GAAG,eAAe,CAAC,IAAI,CAAC,IAAI,EAAE,mBAAmB,EAAE,CAAC;AAC3E,QAAQ,MAAM,MAAM,GAAG,MAAM,SAAS,CAAC,GAAG,IAAI,CAAC;AAC/C,QAAQ,OAAO,MAAM;AACrB,IAAI,CAAC;AACL,IAAI,MAAM,YAAY,GAAG,CAAC,EAAE,KAAK;AACjC,QAAQ,IAAI,CAAC,YAAY,EAAE;AAC3B,YAAY,YAAY,GAAG,EAAE;AAC7B,QAAQ;AACR,QAAQ,OAAO,YAAY;AAC3B,IAAI,CAAC;AACL,IAAI,SAAS,eAAe,CAAC,UAAU,EAAE,QAAQ,EAAE;AACnD;AACA,QAAQ,MAAM,KAAK,GAAG,CAAC,GAAG,IAAI,KAAK;AACnC,YAAY,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE;AAC/B,gBAAgB,OAAO,GAAG,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK;AAClD,oBAAoB,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE;AACzC,wBAAwB,MAAM,MAAM,CAAC,CAAC,+BAA+B;AACrE,oBAAoB;AACpB,oBAAoB,OAAO,KAAK,CAAC,GAAG,IAAI,CAAC;AACzC,gBAAgB,CAAC,CAAC;AAClB,YAAY;AACZ,YAAY,IAAI,QAAQ,IAAI,QAAQ,EAAE,KAAK,KAAK,EAAE;AAClD,gBAAgB;AAChB,YAAY;AACZ,YAAY,MAAM,OAAO,GAAG,8BAA8B,CAAC,UAAU,CAAC;AACtE,YAAY,MAAM,OAAO,GAAG,OAAO,CAAC,KAAK;AACzC,YAAY,MAAM,SAAS,GAAG,OAAO,CAAC,OAAO;AAC7C;AACA;AACA,YAAY,OAAO,CAAC,KAAK,GAAG,GAAG;AAC/B,YAAY,OAAO,CAAC,OAAO,KAAK,IAAI;AACpC,YAAY,IAAI;AAChB,gBAAgB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC;AACrE,YAAY;AACZ,oBAAoB;AACpB,gBAAgB,OAAO,CAAC,KAAK,GAAG,OAAO;AACvC,gBAAgB,OAAO,CAAC,OAAO,GAAG,SAAS;AAC3C,YAAY;AACZ,QAAQ,CAAC;AACT,QAAQ,OAAO,KAAK;AACpB,IAAI;AACJ;AACA,IAAI,MAAM,MAAM,GAAG,CAAC,EAAE,KAAK;AAC3B,QAAQ,IAAI,OAAO,EAAE,KAAK,UAAU,KAAK,CAAC,OAAO,EAAE,MAAM,IAAI,CAAC,UAAU,EAAE,MAAM,CAAC,EAAE;AACnF,YAAY,OAAO,EAAE;AACrB,QAAQ;AACR,QAAQ,OAAO,UAAU,GAAG,IAAI,EAAE;AAClC,YAAY,IAAI,OAAO,GAAG,mBAAmB,EAAE;AAC/C;AACA,YAAY,IAAI,OAAO,EAAE;AACzB;AACA,gBAAgB,IAAI,OAAO,CAAC,KAAK,EAAE,QAAQ,KAAK,GAAG,CAAC,QAAQ,EAAE;AAC9D,oBAAoB,OAAO,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC;AAC/C,gBAAgB;AAChB,gBAAgB,MAAM,OAAO,GAAG,OAAO,CAAC,KAAK;AAC7C,gBAAgB,OAAO,CAAC,KAAK,GAAG,GAAG;AACnC,gBAAgB,IAAI;AACpB,oBAAoB,OAAO,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC;AAC/C,gBAAgB;AAChB,wBAAwB;AACxB,oBAAoB,OAAO,CAAC,KAAK,GAAG,OAAO;AAC3C,gBAAgB;AAChB,YAAY;AACZ,YAAY,OAAO,GAAG,gBAAgB,EAAE;AACxC,YAAY,OAAO,CAAC,KAAK,GAAG,GAAG;AAC/B,YAAY,OAAO,CAAC,OAAO,GAAG,IAAI;AAClC,YAAY,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,EAAE,EAAE,GAAG,IAAI,CAAC;AAC1D,QAAQ,CAAC;AACT,IAAI,CAAC;AACL;AACA,IAAI,IAAI,QAAQ,IAAI,cAAc,IAAI,QAAQ,EAAE;AAChD,QAAQ,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAC;AAC5C,IAAI;AACJ,IAAI,MAAM,OAAO,GAAG;AACpB,UAAU,YAAY;AACtB,UAAU,OAAO,WAAW,KAAK;AACjC,YAAY,IAAI,SAAS,KAAK,IAAI,EAAE;AACpC;AACA,gBAAgB,OAAO,SAAS;AAChC,YAAY;AACZ,YAAY,IAAI,WAAW,EAAE;AAC7B,gBAAgB,YAAY,CAAC,WAAW,CAAC;AACzC,YAAY;AACZ,YAAY,IAAI,KAAK,KAAK,EAAE,EAAE;AAC9B;AACA,gBAAgB,aAAa,CAAC,YAAY,EAAE,sCAAsC,CAAC;AACnF,gBAAgB,MAAM,IAAI,GAAG,YAAY,CAAC,YAAY,CAAC,aAAa,CAAC;AACrE,gBAAgB,MAAM,GAAG,GAAG,YAAY,CAAC,aAAa;AACtD,gBAAgB,MAAM,MAAM,GAAG,SAAS,CAAC,GAAG,EAAE,IAAI,CAAC;AACnD;AACA,gBAAgB,QAAQ,GAAG,CAAC,QAAQ,GAAG,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AACzE,YAAY;AACZ,YAAY,IAAI,SAAS,IAAI,KAAK,EAAE;AACpC;AACA,gBAAgBS,CAAO,CAAC,KAAK,EAAE,CAAC,CAAC;AACjC,YAAY;AACZ,YAAY,MAAM,KAAK,GAAG,GAAG,EAAE;AAC/B,YAAY,MAAM,GAAG,GAAG,mBAAmB,EAAE;AAC7C,YAAY,IAAI,QAAQ,KAAK,IAAI,EAAE;AACnC,gBAAgB,SAAS,GAAG,QAAQ,EAAE,CAAC,IAAI,CAAC,CAAC,MAAM,KAAK;AACxD,oBAAoB,MAAM,QAAQ,GAAG,MAAM,EAAE,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE;AACzE;AACA,oBAAoB,QAAQ,CAAC,cAAc,CAAC,GAAG,QAAQ;AACvD,oBAAoB,GAAG,CAAC,QAAQ,GAAG,QAAQ;AAC3C,oBAAoB,OAAO,QAAQ;AACnC,gBAAgB,CAAC,CAAC;AAClB,YAAY;AACZ,iBAAiB;AACjB;AACA,gBAAgB,MAAM,QAAQ,GAAG,WAAW,EAAE,CAAC,YAAY,CAAC,YAAY,EAAE,KAAK,EAAE,MAAM,CAAC;AACxF,gBAAgB,SAAS,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC,GAAG,MAAM,GAAG,CAAC,QAAQ,GAAG,MAAM,EAAE,SAAS,GAAG,GAAG,EAAE,CAAC,CAAC;AACpG,YAAY;AACZ,YAAY,IAAI,SAAS,CAAC,SAAS,CAAC,EAAE;AACtC,gBAAgB,SAAS,CAAC,IAAI,CAAC,MAAM,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,SAAS,EAAE,KAAK,CAAC,EAAE,CAAC,GAAG,KAAK;AAC7F,oBAAoB,OAAO,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,MAAM,CAAC,eAAe,CAAC,EAAE,GAAG,CAAC;AACtE;AACA,oBAAoB,SAAS,GAAG,IAAI;AACpC,gBAAgB,CAAC,CAAC;AAClB,YAAY;AACZ,YAAY,OAAO,SAAS;AAC5B,QAAQ,CAAC;AACT,IAAI,MAAM,8BAA8B,GAAG,CAAC,MAAM,KAAK;AACvD,QAAQ,IAAI,MAAM,IAAI,IAAI,EAAE;AAC5B,YAAY,OAAO,gBAAgB,EAAE;AACrC,QAAQ;AACR,aAAa,IAAI,OAAO,CAAC,MAAM,CAAC,EAAE;AAClC,YAAY,OAAO,yBAAyB,CAAC,MAAM,CAAC;AACpD,QAAQ;AACR,aAAa;AACb,YAAY,OAAO,MAAM;AACzB,QAAQ;AACR,IAAI,CAAC;AACL,IAAI,MAAM,IAAI,GAAG,aAAa,CAAC,MAAM,CAAC;AACtC,IAAI,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE;AACvB,QAAQ,SAAS,EAAE,MAAM,MAAM;AAC/B,QAAQ,OAAO,EAAE,MAAM,IAAI;AAC3B;AACA,QAAQ,WAAW,EAAE,MAAM,GAAG,CAAC,YAAY;AAC3C,QAAQ,OAAO;AACf,QAAQ,cAAc,EAAE,YAAY;AACpC,QAAQ,OAAO,EAAE,KAAK;AACtB,QAAQ,QAAQ,EAAE,MAAM;AACxB,QAAQ,MAAM,EAAE,IAAI;AACpB,QAAQ,KAAK,EAAE,eAAe;AAC9B,QAAQ,SAAS,EAAE,OAAO;AAC1B,QAAQ,YAAY,EAAE,UAAU;AAChC,QAAQ,GAAG,EAAE,IAAI;AACjB,QAAQ,QAAQ,EAAE,SAAS;AAC3B,KAAK,CAAC;AACN,IAAI,IAAI,SAAS,EAAE;AACnB;AACA,QAAQ,SAAS,GAAG,SAAS,CAAC,SAAS,EAAE,CAAC,QAAQ,MAAM,GAAG,CAAC,QAAQ,GAAG,MAAM,EAAE,SAAS,GAAG,QAAQ,EAAE,CAAC,CAAC;AACvG,IAAI;AACJ,IAAI,IAAI,IAAI,EAAE;AACd,QAAQ,IAAI,CAAC,GAAG,CAAC;AACjB,IAAI;AACJ,IAAI,IAAI,SAAS,IAAI,MAAM,EAAE;AAC7B;AACA;AACA;AACA;AACA,QAAQA,CAAO,CAAC,MAAM,EAAE,GAAG,CAAC;AAC5B,IAAI;AACJ,IAAI,OAAO,GAAG;AACd,CAAC;AACD,MAAM,OAAO,iBAAiB,IAAI,GAAG,EAAE;AAChC,MAAM,cAAc,GAAG,CAAC,MAAM,EAAE,OAAO,EAAE,OAAO,KAAK;AAC5D,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE;AAC9B,QAAQ,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC;AAC3B,QAAQ,SAAS,CAAC,SAAS,EAAE;AAC7B,YAAY,MAAM;AAClB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,SAAS,CAAC;AACV,IAAI;AACJ,CAAC;AACM,MAAM,SAAS,GAAG,CAAC,SAAS,EAAE,MAAM,KAAK;AAChD,IAAI,IAAI,CAAC,KAAK,IAAI,CAAC,gBAAgB,EAAE,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE;AACvE,QAAQ,QAAQ,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,SAAS,EAAE;AAC1D,YAAY,OAAO,EAAE,KAAK;AAC1B,YAAY,MAAM;AAClB,SAAS,CAAC,CAAC;AACX,IAAI;AACJ,CAAC;AACD,MAAM,GAAG,GAAG,MAAM;AAClB,IAAI,IAAI,KAAK,IAAI,gBAAgB,EAAE,EAAE;AACrC,QAAQ,OAAO,CAAC;AAChB,IAAI;AACJ,IAAI,IAAI,OAAO,WAAW,KAAK,QAAQ,EAAE;AACzC,QAAQ,OAAO,WAAW,CAAC,GAAG,EAAE;AAChC,IAAI;AACJ,IAAI,OAAO,CAAC;AACZ,CAAC;;ACvND,IAAI,eAAe,GAAG,CAAC;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,CAAC,GAAG,CAAC,UAAU,KAAK;AACjC,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,EAAE;AAC9B,QAAQ,MAAM,IAAI,KAAK,CAAC,sIAAsI,CAAC;AAC/J,IAAI;AACJ,IAAI,OAAO,SAAS,CAAC,IAAI,EAAE,GAAG,GAAG,eAAe,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;AACjF;AACA;AACO,MAAM,MAAM,GAAG,CAAC;AACvB;AACY,MAAC,QAAQ,GAAG,CAAC,GAAG,KAAK;AACjC,IAAI,OAAO,GAAG;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,KAAK,GAAG,CAAC,EAAE,KAAK;AAC7B,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,EAAE;AAC9B,QAAQ,MAAM,IAAI,KAAK,CAAC,8IAA8I,CAAC;AACvK,IAAI;AACJ,IAAI,IAAI,IAAI,EAAE;AACd;AACA;AACA,QAAQ,EAAE,GAAG,IAAI,QAAQ,CAAC,SAAS,GAAG,EAAE,CAAC,QAAQ,EAAE,CAAC,EAAE;AACtD,IAAI;AACJ,IAAI,OAAO,SAAS,CAAC,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,QAAQ,GAAG,UAAU,EAAE,EAAE,YAAY,EAAE;AACpD,IAAI,IAAI,YAAY,KAAK,SAAS,EAAE;AACpC,QAAQ,YAAY,GAAG,EAAE,CAAC,QAAQ,EAAE;AACpC,IAAI;AACJ,IAAI,EAAE,CAAC,UAAU,GAAG,YAAY;AAChC,IAAI,OAAO,SAAS,CAAC,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;AACxD;;AC7HA;AACY,MAAC,YAAY,GAAG,CAAC,YAAY,KAAK;AAC9C;AACA,IAAI,SAAS,aAAa,CAAC,KAAK,EAAE,GAAG,EAAE,KAAK,GAAG,CAAC,EAAE;AAClD,QAAQ,SAAS,CAAC,YAAY,CAAC;AAC/B,QAAQ,YAAY,CAAC,KAAK,EAAE,8CAA8C,CAAC;AAC3E,QAAQ,MAAM,IAAI,GAAG,KAAK,GAAG,IAAI,GAAG,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;AACnE,QAAQ,MAAM,QAAQ,GAAG,IAAI,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC;AACtD,QAAQ,MAAM,QAAQ,GAAG,MAAM,EAAE,CAAC;AAClC,QAAQ,QAAQ,CAAC,kBAAkB,CAAC,GAAG,CAAC,YAAY,CAAC;AACrD,QAAQ,OAAO,SAAS,CAAC,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,CAAC;AAChF,IAAI;AACJ,IAAI,aAAa,CAAC,kBAAkB,CAAC,GAAG,CAAC,YAAY,CAAC;AACtD,IAAI,OAAO,aAAa;AACxB;AACO,MAAM,kBAAkB,GAAG,MAAM,CAAC,mBAAmB,CAAC;AACtD,MAAM,eAAe,GAAG,CAAC,SAAS,KAAK;AAC9C,IAAI,OAAO,OAAO,SAAS,IAAI,UAAU,IAAI,SAAS,CAAC,kBAAkB,CAAC,KAAK,SAAS;AACxF,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,UAAU,GAAG,CAAC,OAAO,KAAK;AACvC,IAAI,OAAO,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;AACxC;;AC9EA;AACY,MAAC,MAAM,GAAG,iBAAiB,CAAC,QAAQ;;ACGhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,MAAM,GAAG,OAAO,MAAM,EAAE,OAAO,EAAE,IAAI,GAAG,EAAE,KAAK;AAC5D,IAAI,IAAI,UAAU,CAAC,MAAM,CAAC,EAAE;AAC5B,QAAQ,IAAI,KAAK,GAAG,MAAM,CAAC,UAAU;AACrC,QAAQ,OAAO,KAAK,IAAI,CAACT,WAAS,CAAC,KAAK,CAAC,EAAE;AAC3C,YAAY,KAAK,GAAG,KAAK,CAAC,WAAW;AACrC,QAAQ;AACR,QAAQ,MAAM,GAAG,KAAK;AACtB,IAAI;AACJ,IAAI,IAAI,IAAI,IAAI,MAAM,CAAC,YAAY,CAAC,cAAc,CAAC,EAAE;AACrD,QAAQ,MAAM,MAAM,CAAC,CAAC,iDAAiD,CAAC,MAAM,CAAC,CAAC;AAChF,IAAI;AACJ,IAAI,MAAM,CAAC,YAAY,CAAC,cAAc,EAAE,SAAS,+BAA+B;AAChF,IAAI,MAAM,SAAS,GAAG,eAAe,CAAC,MAAM,CAAC;AAC7C,IAAI,SAAS,CAAC,YAAY,GAAG,IAAI,CAAC,UAAU,IAAI,EAAE;AAClD,IAAI,MAAM,IAAI,GAAG,SAAS,CAAC,SAAS;AACpC,IAAI,SAAS,CAAC,WAAW,CAAC,CAAC,4BAA4B,IAAI,EAAE,IAAI,EAAE,OAAO,CAAC;AAC3E,IAAI,MAAM,SAAS,CAAC,WAAW,CAAC,GAAG,gCAAgC,CAAC,aAAa;AACjF,IAAI,OAAO;AACX,QAAQ,OAAO,EAAE,MAAM;AACvB,YAAY,OAAO,CAAC,SAAS,EAAE,SAAS,CAAC,SAAS,CAAC;AACnD,QAAQ,CAAC;AACT,KAAK;AACL;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,QAAQ,GAAG,CAAC,YAAY,EAAE,IAAI,KAAK;AAChD,IAAI,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,kBAAkB,EAAE;AACnD,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE;AACrB,QAAQ,OAAO,GAAG;AAClB,IAAI;AACJ,IAAI,MAAM,KAAK,GAAG,UAAU,CAAC,YAAY,CAAC,GAAG,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,GAAG,YAAY;AAC3F,IAAI,IAAI,IAAI,EAAE,QAAQ,KAAK,KAAK,EAAE;AAClC,QAAQ,GAAG,CAAC,KAAK,CAAC;AAClB,QAAQ,OAAO,KAAK;AACpB,IAAI;AACJ,SAAS;AACT,QAAQ,MAAM,cAAc,GAAG,IAAI,CAAC,WAAW;AAC/C,QAAQ,MAAM,SAAS,GAAG,IAAI,EAAE,IAAI,IAAI,IAAI;AAC5C,QAAQ,MAAM,KAAK,GAAG,SAAS,GAAG,CAAC,8BAA8B,CAAC;AAClE,QAAQ,MAAM,QAAQ,GAAG,gBAAgB,CAAC,KAAK,EAAE,KAAK,EAAE,cAAc,CAAC;AACvE,QAAQ,GAAG,CAAC,QAAQ,CAAC;AACrB,QAAQ,OAAO,QAAQ;AACvB,IAAI;AACJ;;ACtFO,MAAM,QAAQ,GAAG,CAAC,EAAE,KAAK;AAChC,IAAI,OAAO,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC;AAC1B,CAAC;AACM,MAAM,kBAAkB,GAAG,CAAC,SAAS,KAAK;AACjD,IAAI,OAAO,QAAQ,CAAC,SAAS,CAAC,iBAAiB,EAAE,CAAC;AAClD,CAAC;;ACDD;AACY,MAAC,KAAK,GAAG,MAAM;AAC3B,IAAI,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,kBAAkB,EAAE;AACnD,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE;AACrB,QAAQ,OAAO,GAAG;AAClB,IAAI;AACJ,IAAI,MAAM,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,IAAI,EAAE;AAC5D,IAAI,MAAM,IAAI,GAAG,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE;AAC7E,IAAI,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,EAAE,YAAY,CAAC;AACvF,IAAI,MAAM,IAAI,GAAG,YAAY,EAAE,OAAO,EAAE,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE;AAC9D,IAAI,MAAM,OAAO,GAAG,kBAAkB,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE;AAC9D,IAAI,IAAI,EAAE,GAAG,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC;AACvC,IAAI,IAAI,SAAS,GAAG,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC;AACpC;AACA,IAAI,IAAI,SAAS,IAAI,EAAE,YAAY,SAAS,IAAI,EAAE,UAAU;AAC5D;AACA;AACA,QAAQ,SAAS,IAAI,EAAE;AACvB,QAAQ,EAAE,GAAG,MAAM,CAAC,YAAY,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC;AAC7D,IAAI;AACJ,IAAI,OAAO,GAAG,CAAC,EAAE,CAAC;AAClB;;ACxBA;AACO,SAAS,aAAa,CAAC,GAAG,EAAE,YAAY,EAAE;AACjD,IAAI,MAAM,GAAG,GAAG,mBAAmB,EAAE;AACrC,IAAI,OAAO,GAAG,EAAE,WAAW,EAAE,YAAY,CAAC,GAAG,CAAC,IAAI,YAAY;AAC9D;;ACLA;AAKO,MAAM,WAAW,iBAAiB,IAAI,GAAG,EAAE;AAC3C,MAAM,eAAe,GAAG,CAAC,GAAG,EAAE,OAAO,KAAK;AACjD,IAAI,IAAI,IAAI,EAAE;AACd,QAAQ,OAAO,eAAe,CAAC,GAAG,EAAE,OAAO,CAAC;AAC5C,IAAI;AACJ,IAAI,IAAI,QAAQ,GAAG,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC;AAC3C,IAAI,IAAI,CAAC,QAAQ,EAAE;AACnB,QAAQ,WAAW,CAAC,GAAG,CAAC,OAAO,GAAG,QAAQ,GAAG,eAAe,CAAC,GAAG,EAAE,OAAO,CAAC,EAAE;AAC5E,IAAI;AACJ,IAAI,OAAO,QAAQ;AACnB,CAAC;AACM,MAAM,eAAe,GAAG,CAAC,GAAG,EAAE,OAAO,KAAK;AACjD,IAAI,MAAM,GAAG,GAAG,GAAG,CAAC,MAAM;AAC1B,IAAI,MAAM,GAAG,GAAG,EAAE;AAClB,IAAI,MAAM,KAAK,GAAG,EAAE;AACpB,IAAI,IAAI,GAAG,GAAG,CAAC;AACf,IAAI,IAAI,OAAO,GAAG,GAAG;AACrB,IAAI,IAAI,IAAI,GAAG,IAAI;AACnB,IAAI,IAAI,MAAM,GAAG,CAAC;AAElB,IAAI,OAAO,GAAG,GAAG,GAAG,EAAE;AAItB,QAAQ,MAAM,KAAK,GAAG,GAAG;AACzB,QAAQ,IAAI,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;AACtC,QAAQ,IAAI,EAAE,KAAK,SAAS,EAAE;AAC9B,YAAY,GAAG,EAAE;AACjB,YAAY,EAAE,GAAG,CAAC,CAAC;AACnB,QAAQ;AACR,QAAQ,MAAM,IAAI,GAAG,aAAa,CAAC,IAAI,CAAC;AACxC,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC9C,YAAY,MAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;AAC/B,YAAY,MAAM,CAAC,YAAY,EAAE,QAAQ,EAAE,OAAO,CAAC,GAAG,GAAG;AACzD,YAAY,IAAI,YAAY,KAAK,MAAM;AACvC,gBAAgB,YAAY,KAAK,GAAG;AACpC,iBAAiB,YAAY,KAAK,KAAK,IAAI,OAAO,CAAC,MAAM,CAAC,CAAC;AAC3D,iBAAiB,YAAY,KAAK,UAAU,IAAI,YAAY,CAAC,MAAM,CAAC,CAAC,EAAE;AACvE,gBAAgB,IAAI,QAAQ,KAAK,EAAE;AACnC,oBAAoB,QAAQ,KAAK,GAAG;AACpC,qBAAqB,QAAQ,KAAK,KAAK,IAAI,OAAO,CAAC,EAAE,CAAC,CAAC;AACvD,qBAAqB,QAAQ,KAAK,SAAS,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,EAAE,KAAK,GAAG,CAAC;AAC1E,qBAAqB,QAAQ,KAAK,UAAU,IAAI,YAAY,CAAC,EAAE,CAAC,CAAC,EAAE;AACnE,oBAAoB,IAAI,GAAG,CAAC,MAAM,IAAI,CAAC,IAAI,SAAS,CAAC,GAAG,CAAC,EAAE;AAC3D,wBAAwB,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;AAC5C;AACA,4BAA4B,EAAE,GAAG,GAAG,CAAC,UAAU,CAAC,GAAG,GAAG,CAAC,CAAC;AACxD,wBAAwB;AAGxB;AACA,wBAAwB,IAAI,OAAO,KAAK,IAAI,IAAI,OAAO,IAAI,iBAAiB,EAAE;AAC9E,4BAA4B,IAAI,OAAO,KAAK,iBAAiB,EAAE;AAC/D,gCAAgC,IAAI,IAAI,KAAK,YAAY,IAAI,CAAC,sBAAsB,EAAE,EAAE;AACxF;AACA,oCAAoC,IAAI,iBAAiB,CAAC,EAAE,CAAC,EAAE;AAC/D;AACA,wCAAwC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC;AACtD,oCAAoC;AACpC,yCAAyC;AACzC;AACA,wCAAwC,qBAAqB,CAAC,GAAG,GAAG,CAAC,CAAC;AACtE,oCAAoC;AACpC,oCAAoC,OAAO,EAAE;AAC7C,gCAAgC;AAChC,qCAAqC;AACrC,oCAAoC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,EAAE;AAChE;AACA,wCAAwC,MAAM,MAAM,GAAG,QAAQ,IAAI,SAAS,GAAG,CAAC,GAAG,QAAQ,IAAI,iBAAiB,GAAG,CAAC,GAAG,CAAC;AACxH,wCAAwC,qBAAqB,CAAC,GAAG,GAAG,MAAM,CAAC;AAC3E,oCAAoC;AACpC,gCAAgC;AAChC,4BAA4B;AAC5B,4BAA4B,IAAI,QAAQ,KAAK,SAAS,EAAE;AACxD;AACA;AACA;AACA,gCAAgC,GAAG,EAAE;AACrC,gCAAgC,EAAE,GAAG,MAAM;AAC3C,4BAA4B;AAC5B,4BAA4B,GAAG;AAC/B,gCAAgC,IAAI,GAAG,KAAK,CAAC,GAAG,EAAE,IAAI,IAAI;AAC1D,gCAAgC,IAAI,IAAI,KAAK,YAAY,EAAE;AAC3D;AACA,oCAAoC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC;AAClD,oCAAoC,OAAO,EAAE;AAC7C,gCAAgC;AAChC,4BAA4B,CAAC,QAAQ,iBAAiB,CAAC,IAAI,CAAC;AAC5D,wBAAwB;AACxB,6BAA6B;AAC7B,4BAA4B,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;AAC5C,4BAA4B,IAAI,IAAI,KAAK,YAAY,IAAI,OAAO,KAAK,IAAI,EAAE;AAC3E,gCAAgC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;AAC/C,gCAAgC,OAAO,GAAG,GAAG,CAAC;AAC9C,4BAA4B;AAC5B,iCAAiC,IAAI,OAAO,KAAK,aAAa,EAAE;AAChE;AACA,gCAAgC,qBAAqB,CAAC,KAAK,CAAC;AAC5D,4BAA4B;AAC5B,4BAA4B,IAAI,GAAG,OAAO;AAE1C,wBAAwB;AACxB,wBAAwB,MAAM;AAC9B,oBAAoB;AACpB,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,QAAQ,MAAM,GAAG,EAAE;AACnB,IAAI;AACJ,IAAI,KAAK,CAAC,GAAG,CAAC;AACd,IAAI,OAAO,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC;AACvB,IAAI,SAAS,KAAK,CAAC,GAAG,EAAE;AACxB,QAAQ,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;AAE7C,QAAQ,OAAO,GAAG,GAAG;AACrB,IAAI;AACJ,IAAI,SAAS,qBAAqB,CAAC,GAAG,EAAE;AACxC,QAAQ,IAAI,IAAI,KAAK,YAAY,IAAI,sBAAsB,EAAE,EAAE;AAC/D,YAAY;AACZ,QAAQ;AACR,QAAQ,KAAK,CAAC,GAAG,CAAC;AAClB,QAAQ,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,4BAA4B,EAAE,OAAO,CAAC;AAE5D,IAAI;AACJ,IAAI,SAAS,SAAS,CAAC,GAAG,EAAE;AAC5B,QAAQ,IAAI,MAAM,GAAG,CAAC,CAAC;AACvB,QAAQ,IAAI,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,IAAI,EAAE;AAC1C,YAAY,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE;AACzC;AACA,gBAAgB,IAAI,GAAG,CAAC,UAAU,CAAC,GAAG,GAAG,CAAC,CAAC,KAAK,IAAI,EAAE;AACtD,oBAAoB,MAAM,GAAG,CAAC,GAAG,CAAC;AAClC,oBAAoB;AACpB,gBAAgB;AAChB,YAAY;AACZ,QAAQ;AACR,QAAQ,KAAK,EAAE,KAAK,IAAI,OAAO,GAAG,CAAC,EAAE,OAAO,GAAG,GAAG,CAAC,MAAM,EAAE,OAAO,EAAE,EAAE;AACtE,YAAY,MAAM,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC;AACpC,YAAY,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACjD,gBAAgB,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,SAAS,MAAM,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;AAC1F,oBAAoB,SAAS,KAAK;AAClC,gBAAgB;AAChB,YAAY;AACZ;AACA,YAAY,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,MAAM;AACtC,YAAY,OAAO,IAAI;AACvB,QAAQ;AACR,QAAQ,OAAO,KAAK;AACpB,IAAI;AACJ,IAAI,SAAS,sBAAsB,GAAG;AACtC,QAAQ,OAAO,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,KAAK,EAAE;AACzF,IAAI;AACJ,CAAC;AACD,MAAM,OAAO,GAAG,CAAC,EAAE,KAAK;AACxB,IAAI,QAAQ,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;AACjC,SAAS,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AAC5B,SAAS,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AAC5B,QAAQ,EAAE,IAAI,IAAI;AAClB,QAAQ,EAAE,KAAK,UAAU;AACzB,QAAQ,EAAE,KAAK,IAAI;AACnB,CAAC;AACD,MAAM,iBAAiB,GAAG,CAAC,EAAE,KAAK;AAClC,IAAI,OAAO,EAAE,KAAK,KAAK,IAAI,EAAE,KAAK,GAAG,IAAI,EAAE,KAAK,YAAY,IAAI,EAAE,KAAK,IAAI,IAAI,OAAO,CAAC,EAAE,CAAC;AAC1F,CAAC;AACD,MAAM,iBAAiB,GAAG,CAAC,IAAI,KAAK;AACpC,IAAI,QAAQ,IAAI,KAAK,WAAW,IAAI,IAAI,KAAK,cAAc,IAAI,IAAI,KAAK,WAAW,IAAI,IAAI,KAAK,YAAY;AAC5G,CAAC;AACD,MAAM,YAAY,GAAG,CAAC,EAAE,KAAK;AAC7B,IAAI,OAAO,EAAE,KAAK,KAAK,IAAI,EAAE,KAAK,GAAG,IAAI,EAAE,KAAK,OAAO,IAAI,EAAE,KAAK,eAAe;AACjF,CAAC;AA2BD,MAAM,IAAI,GAAG,CAAC,CAAC;AACf,MAAM,sBAAsB,GAAG,CAAC,CAAC;AACjC,MAAM,YAAY,GAAG,CAAC,CAAC;AACvB,MAAM,uBAAuB,GAAG,CAAC,CAAC;AAClC,MAAM,WAAW,GAAG,CAAC,CAAC;AACtB,MAAM,YAAY,GAAG,CAAC,CAAC;AACvB,MAAM,aAAa,GAAG,CAAC,CAAC;AACxB,MAAM,YAAY,GAAG,CAAC,CAAC;AACvB,MAAM,gBAAgB,GAAG,CAAC,CAAC;AAC3B,MAAM,UAAU,GAAG,CAAC,CAAC;AACrB,MAAM,cAAc,GAAG,EAAE,CAAC;AAC1B,MAAM,WAAW,GAAG,EAAE,CAAC;AACvB,MAAM,WAAW,GAAG,EAAE,CAAC;AACvB,MAAM,IAAI,GAAG,EAAE,CAAC;AAChB,MAAM,YAAY,GAAG,EAAE,CAAC;AACxB,MAAM,YAAY,GAAG,EAAE,CAAC;AACxB,MAAM,gBAAgB,GAAG,EAAE,CAAC;AAC5B;AACA,MAAM,IAAI,GAAG,EAAE,CAAC;AAChB,MAAM,iBAAiB,GAAG,EAAE,CAAC;AAC7B,MAAM,GAAG,GAAG,CAAC;AACb,MAAM,KAAK,GAAG,CAAC;AACf,MAAM,SAAS,GAAG,CAAC;AACnB,MAAM,UAAU,GAAG,CAAC;AACpB,MAAM,GAAG,GAAG,CAAC,CAAC;AACd,MAAM,OAAO,GAAG,EAAE,CAAC;AACnB,MAAM,eAAe,GAAG,EAAE,CAAC;AAC3B,MAAM,KAAK,GAAG,EAAE,CAAC;AACjB,MAAM,YAAY,GAAG,EAAE,CAAC;AACxB,MAAM,IAAI,GAAG,EAAE,CAAC;AAChB,MAAM,YAAY,GAAG,EAAE,CAAC;AACxB,MAAM,gBAAgB,GAAG,EAAE,CAAC;AAC5B,MAAM,iBAAiB,GAAG,EAAE,CAAC;AAC7B,MAAM,IAAI,GAAG,EAAE,CAAC;AAChB;AACA,MAAM,IAAI,GAAG,EAAE,CAAC;AAChB,MAAM,GAAG,GAAG,EAAE,CAAC;AACf,MAAM,aAAa,GAAG,EAAE,CAAC;AACzB,MAAM,EAAE,GAAG,EAAE,CAAC;AACd,MAAM,EAAE,GAAG,EAAE,CAAC;AACd,MAAM,KAAK,GAAG,EAAE,CAAC;AACjB,MAAM,SAAS,GAAG,EAAE,CAAC;AACrB;AACA,MAAM,EAAE,GAAG,EAAE,CAAC;AACd,MAAM,CAAC,GAAG,EAAE,CAAC;AACb,MAAM,CAAC,GAAG,EAAE,CAAC;AACb,MAAM,YAAY,GAAG,EAAE,CAAC;AACxB,MAAM,aAAa,GAAG,EAAE,CAAC;AACzB,MAAM,SAAS,GAAG,EAAE,CAAC;AACrB,MAAM,UAAU,GAAG,EAAE,CAAC;AACtB,MAAM,SAAS,GAAG,IAAI,CAAC;AACvB,MAAM,CAAC,GAAG,EAAE,CAAC;AACb;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,CAAC,GAAG,GAAG,CAAC;AACd,MAAM,UAAU,GAAG,GAAG,CAAC;AACvB,MAAM,WAAW,GAAG,GAAG,CAAC;AACxB,MAAM,gBAAgB,gBAAgB,CAAC,MAAM;AAC7C,IAAI,CAAC,GAAG,EAAE,YAAY,EAAE,YAAY,CAAC;AACrC,IAAI,CAAC,GAAG,EAAE,YAAY,EAAE,YAAY,CAAC;AACrC,IAAI,CAAC,GAAG,EAAE,aAAa,EAAE,gBAAgB,EAAE,GAAG,CAAC;AAC/C,CAAC,GAAG;AACJ,MAAM,aAAa,gBAAgB,CAAC,MAAM;AAC1C,IAAI;AACJ;AACA,QAAQ,CAAC,GAAG,EAAE,IAAI,EAAE,YAAY,CAAC;AACjC,QAAQ,CAAC,GAAG,EAAE,YAAY,EAAE,YAAY,CAAC;AACzC,QAAQ,CAAC,GAAG,EAAE,KAAK,EAAE,aAAa,EAAE,GAAG,EAAE,QAAQ,EAAE,OAAO,EAAE,cAAc,EAAE,YAAY,CAAC;AACzF,QAAQ,CAAC,GAAG,EAAE,KAAK,EAAE,YAAY,EAAE,QAAQ,CAAC;AAC5C,QAAQ;AACR,YAAY,GAAG;AACf,YAAY,KAAK;AACjB,YAAY,uBAAuB;AACnC,YAAY,KAAK;AACjB,YAAY,cAAc;AAC1B,YAAY,KAAK;AACjB,YAAY,OAAO;AACnB,YAAY,IAAI;AAChB,YAAY,SAAS;AACrB,YAAY,KAAK;AACjB,SAAS;AACT,QAAQ,CAAC,GAAG,EAAE,KAAK,EAAE,WAAW,CAAC;AACjC,QAAQ,CAAC,GAAG,EAAE,KAAK,EAAE,sBAAsB,CAAC;AAC5C,QAAQ,CAAC,GAAG,EAAE,GAAG,EAAE,sBAAsB,CAAC;AAC1C,QAAQ,CAAC,GAAG,EAAE,IAAI,EAAE,sBAAsB,CAAC;AAC3C,QAAQ,CAAC,GAAG,EAAE,EAAE,EAAE,cAAc,EAAE,UAAU,CAAC;AAC7C,QAAQ,CAAC,GAAG,EAAE,EAAE,EAAE,WAAW,EAAE,OAAO,EAAE,UAAU,EAAE,WAAW,CAAC;AAChE,QAAQ,CAAC,GAAG,EAAE,EAAE,EAAE,WAAW,CAAC;AAC9B,QAAQ,CAAC,GAAG,EAAE,UAAU,EAAE,IAAI,CAAC;AAC/B,QAAQ,CAAC,aAAa,EAAE,IAAI,EAAE,gBAAgB,CAAC;AAC/C,QAAQ,CAAC,GAAG,EAAE,SAAS,EAAE,IAAI,CAAC;AAC9B,QAAQ,CAAC,GAAG,EAAE,WAAW,EAAE,IAAI,CAAC;AAChC,QAAQ,CAAC,GAAG,EAAE,iBAAiB,EAAE,IAAI,CAAC;AACtC,QAAQ,GAAG,gBAAgB;AAC3B,KAAK;AACL,IAAI;AACJ;AACA,QAAQ,CAAC,GAAG,EAAE,SAAS,EAAE,iBAAiB,CAAC;AAC3C,KAAK;AACL,IAAI;AACJ;AACA,QAAQ,CAAC,GAAG,EAAE,SAAS,EAAE,iBAAiB,CAAC;AAC3C,KAAK;AACL,IAAI;AACJ;AACA,QAAQ,CAAC,GAAG,EAAE,gBAAgB,EAAE,IAAI,CAAC;AACrC,QAAQ,CAAC,GAAG,EAAE,SAAS,EAAE,iBAAiB,CAAC;AAC3C,KAAK;AACL,IAAI;AACJ;AACA,QAAQ,CAAC,GAAG,EAAE,gBAAgB,EAAE,gBAAgB,CAAC;AACjD,QAAQ,CAAC,GAAG,EAAE,SAAS,EAAE,iBAAiB,CAAC;AAC3C,KAAK;AACL,IAAI;AACJ;AACA,QAAQ,CAAC,GAAG,EAAE,gBAAgB,EAAE,IAAI,CAAC;AACrC,QAAQ,CAAC,GAAG,EAAE,SAAS,EAAE,IAAI,CAAC;AAC9B,KAAK;AACL,IAAI;AACJ;AACA,QAAQ,CAAC,GAAG,EAAE,SAAS,EAAE,IAAI,CAAC;AAC9B,KAAK;AACL,IAAI;AACJ;AACA,QAAQ,CAAC,GAAG,EAAE,aAAa,EAAE,iBAAiB,CAAC;AAC/C,QAAQ,CAAC,GAAG,EAAE,YAAY,EAAE,YAAY,CAAC;AACzC,QAAQ,CAAC,GAAG,EAAE,YAAY,EAAE,YAAY,CAAC;AACzC,KAAK;AACL,IAAI;AACJ;AACA,QAAQ,CAAC,GAAG,EAAE,iBAAiB,EAAE,IAAI,CAAC;AACtC,QAAQ,GAAG,gBAAgB;AAC3B,KAAK;AACL,IAAI;AACJ;AACA,QAAQ,CAAC,GAAG,EAAE,WAAW,EAAE,IAAI,CAAC;AAChC,QAAQ,GAAG,gBAAgB;AAC3B,KAAK;AACL,IAAI;AACJ;AACA,QAAQ,CAAC,GAAG,EAAE,WAAW,EAAE,IAAI,CAAC;AAChC,QAAQ,CAAC,UAAU,EAAE,KAAK,EAAE,sBAAsB,CAAC;AACnD,QAAQ,CAAC,GAAG,EAAE,KAAK,EAAE,YAAY,EAAE,QAAQ,CAAC;AAC5C,QAAQ,CAAC,GAAG,EAAE,UAAU,EAAE,IAAI,CAAC;AAC/B,QAAQ,GAAG,gBAAgB;AAC3B,KAAK;AACL,IAAI;AACJ;AACA,QAAQ,CAAC,GAAG,EAAE,UAAU,EAAE,IAAI,CAAC;AAC/B,QAAQ,CAAC,GAAG,EAAE,SAAS,EAAE,IAAI,CAAC;AAC9B,QAAQ,GAAG,gBAAgB;AAC3B,KAAK;AACL,IAAI;AACJ;AACA,QAAQ,CAAC,GAAG,EAAE,SAAS,EAAE,IAAI,CAAC;AAC9B,QAAQ,CAAC,GAAG,EAAE,UAAU,EAAE,UAAU,CAAC;AACrC,QAAQ,GAAG,gBAAgB;AAC3B,KAAK;AACL,IAAI;AACJ;AACA,QAAQ,CAAC,GAAG,EAAE,WAAW,EAAE,IAAI,CAAC;AAChC,QAAQ,CAAC,GAAG,EAAE,UAAU,EAAE,IAAI,CAAC;AAC/B,QAAQ,CAAC,GAAG,EAAE,gBAAgB,EAAE,gBAAgB,CAAC;AACjD,QAAQ,GAAG,gBAAgB;AAC3B,KAAK;AACL,IAAI;AACJ;AACA,QAAQ,CAAC,GAAG,EAAE,YAAY,EAAE,IAAI,CAAC;AACjC,KAAK;AACL,IAAI;AACJ;AACA,QAAQ,CAAC,GAAG,EAAE,YAAY,EAAE,IAAI,CAAC;AACjC,KAAK;AACL,IAAI;AACJ;AACA,QAAQ,CAAC,IAAI,EAAE,aAAa,EAAE,IAAI,CAAC;AACnC,KAAK;AACL,CAAC,GAAG;;ACvXJ;AACY,MAAC,YAAY,GAAG,CAAC,MAAM,KAAK;AACxC,IAAI,OAAO;AACX,QAAQ,OAAO,EAAE,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,KAAK,GAAG,EAAE,KAAK,CAAC;AACxD,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,UAAU,iBAAiB,iBAAiB,CAAC,YAAY;AACtE;AACY,MAAC,kBAAkB,GAAG,CAAC,MAAM,KAAK;AAC9C,IAAI,OAAO;AACX,QAAQ,OAAO,EAAE,4BAA4B,GAAG,UAAU,CAAC,MAAM,EAAE,eAAe,EAAE,IAAI,CAAC;AACzF,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,gBAAgB,iBAAiB,iBAAiB,CAAC,kBAAkB;AAClF,MAAM,UAAU,GAAG,CAAC,QAAQ,EAAE,SAAS,EAAE,MAAM,KAAK;AACpD,IAAI,SAAS,CAAC,QAAQ,CAAC;AACvB,IAAI,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE,GAAG,kBAAkB,EAAE;AACtD,IAAI,IAAI,GAAG,EAAE;AACb,QAAQ,OAAO,GAAG;AAClB,IAAI;AACJ,IAAI,MAAM,OAAO,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC;AACzC,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,aAAa;AACnC,IAAI,GAAG,CAAC,OAAO,CAAC;AAChB,IAAI,IAAI,QAAQ,CAAC,QAAQ,EAAE;AAC3B,QAAQ,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,EAAE,OAAO,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC;AACpG,IAAI;AACJ,SAAS;AACT,QAAQ,MAAM;AACd,aAAa,OAAO;AACpB,aAAa,IAAI,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,EAAE,OAAO,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;AAC1G,IAAI;AACJ,IAAI,OAAO,OAAO;AAClB,CAAC;;ACjFD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,KAAK,GAAG,CAAC,KAAK,EAAE,QAAQ,KAAK;AAC1C,IAAI,MAAM,CAAC,KAAK,8BAA8B,KAAK,EAAE,QAAQ,CAAC;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,aAAa,GAAG,CAAC,KAAK,EAAE,QAAQ,KAAK;AAClD,IAAI,MAAM,CAAC,cAAc,oCAAoC,KAAK,EAAE,QAAQ,CAAC;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,WAAW,GAAG,CAAC,KAAK,EAAE,QAAQ,KAAK;AAChD,IAAI,MAAM,CAAC,YAAY,kCAAkC,KAAK,EAAE,QAAQ,CAAC;AACzE;AACA,MAAM,MAAM,GAAG,CAAC,MAAM,EAAE,SAAS,EAAE,QAAQ,KAAK;AAChD,IAAI,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,0BAA0B,EAAE;AAC9D,IAAI,IAAI,OAAO,EAAE;AACjB,QAAQ;AACR,IAAI;AACJ,IAAI,IAAI,QAAQ,EAAE;AAClB,QAAQ,IAAI,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;AACtC,YAAY,KAAK,MAAM,KAAK,IAAI,SAAS,EAAE;AAC3C,gBAAgB,QAAQ,CAAC,MAAM,GAAG,oBAAoB,CAAC,KAAK,CAAC,EAAE,QAAQ,CAAC;AACxE,YAAY;AACZ,QAAQ;AACR,aAAa;AACb,YAAY,QAAQ,CAAC,MAAM,GAAG,oBAAoB,CAAC,SAAS,CAAC,EAAE,QAAQ,CAAC;AACxE,QAAQ;AACR,IAAI;AACJ,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,0BAA0B,GAAG,MAAM;AACzC,IAAI,MAAM,IAAI,GAAG,gBAAgB,EAAE;AACnC,IAAI,MAAM,WAAW,GAAG,IAAI,CAAC,aAAa;AAC1C,IAAI,MAAM,IAAI,GAAG,WAAW;AAC5B,IAAI,IAAI,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,EAAE,YAAY,CAAC;AAChE,IAAI,IAAI,KAAK,KAAK,IAAI,EAAE;AACxB,QAAQ,KAAK,GAAG,EAAE;AAClB,QAAQ,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,EAAE,YAAY,EAAE,KAAK,CAAC;AAC/D,IAAI;AACJ,IAAI,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,EAAE,oBAAoB,CAAC;AACzE,IAAI,IAAI,MAAM,KAAK,IAAI,EAAE;AACzB,QAAQ,MAAM,GAAG,CAAC;AAClB,IAAI;AACJ,IAAI,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,EAAE,oBAAoB,EAAE,MAAM,GAAG,CAAC,CAAC;AACxE,IAAI,IAAI,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,EAAE,kBAAkB,CAAC;AAC3E,IAAI,IAAI,UAAU,KAAK,IAAI,EAAE;AAC7B,QAAQ,UAAU,GAAG,EAAE;AACvB,QAAQ,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,EAAE,kBAAkB,EAAE,UAAU,CAAC;AAC1E,IAAI;AACJ,IAAI,OAAO,UAAU,CAAC,MAAM,IAAI,MAAM,EAAE;AACxC,QAAQ,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC;AAC9B,IAAI;AACJ,IAAI,MAAM,QAAQ,GAAG,CAAC,SAAS,EAAE,QAAQ,KAAK;AAC9C,QAAQ,UAAU,CAAC,MAAM,CAAC,GAAG,IAAI;AACjC,QAAQ,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;AACrC,QAAQ,IAAI,CAAC,MAAM,EAAE;AACrB,YAAY,KAAK,CAAC,SAAS,CAAC,GAAG,MAAM,GAAG,EAAE;AAC1C,QAAQ;AACR,QAAQ,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;AAC7B,IAAI,CAAC;AACL,IAAI,OAAO;AACX,QAAQ,OAAO,EAAE,UAAU,CAAC,MAAM,CAAC;AACnC,QAAQ,QAAQ;AAChB,KAAK;AACL,CAAC;;AClJD;AACY,MAAC,SAAS,GAAG,CAAC,YAAY,KAAK;AAC3C,IAAI,OAAO,WAAW,CAAC,MAAM;AAC7B,QAAQ,MAAM,KAAK,GAAG,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,YAAY;AAC/E,cAAc,MAAM,CAAC,SAAS,EAAE,YAAY;AAC5C,cAAc,YAAY;AAC1B,QAAQ,OAAO,YAAY,CAAC,KAAK,CAAC;AAClC,IAAI,CAAC,CAAC;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,WAAW,GAAG,CAAC,KAAK,KAAK;AACtC,IAAI,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,kBAAkB,EAAE;AAC7C,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE;AACrB,QAAQ,OAAO,GAAG;AAClB,IAAI;AACJ;AACA,IAAI,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,GAAG,KAAK,EAAE,GAAG,KAAK;AAC1E,IAAI,OAAO,GAAG,CAAC,KAAK,CAAC;AACrB;;ACzBO,MAAM,iBAAiB,GAAG,CAAC,GAAG,EAAE,QAAQ,EAAE,OAAO,KAAK;AAC7D,IAAI,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,kBAAkB,EAAE;AAC7C,IAAI,IAAI,GAAG,EAAE;AACb,QAAQ,OAAO,GAAG;AAClB,IAAI;AACJ,IAAI,SAAS,CAAC,GAAG,CAAC;AAClB,IAAI,MAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,EAAE,OAAO,CAAC;AACzC,IAAI,GAAG,CAAC,MAAM,CAAC;AACf;AACA;AACA;AACA,IAAI,qBAAqB,CAAC,GAAG,CAAC;AAC9B,IAAI,OAAO,MAAM;AACjB,CAAC;AACD;AACY,MAAC,cAAc,GAAG,CAAC,GAAG,EAAE,OAAO,KAAK;AAChD,IAAI,OAAO,iBAAiB,CAAC,GAAG,EAAE,oBAAoB,EAAE,OAAO,CAAC;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,YAAY,GAAG,iBAAiB,CAAC,cAAc;;AC9B5D;AACY,MAAC,gBAAgB,GAAG,CAAC,GAAG,KAAK,iBAAiB,CAAC,GAAG,EAAE,sBAAsB;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,cAAc,GAAG,iBAAiB,CAAC,gBAAgB;;AC5DhE;AACY,MAAC,iBAAiB,GAAG,CAAC,GAAG,EAAE,IAAI,KAAK;AAChD,IAAI,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,GAAG,kBAAkB,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,IAAI,EAAE,QAAQ,IAAI,uBAAuB;AAC/D,IAAI,IAAI,GAAG,EAAE;AACb,QAAQ,IAAI,gBAAgB,EAAE,EAAE;AAChC,YAAY,UAAU,CAAC,GAAG,EAAE,SAAS,CAAC;AACtC,QAAQ;AACR,QAAQ;AACR,IAAI;AACJ,IAAI,SAAS,CAAC,GAAG,CAAC;AAClB,IAAI,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,+BAA+B,CAAC,EAAE,IAAI,CAAC,aAAa,EAAE,GAAG,EAAE,SAAS,EAAE,IAAI,CAAC;AACtG,IAAI,GAAG,CAAC,IAAI,CAAC;AACb,IAAI,UAAU,CAAC,IAAI,EAAE,SAAS,CAAC;AAC/B,IAAI,IAAI,CAAC,gBAAgB,EAAE,EAAE;AAC7B,QAAQ,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC;AACnC,QAAQ,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,EAAE,0BAA0B,IAAI,CAAC;AACtE,IAAI;AACJ;AACO,MAAM,UAAU,GAAG,CAAC,IAAI,EAAE,SAAS,KAAK;AAC/C,IAAI,IAAI,SAAS,KAAK,uBAAuB,EAAE;AAC/C,QAAQ,KAAK,CAAC,UAAU,EAAE,iBAAiB,CAAC,IAAI,CAAC,CAAC;AAClD,IAAI;AACJ,SAAS,IAAI,SAAS,KAAK,gBAAgB,EAAE;AAC7C,QAAQ,aAAa,CAAC,OAAO,EAAE,iBAAiB,CAAC,IAAI,CAAC,CAAC;AACvD,IAAI;AACJ,SAAS,IAAI,SAAS,KAAK,eAAe,EAAE;AAC5C,QAAQ,aAAa,CAAC,OAAO,EAAE,iBAAiB,CAAC,IAAI,CAAC,CAAC;AACvD,IAAI;AACJ,CAAC;AACD,MAAM,iBAAiB,GAAG,CAAC,IAAI,KAAK;AACpC,IAAI,OAAO,SAAS,CAAC,IAAI,EAAE,OAAO,EAAE,YAAY,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC;AACrE,CAAC;;ACpCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,YAAY,GAAG,CAAC,WAAW,EAAE,IAAI,KAAK;AACnD,IAAI,OAAO,cAAc,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,IAAI,CAAC;AACpD;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,QAAQ,iBAAiB,iBAAiB,CAAC,UAAU;;AC9DlE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,eAAe,iBAAiB,iBAAiB,CAAC,iBAAiB;;AC3BhF;AACY,MAAC,mBAAmB,GAAG,CAAC,GAAG,EAAE,OAAO,KAAK;AACrD,IAAI,OAAO,iBAAiB,CAAC,GAAG,EAAE,yBAAyB,EAAE,OAAO,CAAC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,iBAAiB,GAAG,iBAAiB,CAAC,mBAAmB;;ACdtE;AACY,MAAC,gBAAgB,GAAG,MAAM;AACtC,IAAI,MAAM,KAAK,GAAG,QAAQ,CAAC,EAAE,KAAK,EAAE,SAAS,EAAE,CAAC;AAChD,IAAI,kBAAkB,CAAC,aAAa,EAAE,KAAK,CAAC;AAC5C,IAAI,OAAO,KAAK;AAChB;;ACRA;AAGA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,qBAAqB,GAAG,CAAC,IAAI,KAAK;AAC/C,IAAI,MAAM,MAAM,GAAG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"}