"use strict";
Object.defineProperty(exports, Symbol.toStringTag, { value: "Module" });
const jsxRuntime = require("@builder.io/qwik/jsx-runtime");
const qwik = require("@builder.io/qwik");
const checklistContext = require("./checklist-context.qwik.cjs");
const checkboxRoot = require("../checkbox/checkbox-root.qwik.cjs");
const ChecklistSelectAll = qwik.component$((props) => {
  const context = qwik.useContext(checklistContext.ChecklistContext);
  const isInitiallySelected = context.initialStates.every(Boolean);
  const allSelected = qwik.useSignal(isInitiallySelected);
  const items = qwik.useSignal(context.items.value);
  const toggleAll = qwik.$(() => {
    const newState = !allSelected.value;
    allSelected.value = newState;
    items.value = items.value.map(() => newState);
    context.toggleAllSelected();
  });
  qwik.useTask$(({ track }) => {
    track(() => context.items.value);
  });
  return /* @__PURE__ */ jsxRuntime.jsx(checkboxRoot.CheckboxRoot, {
    as: "li",
    "bind:checked": allSelected,
    // @ts-expect-error annoying type issue
    onClick$: toggleAll,
    id: "selectAll",
    "data-qds-selectall": true,
    ...props,
    children: /* @__PURE__ */ jsxRuntime.jsx(qwik.Slot, {})
  });
});
exports.ChecklistSelectAll = ChecklistSelectAll;
