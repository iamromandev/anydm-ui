"use strict";
Object.defineProperty(exports, Symbol.toStringTag, { value: "Module" });
const jsxRuntime = require("@builder.io/qwik/jsx-runtime");
const qwik = require("@builder.io/qwik");
const inlineComponent = require("../../utils/inline-component.qwik.cjs");
const checklistContext = require("./checklist-context.qwik.cjs");
const checklistItem = require("./checklist-item.qwik.cjs");
const ChecklistRoot = (
  //removing component to make inline causes Internal Server
  ((props) => {
    const children = props.children;
    let currItemIndex = 0;
    const itemsMap = /* @__PURE__ */ new Map();
    inlineComponent.findComponent(checklistItem.ChecklistItem, (itemProps) => {
      itemProps._index = currItemIndex;
      itemsMap.set(currItemIndex, itemProps.disabled);
      currItemIndex++;
    });
    inlineComponent.processChildren(props.children);
    return /* @__PURE__ */ jsxRuntime.jsx("ul", {
      children: /* @__PURE__ */ jsxRuntime.jsx(ChecklistBase, {
        initialStates: props.initialStates,
        children
      })
    });
  })
);
const ChecklistBase = qwik.component$(({ initialStates, ...props }) => {
  const items = qwik.useSignal(initialStates ?? []);
  const allSelected = qwik.useSignal(false);
  const toggleAllSelected = qwik.$(() => {
    allSelected.value = !allSelected.value;
  });
  const indeterminate = qwik.useSignal(false);
  const context = {
    items,
    allSelected,
    toggleAllSelected,
    indeterminate,
    initialStates
  };
  qwik.useContextProvider(checklistContext.ChecklistContext, context);
  return /* @__PURE__ */ jsxRuntime.jsx("div", {
    ...props,
    children: /* @__PURE__ */ jsxRuntime.jsx(qwik.Slot, {})
  });
});
exports.ChecklistBase = ChecklistBase;
exports.ChecklistRoot = ChecklistRoot;
