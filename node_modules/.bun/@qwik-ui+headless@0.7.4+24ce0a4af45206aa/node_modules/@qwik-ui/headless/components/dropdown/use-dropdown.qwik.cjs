"use strict";
Object.defineProperty(exports, Symbol.toStringTag, { value: "Module" });
const qwik = require("@builder.io/qwik");
const dropdownContext = require("./dropdown-context.qwik.cjs");
function useDropdown() {
  const context = qwik.useContext(dropdownContext.dropdownContextId);
  const getNextEnabledItemIndex$ = qwik.$((index) => {
    let offset = 1;
    const len = context.itemsMapSig.value.size;
    if (!context.loop && index + 1 >= len) {
      return index;
    }
    while (offset < len) {
      const nextIndex = (index + offset) % len;
      if (!context.itemsMapSig.value.get(nextIndex)?.disabled) {
        return nextIndex;
      }
      offset++;
      if (!context.loop && index + offset >= len) {
        break;
      }
    }
    return index;
  });
  const getPrevEnabledItemIndex$ = qwik.$((index) => {
    let offset = 1;
    const len = context.itemsMapSig.value.size;
    if (!context.loop && index - 1 < 0) {
      return index;
    }
    while (offset <= len) {
      const prevIndex = (index - offset + len) % len;
      if (!context.itemsMapSig.value.get(prevIndex)?.disabled) {
        return prevIndex;
      }
      offset++;
      if (!context.loop && index - offset < 0) {
        break;
      }
    }
    return index;
  });
  return {
    getNextEnabledItemIndex$,
    getPrevEnabledItemIndex$
  };
}
exports.useDropdown = useDropdown;
