import { jsx } from "@builder.io/qwik/jsx-runtime";
import { HDropdownImpl } from "./dropdown-root.qwik.mjs";
import { HDropdownItem } from "./dropdown-item.qwik.mjs";
import { HDropdownRadioItem } from "./dropdown-radio-item.qwik.mjs";
import { HDropdownCheckboxItem } from "./dropdown-checkbox-item.qwik.mjs";
const HDropdownRoot = (props) => {
  const { children: myChildren, dropdownRadioItemComponent: UserRadioItem, dropdownItemComponent: UserItem, dropdownCheckboxItemComponent: UserCheckboxItem, ...rest } = props;
  const DropdownRadioItem = UserRadioItem ?? HDropdownRadioItem;
  const DropdownItem = UserItem ?? HDropdownItem;
  const DropdownCheckboxItem = UserCheckboxItem ?? HDropdownCheckboxItem;
  const itemsMap = /* @__PURE__ */ new Map();
  let currItemIndex = 0;
  let isItemDisabled = false;
  const childrenToProcess = Array.isArray(myChildren) ? [
    ...myChildren
  ] : [
    myChildren
  ];
  while (childrenToProcess.length) {
    const child = childrenToProcess.shift();
    if (!child) {
      continue;
    }
    if (Array.isArray(child)) {
      childrenToProcess.unshift(...child);
      continue;
    }
    switch (child.type) {
      case DropdownRadioItem:
      case DropdownCheckboxItem:
      case DropdownItem: {
        child.props._index = currItemIndex;
        isItemDisabled = child.props.disabled === true;
        itemsMap.set(currItemIndex, {
          value: child.props.value,
          disabled: isItemDisabled
        });
        currItemIndex++;
        break;
      }
      default: {
        if (child) {
          const anyChildren = Array.isArray(child.children) ? [
            ...child.children
          ] : [
            child.children
          ];
          childrenToProcess.unshift(...anyChildren);
        }
        break;
      }
    }
  }
  return /* @__PURE__ */ jsx(HDropdownImpl, {
    ...rest,
    _itemsMap: itemsMap,
    children: props.children
  });
};
export {
  HDropdownRoot
};
