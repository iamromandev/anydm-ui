"use strict";
Object.defineProperty(exports, Symbol.toStringTag, { value: "Module" });
const jsxRuntime = require("@builder.io/qwik/jsx-runtime");
const dropdownRoot = require("./dropdown-root.qwik.cjs");
const dropdownItem = require("./dropdown-item.qwik.cjs");
const dropdownRadioItem = require("./dropdown-radio-item.qwik.cjs");
const dropdownCheckboxItem = require("./dropdown-checkbox-item.qwik.cjs");
const HDropdownRoot = (props) => {
  const { children: myChildren, dropdownRadioItemComponent: UserRadioItem, dropdownItemComponent: UserItem, dropdownCheckboxItemComponent: UserCheckboxItem, ...rest } = props;
  const DropdownRadioItem = UserRadioItem ?? dropdownRadioItem.HDropdownRadioItem;
  const DropdownItem = UserItem ?? dropdownItem.HDropdownItem;
  const DropdownCheckboxItem = UserCheckboxItem ?? dropdownCheckboxItem.HDropdownCheckboxItem;
  const itemsMap = /* @__PURE__ */ new Map();
  let currItemIndex = 0;
  let isItemDisabled = false;
  const childrenToProcess = Array.isArray(myChildren) ? [
    ...myChildren
  ] : [
    myChildren
  ];
  while (childrenToProcess.length) {
    const child = childrenToProcess.shift();
    if (!child) {
      continue;
    }
    if (Array.isArray(child)) {
      childrenToProcess.unshift(...child);
      continue;
    }
    switch (child.type) {
      case DropdownRadioItem:
      case DropdownCheckboxItem:
      case DropdownItem: {
        child.props._index = currItemIndex;
        isItemDisabled = child.props.disabled === true;
        itemsMap.set(currItemIndex, {
          value: child.props.value,
          disabled: isItemDisabled
        });
        currItemIndex++;
        break;
      }
      default: {
        if (child) {
          const anyChildren = Array.isArray(child.children) ? [
            ...child.children
          ] : [
            child.children
          ];
          childrenToProcess.unshift(...anyChildren);
        }
        break;
      }
    }
  }
  return /* @__PURE__ */ jsxRuntime.jsx(dropdownRoot.HDropdownImpl, {
    ...rest,
    _itemsMap: itemsMap,
    children: props.children
  });
};
exports.HDropdownRoot = HDropdownRoot;
